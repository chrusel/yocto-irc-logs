<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Friday, 2014-05-16</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.11.0 by Marius Gedminas" />
  <meta name="version" content="2.11.0 - 2012-07-30" />
</head>
<body>
<h1>Friday, 2014-05-16</h1>
<div class="navigation"> <a href="%23yocto.2014-05-15.log.html">&#171; Thursday, 2014-05-15</a> <a href="index.html">Index</a> <a href="%23yocto.2014-05-17.log.html">Saturday, 2014-05-17 &#187;</a> </div>
<table class="irclog">
<tr id="t2014-05-16T00:08:05"><td class="other" colspan="2">-YoctoAutoBuilder- build #97 of nightly-mips is complete: Failure [failed BuildImages Running Sanity Tests BuildImages_1 Building Toolchain Images Building Toolchain Images_1 Publishing Artifacts]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-mips/builds/97" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-mips/builds/97</a></td><td><a href="#t2014-05-16T00:08:05" class="time">00:08</a></td></tr>
<tr id="t2014-05-16T00:31:18"><td class="other" colspan="2">-YoctoAutoBuilder- build #97 of nightly-x86-64-lsb is complete: Failure [failed BuildImages BuildImages_1]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-x86-64-lsb/builds/97" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-x86-64-lsb/builds/97</a></td><td><a href="#t2014-05-16T00:31:18" class="time">00:31</a></td></tr>
<tr id="t2014-05-16T00:32:25"><td class="other" colspan="2">-YoctoAutoBuilder- build #101 of nightly-x86-64 is complete: Failure [failed BuildImages Running Sanity Tests BuildImages_1 Building Toolchain Images Building Toolchain Images_1 Publishing Artifacts]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-x86-64/builds/101" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-x86-64/builds/101</a></td><td><a href="#t2014-05-16T00:32:25" class="time">00:32</a></td></tr>
<tr id="t2014-05-16T00:42:05"><td class="other" colspan="2">-YoctoAutoBuilder- build #96 of nightly-x86 is complete: Failure [failed BuildImages Running Sanity Tests BuildImages_1 Building Toolchain Images Building Toolchain Images_1 Publishing Artifacts]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-x86/builds/96" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-x86/builds/96</a></td><td><a href="#t2014-05-16T00:42:05" class="time">00:42</a></td></tr>
<tr id="t2014-05-16T00:42:39"><td class="other" colspan="2">-YoctoAutoBuilder- build #98 of nightly-ppc is complete: Failure [failed BuildImages Running Sanity Tests BuildImages_1 Building Toolchain Images Building Toolchain Images_1 Publishing Artifacts]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-ppc/builds/98" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-ppc/builds/98</a></td><td><a href="#t2014-05-16T00:42:39" class="time">00:42</a></td></tr>
<tr id="t2014-05-16T00:44:25"><td class="nickchange" colspan="2">*** radzy_away is now known as radzy</td><td><a href="#t2014-05-16T00:44:25" class="time">00:44</a></td></tr>
<tr id="t2014-05-16T00:45:34"><td class="other" colspan="2">-YoctoAutoBuilder- build #96 of minnow-lsb is complete: Failure [failed BuildImages]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/minnow-lsb/builds/96" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/minnow-lsb/builds/96</a></td><td><a href="#t2014-05-16T00:45:34" class="time">00:45</a></td></tr>
<tr id="t2014-05-16T00:57:03"><td class="nickchange" colspan="2">*** radzy is now known as radzy_away</td><td><a href="#t2014-05-16T00:57:03" class="time">00:57</a></td></tr>
<tr id="t2014-05-16T01:11:16"><td class="other" colspan="2">-YoctoAutoBuilder- build #98 of nightly-arm-lsb is complete: Failure [failed BuildImages BuildImages_1]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-arm-lsb/builds/98" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-arm-lsb/builds/98</a></td><td><a href="#t2014-05-16T01:11:16" class="time">01:11</a></td></tr>
<tr id="t2014-05-16T01:22:25"><td class="other" colspan="2">-YoctoAutoBuilder- build #95 of nightly-ppc-lsb is complete: Failure [failed BuildImages BuildImages_1]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-ppc-lsb/builds/95" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-ppc-lsb/builds/95</a></td><td><a href="#t2014-05-16T01:22:25" class="time">01:22</a></td></tr>
<tr id="t2014-05-16T01:30:07"><td class="nickchange" colspan="2">*** radzy_away is now known as radzy</td><td><a href="#t2014-05-16T01:30:07" class="time">01:30</a></td></tr>
<tr id="t2014-05-16T01:33:30"><td class="other" colspan="2">-YoctoAutoBuilder- build #97 of nightly-x86-lsb is complete: Failure [failed BuildImages BuildImages_1]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-x86-lsb/builds/97" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-x86-lsb/builds/97</a></td><td><a href="#t2014-05-16T01:33:30" class="time">01:33</a></td></tr>
<tr id="t2014-05-16T01:35:15"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">So, that turned out to be easy to find once I had the bogus directory permissions gone, I think.</td><td class="time"><a href="#t2014-05-16T01:35:15" class="time">01:35</a></td></tr>
<tr id="t2014-05-16T01:35:41"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">In populate_packages, there's a "for pkg in package_list" which us run with umask(0) because it doesn't want umask interfering with file operations...</td><td class="time"><a href="#t2014-05-16T01:35:41" class="time">01:35</a></td></tr>
<tr id="t2014-05-16T01:35:59"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">And the first thing it does is bb.utils.mkdirhier(root), where "root" is packages-split/packagename.</td><td class="time"><a href="#t2014-05-16T01:35:59" class="time">01:35</a></td></tr>
<tr id="t2014-05-16T01:36:59"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">I think bb.utils.mkdirhier() should take an optional mode, and if that's provided, pass it on to os.makedirs. And should perhaps default to 755 if none is provided.</td><td class="time"><a href="#t2014-05-16T01:36:59" class="time">01:36</a></td></tr>
<tr id="t2014-05-16T01:38:49"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">I also wonder if pseudo should perhaps silently mask *out* go=w from modes when calling real-chmod, at the same time that it's masking *in* u=rwx.</td><td class="time"><a href="#t2014-05-16T01:38:49" class="time">01:38</a></td></tr>
<tr id="t2014-05-16T01:49:15"><td class="other" colspan="2">-YoctoAutoBuilder- build #96 of nightly-qa-systemd is complete: Failure [failed BuildImages Running Sanity Tests]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-qa-systemd/builds/96" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-qa-systemd/builds/96</a></td><td><a href="#t2014-05-16T01:49:15" class="time">01:49</a></td></tr>
<tr id="t2014-05-16T01:55:54"><td class="other" colspan="2">-YoctoAutoBuilder- build #93 of nightly-mips-lsb is complete: Failure [failed BuildImages BuildImages_1]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-mips-lsb/builds/93" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-mips-lsb/builds/93</a></td><td><a href="#t2014-05-16T01:55:54" class="time">01:55</a></td></tr>
<tr id="t2014-05-16T02:05:14"><td class="nickchange" colspan="2">*** radzy is now known as radzy_away</td><td><a href="#t2014-05-16T02:05:14" class="time">02:05</a></td></tr>
<tr id="t2014-05-16T04:13:09"><td class="nickchange" colspan="2">*** mr_science_ is now known as mr_science</td><td><a href="#t2014-05-16T04:13:09" class="time">04:13</a></td></tr>
<tr id="t2014-05-16T06:09:56"><th class="nick" style="background: #42427e">mbelisko</th><td class="text" style="color: #42427e">hi guys, one question. I'm getting following erro during do_rootfs task: KeyError: "filename './control' not found"</td><td class="time"><a href="#t2014-05-16T06:09:56" class="time">06:09</a></td></tr>
<tr id="t2014-05-16T06:10:12"><th class="nick" style="background: #42427e">mbelisko</th><td class="text" style="color: #42427e">any ideas what to do next (rebuild, clean something)?</td><td class="time"><a href="#t2014-05-16T06:10:12" class="time">06:10</a></td></tr>
<tr id="t2014-05-16T07:00:04"><td class="nickchange" colspan="2">*** jbrianceau_away is now known as jbrianceau</td><td><a href="#t2014-05-16T07:00:04" class="time">07:00</a></td></tr>
<tr id="t2014-05-16T07:00:45"><th class="nick" style="background: #818144">kroon</th><td class="text" style="color: #818144">mbelisko, maybe post a little more context on pastebin ?</td><td class="time"><a href="#t2014-05-16T07:00:45" class="time">07:00</a></td></tr>
<tr id="t2014-05-16T07:13:42"><td class="nickchange" colspan="2">*** mckoan|away is now known as mckoan</td><td><a href="#t2014-05-16T07:13:42" class="time">07:13</a></td></tr>
<tr id="t2014-05-16T07:13:49"><th class="nick" style="background: #854685">mckoan</th><td class="text" style="color: #854685">good morning</td><td class="time"><a href="#t2014-05-16T07:13:49" class="time">07:13</a></td></tr>
<tr id="t2014-05-16T07:27:52"><td class="nickchange" colspan="2">*** florian_kc is now known as florian</td><td><a href="#t2014-05-16T07:27:52" class="time">07:27</a></td></tr>
<tr id="t2014-05-16T07:56:43"><th class="nick" style="background: #488888">LetoThe2nd</th><td class="text" style="color: #488888">just giving the autobuilder a first try, yocto-start-autobuilder runs into <a href="http://paste.ubuntu.com/7471774/" rel="nofollow">http://paste.ubuntu.com/7471774/</a></td><td class="time"><a href="#t2014-05-16T07:56:43" class="time">07:56</a></td></tr>
<tr id="t2014-05-16T07:56:50"><th class="nick" style="background: #488888">LetoThe2nd</th><td class="text" style="color: #488888">anybody seen that already?</td><td class="time"><a href="#t2014-05-16T07:56:50" class="time">07:56</a></td></tr>
<tr id="t2014-05-16T08:35:06"><th class="nick" style="background: #8c4a4a">bluelightning</th><td class="text" style="color: #8c4a4a">morning all</td><td class="time"><a href="#t2014-05-16T08:35:06" class="time">08:35</a></td></tr>
<tr id="t2014-05-16T08:35:26"><th class="nick" style="background: #488888">LetoThe2nd</th><td class="text" style="color: #488888">howdy bluelightning</td><td class="time"><a href="#t2014-05-16T08:35:26" class="time">08:35</a></td></tr>
<tr id="t2014-05-16T08:35:35"><th class="nick" style="background: #8c4a4a">bluelightning</th><td class="text" style="color: #8c4a4a">hey LetoThe2nd</td><td class="time"><a href="#t2014-05-16T08:35:35" class="time">08:35</a></td></tr>
<tr id="t2014-05-16T08:35:56"><th class="nick" style="background: #488888">LetoThe2nd</th><td class="text" style="color: #488888">bluelightning: aren't you also involved in the autobuilder a bit?</td><td class="time"><a href="#t2014-05-16T08:35:56" class="time">08:35</a></td></tr>
<tr id="t2014-05-16T08:36:27"><th class="nick" style="background: #854685">mckoan</th><td class="text" style="color: #854685">hi bluelightning, LetoThe2nd, all</td><td class="time"><a href="#t2014-05-16T08:36:27" class="time">08:36</a></td></tr>
<tr id="t2014-05-16T08:36:31"><th class="nick" style="background: #8c4a4a">bluelightning</th><td class="text" style="color: #8c4a4a">hi mckoan</td><td class="time"><a href="#t2014-05-16T08:36:31" class="time">08:36</a></td></tr>
<tr id="t2014-05-16T08:36:35"><th class="nick" style="background: #488888">LetoThe2nd</th><td class="text" style="color: #488888">howdy mckoan</td><td class="time"><a href="#t2014-05-16T08:36:35" class="time">08:36</a></td></tr>
<tr id="t2014-05-16T08:37:09"><th class="nick" style="background: #8c4a4a">bluelightning</th><td class="text" style="color: #8c4a4a">LetoThe2nd: not really directly, that's pidge's domain of expertise</td><td class="time"><a href="#t2014-05-16T08:37:09" class="time">08:37</a></td></tr>
<tr id="t2014-05-16T08:37:31"><th class="nick" style="background: #488888">LetoThe2nd</th><td class="text" style="color: #488888">bluelightning: yeah, for advanced stuff ;)</td><td class="time"><a href="#t2014-05-16T08:37:31" class="time">08:37</a></td></tr>
<tr id="t2014-05-16T08:38:15"><th class="nick" style="background: #488888">LetoThe2nd</th><td class="text" style="color: #488888">i'm just trying to ti give it a first try, clean git clone, source the setup file, and then yocto-start-autobuilder breaks with <a href="http://paste.ubuntu.com/7471774/" rel="nofollow">http://paste.ubuntu.com/7471774/</a></td><td class="time"><a href="#t2014-05-16T08:38:15" class="time">08:38</a></td></tr>
<tr id="t2014-05-16T08:38:58"><th class="nick" style="background: #488888">LetoThe2nd</th><td class="text" style="color: #488888">bluelightning: in case it rings a bell please scream, otherwise i'll wait for pidge to poke</td><td class="time"><a href="#t2014-05-16T08:38:58" class="time">08:38</a></td></tr>
<tr id="t2014-05-16T08:42:35"><th class="nick" style="background: #4b904b">Saur</th><td class="text" style="color: #4b904b">Which assumption is correct: "a recipe A that depends on another recipe B can use users/groups that B creates" or "all recipes must create the users/groups they require themselves"?</td><td class="time"><a href="#t2014-05-16T08:42:35" class="time">08:42</a></td></tr>
<tr id="t2014-05-16T09:57:34"><th class="nick" style="background: #4d4d93">csf</th><td class="text" style="color: #4d4d93">hi everyone, I am having trouble building yocto for the omap5 evm</td><td class="time"><a href="#t2014-05-16T09:57:34" class="time">09:57</a></td></tr>
<tr id="t2014-05-16T09:57:53"><th class="nick" style="background: #4d4d93">csf</th><td class="text" style="color: #4d4d93">I am trying to add the omap5-sgx package</td><td class="time"><a href="#t2014-05-16T09:57:53" class="time">09:57</a></td></tr>
<tr id="t2014-05-16T09:58:09"><th class="nick" style="background: #4d4d93">csf</th><td class="text" style="color: #4d4d93">but I am getting erros during build</td><td class="time"><a href="#t2014-05-16T09:58:09" class="time">09:58</a></td></tr>
<tr id="t2014-05-16T09:58:19"><th class="nick" style="background: #4d4d93">csf</th><td class="text" style="color: #4d4d93">error: file /usr/lib/libGLESv2.so.2 conflicts between attempted installs of omap5-sgx-ddk-um-linux-1.9.0.10-r1.armv7a_vfp_neon and libgles2-mesa-9.2.5-r0.armv7a_vfp_neon</td><td class="time"><a href="#t2014-05-16T09:58:19" class="time">09:58</a></td></tr>
<tr id="t2014-05-16T09:59:00"><th class="nick" style="background: #4d4d93">csf</th><td class="text" style="color: #4d4d93">anyone an idea how to tell bitbake to use only the omap5-sgx stuff instead of the mesa?</td><td class="time"><a href="#t2014-05-16T09:59:00" class="time">09:59</a></td></tr>
<tr id="t2014-05-16T10:07:29"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">use PREFERRED_PROVIDER</td><td class="time"><a href="#t2014-05-16T10:07:29" class="time">10:07</a></td></tr>
<tr id="t2014-05-16T10:07:37"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">is this your own bsp, or eg meta-ti?</td><td class="time"><a href="#t2014-05-16T10:07:37" class="time">10:07</a></td></tr>
<tr id="t2014-05-16T10:08:50"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">basically you need to set PREFERRED_PROVIDER_virtual/libgles2 to omap5-sgx, or whatever the recipe is calle</td><td class="time"><a href="#t2014-05-16T10:08:50" class="time">10:08</a></td></tr>
<tr id="t2014-05-16T10:08:53"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">called</td><td class="time"><a href="#t2014-05-16T10:08:53" class="time">10:08</a></td></tr>
<tr id="t2014-05-16T10:16:29"><th class="nick" style="background: #4d4d93">csf</th><td class="text" style="color: #4d4d93">meta-ti</td><td class="time"><a href="#t2014-05-16T10:16:29" class="time">10:16</a></td></tr>
<tr id="t2014-05-16T10:17:16"><th class="nick" style="background: #4d4d93">csf</th><td class="text" style="color: #4d4d93">I set PREFERRED_PROVIDER_virtual/libgles2 = "omap5-sgx-ddk-um-linux"</td><td class="time"><a href="#t2014-05-16T10:17:16" class="time">10:17</a></td></tr>
<tr id="t2014-05-16T10:17:23"><th class="nick" style="background: #4d4d93">csf</th><td class="text" style="color: #4d4d93">in conf/local.conf</td><td class="time"><a href="#t2014-05-16T10:17:23" class="time">10:17</a></td></tr>
<tr id="t2014-05-16T10:18:46"><th class="nick" style="background: #4d4d93">csf</th><td class="text" style="color: #4d4d93">could it be that there are some tmp files I need to delete?</td><td class="time"><a href="#t2014-05-16T10:18:46" class="time">10:18</a></td></tr>
<tr id="t2014-05-16T10:21:12"><td class="part" colspan="2">*** mulhern &lt;mulhern!~mulhern@50.189.153.218&gt; has left #yocto</td><td><a href="#t2014-05-16T10:21:12" class="time">10:21</a></td></tr>
<tr id="t2014-05-16T10:25:58"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">in this case tell meta-ti they've broken something</td><td class="time"><a href="#t2014-05-16T10:25:58" class="time">10:25</a></td></tr>
<tr id="t2014-05-16T10:26:10"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">you'll need to use the *recipe* name</td><td class="time"><a href="#t2014-05-16T10:26:10" class="time">10:26</a></td></tr>
<tr id="t2014-05-16T10:28:05"><th class="nick" style="background: #4d4d93">csf</th><td class="text" style="color: #4d4d93">which receipe name do you mean? is there one for libgles?</td><td class="time"><a href="#t2014-05-16T10:28:05" class="time">10:28</a></td></tr>
<tr id="t2014-05-16T10:35:31"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">the recipe that generates omap5-sgx-ddk-um-linux-1.9.0.10-r1.armv7a_vfp_neon</td><td class="time"><a href="#t2014-05-16T10:35:31" class="time">10:35</a></td></tr>
<tr id="t2014-05-16T10:36:48"><th class="nick" style="background: #4d4d93">csf</th><td class="text" style="color: #4d4d93">ok, will try that</td><td class="time"><a href="#t2014-05-16T10:36:48" class="time">10:36</a></td></tr>
<tr id="t2014-05-16T10:40:30"><th class="nick" style="background: #4d4d93">csf</th><td class="text" style="color: #4d4d93">is there a way to print all PREFERRED_PROVIDER ?</td><td class="time"><a href="#t2014-05-16T10:40:30" class="time">10:40</a></td></tr>
<tr id="t2014-05-16T10:41:15"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">grep will do it :)</td><td class="time"><a href="#t2014-05-16T10:41:15" class="time">10:41</a></td></tr>
<tr id="t2014-05-16T10:41:16"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">or bitbake -e</td><td class="time"><a href="#t2014-05-16T10:41:16" class="time">10:41</a></td></tr>
<tr id="t2014-05-16T10:42:18"><th class="nick" style="background: #4d4d93">csf</th><td class="text" style="color: #4d4d93">:) thanks i'm already greping the hell out of my ssd :)</td><td class="time"><a href="#t2014-05-16T10:42:18" class="time">10:42</a></td></tr>
<tr id="t2014-05-16T10:46:05"><td class="nickchange" colspan="2">*** mckoan is now known as mckoan|away</td><td><a href="#t2014-05-16T10:46:05" class="time">10:46</a></td></tr>
<tr id="t2014-05-16T10:52:17"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">default definition is in meta/, there should be another in meta-yi</td><td class="time"><a href="#t2014-05-16T10:52:17" class="time">10:52</a></td></tr>
<tr id="t2014-05-16T10:52:19"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">meta-ti</td><td class="time"><a href="#t2014-05-16T10:52:19" class="time">10:52</a></td></tr>
<tr id="t2014-05-16T11:21:38"><th class="nick" style="background: #4b904b">Saur</th><td class="text" style="color: #4b904b">Trying this again since I got no answer the first time. Which assumption is correct: "a recipe A that depends on another recipe B can use users/groups that B creates" or "all recipes must create the users/groups they require themselves"?</td><td class="time"><a href="#t2014-05-16T11:21:38" class="time">11:21</a></td></tr>
<tr id="t2014-05-16T11:34:06"><th class="nick" style="background: #9b519b">ant_work</th><td class="text" style="color: #9b519b">Saur: in my experience only a few programs/demons add specific users/groups</td><td class="time"><a href="#t2014-05-16T11:34:06" class="time">11:34</a></td></tr>
<tr id="t2014-05-16T11:34:35"><th class="nick" style="background: #9b519b">ant_work</th><td class="text" style="color: #9b519b">I can't imagine how to generalize</td><td class="time"><a href="#t2014-05-16T11:34:35" class="time">11:34</a></td></tr>
<tr id="t2014-05-16T11:37:51"><th class="nick" style="background: #4b904b">Saur</th><td class="text" style="color: #4b904b">ant_work: Well, the problem for us is that we have a lot of recipes that do. And if the first assumption is correct then the useradd.bbclass needs to be corrected so that it adds a dependency from do_install to base-passwd:do_populate_sysroot and base-passwd:do_populate_sysroot_setscene, because if either of those tasks execute they will overwrite /etc/passwd and /etc/group, effectively removing any users/groups that were created before...</td><td class="time"><a href="#t2014-05-16T11:37:51" class="time">11:37</a></td></tr>
<tr id="t2014-05-16T11:50:05"><th class="nick" style="background: #9b519b">ant_work</th><td class="text" style="color: #9b519b">Saur: I see, it is not obvious</td><td class="time"><a href="#t2014-05-16T11:50:05" class="time">11:50</a></td></tr>
<tr id="t2014-05-16T11:51:19"><th class="nick" style="background: #4b904b">Saur</th><td class="text" style="color: #4b904b">ant_work: Nope, I agree. On the other hand, if it is the second assumption that is correct, then there should be QA tests in place to make sure all recipes create the users/groups they use.</td><td class="time"><a href="#t2014-05-16T11:51:19" class="time">11:51</a></td></tr>
<tr id="t2014-05-16T11:51:50"><th class="nick" style="background: #9b519b">ant_work</th><td class="text" style="color: #9b519b">I think that any recipe should care itself</td><td class="time"><a href="#t2014-05-16T11:51:50" class="time">11:51</a></td></tr>
<tr id="t2014-05-16T11:52:24"><th class="nick" style="background: #9b519b">ant_work</th><td class="text" style="color: #9b519b">same in Gentoo: "..If your ebuild requires a user or group to be added for a daemon, for example, this should be performed via the functions available in user.eclass.."</td><td class="time"><a href="#t2014-05-16T11:52:24" class="time">11:52</a></td></tr>
<tr id="t2014-05-16T11:52:57"><th class="nick" style="background: #4b904b">Saur</th><td class="text" style="color: #4b904b">ant_work: I would prefer that as well. However, then you end up with the problem that the first recipe that creates a user "wins", which means that you must make sure that the user definition is exactly the same in all recipes...</td><td class="time"><a href="#t2014-05-16T11:52:57" class="time">11:52</a></td></tr>
<tr id="t2014-05-16T11:55:25"><th class="nick" style="background: #9b519b">ant_work</th><td class="text" style="color: #9b519b">Saur: see the interesting check done&nbsp;&nbsp;<a href="http://sources.gentoo.org/cgi-bin/viewvc.cgi/gentoo-x86/eclass/user.eclass?view=markup" rel="nofollow">http://sources.gentoo.org/cgi-bin/viewvc.cgi/gentoo-x86/eclass/user.eclass?view=markup</a></td><td class="time"><a href="#t2014-05-16T11:55:25" class="time">11:55</a></td></tr>
<tr id="t2014-05-16T11:55:54"><th class="nick" style="background: #9b519b">ant_work</th><td class="text" style="color: #9b519b">at first, check that we are in preinst/postinst</td><td class="time"><a href="#t2014-05-16T11:55:54" class="time">11:55</a></td></tr>
<tr id="t2014-05-16T12:05:24"><th class="nick" style="background: #9b519b">ant_work</th><td class="text" style="color: #9b519b">exactly that</td><td class="time"><a href="#t2014-05-16T12:05:24" class="time">12:05</a></td></tr>
<tr id="t2014-05-16T12:05:26"><th class="nick" style="background: #9b519b">ant_work</th><td class="text" style="color: #9b519b">if [ "${BB_CURRENTTASK}" = "populate_sysroot" -o "${BB_CURRENTTASK}" = "populate_sysroot_setscene" ]</td><td class="time"><a href="#t2014-05-16T12:05:26" class="time">12:05</a></td></tr>
<tr id="t2014-05-16T12:57:36"><th class="nick" style="background: #539e9e">simmel80___</th><td class="text" style="color: #539e9e">hi</td><td class="time"><a href="#t2014-05-16T12:57:36" class="time">12:57</a></td></tr>
<tr id="t2014-05-16T12:58:38"><th class="nick" style="background: #539e9e">simmel80___</th><td class="text" style="color: #539e9e">master-next, core-image-minimal build for imx6, libudev do_configure: "configure: error: "udev support requested but libudev not installed""</td><td class="time"><a href="#t2014-05-16T12:58:38" class="time">12:58</a></td></tr>
<tr id="t2014-05-16T12:59:02"><th class="nick" style="background: #539e9e">simmel80___</th><td class="text" style="color: #539e9e">but udev.inc:DEPENDS = "acl glib-2.0 libusb usbutils pciutils gperf-native libxslt-native util-linux"</td><td class="time"><a href="#t2014-05-16T12:59:02" class="time">12:59</a></td></tr>
<tr id="t2014-05-16T12:59:08"><th class="nick" style="background: #539e9e">simmel80___</th><td class="text" style="color: #539e9e">circular dependency?</td><td class="time"><a href="#t2014-05-16T12:59:08" class="time">12:59</a></td></tr>
<tr id="t2014-05-16T12:59:43"><th class="nick" style="background: #539e9e">simmel80___</th><td class="text" style="color: #539e9e">building libusb with --disable-udev works</td><td class="time"><a href="#t2014-05-16T12:59:43" class="time">12:59</a></td></tr>
<tr id="t2014-05-16T13:00:59"><th class="nick" style="background: #539e9e">simmel80___</th><td class="text" style="color: #539e9e">libusb was updated yesterday, libusb1: Update to 1.0.18</td><td class="time"><a href="#t2014-05-16T13:00:59" class="time">13:00</a></td></tr>
<tr id="t2014-05-16T13:25:10"><th class="nick" style="background: #818144">kroon</th><td class="text" style="color: #818144">simmel80___, <a href="http://lists.openembedded.org/pipermail/openembedded-core/2014-May/092651.html" rel="nofollow">http://lists.openembedded.org/pipermail/openembedded-core/2014-May/092651.html</a></td><td class="time"><a href="#t2014-05-16T13:25:10" class="time">13:25</a></td></tr>
<tr id="t2014-05-16T13:27:32"><th class="nick" style="background: #539e9e">simmel80___</th><td class="text" style="color: #539e9e">thanks, kroon</td><td class="time"><a href="#t2014-05-16T13:27:32" class="time">13:27</a></td></tr>
<tr id="t2014-05-16T13:33:03"><th class="nick" style="background: #539e9e">simmel80___</th><td class="text" style="color: #539e9e">kroon, i am not very experienced in yocto/OE, so cannot judge if it is right, but does it work around the circular dependency that i think there is, when udev is part of the build</td><td class="time"><a href="#t2014-05-16T13:33:03" class="time">13:33</a></td></tr>
<tr id="t2014-05-16T13:33:39"><th class="nick" style="background: #539e9e">simmel80___</th><td class="text" style="color: #539e9e">then udev depends on libusb, and libusb would try to build against libudev.h, or do i misunderstand?</td><td class="time"><a href="#t2014-05-16T13:33:39" class="time">13:33</a></td></tr>
<tr id="t2014-05-16T13:40:47"><th class="nick" style="background: #818144">kroon</th><td class="text" style="color: #818144">simmel80___, hmm good q.. I'm not sure about that problem. Target libusb1 build fine on my laptop, I only had a problem with nativesdk-libusb1</td><td class="time"><a href="#t2014-05-16T13:40:47" class="time">13:40</a></td></tr>
<tr id="t2014-05-16T13:43:26"><th class="nick" style="background: #539e9e">simmel80___</th><td class="text" style="color: #539e9e">kroon, for my case, target libusb1 failed to build, on "bitbake core-image-minimal", i did not try nativesdk</td><td class="time"><a href="#t2014-05-16T13:43:26" class="time">13:43</a></td></tr>
<tr id="t2014-05-16T13:50:26"><th class="nick" style="background: #539e9e">simmel80___</th><td class="text" style="color: #539e9e">kroon, and this was from scratch, i think it would maybe work if the udev would already have been built previously</td><td class="time"><a href="#t2014-05-16T13:50:26" class="time">13:50</a></td></tr>
<tr id="t2014-05-16T13:52:10"><th class="nick" style="background: #818144">kroon</th><td class="text" style="color: #818144">simmel80___, aha. yeah theres a difference, i did an incremental build, with the libusb1 update. on the other hand I dont see anyhing changed in the recipe with regards to DEPENDS</td><td class="time"><a href="#t2014-05-16T13:52:10" class="time">13:52</a></td></tr>
<tr id="t2014-05-16T13:52:56"><th class="nick" style="background: #539e9e">simmel80___</th><td class="text" style="color: #539e9e">my guess is that the source changed, to now depend on libudev.h by default</td><td class="time"><a href="#t2014-05-16T13:52:56" class="time">13:52</a></td></tr>
<tr id="t2014-05-16T13:53:25"><th class="nick" style="background: #818144">kroon</th><td class="text" style="color: #818144">yeah could be</td><td class="time"><a href="#t2014-05-16T13:53:25" class="time">13:53</a></td></tr>
<tr id="t2014-05-16T14:29:09"><td class="nickchange" colspan="2">*** radzy_away is now known as radzy</td><td><a href="#t2014-05-16T14:29:09" class="time">14:29</a></td></tr>
<tr id="t2014-05-16T15:46:02"><th class="nick" style="background: #a25555">kergoth</th><td class="text" style="color: #a25555">seebs: FYI, was getting XATTR_CREATE not defined building pseudo, seems like you need a #include &lt;linux/xattr.h&gt;</td><td class="time"><a href="#t2014-05-16T15:46:02" class="time">15:46</a></td></tr>
<tr id="t2014-05-16T15:46:44"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">i don't suppose anyone knows how to have a spec file without a source: in</td><td class="time"><a href="#t2014-05-16T15:46:44" class="time">15:46</a></td></tr>
<tr id="t2014-05-16T16:00:59"><th class="nick" style="background: #57a657">darknighte</th><td class="text" style="color: #57a657">arg.&nbsp;&nbsp;switched my emails on the mailing lists and managed to disable "receive emails"</td><td class="time"><a href="#t2014-05-16T16:00:59" class="time">16:00</a></td></tr>
<tr id="t2014-05-16T16:01:07"><th class="nick" style="background: #a25555">kergoth</th><td class="text" style="color: #a25555">heh, oops</td><td class="time"><a href="#t2014-05-16T16:01:07" class="time">16:01</a></td></tr>
<tr id="t2014-05-16T16:01:21"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">DarkKnight: but what a productive week!</td><td class="time"><a href="#t2014-05-16T16:01:21" class="time">16:01</a></td></tr>
<tr id="t2014-05-16T16:01:29"><th class="nick" style="background: #57a657">darknighte</th><td class="text" style="color: #57a657">yep.&nbsp;&nbsp;I knew my inbox was suspiciously empty.</td><td class="time"><a href="#t2014-05-16T16:01:29" class="time">16:01</a></td></tr>
<tr id="t2014-05-16T16:02:12"><th class="nick" style="background: #57a657">darknighte</th><td class="text" style="color: #57a657">rburton: hehe, there's more than one DarkKnight / darknighte hanging around here these days...</td><td class="time"><a href="#t2014-05-16T16:02:12" class="time">16:02</a></td></tr>
<tr id="t2014-05-16T16:02:14"><td class="other" colspan="2">-YoctoAutoBuilder- build #104 of eclipse-plugin-kepler is complete: Success [build successful]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/eclipse-plugin-kepler/builds/104" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/eclipse-plugin-kepler/builds/104</a></td><td><a href="#t2014-05-16T16:02:14" class="time">16:02</a></td></tr>
<tr id="t2014-05-16T16:02:31"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">oh damnit adium</td><td class="time"><a href="#t2014-05-16T16:02:31" class="time">16:02</a></td></tr>
<tr id="t2014-05-16T16:02:37"><td class="action" colspan="2">* darknighte wonders who that masked DarkKnight is</td><td><a href="#t2014-05-16T16:02:37" class="time">16:02</a></td></tr>
<tr id="t2014-05-16T16:03:16"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">DarkKnight: it's Evil Sean from the darkest timeline</td><td class="time"><a href="#t2014-05-16T16:03:16" class="time">16:03</a></td></tr>
<tr id="t2014-05-16T16:03:21"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">did it again!!</td><td class="time"><a href="#t2014-05-16T16:03:21" class="time">16:03</a></td></tr>
<tr id="t2014-05-16T16:03:34"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">adium's completion algorithm is actually malicious</td><td class="time"><a href="#t2014-05-16T16:03:34" class="time">16:03</a></td></tr>
<tr id="t2014-05-16T16:07:03"><th class="nick" style="background: #5959a9">denix</th><td class="text" style="color: #5959a9">darknighte: cloning yourself?</td><td class="time"><a href="#t2014-05-16T16:07:03" class="time">16:07</a></td></tr>
<tr id="t2014-05-16T16:26:37"><th class="nick" style="background: #adad5b">pidge</th><td class="text" style="color: #adad5b">LetoThe2nd: Hey, ab stuff. You pinged?</td><td class="time"><a href="#t2014-05-16T16:26:37" class="time">16:26</a></td></tr>
<tr id="t2014-05-16T16:27:23"><th class="nick" style="background: #488888">LetoThe2nd</th><td class="text" style="color: #488888">pidge: kind of. didn't want to poke you directly until i digged it a bit deeper. just asked paul as he joined the time i was stuck</td><td class="time"><a href="#t2014-05-16T16:27:23" class="time">16:27</a></td></tr>
<tr id="t2014-05-16T16:27:55"><th class="nick" style="background: #488888">LetoThe2nd</th><td class="text" style="color: #488888">pidge: turned out (just 5 minutes ago) that it was just missing dependencies that made it fail kind of ungracefully</td><td class="time"><a href="#t2014-05-16T16:27:55" class="time">16:27</a></td></tr>
<tr id="t2014-05-16T16:28:21"><th class="nick" style="background: #adad5b">pidge</th><td class="text" style="color: #adad5b">LetoThe2nd: which one?</td><td class="time"><a href="#t2014-05-16T16:28:21" class="time">16:28</a></td></tr>
<tr id="t2014-05-16T16:28:51"><th class="nick" style="background: #488888">LetoThe2nd</th><td class="text" style="color: #488888">pidge: about all of them. when trying such stuff i usually start with a clean slate machine, in this case ubuntu</td><td class="time"><a href="#t2014-05-16T16:28:51" class="time">16:28</a></td></tr>
<tr id="t2014-05-16T16:28:57"><th class="nick" style="background: #adad5b">pidge</th><td class="text" style="color: #adad5b">LetoThe2nd: In theory all the deps for the ab should be there. if they aren't, lemme know.</td><td class="time"><a href="#t2014-05-16T16:28:57" class="time">16:28</a></td></tr>
<tr id="t2014-05-16T16:29:13"><th class="nick" style="background: #adad5b">pidge</th><td class="text" style="color: #adad5b">oh, was this an oe dep?</td><td class="time"><a href="#t2014-05-16T16:29:13" class="time">16:29</a></td></tr>
<tr id="t2014-05-16T16:29:28"><th class="nick" style="background: #488888">LetoThe2nd</th><td class="text" style="color: #488888">pidge: then git pull, . ./yocto-autobuilder-setup, then ./yocto-start-autobuilder both</td><td class="time"><a href="#t2014-05-16T16:29:28" class="time">16:29</a></td></tr>
<tr id="t2014-05-16T16:30:27"><th class="nick" style="background: #488888">LetoThe2nd</th><td class="text" style="color: #488888">starting then breaks if the things needed for building are not installed, like make</td><td class="time"><a href="#t2014-05-16T16:30:27" class="time">16:30</a></td></tr>
<tr id="t2014-05-16T16:30:41"><th class="nick" style="background: #488888">LetoThe2nd</th><td class="text" style="color: #488888">pidge: check <a href="http://paste.ubuntu.com/7471774/" rel="nofollow">http://paste.ubuntu.com/7471774/</a></td><td class="time"><a href="#t2014-05-16T16:30:41" class="time">16:30</a></td></tr>
<tr id="t2014-05-16T16:31:31"><th class="nick" style="background: #adad5b">pidge</th><td class="text" style="color: #adad5b">LetoThe2nd: Ah, yeah. that is a dep generally satisfied by oe.</td><td class="time"><a href="#t2014-05-16T16:31:31" class="time">16:31</a></td></tr>
<tr id="t2014-05-16T16:32:02"><th class="nick" style="background: #adad5b">pidge</th><td class="text" style="color: #adad5b">LetoThe2nd: If you'd like to open up a bug that would help me.</td><td class="time"><a href="#t2014-05-16T16:32:02" class="time">16:32</a></td></tr>
<tr id="t2014-05-16T16:32:28"><th class="nick" style="background: #488888">LetoThe2nd</th><td class="text" style="color: #488888">pidge: sure, but i took the super dumbass approach and went like "hey, whatever it needs, it should be noted in the readme"</td><td class="time"><a href="#t2014-05-16T16:32:28" class="time">16:32</a></td></tr>
<tr id="t2014-05-16T16:33:03"><th class="nick" style="background: #488888">LetoThe2nd</th><td class="text" style="color: #488888">as there was nothing noted there, i thought "probably it starts, just won't do anything useful"</td><td class="time"><a href="#t2014-05-16T16:33:03" class="time">16:33</a></td></tr>
<tr id="t2014-05-16T16:33:12"><th class="nick" style="background: #488888">LetoThe2nd</th><td class="text" style="color: #488888">which it then didn't</td><td class="time"><a href="#t2014-05-16T16:33:12" class="time">16:33</a></td></tr>
<tr id="t2014-05-16T16:33:16"><th class="nick" style="background: #adad5b">pidge</th><td class="text" style="color: #adad5b">LetoThe2nd: Yeah, I think there are two bugs here. 1. A big more docs on deps. 2. Some better error condition handling</td><td class="time"><a href="#t2014-05-16T16:33:16" class="time">16:33</a></td></tr>
<tr id="t2014-05-16T16:33:44"><th class="nick" style="background: #488888">LetoThe2nd</th><td class="text" style="color: #488888">pidge: yeah, interpreting it that way is certainly right (no offense meant)</td><td class="time"><a href="#t2014-05-16T16:33:44" class="time">16:33</a></td></tr>
<tr id="t2014-05-16T16:33:50"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">Huh, I shouldn't need to include &lt;linux/xattr.h&gt;, because in general as I understand it user code shouldn't need to include linux/anything because kernel headers are mostly for kernel stuff.</td><td class="time"><a href="#t2014-05-16T16:33:50" class="time">16:33</a></td></tr>
<tr id="t2014-05-16T16:33:59"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">I will have to investigate more.</td><td class="time"><a href="#t2014-05-16T16:33:59" class="time">16:33</a></td></tr>
<tr id="t2014-05-16T16:35:11"><th class="nick" style="background: #adad5b">pidge</th><td class="text" style="color: #adad5b">LetoThe2nd: none taken at all. The ab rewrite is relatively new (just over 16 months). There's still a bit of spit and polish that's needed around docs/dev experience.</td><td class="time"><a href="#t2014-05-16T16:35:11" class="time">16:35</a></td></tr>
<tr id="t2014-05-16T16:36:56"><th class="nick" style="background: #488888">LetoThe2nd</th><td class="text" style="color: #488888">pidge: i see! well i got it basically working right now and will dig a bit to find out whats really the needed stuff for reproducing an AB machine. if you're interested i can file some ideas for docs as a bug or send them to you</td><td class="time"><a href="#t2014-05-16T16:36:56" class="time">16:36</a></td></tr>
<tr id="t2014-05-16T16:37:24"><th class="nick" style="background: #adad5b">pidge</th><td class="text" style="color: #adad5b">LetoThe2nd: No, sure, file away.</td><td class="time"><a href="#t2014-05-16T16:37:24" class="time">16:37</a></td></tr>
<tr id="t2014-05-16T16:38:04"><th class="nick" style="background: #488888">LetoThe2nd</th><td class="text" style="color: #488888">pidge: will do once i carved out what was just cargo cult and what was actually needed :)</td><td class="time"><a href="#t2014-05-16T16:38:04" class="time">16:38</a></td></tr>
<tr id="t2014-05-16T16:38:47"><td class="nickchange" colspan="2">*** jbrianceau is now known as jbrianceau_away</td><td><a href="#t2014-05-16T16:38:47" class="time">16:38</a></td></tr>
<tr id="t2014-05-16T16:39:30"><th class="nick" style="background: #adad5b">pidge</th><td class="text" style="color: #adad5b">LetoThe2nd: Yeah, it's sometimes difficult finding holes as it's kind of surprising the different ways people use it.</td><td class="time"><a href="#t2014-05-16T16:39:30" class="time">16:39</a></td></tr>
<tr id="t2014-05-16T16:40:23"><th class="nick" style="background: #488888">LetoThe2nd</th><td class="text" style="color: #488888">pidge: hehe i guess i'm the super trivial use case. box sitting in a corned producing root fs and sdks when needed for coworkers nothing more.</td><td class="time"><a href="#t2014-05-16T16:40:23" class="time">16:40</a></td></tr>
<tr id="t2014-05-16T16:40:31"><th class="nick" style="background: #488888">LetoThe2nd</th><td class="text" style="color: #488888">s/corned/corner</td><td class="time"><a href="#t2014-05-16T16:40:31" class="time">16:40</a></td></tr>
<tr id="t2014-05-16T16:40:51"><th class="nick" style="background: #adad5b">pidge</th><td class="text" style="color: #adad5b">LetoThe2nd: Nah, no such thing as a trivial use case.</td><td class="time"><a href="#t2014-05-16T16:40:51" class="time">16:40</a></td></tr>
<tr id="t2014-05-16T16:41:28"><th class="nick" style="background: #488888">LetoThe2nd</th><td class="text" style="color: #488888">pidge: too bad, i like being trivial</td><td class="time"><a href="#t2014-05-16T16:41:28" class="time">16:41</a></td></tr>
<tr id="t2014-05-16T16:43:53"><td class="other" colspan="2">-YoctoAutoBuilder- build #101 of nightly-oecore is complete: Failure [failed BuildImages Running Sanity Tests Building Toolchain Images Building Toolchain Images_1]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-oecore/builds/101" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-oecore/builds/101</a></td><td><a href="#t2014-05-16T16:43:53" class="time">16:43</a></td></tr>
<tr id="t2014-05-16T16:45:43"><th class="nick" style="background: #488888">LetoThe2nd</th><td class="text" style="color: #488888">pidge: kicked off first build, seems to be working :) thanks for repsonding, i'll let you know when i have something worthwhile reading/discussing :)</td><td class="time"><a href="#t2014-05-16T16:45:43" class="time">16:45</a></td></tr>
<tr id="t2014-05-16T16:46:00"><th class="nick" style="background: #adad5b">pidge</th><td class="text" style="color: #adad5b">LetoThe2nd: kewl.</td><td class="time"><a href="#t2014-05-16T16:46:00" class="time">16:46</a></td></tr>
<tr id="t2014-05-16T16:46:41"><th class="nick" style="background: #488888">LetoThe2nd</th><td class="text" style="color: #488888">remember to have a nice weeked so far ;)</td><td class="time"><a href="#t2014-05-16T16:46:41" class="time">16:46</a></td></tr>
<tr id="t2014-05-16T17:15:57"><th class="nick" style="background: #b15db1">Xooch</th><td class="text" style="color: #b15db1">Hello. Guess I'll just simply ask my question :)&nbsp;&nbsp;I've built an image with Yocto, but I've closed my terminal. When I open a new terminal, what do I need to run to set up everything correctly? bitbake is not in my path, although it was when I created my first image.</td><td class="time"><a href="#t2014-05-16T17:15:57" class="time">17:15</a></td></tr>
<tr id="t2014-05-16T17:16:02"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">So it took all of yesterday, but I can now explain why packages-split might have any of the following modes: 777, 755, 775, 700.</td><td class="time"><a href="#t2014-05-16T17:16:02" class="time">17:16</a></td></tr>
<tr id="t2014-05-16T17:16:45"><th class="nick" style="background: #adad5b">pidge</th><td class="text" style="color: #adad5b">Xooch: You'll need to . ./oe-init-build-env again</td><td class="time"><a href="#t2014-05-16T17:16:45" class="time">17:16</a></td></tr>
<tr id="t2014-05-16T17:16:58"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">Xooch: I don't know off the top of my head, but in case you aren't aware, you may sometimes need to hang around for a few hours before answers show up. Unless pidge is around.</td><td class="time"><a href="#t2014-05-16T17:16:58" class="time">17:16</a></td></tr>
<tr id="t2014-05-16T17:17:13"><th class="nick" style="background: #b15db1">Xooch</th><td class="text" style="color: #b15db1">I thought so, but was a bit afraid that might "do more", since it created some directory structures and such.</td><td class="time"><a href="#t2014-05-16T17:17:13" class="time">17:17</a></td></tr>
<tr id="t2014-05-16T17:17:39"><th class="nick" style="background: #adad5b">pidge</th><td class="text" style="color: #adad5b">Xooch: Nah, it only does that if they don't exist the first time around.</td><td class="time"><a href="#t2014-05-16T17:17:39" class="time">17:17</a></td></tr>
<tr id="t2014-05-16T17:17:42"><th class="nick" style="background: #b15db1">Xooch</th><td class="text" style="color: #b15db1">seebs - yeah, I figured that might be the case, but it appears I got lucky today!</td><td class="time"><a href="#t2014-05-16T17:17:42" class="time">17:17</a></td></tr>
<tr id="t2014-05-16T17:17:58"><th class="nick" style="background: #b15db1">Xooch</th><td class="text" style="color: #b15db1">Thanks for the help.</td><td class="time"><a href="#t2014-05-16T17:17:58" class="time">17:17</a></td></tr>
<tr id="t2014-05-16T17:18:04"><th class="nick" style="background: #adad5b">pidge</th><td class="text" style="color: #adad5b">Xooch: np.</td><td class="time"><a href="#t2014-05-16T17:18:04" class="time">17:18</a></td></tr>
<tr id="t2014-05-16T17:18:23"><th class="nick" style="background: #adad5b">pidge</th><td class="text" style="color: #adad5b">seebs: I'm almost never around :P</td><td class="time"><a href="#t2014-05-16T17:18:23" class="time">17:18</a></td></tr>
<tr id="t2014-05-16T17:18:40"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">seebs: you can't leave that hanging!</td><td class="time"><a href="#t2014-05-16T17:18:40" class="time">17:18</a></td></tr>
<tr id="t2014-05-16T17:20:00"><th class="nick" style="background: #b15db1">Xooch</th><td class="text" style="color: #b15db1">I think I left too early. running ". oe-layertool-setup.sh" closes my terminal!</td><td class="time"><a href="#t2014-05-16T17:20:00" class="time">17:20</a></td></tr>
<tr id="t2014-05-16T17:20:15"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">Huh, that's odd.</td><td class="time"><a href="#t2014-05-16T17:20:15" class="time">17:20</a></td></tr>
<tr id="t2014-05-16T17:20:29"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">My suggestion:</td><td class="time"><a href="#t2014-05-16T17:20:29" class="time">17:20</a></td></tr>
<tr id="t2014-05-16T17:20:32"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">$ sh -x</td><td class="time"><a href="#t2014-05-16T17:20:32" class="time">17:20</a></td></tr>
<tr id="t2014-05-16T17:20:37"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">$ . ./oe-layertool-setup.sh</td><td class="time"><a href="#t2014-05-16T17:20:37" class="time">17:20</a></td></tr>
<tr id="t2014-05-16T17:20:43"><th class="nick" style="background: #b15db1">Xooch</th><td class="text" style="color: #b15db1">I don't think I'm current with the new release. I didn't start with poky, but with something from TI, and I think I'm on "dylan" if that makes any difference.</td><td class="time"><a href="#t2014-05-16T17:20:43" class="time">17:20</a></td></tr>
<tr id="t2014-05-16T17:20:47"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">then if that exits, you'll see what it executed.</td><td class="time"><a href="#t2014-05-16T17:20:47" class="time">17:20</a></td></tr>
<tr id="t2014-05-16T17:21:05"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">rburton: You would be amazed at what I can forget I started to talk about when I'm doing something else while chatting. :P</td><td class="time"><a href="#t2014-05-16T17:21:05" class="time">17:21</a></td></tr>
<tr id="t2014-05-16T17:21:24"><th class="nick" style="background: #b15db1">Xooch</th><td class="text" style="color: #b15db1">Still closes that terminal.</td><td class="time"><a href="#t2014-05-16T17:21:24" class="time">17:21</a></td></tr>
<tr id="t2014-05-16T17:21:31"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">... That's very odd indeed.</td><td class="time"><a href="#t2014-05-16T17:21:31" class="time">17:21</a></td></tr>
<tr id="t2014-05-16T17:21:38"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">Because it shouldn't be able to close the parent shell.</td><td class="time"><a href="#t2014-05-16T17:21:38" class="time">17:21</a></td></tr>
<tr id="t2014-05-16T17:21:54"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">Hmm. What if you ssh in to localhost and run it there?</td><td class="time"><a href="#t2014-05-16T17:21:54" class="time">17:21</a></td></tr>
<tr id="t2014-05-16T17:22:01"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">Then it shouldn't have any clue about the terminal.</td><td class="time"><a href="#t2014-05-16T17:22:01" class="time">17:22</a></td></tr>
<tr id="t2014-05-16T17:22:08"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">wait</td><td class="time"><a href="#t2014-05-16T17:22:08" class="time">17:22</a></td></tr>
<tr id="t2014-05-16T17:22:25"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">"oe-layertool-setup.sh"? Shouldn't it be "oe-init-build-env"?</td><td class="time"><a href="#t2014-05-16T17:22:25" class="time">17:22</a></td></tr>
<tr id="t2014-05-16T17:22:36"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">Okay, so, packages-split modes.</td><td class="time"><a href="#t2014-05-16T17:22:36" class="time">17:22</a></td></tr>
<tr id="t2014-05-16T17:22:42"><th class="nick" style="background: #b15db1">Xooch</th><td class="text" style="color: #b15db1">Good idea. It says "ERROR: You must either use this script with the -i or -f options", prints usage, then closes the ssh connection.</td><td class="time"><a href="#t2014-05-16T17:22:42" class="time">17:22</a></td></tr>
<tr id="t2014-05-16T17:22:55"><th class="nick" style="background: #b15db1">Xooch</th><td class="text" style="color: #b15db1">oooo....</td><td class="time"><a href="#t2014-05-16T17:22:55" class="time">17:22</a></td></tr>
<tr id="t2014-05-16T17:23:01"><th class="nick" style="background: #adad5b">pidge</th><td class="text" style="color: #adad5b">Xooch: Yeah, is this a different thing you're trying to do?</td><td class="time"><a href="#t2014-05-16T17:23:01" class="time">17:23</a></td></tr>
<tr id="t2014-05-16T17:23:10"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">Yeah, I think layertool-setup.sh is the wrong thing, it's a command you'd invoke, not a thing to source into a shell to get your environment set up.</td><td class="time"><a href="#t2014-05-16T17:23:10" class="time">17:23</a></td></tr>
<tr id="t2014-05-16T17:23:45"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">populate_packages() calls umask(0) before iterating through making the directories for each package. It then uses bb.utils.mkdirhier() to make .../packages-split/pkgname.</td><td class="time"><a href="#t2014-05-16T17:23:45" class="time">17:23</a></td></tr>
<tr id="t2014-05-16T17:24:05"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">This creates packages-split with mode 777 if it did not already exist. And unfortunately, it does this BEFORE trying to make packages-split with a reasonable mode.</td><td class="time"><a href="#t2014-05-16T17:24:05" class="time">17:24</a></td></tr>
<tr id="t2014-05-16T17:24:15"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">So it is fairly common for packages-split to end up with mode 777.</td><td class="time"><a href="#t2014-05-16T17:24:15" class="time">17:24</a></td></tr>
<tr id="t2014-05-16T17:24:51"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">There is another path through this, which I'm not sure where it is but I found it once, which ends up running similar stuff only with umask 2; you can find this by looking for a warning note about running something with umask 002.</td><td class="time"><a href="#t2014-05-16T17:24:51" class="time">17:24</a></td></tr>
<tr id="t2014-05-16T17:25:00"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">That gets you the 777 and 775 cases.</td><td class="time"><a href="#t2014-05-16T17:25:00" class="time">17:25</a></td></tr>
<tr id="t2014-05-16T17:25:33"><td class="action" colspan="2">* kergoth chuckles</td><td><a href="#t2014-05-16T17:25:33" class="time">17:25</a></td></tr>
<tr id="t2014-05-16T17:25:38"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">755 appears to come from processing this with your regular 022 umask, or possibly unpacking an archive which includes that directory when you're not running under pseudo.</td><td class="time"><a href="#t2014-05-16T17:25:38" class="time">17:25</a></td></tr>
<tr id="t2014-05-16T17:25:42"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">700. Well.</td><td class="time"><a href="#t2014-05-16T17:25:42" class="time">17:25</a></td></tr>
<tr id="t2014-05-16T17:25:50"><th class="nick" style="background: #a25555">kergoth</th><td class="text" style="color: #a25555">i agree it would be a good idea to add a mode argument for mkdirhier :)</td><td class="time"><a href="#t2014-05-16T17:25:50" class="time">17:25</a></td></tr>
<tr id="t2014-05-16T17:25:58"><th class="nick" style="background: #b15db1">Xooch</th><td class="text" style="color: #b15db1">you're right, wrong script. The correct one is in sources/oe-core/oe-init-build-env it appears. I ran this from the top level dir and from the build directory, but I get an error about /home/steve/src/tisdk/sources/oe-core/bitbake not existing... Which directory should I be in to run it?</td><td class="time"><a href="#t2014-05-16T17:25:58" class="time">17:25</a></td></tr>
<tr id="t2014-05-16T17:26:22"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">If GNU tar thinks you're root, instead of creating directories with their desired mode, it creates them with mode 700, then does a delayed set of the file permissions.</td><td class="time"><a href="#t2014-05-16T17:26:22" class="time">17:26</a></td></tr>
<tr id="t2014-05-16T17:26:31"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">The delayed set goes through and eventually calls fchmodat().</td><td class="time"><a href="#t2014-05-16T17:26:31" class="time">17:26</a></td></tr>
<tr id="t2014-05-16T17:27:06"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">There's a comment in the code, though, pointing out that Linux will always reject fchmodat(..., AT_SYMLINK_NOFOLLOW). So if the initial call fails with errno = ENOTSUP, it then tries again.</td><td class="time"><a href="#t2014-05-16T17:27:06" class="time">17:27</a></td></tr>
<tr id="t2014-05-16T17:27:34"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">Problem is: pseudo naively passes on the original fchmodat() arguments to the kernel, then discards any reported failures in case you were doing something like setting setuid bits, which pseudo wants you to think you could do.</td><td class="time"><a href="#t2014-05-16T17:27:34" class="time">17:27</a></td></tr>
<tr id="t2014-05-16T17:28:03"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">So the fchmodat(..., AT_SYMLINK_NOFOLLOW) doesn't "fail" for GNU tar, but the attempt to call fchmodat() on the underlying filesystem does. So the mode never gets changed from 0700.</td><td class="time"><a href="#t2014-05-16T17:28:03" class="time">17:28</a></td></tr>
<tr id="t2014-05-16T17:28:43"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">And that is why packages-split ends up with any of *four* different modes, in ways that are fairly unpredictable and not completely consistent within any given package.</td><td class="time"><a href="#t2014-05-16T17:28:43" class="time">17:28</a></td></tr>
<tr id="t2014-05-16T17:29:27"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">My proposed fix to bitbake is to add ", mode = 0755" to mkdirhier, and pass the mode to os.makedirs, because I am pretty sure we never *wanted* 0777 &amp; ~umask as a default.</td><td class="time"><a href="#t2014-05-16T17:29:27" class="time">17:29</a></td></tr>
<tr id="t2014-05-16T17:30:18"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">For pseudo, my current plan is to add a static flag for whether I think AT_SYMLINK_NOFOLLOW should fail. Try normally once, but if I get -1/ENOTSUP from an fchmodat with AT_SYMLINK_NOFOLLOW, set the flag, and future calls will bail early if AT_SYMLINK_NOFOLLOW is set.</td><td class="time"><a href="#t2014-05-16T17:30:18" class="time">17:30</a></td></tr>
<tr id="t2014-05-16T17:31:01"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">That way, at least I don't do two database round trips per file for GNU tar's surreal decision to dutifully keep trying an unsupported thing for every single file just in case the user upgrades to a 4.x or later kernel which has implemented support for a new feature sometime during the extraction.</td><td class="time"><a href="#t2014-05-16T17:31:01" class="time">17:31</a></td></tr>
<tr id="t2014-05-16T17:31:33"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">(To be fair, if it were implemented per-filesystem, it would be conceivable for an archive extraction to cross a mount point...)</td><td class="time"><a href="#t2014-05-16T17:31:33" class="time">17:31</a></td></tr>
<tr id="t2014-05-16T17:35:17"><th class="nick" style="background: #b15db1">Xooch</th><td class="text" style="color: #b15db1">FYI, I had to run ". conf/setenv" from my build directory. I'm working now.</td><td class="time"><a href="#t2014-05-16T17:35:17" class="time">17:35</a></td></tr>
<tr id="t2014-05-16T17:40:19"><td class="other" colspan="2">-YoctoAutoBuilder- build #97 of nightly-qa-systemd is complete: Success [build successful]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-qa-systemd/builds/97" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-qa-systemd/builds/97</a></td><td><a href="#t2014-05-16T17:40:19" class="time">17:40</a></td></tr>
<tr id="t2014-05-16T18:27:23"><td class="nickchange" colspan="2">*** radzy is now known as radzy_away</td><td><a href="#t2014-05-16T18:27:23" class="time">18:27</a></td></tr>
<tr id="t2014-05-16T18:41:51"><th class="nick" style="background: #a25555">kergoth</th><td class="text" style="color: #a25555">seebs: <a href="https://gist.github.com/kergoth/05cf40b0ea7782287a3b" rel="nofollow">https://gist.github.com/kergoth/05cf40b0ea7782287a3b</a>  if we ignore the username/id mapping from pseudo, those files listed as xuser are really uid 1000, which is the uid of the user doing the bitbake build. that ls -l was done under a devshell, of course.</td><td class="time"><a href="#t2014-05-16T18:41:51" class="time">18:41</a></td></tr>
<tr id="t2014-05-16T18:42:16"><th class="nick" style="background: #a25555">kergoth</th><td class="text" style="color: #a25555">so you can see it was fine at ${D} after do_install, but the owner got lost as it got thrown into /package/ for use by do_package</td><td class="time"><a href="#t2014-05-16T18:42:16" class="time">18:42</a></td></tr>
<tr id="t2014-05-16T18:42:44"><th class="nick" style="background: #a25555">kergoth</th><td class="text" style="color: #a25555">not sure if it's a pseudo problem or not, just throwing it out there, because i'm running out of ideas</td><td class="time"><a href="#t2014-05-16T18:42:44" class="time">18:42</a></td></tr>
<tr id="t2014-05-16T18:45:21"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">I'm gonna go with "I bet it's user error" in the sense that it could well be bitbake doing something with pseudo that doesn't work.</td><td class="time"><a href="#t2014-05-16T18:45:21" class="time">18:45</a></td></tr>
<tr id="t2014-05-16T18:46:19"><th class="nick" style="background: #5fb4b4">zecke</th><td class="text" style="color: #5fb4b4">kergoth: hey! I noticed one "unwanted" behavior of your copyleft. It will happily symlink a git repository. So every time I build a new kernel revision (e.g. 3.10.x) I will have to put ~700mb of data on our download site (sure I could turn on dedup on ZFS for that area). Do you know if the archiver is fixed in master or have you considered to create a tarball from the git repository?</td><td class="time"><a href="#t2014-05-16T18:46:19" class="time">18:46</a></td></tr>
<tr id="t2014-05-16T18:47:10"><th class="nick" style="background: #a25555">kergoth</th><td class="text" style="color: #a25555">zecke: both copyleft_compliance and archiver will use a git mirror tarball if one exists. see <a href="https://github.com/openembedded/oe-core/blob/master/meta/classes/copyleft_compliance.bbclass#L42-L45" rel="nofollow">https://github.com/openembedded/oe-core/blob/master/meta/classes/copyleft_compliance.bbclass#L42-L45</a></td><td class="time"><a href="#t2014-05-16T18:47:10" class="time">18:47</a></td></tr>
<tr id="t2014-05-16T18:47:26"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">Okay, just to clarify, since I've never gotten to the message clarification thing.</td><td class="time"><a href="#t2014-05-16T18:47:26" class="time">18:47</a></td></tr>
<tr id="t2014-05-16T18:47:29"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">pseudo: path mismatch [2 links]: ino 5770631 db '/var/jenkins/workspace/drew/build/tmp/work/dbfp3-mel-linux/hostap-utils/0.4.7-r4/package/usr/sbin/hostap_rid' req '/var/jenkins/workspace/drew/build/tmp/work/dbfp3-mel-linux/hostap-utils/0.4.7-r4/package/usr/src'.</td><td class="time"><a href="#t2014-05-16T18:47:29" class="time">18:47</a></td></tr>
<tr id="t2014-05-16T18:47:39"><th class="nick" style="background: #b86161">volker-</th><td class="text" style="color: #b86161">does someone know a nice overview of kernel modules required for various iptables featurs?</td><td class="time"><a href="#t2014-05-16T18:47:39" class="time">18:47</a></td></tr>
<tr id="t2014-05-16T18:47:52"><th class="nick" style="background: #a25555">kergoth</th><td class="text" style="color: #a25555">zecke: just enable BB_GENERATE_MIRROR_TARBALLS = "1" and you'll be fine</td><td class="time"><a href="#t2014-05-16T18:47:52" class="time">18:47</a></td></tr>
<tr id="t2014-05-16T18:48:04"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">What this means is that inode 5770631, which currently has two links, was in the database with the name ".../usr/sbin/hostap_rid", and showed up in a request attached to ".../package/usr/src".</td><td class="time"><a href="#t2014-05-16T18:48:04" class="time">18:48</a></td></tr>
<tr id="t2014-05-16T18:48:22"><th class="nick" style="background: #5fb4b4">zecke</th><td class="text" style="color: #5fb4b4">kergoth: okay. This will use "git archive" on the checkout to create the tarball?</td><td class="time"><a href="#t2014-05-16T18:48:22" class="time">18:48</a></td></tr>
<tr id="t2014-05-16T18:48:42"><th class="nick" style="background: #5fb4b4">zecke</th><td class="text" style="color: #5fb4b4">kergoth: thanks for the info. Let me re-build all images overnight and have a look. :)</td><td class="time"><a href="#t2014-05-16T18:48:42" class="time">18:48</a></td></tr>
<tr id="t2014-05-16T18:48:49"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">And that means that, at some point, usr/sbin/hostap_rid got noticed by pseudo and added to the database, and then it got unlinked *outside* of the pseudo environment.</td><td class="time"><a href="#t2014-05-16T18:48:49" class="time">18:48</a></td></tr>
<tr id="t2014-05-16T18:48:50"><th class="nick" style="background: #a25555">kergoth</th><td class="text" style="color: #a25555">no idea, this is the standard bitbake mechanism for archiving the repository for use on mirrors, the fetcher supports downloading and using such a mirror tarball</td><td class="time"><a href="#t2014-05-16T18:48:50" class="time">18:48</a></td></tr>
<tr id="t2014-05-16T18:48:54"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">And something else reused the inode.</td><td class="time"><a href="#t2014-05-16T18:48:54" class="time">18:48</a></td></tr>
<tr id="t2014-05-16T18:49:14"><th class="nick" style="background: #a25555">kergoth</th><td class="text" style="color: #a25555">seebs: huh, i don't see how that'd even be possible, all the packaging tasks run under pseudo</td><td class="time"><a href="#t2014-05-16T18:49:14" class="time">18:49</a></td></tr>
<tr id="t2014-05-16T18:49:22"><th class="nick" style="background: #a25555">kergoth</th><td class="text" style="color: #a25555">weird</td><td class="time"><a href="#t2014-05-16T18:49:22" class="time">18:49</a></td></tr>
<tr id="t2014-05-16T18:49:50"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">Well, it's possible that some other task isn't running under pseudo because it doesn't need to.</td><td class="time"><a href="#t2014-05-16T18:49:50" class="time">18:49</a></td></tr>
<tr id="t2014-05-16T18:49:51"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">*thinks*</td><td class="time"><a href="#t2014-05-16T18:49:51" class="time">18:49</a></td></tr>
<tr id="t2014-05-16T18:50:10"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">Presumably, usr/sbin/hostap_rid got deleted. When did it get deleted?</td><td class="time"><a href="#t2014-05-16T18:50:10" class="time">18:50</a></td></tr>
<tr id="t2014-05-16T18:50:21"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">Is it possible that the thing which deleted it wasn't considered "a packaging task"?</td><td class="time"><a href="#t2014-05-16T18:50:21" class="time">18:50</a></td></tr>
<tr id="t2014-05-16T18:50:35"><th class="nick" style="background: #a25555">kergoth</th><td class="text" style="color: #a25555">it should never have been deleted during the packaging process. that ls -l was after the build, so clearly it still existed there</td><td class="time"><a href="#t2014-05-16T18:50:35" class="time">18:50</a></td></tr>
<tr id="t2014-05-16T18:50:47"><th class="nick" style="background: #a25555">kergoth</th><td class="text" style="color: #a25555">ls says its there after those tasks ran</td><td class="time"><a href="#t2014-05-16T18:50:47" class="time">18:50</a></td></tr>
<tr id="t2014-05-16T18:50:57"><td class="action" colspan="2">* kergoth shrugs</td><td><a href="#t2014-05-16T18:50:57" class="time">18:50</a></td></tr>
<tr id="t2014-05-16T18:51:13"><th class="nick" style="background: #a25555">kergoth</th><td class="text" style="color: #a25555">again, it shouldn't have been deleted at all, ever. and if it was deleted, then why is it back again after the tasks ran?</td><td class="time"><a href="#t2014-05-16T18:51:13" class="time">18:51</a></td></tr>
<tr id="t2014-05-16T18:51:14"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">Okay, that is very odd. Because presumably it *somehow* got deleted-and-recreated or something.</td><td class="time"><a href="#t2014-05-16T18:51:14" class="time">18:51</a></td></tr>
<tr id="t2014-05-16T18:51:21"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">I assume it has a new inode now?</td><td class="time"><a href="#t2014-05-16T18:51:21" class="time">18:51</a></td></tr>
<tr id="t2014-05-16T18:51:22"><th class="nick" style="background: #a25555">kergoth</th><td class="text" style="color: #a25555">odd indeed</td><td class="time"><a href="#t2014-05-16T18:51:22" class="time">18:51</a></td></tr>
<tr id="t2014-05-16T18:51:58"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">BTW, if you're using pseudo 1.6, the debug options are MUCH improved.</td><td class="time"><a href="#t2014-05-16T18:51:58" class="time">18:51</a></td></tr>
<tr id="t2014-05-16T18:52:19"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">No longer do you face the horrible nightmare of verbosity that was PSEUDO_DEBUG=2.</td><td class="time"><a href="#t2014-05-16T18:52:19" class="time">18:52</a></td></tr>
<tr id="t2014-05-16T18:52:53"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">Now you can do things like PSEUDO_DEBUG=f and get file creation/deletion notes, but not other stuff.</td><td class="time"><a href="#t2014-05-16T18:52:53" class="time">18:52</a></td></tr>
<tr id="t2014-05-16T18:53:03"><th class="nick" style="background: #a25555">kergoth</th><td class="text" style="color: #a25555">oh! right, i see. do_package did its split out the debug info stuff</td><td class="time"><a href="#t2014-05-16T18:53:03" class="time">18:53</a></td></tr>
<tr id="t2014-05-16T18:53:18"><th class="nick" style="background: #a25555">kergoth</th><td class="text" style="color: #a25555">so it got rereated without that</td><td class="time"><a href="#t2014-05-16T18:53:18" class="time">18:53</a></td></tr>
<tr id="t2014-05-16T18:53:24"><th class="nick" style="background: #a25555">kergoth</th><td class="text" style="color: #a25555">but that should all have been done within do_package</td><td class="time"><a href="#t2014-05-16T18:53:24" class="time">18:53</a></td></tr>
<tr id="t2014-05-16T18:53:37"><td class="action" colspan="2">* kergoth scratches head</td><td><a href="#t2014-05-16T18:53:37" class="time">18:53</a></td></tr>
<tr id="t2014-05-16T18:54:22"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">Huh.</td><td class="time"><a href="#t2014-05-16T18:54:22" class="time">18:54</a></td></tr>
<tr id="t2014-05-16T18:54:26"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">Well, there's a possibility.</td><td class="time"><a href="#t2014-05-16T18:54:26" class="time">18:54</a></td></tr>
<tr id="t2014-05-16T18:54:52"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">One time we started seeing stuff like this, and the reason turned out to be that there was a path into the library that could make syscalls that pseudo wasn't intercepting.</td><td class="time"><a href="#t2014-05-16T18:54:52" class="time">18:54</a></td></tr>
<tr id="t2014-05-16T18:56:06"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">Wait.</td><td class="time"><a href="#t2014-05-16T18:56:06" class="time">18:56</a></td></tr>
<tr id="t2014-05-16T18:56:11"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">I bet I know.</td><td class="time"><a href="#t2014-05-16T18:56:11" class="time">18:56</a></td></tr>
<tr id="t2014-05-16T18:56:13"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">You're at MG, right?</td><td class="time"><a href="#t2014-05-16T18:56:13" class="time">18:56</a></td></tr>
<tr id="t2014-05-16T18:56:17"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">Are you using a binary toolchain?</td><td class="time"><a href="#t2014-05-16T18:56:17" class="time">18:56</a></td></tr>
<tr id="t2014-05-16T18:56:25"><th class="nick" style="background: #a25555">kergoth</th><td class="text" style="color: #a25555">what's odd to me is the two dir errs are both the same /package/usr/sbin/hostap_rid, but neither of those inode numbers are the one it ends up being after the debug split. so it's existed with 3 different inode numbers during the packaging process, not 2 as one would expect</td><td class="time"><a href="#t2014-05-16T18:56:25" class="time">18:56</a></td></tr>
<tr id="t2014-05-16T18:56:32"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">Is it a ... 32 bit binary toolchain? On a 64-bit host?</td><td class="time"><a href="#t2014-05-16T18:56:32" class="time">18:56</a></td></tr>
<tr id="t2014-05-16T18:56:53"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">Because by default oe-core won't try to make a 32-bit pseudo library. And then the 32-bit binary toolchain components don't actually run under pseudo at all.</td><td class="time"><a href="#t2014-05-16T18:56:53" class="time">18:56</a></td></tr>
<tr id="t2014-05-16T18:57:02"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">And that can cause things like objcopy to wreck the pseudo database.</td><td class="time"><a href="#t2014-05-16T18:57:02" class="time">18:57</a></td></tr>
<tr id="t2014-05-16T18:57:36"><th class="nick" style="background: #a25555">kergoth</th><td class="text" style="color: #a25555">meta-sourcery forces NO32LIBS = "0" in its tcmode</td><td class="time"><a href="#t2014-05-16T18:57:36" class="time">18:57</a></td></tr>
<tr id="t2014-05-16T18:57:48"><td class="action" colspan="2">* kergoth ponders</td><td><a href="#t2014-05-16T18:57:48" class="time">18:57</a></td></tr>
<tr id="t2014-05-16T18:57:49"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">Oh, right. And you'd be getting a ton of errors if that didn't work.</td><td class="time"><a href="#t2014-05-16T18:57:49" class="time">18:57</a></td></tr>
<tr id="t2014-05-16T18:58:16"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">You might want to try to run objcopy and such under pseudo in a test directory, see whether they work as expected and produce the right database entries.</td><td class="time"><a href="#t2014-05-16T18:58:16" class="time">18:58</a></td></tr>
<tr id="t2014-05-16T18:58:29"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">I suppose in theory there could be a statically-linked binary in there or something?</td><td class="time"><a href="#t2014-05-16T18:58:29" class="time">18:58</a></td></tr>
<tr id="t2014-05-16T18:58:31"><th class="nick" style="background: #a25555">kergoth</th><td class="text" style="color: #a25555">good idea, I'll look into that. that does make sense, it would explain this behavior</td><td class="time"><a href="#t2014-05-16T18:58:31" class="time">18:58</a></td></tr>
<tr id="t2014-05-16T18:58:45"><th class="nick" style="background: #a25555">kergoth</th><td class="text" style="color: #a25555">thanks for the help, need food now :)</td><td class="time"><a href="#t2014-05-16T18:58:45" class="time">18:58</a></td></tr>
<tr id="t2014-05-16T18:58:52"><th class="nick" style="background: #5fb4b4">zecke</th><td class="text" style="color: #5fb4b4">kergoth: hmm. It just tars the .git/ directory. But then again so did the archiver I used in edison</td><td class="time"><a href="#t2014-05-16T18:58:52" class="time">18:58</a></td></tr>
<tr id="t2014-05-16T18:59:34"><th class="nick" style="background: #a25555">kergoth</th><td class="text" style="color: #a25555">zecke: ah, you want the opposite? would probably need to enhance it further</td><td class="time"><a href="#t2014-05-16T18:59:34" class="time">18:59</a></td></tr>
<tr id="t2014-05-16T19:03:03"><td class="nickchange" colspan="2">*** radzy_away is now known as radzy</td><td><a href="#t2014-05-16T19:03:03" class="time">19:03</a></td></tr>
<tr id="t2014-05-16T19:23:03"><th class="nick" style="background: #a25555">kergoth</th><td class="text" style="color: #a25555">seebs: so, yeah, I'm an idiot. I forgot that a while ago I disabled pseudo during toolchain binary execution. Horribly stupid, in retrospect. Course, at the time I didn't know how to deal with it. The toolchain created a lockfile in /tmp including the user id, so if multiple users built both under pseudo they'd step all over each other with the same naming but diffferent ownership. I should have seen this coming when I did that, that was stupid. I</td><td class="time"><a href="#t2014-05-16T19:23:03" class="time">19:23</a></td></tr>
<tr id="t2014-05-16T19:23:03"><th class="nick" style="background: #a25555">kergoth</th><td class="text" style="color: #a25555"> guess I hoped that writing the files into ${B} with wrong ownership would be corrected by do_install, which it is in 90% of cases, but objcopy kicked me right square in the ass :)</td><td class="time"><a href="#t2014-05-16T19:23:03" class="time">19:23</a></td></tr>
<tr id="t2014-05-16T19:26:19"><th class="nick" style="background: #a25555">kergoth</th><td class="text" style="color: #a25555">seebs: so thanks again for helping me identify my foolishness :)</td><td class="time"><a href="#t2014-05-16T19:26:19" class="time">19:26</a></td></tr>
<tr id="t2014-05-16T19:26:23"><td class="action" colspan="2">* kergoth rolls eyes</td><td><a href="#t2014-05-16T19:26:23" class="time">19:26</a></td></tr>
<tr id="t2014-05-16T19:26:55"><th class="nick" style="background: #b86161">volker-</th><td class="text" style="color: #b86161">iptables on yocto does not accept '--dport' on my system\</td><td class="time"><a href="#t2014-05-16T19:26:55" class="time">19:26</a></td></tr>
<tr id="t2014-05-16T19:27:10"><th class="nick" style="background: #b86161">volker-</th><td class="text" style="color: #b86161">never seen that before</td><td class="time"><a href="#t2014-05-16T19:27:10" class="time">19:27</a></td></tr>
<tr id="t2014-05-16T19:29:30"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">Oh, good. At least it makes sense.</td><td class="time"><a href="#t2014-05-16T19:29:30" class="time">19:29</a></td></tr>
<tr id="t2014-05-16T19:29:47"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">I actually spent a month or so ignoring lots of "unable to load libpseudo.so" messages because I somehow concluded they probably didn't matter.</td><td class="time"><a href="#t2014-05-16T19:29:47" class="time">19:29</a></td></tr>
<tr id="t2014-05-16T19:30:06"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">It was exactly that -- objcopy wasn't getting pseudo. It's the only part of the toolchain that usually runs in an environment where this matters.</td><td class="time"><a href="#t2014-05-16T19:30:06" class="time">19:30</a></td></tr>
<tr id="t2014-05-16T19:51:02"><th class="nick" style="background: #62bb62">scottrif</th><td class="text" style="color: #62bb62">halstead: ping</td><td class="time"><a href="#t2014-05-16T19:51:02" class="time">19:51</a></td></tr>
<tr id="t2014-05-16T20:15:35"><td class="nickchange" colspan="2">*** radzy is now known as radzy_away</td><td><a href="#t2014-05-16T20:15:35" class="time">20:15</a></td></tr>
<tr id="t2014-05-16T20:25:21"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">Okay, I am sure there's people here with use cases I've never thought of.</td><td class="time"><a href="#t2014-05-16T20:25:21" class="time">20:25</a></td></tr>
<tr id="t2014-05-16T20:26:09"><th class="nick" style="background: #a25555">kergoth</th><td class="text" style="color: #a25555">ugh, I was adjusting the aeropress after I had put 100ml of near-boiling water from the kettle in it, and the cylinder slid out instead, dumping it directly onto my left hand. note to self: be more careful when making coffee</td><td class="time"><a href="#t2014-05-16T20:26:09" class="time">20:26</a></td></tr>
<tr id="t2014-05-16T20:26:11"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">pseudo does not store files on disk with exactly the same permissions they have in the database; right now, that just means it adds 0600 (or 0700 for directories) to the on-disk file, so you can write to files that have no write permission in the database. Because you're presumably root.</td><td class="time"><a href="#t2014-05-16T20:26:11" class="time">20:26</a></td></tr>
<tr id="t2014-05-16T20:26:18"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">Ow!</td><td class="time"><a href="#t2014-05-16T20:26:18" class="time">20:26</a></td></tr>
<tr id="t2014-05-16T20:26:37"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">So, after this mkdirhier thing and such, I am thinking that I wish to also mask *out* some write bits.</td><td class="time"><a href="#t2014-05-16T20:26:37" class="time">20:26</a></td></tr>
<tr id="t2014-05-16T20:27:08"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">And I'm currently leaning towards 022, but if someone can make a really good case for needing the on-disk files to be group-writeable, I'm willing to consider it.</td><td class="time"><a href="#t2014-05-16T20:27:08" class="time">20:27</a></td></tr>
<tr id="t2014-05-16T20:27:17"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">Pretty sure I want 002 masked out no matter what.</td><td class="time"><a href="#t2014-05-16T20:27:17" class="time">20:27</a></td></tr>
<tr id="t2014-05-16T20:27:48"><td class="part" colspan="2">*** scottrif &lt;scottrif!~scott-len@a70.ip16.netikka.fi&gt; has left #yocto</td><td><a href="#t2014-05-16T20:27:48" class="time">20:27</a></td></tr>
<tr id="t2014-05-16T20:42:58"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">Huh. There were two patches in oe-core for pseudo that never made it into upstream, now added to 1.6.0.</td><td class="time"><a href="#t2014-05-16T20:42:58" class="time">20:42</a></td></tr>
<tr id="t2014-05-16T20:46:36"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">...</td><td class="time"><a href="#t2014-05-16T20:46:36" class="time">20:46</a></td></tr>
<tr id="t2014-05-16T20:47:01"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">So the URL in the pseudo recipe (<a href="https://www.yoctoproject.org/downloads/pseudo/pseudo-1.5.1.tar.bz2" rel="nofollow">https://www.yoctoproject.org/downloads/pseudo/pseudo-1.5.1.tar.bz2</a>) goes to a very pretty web page, but does not actually give me a tarball?</td><td class="time"><a href="#t2014-05-16T20:47:01" class="time">20:47</a></td></tr>
<tr id="t2014-05-16T20:50:41"><th class="nick" style="background: #a25555">kergoth</th><td class="text" style="color: #a25555">heh, that's not good</td><td class="time"><a href="#t2014-05-16T20:50:41" class="time">20:50</a></td></tr>
<tr id="t2014-05-16T20:51:41"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">downloads.yoctoproject.org seems to work.</td><td class="time"><a href="#t2014-05-16T20:51:41" class="time">20:51</a></td></tr>
<tr id="t2014-05-16T20:52:23"><th class="nick" style="background: #407a40">seebs</th><td class="text" style="color: #407a40">FWIW, I'm hoping to send out a patch shortly to add the fchmodat thing to pseudo 1.5.1, because I really want that fixed. I don't know when I'll have time to do an uprev to 1.6, but this one's small and nicely-contained.</td><td class="time"><a href="#t2014-05-16T20:52:23" class="time">20:52</a></td></tr>
<tr id="t2014-05-16T21:10:41"><td class="nickchange" colspan="2">*** radzy_away is now known as radzy</td><td><a href="#t2014-05-16T21:10:41" class="time">21:10</a></td></tr>
<tr id="t2014-05-16T21:44:38"><td class="nickchange" colspan="2">*** radzy is now known as radzy_away</td><td><a href="#t2014-05-16T21:44:38" class="time">21:44</a></td></tr>
<tr id="t2014-05-16T22:47:23"><th class="nick" style="background: #adad5b">pidge</th><td class="text" style="color: #adad5b">Crofton/Crofton|work: <a href="http://hackaday.com/2014/05/16/isee-3-ready-to-come-home/" rel="nofollow">http://hackaday.com/2014/05/16/isee-3-ready-to-come-home/</a> COOOL. The SDR is running an oe built os, yes?</td><td class="time"><a href="#t2014-05-16T22:47:23" class="time">22:47</a></td></tr>
<tr id="t2014-05-16T22:49:19"><th class="nick" style="background: #6464bf">Crofton</th><td class="text" style="color: #6464bf">pidge, no</td><td class="time"><a href="#t2014-05-16T22:49:19" class="time">22:49</a></td></tr>
<tr id="t2014-05-16T22:49:31"><th class="nick" style="background: #6464bf">Crofton</th><td class="text" style="color: #6464bf">they will use a USRP attached to a laptop</td><td class="time"><a href="#t2014-05-16T22:49:31" class="time">22:49</a></td></tr>
<tr id="t2014-05-16T22:49:32"><th class="nick" style="background: #adad5b">pidge</th><td class="text" style="color: #adad5b">Crofton: Awwww</td><td class="time"><a href="#t2014-05-16T22:49:32" class="time">22:49</a></td></tr>
<tr id="t2014-05-16T22:49:38"><th class="nick" style="background: #6464bf">Crofton</th><td class="text" style="color: #6464bf">yeah</td><td class="time"><a href="#t2014-05-16T22:49:38" class="time">22:49</a></td></tr>
<tr id="t2014-05-16T22:49:43"><th class="nick" style="background: #6464bf">Crofton</th><td class="text" style="color: #6464bf">but still cool</td><td class="time"><a href="#t2014-05-16T22:49:43" class="time">22:49</a></td></tr>
<tr id="t2014-05-16T22:49:50"><th class="nick" style="background: #adad5b">pidge</th><td class="text" style="color: #adad5b">either way. very very cool</td><td class="time"><a href="#t2014-05-16T22:49:50" class="time">22:49</a></td></tr>
<tr id="t2014-05-16T22:49:50"><th class="nick" style="background: #6464bf">Crofton</th><td class="text" style="color: #6464bf">Balint is pooping himself</td><td class="time"><a href="#t2014-05-16T22:49:50" class="time">22:49</a></td></tr>
<tr id="t2014-05-16T22:50:10"><th class="nick" style="background: #6464bf">Crofton</th><td class="text" style="color: #6464bf">he is very excited</td><td class="time"><a href="#t2014-05-16T22:50:10" class="time">22:50</a></td></tr>
<tr id="t2014-05-16T22:51:00"><th class="nick" style="background: #adad5b">pidge</th><td class="text" style="color: #adad5b">I bet!</td><td class="time"><a href="#t2014-05-16T22:51:00" class="time">22:51</a></td></tr>
<tr id="t2014-05-16T23:04:01"><td class="nickchange" colspan="2">*** radzy_away is now known as radzy</td><td><a href="#t2014-05-16T23:04:01" class="time">23:04</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2014-05-15.log.html">&#171; Thursday, 2014-05-15</a> <a href="index.html">Index</a> <a href="%23yocto.2014-05-17.log.html">Saturday, 2014-05-17 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.11.0 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="http://mg.pov.lt/irclog2html/">mg.pov.lt</a>!</p>
</div>
</body>
</html>
