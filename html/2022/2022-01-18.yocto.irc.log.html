<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Tuesday, 2022-01-18</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.17.2 by Marius Gedminas" />
  <meta name="version" content="2.17.2 - 2019-04-23" />
</head>
<body>
<h1>Tuesday, 2022-01-18</h1>
<div class="navigation"> <a href="%23yocto.2022-01-17.log.html">&#171; Monday, 2022-01-17</a> <a href="index.html">Index</a> <a href="%23yocto.2022-01-19.log.html">Wednesday, 2022-01-19 &#187;</a> </div>
<table class="irclog">
<tr id="t2022-01-18T00:00:53"><th class="nick" style="background: #407a40">rgov[m]</th><td class="text" style="color: #407a40">Here are all the differences <a href="https://gist.github.com/rgov/08d5311d2ba1b6283aad8b5434b31e50" rel="nofollow">https://gist.github.com/rgov/08d5311d2ba1b6283aad8b5434b31e50</a></td><td class="time"><a href="#t2022-01-18T00:00:53" class="time">00:00</a></td></tr>
<tr id="t2022-01-18T02:53:22"><th class="nick" style="background: #42427e">bluelightning</th><td class="text" style="color: #42427e">RP: the fix was actually in <a href="https://git.yoctoproject.org/poky/commit/bitbake?id=f46f6af1f255544e4399e0ce4aee6ce9061a259d" rel="nofollow">https://git.yoctoproject.org/poky/commit/bitbake?id=f46f6af1f255544e4399e0ce4aee6ce9061a259d</a> (although I am also taking the fixes you mentioned as well as the few related fixes)</td><td class="time"><a href="#t2022-01-18T02:53:22" class="time">02:53</a></td></tr>
<tr id="t2022-01-18T02:53:25"><th class="nick" style="background: #42427e">bluelightning</th><td class="text" style="color: #42427e">thanks!</td><td class="time"><a href="#t2022-01-18T02:53:25" class="time">02:53</a></td></tr>
<tr id="t2022-01-18T04:49:54"><th class="nick" style="background: #818144">dushara</th><td class="text" style="color: #818144">Hi noticed that svn fetcher in bitbake doesn't handle URLs with spaces properly. I started tweaking fetcher with shlex.quote() around URL, but seems to affect common unpack code as well. Any suggestion on best way to deal with this?</td><td class="time"><a href="#t2022-01-18T04:49:54" class="time">04:49</a></td></tr>
<tr id="t2022-01-18T05:43:49"><th class="nick" style="background: #854685">geoffhp</th><td class="text" style="color: #854685">coldspark29[m]: no need to delete your layer to get it refreshed in kas. Use the --update flag in your as command . e.g.&nbsp;&nbsp;`kas build --update myconfig.yml` or `kas checkout --update myconfig.yml`</td><td class="time"><a href="#t2022-01-18T05:43:49" class="time">05:43</a></td></tr>
<tr id="t2022-01-18T06:01:09"><th class="nick" style="background: #488888">ad__</th><td class="text" style="color: #488888">hi, systemd 244 install (dunfell) is producing &quot;chown: invalid group: ‚Äòroot:systemd-journal‚Äô&quot;</td><td class="time"><a href="#t2022-01-18T06:01:09" class="time">06:01</a></td></tr>
<tr id="t2022-01-18T06:01:26"><th class="nick" style="background: #488888">ad__</th><td class="text" style="color: #488888">i have this group in host pc, sound strange</td><td class="time"><a href="#t2022-01-18T06:01:26" class="time">06:01</a></td></tr>
<tr id="t2022-01-18T06:05:12"><th class="nick" style="background: #488888">ad__</th><td class="text" style="color: #488888">oh, found, sry. i am in a container without that group</td><td class="time"><a href="#t2022-01-18T06:05:12" class="time">06:05</a></td></tr>
<tr id="t2022-01-18T06:11:38"><th class="nick" style="background: #488888">ad__</th><td class="text" style="color: #488888">mm stil lgetting that error even creating the group</td><td class="time"><a href="#t2022-01-18T06:11:38" class="time">06:11</a></td></tr>
<tr id="t2022-01-18T06:26:06"><th class="nick" style="background: #488888">ad__</th><td class="text" style="color: #488888">ok looks something related to my systemd bbappend</td><td class="time"><a href="#t2022-01-18T06:26:06" class="time">06:26</a></td></tr>
<tr id="t2022-01-18T07:45:56"><td class="nickchange" colspan="2">*** mckoan|away is now known as mckoan</td><td><a href="#t2022-01-18T07:45:56" class="time">07:45</a></td></tr>
<tr id="t2022-01-18T07:58:42"><th class="nick" style="background: #8c4a4a">coldspark29[m]</th><td class="text" style="color: #8c4a4a">&lt;geoffhp&gt; &quot;coldspark29: no need to delete...&quot; &lt;- Great, thanks for the tip. I was skim-reading the docs, but couldn't find that,</td><td class="time"><a href="#t2022-01-18T07:58:42" class="time">07:58</a></td></tr>
<tr id="t2022-01-18T08:25:23"><th class="nick" style="background: #4b904b">Guest21</th><td class="text" style="color: #4b904b">Hi all, I would like to create a package (.zip) with a yocto image inside and severals binaries (in a github repo). As severals images need this feature I have planned to create a .bbclass, but the class have to fetch sources, only recipe can fetch from git isn't it ? feel free to ask</td><td class="time"><a href="#t2022-01-18T08:25:23" class="time">08:25</a></td></tr>
<tr id="t2022-01-18T08:30:32"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">Guest21: what I can say already is that there's a zip image type which makes a .zip of your image</td><td class="time"><a href="#t2022-01-18T08:30:32" class="time">08:30</a></td></tr>
<tr id="t2022-01-18T08:30:55"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">c.f. IMAGE_TYPES</td><td class="time"><a href="#t2022-01-18T08:30:55" class="time">08:30</a></td></tr>
<tr id="t2022-01-18T08:31:58"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">Guest21: those binaries, why are they not part of the &quot;yocto imagE&quot; ?</td><td class="time"><a href="#t2022-01-18T08:31:58" class="time">08:31</a></td></tr>
<tr id="t2022-01-18T08:35:38"><th class="nick" style="background: #97974f">Guest2140</th><td class="text" style="color: #97974f">qschulz binaries are build outside from yocto. Our main board use this package to flash several devices (one of them use the yocto image) so binaries are not needed inside the &quot;yocto image&quot;</td><td class="time"><a href="#t2022-01-18T08:35:38" class="time">08:35</a></td></tr>
<tr id="t2022-01-18T08:37:21"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">why I am asking is that you could have a separate partition in a wic &quot;image&quot; for those binaries specifically and then have almost nothing to create n Yocto except a .wks file</td><td class="time"><a href="#t2022-01-18T08:37:21" class="time">08:37</a></td></tr>
<tr id="t2022-01-18T08:38:35"><th class="nick" style="background: #97974f">Guest2140</th><td class="text" style="color: #97974f">qschulz Thank you for sharing i will take a look to wic image</td><td class="time"><a href="#t2022-01-18T08:38:35" class="time">08:38</a></td></tr>
<tr id="t2022-01-18T09:23:39"><th class="nick" style="background: #9b519b">Etheryon70</th><td class="text" style="color: #9b519b">Hello</td><td class="time"><a href="#t2022-01-18T09:23:39" class="time">09:23</a></td></tr>
<tr id="t2022-01-18T09:28:33"><th class="nick" style="background: #8c4a4a">coldspark29[m]</th><td class="text" style="color: #8c4a4a">Morning, this imx kernel patching is really complicated. There is the linux-fslc-imx kernel that requires the linux-fslc.inc that requires the linux-imx.inc.</td><td class="time"><a href="#t2022-01-18T09:28:33" class="time">09:28</a></td></tr>
<tr id="t2022-01-18T09:29:25"><th class="nick" style="background: #8c4a4a">coldspark29[m]</th><td class="text" style="color: #8c4a4a">What is the best way to apply our patches to this kernel? Should I just create a patch folder or fork the whole thing and apply our patches? I am looking to have as little work as possible for future releases.</td><td class="time"><a href="#t2022-01-18T09:29:25" class="time">09:29</a></td></tr>
<tr id="t2022-01-18T09:33:19"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">coldspark29[m]: is this recipe inheriting kernel-yocto?</td><td class="time"><a href="#t2022-01-18T09:33:19" class="time">09:33</a></td></tr>
<tr id="t2022-01-18T09:33:33"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">(might be indirectly through other inherited classes or .inc files</td><td class="time"><a href="#t2022-01-18T09:33:33" class="time">09:33</a></td></tr>
<tr id="t2022-01-18T09:33:46"><th class="nick" style="background: #8c4a4a">coldspark29[m]</th><td class="text" style="color: #8c4a4a">Yes, it is</td><td class="time"><a href="#t2022-01-18T09:33:46" class="time">09:33</a></td></tr>
<tr id="t2022-01-18T09:34:19"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">I think you're supposed to use scc/cfg &quot;config&quot; files in that case to patch things up</td><td class="time"><a href="#t2022-01-18T09:34:19" class="time">09:34</a></td></tr>
<tr id="t2022-01-18T09:34:35"><th class="nick" style="background: #8c4a4a">coldspark29[m]</th><td class="text" style="color: #8c4a4a">All I need to do is add some drivers and device tree files</td><td class="time"><a href="#t2022-01-18T09:34:35" class="time">09:34</a></td></tr>
<tr id="t2022-01-18T09:34:43"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">but in short, have a bbappend for your recipe with FILESETRXAPATH:prepend := ...</td><td class="time"><a href="#t2022-01-18T09:34:43" class="time">09:34</a></td></tr>
<tr id="t2022-01-18T09:35:19"><th class="nick" style="background: #8c4a4a">coldspark29[m]</th><td class="text" style="color: #8c4a4a">Yeah I thought so. Like this I will not have to fork and patch the kernel repository</td><td class="time"><a href="#t2022-01-18T09:35:19" class="time">09:35</a></td></tr>
<tr id="t2022-01-18T09:35:27"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">coldspark29[m]: usually you fork off and push to your own git repo and use that one instead, you'll quickly have too many patches for hosting stuff in Yocto</td><td class="time"><a href="#t2022-01-18T09:35:27" class="time">09:35</a></td></tr>
<tr id="t2022-01-18T09:35:38"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">also.. Yocto is a build system, not technically where source code resides</td><td class="time"><a href="#t2022-01-18T09:35:38" class="time">09:35</a></td></tr>
<tr id="t2022-01-18T09:36:39"><th class="nick" style="background: #8c4a4a">coldspark29[m]</th><td class="text" style="color: #8c4a4a">Yeah, but I thought I could manage with some kconfig and .dts files. Yocto should be able to do that, shouldn't it?</td><td class="time"><a href="#t2022-01-18T09:36:39" class="time">09:36</a></td></tr>
<tr id="t2022-01-18T09:36:45"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">coldspark29[m]: <a href="https://git.theobroma-systems.com/yocto-layers/meta-theobroma-systems-bsp.git/tree/recipes-kernel/linux" rel="nofollow">https://git.theobroma-systems.com/yocto-layers/meta-theobroma-systems-bsp.git/tree/recipes-kernel/linux</a> this is what I did for our board which uses scc files</td><td class="time"><a href="#t2022-01-18T09:36:45" class="time">09:36</a></td></tr>
<tr id="t2022-01-18T09:37:04"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">&quot;I could manage with some kconfig&quot; sorry didn't understand</td><td class="time"><a href="#t2022-01-18T09:37:04" class="time">09:37</a></td></tr>
<tr id="t2022-01-18T09:37:46"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">the point is, your kernel sources shouldn't be associated with which build system you're using</td><td class="time"><a href="#t2022-01-18T09:37:46" class="time">09:37</a></td></tr>
<tr id="t2022-01-18T09:38:38"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">otherwise if you want to switch to Buildroot for example, you'll have to duplicate the patches</td><td class="time"><a href="#t2022-01-18T09:38:38" class="time">09:38</a></td></tr>
<tr id="t2022-01-18T09:38:57"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">also, makes it much harder to develop the kernel outside of Yocto</td><td class="time"><a href="#t2022-01-18T09:38:57" class="time">09:38</a></td></tr>
<tr id="t2022-01-18T09:39:51"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">just saying that forking off the kernel is what most people do. you use scc/cfg file to provide for customization options (e.g. does the user want Ethernet, hardened kernel, PCIe, etc...)</td><td class="time"><a href="#t2022-01-18T09:39:51" class="time">09:39</a></td></tr>
<tr id="t2022-01-18T09:40:09"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">so technically, what I did in our layer isn't (IMO) correct</td><td class="time"><a href="#t2022-01-18T09:40:09" class="time">09:40</a></td></tr>
<tr id="t2022-01-18T09:51:10"><td class="nickchange" colspan="2">*** camus1 is now known as camus</td><td><a href="#t2022-01-18T09:51:10" class="time">09:51</a></td></tr>
<tr id="t2022-01-18T09:52:17"><th class="nick" style="background: #539e9e">dacav</th><td class="text" style="color: #539e9e">Hello.&nbsp;&nbsp;I would need some help for remote debugging.</td><td class="time"><a href="#t2022-01-18T09:52:17" class="time">09:52</a></td></tr>
<tr id="t2022-01-18T09:52:41"><th class="nick" style="background: #539e9e">dacav</th><td class="text" style="color: #539e9e">I run `gdbserver 0.0.0.0:$port $command $args</td><td class="time"><a href="#t2022-01-18T09:52:41" class="time">09:52</a></td></tr>
<tr id="t2022-01-18T09:53:14"><th class="nick" style="background: #539e9e">dacav</th><td class="text" style="color: #539e9e">Then on my host I run gdb, use `target remote $host:$port`</td><td class="time"><a href="#t2022-01-18T09:53:14" class="time">09:53</a></td></tr>
<tr id="t2022-01-18T09:53:51"><th class="nick" style="background: #539e9e">dacav</th><td class="text" style="color: #539e9e">At this point I can effectively run the command by `continue`, but I don't see symbols</td><td class="time"><a href="#t2022-01-18T09:53:51" class="time">09:53</a></td></tr>
<tr id="t2022-01-18T09:54:01"><th class="nick" style="background: #539e9e">dacav</th><td class="text" style="color: #539e9e">I've installed the debug symbols package</td><td class="time"><a href="#t2022-01-18T09:54:01" class="time">09:54</a></td></tr>
<tr id="t2022-01-18T09:54:39"><th class="nick" style="background: #539e9e">dacav</th><td class="text" style="color: #539e9e">Am I missing some step maybe?</td><td class="time"><a href="#t2022-01-18T09:54:39" class="time">09:54</a></td></tr>
<tr id="t2022-01-18T09:55:07"><th class="nick" style="background: #a25555">kroon</th><td class="text" style="color: #a25555">dacav, debug symbols need to be available on the host, not the target</td><td class="time"><a href="#t2022-01-18T09:55:07" class="time">09:55</a></td></tr>
<tr id="t2022-01-18T09:56:00"><th class="nick" style="background: #539e9e">dacav</th><td class="text" style="color: #539e9e">I see.&nbsp;&nbsp;Calling `symbol-file` tells me they're in `target:/usr/bin/.debug/$command`</td><td class="time"><a href="#t2022-01-18T09:56:00" class="time">09:56</a></td></tr>
<tr id="t2022-01-18T09:56:12"><th class="nick" style="background: #a25555">kroon</th><td class="text" style="color: #a25555">dacav, you can use &quot;set sysroot&quot; gdb command to point to where the target sysroot is on the host</td><td class="time"><a href="#t2022-01-18T09:56:12" class="time">09:56</a></td></tr>
<tr id="t2022-01-18T09:56:56"><th class="nick" style="background: #539e9e">dacav</th><td class="text" style="color: #539e9e">Thanks kroon.&nbsp;&nbsp;I'm not sure of where that will be, but I guess I can find it below the yocto tmp/</td><td class="time"><a href="#t2022-01-18T09:56:56" class="time">09:56</a></td></tr>
<tr id="t2022-01-18T09:57:30"><th class="nick" style="background: #a25555">kroon</th><td class="text" style="color: #a25555">dacav, you can build the SDK, install it somewhere, it will contain the target sysroot with debug info</td><td class="time"><a href="#t2022-01-18T09:57:30" class="time">09:57</a></td></tr>
<tr id="t2022-01-18T09:58:01"><th class="nick" style="background: #539e9e">dacav</th><td class="text" style="color: #539e9e">Too bad, my sdk is broken</td><td class="time"><a href="#t2022-01-18T09:58:01" class="time">09:58</a></td></tr>
<tr id="t2022-01-18T09:58:46"><th class="nick" style="background: #539e9e">dacav</th><td class="text" style="color: #539e9e">(any advice is well accepted on that topic -- see yocto mailing list, and I mentioned on this channel too, it is somewhere in the backlog)</td><td class="time"><a href="#t2022-01-18T09:58:46" class="time">09:58</a></td></tr>
<tr id="t2022-01-18T09:59:19"><th class="nick" style="background: #539e9e">dacav</th><td class="text" style="color: #539e9e">kroon: I'm only left with a docker image that was built before the SDK ended up in broken state</td><td class="time"><a href="#t2022-01-18T09:59:19" class="time">09:59</a></td></tr>
<tr id="t2022-01-18T10:00:39"><th class="nick" style="background: #539e9e">dacav</th><td class="text" style="color: #539e9e">Question 1: pretending my SDK is not broken, how can it contain debug info that belongs to a binary I've built?</td><td class="time"><a href="#t2022-01-18T10:00:39" class="time">10:00</a></td></tr>
<tr id="t2022-01-18T10:02:02"><th class="nick" style="background: #a25555">kroon</th><td class="text" style="color: #a25555">dacav, oh, you built the binary outside yoto ?</td><td class="time"><a href="#t2022-01-18T10:02:02" class="time">10:02</a></td></tr>
<tr id="t2022-01-18T10:02:43"><th class="nick" style="background: #539e9e">dacav</th><td class="text" style="color: #539e9e">kroon: I ended up to package my binary with a recipe, so I could leverage bitbake</td><td class="time"><a href="#t2022-01-18T10:02:43" class="time">10:02</a></td></tr>
<tr id="t2022-01-18T10:03:11"><th class="nick" style="background: #539e9e">dacav</th><td class="text" style="color: #539e9e">(it kinda sucks to learn yocto from an established/ongoing/broken project)</td><td class="time"><a href="#t2022-01-18T10:03:11" class="time">10:03</a></td></tr>
<tr id="t2022-01-18T10:04:11"><th class="nick" style="background: #a25555">kroon</th><td class="text" style="color: #a25555">dacav, ah ok. i'm sure you can point gdb to the debug info on the host somehow. find the -dbg package and unpack it somewhere</td><td class="time"><a href="#t2022-01-18T10:04:11" class="time">10:04</a></td></tr>
<tr id="t2022-01-18T10:04:41"><th class="nick" style="background: #57a657">kayterina[m]</th><td class="text" style="color: #57a657">Hello. I got a pseudo abort with inode mismatch in do_installwhile bitbaking a recipe, the link that says to start with a clean TMPDIR. Will a bitbake -c clean_all &lt;recipe&gt; suffice?</td><td class="time"><a href="#t2022-01-18T10:04:41" class="time">10:04</a></td></tr>
<tr id="t2022-01-18T10:04:53"><th class="nick" style="background: #57a657">kayterina[m]</th><td class="text" style="color: #57a657">s/that//</td><td class="time"><a href="#t2022-01-18T10:04:53" class="time">10:04</a></td></tr>
<tr id="t2022-01-18T10:05:08"><th class="nick" style="background: #539e9e">dacav</th><td class="text" style="color: #539e9e">kroon: So, something like unpacking the -dbg in a certain directory in the docker container that has the SDK, and then using `set sysroot` there?</td><td class="time"><a href="#t2022-01-18T10:05:08" class="time">10:05</a></td></tr>
<tr id="t2022-01-18T10:05:48"><th class="nick" style="background: #a25555">kroon</th><td class="text" style="color: #a25555">'sysroot', 'solib-search-path'</td><td class="time"><a href="#t2022-01-18T10:05:48" class="time">10:05</a></td></tr>
<tr id="t2022-01-18T10:06:07"><th class="nick" style="background: #a25555">kroon</th><td class="text" style="color: #a25555">maybe there are other ways to instruct gdb where to look for debug info</td><td class="time"><a href="#t2022-01-18T10:06:07" class="time">10:06</a></td></tr>
<tr id="t2022-01-18T10:06:16"><th class="nick" style="background: #539e9e">dacav</th><td class="text" style="color: #539e9e">Thanks</td><td class="time"><a href="#t2022-01-18T10:06:16" class="time">10:06</a></td></tr>
<tr id="t2022-01-18T10:10:29"><th class="nick" style="background: #a25555">kroon</th><td class="text" style="color: #a25555">dacav, can you post a link to the archived email detailing the sdk problem ?</td><td class="time"><a href="#t2022-01-18T10:10:29" class="time">10:10</a></td></tr>
<tr id="t2022-01-18T10:13:23"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">kayterina[m]: don't do that, just remove everything EXCEPT downloads and sstate-cache in your build directory</td><td class="time"><a href="#t2022-01-18T10:13:23" class="time">10:13</a></td></tr>
<tr id="t2022-01-18T10:14:05"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">cleanall removes the fetched sources and sstate-cache, almost making it a build from scratch</td><td class="time"><a href="#t2022-01-18T10:14:05" class="time">10:14</a></td></tr>
<tr id="t2022-01-18T10:14:51"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">kayterina[m]: if you're building within a container, I personally had to add --tmpfs /tmp to the podman/docker run command to make those pseudo abort go away</td><td class="time"><a href="#t2022-01-18T10:14:51" class="time">10:14</a></td></tr>
<tr id="t2022-01-18T10:15:39"><th class="nick" style="background: #8c4a4a">coldspark29[m]</th><td class="text" style="color: #8c4a4a">&lt;qschulz&gt; &quot;&quot;I could manage with some...&quot; &lt;- I was just thinking that all I have to do is add the drivers source files, add our kconfig and device tree to the kernel</td><td class="time"><a href="#t2022-01-18T10:15:39" class="time">10:15</a></td></tr>
<tr id="t2022-01-18T10:15:57"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">coldspark29[m]: and defconfig</td><td class="time"><a href="#t2022-01-18T10:15:57" class="time">10:15</a></td></tr>
<tr id="t2022-01-18T10:17:02"><th class="nick" style="background: #8c4a4a">coldspark29[m]</th><td class="text" style="color: #8c4a4a">So an .scc file seems like a patch list to me. Is that correct? My colleague just said the same thing as you, that is a patched repository makes you independent from build systems.</td><td class="time"><a href="#t2022-01-18T10:17:02" class="time">10:17</a></td></tr>
<tr id="t2022-01-18T10:17:18"><th class="nick" style="background: #8c4a4a">coldspark29[m]</th><td class="text" style="color: #8c4a4a">qschulz: I probably meant that. Are they not the same?</td><td class="time"><a href="#t2022-01-18T10:17:18" class="time">10:17</a></td></tr>
<tr id="t2022-01-18T10:18:44"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">kconfig is the way of listing options, which is then parsed by tools such as menuconfig/xconfig/whatever to allow you to select options and create a defconfig</td><td class="time"><a href="#t2022-01-18T10:18:44" class="time">10:18</a></td></tr>
<tr id="t2022-01-18T10:19:22"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">ultimately, you need both. One (kconfig file/option) to declare a new option, and a defconfig (or modification of a defconfig) to select this option so it's built</td><td class="time"><a href="#t2022-01-18T10:19:22" class="time">10:19</a></td></tr>
<tr id="t2022-01-18T10:19:42"><th class="nick" style="background: #8c4a4a">coldspark29[m]</th><td class="text" style="color: #8c4a4a">Ah so kconfig is the drivers sources available I guess</td><td class="time"><a href="#t2022-01-18T10:19:42" class="time">10:19</a></td></tr>
<tr id="t2022-01-18T10:19:44"><th class="nick" style="background: #8c4a4a">coldspark29[m]</th><td class="text" style="color: #8c4a4a">I meant defconfig then</td><td class="time"><a href="#t2022-01-18T10:19:44" class="time">10:19</a></td></tr>
<tr id="t2022-01-18T10:20:15"><th class="nick" style="background: #539e9e">dacav</th><td class="text" style="color: #539e9e">kroon: thanks! Sure! <a href="https://lists.yoctoproject.org/g/yocto/message/55836" rel="nofollow">https://lists.yoctoproject.org/g/yocto/message/55836</a></td><td class="time"><a href="#t2022-01-18T10:20:15" class="time">10:20</a></td></tr>
<tr id="t2022-01-18T10:20:16"><th class="nick" style="background: #8c4a4a">coldspark29[m]</th><td class="text" style="color: #8c4a4a">Thanks</td><td class="time"><a href="#t2022-01-18T10:20:16" class="time">10:20</a></td></tr>
<tr id="t2022-01-18T10:21:12"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">no, kconfig is a config file listing options. kernel drivers are C source code files that gets compiled if the kconfig option is enabled in your defconfig (technically .config, since defconfig is just a stripped down version of defconfig)</td><td class="time"><a href="#t2022-01-18T10:21:12" class="time">10:21</a></td></tr>
<tr id="t2022-01-18T10:21:16"><th class="nick" style="background: #539e9e">dacav</th><td class="text" style="color: #539e9e">kroon: I didn't discuss the broken sdk, actually</td><td class="time"><a href="#t2022-01-18T10:21:16" class="time">10:21</a></td></tr>
<tr id="t2022-01-18T10:24:54"><th class="nick" style="background: #57a657">kayterina[m]</th><td class="text" style="color: #57a657">with --tmpfs=/tmp in docker, what do you send to linux /tmp? Some temporary files of yocto?</td><td class="time"><a href="#t2022-01-18T10:24:54" class="time">10:24</a></td></tr>
<tr id="t2022-01-18T10:24:59"><th class="nick" style="background: #a25555">kroon</th><td class="text" style="color: #a25555">dacav, ok. id suggest getting the sdk fixed. the devshell thing, you only get build dependencies in PATH, the output binaries for the actual recipe you're devshell:ing will not be in your PATH</td><td class="time"><a href="#t2022-01-18T10:24:59" class="time">10:24</a></td></tr>
<tr id="t2022-01-18T10:26:09"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">kayterina[m]: it makes /tmp inside the container a tmpfs, that's all I can say</td><td class="time"><a href="#t2022-01-18T10:26:09" class="time">10:26</a></td></tr>
<tr id="t2022-01-18T10:26:15"><th class="nick" style="background: #a25555">kroon</th><td class="text" style="color: #a25555">dacav, so if you devshell a recipe the DEPENDS in your cross compiler, then you'd see it in PATH</td><td class="time"><a href="#t2022-01-18T10:26:15" class="time">10:26</a></td></tr>
<tr id="t2022-01-18T10:28:22"><th class="nick" style="background: #5959a9">RP</th><td class="text" style="color: #5959a9">michaelo: are there other bitbake patches I'm missing?</td><td class="time"><a href="#t2022-01-18T10:28:22" class="time">10:28</a></td></tr>
<tr id="t2022-01-18T10:28:44"><th class="nick" style="background: #57a657">kayterina[m]</th><td class="text" style="color: #57a657">and also I have to delete workspace directory? The error comes from building a recipe with changes to its code</td><td class="time"><a href="#t2022-01-18T10:28:44" class="time">10:28</a></td></tr>
<tr id="t2022-01-18T10:29:32"><th class="nick" style="background: #539e9e">dacav</th><td class="text" style="color: #539e9e">kroon: I see.&nbsp;&nbsp;...would it work to add the cross-compiler as DEPENDS of my tool?</td><td class="time"><a href="#t2022-01-18T10:29:32" class="time">10:29</a></td></tr>
<tr id="t2022-01-18T10:29:55"><th class="nick" style="background: #a25555">kroon</th><td class="text" style="color: #a25555">dacav, i think so</td><td class="time"><a href="#t2022-01-18T10:29:55" class="time">10:29</a></td></tr>
<tr id="t2022-01-18T10:30:27"><th class="nick" style="background: #539e9e">dacav</th><td class="text" style="color: #539e9e">kroon: or I could spend time in fixing the SDK, but ...I'm really not sure which direction to take -- I'm a noob, and I find huge problems everywhere: I might spend months (one is gone) before I get to have some result :-/</td><td class="time"><a href="#t2022-01-18T10:30:27" class="time">10:30</a></td></tr>
<tr id="t2022-01-18T10:30:33"><th class="nick" style="background: #a25555">kroon</th><td class="text" style="color: #a25555">dacav, then devshell your tool, and you should have the cross compiler in PATH</td><td class="time"><a href="#t2022-01-18T10:30:33" class="time">10:30</a></td></tr>
<tr id="t2022-01-18T10:30:52"><th class="nick" style="background: #539e9e">dacav</th><td class="text" style="color: #539e9e">kroon: thanks.&nbsp;&nbsp;That would be *MUCH* better than a docker container</td><td class="time"><a href="#t2022-01-18T10:30:52" class="time">10:30</a></td></tr>
<tr id="t2022-01-18T10:31:20"><th class="nick" style="background: #539e9e">dacav</th><td class="text" style="color: #539e9e">docker is crap, I have to copy data or use volumes, then all permissions become root... pff...</td><td class="time"><a href="#t2022-01-18T10:31:20" class="time">10:31</a></td></tr>
<tr id="t2022-01-18T10:32:21"><th class="nick" style="background: #a25555">kroon</th><td class="text" style="color: #a25555">dacav, its worth a shot decribing the problem with the SDK on the oe-core ml, people will help out if they can</td><td class="time"><a href="#t2022-01-18T10:32:21" class="time">10:32</a></td></tr>
<tr id="t2022-01-18T10:34:52"><th class="nick" style="background: #539e9e">dacav</th><td class="text" style="color: #539e9e">kroon: I can put that on my todo list, sure.&nbsp;&nbsp;The problem comes from a patch that can't be applied, and the culprit recipe is in xilinx's layers</td><td class="time"><a href="#t2022-01-18T10:34:52" class="time">10:34</a></td></tr>
<tr id="t2022-01-18T10:35:06"><th class="nick" style="background: #539e9e">dacav</th><td class="text" style="color: #539e9e">I know there's a xilinx mailing list.</td><td class="time"><a href="#t2022-01-18T10:35:06" class="time">10:35</a></td></tr>
<tr id="t2022-01-18T10:35:13"><th class="nick" style="background: #539e9e">dacav</th><td class="text" style="color: #539e9e">should I use oe-core or xilinx ml?</td><td class="time"><a href="#t2022-01-18T10:35:13" class="time">10:35</a></td></tr>
<tr id="t2022-01-18T10:57:03"><th class="nick" style="background: #539e9e">dacav</th><td class="text" style="color: #539e9e">- I'll be using oe-core as you say.&nbsp;&nbsp;It is now in my long pile of things to do later :(</td><td class="time"><a href="#t2022-01-18T10:57:03" class="time">10:57</a></td></tr>
<tr id="t2022-01-18T11:53:44"><th class="nick" style="background: #539e9e">dacav</th><td class="text" style="color: #539e9e">kroon: thanks for the suggestions above.&nbsp;&nbsp;Adding DEPENDS on gdb-cross-aarch made it, and besides I correctly get the debug symbols too for free.</td><td class="time"><a href="#t2022-01-18T11:53:44" class="time">11:53</a></td></tr>
<tr id="t2022-01-18T11:57:03"><th class="nick" style="background: #a25555">kroon</th><td class="text" style="color: #a25555">dacav, üëç</td><td class="time"><a href="#t2022-01-18T11:57:03" class="time">11:57</a></td></tr>
<tr id="t2022-01-18T12:14:25"><th class="nick" style="background: #adad5b">paulbarker</th><td class="text" style="color: #adad5b">I'm trying to speed up yocto-check-layer runs in CI, is it safe to keep `${TMPDIR}/cache` and throw away the rest of `${TMPDIR}`?</td><td class="time"><a href="#t2022-01-18T12:14:25" class="time">12:14</a></td></tr>
<tr id="t2022-01-18T12:14:42"><th class="nick" style="background: #adad5b">paulbarker</th><td class="text" style="color: #adad5b">Or does that cache depend on other info in `${TMPDIR}`</td><td class="time"><a href="#t2022-01-18T12:14:42" class="time">12:14</a></td></tr>
<tr id="t2022-01-18T12:59:35"><th class="nick" style="background: #539e9e">dacav</th><td class="text" style="color: #539e9e">Hi.&nbsp;&nbsp;I think I need to run ipkg-make-index if I want [ <a href="https://docs.yoctoproject.org/dev-manual/common-tasks.html#using-ipk" rel="nofollow">https://docs.yoctoproject.org/dev-manual/common-tasks.html#using-ipk</a> ] to be effective.</td><td class="time"><a href="#t2022-01-18T12:59:35" class="time">12:59</a></td></tr>
<tr id="t2022-01-18T12:59:47"><th class="nick" style="background: #539e9e">dacav</th><td class="text" style="color: #539e9e">It looks like there's no recipe for it in yocto</td><td class="time"><a href="#t2022-01-18T12:59:47" class="time">12:59</a></td></tr>
<tr id="t2022-01-18T13:00:32"><th class="nick" style="background: #539e9e">dacav</th><td class="text" style="color: #539e9e">(I was thinking that there should be probably a native one, but I could not find it)</td><td class="time"><a href="#t2022-01-18T13:00:32" class="time">13:00</a></td></tr>
<tr id="t2022-01-18T13:09:31"><th class="nick" style="background: #b15db1">rburton</th><td class="text" style="color: #b15db1">dacav: bitbake package-index</td><td class="time"><a href="#t2022-01-18T13:09:31" class="time">13:09</a></td></tr>
<tr id="t2022-01-18T13:10:27"><th class="nick" style="background: #b15db1">rburton</th><td class="text" style="color: #b15db1">dacav: <a href="https://docs.yoctoproject.org/dev-manual/common-tasks.html#using-runtime-package-management" rel="nofollow">https://docs.yoctoproject.org/dev-manual/common-tasks.html#using-runtime-package-management</a> covers the build host side</td><td class="time"><a href="#t2022-01-18T13:10:27" class="time">13:10</a></td></tr>
<tr id="t2022-01-18T13:11:02-2"><td class="nickchange" colspan="2">*** jmiehe1 is now known as jmiehe</td><td><a href="#t2022-01-18T13:11:02-2" class="time">13:11</a></td></tr>
<tr id="t2022-01-18T13:21:32"><th class="nick" style="background: #5fb4b4">Guest96</th><td class="text" style="color: #5fb4b4">FYI: <a href="https://www.yoctoproject.org/irc/" rel="nofollow">https://www.yoctoproject.org/irc/</a> hasn't been updated for the whole year 2022 - could one please have a look</td><td class="time"><a href="#t2022-01-18T13:21:32" class="time">13:21</a></td></tr>
<tr id="t2022-01-18T13:24:11"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">halstead: good morning :) can you have a look at what Guest96 just reported please? ^</td><td class="time"><a href="#t2022-01-18T13:24:11" class="time">13:24</a></td></tr>
<tr id="t2022-01-18T13:58:51"><th class="nick" style="background: #539e9e">dacav</th><td class="text" style="color: #539e9e">rburton: thanks, I'll check out :)</td><td class="time"><a href="#t2022-01-18T13:58:51" class="time">13:58</a></td></tr>
<tr id="t2022-01-18T14:00:37"><th class="nick" style="background: #5959a9">RP</th><td class="text" style="color: #5959a9">michaelo: I tweaked some permissions to get the docs builds to stop failing</td><td class="time"><a href="#t2022-01-18T14:00:37" class="time">14:00</a></td></tr>
<tr id="t2022-01-18T14:06:36"><th class="nick" style="background: #b86161">michaelo</th><td class="text" style="color: #b86161">RP: awesome, thanks a lot!</td><td class="time"><a href="#t2022-01-18T14:06:36" class="time">14:06</a></td></tr>
<tr id="t2022-01-18T14:07:27"><th class="nick" style="background: #b86161">michaelo</th><td class="text" style="color: #b86161">RP: thanks for taking the BitBake patch. No other one was missing I believe.</td><td class="time"><a href="#t2022-01-18T14:07:27" class="time">14:07</a></td></tr>
<tr id="t2022-01-18T14:08:40"><th class="nick" style="background: #5959a9">RP</th><td class="text" style="color: #5959a9">michaelo: thanks. I get a bit confused at times with patches that go to multiple lists so remind me if I miss anything</td><td class="time"><a href="#t2022-01-18T14:08:40" class="time">14:08</a></td></tr>
<tr id="t2022-01-18T14:13:21"><th class="nick" style="background: #539e9e">dacav</th><td class="text" style="color: #539e9e">rburton: and the funny part is that I even read that already.&nbsp;&nbsp;Sorry for the dumb question.</td><td class="time"><a href="#t2022-01-18T14:13:21" class="time">14:13</a></td></tr>
<tr id="t2022-01-18T14:20:27"><td class="nickchange" colspan="2">*** marka is now known as Guest114</td><td><a href="#t2022-01-18T14:20:27" class="time">14:20</a></td></tr>
<tr id="t2022-01-18T14:21:37"><td class="nickchange" colspan="2">*** TundraMan is now known as marka</td><td><a href="#t2022-01-18T14:21:37" class="time">14:21</a></td></tr>
<tr id="t2022-01-18T14:22:43"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">Hi All! Day 5 of my Yocto adventures:D ¬†Managed to create a custom layer with recipes for my¬† board and software so that's looking promising</td><td class="time"><a href="#t2022-01-18T14:22:43" class="time">14:22</a></td></tr>
<tr id="t2022-01-18T14:24:53"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">Uploaded file: <a href="https://uploads.kiwiirc.com/files/83c55968f92f142caf60faa77dcfad0d/pasted.txt" rel="nofollow">https://uploads.kiwiirc.com/files/83c55968f92f142caf60faa77dcfad0d/pasted.txt</a></td><td class="time"><a href="#t2022-01-18T14:24:53" class="time">14:24</a></td></tr>
<tr id="t2022-01-18T14:24:54"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">However when I add the 'podman' recipe (from meta-virtualization) to my image bitbake starts complaining about not being able to download ostree :</td><td class="time"><a href="#t2022-01-18T14:24:54" class="time">14:24</a></td></tr>
<tr id="t2022-01-18T14:24:55"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">ERROR: ostree-2021.3-r0 do_fetch: Fetcher failure for URL: 'gitsm://gitlab.gnome.org/GNOME/libglnx.git;protocol=https;name=libglnx;subpath=libglnx;bareclone=1;nobranch=1'. Unable to fetch URL from any source.</td><td class="time"><a href="#t2022-01-18T14:24:55" class="time">14:24</a></td></tr>
<tr id="t2022-01-18T14:24:55-2"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">ERROR: ostree-2021.3-r0 do_fetch: Fetcher failure for URL: 'gitsm://github.com/ostreedev/ostree;branch=main;protocol=https'. Unable to fetch URL from any source.</td><td class="time"><a href="#t2022-01-18T14:24:55-2" class="time">14:24</a></td></tr>
<tr id="t2022-01-18T14:24:56"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">When I go to the github page it all seems ok, and the revision id in the .bb file is actually a valid commit. Where do I start troubleshooting this ? I'm on the honister branch</td><td class="time"><a href="#t2022-01-18T14:24:56" class="time">14:24</a></td></tr>
<tr id="t2022-01-18T14:26:25"><th class="nick" style="background: #b15db1">rburton</th><td class="text" style="color: #b15db1">the actual error is likely above what you pasted</td><td class="time"><a href="#t2022-01-18T14:26:25" class="time">14:26</a></td></tr>
<tr id="t2022-01-18T14:26:30"><th class="nick" style="background: #b15db1">rburton</th><td class="text" style="color: #b15db1">can you pastebin the full log?</td><td class="time"><a href="#t2022-01-18T14:26:30" class="time">14:26</a></td></tr>
<tr id="t2022-01-18T14:27:51"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">you mean the console output or the complete task log ?</td><td class="time"><a href="#t2022-01-18T14:27:51" class="time">14:27</a></td></tr>
<tr id="t2022-01-18T14:29:05"><th class="nick" style="background: #b15db1">rburton</th><td class="text" style="color: #b15db1">the console output will do</td><td class="time"><a href="#t2022-01-18T14:29:05" class="time">14:29</a></td></tr>
<tr id="t2022-01-18T14:29:44"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">console log : <a href="https://pastebin.com/JV79TVAh" rel="nofollow">https://pastebin.com/JV79TVAh</a></td><td class="time"><a href="#t2022-01-18T14:29:44" class="time">14:29</a></td></tr>
<tr id="t2022-01-18T14:30:03"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">full task log file for the failing step (ostree) : <a href="https://pastebin.com/YtQJLYmc" rel="nofollow">https://pastebin.com/YtQJLYmc</a></td><td class="time"><a href="#t2022-01-18T14:30:03" class="time">14:30</a></td></tr>
<tr id="t2022-01-18T14:30:27"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">I can't find any obvious ERRORs on 'why' the download would fail</td><td class="time"><a href="#t2022-01-18T14:30:27" class="time">14:30</a></td></tr>
<tr id="t2022-01-18T14:32:16"><th class="nick" style="background: #b15db1">rburton</th><td class="text" style="color: #b15db1">fatal: unable to access '<a href="https://gitlab.gnome.org/GNOME/libglnx.git/" rel="nofollow">https://gitlab.gnome.org/GNOME/libglnx.git/</a>': server certificate verification failed. CAfile: none CRLfile: none</td><td class="time"><a href="#t2022-01-18T14:32:16" class="time">14:32</a></td></tr>
<tr id="t2022-01-18T14:32:39"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">err</td><td class="time"><a href="#t2022-01-18T14:32:39" class="time">14:32</a></td></tr>
<tr id="t2022-01-18T14:32:45"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">how did I miss that ? lol</td><td class="time"><a href="#t2022-01-18T14:32:45" class="time">14:32</a></td></tr>
<tr id="t2022-01-18T14:32:54"><th class="nick" style="background: #b15db1">rburton</th><td class="text" style="color: #b15db1">its not on the console, which is annoying</td><td class="time"><a href="#t2022-01-18T14:32:54" class="time">14:32</a></td></tr>
<tr id="t2022-01-18T14:33:10"><th class="nick" style="background: #b15db1">rburton</th><td class="text" style="color: #b15db1">try a clone outside of yocto, you might have stale certificates</td><td class="time"><a href="#t2022-01-18T14:33:10" class="time">14:33</a></td></tr>
<tr id="t2022-01-18T14:33:19"><th class="nick" style="background: #b15db1">rburton</th><td class="text" style="color: #b15db1">there was a major update a few months ago which you'll need</td><td class="time"><a href="#t2022-01-18T14:33:19" class="time">14:33</a></td></tr>
<tr id="t2022-01-18T14:34:08"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">git clone <a href="https://gitlab.gnome.org/GNOME/libglnx.git" rel="nofollow">https://gitlab.gnome.org/GNOME/libglnx.git</a></td><td class="time"><a href="#t2022-01-18T14:34:08" class="time">14:34</a></td></tr>
<tr id="t2022-01-18T14:34:09"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">Cloning into 'libglnx'...</td><td class="time"><a href="#t2022-01-18T14:34:09" class="time">14:34</a></td></tr>
<tr id="t2022-01-18T14:34:09-2"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">fatal: unable to access '<a href="https://gitlab.gnome.org/GNOME/libglnx.git/" rel="nofollow">https://gitlab.gnome.org/GNOME/libglnx.git/</a>': server certificate verification failed. CAfile: none CRLfile: none</td><td class="time"><a href="#t2022-01-18T14:34:09-2" class="time">14:34</a></td></tr>
<tr id="t2022-01-18T14:34:15"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">indeed..</td><td class="time"><a href="#t2022-01-18T14:34:15" class="time">14:34</a></td></tr>
<tr id="t2022-01-18T14:34:29"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">Freshly installed host machine (windows) with WSL2 ;-)</td><td class="time"><a href="#t2022-01-18T14:34:29" class="time">14:34</a></td></tr>
<tr id="t2022-01-18T14:34:43"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">Never thought the issue is in that area</td><td class="time"><a href="#t2022-01-18T14:34:43" class="time">14:34</a></td></tr>
<tr id="t2022-01-18T14:35:29"><th class="nick" style="background: #adad5b">paulbarker</th><td class="text" style="color: #adad5b">Skinny79: What's the distro there? I had similar issues with an Ubuntu-based container which didn't have ca-certificates installed, you may want to try installing that if it's Ubuntu</td><td class="time"><a href="#t2022-01-18T14:35:29" class="time">14:35</a></td></tr>
<tr id="t2022-01-18T14:35:50"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">It has ca-certificates but now that I look at it its a version from 2019 :shrug:</td><td class="time"><a href="#t2022-01-18T14:35:50" class="time">14:35</a></td></tr>
<tr id="t2022-01-18T14:35:54"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">updating..</td><td class="time"><a href="#t2022-01-18T14:35:54" class="time">14:35</a></td></tr>
<tr id="t2022-01-18T14:36:59"><th class="nick" style="background: #adad5b">paulbarker</th><td class="text" style="color: #adad5b">That far out-of-date would definitely cause issues!</td><td class="time"><a href="#t2022-01-18T14:36:59" class="time">14:36</a></td></tr>
<tr id="t2022-01-18T14:38:49"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">It's Ubuntu 20.04 LTS (but apparently not updated with recent updates)</td><td class="time"><a href="#t2022-01-18T14:38:49" class="time">14:38</a></td></tr>
<tr id="t2022-01-18T14:40:44"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">Am I right when I say that &quot;DISTRO_FEATURES&quot; are built but not ending up on the rootfs until you actually &quot;INSTALL_&quot; them ?</td><td class="time"><a href="#t2022-01-18T14:40:44" class="time">14:40</a></td></tr>
<tr id="t2022-01-18T14:42:17"><th class="nick" style="background: #b15db1">rburton</th><td class="text" style="color: #b15db1">DISTRO_FEATURES are not things that get built exactly</td><td class="time"><a href="#t2022-01-18T14:42:17" class="time">14:42</a></td></tr>
<tr id="t2022-01-18T14:42:26"><th class="nick" style="background: #b15db1">rburton</th><td class="text" style="color: #b15db1">like there isn't a 'wifi' recipe</td><td class="time"><a href="#t2022-01-18T14:42:26" class="time">14:42</a></td></tr>
<tr id="t2022-01-18T14:42:47"><th class="nick" style="background: #b15db1">rburton</th><td class="text" style="color: #b15db1">but yes, a thing being in distro features doesn't mean it is *definitely* in the image</td><td class="time"><a href="#t2022-01-18T14:42:47" class="time">14:42</a></td></tr>
<tr id="t2022-01-18T14:42:56"><th class="nick" style="background: #b15db1">rburton</th><td class="text" style="color: #b15db1">concrete example would be useful</td><td class="time"><a href="#t2022-01-18T14:42:56" class="time">14:42</a></td></tr>
<tr id="t2022-01-18T14:44:07"><th class="nick" style="background: #6464bf">smurray</th><td class="text" style="color: #6464bf">and what image you use as a base makes a difference, there's a bunch more of conditional inclusion based on DISTRO_FEATURES in some of the non-minimal ones</td><td class="time"><a href="#t2022-01-18T14:44:07" class="time">14:44</a></td></tr>
<tr id="t2022-01-18T14:45:24"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">Example would be that I need the 'salt' (stack) minion on my system. There is a recipe 'salt' in the meta-cloud-services/meta-openstack layer which actually builds all the packages for salt where I only need one specific binary in my final image. And also I have the feeling (based on the tasks performed) that a lot of stuff in the meta-openstack</td><td class="time"><a href="#t2022-01-18T14:45:24" class="time">14:45</a></td></tr>
<tr id="t2022-01-18T14:45:25"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">layer is also build but I don't need that at all. I'd really¬† like to stick with the recipe already available instead of copy/pasting it into my own layer</td><td class="time"><a href="#t2022-01-18T14:45:25" class="time">14:45</a></td></tr>
<tr id="t2022-01-18T14:46:38"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">BTW.. updating ca-certificates works, ends an afternoon looking for something in the wrong place, THANKS!</td><td class="time"><a href="#t2022-01-18T14:46:38" class="time">14:46</a></td></tr>
<tr id="t2022-01-18T14:47:05"><th class="nick" style="background: #b15db1">rburton</th><td class="text" style="color: #b15db1">a root certificate expired, so everyone with stale certs suddenly got weird errors</td><td class="time"><a href="#t2022-01-18T14:47:05" class="time">14:47</a></td></tr>
<tr id="t2022-01-18T14:48:15"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">So it had nothing to do with ostree and googling for issues with that aren't very helpful in this case ;-)</td><td class="time"><a href="#t2022-01-18T14:48:15" class="time">14:48</a></td></tr>
<tr id="t2022-01-18T14:48:45"><th class="nick" style="background: #b15db1">rburton</th><td class="text" style="color: #b15db1">the fetcher can be a pain as there's so many layers, best to look at the underlying log straight away</td><td class="time"><a href="#t2022-01-18T14:48:45" class="time">14:48</a></td></tr>
<tr id="t2022-01-18T14:50:30"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">Another lesson learned</td><td class="time"><a href="#t2022-01-18T14:50:30" class="time">14:50</a></td></tr>
<tr id="t2022-01-18T15:28:21"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">Still trying to learn the concepts and best practices here : In my own layer I have a¬† 'salt_3001.1.bbappend' file. What location is the &quot;correct&quot; one to include/require the base 'salt' recipe ?</td><td class="time"><a href="#t2022-01-18T15:28:21" class="time">15:28</a></td></tr>
<tr id="t2022-01-18T15:29:26"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">Skinny79: the bbappend (if found) will be applied to the original recipe matching the name and the version (if found)</td><td class="time"><a href="#t2022-01-18T15:29:26" class="time">15:29</a></td></tr>
<tr id="t2022-01-18T15:29:31"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">if that was your question</td><td class="time"><a href="#t2022-01-18T15:29:31" class="time">15:29</a></td></tr>
<tr id="t2022-01-18T15:29:39"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">there's no need to include/require the original recipe in a bbappend</td><td class="time"><a href="#t2022-01-18T15:29:39" class="time">15:29</a></td></tr>
<tr id="t2022-01-18T15:30:19"><th class="nick" style="background: #c3c366">rfs613</th><td class="text" style="color: #c3c366">Skinny79: a .bbappend file does not need to include/require the base recipe. It will instead be found by matching the filename (eg. salt_3001.1.bb)</td><td class="time"><a href="#t2022-01-18T15:30:19" class="time">15:30</a></td></tr>
<tr id="t2022-01-18T15:30:48"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">you just need to make sure your layer.conf has bbappends in the regexp in BBFILES</td><td class="time"><a href="#t2022-01-18T15:30:48" class="time">15:30</a></td></tr>
<tr id="t2022-01-18T15:30:51"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">ok, but I still need to add 'salt' to the IMAGE_INSTALL somewhere</td><td class="time"><a href="#t2022-01-18T15:30:51" class="time">15:30</a></td></tr>
<tr id="t2022-01-18T15:31:05"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">Skinny79: not necessarily</td><td class="time"><a href="#t2022-01-18T15:31:05" class="time">15:31</a></td></tr>
<tr id="t2022-01-18T15:31:19"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">if something RDEPENDS on salt and is part of IMAGE_INSTALL, then it's not needed</td><td class="time"><a href="#t2022-01-18T15:31:19" class="time">15:31</a></td></tr>
<tr id="t2022-01-18T15:31:40"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">okkkaay..... so..</td><td class="time"><a href="#t2022-01-18T15:31:40" class="time">15:31</a></td></tr>
<tr id="t2022-01-18T15:31:45"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">if nothing pulls the dependency for you, then you need to add your package to the packages to be installed by the image recipe</td><td class="time"><a href="#t2022-01-18T15:31:45" class="time">15:31</a></td></tr>
<tr id="t2022-01-18T15:32:10"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">I have 'meta-custom' layer with recipes-core/mycore.bb which RDEPENDS 'salt' and has the .bbappend file</td><td class="time"><a href="#t2022-01-18T15:32:10" class="time">15:32</a></td></tr>
<tr id="t2022-01-18T15:32:21"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">then I only need 'mycore' in my local.conf to add everything</td><td class="time"><a href="#t2022-01-18T15:32:21" class="time">15:32</a></td></tr>
<tr id="t2022-01-18T15:32:55"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">correct ?</td><td class="time"><a href="#t2022-01-18T15:32:55" class="time">15:32</a></td></tr>
<tr id="t2022-01-18T15:35:46"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">Skinny79: sort of</td><td class="time"><a href="#t2022-01-18T15:35:46" class="time">15:35</a></td></tr>
<tr id="t2022-01-18T15:35:53"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">Uploaded file: <a href="https://uploads.kiwiirc.com/files/b8580559dda1037e37a4cb3f6374691b/image.png" rel="nofollow">https://uploads.kiwiirc.com/files/b8580559dda1037e37a4cb3f6374691b/image.png</a></td><td class="time"><a href="#t2022-01-18T15:35:53" class="time">15:35</a></td></tr>
<tr id="t2022-01-18T15:36:03"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">first usually you have an additional subdirectory, e.g. recipes-core/something/mycore.bb</td><td class="time"><a href="#t2022-01-18T15:36:03" class="time">15:36</a></td></tr>
<tr id="t2022-01-18T15:36:04"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">the .bb file has 'RDEPENDS:${PN} += &quot; salt&quot;'</td><td class="time"><a href="#t2022-01-18T15:36:04" class="time">15:36</a></td></tr>
<tr id="t2022-01-18T15:36:26"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">second, you are supposed to create/extend the image recipe you build to add mycore to IMAGE_INSTALL in there</td><td class="time"><a href="#t2022-01-18T15:36:26" class="time">15:36</a></td></tr>
<tr id="t2022-01-18T15:36:32"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">local.conf should not be versioned</td><td class="time"><a href="#t2022-01-18T15:36:32" class="time">15:36</a></td></tr>
<tr id="t2022-01-18T15:36:53"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">and in my¬† local.conf I have IMAGE_INSTALL:append = &quot; sentinel-core&quot;</td><td class="time"><a href="#t2022-01-18T15:36:53" class="time">15:36</a></td></tr>
<tr id="t2022-01-18T15:37:39"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">Skinny79: yes, but again, create an image recipe to store IMAGE_INSTALL variable in it :)</td><td class="time"><a href="#t2022-01-18T15:37:39" class="time">15:37</a></td></tr>
<tr id="t2022-01-18T15:38:16"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">Uploaded file: <a href="https://uploads.kiwiirc.com/files/41b8d6731e113ca9f7463bb913aabce1/image.png" rel="nofollow">https://uploads.kiwiirc.com/files/41b8d6731e113ca9f7463bb913aabce1/image.png</a></td><td class="time"><a href="#t2022-01-18T15:38:16" class="time">15:38</a></td></tr>
<tr id="t2022-01-18T15:38:36"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">with IMAGE_INSTALL:append = &quot; sentinel-core&quot;</td><td class="time"><a href="#t2022-01-18T15:38:36" class="time">15:38</a></td></tr>
<tr id="t2022-01-18T15:42:32"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">Skinny79: yeah that's okay-ish for now, next step will be to create your own image recipe :)</td><td class="time"><a href="#t2022-01-18T15:42:32" class="time">15:42</a></td></tr>
<tr id="t2022-01-18T15:42:42"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">I think that's what so confusing me . Now I have a succesful build but the rootfs doesn't have either salt or my custom app (sentinel).</td><td class="time"><a href="#t2022-01-18T15:42:42" class="time">15:42</a></td></tr>
<tr id="t2022-01-18T15:42:50"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">Is that what's solved by the image recipe ?</td><td class="time"><a href="#t2022-01-18T15:42:50" class="time">15:42</a></td></tr>
<tr id="t2022-01-18T15:43:14"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">what's the value of BBFILES in your layer.conf file?</td><td class="time"><a href="#t2022-01-18T15:43:14" class="time">15:43</a></td></tr>
<tr id="t2022-01-18T15:43:45"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">just the default : <a href="https://pastebin.com/ThNM5ji1" rel="nofollow">https://pastebin.com/ThNM5ji1</a></td><td class="time"><a href="#t2022-01-18T15:43:45" class="time">15:43</a></td></tr>
<tr id="t2022-01-18T15:45:01"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">What I am just not seeing is how just including my customer layer in 'bblayers.conf' will actually DO something ? I mean, otherwise just including a meta-xxx layer would just add all the software in there ? I figured that I need something in my local.conf but apparently I don't ?</td><td class="time"><a href="#t2022-01-18T15:45:01" class="time">15:45</a></td></tr>
<tr id="t2022-01-18T15:45:15"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">Skinny79: you need an additional parent directory</td><td class="time"><a href="#t2022-01-18T15:45:15" class="time">15:45</a></td></tr>
<tr id="t2022-01-18T15:45:29"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">otherwise it does not match the regexp in BBFILES and your bbappends aren't found</td><td class="time"><a href="#t2022-01-18T15:45:29" class="time">15:45</a></td></tr>
<tr id="t2022-01-18T15:45:41"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">you could see this by running btibake-layers show-append I think</td><td class="time"><a href="#t2022-01-18T15:45:41" class="time">15:45</a></td></tr>
<tr id="t2022-01-18T15:45:56"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">Uploaded file: <a href="https://uploads.kiwiirc.com/files/4dfc69acae262f8521803a393d90fef1/image.png" rel="nofollow">https://uploads.kiwiirc.com/files/4dfc69acae262f8521803a393d90fef1/image.png</a></td><td class="time"><a href="#t2022-01-18T15:45:56" class="time">15:45</a></td></tr>
<tr id="t2022-01-18T15:46:06"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">Skinny79: you run bitbake core-image-minimal</td><td class="time"><a href="#t2022-01-18T15:46:06" class="time">15:46</a></td></tr>
<tr id="t2022-01-18T15:46:07"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">I think that's there : sentinel-core folder under recipes-core</td><td class="time"><a href="#t2022-01-18T15:46:07" class="time">15:46</a></td></tr>
<tr id="t2022-01-18T15:46:15"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">qschulz yes</td><td class="time"><a href="#t2022-01-18T15:46:15" class="time">15:46</a></td></tr>
<tr id="t2022-01-18T15:46:17"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">(for now)</td><td class="time"><a href="#t2022-01-18T15:46:17" class="time">15:46</a></td></tr>
<tr id="t2022-01-18T15:46:28"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">Skinny79: so that's what decides what gets build into your image</td><td class="time"><a href="#t2022-01-18T15:46:28" class="time">15:46</a></td></tr>
<tr id="t2022-01-18T15:46:29"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">One step at a time :)</td><td class="time"><a href="#t2022-01-18T15:46:29" class="time">15:46</a></td></tr>
<tr id="t2022-01-18T15:46:31"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">not all recipes</td><td class="time"><a href="#t2022-01-18T15:46:31" class="time">15:46</a></td></tr>
<tr id="t2022-01-18T15:46:43"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">just what's necessary to build your image recipe</td><td class="time"><a href="#t2022-01-18T15:46:43" class="time">15:46</a></td></tr>
<tr id="t2022-01-18T15:47:07"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">recipes-core/mycore.bb does NOT match BBFILES pattern</td><td class="time"><a href="#t2022-01-18T15:47:07" class="time">15:47</a></td></tr>
<tr id="t2022-01-18T15:47:14"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">recipes-core/core/mycore.bb does though</td><td class="time"><a href="#t2022-01-18T15:47:14" class="time">15:47</a></td></tr>
<tr id="t2022-01-18T15:47:25"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">no sorry, I mistyped that.. look at the screenshot for my actual folder structure</td><td class="time"><a href="#t2022-01-18T15:47:25" class="time">15:47</a></td></tr>
<tr id="t2022-01-18T15:48:06"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">Skinny79: recipes-images/core-image-minimal.bbappend does not match BBFILES either</td><td class="time"><a href="#t2022-01-18T15:48:06" class="time">15:48</a></td></tr>
<tr id="t2022-01-18T15:48:09"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">oh hold on</td><td class="time"><a href="#t2022-01-18T15:48:09" class="time">15:48</a></td></tr>
<tr id="t2022-01-18T15:48:18"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">that image recipe is not matching that structure</td><td class="time"><a href="#t2022-01-18T15:48:18" class="time">15:48</a></td></tr>
<tr id="t2022-01-18T15:48:24"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">that ^^</td><td class="time"><a href="#t2022-01-18T15:48:24" class="time">15:48</a></td></tr>
<tr id="t2022-01-18T15:48:45"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">also try to send text only and not images :)</td><td class="time"><a href="#t2022-01-18T15:48:45" class="time">15:48</a></td></tr>
<tr id="t2022-01-18T15:49:02"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">ok, np</td><td class="time"><a href="#t2022-01-18T15:49:02" class="time">15:49</a></td></tr>
<tr id="t2022-01-18T15:49:22"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">easier for us (don't need to pop-up some browser to watch it) and also makes it archive friendly for the IRC logs</td><td class="time"><a href="#t2022-01-18T15:49:22" class="time">15:49</a></td></tr>
<tr id="t2022-01-18T15:49:36"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">so people might be able to find the discussions with their favourite search engine</td><td class="time"><a href="#t2022-01-18T15:49:36" class="time">15:49</a></td></tr>
<tr id="t2022-01-18T15:49:47"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">true, I figured i t would be easier to read instead of ASCII folder structures ;-)</td><td class="time"><a href="#t2022-01-18T15:49:47" class="time">15:49</a></td></tr>
<tr id="t2022-01-18T15:50:19"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">Skinny79: find . -name &quot;*.bb*&quot; would probably have been enough :)</td><td class="time"><a href="#t2022-01-18T15:50:19" class="time">15:50</a></td></tr>
<tr id="t2022-01-18T15:50:26"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">ok one more as qemu doesn't allow text selection somehow</td><td class="time"><a href="#t2022-01-18T15:50:26" class="time">15:50</a></td></tr>
<tr id="t2022-01-18T15:50:26-2"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">or `tree` also helps :)</td><td class="time"><a href="#t2022-01-18T15:50:26-2" class="time">15:50</a></td></tr>
<tr id="t2022-01-18T15:50:30"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">Uploaded file: <a href="https://uploads.kiwiirc.com/files/dd1249ae1d299fc8f5680814fc01ce94/image.png" rel="nofollow">https://uploads.kiwiirc.com/files/dd1249ae1d299fc8f5680814fc01ce94/image.png</a></td><td class="time"><a href="#t2022-01-18T15:50:30" class="time">15:50</a></td></tr>
<tr id="t2022-01-18T15:50:57"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">Skinny79: looks nice :) anything wrong?</td><td class="time"><a href="#t2022-01-18T15:50:57" class="time">15:50</a></td></tr>
<tr id="t2022-01-18T15:50:58"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">brilliant.. the beauty of sense is that when it makes sense to you it's beautiful</td><td class="time"><a href="#t2022-01-18T15:50:58" class="time">15:50</a></td></tr>
<tr id="t2022-01-18T15:51:50"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">Skinny79: if I may suggest the Youtube tutorial from LetoThe2nd.. will help you get started and build good foundations</td><td class="time"><a href="#t2022-01-18T15:51:50" class="time">15:51</a></td></tr>
<tr id="t2022-01-18T15:51:58"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">qschulz and the custom image recipe you were referring to is to replace my current core-image-minimal.bbappend with a core-sentinel-image.bb (or whatever) and use that as the argument for bitbake ?</td><td class="time"><a href="#t2022-01-18T15:51:58" class="time">15:51</a></td></tr>
<tr id="t2022-01-18T15:52:30"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93"><a href="https://www.youtube.com/watch?v=ThTl4FItfMI&amp;list=PLD4M5FoHz-TxMfBFrDKfIS_GLY25Qsfyj" rel="nofollow">https://www.youtube.com/watch?v=ThTl4FItfMI&amp;list=PLD4M5FoHz-TxMfBFrDKfIS_GLY25Qsfyj</a></td><td class="time"><a href="#t2022-01-18T15:52:30" class="time">15:52</a></td></tr>
<tr id="t2022-01-18T15:52:38"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">Skinny79: absolutely</td><td class="time"><a href="#t2022-01-18T15:52:38" class="time">15:52</a></td></tr>
<tr id="t2022-01-18T15:52:49"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">Nice! Thanks.. Have watch a lot already but suggestions are very welcome</td><td class="time"><a href="#t2022-01-18T15:52:49" class="time">15:52</a></td></tr>
<tr id="t2022-01-18T15:52:57"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">-ed</td><td class="time"><a href="#t2022-01-18T15:52:57" class="time">15:52</a></td></tr>
<tr id="t2022-01-18T15:53:16"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">Thank you so much!</td><td class="time"><a href="#t2022-01-18T15:53:16" class="time">15:53</a></td></tr>
<tr id="t2022-01-18T15:53:24"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">enjoy :)</td><td class="time"><a href="#t2022-01-18T15:53:24" class="time">15:53</a></td></tr>
<tr id="t2022-01-18T15:53:51"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">Although¬† my wife wouldn't agree because here's another night spend on hobbies ;-)</td><td class="time"><a href="#t2022-01-18T15:53:51" class="time">15:53</a></td></tr>
<tr id="t2022-01-18T15:58:34"><th class="nick" style="background: #c668c6">vd</th><td class="text" style="color: #c668c6">hi there -- qschulz you were right. After a few tests I went back to a single distro with multiple images. It makes me write a lot of recipes, but it's way faster. Multiple distros (managed manually) or multiconfigs (from the same bitbake call) extend considerably the parsing and build time, kinda deal breaker.</td><td class="time"><a href="#t2022-01-18T15:58:34" class="time">15:58</a></td></tr>
<tr id="t2022-01-18T16:00:18"><th class="nick" style="background: #6acaca">kergoth</th><td class="text" style="color: #6acaca">Ah, hadn't considered parse time! Makes sense</td><td class="time"><a href="#t2022-01-18T16:00:18" class="time">16:00</a></td></tr>
<tr id="t2022-01-18T16:03:10"><th class="nick" style="background: #c668c6">vd</th><td class="text" style="color: #c668c6">kergoth: I just moved 3 customizations into 3 multiconfig, and it was literally 3 times longer and also a lot of messages about deferring tasks.</td><td class="time"><a href="#t2022-01-18T16:03:10" class="time">16:03</a></td></tr>
<tr id="t2022-01-18T16:10:21"><th class="nick" style="background: #6acaca">kergoth</th><td class="text" style="color: #6acaca">I wish those messages were moved to only with verbose, they mean nothing to most users anyway</td><td class="time"><a href="#t2022-01-18T16:10:21" class="time">16:10</a></td></tr>
<tr id="t2022-01-18T16:15:48"><th class="nick" style="background: #5959a9">RP</th><td class="text" style="color: #5959a9">kergoth: we possibly could do that now. The problem was where multiconfig builds went mental and we couldn't debug it, we're trying to avoid that and be able to debug failures</td><td class="time"><a href="#t2022-01-18T16:15:48" class="time">16:15</a></td></tr>
<tr id="t2022-01-18T16:18:01"><th class="nick" style="background: #ce6c6c">fray</th><td class="text" style="color: #ce6c6c">I found in gatesgarth that merging multiconfigs was about the same amount of time as doing them manually -- for a large &quot;fresh&quot; build.&nbsp;&nbsp;But doing them for a small build often was longer due to parsing overhead.. (small build was one or two recipes).</td><td class="time"><a href="#t2022-01-18T16:18:01" class="time">16:18</a></td></tr>
<tr id="t2022-01-18T16:18:41"><th class="nick" style="background: #ce6c6c">fray</th><td class="text" style="color: #ce6c6c">With Honister though, I'm finding that generally multiconfig builds are now _faster_ (which is what I would have expected with better re-use) for larger builds</td><td class="time"><a href="#t2022-01-18T16:18:41" class="time">16:18</a></td></tr>
<tr id="t2022-01-18T16:21:00"><th class="nick" style="background: #ce6c6c">fray</th><td class="text" style="color: #ce6c6c">I should add, one place we found a lot of slowdown though.&nbsp;&nbsp;When you get multiple copies of gcc (for different configs) building at the same time.&nbsp;&nbsp;It can overwealm the system.&nbsp;&nbsp;We ended up putting in some additional limits to try to avoid that and it gave us really good results.&nbsp;&nbsp;(Our builders run in some IT managed magic container system.. so I don't have a lot of details WHY it was failing, only that it</td><td class="time"><a href="#t2022-01-18T16:21:00" class="time">16:21</a></td></tr>
<tr id="t2022-01-18T16:21:06"><th class="nick" style="background: #ce6c6c">fray</th><td class="text" style="color: #ce6c6c">was)</td><td class="time"><a href="#t2022-01-18T16:21:06" class="time">16:21</a></td></tr>
<tr id="t2022-01-18T16:24:27"><th class="nick" style="background: #ce6c6c">fray</th><td class="text" style="color: #ce6c6c">Just looked we has to set: do_compile[number_threads] = &quot;4&quot;&nbsp;&nbsp;as well as PARALLEL_MAKE = '-j 4' (for gcc, binutils and gdb)...</td><td class="time"><a href="#t2022-01-18T16:24:27" class="time">16:24</a></td></tr>
<tr id="t2022-01-18T16:24:46"><th class="nick" style="background: #ce6c6c">fray</th><td class="text" style="color: #ce6c6c">the machine is a 48 thread machine, but 48/48 caused the system to kill threads</td><td class="time"><a href="#t2022-01-18T16:24:46" class="time">16:24</a></td></tr>
<tr id="t2022-01-18T16:26:32"><th class="nick" style="background: #6ed16e">konsgn</th><td class="text" style="color: #6ed16e">just built a system, but now I get crashes when trying to power off, How would I debug that? stack traces on debug port show things like: WARNING: halt/1612 still has locks held!</td><td class="time"><a href="#t2022-01-18T16:26:32" class="time">16:26</a></td></tr>
<tr id="t2022-01-18T16:26:59"><th class="nick" style="background: #6ed16e">konsgn</th><td class="text" style="color: #6ed16e">earliest trace is : [&lt;c01557d4&gt;] (__do_sys_reboot) from [&lt;c0100060&gt;] (ret_fast_syscall+0x0/0x28)</td><td class="time"><a href="#t2022-01-18T16:26:59" class="time">16:26</a></td></tr>
<tr id="t2022-01-18T16:36:20"><th class="nick" style="background: #7070d5">halstead</th><td class="text" style="color: #7070d5">qschulz: Guest96: I've updated the irc logging and 2022 logs are up now.</td><td class="time"><a href="#t2022-01-18T16:36:20" class="time">16:36</a></td></tr>
<tr id="t2022-01-18T16:44:46"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">halstead: thanks :)</td><td class="time"><a href="#t2022-01-18T16:44:46" class="time">16:44</a></td></tr>
<tr id="t2022-01-18T16:48:42"><th class="nick" style="background: #c668c6">vd</th><td class="text" style="color: #c668c6">given than the machine is parsed before the distro, is it OK to have FOO:append:mydistro = &quot; bar&quot; in a machine configuration?</td><td class="time"><a href="#t2022-01-18T16:48:42" class="time">16:48</a></td></tr>
<tr id="t2022-01-18T16:49:17"><th class="nick" style="background: #b15db1">rburton</th><td class="text" style="color: #b15db1">yes, appends happen after parse</td><td class="time"><a href="#t2022-01-18T16:49:17" class="time">16:49</a></td></tr>
<tr id="t2022-01-18T16:49:45"><th class="nick" style="background: #c668c6">vd</th><td class="text" style="color: #c668c6">rburton: but FOO:mydistro = &quot;bar&quot; would be a problem?</td><td class="time"><a href="#t2022-01-18T16:49:45" class="time">16:49</a></td></tr>
<tr id="t2022-01-18T16:49:49"><th class="nick" style="background: #6acaca">kergoth</th><td class="text" style="color: #6acaca">It will *work*.. whether it's ideal is a different question. Ideally the boundaries should be kept between those axes of the build, but there are times when you need to configure for a particular distro/machine combination, or are dealing with external layers you don't want to fork</td><td class="time"><a href="#t2022-01-18T16:49:49" class="time">16:49</a></td></tr>
<tr id="t2022-01-18T16:50:21"><th class="nick" style="background: #6acaca">kergoth</th><td class="text" style="color: #6acaca">I've seriously considered having my distro include conf/distro-machine/${DISTRO}-${MACHINE}.conf or something before, though never ended up doing int</td><td class="time"><a href="#t2022-01-18T16:50:21" class="time">16:50</a></td></tr>
<tr id="t2022-01-18T16:50:57"><th class="nick" style="background: #6acaca">kergoth</th><td class="text" style="color: #6acaca">actually ended up using meta-mentor's custom setup scripts which append local.conf.append and local.conf.append.${MACHINE} fragments to local.conf as a way to modify machine behavior from the distro in a way that was user-visible instead..</td><td class="time"><a href="#t2022-01-18T16:50:57" class="time">16:50</a></td></tr>
<tr id="t2022-01-18T16:52:04"><th class="nick" style="background: #b15db1">rburton</th><td class="text" style="color: #b15db1">vd: more accurately, overrides happen after parse</td><td class="time"><a href="#t2022-01-18T16:52:04" class="time">16:52</a></td></tr>
<tr id="t2022-01-18T16:55:24"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">vd: the second one (FOO:mydistro) will completely override FOO if mydristro is used</td><td class="time"><a href="#t2022-01-18T16:55:24" class="time">16:55</a></td></tr>
<tr id="t2022-01-18T16:55:59"><th class="nick" style="background: #c668c6">vd</th><td class="text" style="color: #c668c6">qschulz: I know, my question was regarding the parsing order (since the distro is parsed after the machine config)</td><td class="time"><a href="#t2022-01-18T16:55:59" class="time">16:55</a></td></tr>
<tr id="t2022-01-18T16:59:00"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">vd: I don't think it matters unless you are requiring direct expansion (:= or d.getVar)</td><td class="time"><a href="#t2022-01-18T16:59:00" class="time">16:59</a></td></tr>
<tr id="t2022-01-18T17:00:12"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">I mean, if you use variables from other places that in the current file, for which the parsing order will matter</td><td class="time"><a href="#t2022-01-18T17:00:12" class="time">17:00</a></td></tr>
<tr id="t2022-01-18T17:00:35"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">otherwise, I'd say distro or machine first does not matter</td><td class="time"><a href="#t2022-01-18T17:00:35" class="time">17:00</a></td></tr>
<tr id="t2022-01-18T17:01:01"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">overrides are anyway all saved and at the end of parsing the one that applies is taken</td><td class="time"><a href="#t2022-01-18T17:01:01" class="time">17:01</a></td></tr>
<tr id="t2022-01-18T17:01:36"><th class="nick" style="background: #c668c6">vd</th><td class="text" style="color: #c668c6">So the parsing is two passes?</td><td class="time"><a href="#t2022-01-18T17:01:36" class="time">17:01</a></td></tr>
<tr id="t2022-01-18T17:02:44"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">One pass and then everything is resolved? I don't know honestly about the internals</td><td class="time"><a href="#t2022-01-18T17:02:44" class="time">17:02</a></td></tr>
<tr id="t2022-01-18T17:03:47"><th class="nick" style="background: #c668c6">vd</th><td class="text" style="color: #c668c6">They are grey areas like this one: let's say your machine has a push button and you want the bootloader to behave differently for production and development when pressing that button. Is it a machine or a distro configuration? :-)</td><td class="time"><a href="#t2022-01-18T17:03:47" class="time">17:03</a></td></tr>
<tr id="t2022-01-18T17:05:41"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">if you;re going to have more changes, in the end, you'll most likely need a distro anyway</td><td class="time"><a href="#t2022-01-18T17:05:41" class="time">17:05</a></td></tr>
<tr id="t2022-01-18T17:06:03"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">but if that were to be the only change, I'd have two machines to maximise the sstate-cache reuse</td><td class="time"><a href="#t2022-01-18T17:06:03" class="time">17:06</a></td></tr>
<tr id="t2022-01-18T17:06:19"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">or even better, two bootloader recipes</td><td class="time"><a href="#t2022-01-18T17:06:19" class="time">17:06</a></td></tr>
<tr id="t2022-01-18T17:07:17"><th class="nick" style="background: #c668c6">vd</th><td class="text" style="color: #c668c6">qschulz: so many machines requiring a base one isn't a problem? I was worried about duplicating kernel artifacts, and MACHINE_ARCH packages, etc.</td><td class="time"><a href="#t2022-01-18T17:07:17" class="time">17:07</a></td></tr>
<tr id="t2022-01-18T17:08:08"><th class="nick" style="background: #c668c6">vd</th><td class="text" style="color: #c668c6">qschulz: and then you choose your preferred virtual/bootloader provider from the machine or distro conf ideally?</td><td class="time"><a href="#t2022-01-18T17:08:08" class="time">17:08</a></td></tr>
<tr id="t2022-01-18T17:10:32"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">in case of two bootloader recipes and only one machine conf, you just build both and have them deployed, create two wic files, one with production bootloader the other wiht debug bootloader?</td><td class="time"><a href="#t2022-01-18T17:10:32" class="time">17:10</a></td></tr>
<tr id="t2022-01-18T17:11:07"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">vd: you could even just make a U-Boot env recipe only and set environment variables based onproduction/debug and have the same uboot binary</td><td class="time"><a href="#t2022-01-18T17:11:07" class="time">17:11</a></td></tr>
<tr id="t2022-01-18T17:11:33"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">vd: the issue with distros is that nothing is re-used</td><td class="time"><a href="#t2022-01-18T17:11:33" class="time">17:11</a></td></tr>
<tr id="t2022-01-18T17:11:38"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">between distros ofc</td><td class="time"><a href="#t2022-01-18T17:11:38" class="time">17:11</a></td></tr>
<tr id="t2022-01-18T17:14:15"><th class="nick" style="background: #c668c6">vd</th><td class="text" style="color: #c668c6">qschulz: that's a good insight thank you</td><td class="time"><a href="#t2022-01-18T17:14:15" class="time">17:14</a></td></tr>
<tr id="t2022-01-18T17:19:20"><th class="nick" style="background: #c668c6">vd</th><td class="text" style="color: #c668c6">qschulz: having a single machine and a single distro is definitely faster... I forgot I could change the IMAGE_BOOT_FILES and WKS_FILE per image recipes. A dev image recipe could do the trick.</td><td class="time"><a href="#t2022-01-18T17:19:20" class="time">17:19</a></td></tr>
<tr id="t2022-01-18T17:20:07"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">vd: Ah I forgot we opnly support building one wks file at a time</td><td class="time"><a href="#t2022-01-18T17:20:07" class="time">17:20</a></td></tr>
<tr id="t2022-01-18T17:20:39"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">if we were to support multi wks file in one image recipe then both could be built at once</td><td class="time"><a href="#t2022-01-18T17:20:39" class="time">17:20</a></td></tr>
<tr id="t2022-01-18T17:21:30"><th class="nick" style="background: #6acaca">kergoth</th><td class="text" style="color: #6acaca">vd, qschulz: overrides used to be applied at a specific point in time at the end of parsing, but now they are applied when variable expansions are applied, which is done when the variable is *used* (i.e. when d.getVar() is run, either programmatically or when tasks are emitted to be run)</td><td class="time"><a href="#t2022-01-18T17:21:30" class="time">17:21</a></td></tr>
<tr id="t2022-01-18T17:21:38"><td class="nickchange" colspan="2">*** mckoan is now known as mckoan|away</td><td><a href="#t2022-01-18T17:21:38" class="time">17:21</a></td></tr>
<tr id="t2022-01-18T17:22:11"><th class="nick" style="background: #c668c6">vd</th><td class="text" style="color: #c668c6">it makes sense now that software like systemd split their config in a systemd-conf package. You can select different conf based on a the machine or distro.</td><td class="time"><a href="#t2022-01-18T17:22:11" class="time">17:22</a></td></tr>
<tr id="t2022-01-18T17:22:18"><th class="nick" style="background: #c668c6">vd</th><td class="text" style="color: #c668c6">kergoth: that makes a lot of sense.</td><td class="time"><a href="#t2022-01-18T17:22:18" class="time">17:22</a></td></tr>
<tr id="t2022-01-18T17:23:38"><th class="nick" style="background: #d9d972">xperia64</th><td class="text" style="color: #d9d972">I'm having trouble with do_fetch[mcdepends]; when the dependency is rebuilt/dirty, the do_fetch[mcdepends] is still cached and marked as covered</td><td class="time"><a href="#t2022-01-18T17:23:38" class="time">17:23</a></td></tr>
<tr id="t2022-01-18T17:23:54"><th class="nick" style="background: #c668c6">vd</th><td class="text" style="color: #c668c6">Wouldn't it be better to tweak the hostname file in an image class rather than tweaking hostname:pn-base-files globally?</td><td class="time"><a href="#t2022-01-18T17:23:54" class="time">17:23</a></td></tr>
<tr id="t2022-01-18T17:25:05"><th class="nick" style="background: #b15db1">rburton</th><td class="text" style="color: #b15db1">vd: how would that work? :)</td><td class="time"><a href="#t2022-01-18T17:25:05" class="time">17:25</a></td></tr>
<tr id="t2022-01-18T17:25:24"><th class="nick" style="background: #b15db1">rburton</th><td class="text" style="color: #b15db1">unless you mean write a rootfs postprocess thing</td><td class="time"><a href="#t2022-01-18T17:25:24" class="time">17:25</a></td></tr>
<tr id="t2022-01-18T17:25:27"><th class="nick" style="background: #b15db1">rburton</th><td class="text" style="color: #b15db1">in which case sure, do that if you want</td><td class="time"><a href="#t2022-01-18T17:25:27" class="time">17:25</a></td></tr>
<tr id="t2022-01-18T17:26:35"><th class="nick" style="background: #c668c6">vd</th><td class="text" style="color: #c668c6">rburton: yes a post process function overriding ${IMAGE_ROOTFS}/etc/hostname if ${HOSTNAME} is set. Wouldn't it be less intrusive? Similar to extrausers.</td><td class="time"><a href="#t2022-01-18T17:26:35" class="time">17:26</a></td></tr>
<tr id="t2022-01-18T17:29:36"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">Ok , one last for today:)</td><td class="time"><a href="#t2022-01-18T17:29:36" class="time">17:29</a></td></tr>
<tr id="t2022-01-18T17:29:36-2"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">NB_DIR = &quot;/opt/newblack&quot;</td><td class="time"><a href="#t2022-01-18T17:29:36-2" class="time">17:29</a></td></tr>
<tr id="t2022-01-18T17:29:37"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">do_install() {</td><td class="time"><a href="#t2022-01-18T17:29:37" class="time">17:29</a></td></tr>
<tr id="t2022-01-18T17:29:37-2"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">¬† ¬† install ${WORKDIR}/sentinel-config ${D}${NB_DIR}/bin</td><td class="time"><a href="#t2022-01-18T17:29:37-2" class="time">17:29</a></td></tr>
<tr id="t2022-01-18T17:29:38"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">¬† ¬† install -Dm644 ${WORKDIR}/sentinel-configuration.service &quot;${D}${systemd_system_unitdir}/sentinel-configuration.service&quot;</td><td class="time"><a href="#t2022-01-18T17:29:38" class="time">17:29</a></td></tr>
<tr id="t2022-01-18T17:29:38-2"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">}</td><td class="time"><a href="#t2022-01-18T17:29:38-2" class="time">17:29</a></td></tr>
<tr id="t2022-01-18T17:29:39"><th class="nick" style="background: #62bb62">Skinny79</th><td class="text" style="color: #62bb62">FILES:${PN} = &quot;${systemd_system_unitdir} ${systemd_system_unitdir}/sentinel-configuration.service ${D}${NB_DIR}/bin/sentinel-config&quot;</td><td class="time"><a href="#t2022-01-18T17:29:39" class="time">17:29</a></td></tr>
<tr id="t2022-01-18T17:29:42"><th class="nick" style="background: #b15db1">rburton</th><td class="text" style="color: #b15db1">vd: depends on your usecase</td><td class="time"><a href="#t2022-01-18T17:29:42" class="time">17:29</a></td></tr>
<tr id="t2022-01-18T17:29:55"><th class="nick" style="background: #b15db1">rburton</th><td class="text" style="color: #b15db1">vd: personally all my images are called bob, makes ssh easier :)</td><td class="time"><a href="#t2022-01-18T17:29:55" class="time">17:29</a></td></tr>
<tr id="t2022-01-18T17:30:31"><th class="nick" style="background: #b15db1">rburton</th><td class="text" style="color: #b15db1">s/images/hostnames/</td><td class="time"><a href="#t2022-01-18T17:30:31" class="time">17:30</a></td></tr>
<tr id="t2022-01-18T17:30:46"><th class="nick" style="background: #c668c6">vd</th><td class="text" style="color: #c668c6">rburton: is there a cost to tweak files from post process commands rather than relying on installed packages?</td><td class="time"><a href="#t2022-01-18T17:30:46" class="time">17:30</a></td></tr>
<tr id="t2022-01-18T17:31:01"><th class="nick" style="background: #b15db1">rburton</th><td class="text" style="color: #b15db1">vd: package feeds break any changes</td><td class="time"><a href="#t2022-01-18T17:31:01" class="time">17:31</a></td></tr>
<tr id="t2022-01-18T17:31:16"><th class="nick" style="background: #dc74dc">Skinny7987</th><td class="text" style="color: #dc74dc">Two files, but the custom binary in /opt/newblack/bin/sentinel-config results in a ` [installed-vs-shipped]` error</td><td class="time"><a href="#t2022-01-18T17:31:16" class="time">17:31</a></td></tr>
<tr id="t2022-01-18T17:31:23"><th class="nick" style="background: #dc74dc">Skinny7987</th><td class="text" style="color: #dc74dc">the systemd unit works fine</td><td class="time"><a href="#t2022-01-18T17:31:23" class="time">17:31</a></td></tr>
<tr id="t2022-01-18T17:31:32"><th class="nick" style="background: #dc74dc">Skinny7987</th><td class="text" style="color: #dc74dc">What could be the reason ?</td><td class="time"><a href="#t2022-01-18T17:31:32" class="time">17:31</a></td></tr>
<tr id="t2022-01-18T17:31:34"><th class="nick" style="background: #c668c6">vd</th><td class="text" style="color: #c668c6">rburton: what do you mean?</td><td class="time"><a href="#t2022-01-18T17:31:34" class="time">17:31</a></td></tr>
<tr id="t2022-01-18T17:32:14"><th class="nick" style="background: #b15db1">rburton</th><td class="text" style="color: #b15db1">vd: if you fix the rootfs in a post-process and then use a pacakge feed, the feeds don't have the changes so an upgrade will revert to the non-tweaked file</td><td class="time"><a href="#t2022-01-18T17:32:14" class="time">17:32</a></td></tr>
<tr id="t2022-01-18T17:32:43"><th class="nick" style="background: #b15db1">rburton</th><td class="text" style="color: #b15db1">Skinny7987: /opt isn't in FILES_${PN} by default, you'll need to add it yourself</td><td class="time"><a href="#t2022-01-18T17:32:43" class="time">17:32</a></td></tr>
<tr id="t2022-01-18T17:33:25"><th class="nick" style="background: #c668c6">vd</th><td class="text" style="color: #c668c6">rburton: but you can't install an image from a package feed, can you? What's the point of it?</td><td class="time"><a href="#t2022-01-18T17:33:25" class="time">17:33</a></td></tr>
<tr id="t2022-01-18T17:33:44"><th class="nick" style="background: #b15db1">rburton</th><td class="text" style="color: #b15db1">vd: if you're not using feeds, it's moot</td><td class="time"><a href="#t2022-01-18T17:33:44" class="time">17:33</a></td></tr>
<tr id="t2022-01-18T17:33:52"><th class="nick" style="background: #b15db1">rburton</th><td class="text" style="color: #b15db1">if you're using feeds its a fundamental problem</td><td class="time"><a href="#t2022-01-18T17:33:52" class="time">17:33</a></td></tr>
<tr id="t2022-01-18T17:33:55"><th class="nick" style="background: #dc74dc">Skinny7987</th><td class="text" style="color: #dc74dc">ah.. adding only the file (within that path) isn't enough ?</td><td class="time"><a href="#t2022-01-18T17:33:55" class="time">17:33</a></td></tr>
<tr id="t2022-01-18T17:33:56"><th class="nick" style="background: #dc74dc">Skinny7987</th><td class="text" style="color: #dc74dc">FILES:${PN} = &quot;${D}${NB_DIR}/bin ${D}${NB_DIR}/bin/sentinel-config ${systemd_system_unitdir} ${systemd_system_unitdir}/sentinel-configuration.service&quot;</td><td class="time"><a href="#t2022-01-18T17:33:56" class="time">17:33</a></td></tr>
<tr id="t2022-01-18T17:34:10"><th class="nick" style="background: #b15db1">rburton</th><td class="text" style="color: #b15db1">Skinny7987: don't use ${D} in FILES</td><td class="time"><a href="#t2022-01-18T17:34:10" class="time">17:34</a></td></tr>
<tr id="t2022-01-18T17:35:02"><th class="nick" style="background: #c668c6">vd</th><td class="text" style="color: #c668c6">rburton: I'll be using opkg in a dev environment yes. I still don't see the impact on package feeds if the image is modified. You won't do 'opkg install core-image-minimal', so what is the problem exactly?</td><td class="time"><a href="#t2022-01-18T17:35:02" class="time">17:35</a></td></tr>
<tr id="t2022-01-18T17:36:01"><th class="nick" style="background: #b15db1">rburton</th><td class="text" style="color: #b15db1">if you upgrade base-files then the hostname file changes</td><td class="time"><a href="#t2022-01-18T17:36:01" class="time">17:36</a></td></tr>
<tr id="t2022-01-18T17:36:43"><th class="nick" style="background: #b15db1">rburton</th><td class="text" style="color: #b15db1">generically, any file you touch in a rootfs postprocess is not reflected in the feeds, so an upgrade will remove the rootfs postprocess changes</td><td class="time"><a href="#t2022-01-18T17:36:43" class="time">17:36</a></td></tr>
<tr id="t2022-01-18T17:37:41"><th class="nick" style="background: #c668c6">vd</th><td class="text" style="color: #c668c6">rburton: hooo ok I see. That makes sense</td><td class="time"><a href="#t2022-01-18T17:37:41" class="time">17:37</a></td></tr>
<tr id="t2022-01-18T17:38:58"><th class="nick" style="background: #c668c6">vd</th><td class="text" style="color: #c668c6">rburton: that must be a huge problem for users, passwords, or fstab created that way. How are people dealing with this when using feeds?</td><td class="time"><a href="#t2022-01-18T17:38:58" class="time">17:38</a></td></tr>
<tr id="t2022-01-18T17:39:17"><th class="nick" style="background: #b15db1">rburton</th><td class="text" style="color: #b15db1">don't package those files in the first place</td><td class="time"><a href="#t2022-01-18T17:39:17" class="time">17:39</a></td></tr>
<tr id="t2022-01-18T17:39:34"><th class="nick" style="background: #c668c6">vd</th><td class="text" style="color: #c668c6">true</td><td class="time"><a href="#t2022-01-18T17:39:34" class="time">17:39</a></td></tr>
<tr id="t2022-01-18T17:39:47"><th class="nick" style="background: #b15db1">rburton</th><td class="text" style="color: #b15db1">stuff in /etc is typically marked as a conffile and packaging tools will offer to pick one</td><td class="time"><a href="#t2022-01-18T17:39:47" class="time">17:39</a></td></tr>
<tr id="t2022-01-18T17:40:31"><th class="nick" style="background: #c668c6">vd</th><td class="text" style="color: #c668c6">hostname is a good candidate then</td><td class="time"><a href="#t2022-01-18T17:40:31" class="time">17:40</a></td></tr>
<tr id="t2022-01-18T17:43:38"><th class="nick" style="background: #c668c6">vd</th><td class="text" style="color: #c668c6">I wish I could select PREFERRED_PROVIDER in an image recipe</td><td class="time"><a href="#t2022-01-18T17:43:38" class="time">17:43</a></td></tr>
<tr id="t2022-01-18T18:01:46"><th class="nick" style="background: #5959a9">RP</th><td class="text" style="color: #5959a9">jonmason, rburton: <a href="https://autobuilder.yoctoproject.org/typhoon/#/builders/113/builds/1940/steps/12/logs/warnings" rel="nofollow">https://autobuilder.yoctoproject.org/typhoon/#/builders/113/builds/1940/steps/12/logs/warnings</a> - that time of the cycle again</td><td class="time"><a href="#t2022-01-18T18:01:46" class="time">18:01</a></td></tr>
<tr id="t2022-01-18T18:02:09"><th class="nick" style="background: #b15db1">rburton</th><td class="text" style="color: #b15db1">without looking, is it uboot</td><td class="time"><a href="#t2022-01-18T18:02:09" class="time">18:02</a></td></tr>
<tr id="t2022-01-18T18:02:18"><th class="nick" style="background: #b15db1">rburton</th><td class="text" style="color: #b15db1">jon has a patch already</td><td class="time"><a href="#t2022-01-18T18:02:18" class="time">18:02</a></td></tr>
<tr id="t2022-01-18T18:02:22"><th class="nick" style="background: #5959a9">RP</th><td class="text" style="color: #5959a9">rburton:bingo :)</td><td class="time"><a href="#t2022-01-18T18:02:22" class="time">18:02</a></td></tr>
<tr id="t2022-01-18T18:02:30"><th class="nick" style="background: #b15db1">rburton</th><td class="text" style="color: #b15db1">our CI exploded a few hours ago :)</td><td class="time"><a href="#t2022-01-18T18:02:30" class="time">18:02</a></td></tr>
<tr id="t2022-01-18T18:02:31"><th class="nick" style="background: #5959a9">RP</th><td class="text" style="color: #5959a9">cool</td><td class="time"><a href="#t2022-01-18T18:02:31" class="time">18:02</a></td></tr>
<tr id="t2022-01-18T18:02:58"><th class="nick" style="background: #5959a9">RP</th><td class="text" style="color: #5959a9">that ordering doesn't look quite right :)</td><td class="time"><a href="#t2022-01-18T18:02:58" class="time">18:02</a></td></tr>
<tr id="t2022-01-18T18:03:42"><th class="nick" style="background: #5959a9">RP</th><td class="text" style="color: #5959a9">(cool on the patch to be clear, not that CI exploded)</td><td class="time"><a href="#t2022-01-18T18:03:42" class="time">18:03</a></td></tr>
<tr id="t2022-01-18T18:17:13"><th class="nick" style="background: #76e0e0">paulg</th><td class="text" style="color: #76e0e0">RP, by any chance did you see anything about JIT and &quot;accel=tcg&quot; in the release notes or similar when you did the qemu upgrade in late Dec?</td><td class="time"><a href="#t2022-01-18T18:17:13" class="time">18:17</a></td></tr>
<tr id="t2022-01-18T18:18:09"><th class="nick" style="background: #76e0e0">paulg</th><td class="text" style="color: #76e0e0">one of our internal sanity tests claims they now get &quot;Error: JIT information is only available with accel=tcg&quot; from qemu monitor and they think it happened coincident with the upgrade.</td><td class="time"><a href="#t2022-01-18T18:18:09" class="time">18:18</a></td></tr>
<tr id="t2022-01-18T18:21:51"><th class="nick" style="background: #76e0e0">paulg</th><td class="text" style="color: #76e0e0">looks like they carved off some stuff into an optional module...&nbsp;&nbsp; <a href="https://www.mail-archive.com/qemu-devel@nongnu.org/msg818085.html" rel="nofollow">https://www.mail-archive.com/qemu-devel@nongnu.org/msg818085.html</a></td><td class="time"><a href="#t2022-01-18T18:21:51" class="time">18:21</a></td></tr>
<tr id="t2022-01-18T18:34:36"><th class="nick" style="background: #ad5b5b">Saur</th><td class="text" style="color: #ad5b5b">RP: I'm in the process of updating one of our builds from Honister 3.4 to 3.4.1, but it is failing in Jenkins left and right due to sstate_unpack_package() failing and causing setscene tasks to fail. Unfortunately there is no information in the log of why it fails. :( Looking at the function, after the changes that were introduced in 3.4.1, the only way for that function to fail should be if tar fails. The question now is what happens to</td><td class="time"><a href="#t2022-01-18T18:34:36" class="time">18:34</a></td></tr>
<tr id="t2022-01-18T18:34:36-2"><th class="nick" style="background: #ad5b5b">Saur</th><td class="text" style="color: #ad5b5b">stderr from tar because I sure wish I could see it in the log...</td><td class="time"><a href="#t2022-01-18T18:34:36-2" class="time">18:34</a></td></tr>
<tr id="t2022-01-18T18:44:37"><th class="nick" style="background: #ad5b5b">Saur</th><td class="text" style="color: #ad5b5b">Scratch that, I found the stderr from tar. Apparently there are empty tarballs in our global sstate cache. Argh. :P</td><td class="time"><a href="#t2022-01-18T18:44:37" class="time">18:44</a></td></tr>
<tr id="t2022-01-18T18:56:37"><th class="nick" style="background: #5caf5c">jonmason</th><td class="text" style="color: #5caf5c">Is python3-cryptography_36.0.1.bb broken now?</td><td class="time"><a href="#t2022-01-18T18:56:37" class="time">18:56</a></td></tr>
<tr id="t2022-01-18T18:56:52"><th class="nick" style="background: #5caf5c">jonmason</th><td class="text" style="color: #5caf5c">python3-cryptography_36.0.1.bb:21: Could not inherit file classes/setuptools3_rust.bbclass</td><td class="time"><a href="#t2022-01-18T18:56:52" class="time">18:56</a></td></tr>
<tr id="t2022-01-18T19:38:24"><th class="nick" style="background: #b15db1">rburton</th><td class="text" style="color: #b15db1">moto-timo: ^^^</td><td class="time"><a href="#t2022-01-18T19:38:24" class="time">19:38</a></td></tr>
<tr id="t2022-01-18T19:38:55"><th class="nick" style="background: #5d5db1">moto-timo</th><td class="text" style="color: #5d5db1">did I miss a commit?</td><td class="time"><a href="#t2022-01-18T19:38:55" class="time">19:38</a></td></tr>
<tr id="t2022-01-18T19:39:49"><th class="nick" style="background: #b15db1">rburton</th><td class="text" style="color: #b15db1">looks like it</td><td class="time"><a href="#t2022-01-18T19:39:49" class="time">19:39</a></td></tr>
<tr id="t2022-01-18T19:41:03"><th class="nick" style="background: #5d5db1">moto-timo</th><td class="text" style="color: #5d5db1">maybe tgamblin missed it in his PR</td><td class="time"><a href="#t2022-01-18T19:41:03" class="time">19:41</a></td></tr>
<tr id="t2022-01-18T19:42:28"><th class="nick" style="background: #5d5db1">moto-timo</th><td class="text" style="color: #5d5db1"><a href="https://git.openembedded.org/meta-openembedded-contrib/commit/?h=timo/python3-cryptography_36.0.1&amp;id=360dbafb5ca9b4cfd646a1ee1f63cb5d85b3a974" rel="nofollow">https://git.openembedded.org/meta-openembedded-contrib/commit/?h=timo/python3-cryptography_36.0.1&amp;id=360dbafb5ca9b4cfd646a1ee1f63cb5d85b3a974</a></td><td class="time"><a href="#t2022-01-18T19:42:28" class="time">19:42</a></td></tr>
<tr id="t2022-01-18T19:42:46"><th class="nick" style="background: #5d5db1">moto-timo</th><td class="text" style="color: #5d5db1"><a href="https://git.openembedded.org/meta-openembedded-contrib/commit/?h=timo/python3-cryptography_36.0.1&amp;id=2847980b4d497b069460a298853cb7f59fab662e" rel="nofollow">https://git.openembedded.org/meta-openembedded-contrib/commit/?h=timo/python3-cryptography_36.0.1&amp;id=2847980b4d497b069460a298853cb7f59fab662e</a></td><td class="time"><a href="#t2022-01-18T19:42:46" class="time">19:42</a></td></tr>
<tr id="t2022-01-18T19:45:24"><th class="nick" style="background: #5caf5c">jonmason</th><td class="text" style="color: #5caf5c"><a href="https://gitlab.com/jonmason00/meta-arm/-/pipelines/450764044/failures" rel="nofollow">https://gitlab.com/jonmason00/meta-arm/-/pipelines/450764044/failures</a></td><td class="time"><a href="#t2022-01-18T19:45:24" class="time">19:45</a></td></tr>
<tr id="t2022-01-18T19:45:34"><th class="nick" style="background: #5caf5c">jonmason</th><td class="text" style="color: #5caf5c">that is all the ugly I'm seeing now</td><td class="time"><a href="#t2022-01-18T19:45:34" class="time">19:45</a></td></tr>
<tr id="t2022-01-18T19:46:23"><th class="nick" style="background: #5d5db1">moto-timo</th><td class="text" style="color: #5d5db1">yeah, somehow the bbclass commits didn't get merged... I sent them and neither python3-cryptography nor python3-pyruvate would have built without them</td><td class="time"><a href="#t2022-01-18T19:46:23" class="time">19:46</a></td></tr>
<tr id="t2022-01-18T19:49:21-2"><td class="nickchange" colspan="2">*** chep` is now known as chep</td><td><a href="#t2022-01-18T19:49:21-2" class="time">19:49</a></td></tr>
<tr id="t2022-01-18T19:50:28"><th class="nick" style="background: #b2b25e">tgamblin</th><td class="text" style="color: #b2b25e">moto-timo: I must not be catching them all, let me send another</td><td class="time"><a href="#t2022-01-18T19:50:28" class="time">19:50</a></td></tr>
<tr id="t2022-01-18T19:56:58"><th class="nick" style="background: #b2b25e">tgamblin</th><td class="text" style="color: #b2b25e">moto-timo: jonmason: rburton: khem: I did indeed miss two patches. PR: <a href="https://github.com/openembedded/meta-openembedded/pull/520" rel="nofollow">https://github.com/openembedded/meta-openembedded/pull/520</a></td><td class="time"><a href="#t2022-01-18T19:56:58" class="time">19:56</a></td></tr>
<tr id="t2022-01-18T19:59:03"><th class="nick" style="background: #b2b25e">tgamblin</th><td class="text" style="color: #b2b25e">sorry about that</td><td class="time"><a href="#t2022-01-18T19:59:03" class="time">19:59</a></td></tr>
<tr id="t2022-01-18T20:03:09"><th class="nick" style="background: #5d5db1">moto-timo</th><td class="text" style="color: #5d5db1">tgamblin: weird corner case compared to the usual meta-python pipeline. always room for improvement!</td><td class="time"><a href="#t2022-01-18T20:03:09" class="time">20:03</a></td></tr>
<tr id="t2022-01-18T20:03:59"><th class="nick" style="background: #5d5db1">moto-timo</th><td class="text" style="color: #5d5db1">let me know when you achieve perfection so I can learn how you did it</td><td class="time"><a href="#t2022-01-18T20:03:59" class="time">20:03</a></td></tr>
<tr id="t2022-01-18T20:04:31"><th class="nick" style="background: #b2b25e">tgamblin</th><td class="text" style="color: #b2b25e">moto-timo: might be waiting a while :)</td><td class="time"><a href="#t2022-01-18T20:04:31" class="time">20:04</a></td></tr>
<tr id="t2022-01-18T20:04:37"><th class="nick" style="background: #5d5db1">moto-timo</th><td class="text" style="color: #5d5db1">rburton: thank you for the quick heads up</td><td class="time"><a href="#t2022-01-18T20:04:37" class="time">20:04</a></td></tr>
<tr id="t2022-01-18T20:04:48"><th class="nick" style="background: #5d5db1">moto-timo</th><td class="text" style="color: #5d5db1">tgamblin: an eternity perhaps</td><td class="time"><a href="#t2022-01-18T20:04:48" class="time">20:04</a></td></tr>
<tr id="t2022-01-18T20:05:09-2"><td class="nickchange" colspan="2">*** chep` is now known as chep</td><td><a href="#t2022-01-18T20:05:09-2" class="time">20:05</a></td></tr>
<tr id="t2022-01-18T22:12:27"><th class="nick" style="background: #b45fb4">kanavin</th><td class="text" style="color: #b45fb4">RP: something seems off about debian9-ty-2 in general, it just looks very very sluggish <a href="https://autobuilder.yoctoproject.org/typhoon/#/builders/116/builds/1178" rel="nofollow">https://autobuilder.yoctoproject.org/typhoon/#/builders/116/builds/1178</a></td><td class="time"><a href="#t2022-01-18T22:12:27" class="time">22:12</a></td></tr>
<tr id="t2022-01-18T22:12:31"><th class="nick" style="background: #b45fb4">kanavin</th><td class="text" style="color: #b45fb4">halstead, ^^^</td><td class="time"><a href="#t2022-01-18T22:12:31" class="time">22:12</a></td></tr>
<tr id="t2022-01-18T22:13:34"><th class="nick" style="background: #7070d5">halstead</th><td class="text" style="color: #7070d5">kanavin: it might be failing. It's one of the oldest workers in the cluster if not the oldest.</td><td class="time"><a href="#t2022-01-18T22:13:34" class="time">22:13</a></td></tr>
<tr id="t2022-01-18T22:13:41"><th class="nick" style="background: #7070d5">halstead</th><td class="text" style="color: #7070d5">I can check it out tomorrow</td><td class="time"><a href="#t2022-01-18T22:13:41" class="time">22:13</a></td></tr>
<tr id="t2022-01-18T22:42:53"><th class="nick" style="background: #818144">dushara</th><td class="text" style="color: #818144">Hi Is this the right channel to raise questions on bitbake?</td><td class="time"><a href="#t2022-01-18T22:42:53" class="time">22:42</a></td></tr>
<tr id="t2022-01-18T22:48:35"><th class="nick" style="background: #818144">dushara</th><td class="text" style="color: #818144">Looks like there's a bug in the svn fetcher, wrt handling URLs with spaces</td><td class="time"><a href="#t2022-01-18T22:48:35" class="time">22:48</a></td></tr>
<tr id="t2022-01-18T23:14:12"><th class="nick" style="background: #5d5db1">moto-timo</th><td class="text" style="color: #5d5db1">jonmason: meta-openembedded has the classes now‚Ä¶</td><td class="time"><a href="#t2022-01-18T23:14:12" class="time">23:14</a></td></tr>
<tr id="t2022-01-18T23:15:11"><th class="nick" style="background: #5caf5c">jonmason</th><td class="text" style="color: #5caf5c">moto-timo: thanks.&nbsp;&nbsp;it looks like almost everything is working for me now</td><td class="time"><a href="#t2022-01-18T23:15:11" class="time">23:15</a></td></tr>
<tr id="t2022-01-18T23:15:26"><th class="nick" style="background: #5caf5c">jonmason</th><td class="text" style="color: #5caf5c">tf-m isn't happy, but haven't looked at why yet</td><td class="time"><a href="#t2022-01-18T23:15:26" class="time">23:15</a></td></tr>
<tr id="t2022-01-18T23:15:50"><th class="nick" style="background: #5caf5c">jonmason</th><td class="text" style="color: #5caf5c">and xen is still broken for qemuarm64...zeddii</td><td class="time"><a href="#t2022-01-18T23:15:50" class="time">23:15</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2022-01-17.log.html">&#171; Monday, 2022-01-17</a> <a href="index.html">Index</a> <a href="%23yocto.2022-01-19.log.html">Wednesday, 2022-01-19 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.17.2 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="https://mg.pov.lt/irclog2html/">https://mg.pov.lt/irclog2html/</a>!</p>
</div>
</body>
</html>
