<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Wednesday, 2022-04-06</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.17.2 by Marius Gedminas" />
  <meta name="version" content="2.17.2 - 2019-04-23" />
</head>
<body>
<h1>Wednesday, 2022-04-06</h1>
<div class="navigation"> <a href="%23yocto.2022-04-05.log.html">&#171; Tuesday, 2022-04-05</a> <a href="index.html">Index</a> <a href="%23yocto.2022-04-07.log.html">Thursday, 2022-04-07 &#187;</a> </div>
<table class="irclog">
<tr id="t2022-04-06T04:49:30"><td class="nickchange" colspan="2">*** dti is now known as dtometzki</td><td><a href="#t2022-04-06T04:49:30" class="time">04:49</a></td></tr>
<tr id="t2022-04-06T06:25:51"><th class="nick" style="background: #407a40">LetoThe2nd</th><td class="text" style="color: #407a40">vvn: yeah thats why I said to put it into there.</td><td class="time"><a href="#t2022-04-06T06:25:51" class="time">06:25</a></td></tr>
<tr id="t2022-04-06T06:26:11"><th class="nick" style="background: #407a40">LetoThe2nd</th><td class="text" style="color: #407a40">RP: i know, i asked, and i am thankful for the answer, even if it makes me unhappy :-/</td><td class="time"><a href="#t2022-04-06T06:26:11" class="time">06:26</a></td></tr>
<tr id="t2022-04-06T06:26:14"><th class="nick" style="background: #407a40">LetoThe2nd</th><td class="text" style="color: #407a40">and</td><td class="time"><a href="#t2022-04-06T06:26:14" class="time">06:26</a></td></tr>
<tr id="t2022-04-06T06:26:21"><th class="nick" style="background: #407a40">LetoThe2nd</th><td class="text" style="color: #407a40">yo dudX</td><td class="time"><a href="#t2022-04-06T06:26:21" class="time">06:26</a></td></tr>
<tr id="t2022-04-06T06:46:20"><th class="nick" style="background: #42427e">kayterina[m]</th><td class="text" style="color: #42427e">Hello. What happens if I use variable D in FILES?</td><td class="time"><a href="#t2022-04-06T06:46:20" class="time">06:46</a></td></tr>
<tr id="t2022-04-06T06:46:20-2"><th class="nick" style="background: #42427e">kayterina[m]</th><td class="text" style="color: #42427e">FILES_${PN}=&quot;${D}${sysconfdir}/init.d/myscript.sh&quot;</td><td class="time"><a href="#t2022-04-06T06:46:20-2" class="time">06:46</a></td></tr>
<tr id="t2022-04-06T06:46:20-3"><th class="nick" style="background: #42427e">kayterina[m]</th><td class="text" style="color: #42427e">I know it does not include the script, but why?</td><td class="time"><a href="#t2022-04-06T06:46:20-3" class="time">06:46</a></td></tr>
<tr id="t2022-04-06T06:47:20"><td class="nickchange" colspan="2">*** mckoan|away is now known as mckoan</td><td><a href="#t2022-04-06T06:47:20" class="time">06:47</a></td></tr>
<tr id="t2022-04-06T06:47:27"><th class="nick" style="background: #818144">mckoan</th><td class="text" style="color: #818144">good morning</td><td class="time"><a href="#t2022-04-06T06:47:27" class="time">06:47</a></td></tr>
<tr id="t2022-04-06T06:49:19"><th class="nick" style="background: #407a40">LetoThe2nd</th><td class="text" style="color: #407a40">kayterina[m]: I'd guess that is because the ${D} path is the absolute host path, and FILES is relative to the resulting rootfs. And that usually long path just does not exist on your output rootfs.</td><td class="time"><a href="#t2022-04-06T06:49:19" class="time">06:49</a></td></tr>
<tr id="t2022-04-06T07:03:01"><th class="nick" style="background: #42427e">kayterina[m]</th><td class="text" style="color: #42427e">$IMAGE_ROOTFS is the resulting rootfs path?</td><td class="time"><a href="#t2022-04-06T07:03:01" class="time">07:03</a></td></tr>
<tr id="t2022-04-06T07:08:27"><th class="nick" style="background: #42427e">kayterina[m]</th><td class="text" style="color: #42427e">and how do I see that FILES or any other variable is relative to some directory?</td><td class="time"><a href="#t2022-04-06T07:08:27" class="time">07:08</a></td></tr>
<tr id="t2022-04-06T07:45:08"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">kayterina[m]: I guess this is something we could add to the documentation</td><td class="time"><a href="#t2022-04-06T07:45:08" class="time">07:45</a></td></tr>
<tr id="t2022-04-06T08:04:50"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">amahnui[m]: please be careful when you send patches that you only send it once. If you modify a patch and want to send a new version, please use git send-email -v2 or git format-patch -v2</td><td class="time"><a href="#t2022-04-06T08:04:50" class="time">08:04</a></td></tr>
<tr id="t2022-04-06T08:05:27"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">(or v3, v4, etc... and explain just below the three dashes what changed between v1 and v2, v2 and v3, etc...)</td><td class="time"><a href="#t2022-04-06T08:05:27" class="time">08:05</a></td></tr>
<tr id="t2022-04-06T08:45:41"><td class="action" colspan="2">* RP just came across a patch from 2017 trying to fix tinfoil's wait_event. 5 years later we might have got there!</td><td><a href="#t2022-04-06T08:45:41" class="time">08:45</a></td></tr>
<tr id="t2022-04-06T08:46:19"><th class="nick" style="background: #407a40">LetoThe2nd</th><td class="text" style="color: #407a40">RP: oatch hard and patch fast!</td><td class="time"><a href="#t2022-04-06T08:46:19" class="time">08:46</a></td></tr>
<tr id="t2022-04-06T09:31:10"><th class="nick" style="background: #488888">amahnui[m]</th><td class="text" style="color: #488888">qschulz: I'm really sorry about that. I was using git format -v2 but somehow it was not reflecting on the list.</td><td class="time"><a href="#t2022-04-06T09:31:10" class="time">09:31</a></td></tr>
<tr id="t2022-04-06T09:31:10-2"><th class="nick" style="background: #488888">amahnui[m]</th><td class="text" style="color: #488888">I will make sure to do so in the subsequent patches. Thanks</td><td class="time"><a href="#t2022-04-06T09:31:10-2" class="time">09:31</a></td></tr>
<tr id="t2022-04-06T09:36:57"><th class="nick" style="background: #8c4a4a">dirtyflag</th><td class="text" style="color: #8c4a4a">i need to get executed a bbappend only for one machine, without throwing errors for other, what's the proper way ?</td><td class="time"><a href="#t2022-04-06T09:36:57" class="time">09:36</a></td></tr>
<tr id="t2022-04-06T09:38:16"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">amahnui[m]: how did you sent the mail after running git format-patch?</td><td class="time"><a href="#t2022-04-06T09:38:16" class="time">09:38</a></td></tr>
<tr id="t2022-04-06T09:38:34"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">dirtyflag: you can't</td><td class="time"><a href="#t2022-04-06T09:38:34" class="time">09:38</a></td></tr>
<tr id="t2022-04-06T09:38:48"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">dirtyflag: only way to do it is to have machine specific variables in your bbappend</td><td class="time"><a href="#t2022-04-06T09:38:48" class="time">09:38</a></td></tr>
<tr id="t2022-04-06T09:39:09"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">(c.f. OVERRIDES/MACHINEOVERRIDES and override syntax)</td><td class="time"><a href="#t2022-04-06T09:39:09" class="time">09:39</a></td></tr>
<tr id="t2022-04-06T09:39:20"><th class="nick" style="background: #8c4a4a">dirtyflag</th><td class="text" style="color: #8c4a4a">qschulz: ok thanks. So in a do_deploy() i can check MACHINE ?</td><td class="time"><a href="#t2022-04-06T09:39:20" class="time">09:39</a></td></tr>
<tr id="t2022-04-06T09:39:37"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">dirtyflag: <a href="https://docs.yoctoproject.org/bitbake/bitbake-user-manual/bitbake-user-manual-metadata.html#conditional-syntax-overrides" rel="nofollow">https://docs.yoctoproject.org/bitbake/bitbake-user-manual/bitbake-user-manual-metadata.html#conditional-syntax-overrides</a></td><td class="time"><a href="#t2022-04-06T09:39:37" class="time">09:39</a></td></tr>
<tr id="t2022-04-06T09:39:40"><th class="nick" style="background: #488888">amahnui[m]</th><td class="text" style="color: #488888">qschulz:&nbsp;&nbsp;I ran `git send-email -1 --to openembedded-core@lists.openembedded.org`</td><td class="time"><a href="#t2022-04-06T09:39:40" class="time">09:39</a></td></tr>
<tr id="t2022-04-06T09:39:50"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">amahnui[m]: yeah that's incorrect</td><td class="time"><a href="#t2022-04-06T09:39:50" class="time">09:39</a></td></tr>
<tr id="t2022-04-06T09:39:51"><th class="nick" style="background: #8c4a4a">dirtyflag</th><td class="text" style="color: #8c4a4a">thanks a lot</td><td class="time"><a href="#t2022-04-06T09:39:51" class="time">09:39</a></td></tr>
<tr id="t2022-04-06T09:40:07"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">dirtyflag: you can have: do_deploy_machine</td><td class="time"><a href="#t2022-04-06T09:40:07" class="time">09:40</a></td></tr>
<tr id="t2022-04-06T09:40:14"><th class="nick" style="background: #8c4a4a">dirtyflag</th><td class="text" style="color: #8c4a4a">i see. thanks !</td><td class="time"><a href="#t2022-04-06T09:40:14" class="time">09:40</a></td></tr>
<tr id="t2022-04-06T09:40:28"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">amahnui[m]: two ways: git send-email -1 -v2 ...</td><td class="time"><a href="#t2022-04-06T09:40:28" class="time">09:40</a></td></tr>
<tr id="t2022-04-06T09:40:48"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">amahnui[m]: or git format-patch -v2 .. + git send-email *.patch ...</td><td class="time"><a href="#t2022-04-06T09:40:48" class="time">09:40</a></td></tr>
<tr id="t2022-04-06T09:41:10"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">amahnui[m]: to be fair, git is not very user friendly :)</td><td class="time"><a href="#t2022-04-06T09:41:10" class="time">09:41</a></td></tr>
<tr id="t2022-04-06T09:42:49"><th class="nick" style="background: #488888">amahnui[m]</th><td class="text" style="color: #488888">qschulz: Thanks a lot for the clarification, I will make sure to that using either of this commands you sent.</td><td class="time"><a href="#t2022-04-06T09:42:49" class="time">09:42</a></td></tr>
<tr id="t2022-04-06T10:02:08"><th class="nick" style="background: #4b904b">Schlumpf</th><td class="text" style="color: #4b904b">Hi, does anybody have seen bitbake BrokenPipeErrors in runqueue.py at hatdknott?</td><td class="time"><a href="#t2022-04-06T10:02:08" class="time">10:02</a></td></tr>
<tr id="t2022-04-06T10:20:14"><th class="nick" style="background: #4d4d93">Saur[m]</th><td class="text" style="color: #4d4d93">amahnui: I recommend using the second variant suggested by qschulz&nbsp;&nbsp;above as that allows you edit the patch files before they are sent, e.g., to be able to add comments (after the line with three dashes &quot;---&quot;), which is especially useful when sending updated patches to inform what has changed compared to the previous version of the patches.</td><td class="time"><a href="#t2022-04-06T10:20:14" class="time">10:20</a></td></tr>
<tr id="t2022-04-06T10:28:45"><th class="nick" style="background: #488888">amahnui[m]</th><td class="text" style="color: #488888">Saur: Thanks a lot I think that is what I will go for.</td><td class="time"><a href="#t2022-04-06T10:28:45" class="time">10:28</a></td></tr>
<tr id="t2022-04-06T10:34:03"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">amahnui[m]: don't forget to use subdirectories or remove patches between git send-email executions or you'll send all patches (if you use *.patch) and not only the ones you wanted to send now</td><td class="time"><a href="#t2022-04-06T10:34:03" class="time">10:34</a></td></tr>
<tr id="t2022-04-06T10:39:52"><th class="nick" style="background: #407a40">LetoThe2nd</th><td class="text" style="color: #407a40">I'm seeing gdk-pixbuf failing on master for riscv. Anybody aware of problems there?</td><td class="time"><a href="#t2022-04-06T10:39:52" class="time">10:39</a></td></tr>
<tr id="t2022-04-06T10:40:29"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">khem is my go-to for riscv</td><td class="time"><a href="#t2022-04-06T10:40:29" class="time">10:40</a></td></tr>
<tr id="t2022-04-06T10:40:47"><th class="nick" style="background: #488888">amahnui[m]</th><td class="text" style="color: #488888">qschulz: I'm sorry I don't understand since I never had an option to pass the specific patch I'm sending. Please could you explain more?</td><td class="time"><a href="#t2022-04-06T10:40:47" class="time">10:40</a></td></tr>
<tr id="t2022-04-06T10:41:06"><th class="nick" style="background: #407a40">LetoThe2nd</th><td class="text" style="color: #407a40">rburton: yeah sure, but I (usually) don't pester the VIPs unless I have asked the commons :)</td><td class="time"><a href="#t2022-04-06T10:41:06" class="time">10:41</a></td></tr>
<tr id="t2022-04-06T10:41:22"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">amahnui[m]: when you use *.patch, the shell will expand this to all files currently listed in the current directory, which ends with .patch</td><td class="time"><a href="#t2022-04-06T10:41:22" class="time">10:41</a></td></tr>
<tr id="t2022-04-06T10:41:46"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">if you do not remove the patch from v1 when you want to send a v2, then you'll send both v1 and v2 patches, because *.patch will match both</td><td class="time"><a href="#t2022-04-06T10:41:46" class="time">10:41</a></td></tr>
<tr id="t2022-04-06T10:42:41"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">e.g.: git format-patch -1 &amp;&amp; git send-email *.patch &amp;&amp; git format-patch -1 -v2 &amp;&amp; git send-email *.patch, will send the v1 patch twice</td><td class="time"><a href="#t2022-04-06T10:42:41" class="time">10:42</a></td></tr>
<tr id="t2022-04-06T10:43:09"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">fwiw, this is why i rarely bother with the format-patch/send-email split unless needed</td><td class="time"><a href="#t2022-04-06T10:43:09" class="time">10:43</a></td></tr>
<tr id="t2022-04-06T10:44:40"><th class="nick" style="background: #407a40">LetoThe2nd</th><td class="text" style="color: #407a40">and to be honest, this doesn't exactly sound like a riscv-only thing: (glib-compile-resources:2605920): GLib-GObject-CRITICAL **: 10:36:14.842: g_object_unref: assertion 'G_IS_OBJECT (object)' failed</td><td class="time"><a href="#t2022-04-06T10:44:40" class="time">10:44</a></td></tr>
<tr id="t2022-04-06T10:44:41"><th class="nick" style="background: #407a40">LetoThe2nd</th><td class="text" style="color: #407a40">../gdk-pixbuf-2.42.6/tests/resources.gresource.xml: Failed to close file descriptor for child process (Operation not permitted).y</td><td class="time"><a href="#t2022-04-06T10:44:41" class="time">10:44</a></td></tr>
<tr id="t2022-04-06T10:46:45"><th class="nick" style="background: #488888">amahnui[m]</th><td class="text" style="color: #488888">qschulz: Oh okay I understand you clearly now. I remember seeing that on one of the patches I sent which conatined 2 patches instead of 1 patch on the maling list.</td><td class="time"><a href="#t2022-04-06T10:46:45" class="time">10:46</a></td></tr>
<tr id="t2022-04-06T10:46:45-2"><th class="nick" style="background: #488888">amahnui[m]</th><td class="text" style="color: #488888">I will do that 🙏</td><td class="time"><a href="#t2022-04-06T10:46:45-2" class="time">10:46</a></td></tr>
<tr id="t2022-04-06T10:47:29"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">rburton: I like it this way because I do a last minute check of the commit and I'm also entirely sure of what's being sent</td><td class="time"><a href="#t2022-04-06T10:47:29" class="time">10:47</a></td></tr>
<tr id="t2022-04-06T10:47:41"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">but to each their own workflow :)</td><td class="time"><a href="#t2022-04-06T10:47:41" class="time">10:47</a></td></tr>
<tr id="t2022-04-06T10:47:42"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">i use 'git show' for that</td><td class="time"><a href="#t2022-04-06T10:47:42" class="time">10:47</a></td></tr>
<tr id="t2022-04-06T10:47:47"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">yeah, each to their own :)</td><td class="time"><a href="#t2022-04-06T10:47:47" class="time">10:47</a></td></tr>
<tr id="t2022-04-06T10:56:57"><th class="nick" style="background: #488888">amahnui[m]</th><td class="text" style="color: #488888">rburton: I just ran git show on my command line and it showed the most recent change I made and some very useful information too. I will use this command&nbsp;&nbsp;as well so that I will use the format-patch command when I finally think the patch is ready to be submitted</td><td class="time"><a href="#t2022-04-06T10:56:57" class="time">10:56</a></td></tr>
<tr id="t2022-04-06T11:24:43"><th class="nick" style="background: #9b519b">JaMa</th><td class="text" style="color: #9b519b">rburton: new progressbar for stalled tasks works great :)</td><td class="time"><a href="#t2022-04-06T11:24:43" class="time">11:24</a></td></tr>
<tr id="t2022-04-06T11:24:45"><th class="nick" style="background: #9b519b">JaMa</th><td class="text" style="color: #9b519b">NOTE: recipe ltp-20220121-r0: task do_rm_work: Succeeded</td><td class="time"><a href="#t2022-04-06T11:24:45" class="time">11:24</a></td></tr>
<tr id="t2022-04-06T11:24:49"><th class="nick" style="background: #9b519b">JaMa</th><td class="text" style="color: #9b519b">Bitbake still alive (no events for 600s). Active tasks:</td><td class="time"><a href="#t2022-04-06T11:24:49" class="time">11:24</a></td></tr>
<tr id="t2022-04-06T11:24:53"><th class="nick" style="background: #9b519b">JaMa</th><td class="text" style="color: #9b519b">/OE/lge/build/webosose/kirkstone/oe-core/meta/recipes-kernel/linux/linux-yocto_5.15.bb:do_fetch</td><td class="time"><a href="#t2022-04-06T11:24:53" class="time">11:24</a></td></tr>
<tr id="t2022-04-06T11:24:57"><th class="nick" style="background: #9b519b">JaMa</th><td class="text" style="color: #9b519b">Bitbake still alive (no events for 1200s). Active tasks:</td><td class="time"><a href="#t2022-04-06T11:24:57" class="time">11:24</a></td></tr>
<tr id="t2022-04-06T11:25:01"><th class="nick" style="background: #9b519b">JaMa</th><td class="text" style="color: #9b519b">/OE/lge/build/webosose/kirkstone/oe-core/meta/recipes-kernel/linux/linux-yocto_5.15.bb:do_fetch</td><td class="time"><a href="#t2022-04-06T11:25:01" class="time">11:25</a></td></tr>
<tr id="t2022-04-06T11:25:04"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">\o/</td><td class="time"><a href="#t2022-04-06T11:25:04" class="time">11:25</a></td></tr>
<tr id="t2022-04-06T11:27:57"><td class="servermsg" colspan="2">*** ChanServ sets mode: +o ndec</td><td><a href="#t2022-04-06T11:27:57" class="time">11:27</a></td></tr>
<tr id="t2022-04-06T11:28:22"><td class="servermsg" colspan="2">*** ndec changes topic to &quot;&quot;Welcome to the Yocto Project | Learn more: <a href="https://www.yoctoproject.org" rel="nofollow">https://www.yoctoproject.org</a> | Join us or Speak at Yocto Project Summit (2022.05) May 17 - 19, more: <a href="https://yoctoproject.org/summit" rel="nofollow">https://yoctoproject.org/summit</a> | Join the community: <a href="https://www.yoctoproject.org/community" rel="nofollow">https://www.yoctoproject.org/community</a> | IRC logs available at <a href="https://www.yoctoproject.org/irc/" rel="nofollow">https://www.yoctoproject.org/irc/</a> | Having difficulty on the list or with someone on the list, contact YP community mgr ndec&quot;&quot;</td><td><a href="#t2022-04-06T11:28:22" class="time">11:28</a></td></tr>
<tr id="t2022-04-06T11:29:38"><th class="nick" style="background: #539e9e">ndec</th><td class="text" style="color: #539e9e">hi there.. in case you missed the noise on Twitter and LinkedIn.. be aware that we will have our next YP Summit in May, more at <a href="https://yoctoproject.org/summit" rel="nofollow">https://yoctoproject.org/summit</a>. We have opened the CFP for now, will open registration shortly.</td><td class="time"><a href="#t2022-04-06T11:29:38" class="time">11:29</a></td></tr>
<tr id="t2022-04-06T11:32:51"><th class="nick" style="background: #a25555">Tyaku</th><td class="text" style="color: #a25555">Hi, I am using Yocto to create an image for RaspberryPI3. The image is using meta-raspberrypi. Currently I am stuck with two things: I'm not able to integrate the SPI, and i'm also not able to get the serial console working.</td><td class="time"><a href="#t2022-04-06T11:32:51" class="time">11:32</a></td></tr>
<tr id="t2022-04-06T11:33:19"><th class="nick" style="background: #a25555">Tyaku</th><td class="text" style="color: #a25555">In my local.conf I set this: ENABLE_UART = &quot;1&quot; and ENABLE_SPI_BUS = &quot;1&quot;</td><td class="time"><a href="#t2022-04-06T11:33:19" class="time">11:33</a></td></tr>
<tr id="t2022-04-06T11:34:04"><th class="nick" style="background: #a25555">Tyaku</th><td class="text" style="color: #a25555">When the linux boot, nothing get out on serial line. And I don't have /dev/spixxx devices. I try to enable the modules but no changes</td><td class="time"><a href="#t2022-04-06T11:34:04" class="time">11:34</a></td></tr>
<tr id="t2022-04-06T11:36:14"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">agherzan: ^^^ meta-rpi question for you</td><td class="time"><a href="#t2022-04-06T11:36:14" class="time">11:36</a></td></tr>
<tr id="t2022-04-06T11:55:53"><th class="nick" style="background: #57a657">agherzan</th><td class="text" style="color: #57a657">Tyaku: is that a rpi3 or cm3?</td><td class="time"><a href="#t2022-04-06T11:55:53" class="time">11:55</a></td></tr>
<tr id="t2022-04-06T11:56:50"><th class="nick" style="background: #57a657">agherzan</th><td class="text" style="color: #57a657">Also, what version of meta-raspberrypi are you using?</td><td class="time"><a href="#t2022-04-06T11:56:50" class="time">11:56</a></td></tr>
<tr id="t2022-04-06T11:58:25"><th class="nick" style="background: #57a657">agherzan</th><td class="text" style="color: #57a657">Are you using uboot, if yes, can you try without it?</td><td class="time"><a href="#t2022-04-06T11:58:25" class="time">11:58</a></td></tr>
<tr id="t2022-04-06T12:14:03"><th class="nick" style="background: #a25555">Tyaku</th><td class="text" style="color: #a25555">It's a raspberry pi3, I found something interesting: When I flash a SDCard it works ! When I use the network boot, then the serial console is not working and spidev is not created !</td><td class="time"><a href="#t2022-04-06T12:14:03" class="time">12:14</a></td></tr>
<tr id="t2022-04-06T12:14:59"><th class="nick" style="background: #a25555">Tyaku</th><td class="text" style="color: #a25555">Oh, I just see that I can't cat /boot when using network boot. So there is something wrong in my /etc/fstab I think</td><td class="time"><a href="#t2022-04-06T12:14:59" class="time">12:14</a></td></tr>
<tr id="t2022-04-06T12:17:20"><th class="nick" style="background: #a25555">Tyaku</th><td class="text" style="color: #a25555"><a href="https://pastebin.com/C57kYW7V" rel="nofollow">https://pastebin.com/C57kYW7V</a></td><td class="time"><a href="#t2022-04-06T12:17:20" class="time">12:17</a></td></tr>
<tr id="t2022-04-06T12:18:12"><th class="nick" style="background: #a25555">Tyaku</th><td class="text" style="color: #a25555">I think there is something wrong with the NFS, So the problem is not related to meta-raspberry (Jesus)</td><td class="time"><a href="#t2022-04-06T12:18:12" class="time">12:18</a></td></tr>
<tr id="t2022-04-06T12:35:48"><th class="nick" style="background: #5959a9">vvn</th><td class="text" style="color: #5959a9">rburton: hi! Regarding our previous conversation, I think the machine configuration is also an integration point for hardware-specific packages since in practice a product will likely need a custom one instead of using a generic one (i.e. to integrate the bootloader of choice, preferred providers, encryption, some hardware acceleration drivers, etc.)</td><td class="time"><a href="#t2022-04-06T12:35:48" class="time">12:35</a></td></tr>
<tr id="t2022-04-06T12:39:06"><th class="nick" style="background: #5959a9">vvn</th><td class="text" style="color: #5959a9">So in theory one could build an image for a generic machine, but a complete product would likely require a custom distro as well as custom machine configurations (and likely custom images). Would you agree?</td><td class="time"><a href="#t2022-04-06T12:39:06" class="time">12:39</a></td></tr>
<tr id="t2022-04-06T13:17:53"><th class="nick" style="background: #adad5b">jclsn[m]</th><td class="text" style="color: #adad5b">Does anyone has experience with mirroring source repos to Artifactory? Seems like you need an ftp server, which I am not sure Artifactory provides</td><td class="time"><a href="#t2022-04-06T13:17:53" class="time">13:17</a></td></tr>
<tr id="t2022-04-06T13:18:11"><th class="nick" style="background: #adad5b">jclsn[m]</th><td class="text" style="color: #adad5b">s/has/have/</td><td class="time"><a href="#t2022-04-06T13:18:11" class="time">13:18</a></td></tr>
<tr id="t2022-04-06T13:20:10"><th class="nick" style="background: #adad5b">jclsn[m]</th><td class="text" style="color: #adad5b">I only can PUT and GET files with curl.</td><td class="time"><a href="#t2022-04-06T13:20:10" class="time">13:20</a></td></tr>
<tr id="t2022-04-06T13:22:38"><th class="nick" style="background: #adad5b">jclsn[m]</th><td class="text" style="color: #adad5b">Seems like I have to pull the tarballs with a shell script before building hmm</td><td class="time"><a href="#t2022-04-06T13:22:38" class="time">13:22</a></td></tr>
<tr id="t2022-04-06T13:31:30"><th class="nick" style="background: #b15db1">landgraf</th><td class="text" style="color: #b15db1">jclsn[m]: <a href="https://stackoverflow.com/questions/63738191/how-to-pass-global-options-to-wget-and-curl-in-yocto" rel="nofollow">https://stackoverflow.com/questions/63738191/how-to-pass-global-options-to-wget-and-curl-in-yocto</a> ?</td><td class="time"><a href="#t2022-04-06T13:31:30" class="time">13:31</a></td></tr>
<tr id="t2022-04-06T13:44:23"><th class="nick" style="background: #5fb4b4">rfs613</th><td class="text" style="color: #5fb4b4">To share the downloads directory across multiple local yocto trees, is there a difference between setting DL_DIR in each (local.conf etc) versus making &quot;downloads&quot; a symlink? eg. what is the recommended approach, if any?</td><td class="time"><a href="#t2022-04-06T13:44:23" class="time">13:44</a></td></tr>
<tr id="t2022-04-06T13:45:04"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">rfs613: if you set DL_DIR correctly, there's no manual step required (the symlinking)</td><td class="time"><a href="#t2022-04-06T13:45:04" class="time">13:45</a></td></tr>
<tr id="t2022-04-06T13:46:21"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">rfs613: and since you should do the same for SSTATE_DIR, it's two steps less than doing the symlinking manually :)</td><td class="time"><a href="#t2022-04-06T13:46:21" class="time">13:46</a></td></tr>
<tr id="t2022-04-06T13:46:44"><th class="nick" style="background: #5fb4b4">rfs613</th><td class="text" style="color: #5fb4b4">is this a reasonable use for auto.conf or site.conf ?</td><td class="time"><a href="#t2022-04-06T13:46:44" class="time">13:46</a></td></tr>
<tr id="t2022-04-06T13:47:30"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">you could put it in site.conf</td><td class="time"><a href="#t2022-04-06T13:47:30" class="time">13:47</a></td></tr>
<tr id="t2022-04-06T13:47:41"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">site.conf works well if you have a eg company-wide layer</td><td class="time"><a href="#t2022-04-06T13:47:41" class="time">13:47</a></td></tr>
<tr id="t2022-04-06T13:47:53"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">so it can set proxies, central mirrors, etc</td><td class="time"><a href="#t2022-04-06T13:47:53" class="time">13:47</a></td></tr>
<tr id="t2022-04-06T13:50:00"><th class="nick" style="background: #5fb4b4">rfs613</th><td class="text" style="color: #5fb4b4">ok thanks. I noticed that bitbake uses os.path.normpath() in some places, which is known to break symlinks.</td><td class="time"><a href="#t2022-04-06T13:50:00" class="time">13:50</a></td></tr>
<tr id="t2022-04-06T13:50:20"><th class="nick" style="background: #5fb4b4">rfs613</th><td class="text" style="color: #5fb4b4">so I guess that's another reason to use DL_DIR / SSTATE_DIR</td><td class="time"><a href="#t2022-04-06T13:50:20" class="time">13:50</a></td></tr>
<tr id="t2022-04-06T13:50:52"><th class="nick" style="background: #5959a9">vvn</th><td class="text" style="color: #5959a9">qschulz: do you know if downstream users of AGL define their own machine configuration files or if they use the upstream ones solely?</td><td class="time"><a href="#t2022-04-06T13:50:52" class="time">13:50</a></td></tr>
<tr id="t2022-04-06T13:51:52"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">vvn: is this question really aimed at me?</td><td class="time"><a href="#t2022-04-06T13:51:52" class="time">13:51</a></td></tr>
<tr id="t2022-04-06T13:58:36"><th class="nick" style="background: #b86161">smurray</th><td class="text" style="color: #b86161">vvn: AGL upstream supports various dev boards, anyone doing a product pretty much would have to have their own BSP with a machine for their custom h/w (even if it's somewhat minimal to provide a devicetree + kernel config on top of the silicon vendor's BSP)</td><td class="time"><a href="#t2022-04-06T13:58:36" class="time">13:58</a></td></tr>
<tr id="t2022-04-06T13:59:47"><th class="nick" style="background: #5959a9">vvn</th><td class="text" style="color: #5959a9">qschulz: oops nope it was for smurray, sorry.</td><td class="time"><a href="#t2022-04-06T13:59:47" class="time">13:59</a></td></tr>
<tr id="t2022-04-06T14:00:37"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">vvn: no worries, was surprised because I never played with AGL before :D</td><td class="time"><a href="#t2022-04-06T14:00:37" class="time">14:00</a></td></tr>
<tr id="t2022-04-06T14:02:18"><th class="nick" style="background: #5959a9">vvn</th><td class="text" style="color: #5959a9">smurray: so adding a custom foo.conf machine which requires a vendor bsp is somewhat common I assume</td><td class="time"><a href="#t2022-04-06T14:02:18" class="time">14:02</a></td></tr>
<tr id="t2022-04-06T14:03:26"><th class="nick" style="background: #b86161">smurray</th><td class="text" style="color: #b86161">vvn: yes</td><td class="time"><a href="#t2022-04-06T14:03:26" class="time">14:03</a></td></tr>
<tr id="t2022-04-06T14:03:37"><th class="nick" style="background: #5959a9">vvn</th><td class="text" style="color: #5959a9">smurray: how does AGL deal with adding support for a vendor BSP, does it use custom machine configurations too or does it use overrides extensively?</td><td class="time"><a href="#t2022-04-06T14:03:37" class="time">14:03</a></td></tr>
<tr id="t2022-04-06T14:05:49-2"><th class="nick" style="background: #b86161">smurray</th><td class="text" style="color: #b86161">vvn: there are no custom machine configurations in upstream (*), AGL upstream only targets dev boards that (at least so far) have existing machine .conf's in vendor BSPs</td><td class="time"><a href="#t2022-04-06T14:05:49-2" class="time">14:05</a></td></tr>
<tr id="t2022-04-06T14:06:55"><th class="nick" style="background: #b86161">smurray</th><td class="text" style="color: #b86161">vvn: the * is that we do carry some tweaks to vendor BSPs to e.g. consistently enable some kernel configs and fix wayland configuration issues</td><td class="time"><a href="#t2022-04-06T14:06:55" class="time">14:06</a></td></tr>
<tr id="t2022-04-06T14:07:56"><th class="nick" style="background: #b86161">smurray</th><td class="text" style="color: #b86161">vvn: that's done with effectively local.conf tweaks and bbappends, and we try to avoid anything really significant</td><td class="time"><a href="#t2022-04-06T14:07:56" class="time">14:07</a></td></tr>
<tr id="t2022-04-06T14:09:44"><th class="nick" style="background: #b86161">smurray</th><td class="text" style="color: #b86161">vvn: and there's actually one custom machine in tree at the moment that I can think of, but it's to target a specific kernel for running in VMs with a bunch of virtio features enabled</td><td class="time"><a href="#t2022-04-06T14:09:44" class="time">14:09</a></td></tr>
<tr id="t2022-04-06T14:09:48"><th class="nick" style="background: #488888">amahnui[m]</th><td class="text" style="color: #488888">Hello everyone,</td><td class="time"><a href="#t2022-04-06T14:09:48" class="time">14:09</a></td></tr>
<tr id="t2022-04-06T14:09:48-2"><th class="nick" style="background: #488888">amahnui[m]</th><td class="text" style="color: #488888">I just wanted ask if there's any outreachy applicant in the chat I&nbsp;&nbsp;wish to connect</td><td class="time"><a href="#t2022-04-06T14:09:48-2" class="time">14:09</a></td></tr>
<tr id="t2022-04-06T14:12:21"><th class="nick" style="background: #b86161">smurray</th><td class="text" style="color: #b86161">vvn: but for some customer engagements around AGL that I've been involved with for Konsulko, we've done what I described, a small product-specific BSP layer on top of the vendor BSP, then a corresponding distro layer</td><td class="time"><a href="#t2022-04-06T14:12:21" class="time">14:12</a></td></tr>
<tr id="t2022-04-06T14:16:11"><th class="nick" style="background: #488888">amahnui[m]</th><td class="text" style="color: #488888">I also wish to ask how many cores is recommended for an 8gb ram machine when running bitbake core-image-sato</td><td class="time"><a href="#t2022-04-06T14:16:11" class="time">14:16</a></td></tr>
<tr id="t2022-04-06T14:17:10"><th class="nick" style="background: #488888">amahnui[m]</th><td class="text" style="color: #488888">The machine as 8GB of RAM nad 8 cores</td><td class="time"><a href="#t2022-04-06T14:17:10" class="time">14:17</a></td></tr>
<tr id="t2022-04-06T14:24:44"><th class="nick" style="background: #5959a9">vvn</th><td class="text" style="color: #5959a9">smurray: so something like meta-&lt;company&gt;-bsp with a foomach.conf machine configuration file which does 'require conf/machine/beaglebone.conf' and tweaks, as well as meta-&lt;company&gt;-distro with a foodist.conf which customize the software stack further.</td><td class="time"><a href="#t2022-04-06T14:24:44" class="time">14:24</a></td></tr>
<tr id="t2022-04-06T14:26:06"><th class="nick" style="background: #488888">amahnui[m]</th><td class="text" style="color: #488888">Please how do I call PARALLEL_MAKE&nbsp;&nbsp;in my conf/local.conf file in the case that iit is not present there</td><td class="time"><a href="#t2022-04-06T14:26:06" class="time">14:26</a></td></tr>
<tr id="t2022-04-06T14:27:32"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">amahnui[m]: I'm not entirely certain limiting PARALLEL_MAKE in conf/local.conf would be enough (disclosure: I suggested it in private), but just set PARALLEL_MAKE=&quot;-j 4&quot; in conf/local.conf for example</td><td class="time"><a href="#t2022-04-06T14:27:32" class="time">14:27</a></td></tr>
<tr id="t2022-04-06T14:27:54"><th class="nick" style="background: #b86161">smurray</th><td class="text" style="color: #b86161">vvn: yeah, something along those lines.&nbsp;&nbsp;If the foomach machine is much different from an existing board, the .conf might be a modified copy or a from scratch written one.&nbsp;&nbsp;There's sometimes cruft in the dev board configs you might not want to have to work to undo</td><td class="time"><a href="#t2022-04-06T14:27:54" class="time">14:27</a></td></tr>
<tr id="t2022-04-06T14:29:53"><th class="nick" style="background: #488888">amahnui[m]</th><td class="text" style="color: #488888">qschulz: thanks I'll add it there rather.</td><td class="time"><a href="#t2022-04-06T14:29:53" class="time">14:29</a></td></tr>
<tr id="t2022-04-06T14:31:38"><th class="nick" style="background: #5959a9">vvn</th><td class="text" style="color: #5959a9">smurray: I see. That's what I wondering if I do well or not. In the example of meta-ti/beaglebone, the BSP machine conf is lacking many things I need (preferred drivers for hardware acceleration, different bootloader, some machine dependencies and tweaks...) but I do not want to miss an upstream fix, so require beaglebone.conf seems safe, even though it's a bit ugly...</td><td class="time"><a href="#t2022-04-06T14:31:38" class="time">14:31</a></td></tr>
<tr id="t2022-04-06T14:33:18"><th class="nick" style="background: #5959a9">vvn</th><td class="text" style="color: #5959a9">I was using a custom include file to add these tweaks, but then it becomes distro specific and it is a bit more obfuscated than a custom machine config :/</td><td class="time"><a href="#t2022-04-06T14:33:18" class="time">14:33</a></td></tr>
<tr id="t2022-04-06T14:36:27"><th class="nick" style="background: #b86161">smurray</th><td class="text" style="color: #b86161">vvn: yeah, there can be grey areas</td><td class="time"><a href="#t2022-04-06T14:36:27" class="time">14:36</a></td></tr>
<tr id="t2022-04-06T14:41:32"><th class="nick" style="background: #5fb4b4">rfs613</th><td class="text" style="color: #5fb4b4">does the autobuild run dunfell branch with meta-openembedded layer?</td><td class="time"><a href="#t2022-04-06T14:41:32" class="time">14:41</a></td></tr>
<tr id="t2022-04-06T14:44:48"><th class="nick" style="background: #5959a9">vvn</th><td class="text" style="color: #5959a9">smurray: true and it can get frustrating. Ideally a machine conf can be generic enough not to be overridden, but the reality is choosing an alternative bootloader, preferred drivers, custom boot scripts and whatnot requires a custom config and loading the distro with overrides or include files can become quickly cumbersome</td><td class="time"><a href="#t2022-04-06T14:44:48" class="time">14:44</a></td></tr>
<tr id="t2022-04-06T14:48:45"><th class="nick" style="background: #5fb4b4">rfs613</th><td class="text" style="color: #5fb4b4">build #3472 seems to be dunfell-nut branch + meta-selftest layer... but I had to dig the log to find this. Is there another way to search?</td><td class="time"><a href="#t2022-04-06T14:48:45" class="time">14:48</a></td></tr>
<tr id="t2022-04-06T14:55:46"><th class="nick" style="background: #adad5b">jclsn[m]</th><td class="text" style="color: #adad5b">landgraf: I understand how authentication works for Artifactor, but I don't see how I can simply add the URL as SOURCE_MIRROR_URL.</td><td class="time"><a href="#t2022-04-06T14:55:46" class="time">14:55</a></td></tr>
<tr id="t2022-04-06T14:55:46-2"><th class="nick" style="background: #adad5b">jclsn[m]</th><td class="text" style="color: #adad5b">Does Bitbake support that?</td><td class="time"><a href="#t2022-04-06T14:55:46-2" class="time">14:55</a></td></tr>
<tr id="t2022-04-06T14:57:49"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">wget will respect .netrc for authentication details</td><td class="time"><a href="#t2022-04-06T14:57:49" class="time">14:57</a></td></tr>
<tr id="t2022-04-06T15:01:10"><th class="nick" style="background: #adad5b">jclsn[m]</th><td class="text" style="color: #adad5b">Ah you can access the Artifactory repos with https. I thought it would only be possible via the REST API</td><td class="time"><a href="#t2022-04-06T15:01:10" class="time">15:01</a></td></tr>
<tr id="t2022-04-06T15:01:17"><th class="nick" style="background: #adad5b">jclsn[m]</th><td class="text" style="color: #adad5b">Wonder if it can also push like this</td><td class="time"><a href="#t2022-04-06T15:01:17" class="time">15:01</a></td></tr>
<tr id="t2022-04-06T15:04:18"><td class="nickchange" colspan="2">*** mckoan is now known as mckoan|away</td><td><a href="#t2022-04-06T15:04:18" class="time">15:04</a></td></tr>
<tr id="t2022-04-06T15:22:03"><th class="nick" style="background: #62bb62">fabatera[m]</th><td class="text" style="color: #62bb62">Hi!... (full message at <a href="https://libera.ems.host/_matrix/media/r0/download/libera.chat/188212870bac9d4e979d21fef2b8dbf845aa3f76" rel="nofollow">https://libera.ems.host/_matrix/media/r0/download/libera.chat/188212870bac9d4e979d21fef2b8dbf845aa3f76</a>)</td><td class="time"><a href="#t2022-04-06T15:22:03" class="time">15:22</a></td></tr>
<tr id="t2022-04-06T15:27:54"><th class="nick" style="background: #6464bf">sakoman</th><td class="text" style="color: #6464bf">rfs613: In general, no, most autobuilder runs don't include meta-openembedded.&nbsp;&nbsp;Near release times I do run meta-oe tests to check that nothing is broken</td><td class="time"><a href="#t2022-04-06T15:27:54" class="time">15:27</a></td></tr>
<tr id="t2022-04-06T15:29:00"><th class="nick" style="background: #6464bf">sakoman</th><td class="text" style="color: #6464bf">rfs613: khem does lots of test runs: <a href="https://autobuilder.yoctoproject.org/typhoon/#/builders/88" rel="nofollow">https://autobuilder.yoctoproject.org/typhoon/#/builders/88</a></td><td class="time"><a href="#t2022-04-06T15:29:00" class="time">15:29</a></td></tr>
<tr id="t2022-04-06T15:29:58"><th class="nick" style="background: #5fb4b4">rfs613</th><td class="text" style="color: #5fb4b4">sakoman: that's the feeling I got after browsing around a bit. Thanks for confirming. I'm seeing some fuzz warnings from a recent CVE patch in polkit, trying to see if it shows up in autobuilder as well.</td><td class="time"><a href="#t2022-04-06T15:29:58" class="time">15:29</a></td></tr>
<tr id="t2022-04-06T15:31:21"><th class="nick" style="background: #b15db1">landgraf</th><td class="text" style="color: #b15db1">jclsn[m]:&nbsp;&nbsp;bitbake fetcher uses wget for https, wGET does GET and don't PUT just because of its name :)</td><td class="time"><a href="#t2022-04-06T15:31:21" class="time">15:31</a></td></tr>
<tr id="t2022-04-06T15:32:26"><th class="nick" style="background: #4d4d93">Saur[m]</th><td class="text" style="color: #4d4d93">fabatera: No, one recipe cannot affect another recipe in any way.</td><td class="time"><a href="#t2022-04-06T15:32:26" class="time">15:32</a></td></tr>
<tr id="t2022-04-06T15:34:34"><th class="nick" style="background: #c3c366">kergoth</th><td class="text" style="color: #c3c366">Hmm, wonder if anyone else would find <a href="https://github.com/MentorEmbedded/meta-mentor/blob/master/meta-mentor-common/classes/user_features.bbclass" rel="nofollow">https://github.com/MentorEmbedded/meta-mentor/blob/master/meta-mentor-common/classes/user_features.bbclass</a> of use. Going through my layers for potential submissions</td><td class="time"><a href="#t2022-04-06T15:34:34" class="time">15:34</a></td></tr>
<tr id="t2022-04-06T15:37:08"><th class="nick" style="background: #adad5b">jclsn[m]</th><td class="text" style="color: #adad5b">&lt;landgraf&gt; &quot;jclsn:&nbsp;&nbsp;bitbake fetcher uses...&quot; &lt;- Yeah I get it. So this means I have to PUT manually via a script, which shouldnt be too bad. It’s not like you have to do it every day.</td><td class="time"><a href="#t2022-04-06T15:37:08" class="time">15:37</a></td></tr>
<tr id="t2022-04-06T15:47:16"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">zeddii: it appears that the xtf-image:testimage integration is broken in master. just tried it, and the boot appears to hang.</td><td class="time"><a href="#t2022-04-06T15:47:16" class="time">15:47</a></td></tr>
<tr id="t2022-04-06T15:48:39"><th class="nick" style="background: #5959a9">vvn</th><td class="text" style="color: #5959a9">kergoth: not sure actually. It makes me think about having 'include conf/${MACHINE}-${DISTRO}.inc' upstream in meta/conf/bitbake.conf. It seems nice, but in the end too much include files and variables and overrides make the project cumbersome, and downstream machine/distro/image files to support an actual product often end up simpler and more intuitive. Just my opinion.</td><td class="time"><a href="#t2022-04-06T15:48:39" class="time">15:48</a></td></tr>
<tr id="t2022-04-06T15:49:41"><th class="nick" style="background: #c3c366">kergoth</th><td class="text" style="color: #c3c366">The above bbclass just provides an explicit lever for a build to override a distro, so i don't think it's as bad as directly crossing the distro/machine/image boundaries</td><td class="time"><a href="#t2022-04-06T15:49:41" class="time">15:49</a></td></tr>
<tr id="t2022-04-06T15:49:44"><th class="nick" style="background: #c3c366">kergoth</th><td class="text" style="color: #c3c366">but it's a good point</td><td class="time"><a href="#t2022-04-06T15:49:44" class="time">15:49</a></td></tr>
<tr id="t2022-04-06T16:15:54"><th class="nick" style="background: #c668c6">manuel</th><td class="text" style="color: #c668c6">Hi all. How can I build a yocto image with a patched initramfs? I'd like to carry this patch over to my yocto image: <a href="https://gitlab.com/manuel_wagesreither/debian-image-creator/-/blob/master/src/files/initramfs.patch" rel="nofollow">https://gitlab.com/manuel_wagesreither/debian-image-creator/-/blob/master/src/files/initramfs.patch</a></td><td class="time"><a href="#t2022-04-06T16:15:54" class="time">16:15</a></td></tr>
<tr id="t2022-04-06T16:20:28"><th class="nick" style="background: #5959a9">vvn</th><td class="text" style="color: #5959a9">manuel: it seems like this patch is meant for the initramfs-tools package. So create a recipes-devtools/initramfs-tools/initramfs-tools_%.bbappend file in your layer which adds SRC_URI += &quot;<a href="https://gitlab.com/manuel_wagesreither/debian-image-creator/-/blob/master/src/files/initramfs.patch" rel="nofollow">https://gitlab.com/manuel_wagesreither/debian-image-creator/-/blob/master/src/files/initramfs.patch</a>&quot;</td><td class="time"><a href="#t2022-04-06T16:20:28" class="time">16:20</a></td></tr>
<tr id="t2022-04-06T16:21:16"><th class="nick" style="background: #5959a9">vvn</th><td class="text" style="color: #5959a9">and make sure that initramfs-tools is installed as part of whatever initramfs image you are using.</td><td class="time"><a href="#t2022-04-06T16:21:16" class="time">16:21</a></td></tr>
<tr id="t2022-04-06T16:26:42"><th class="nick" style="background: #c668c6">manuel</th><td class="text" style="color: #c668c6">vvn: Makes sense, thank you. How come initramfs-tools is optional? That patch is patching some very fundamental things when booting linux (that is, mounting the rootfs and switching root into it). If initramfs-tools is not in place, what is providing this functionality then?</td><td class="time"><a href="#t2022-04-06T16:26:42" class="time">16:26</a></td></tr>
<tr id="t2022-04-06T16:29:41"><th class="nick" style="background: #5959a9">vvn</th><td class="text" style="color: #5959a9">manuel: actually initramfs-tools is just a tool from Debian used to create an initramfs image. I guess it is run on the target itself to generate /boot/linux-initramfs.img or whatever. It isn't an initramfs package per-se if I'm not mistaken, but a target package.</td><td class="time"><a href="#t2022-04-06T16:29:41" class="time">16:29</a></td></tr>
<tr id="t2022-04-06T16:30:16"><th class="nick" style="background: #b86161">smurray</th><td class="text" style="color: #b86161">it's not used by OE/Yocto at all that I can see</td><td class="time"><a href="#t2022-04-06T16:30:16" class="time">16:30</a></td></tr>
<tr id="t2022-04-06T16:30:44"><th class="nick" style="background: #5959a9">vvn</th><td class="text" style="color: #5959a9">manuel: (re)generating the initramfs image from the target itself is one way of doing it, but you may build it elsewhere, like core-image-minimal-initramfs. Or your own recipe.</td><td class="time"><a href="#t2022-04-06T16:30:44" class="time">16:30</a></td></tr>
<tr id="t2022-04-06T16:31:32"><th class="nick" style="background: #5959a9">vvn</th><td class="text" style="color: #5959a9">smurray: it's listed here, but I'm guessing it's not widely used <a href="http://layers.openembedded.org/layerindex/recipe/56835/" rel="nofollow">http://layers.openembedded.org/layerindex/recipe/56835/</a> :)</td><td class="time"><a href="#t2022-04-06T16:31:32" class="time">16:31</a></td></tr>
<tr id="t2022-04-06T16:32:28"><th class="nick" style="background: #c668c6">manuel</th><td class="text" style="color: #c668c6">vvn: Alright, I understand. Wasn't aware this is just the Debian way of doing things. But it all makes sense. Thanks! I know how to proceed now.</td><td class="time"><a href="#t2022-04-06T16:32:28" class="time">16:32</a></td></tr>
<tr id="t2022-04-06T16:33:12"><th class="nick" style="background: #b86161">smurray</th><td class="text" style="color: #b86161">vvn: ah, I did look in the layer index just now, but missed it</td><td class="time"><a href="#t2022-04-06T16:33:12" class="time">16:33</a></td></tr>
<tr id="t2022-04-06T16:33:31"><th class="nick" style="background: #5959a9">vvn</th><td class="text" style="color: #5959a9">manuel: and those scripts are just one implementation for mounting the rootfs and switching to it. systemd does it on its own (if part of an initial ram disk for sure). You may have your very own script doing this manually as well.</td><td class="time"><a href="#t2022-04-06T16:33:31" class="time">16:33</a></td></tr>
<tr id="t2022-04-06T16:33:32"><th class="nick" style="background: #b86161">smurray</th><td class="text" style="color: #b86161">manuel: perhaps take a look at recipes-core/initrdscripts/initramfs-framework_1.0.bb and the scriptlets it pulls in, that's what's used in the example initramfs images in oe-core</td><td class="time"><a href="#t2022-04-06T16:33:32" class="time">16:33</a></td></tr>
<tr id="t2022-04-06T16:39:26"><th class="nick" style="background: #c668c6">manuel</th><td class="text" style="color: #c668c6">vvn, smurray: cool, will look into that. If I have a systemd system, is this initramfs-framework recipe getting used or whatever systemd comes up with?</td><td class="time"><a href="#t2022-04-06T16:39:26" class="time">16:39</a></td></tr>
<tr id="t2022-04-06T16:40:39"><th class="nick" style="background: #5959a9">vvn</th><td class="text" style="color: #5959a9">manuel: totally up to you. If you want a full systemd stack, you may set INITRAMFS_SCRIPTS = &quot;systemd-initramfs&quot; and INITRAMFS_IMAGE = &quot;core-image-minimal-initramfs&quot; in your local.conf or distro.</td><td class="time"><a href="#t2022-04-06T16:40:39" class="time">16:40</a></td></tr>
<tr id="t2022-04-06T16:50:44"><th class="nick" style="background: #b86161">smurray</th><td class="text" style="color: #b86161">vvn: btw, did you happen to get an expired certificate warning from layers.openembedded.org?</td><td class="time"><a href="#t2022-04-06T16:50:44" class="time">16:50</a></td></tr>
<tr id="t2022-04-06T16:51:01"><th class="nick" style="background: #5959a9">vvn</th><td class="text" style="color: #5959a9">smurray: nope</td><td class="time"><a href="#t2022-04-06T16:51:01" class="time">16:51</a></td></tr>
<tr id="t2022-04-06T16:51:09"><th class="nick" style="background: #b86161">smurray</th><td class="text" style="color: #b86161">vvn: hrm, okay</td><td class="time"><a href="#t2022-04-06T16:51:09" class="time">16:51</a></td></tr>
<tr id="t2022-04-06T16:55:56"><th class="nick" style="background: #6acaca">RP</th><td class="text" style="color: #6acaca">zeddii: do you use any systems with make 4.2.1 for testing the kernel builds?</td><td class="time"><a href="#t2022-04-06T16:55:56" class="time">16:55</a></td></tr>
<tr id="t2022-04-06T16:56:39"><th class="nick" style="background: #b86161">smurray</th><td class="text" style="color: #b86161">halstead: sort of looks like the SSL cert on layers.oe.org expired about an hour and a half ago</td><td class="time"><a href="#t2022-04-06T16:56:39" class="time">16:56</a></td></tr>
<tr id="t2022-04-06T16:56:51"><td class="action" colspan="2">* rfs613 builds kernels with make 4.2.1 </td><td><a href="#t2022-04-06T16:56:51" class="time">16:56</a></td></tr>
<tr id="t2022-04-06T16:57:24"><th class="nick" style="background: #6acaca">RP</th><td class="text" style="color: #6acaca">rfs613: we're seeing hangs occasionally with it :/</td><td class="time"><a href="#t2022-04-06T16:57:24" class="time">16:57</a></td></tr>
<tr id="t2022-04-06T16:58:48"><th class="nick" style="background: #5fb4b4">rfs613</th><td class="text" style="color: #5fb4b4">RP: hmm, interesting - I've not seen any hang FWIW. I typically do a dozen builds when I am rebasing LTS kernels. And if I am debugging something, I may do many many more (though those are usually incremental)</td><td class="time"><a href="#t2022-04-06T16:58:48" class="time">16:58</a></td></tr>
<tr id="t2022-04-06T17:00:09"><th class="nick" style="background: #ce6c6c">zeddii</th><td class="text" style="color: #ce6c6c">RP: all my systems are Make 4.2.1 it appears</td><td class="time"><a href="#t2022-04-06T17:00:09" class="time">17:00</a></td></tr>
<tr id="t2022-04-06T17:05:53"><th class="nick" style="background: #6acaca">RP</th><td class="text" style="color: #6acaca">zeddii: hmm, so how common is this bug :/</td><td class="time"><a href="#t2022-04-06T17:05:53" class="time">17:05</a></td></tr>
<tr id="t2022-04-06T17:06:35"><th class="nick" style="background: #5959a9">vvn</th><td class="text" style="color: #5959a9">having a layer in a meta/ directory won't clash as long as the layer name is unique, right?</td><td class="time"><a href="#t2022-04-06T17:06:35" class="time">17:06</a></td></tr>
<tr id="t2022-04-06T17:06:37"><th class="nick" style="background: #6acaca">RP</th><td class="text" style="color: #6acaca">rfs613: it is rare but does seem to happen on the autobuilder periodically, either in the kernel or perl</td><td class="time"><a href="#t2022-04-06T17:06:37" class="time">17:06</a></td></tr>
<tr id="t2022-04-06T17:06:54"><th class="nick" style="background: #9b519b">JaMa</th><td class="text" style="color: #9b519b">LetoThe2nd: find the corresponding sigdata files and run bitbake-diffsigs on them</td><td class="time"><a href="#t2022-04-06T17:06:54" class="time">17:06</a></td></tr>
<tr id="t2022-04-06T17:07:13"><th class="nick" style="background: #9b519b">JaMa</th><td class="text" style="color: #9b519b">LetoThe2nd: ups, replying to some old message</td><td class="time"><a href="#t2022-04-06T17:07:13" class="time">17:07</a></td></tr>
<tr id="t2022-04-06T17:07:59"><td class="action" colspan="2">* RP suspects <a href="https://git.savannah.gnu.org/cgit/make.git/commit/?id=78b5fec6898c26956d00548427cda1101cb80f8a" rel="nofollow">https://git.savannah.gnu.org/cgit/make.git/commit/?id=78b5fec6898c26956d00548427cda1101cb80f8a</a> is missing in 4.2.1 causing t</td><td><a href="#t2022-04-06T17:07:59" class="time">17:07</a></td></tr>
<tr id="t2022-04-06T17:08:01"><th class="nick" style="background: #6acaca">RP</th><td class="text" style="color: #6acaca">it</td><td class="time"><a href="#t2022-04-06T17:08:01" class="time">17:08</a></td></tr>
<tr id="t2022-04-06T17:21:09"><th class="nick" style="background: #5fb4b4">rfs613</th><td class="text" style="color: #5fb4b4">RP: it seems that ubuntu-20.x has this included in their make-4.2.1 packcage</td><td class="time"><a href="#t2022-04-06T17:21:09" class="time">17:21</a></td></tr>
<tr id="t2022-04-06T17:21:18"><th class="nick" style="background: #5fb4b4">rfs613</th><td class="text" style="color: #5fb4b4">which may explain why I don't see it</td><td class="time"><a href="#t2022-04-06T17:21:18" class="time">17:21</a></td></tr>
<tr id="t2022-04-06T17:22:13"><th class="nick" style="background: #5fb4b4">rfs613</th><td class="text" style="color: #5fb4b4">am looking at <a href="https://packages.ubuntu.com/focal/make" rel="nofollow">https://packages.ubuntu.com/focal/make</a> and specifically the make-dfsg_4.2.1-1.2.diff.gz file</td><td class="time"><a href="#t2022-04-06T17:22:13" class="time">17:22</a></td></tr>
<tr id="t2022-04-06T17:22:34"><th class="nick" style="background: #6acaca">RP</th><td class="text" style="color: #6acaca">rfs613: that would explain it</td><td class="time"><a href="#t2022-04-06T17:22:34" class="time">17:22</a></td></tr>
<tr id="t2022-04-06T17:22:51"><th class="nick" style="background: #6acaca">RP</th><td class="text" style="color: #6acaca">it is generally redhat systems where this shows up that don't have that</td><td class="time"><a href="#t2022-04-06T17:22:51" class="time">17:22</a></td></tr>
<tr id="t2022-04-06T17:23:06"><th class="nick" style="background: #6acaca">RP</th><td class="text" style="color: #6acaca">zeddii: are yours redhat derived or debian?</td><td class="time"><a href="#t2022-04-06T17:23:06" class="time">17:23</a></td></tr>
<tr id="t2022-04-06T17:23:15"><th class="nick" style="background: #ce6c6c">zeddii</th><td class="text" style="color: #ce6c6c">ubu</td><td class="time"><a href="#t2022-04-06T17:23:15" class="time">17:23</a></td></tr>
<tr id="t2022-04-06T17:23:34"><th class="nick" style="background: #5fb4b4">rfs613</th><td class="text" style="color: #5fb4b4">looks like it was patched&nbsp;&nbsp;Wed 11 Jul 2018 according to <a href="http://changelogs.ubuntu.com/changelogs/pool/main/m/make-dfsg/make-dfsg_4.2.1-1.2/changelog" rel="nofollow">http://changelogs.ubuntu.com/changelogs/pool/main/m/make-dfsg/make-dfsg_4.2.1-1.2/changelog</a></td><td class="time"><a href="#t2022-04-06T17:23:34" class="time">17:23</a></td></tr>
<tr id="t2022-04-06T17:23:37"><th class="nick" style="background: #6acaca">RP</th><td class="text" style="color: #6acaca">that might help explain things but complicates a fix :/</td><td class="time"><a href="#t2022-04-06T17:23:37" class="time">17:23</a></td></tr>
<tr id="t2022-04-06T17:24:21"><th class="nick" style="background: #5fb4b4">rfs613</th><td class="text" style="color: #5fb4b4">there seem to be two potential hangs, SV 51400 and SV 51159</td><td class="time"><a href="#t2022-04-06T17:24:21" class="time">17:24</a></td></tr>
<tr id="t2022-04-06T17:24:34"><th class="nick" style="background: #5959a9">vvn</th><td class="text" style="color: #5959a9">Do not rest your foot on the power cord guys</td><td class="time"><a href="#t2022-04-06T17:24:34" class="time">17:24</a></td></tr>
<tr id="t2022-04-06T17:25:54"><th class="nick" style="background: #5fb4b4">rfs613</th><td class="text" style="color: #5fb4b4">vvn: what about the ethernet cord? :P</td><td class="time"><a href="#t2022-04-06T17:25:54" class="time">17:25</a></td></tr>
<tr id="t2022-04-06T17:29:46"><th class="nick" style="background: #5fb4b4">rfs613</th><td class="text" style="color: #5fb4b4">khem: has anyone reported issue with the recent CVE fixes for polkit in meta-openebedded?</td><td class="time"><a href="#t2022-04-06T17:29:46" class="time">17:29</a></td></tr>
<tr id="t2022-04-06T17:30:41"><th class="nick" style="background: #5fb4b4">rfs613</th><td class="text" style="color: #5fb4b4">i've just figured out that two of them are colliding, which evidently results in the fuzz warning.</td><td class="time"><a href="#t2022-04-06T17:30:41" class="time">17:30</a></td></tr>
<tr id="t2022-04-06T17:31:29"><th class="nick" style="background: #5fb4b4">rfs613</th><td class="text" style="color: #5fb4b4">i'll post a fix, just giving a heads up</td><td class="time"><a href="#t2022-04-06T17:31:29" class="time">17:31</a></td></tr>
<tr id="t2022-04-06T17:32:38"><th class="nick" style="background: #b86161">smurray</th><td class="text" style="color: #b86161">rfs613: odd, I've been doing test builds locally with meta-oe with that change (d5eef01f, I assume) and I've not seen a fuzz warning</td><td class="time"><a href="#t2022-04-06T17:32:38" class="time">17:32</a></td></tr>
<tr id="t2022-04-06T17:35:15"><th class="nick" style="background: #5fb4b4">rfs613</th><td class="text" style="color: #5fb4b4">smurray: this is on dunfell, the two commits are 67ec3e04 and 17e931</td><td class="time"><a href="#t2022-04-06T17:35:15" class="time">17:35</a></td></tr>
<tr id="t2022-04-06T17:35:38"><th class="nick" style="background: #b86161">smurray</th><td class="text" style="color: #b86161">rfs613: ah, okay</td><td class="time"><a href="#t2022-04-06T17:35:38" class="time">17:35</a></td></tr>
<tr id="t2022-04-06T18:10:45"><th class="nick" style="background: #6ed16e">halstead</th><td class="text" style="color: #6ed16e">smurray: I'll look into it.</td><td class="time"><a href="#t2022-04-06T18:10:45" class="time">18:10</a></td></tr>
<tr id="t2022-04-06T18:11:27"><th class="nick" style="background: #b86161">smurray</th><td class="text" style="color: #b86161">halstead: okay, thank you</td><td class="time"><a href="#t2022-04-06T18:11:27" class="time">18:11</a></td></tr>
<tr id="t2022-04-06T18:13:06"><th class="nick" style="background: #6ed16e">halstead</th><td class="text" style="color: #6ed16e">smurray: I just forced the renewal. How does it look now?</td><td class="time"><a href="#t2022-04-06T18:13:06" class="time">18:13</a></td></tr>
<tr id="t2022-04-06T18:14:05"><th class="nick" style="background: #b86161">smurray</th><td class="text" style="color: #b86161">halstead: looks good now, Firefox is happy</td><td class="time"><a href="#t2022-04-06T18:14:05" class="time">18:14</a></td></tr>
<tr id="t2022-04-06T18:14:31"><th class="nick" style="background: #b86161">smurray</th><td class="text" style="color: #b86161">halstead: thanks!</td><td class="time"><a href="#t2022-04-06T18:14:31" class="time">18:14</a></td></tr>
<tr id="t2022-04-06T18:15:18"><th class="nick" style="background: #6ed16e">halstead</th><td class="text" style="color: #6ed16e">smurray: It shouldn't need to be forced. Thank you for the ping.&nbsp;&nbsp;We are moving this into a new system before the next renewal so it won't happen again.</td><td class="time"><a href="#t2022-04-06T18:15:18" class="time">18:15</a></td></tr>
<tr id="t2022-04-06T18:15:38"><th class="nick" style="background: #b86161">smurray</th><td class="text" style="color: #b86161">halstead: cool, good to know</td><td class="time"><a href="#t2022-04-06T18:15:38" class="time">18:15</a></td></tr>
<tr id="t2022-04-06T18:46:26"><th class="nick" style="background: #407a40">LetoThe2nd</th><td class="text" style="color: #407a40">khem: are you aware of any gdk-pixbuf woes on kirkston/master with riscv at the moment?</td><td class="time"><a href="#t2022-04-06T18:46:26" class="time">18:46</a></td></tr>
<tr id="t2022-04-06T18:53:46"><th class="nick" style="background: #407a40">LetoThe2nd</th><td class="text" style="color: #407a40">hm.</td><td class="time"><a href="#t2022-04-06T18:53:46" class="time">18:53</a></td></tr>
<tr id="t2022-04-06T18:54:11"><th class="nick" style="background: #407a40">LetoThe2nd</th><td class="text" style="color: #407a40">its not even riscv related, but it completely falls over, even for qemux86</td><td class="time"><a href="#t2022-04-06T18:54:11" class="time">18:54</a></td></tr>
<tr id="t2022-04-06T19:25:09"><th class="nick" style="background: #5959a9">vvn</th><td class="text" style="color: #5959a9">if you're bsp relies on systemd-cryptsetup to boot an encrypted rootfs, is it ok to have PACKAGECONFIG:append = &quot; cryptsetup&quot; in a systemd_%.bbappend file in both the BSP and distro layers?</td><td class="time"><a href="#t2022-04-06T19:25:09" class="time">19:25</a></td></tr>
<tr id="t2022-04-06T19:26:05"><th class="nick" style="background: #5959a9">vvn</th><td class="text" style="color: #5959a9">s/you're/your/</td><td class="time"><a href="#t2022-04-06T19:26:05" class="time">19:26</a></td></tr>
<tr id="t2022-04-06T20:35:03"><th class="nick" style="background: #b86161">smurray</th><td class="text" style="color: #b86161">vvn: to me that's a distro thing, ideally the BSP doesn't care if a distro uses sysvinit, systemd, or something else</td><td class="time"><a href="#t2022-04-06T20:35:03" class="time">20:35</a></td></tr>
<tr id="t2022-04-06T20:38:04"><th class="nick" style="background: #5959a9">vvn</th><td class="text" style="color: #5959a9">smurray: true, but I'm writing an initrd service for systemd to create the root subvolume if it doesn't exist (we can't do that via the .wks file). Without it the boot obviously fails. I'm not sure where this recipe belongs :/</td><td class="time"><a href="#t2022-04-06T20:38:04" class="time">20:38</a></td></tr>
<tr id="t2022-04-06T20:43:25"><th class="nick" style="background: #b86161">smurray</th><td class="text" style="color: #b86161">vvn: I'd still argue the selection of systemd and using cryptsetup are distro choices.&nbsp;&nbsp;But I realize in practice it can be easier to blend things together, and tbh it's not the end of the world IMO if it's for your own product and unlikely to need that flexibility</td><td class="time"><a href="#t2022-04-06T20:43:25" class="time">20:43</a></td></tr>
<tr id="t2022-04-06T20:45:31"><th class="nick" style="background: #5959a9">vvn</th><td class="text" style="color: #5959a9">smurray: no but you're totally right. The confusing thing is that the bsp in fact *requires* a specific distro crafted for it, i.e. systemd + cryptsetup + musl (if such light libc works). While the rootfs may honor the principle of orthogonal machine/distro/image</td><td class="time"><a href="#t2022-04-06T20:45:31" class="time">20:45</a></td></tr>
<tr id="t2022-04-06T20:47:35"><th class="nick" style="background: #5959a9">vvn</th><td class="text" style="color: #5959a9">smurray: like would it make sense to have poky-initramfs.conf or poky-altcfg-initramfs.conf for instance?</td><td class="time"><a href="#t2022-04-06T20:47:35" class="time">20:47</a></td></tr>
<tr id="t2022-04-06T20:51:37"><th class="nick" style="background: #b86161">smurray</th><td class="text" style="color: #b86161">vvn: to do something along the lines of <a href="http://docs.yoctoproject.org/dev-manual/common-tasks.html#bundling-an-initramfs-image-from-a-separate-multiconfig" rel="nofollow">http://docs.yoctoproject.org/dev-manual/common-tasks.html#bundling-an-initramfs-image-from-a-separate-multiconfig</a> ?</td><td class="time"><a href="#t2022-04-06T20:51:37" class="time">20:51</a></td></tr>
<tr id="t2022-04-06T20:52:10"><th class="nick" style="background: #5959a9">vvn</th><td class="text" style="color: #5959a9">smurray: exactly</td><td class="time"><a href="#t2022-04-06T20:52:10" class="time">20:52</a></td></tr>
<tr id="t2022-04-06T20:52:12"><th class="nick" style="background: #b86161">smurray</th><td class="text" style="color: #b86161">vvn: usually I'd expect the initramfs to not have enough in it that it'd need a full new distro conf</td><td class="time"><a href="#t2022-04-06T20:52:12" class="time">20:52</a></td></tr>
<tr id="t2022-04-06T20:53:21"><th class="nick" style="background: #b86161">smurray</th><td class="text" style="color: #b86161">vvn: but I've defined convenience machines and distros for somewhat similar multiconfig stuff for containers, so I could see doing it that way</td><td class="time"><a href="#t2022-04-06T20:53:21" class="time">20:53</a></td></tr>
<tr id="t2022-04-06T20:55:00"><th class="nick" style="background: #5959a9">vvn</th><td class="text" style="color: #5959a9">smurray: a distro conf for it my be handy to remove DISTRO_FEATURES and override some PACKAGECONFIG, otherwise it can be complicated since the distro conf is read after the multiconfig</td><td class="time"><a href="#t2022-04-06T20:55:00" class="time">20:55</a></td></tr>
<tr id="t2022-04-06T20:55:48"><th class="nick" style="background: #5959a9">vvn</th><td class="text" style="color: #5959a9">I mean that DISTRO_FEATURES:remove in the INITRAMFS_MULTICONFIG might not work if the distro is appending features</td><td class="time"><a href="#t2022-04-06T20:55:48" class="time">20:55</a></td></tr>
<tr id="t2022-04-06T20:56:04"><th class="nick" style="background: #b86161">smurray</th><td class="text" style="color: #b86161">vvn: yeah, I could see that.&nbsp;&nbsp;I guess I've never encountered an initramfs with enough stuff in it that it mattered</td><td class="time"><a href="#t2022-04-06T20:56:04" class="time">20:56</a></td></tr>
<tr id="t2022-04-06T20:58:30"><th class="nick" style="background: #5959a9">vvn</th><td class="text" style="color: #5959a9">smurray: I'm currently building the initramfs with my normal distro (glibc) and it works fine. With INITRAMFS_MULTICONFIG and forcing the distro in there my bsp will continue to work with any distro/image combination for the rootfs. Such &quot;light&quot; distro variant might just be handy to speed things up a bit, but absolutely not mandatory.</td><td class="time"><a href="#t2022-04-06T20:58:30" class="time">20:58</a></td></tr>
<tr id="t2022-04-06T21:00:59"><th class="nick" style="background: #b86161">smurray</th><td class="text" style="color: #b86161">vvn: yeah</td><td class="time"><a href="#t2022-04-06T21:00:59" class="time">21:00</a></td></tr>
<tr id="t2022-04-06T21:02:13"><th class="nick" style="background: #5959a9">vvn</th><td class="text" style="color: #5959a9">I will encounter the same problem actually for containers and portable services, preferring linux-dummy for the kernel...</td><td class="time"><a href="#t2022-04-06T21:02:13" class="time">21:02</a></td></tr>
<tr id="t2022-04-06T21:04:18"><th class="nick" style="background: #b86161">smurray</th><td class="text" style="color: #b86161">heh, indeed.&nbsp;&nbsp;I've done both overriding the PREFERRED_PROVIDER in the mulitconfig .conf and just doing it with a derived &quot;container&quot; machine .conf</td><td class="time"><a href="#t2022-04-06T21:04:18" class="time">21:04</a></td></tr>
<tr id="t2022-04-06T21:05:09"><th class="nick" style="background: #5959a9">vvn</th><td class="text" style="color: #5959a9">smurray: do you have a preferred approach?</td><td class="time"><a href="#t2022-04-06T21:05:09" class="time">21:05</a></td></tr>
<tr id="t2022-04-06T21:06:19"><th class="nick" style="background: #5959a9">vvn</th><td class="text" style="color: #5959a9">So far I think that for the end product, being explicit and defining such alternative distro and machine would help, instead of cluttering some multiconfig or the local.conf</td><td class="time"><a href="#t2022-04-06T21:06:19" class="time">21:06</a></td></tr>
<tr id="t2022-04-06T21:06:57"><th class="nick" style="background: #b86161">smurray</th><td class="text" style="color: #b86161">vvn: for AGL I settled on doing it in the container multiconfig(s) with a PREFERRED_PROVIDER overide there because it's so far been easier to support building for a handful of different MACHINEs that way</td><td class="time"><a href="#t2022-04-06T21:06:57" class="time">21:06</a></td></tr>
<tr id="t2022-04-06T21:08:04"><th class="nick" style="background: #5959a9">vvn</th><td class="text" style="color: #5959a9">indeed, you need to scale easily and not duplicate all distro and machine configs everytime you have a new board variant</td><td class="time"><a href="#t2022-04-06T21:08:04" class="time">21:08</a></td></tr>
<tr id="t2022-04-06T21:08:29"><th class="nick" style="background: #b86161">smurray</th><td class="text" style="color: #b86161">vvn: on thing I'll note is that vendor BSPs sometimes have implicit dependencies on their kernel (usually for custom headers for userspace stuff they want to pull in)</td><td class="time"><a href="#t2022-04-06T21:08:29" class="time">21:08</a></td></tr>
<tr id="t2022-04-06T21:09:19"><th class="nick" style="background: #b86161">smurray</th><td class="text" style="color: #b86161">err, one</td><td class="time"><a href="#t2022-04-06T21:09:19" class="time">21:09</a></td></tr>
<tr id="t2022-04-06T22:00:06"><td class="nickchange" colspan="2">*** camus1 is now known as camus</td><td><a href="#t2022-04-06T22:00:06" class="time">22:00</a></td></tr>
<tr id="t2022-04-06T22:21:32"><th class="nick" style="background: #488888">amahnui[m]</th><td class="text" style="color: #488888">Hello everyone, Everytime I run `bitbake core-image-sato`, The process gets stuck at 44%&nbsp;&nbsp;`Initialising tasks:&nbsp;&nbsp;44% |#################&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| ETA:&nbsp;&nbsp;0:00:03` and I dont know why it does so. I clone another poky repo and tried again but I ended up with this Please how do I do to make it work.</td><td class="time"><a href="#t2022-04-06T22:21:32" class="time">22:21</a></td></tr>
<tr id="t2022-04-06T22:29:55"><th class="nick" style="background: #5959a9">vvn</th><td class="text" style="color: #5959a9">amahnui[m]: you might try to restart the build from scratch by removing the build/ directory and start again</td><td class="time"><a href="#t2022-04-06T22:29:55" class="time">22:29</a></td></tr>
<tr id="t2022-04-06T22:32:38"><th class="nick" style="background: #488888">amahnui[m]</th><td class="text" style="color: #488888">vvn: Thanks I will try that out as well</td><td class="time"><a href="#t2022-04-06T22:32:38" class="time">22:32</a></td></tr>
<tr id="t2022-04-06T22:34:36"><th class="nick" style="background: #5959a9">vvn</th><td class="text" style="color: #5959a9">smurray: do you consider the base-files bbappend providing a machine fstab to reside in the distro layer as well, or the bsp?</td><td class="time"><a href="#t2022-04-06T22:34:36" class="time">22:34</a></td></tr>
<tr id="t2022-04-06T22:37:49"><th class="nick" style="background: #b86161">smurray</th><td class="text" style="color: #b86161">vvn: probably distro, but it could be messy.&nbsp;&nbsp;Some of this comes down to just how likely you are to be actually building the distro for different machines, really</td><td class="time"><a href="#t2022-04-06T22:37:49" class="time">22:37</a></td></tr>
<tr id="t2022-04-06T22:39:54"><th class="nick" style="background: #5959a9">vvn</th><td class="text" style="color: #5959a9">smurray: currently only one hardware but will likely have different platforms in the near future (getting rid of the beaglebone slowly)</td><td class="time"><a href="#t2022-04-06T22:39:54" class="time">22:39</a></td></tr>
<tr id="t2022-04-06T22:40:09"><th class="nick" style="background: #b86161">smurray</th><td class="text" style="color: #b86161">vvn: but if I'm given a BSP that forces a specific partition scheme, I'd personally consider it broken unless there's some h/w reason for it.&nbsp;&nbsp;There are vendor BSPs that end up there because they basically are decreeing a partition scheme compatible with booting Android with a bunch of small partitions for bootloader bits</td><td class="time"><a href="#t2022-04-06T22:40:09" class="time">22:40</a></td></tr>
<tr id="t2022-04-06T22:40:12"><th class="nick" style="background: #5959a9">vvn</th><td class="text" style="color: #5959a9">that was the point of using openembedded in fact</td><td class="time"><a href="#t2022-04-06T22:40:12" class="time">22:40</a></td></tr>
<tr id="t2022-04-06T22:41:02"><th class="nick" style="background: #b86161">smurray</th><td class="text" style="color: #b86161">some of this can be handled by using machine overrides in the distro layer</td><td class="time"><a href="#t2022-04-06T22:41:02" class="time">22:41</a></td></tr>
<tr id="t2022-04-06T22:42:51"><th class="nick" style="background: #b86161">smurray</th><td class="text" style="color: #b86161">or BBFILES_DYNAMIC to add bbappends driven by the presence of BSP layers</td><td class="time"><a href="#t2022-04-06T22:42:51" class="time">22:42</a></td></tr>
<tr id="t2022-04-06T22:43:11"><th class="nick" style="background: #5959a9">vvn</th><td class="text" style="color: #5959a9">hum, crypttab is very machine specific but fstab can be generic (/dev/mapper/foo is used).</td><td class="time"><a href="#t2022-04-06T22:43:11" class="time">22:43</a></td></tr>
<tr id="t2022-04-06T22:44:30"><th class="nick" style="background: #5959a9">vvn</th><td class="text" style="color: #5959a9">smurray: yeah it's always either the bbappend lives in the bsp layer with :foomach overrides or in the distro layer with :foodist:foomach overrides</td><td class="time"><a href="#t2022-04-06T22:44:30" class="time">22:44</a></td></tr>
<tr id="t2022-04-06T22:44:38"><th class="nick" style="background: #b86161">smurray</th><td class="text" style="color: #b86161">at the end of the day I'd probably get it working on the one machine, and be prepared to do some rework when you do get around to resuing it on another</td><td class="time"><a href="#t2022-04-06T22:44:38" class="time">22:44</a></td></tr>
<tr id="t2022-04-06T22:44:47"><th class="nick" style="background: #b86161">smurray</th><td class="text" style="color: #b86161">err, reusing</td><td class="time"><a href="#t2022-04-06T22:44:47" class="time">22:44</a></td></tr>
<tr id="t2022-04-06T22:46:01"><th class="nick" style="background: #7070d5">kevinrowland</th><td class="text" style="color: #7070d5">can I search IRC archives somehow? I know in the past I've asked about doing something like `devtool deploy-target` but without the whole `devtool` part.. can't find the discussion :|</td><td class="time"><a href="#t2022-04-06T22:46:01" class="time">22:46</a></td></tr>
<tr id="t2022-04-06T22:46:44"><th class="nick" style="background: #b86161">smurray</th><td class="text" style="color: #b86161">the log location is mentioned in the channel header</td><td class="time"><a href="#t2022-04-06T22:46:44" class="time">22:46</a></td></tr>
<tr id="t2022-04-06T22:46:54"><th class="nick" style="background: #5959a9">vvn</th><td class="text" style="color: #5959a9">kevinrowland: literally googling yocto irc archives ;) <a href="https://www.yoctoproject.org/irc/" rel="nofollow">https://www.yoctoproject.org/irc/</a></td><td class="time"><a href="#t2022-04-06T22:46:54" class="time">22:46</a></td></tr>
<tr id="t2022-04-06T22:47:07"><th class="nick" style="background: #5959a9">vvn</th><td class="text" style="color: #5959a9">/topic as well indeed</td><td class="time"><a href="#t2022-04-06T22:47:07" class="time">22:47</a></td></tr>
<tr id="t2022-04-06T22:47:31"><th class="nick" style="background: #7070d5">kevinrowland</th><td class="text" style="color: #7070d5">I meant search _programmatically_. grep I guess would've been a better verb</td><td class="time"><a href="#t2022-04-06T22:47:31" class="time">22:47</a></td></tr>
<tr id="t2022-04-06T22:48:00"><th class="nick" style="background: #7070d5">kevinrowland</th><td class="text" style="color: #7070d5">I clicked through to some days where I thought the conversation occurred but couldn't find it</td><td class="time"><a href="#t2022-04-06T22:48:00" class="time">22:48</a></td></tr>
<tr id="t2022-04-06T22:48:24"><th class="nick" style="background: #5959a9">vvn</th><td class="text" style="color: #5959a9">kevinrowland: google this: &quot;devtool deploy-target site:<a href="https://www.yoctoproject.org/irc/" rel="nofollow">https://www.yoctoproject.org/irc/</a>&quot;</td><td class="time"><a href="#t2022-04-06T22:48:24" class="time">22:48</a></td></tr>
<tr id="t2022-04-06T22:48:56"><th class="nick" style="background: #7070d5">kevinrowland</th><td class="text" style="color: #7070d5">oh, yes, of course :)&nbsp;&nbsp;plus my username, I should be able to find it</td><td class="time"><a href="#t2022-04-06T22:48:56" class="time">22:48</a></td></tr>
<tr id="t2022-04-06T22:53:21"><th class="nick" style="background: #5959a9">vvn</th><td class="text" style="color: #5959a9">smurray: the more it goes, the more I see this as &quot;Does it end up in the final rootfs? If yes, distro layer, otherwise bsp layer&quot;.</td><td class="time"><a href="#t2022-04-06T22:53:21" class="time">22:53</a></td></tr>
<tr id="t2022-04-06T22:53:54"><th class="nick" style="background: #d9d972">BhsTalel</th><td class="text" style="color: #d9d972">Hello everyone, sorry if I interrupted a ongoing discussion, but I reached this Yocto IRC to ask about how to contribute to Yocto core (bitbake, poky layers, etc), I already asked the question in the mailing list of Yocto, but I want to understand more the flow. Thanks</td><td class="time"><a href="#t2022-04-06T22:53:54" class="time">22:53</a></td></tr>
<tr id="t2022-04-06T22:55:22"><th class="nick" style="background: #b86161">smurray</th><td class="text" style="color: #b86161">BhsTalel: the links here might help you: <a href="https://wiki.yoctoproject.org/wiki/Newcomers#How_to_Contribute" rel="nofollow">https://wiki.yoctoproject.org/wiki/Newcomers#How_to_Contribute</a></td><td class="time"><a href="#t2022-04-06T22:55:22" class="time">22:55</a></td></tr>
<tr id="t2022-04-06T22:56:08"><th class="nick" style="background: #5959a9">vvn</th><td class="text" style="color: #5959a9">BhsTalel: no need to apologize, that's the point of a channel ;-)</td><td class="time"><a href="#t2022-04-06T22:56:08" class="time">22:56</a></td></tr>
<tr id="t2022-04-06T22:57:01"><th class="nick" style="background: #b86161">smurray</th><td class="text" style="color: #b86161">vvn: maybe?&nbsp;&nbsp;If e.g. /boot is in the rootfs it may complicate that distinction</td><td class="time"><a href="#t2022-04-06T22:57:01" class="time">22:57</a></td></tr>
<tr id="t2022-04-06T22:57:48"><th class="nick" style="background: #5959a9">vvn</th><td class="text" style="color: #5959a9">smurray: what about files interpreted by both the initramfs and the rootfs, like crypttab and fstab? ;)</td><td class="time"><a href="#t2022-04-06T22:57:48" class="time">22:57</a></td></tr>
<tr id="t2022-04-06T22:57:53"><td class="action" colspan="2">* vvn is becoming crazy</td><td><a href="#t2022-04-06T22:57:53" class="time">22:57</a></td></tr>
<tr id="t2022-04-06T22:59:03"><th class="nick" style="background: #b86161">smurray</th><td class="text" style="color: #b86161">heh, as I said earlier, perhaps get it working, then come back and try adapting it to a second BSP / machine and rework it to clean things up at that point</td><td class="time"><a href="#t2022-04-06T22:59:03" class="time">22:59</a></td></tr>
<tr id="t2022-04-06T22:59:49"><th class="nick" style="background: #b86161">smurray</th><td class="text" style="color: #b86161">or wait for someone with a better idea than me to come on the channel ;)</td><td class="time"><a href="#t2022-04-06T22:59:49" class="time">22:59</a></td></tr>
<tr id="t2022-04-06T23:00:26"><th class="nick" style="background: #5959a9">vvn</th><td class="text" style="color: #5959a9">smurray: I am just concluding that true orthogonality between machine/distro/image is just a myth</td><td class="time"><a href="#t2022-04-06T23:00:26" class="time">23:00</a></td></tr>
<tr id="t2022-04-06T23:01:07"><th class="nick" style="background: #5959a9">vvn</th><td class="text" style="color: #5959a9">smurray: I'm pretty much there, I have working layers for my product, just never been really satisfied with the organization.</td><td class="time"><a href="#t2022-04-06T23:01:07" class="time">23:01</a></td></tr>
<tr id="t2022-04-06T23:06:28"><th class="nick" style="background: #b86161">smurray</th><td class="text" style="color: #b86161">vvn: I think at the end of the day, one could add a whole bunch of extra configuration to machine .conf's to allow distros to parameterize things, but because so many usecases are different, nothing in that space can be easily hashed out</td><td class="time"><a href="#t2022-04-06T23:06:28" class="time">23:06</a></td></tr>
<tr id="t2022-04-06T23:07:21"><th class="nick" style="background: #b86161">smurray</th><td class="text" style="color: #b86161">vvn: so we end up needing to carry that extra metadata at a higher level than the plain BSP</td><td class="time"><a href="#t2022-04-06T23:07:21" class="time">23:07</a></td></tr>
<tr id="t2022-04-06T23:07:59"><th class="nick" style="background: #b86161">smurray</th><td class="text" style="color: #b86161">vvn: but there are others who have been doing OE a lot longer than I have that might have a different view of that</td><td class="time"><a href="#t2022-04-06T23:07:59" class="time">23:07</a></td></tr>
<tr id="t2022-04-06T23:26:34"><th class="nick" style="background: #c3c366">kergoth</th><td class="text" style="color: #c3c366">I don’t think it’s a myth, but it is sometimes necessary to have an integration/product layer which pulls the pieces together and doesn’t hold to one of the orthogonal axes. But you can always implement custom features for the features variables, that’s what they’re for, machine enables a feature but the distro has to enable it also to integrate it</td><td class="time"><a href="#t2022-04-06T23:26:34" class="time">23:26</a></td></tr>
<tr id="t2022-04-06T23:26:55"><th class="nick" style="background: #c3c366">kergoth</th><td class="text" style="color: #c3c366">See COMBINED_FEATURES</td><td class="time"><a href="#t2022-04-06T23:26:55" class="time">23:26</a></td></tr>
<tr id="t2022-04-06T23:27:56"><th class="nick" style="background: #c3c366">kergoth</th><td class="text" style="color: #c3c366">That’s what we’ve done at mentor, added “mel-“ prefixed new bsp features in machine_features</td><td class="time"><a href="#t2022-04-06T23:27:56" class="time">23:27</a></td></tr>
<tr id="t2022-04-06T23:29:42"><th class="nick" style="background: #d9d972">BhsTalel</th><td class="text" style="color: #d9d972">@vvn Can you put a brief summary for me, because I did not catch the topic history.</td><td class="time"><a href="#t2022-04-06T23:29:42" class="time">23:29</a></td></tr>
<tr id="t2022-04-06T23:31:26"><th class="nick" style="background: #5959a9">vvn</th><td class="text" style="color: #5959a9">BhsTalel: just discussing the grey area of the yocto design: machine/distro/image are orthogonal, meaning that if you do your job well and still have hair to pull out, you must be able to build any combination of the three.</td><td class="time"><a href="#t2022-04-06T23:31:26" class="time">23:31</a></td></tr>
<tr id="t2022-04-06T23:32:48"><th class="nick" style="background: #c3c366">kergoth</th><td class="text" style="color: #c3c366">It’s common to fuzz the boundaries due to schedule constraints, if not ideal</td><td class="time"><a href="#t2022-04-06T23:32:48" class="time">23:32</a></td></tr>
<tr id="t2022-04-06T23:37:33"><th class="nick" style="background: #d9d972">BhsTalel</th><td class="text" style="color: #d9d972">The way I handle the three of them is creating packagegroups that conditionally activate some recipes based on DISTRO_FEATURES that are enabled/disabled in distros which are also conditionally enabled/disabled based on MACHINE_FEATURES, for example, if rs485 machine feature is enabled, then the rs485 distro feature is enabled and finally the</td><td class="time"><a href="#t2022-04-06T23:37:33" class="time">23:37</a></td></tr>
<tr id="t2022-04-06T23:37:34"><th class="nick" style="background: #d9d972">BhsTalel</th><td class="text" style="color: #d9d972">packagegroup-rs485 get enabled in a generic packagegroup that is included in all of my images.</td><td class="time"><a href="#t2022-04-06T23:37:34" class="time">23:37</a></td></tr>
<tr id="t2022-04-06T23:37:50"><th class="nick" style="background: #5959a9">vvn</th><td class="text" style="color: #5959a9">kergoth: for the context, my product is based on meta-ti's beaglebone, where I use a different bootloader, an update framework, and an encrypted rootfs partition which requires a specific systemd service. Ideally I would like to be able to build my distro, or poky, or any distro with this BSPs. I ended up creating a custom machine configuration which requires conf/machine/beaglebone.conf and juggle</td><td class="time"><a href="#t2022-04-06T23:37:50" class="time">23:37</a></td></tr>
<tr id="t2022-04-06T23:37:52"><th class="nick" style="background: #5959a9">vvn</th><td class="text" style="color: #5959a9">with recipes between meta-bsp/recipes-core and meta-distro/recipes-bsp.</td><td class="time"><a href="#t2022-04-06T23:37:52" class="time">23:37</a></td></tr>
<tr id="t2022-04-06T23:39:36"><th class="nick" style="background: #5959a9">vvn</th><td class="text" style="color: #5959a9">You often end up with distro-specific machine and machine-specific distros, in contrary to the ideal generic swappable approach</td><td class="time"><a href="#t2022-04-06T23:39:36" class="time">23:39</a></td></tr>
<tr id="t2022-04-06T23:39:49"><th class="nick" style="background: #488888">amahnui[m]</th><td class="text" style="color: #488888">&lt;BhsTalel&gt; &quot;Hello everyone, sorry if I...&quot; &lt;- Hi BhsTalel are you an applicant too?</td><td class="time"><a href="#t2022-04-06T23:39:49" class="time">23:39</a></td></tr>
<tr id="t2022-04-06T23:42:02"><th class="nick" style="background: #d9d972">BhsTalel</th><td class="text" style="color: #d9d972">amahnui[m] I did not get the meaning, sorry my english is not that perfect. Did you mean I am a Yocto engineer ?</td><td class="time"><a href="#t2022-04-06T23:42:02" class="time">23:42</a></td></tr>
<tr id="t2022-04-06T23:42:21"><th class="nick" style="background: #5959a9">vvn</th><td class="text" style="color: #5959a9">BhsTalel: for example with an encrypted rootfs, which is a &quot;distro&quot; design, but with a huge impact on the machine (.wks file, initramfs, services, crypttab, key management and so on), do you define custom features?</td><td class="time"><a href="#t2022-04-06T23:42:21" class="time">23:42</a></td></tr>
<tr id="t2022-04-06T23:42:48"><th class="nick" style="background: #488888">amahnui[m]</th><td class="text" style="color: #488888">BhsTalel: No I meant outreachy applicant</td><td class="time"><a href="#t2022-04-06T23:42:48" class="time">23:42</a></td></tr>
<tr id="t2022-04-06T23:47:36"><th class="nick" style="background: #d9d972">BhsTalel</th><td class="text" style="color: #d9d972">vvn I would create new feature that handles all of an encrypted rootfs and depends on a specific wks format, I am not seeing a problem between creating new distro feature and handling a wks file</td><td class="time"><a href="#t2022-04-06T23:47:36" class="time">23:47</a></td></tr>
<tr id="t2022-04-06T23:48:23"><th class="nick" style="background: #d9d972">BhsTalel</th><td class="text" style="color: #d9d972">amahnui[m] I'm not getting your point yet, sorry =(</td><td class="time"><a href="#t2022-04-06T23:48:23" class="time">23:48</a></td></tr>
<tr id="t2022-04-06T23:54:22"><th class="nick" style="background: #5959a9">vvn</th><td class="text" style="color: #5959a9">BhsTalel: so let's say you have a luks+btrfs rootfs partition, you would add a custom &quot;luks&quot; and &quot;btrfs&quot; machine feature and respective distro feature, and e.g. enabling a given service in the initramfs image if COMBINED_FEATURES includes &quot;luks&quot; and &quot;btrfs&quot;. Same for WKS_FILE = &quot;${@bb.utils.contains('COMBINED_FEATURES', ..., 'encrypted.wks', 'classic.wks'... Something like that?</td><td class="time"><a href="#t2022-04-06T23:54:22" class="time">23:54</a></td></tr>
<tr id="t2022-04-06T23:58:04"><th class="nick" style="background: #488888">amahnui[m]</th><td class="text" style="color: #488888">&lt;BhsTalel&gt; &quot;amahnui I'm not getting your...&quot; &lt;- BhsTalel: I thought you might be part of outreachy as I am part of it as well but its okay though. I guess your'e not. sorry for bothering</td><td class="time"><a href="#t2022-04-06T23:58:04" class="time">23:58</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2022-04-05.log.html">&#171; Tuesday, 2022-04-05</a> <a href="index.html">Index</a> <a href="%23yocto.2022-04-07.log.html">Thursday, 2022-04-07 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.17.2 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="https://mg.pov.lt/irclog2html/">https://mg.pov.lt/irclog2html/</a>!</p>
</div>
</body>
</html>
