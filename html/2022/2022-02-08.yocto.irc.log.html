<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Tuesday, 2022-02-08</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.17.2 by Marius Gedminas" />
  <meta name="version" content="2.17.2 - 2019-04-23" />
</head>
<body>
<h1>Tuesday, 2022-02-08</h1>
<div class="navigation"> <a href="%23yocto.2022-02-07.log.html">&#171; Monday, 2022-02-07</a> <a href="index.html">Index</a> <a href="%23yocto.2022-02-09.log.html">Wednesday, 2022-02-09 &#187;</a> </div>
<table class="irclog">
<tr id="t2022-02-08T06:31:00-2"><td class="nickchange" colspan="2">*** camus1 is now known as camus</td><td><a href="#t2022-02-08T06:31:00-2" class="time">06:31</a></td></tr>
<tr id="t2022-02-08T07:39:39"><th class="nick" style="background: #407a40">LetoThe2nd</th><td class="text" style="color: #407a40">yo dudX</td><td class="time"><a href="#t2022-02-08T07:39:39" class="time">07:39</a></td></tr>
<tr id="t2022-02-08T07:40:16"><th class="nick" style="background: #407a40">LetoThe2nd</th><td class="text" style="color: #407a40">RP: rburton: discuss <a href="https://twitter.com/rik_ferguson/status/1490639767675019272?s=21" rel="nofollow">https://twitter.com/rik_ferguson/status/1490639767675019272?s=21</a> (I might need to adjust my behaviour toward you :P )</td><td class="time"><a href="#t2022-02-08T07:40:16" class="time">07:40</a></td></tr>
<tr id="t2022-02-08T07:44:24"><td class="nickchange" colspan="2">*** mckoan|away is now known as mckoan</td><td><a href="#t2022-02-08T07:44:24" class="time">07:44</a></td></tr>
<tr id="t2022-02-08T07:44:29"><th class="nick" style="background: #42427e">mckoan</th><td class="text" style="color: #42427e">good morning</td><td class="time"><a href="#t2022-02-08T07:44:29" class="time">07:44</a></td></tr>
<tr id="t2022-02-08T07:53:51"><th class="nick" style="background: #407a40">LetoThe2nd</th><td class="text" style="color: #407a40">yo mckoan</td><td class="time"><a href="#t2022-02-08T07:53:51" class="time">07:53</a></td></tr>
<tr id="t2022-02-08T08:06:48"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">mornin folks</td><td class="time"><a href="#t2022-02-08T08:06:48" class="time">08:06</a></td></tr>
<tr id="t2022-02-08T08:23:06"><th class="nick" style="background: #854685">mihai</th><td class="text" style="color: #854685">yo</td><td class="time"><a href="#t2022-02-08T08:23:06" class="time">08:23</a></td></tr>
<tr id="t2022-02-08T08:31:54"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">LetoThe2nd: seems fairly accurate :)</td><td class="time"><a href="#t2022-02-08T08:31:54" class="time">08:31</a></td></tr>
<tr id="t2022-02-08T08:32:33"><th class="nick" style="background: #407a40">LetoThe2nd</th><td class="text" style="color: #407a40">RP: hehehe</td><td class="time"><a href="#t2022-02-08T08:32:33" class="time">08:32</a></td></tr>
<tr id="t2022-02-08T08:33:13"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">LetoThe2nd: I was temped to start that &quot;with the greatest respect,&quot; .... :)</td><td class="time"><a href="#t2022-02-08T08:33:13" class="time">08:33</a></td></tr>
<tr id="t2022-02-08T08:33:49"><th class="nick" style="background: #407a40">LetoThe2nd</th><td class="text" style="color: #407a40">RP: I actually looked up the list if it stated &quot;fairly accurate&quot;</td><td class="time"><a href="#t2022-02-08T08:33:49" class="time">08:33</a></td></tr>
<tr id="t2022-02-08T09:41:24"><th class="nick" style="background: #8c4a4a">Schlumpf</th><td class="text" style="color: #8c4a4a">Hi, what is the root path of the yocto patch mechanism? I have to set a relative path in the .patch file to find the file to patch, but it doesn't find it</td><td class="time"><a href="#t2022-02-08T09:41:24" class="time">09:41</a></td></tr>
<tr id="t2022-02-08T09:43:32"><th class="nick" style="background: #407a40">LetoThe2nd</th><td class="text" style="color: #407a40">Schlumpf: i would guess ${S}?</td><td class="time"><a href="#t2022-02-08T09:43:32" class="time">09:43</a></td></tr>
<tr id="t2022-02-08T09:45:43"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">Schlumpf: <a href="https://docs.yoctoproject.org/ref-manual/variables.html#term-SRC_URI" rel="nofollow">https://docs.yoctoproject.org/ref-manual/variables.html#term-SRC_URI</a></td><td class="time"><a href="#t2022-02-08T09:45:43" class="time">09:45</a></td></tr>
<tr id="t2022-02-08T09:45:49"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">patchdir defaults to S</td><td class="time"><a href="#t2022-02-08T09:45:49" class="time">09:45</a></td></tr>
<tr id="t2022-02-08T09:46:29"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">Schlumpf: but even better way to deal with this, is to use devtool modify, then commit the change in the devtool workspace for this recipe and then devtool finish or something like that</td><td class="time"><a href="#t2022-02-08T09:46:29" class="time">09:46</a></td></tr>
<tr id="t2022-02-08T09:46:56"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">(I never update recipes with devtool, only modify them and then handle the patching process myself...)</td><td class="time"><a href="#t2022-02-08T09:46:56" class="time">09:46</a></td></tr>
<tr id="t2022-02-08T10:05:38"><th class="nick" style="background: #4b904b">rburton</th><td class="text" style="color: #4b904b">LetoThe2nd: that is 100% accurate fwiw</td><td class="time"><a href="#t2022-02-08T10:05:38" class="time">10:05</a></td></tr>
<tr id="t2022-02-08T10:05:58"><th class="nick" style="background: #407a40">LetoThe2nd</th><td class="text" style="color: #407a40">rburton: hrhr</td><td class="time"><a href="#t2022-02-08T10:05:58" class="time">10:05</a></td></tr>
<tr id="t2022-02-08T10:08:33"><th class="nick" style="background: #8c4a4a">Schlumpf</th><td class="text" style="color: #8c4a4a">letoThe2nd: qschulz: I thought that, too. And that seems to be correct. I dumped the PWD in do_patch(). But it still doesn't find the file...</td><td class="time"><a href="#t2022-02-08T10:08:33" class="time">10:08</a></td></tr>
<tr id="t2022-02-08T10:21:12"><th class="nick" style="background: #4d4d93">ad__</th><td class="text" style="color: #4d4d93">gm, in dunfell, trying to produce sdk i get: nothing provides nativesdk-perl needed by nativesdk-autoconf-2.69-r11.x86_64-nativesdk</td><td class="time"><a href="#t2022-02-08T10:21:12" class="time">10:21</a></td></tr>
<tr id="t2022-02-08T10:21:33"><th class="nick" style="background: #4d4d93">ad__</th><td class="text" style="color: #4d4d93">am i missing some layer for it ?</td><td class="time"><a href="#t2022-02-08T10:21:33" class="time">10:21</a></td></tr>
<tr id="t2022-02-08T10:26:42"><td class="nickchange" colspan="2">*** ZygmuntKrynicki[ is now known as zyga[m]</td><td><a href="#t2022-02-08T10:26:42" class="time">10:26</a></td></tr>
<tr id="t2022-02-08T11:51:10"><th class="nick" style="background: #97974f">agherzan</th><td class="text" style="color: #97974f">RP: there is no way I can reproduce this pseudo race issue. Is there any chance I can pick up the pseudo dbs from the autobuilder?</td><td class="time"><a href="#t2022-02-08T11:51:10" class="time">11:51</a></td></tr>
<tr id="t2022-02-08T13:17:27"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">agherzan: since this happened a while ago, I think it is unlikely now. I can't remember if we were able to save any of that builddir :/</td><td class="time"><a href="#t2022-02-08T13:17:27" class="time">13:17</a></td></tr>
<tr id="t2022-02-08T13:28:05"><th class="nick" style="background: #97974f">agherzan</th><td class="text" style="color: #97974f">RP: could it be that we just fixed it inadvertently? It's just that not seeing anything suspicions in either the tasks code nor in the pseudo command checks, could imply that.</td><td class="time"><a href="#t2022-02-08T13:28:05" class="time">13:28</a></td></tr>
<tr id="t2022-02-08T13:31:48"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">agherzan: I guess something like <a href="https://git.yoctoproject.org/pseudo/commit/?h=oe-core&amp;id=d03de55845edf68908879db841834584d4724c43" rel="nofollow">https://git.yoctoproject.org/pseudo/commit/?h=oe-core&amp;id=d03de55845edf68908879db841834584d4724c43</a> maybe? when was this issue previously?</td><td class="time"><a href="#t2022-02-08T13:31:48" class="time">13:31</a></td></tr>
<tr id="t2022-02-08T13:33:10"><th class="nick" style="background: #97974f">agherzan</th><td class="text" style="color: #97974f">RP: the build logs are from 7 months ago</td><td class="time"><a href="#t2022-02-08T13:33:10" class="time">13:33</a></td></tr>
<tr id="t2022-02-08T13:33:41"><th class="nick" style="background: #97974f">agherzan</th><td class="text" style="color: #97974f">So it would have included this fix too</td><td class="time"><a href="#t2022-02-08T13:33:41" class="time">13:33</a></td></tr>
<tr id="t2022-02-08T13:34:47"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">agherzan: that is what I thought :/</td><td class="time"><a href="#t2022-02-08T13:34:47" class="time">13:34</a></td></tr>
<tr id="t2022-02-08T13:36:28"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">agherzan: I wonder if this was with glibc 2.34 ?</td><td class="time"><a href="#t2022-02-08T13:36:28" class="time">13:36</a></td></tr>
<tr id="t2022-02-08T13:36:40"><th class="nick" style="background: #97974f">agherzan</th><td class="text" style="color: #97974f">Checking</td><td class="time"><a href="#t2022-02-08T13:36:40" class="time">13:36</a></td></tr>
<tr id="t2022-02-08T13:38:38"><th class="nick" style="background: #97974f">agherzan</th><td class="text" style="color: #97974f">RP: No, 2.33</td><td class="time"><a href="#t2022-02-08T13:38:38" class="time">13:38</a></td></tr>
<tr id="t2022-02-08T13:54:12"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">agherzan: which rules out some of the other pseudo changes</td><td class="time"><a href="#t2022-02-08T13:54:12" class="time">13:54</a></td></tr>
<tr id="t2022-02-08T13:54:26"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">agherzan: I was looking over <a href="https://git.yoctoproject.org/pseudo/log/?h=oe-core" rel="nofollow">https://git.yoctoproject.org/pseudo/log/?h=oe-core</a></td><td class="time"><a href="#t2022-02-08T13:54:26" class="time">13:54</a></td></tr>
<tr id="t2022-02-08T13:55:12"><th class="nick" style="background: #9b519b">DasChaos[m]</th><td class="text" style="color: #9b519b">Hello guys,... (full message at <a href="https://libera.ems.host/_matrix/media/r0/download/libera.chat/24e48d28ef96df8ca9be1d6bf9ab9783ee20c0b2" rel="nofollow">https://libera.ems.host/_matrix/media/r0/download/libera.chat/24e48d28ef96df8ca9be1d6bf9ab9783ee20c0b2</a>)</td><td class="time"><a href="#t2022-02-08T13:55:12" class="time">13:55</a></td></tr>
<tr id="t2022-02-08T13:56:19"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">agherzan: it is possible some of the changes there could have let something slip through and cause an issue :/</td><td class="time"><a href="#t2022-02-08T13:56:19" class="time">13:56</a></td></tr>
<tr id="t2022-02-08T14:08:41"><td class="nickchange" colspan="2">*** tprrt is now known as tperrot</td><td><a href="#t2022-02-08T14:08:41" class="time">14:08</a></td></tr>
<tr id="t2022-02-08T14:31:21"><th class="nick" style="background: #4b904b">rburton</th><td class="text" style="color: #4b904b">RP: sent a oeqa addition to build newlib as part of selftest.&nbsp;&nbsp;very *very* minimum viable product, but would have caught the license problem</td><td class="time"><a href="#t2022-02-08T14:31:21" class="time">14:31</a></td></tr>
<tr id="t2022-02-08T14:32:22"><th class="nick" style="background: #97974f">agherzan</th><td class="text" style="color: #97974f">RP: fair point. Checking it a bit more.</td><td class="time"><a href="#t2022-02-08T14:32:22" class="time">14:32</a></td></tr>
<tr id="t2022-02-08T15:27:46"><th class="nick" style="background: #539e9e">vd</th><td class="text" style="color: #539e9e">Can an IMAGE_CMD mount the image file to add extra commands?</td><td class="time"><a href="#t2022-02-08T15:27:46" class="time">15:27</a></td></tr>
<tr id="t2022-02-08T15:29:19"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">vd: you don't normally have root privs so no</td><td class="time"><a href="#t2022-02-08T15:29:19" class="time">15:29</a></td></tr>
<tr id="t2022-02-08T15:30:01"><th class="nick" style="background: #539e9e">vd</th><td class="text" style="color: #539e9e">ok</td><td class="time"><a href="#t2022-02-08T15:30:01" class="time">15:30</a></td></tr>
<tr id="t2022-02-08T15:33:10"><th class="nick" style="background: #539e9e">vd</th><td class="text" style="color: #539e9e">RP: I would like to extend the btrfs support to add subvolumes, either with more control over the btrfs IMAGE_FSTYPES, or via wic (a subvolume can be described as a mountpoint from another parent partition). Do you have a guess where to start? The rootfs.py WIC's plugin maybe?</td><td class="time"><a href="#t2022-02-08T15:33:10" class="time">15:33</a></td></tr>
<tr id="t2022-02-08T15:36:49"><th class="nick" style="background: #539e9e">vd</th><td class="text" style="color: #539e9e">erf no, wic doesn't mount its image files neither, I guess scripts on the target system is the only option.</td><td class="time"><a href="#t2022-02-08T15:36:49" class="time">15:36</a></td></tr>
<tr id="t2022-02-08T15:39:16"><th class="nick" style="background: #4b904b">rburton</th><td class="text" style="color: #4b904b">unless you can tell the btrfs commands to set up the stuff you want at creation time</td><td class="time"><a href="#t2022-02-08T15:39:16" class="time">15:39</a></td></tr>
<tr id="t2022-02-08T15:49:17"><th class="nick" style="background: #539e9e">vd</th><td class="text" style="color: #539e9e">rburton: I can create a service script which is run after the partition device and before initrd-root-fs.target for example</td><td class="time"><a href="#t2022-02-08T15:49:17" class="time">15:49</a></td></tr>
<tr id="t2022-02-08T16:00:26"><th class="nick" style="background: #407a40">LetoThe2nd</th><td class="text" style="color: #407a40">stupid me again. wheres the sync call described?</td><td class="time"><a href="#t2022-02-08T16:00:26" class="time">16:00</a></td></tr>
<tr id="t2022-02-08T16:01:34"><th class="nick" style="background: #a25555">tlwoerner</th><td class="text" style="color: #a25555">sgw: we're experiencing a heat wave in ontario, it's around 0°C. i too have my fan on to help keep it cool ;-)</td><td class="time"><a href="#t2022-02-08T16:01:34" class="time">16:01</a></td></tr>
<tr id="t2022-02-08T16:02:01"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">LetoThe2nd: which sync call?</td><td class="time"><a href="#t2022-02-08T16:02:01" class="time">16:02</a></td></tr>
<tr id="t2022-02-08T16:02:17"><th class="nick" style="background: #407a40">LetoThe2nd</th><td class="text" style="color: #407a40">RP: found it, nevermind.</td><td class="time"><a href="#t2022-02-08T16:02:17" class="time">16:02</a></td></tr>
<tr id="t2022-02-08T16:10:15"><th class="nick" style="background: #539e9e">vd</th><td class="text" style="color: #539e9e">rburton: the same goes for a luks partition I assume?</td><td class="time"><a href="#t2022-02-08T16:10:15" class="time">16:10</a></td></tr>
<tr id="t2022-02-08T16:19:09"><th class="nick" style="background: #4b904b">rburton</th><td class="text" style="color: #4b904b">you are a normal user at all stages of a build.&nbsp;&nbsp;luckily, disk image creation is normally not restricted to root, so if the tools can do it ofline, you can do it at image generation time</td><td class="time"><a href="#t2022-02-08T16:19:09" class="time">16:19</a></td></tr>
<tr id="t2022-02-08T16:21:12"><th class="nick" style="background: #539e9e">vd</th><td class="text" style="color: #539e9e">rburton: got it, I'll see what cryptsetup offers</td><td class="time"><a href="#t2022-02-08T16:21:12" class="time">16:21</a></td></tr>
<tr id="t2022-02-08T16:24:56"><th class="nick" style="background: #57a657">T_UNIX[m]</th><td class="text" style="color: #57a657">JaMa: hey, is there a channel dedicated to meta-qt5 ?</td><td class="time"><a href="#t2022-02-08T16:24:56" class="time">16:24</a></td></tr>
<tr id="t2022-02-08T16:25:53"><th class="nick" style="background: #4b904b">rburton</th><td class="text" style="color: #4b904b">no</td><td class="time"><a href="#t2022-02-08T16:25:53" class="time">16:25</a></td></tr>
<tr id="t2022-02-08T16:32:19"><th class="nick" style="background: #5959a9">pinenewb</th><td class="text" style="color: #5959a9">hi, I'm building a meta layer for the PineNote, but I'm running into an image tarball issue.&nbsp;&nbsp;The yocto generated linux tarball is doing everything correctly, but a couple of kernel module paths (specifically broadcom) are really long (over 100 chars). So when I go to unpack the rootfs tarball from the default PineNote Android OS, tar chokes when it hits those long file paths.&nbsp;&nbsp;I'm having to manually delete the directory from the</td><td class="time"><a href="#t2022-02-08T16:32:19" class="time">16:32</a></td></tr>
<tr id="t2022-02-08T16:32:19-2"><th class="nick" style="background: #5959a9">pinenewb</th><td class="text" style="color: #5959a9">tarball in Linux before I copy &amp; extract it</td><td class="time"><a href="#t2022-02-08T16:32:19-2" class="time">16:32</a></td></tr>
<tr id="t2022-02-08T16:33:01"><th class="nick" style="background: #5959a9">pinenewb</th><td class="text" style="color: #5959a9">I recognize that this is not a yocto problem, but I'm wondering if anyone has suggestions on how to make this work a bit better out of the box</td><td class="time"><a href="#t2022-02-08T16:33:01" class="time">16:33</a></td></tr>
<tr id="t2022-02-08T16:34:17"><th class="nick" style="background: #5959a9">pinenewb</th><td class="text" style="color: #5959a9">maybe change INSTALL_MOD_PATH to a shorter path, and then create a symlink dir to where the kernel expects the files to be?&nbsp;&nbsp;Part of the problem is my lengthy kernel version: 5.16.0-rc8-yocto-standard-pinenote</td><td class="time"><a href="#t2022-02-08T16:34:17" class="time">16:34</a></td></tr>
<tr id="t2022-02-08T16:35:28"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">pinenewb: please consider having it supported in meta-rockchip, I'm sure tlwoerner will be delighted to have one more device supported :)</td><td class="time"><a href="#t2022-02-08T16:35:28" class="time">16:35</a></td></tr>
<tr id="t2022-02-08T16:36:00"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">(likely requires most of the support to be upstream though, to be discussed with tlwoerner I guess)</td><td class="time"><a href="#t2022-02-08T16:36:00" class="time">16:36</a></td></tr>
<tr id="t2022-02-08T16:37:09"><th class="nick" style="background: #5959a9">pinenewb</th><td class="text" style="color: #5959a9">yeah, ideally this would be supported in meta-rockchip or some other upstream layer.&nbsp;&nbsp;Is pinephone in meta-rockchip?</td><td class="time"><a href="#t2022-02-08T16:37:09" class="time">16:37</a></td></tr>
<tr id="t2022-02-08T16:37:45"><th class="nick" style="background: #5959a9">pinenewb</th><td class="text" style="color: #5959a9">I haven't spent the time to figure out the pine64/rock64 relationship, but I dont think there's a meta-pine64, is there?</td><td class="time"><a href="#t2022-02-08T16:37:45" class="time">16:37</a></td></tr>
<tr id="t2022-02-08T16:40:12"><th class="nick" style="background: #adad5b">khem</th><td class="text" style="color: #adad5b">it should be in meta-pine64 its allwinner</td><td class="time"><a href="#t2022-02-08T16:40:12" class="time">16:40</a></td></tr>
<tr id="t2022-02-08T16:42:06"><th class="nick" style="background: #5959a9">pinenewb</th><td class="text" style="color: #5959a9">what is the &quot;official&quot; meta-pine64?</td><td class="time"><a href="#t2022-02-08T16:42:06" class="time">16:42</a></td></tr>
<tr id="t2022-02-08T16:43:36"><th class="nick" style="background: #5959a9">pinenewb</th><td class="text" style="color: #5959a9">oh nevermind, looks like alistair23's</td><td class="time"><a href="#t2022-02-08T16:43:36" class="time">16:43</a></td></tr>
<tr id="t2022-02-08T16:44:47"><th class="nick" style="background: #adad5b">khem</th><td class="text" style="color: #adad5b">yep <a href="https://github.com/alistair23/meta-pine64" rel="nofollow">https://github.com/alistair23/meta-pine64</a></td><td class="time"><a href="#t2022-02-08T16:44:47" class="time">16:44</a></td></tr>
<tr id="t2022-02-08T16:46:45"><th class="nick" style="background: #5959a9">pinenewb</th><td class="text" style="color: #5959a9">k, will look at merging my stuff into that meta layer instead of creating a new one.&nbsp;&nbsp;Any suggestions on the Android tar path length problem?</td><td class="time"><a href="#t2022-02-08T16:46:45" class="time">16:46</a></td></tr>
<tr id="t2022-02-08T16:47:34"><th class="nick" style="background: #adad5b">khem</th><td class="text" style="color: #adad5b">can you re-state the problem</td><td class="time"><a href="#t2022-02-08T16:47:34" class="time">16:47</a></td></tr>
<tr id="t2022-02-08T16:48:52"><th class="nick" style="background: #5959a9">pinenewb</th><td class="text" style="color: #5959a9">my output rootfs tarball has a couple of really long paths for broadcom kernel modules, and the default PineNote Android OS can't unpack the tarball without blowing up</td><td class="time"><a href="#t2022-02-08T16:48:52" class="time">16:48</a></td></tr>
<tr id="t2022-02-08T16:49:05"><th class="nick" style="background: #5959a9">pinenewb</th><td class="text" style="color: #5959a9">I'm having to remove the files from the tarball manually before I can unpack it</td><td class="time"><a href="#t2022-02-08T16:49:05" class="time">16:49</a></td></tr>
<tr id="t2022-02-08T16:49:22"><th class="nick" style="background: #5959a9">pinenewb</th><td class="text" style="color: #5959a9">it's totally _not_ a yocto problem, but I'm hoping there's a yocto solution</td><td class="time"><a href="#t2022-02-08T16:49:22" class="time">16:49</a></td></tr>
<tr id="t2022-02-08T16:49:37"><th class="nick" style="background: #adad5b">khem</th><td class="text" style="color: #adad5b">sometimes max filelength can come in as problem</td><td class="time"><a href="#t2022-02-08T16:49:37" class="time">16:49</a></td></tr>
<tr id="t2022-02-08T16:50:41"><th class="nick" style="background: #a25555">tlwoerner</th><td class="text" style="color: #a25555">yes, i always like seeing more MACHINEs in meta-rockchip :-D</td><td class="time"><a href="#t2022-02-08T16:50:41" class="time">16:50</a></td></tr>
<tr id="t2022-02-08T16:50:47"><th class="nick" style="background: #5959a9">pinenewb</th><td class="text" style="color: #5959a9">I'm thinking that I might change INSTALL_MOD_PATH to a really short base path (/kmod) or something, then just create a symlink to the /lib/modules/&lt;kernel_version&gt; directory?</td><td class="time"><a href="#t2022-02-08T16:50:47" class="time">16:50</a></td></tr>
<tr id="t2022-02-08T16:51:00"><th class="nick" style="background: #a25555">tlwoerner</th><td class="text" style="color: #a25555">i have a board on my desk that i haven't found the time to add in a while!</td><td class="time"><a href="#t2022-02-08T16:51:00" class="time">16:51</a></td></tr>
<tr id="t2022-02-08T16:51:32"><th class="nick" style="background: #5959a9">pinenewb</th><td class="text" style="color: #5959a9">well I don't have too many rockchip boards other than this new PineNote, but I happen to have a bit of free time right now :)</td><td class="time"><a href="#t2022-02-08T16:51:32" class="time">16:51</a></td></tr>
<tr id="t2022-02-08T16:53:27"><th class="nick" style="background: #adad5b">khem</th><td class="text" style="color: #adad5b">you might have PATH_MAX overflow</td><td class="time"><a href="#t2022-02-08T16:53:27" class="time">16:53</a></td></tr>
<tr id="t2022-02-08T16:55:30"><th class="nick" style="background: #5959a9">pinenewb</th><td class="text" style="color: #5959a9">it seems like the OS itself can handle the path length, just not tar (untar).&nbsp;&nbsp;If I remove the &quot;leaf&quot; directory that's blows up &quot;tar -x&quot; then I can drop it back in where its supposed to be after the rootfs tarball successfully extracts</td><td class="time"><a href="#t2022-02-08T16:55:30" class="time">16:55</a></td></tr>
<tr id="t2022-02-08T16:58:29"><th class="nick" style="background: #5959a9">pinenewb</th><td class="text" style="color: #5959a9">I dunno, maybe it's just a transient problem for me.&nbsp;&nbsp;I basically have the device booting Linux &amp; connecting to WiFi at this point with SSH access, so maybe I don't need to use the Android partition any more</td><td class="time"><a href="#t2022-02-08T16:58:29" class="time">16:58</a></td></tr>
<tr id="t2022-02-08T16:59:05"><th class="nick" style="background: #5959a9">pinenewb</th><td class="text" style="color: #5959a9">it's just slightly annoying that I'm getting a rootfs tarball that only extracts in *most* places</td><td class="time"><a href="#t2022-02-08T16:59:05" class="time">16:59</a></td></tr>
<tr id="t2022-02-08T17:01:44"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">pinenewb: for a quick and dirty hack you cna always just mv the files in the do_install:append of your recipe in a directory with a shorter name and do the ls by hand</td><td class="time"><a href="#t2022-02-08T17:01:44" class="time">17:01</a></td></tr>
<tr id="t2022-02-08T17:05:22"><th class="nick" style="background: #5959a9">pinenewb</th><td class="text" style="color: #5959a9">yeah, that would be an improvement.&nbsp;&nbsp;Very unfortunate that it's the broadcom kmods though (no network without fixing the links)</td><td class="time"><a href="#t2022-02-08T17:05:22" class="time">17:05</a></td></tr>
<tr id="t2022-02-08T17:06:23"><th class="nick" style="background: #adad5b">khem</th><td class="text" style="color: #adad5b">which distro are you on ?</td><td class="time"><a href="#t2022-02-08T17:06:23" class="time">17:06</a></td></tr>
<tr id="t2022-02-08T17:07:05"><th class="nick" style="background: #5959a9">pinenewb</th><td class="text" style="color: #5959a9">I do have filesystem access when I untar, so I can fix the links then</td><td class="time"><a href="#t2022-02-08T17:07:05" class="time">17:07</a></td></tr>
<tr id="t2022-02-08T17:07:19"><th class="nick" style="background: #5959a9">pinenewb</th><td class="text" style="color: #5959a9">poky/honister</td><td class="time"><a href="#t2022-02-08T17:07:19" class="time">17:07</a></td></tr>
<tr id="t2022-02-08T17:07:43"><th class="nick" style="background: #b15db1">smurray</th><td class="text" style="color: #b15db1">I assume the root issue is that the tar in Android sucks?</td><td class="time"><a href="#t2022-02-08T17:07:43" class="time">17:07</a></td></tr>
<tr id="t2022-02-08T17:07:47"><th class="nick" style="background: #adad5b">khem</th><td class="text" style="color: #adad5b">try. echo -e &quot;#include &lt;sys/param.h&gt;\nMAXPATHLEN&quot; | gcc -E -x c - | tail -n 1</td><td class="time"><a href="#t2022-02-08T17:07:47" class="time">17:07</a></td></tr>
<tr id="t2022-02-08T17:08:22"><th class="nick" style="background: #5959a9">pinenewb</th><td class="text" style="color: #5959a9">pulling in smaeul's kernel.&nbsp;&nbsp;all of the heavy lifting is already done in terms of device tree &amp; kernel stuff</td><td class="time"><a href="#t2022-02-08T17:08:22" class="time">17:08</a></td></tr>
<tr id="t2022-02-08T17:08:47"><th class="nick" style="background: #5959a9">pinenewb</th><td class="text" style="color: #5959a9">yes, that is the problem. tar in Android sucks</td><td class="time"><a href="#t2022-02-08T17:08:47" class="time">17:08</a></td></tr>
<tr id="t2022-02-08T17:15:10"><th class="nick" style="background: #5959a9">pinenewb</th><td class="text" style="color: #5959a9">khem: that command doesn't work for (on Android): /system/bin/sh: gcc: inaccessible or not found</td><td class="time"><a href="#t2022-02-08T17:15:10" class="time">17:15</a></td></tr>
<tr id="t2022-02-08T17:15:29"><th class="nick" style="background: #5959a9">pinenewb</th><td class="text" style="color: #5959a9">I'm in an ADB shell with sudo, but I just don't know enough android</td><td class="time"><a href="#t2022-02-08T17:15:29" class="time">17:15</a></td></tr>
<tr id="t2022-02-08T17:15:40"><th class="nick" style="background: #5959a9">pinenewb</th><td class="text" style="color: #5959a9">only know enough to get me back to linux :)</td><td class="time"><a href="#t2022-02-08T17:15:40" class="time">17:15</a></td></tr>
<tr id="t2022-02-08T17:16:51"><th class="nick" style="background: #5959a9">pinenewb</th><td class="text" style="color: #5959a9">on my build host I get 4096</td><td class="time"><a href="#t2022-02-08T17:16:51" class="time">17:16</a></td></tr>
<tr id="t2022-02-08T17:17:59"><td class="nickchange" colspan="2">*** Alternate_Pacifi is now known as The_Pacifist</td><td><a href="#t2022-02-08T17:17:59" class="time">17:17</a></td></tr>
<tr id="t2022-02-08T17:20:41"><th class="nick" style="background: #adad5b">khem</th><td class="text" style="color: #adad5b">yeah and a bit google-fu tells me its 1024 for android</td><td class="time"><a href="#t2022-02-08T17:20:41" class="time">17:20</a></td></tr>
<tr id="t2022-02-08T17:21:35"><th class="nick" style="background: #5fb4b4">JaMa</th><td class="text" style="color: #5fb4b4">T_UNIX[m]: no</td><td class="time"><a href="#t2022-02-08T17:21:35" class="time">17:21</a></td></tr>
<tr id="t2022-02-08T17:22:35"><th class="nick" style="background: #5959a9">pinenewb</th><td class="text" style="color: #5959a9">well this definitely seems to be a very narrow problem with the particular version of tar on Android, so I'll just come up with a hackaround for now</td><td class="time"><a href="#t2022-02-08T17:22:35" class="time">17:22</a></td></tr>
<tr id="t2022-02-08T17:49:32"><td class="nickchange" colspan="2">*** mckoan is now known as mckoan|away</td><td><a href="#t2022-02-08T17:49:32" class="time">17:49</a></td></tr>
<tr id="t2022-02-08T19:10:47"><th class="nick" style="background: #97974f">agherzan</th><td class="text" style="color: #97974f">at all: What do people use nowadays for CI on GitHub Yocto based projects?</td><td class="time"><a href="#t2022-02-08T19:10:47" class="time">19:10</a></td></tr>
<tr id="t2022-02-08T19:11:49"><th class="nick" style="background: #97974f">agherzan</th><td class="text" style="color: #97974f">I tried GitLab CI - premium feature and no support for fork MRs. I tried GutHub actions, a big security mess on self-hosted workers and hard to scale builds when cache is a concern.</td><td class="time"><a href="#t2022-02-08T19:11:49" class="time">19:11</a></td></tr>
<tr id="t2022-02-08T19:12:50"><th class="nick" style="background: #97974f">agherzan</th><td class="text" style="color: #97974f">I'm currently thinking of giving drone.io a try. I know khem was saying good things about it. Do we have any other experience in that regard? And no, I'm not coming back to Jenkins.</td><td class="time"><a href="#t2022-02-08T19:12:50" class="time">19:12</a></td></tr>
<tr id="t2022-02-08T19:13:16"><th class="nick" style="background: #b86161">fray</th><td class="text" style="color: #b86161">might not be what you are looking for.. but pushed and such kick off jenkins jobs in our environment.. then we group/cache/schedule builds and do them in our jenkins environmnet.</td><td class="time"><a href="#t2022-02-08T19:13:16" class="time">19:13</a></td></tr>
<tr id="t2022-02-08T19:13:40"><th class="nick" style="background: #b86161">fray</th><td class="text" style="color: #b86161">ignoring the jenkins side, I have seen other do something similar.. where the CI work flows can handle the kick off, and the 'results'.. but the work itself is done externally in their own systems</td><td class="time"><a href="#t2022-02-08T19:13:40" class="time">19:13</a></td></tr>
<tr id="t2022-02-08T19:27:19"><th class="nick" style="background: #97974f">agherzan</th><td class="text" style="color: #97974f">fray: I had something similar both on personal and work infras. And maintaining Jenkins is not a nice thing. Especially if you look into the security concerns of various aspects.</td><td class="time"><a href="#t2022-02-08T19:27:19" class="time">19:27</a></td></tr>
<tr id="t2022-02-08T19:29:13"><th class="nick" style="background: #b86161">fray</th><td class="text" style="color: #b86161">ya, that is why I said from a practical standpoint ignore the build side.. it's all about kicking off a build with appropriate data (what needs to be built), scheduling it (do I do one build per change, or bundle the changes or some combination), and results success means what, failures mean what, and how are success/failure &quot;logs&quot; returned</td><td class="time"><a href="#t2022-02-08T19:29:13" class="time">19:29</a></td></tr>
<tr id="t2022-02-08T19:29:56"><th class="nick" style="background: #b86161">fray</th><td class="text" style="color: #b86161">all of that can be done securely (you transform and transfer) or insecurely you just point people directly to a public instance of your CI system..</td><td class="time"><a href="#t2022-02-08T19:29:56" class="time">19:29</a></td></tr>
<tr id="t2022-02-08T19:30:11"><th class="nick" style="background: #b86161">fray</th><td class="text" style="color: #b86161">the right answer is somewhere in the middle, but I've not seen a &quot;correct&quot; everyone should do this behavior..</td><td class="time"><a href="#t2022-02-08T19:30:11" class="time">19:30</a></td></tr>
<tr id="t2022-02-08T19:31:24"><th class="nick" style="background: #b86161">fray</th><td class="text" style="color: #b86161">We've got tooling requirements for some open source repositories that require potentially proprietary (licensed) software, add to that needs to sanitize bad actor contributions that could attempt to run things on your build environmnet.. so our &quot;public&quot; CI is being designed to work more in a DMZ where it's &quot;inside&quot;, but not inside our network...</td><td class="time"><a href="#t2022-02-08T19:31:24" class="time">19:31</a></td></tr>
<tr id="t2022-02-08T19:31:38"><th class="nick" style="background: #b86161">fray</th><td class="text" style="color: #b86161">that also gives us the ability to restrict what the machine can do on the external.. such as limit network access during the build, etc</td><td class="time"><a href="#t2022-02-08T19:31:38" class="time">19:31</a></td></tr>
<tr id="t2022-02-08T19:32:27"><th class="nick" style="background: #b86161">fray</th><td class="text" style="color: #b86161">also helps make this whole thing agnostic to the actual &quot;build&quot; infrastructure (jenkins or otherwise).. but still allow connections w/ github, gitlab or &quot;other&quot;</td><td class="time"><a href="#t2022-02-08T19:32:27" class="time">19:32</a></td></tr>
<tr id="t2022-02-08T19:43:15"><th class="nick" style="background: #97974f">agherzan</th><td class="text" style="color: #97974f">I like the agonistic aspect of that. Also yes. All those infra requirements are to be taken into consideration but for public Foss projects, they probably don't matter that much. When you move into proprietary code and pipelines things change pretty fundamentally.</td><td class="time"><a href="#t2022-02-08T19:43:15" class="time">19:43</a></td></tr>
<tr id="t2022-02-08T19:44:27"><th class="nick" style="background: #b86161">fray</th><td class="text" style="color: #b86161">even for open source, as github found, you really need CPU process limits, network limits, etc.&nbsp;&nbsp;bad actors will take over CI infrastructure to act as network proxies, download software, mine crypto, etc</td><td class="time"><a href="#t2022-02-08T19:44:27" class="time">19:44</a></td></tr>
<tr id="t2022-02-08T19:44:31"><th class="nick" style="background: #97974f">agherzan</th><td class="text" style="color: #97974f">I'm more looking into what people use for their public projects in the yocto context</td><td class="time"><a href="#t2022-02-08T19:44:31" class="time">19:44</a></td></tr>
<tr id="t2022-02-08T20:03:12"><th class="nick" style="background: #62bb62">ziga_</th><td class="text" style="color: #62bb62">How do I know which &quot;defconfig&quot; file is used in image?</td><td class="time"><a href="#t2022-02-08T20:03:12" class="time">20:03</a></td></tr>
<tr id="t2022-02-08T21:15:03"><th class="nick" style="background: #adad5b">khem</th><td class="text" style="color: #adad5b">Andrei Gherzan: I am happy with github actions with own runners now a days</td><td class="time"><a href="#t2022-02-08T21:15:03" class="time">21:15</a></td></tr>
<tr id="t2022-02-08T21:15:43"><th class="nick" style="background: #adad5b">khem</th><td class="text" style="color: #adad5b">although I had no complaints with drone.io as well, only issue was I had to host the server and that costs 🙂</td><td class="time"><a href="#t2022-02-08T21:15:43" class="time">21:15</a></td></tr>
<tr id="t2022-02-08T21:21:01"><th class="nick" style="background: #adad5b">khem</th><td class="text" style="color: #adad5b">Andrei Gherzan: look at meta-clang and yoe-distro if you are interested in running github actions <a href="https://github.com/kraj/meta-clang/tree/master/.github/workflows" rel="nofollow">https://github.com/kraj/meta-clang/tree/master/.github/workflows</a></td><td class="time"><a href="#t2022-02-08T21:21:01" class="time">21:21</a></td></tr>
<tr id="t2022-02-08T21:22:10"><th class="nick" style="background: #97974f">agherzan</th><td class="text" style="color: #97974f">khem: are you using self hosted workers?</td><td class="time"><a href="#t2022-02-08T21:22:10" class="time">21:22</a></td></tr>
<tr id="t2022-02-08T21:22:16"><th class="nick" style="background: #adad5b">khem</th><td class="text" style="color: #adad5b">yes</td><td class="time"><a href="#t2022-02-08T21:22:16" class="time">21:22</a></td></tr>
<tr id="t2022-02-08T21:22:47"><th class="nick" style="background: #97974f">agherzan</th><td class="text" style="color: #97974f">And how do you handle the security warnings that the GitHub docs point to?</td><td class="time"><a href="#t2022-02-08T21:22:47" class="time">21:22</a></td></tr>
<tr id="t2022-02-08T21:22:55"><th class="nick" style="background: #97974f">agherzan</th><td class="text" style="color: #97974f">Do you do any special configuration?</td><td class="time"><a href="#t2022-02-08T21:22:55" class="time">21:22</a></td></tr>
<tr id="t2022-02-08T21:23:03"><th class="nick" style="background: #adad5b">khem</th><td class="text" style="color: #adad5b">no, ignore it</td><td class="time"><a href="#t2022-02-08T21:23:03" class="time">21:23</a></td></tr>
<tr id="t2022-02-08T21:23:26"><th class="nick" style="background: #97974f">agherzan</th><td class="text" style="color: #97974f">:) right</td><td class="time"><a href="#t2022-02-08T21:23:26" class="time">21:23</a></td></tr>
<tr id="t2022-02-08T21:23:47"><th class="nick" style="background: #97974f">agherzan</th><td class="text" style="color: #97974f">And you keep cache locally on the build server, right?</td><td class="time"><a href="#t2022-02-08T21:23:47" class="time">21:23</a></td></tr>
<tr id="t2022-02-08T21:24:01"><th class="nick" style="background: #adad5b">khem</th><td class="text" style="color: #adad5b">as long as you make your runners secure, you are ok. you can run it in container</td><td class="time"><a href="#t2022-02-08T21:24:01" class="time">21:24</a></td></tr>
<tr id="t2022-02-08T21:24:13"><th class="nick" style="background: #adad5b">khem</th><td class="text" style="color: #adad5b">yes cache is local</td><td class="time"><a href="#t2022-02-08T21:24:13" class="time">21:24</a></td></tr>
<tr id="t2022-02-08T21:24:45"><th class="nick" style="background: #97974f">agherzan</th><td class="text" style="color: #97974f">Of course yes. I'll use docker runners</td><td class="time"><a href="#t2022-02-08T21:24:45" class="time">21:24</a></td></tr>
<tr id="t2022-02-08T21:25:08"><th class="nick" style="background: #97974f">agherzan</th><td class="text" style="color: #97974f">I'll try it tomorrow. Maybe things changed since I was looking into that</td><td class="time"><a href="#t2022-02-08T21:25:08" class="time">21:25</a></td></tr>
<tr id="t2022-02-08T21:26:56"><th class="nick" style="background: #adad5b">khem</th><td class="text" style="color: #adad5b">ofcourse my local runner is down these days ☹️ which is a different issue</td><td class="time"><a href="#t2022-02-08T21:26:56" class="time">21:26</a></td></tr>
<tr id="t2022-02-08T21:30:38"><th class="nick" style="background: #539e9e">vd</th><td class="text" style="color: #539e9e">I see recipes using custom FOO[bar], FOO_bar or a mixture of both. Is there a recommended way between crafted variables names or flags?</td><td class="time"><a href="#t2022-02-08T21:30:38" class="time">21:30</a></td></tr>
<tr id="t2022-02-08T21:34:52"><th class="nick" style="background: #6464bf">kergoth</th><td class="text" style="color: #6464bf">vd: Generally flags should be used to define metadata about the metadata. SRC_URI[sha256sum] is the sum for the uri, etc. Sometimes it's overloaded to get access to a dictionary-like structure within the limitations of the bitbake file format, but that's not ideal unless it's in line with the original intention</td><td class="time"><a href="#t2022-02-08T21:34:52" class="time">21:34</a></td></tr>
<tr id="t2022-02-08T23:16:39"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">kanavin: <a href="https://autobuilder.yoctoproject.org/typhoon/#/builders/59/builds/4678/steps/16/logs/stdio" rel="nofollow">https://autobuilder.yoctoproject.org/typhoon/#/builders/59/builds/4678/steps/16/logs/stdio</a> - that traceback patch needs work :/</td><td class="time"><a href="#t2022-02-08T23:16:39" class="time">23:16</a></td></tr>
<tr id="t2022-02-08T23:18:08"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">and I see a patch, you're ahead of me :)</td><td class="time"><a href="#t2022-02-08T23:18:08" class="time">23:18</a></td></tr>
<tr id="t2022-02-08T23:19:37"><th class="nick" style="background: #539e9e">vd</th><td class="text" style="color: #539e9e">kergoth: so in general you'd recommend defining FOO_somekey-bar instead of abusing FOO[bar]</td><td class="time"><a href="#t2022-02-08T23:19:37" class="time">23:19</a></td></tr>
<tr id="t2022-02-08T23:47:08"><th class="nick" style="background: #b15db1">smurray</th><td class="text" style="color: #b15db1">vd: using custom varflags like FOO[bar] in your own recipes can be problematic for downstream users as they can't be appended or easily removed, AFAIK it requires anon python</td><td class="time"><a href="#t2022-02-08T23:47:08" class="time">23:47</a></td></tr>
<tr id="t2022-02-08T23:48:10"><th class="nick" style="background: #b15db1">smurray</th><td class="text" style="color: #b15db1">vd: so IMO the usage needs to be somewhat simple or not something you expect anyone to ever want to customize</td><td class="time"><a href="#t2022-02-08T23:48:10" class="time">23:48</a></td></tr>
<tr id="t2022-02-08T23:57:23"><th class="nick" style="background: #6464bf">kergoth</th><td class="text" style="color: #6464bf">good points</td><td class="time"><a href="#t2022-02-08T23:57:23" class="time">23:57</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2022-02-07.log.html">&#171; Monday, 2022-02-07</a> <a href="index.html">Index</a> <a href="%23yocto.2022-02-09.log.html">Wednesday, 2022-02-09 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.17.2 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="https://mg.pov.lt/irclog2html/">https://mg.pov.lt/irclog2html/</a>!</p>
</div>
</body>
</html>
