<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Wednesday, 2022-06-08</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.17.2 by Marius Gedminas" />
  <meta name="version" content="2.17.2 - 2019-04-23" />
</head>
<body>
<h1>Wednesday, 2022-06-08</h1>
<div class="navigation"> <a href="%23yocto.2022-06-07.log.html">&#171; Tuesday, 2022-06-07</a> <a href="index.html">Index</a> <a href="%23yocto.2022-06-09.log.html">Thursday, 2022-06-09 &#187;</a> </div>
<table class="irclog">
<tr id="t2022-06-08T06:18:00"><th class="nick" style="background: #407a40">te-johan</th><td class="text" style="color: #407a40">hi, i'm trying to debug why i'm so easily getting pseudo mismatch abort errors. at the moment if i do any changes to my layer i usually have to rebuild everything to avoid it. Is there any gotchas when building in docker, like inodes changing or similar?</td><td class="time"><a href="#t2022-06-08T06:18:00" class="time">06:18</a></td></tr>
<tr id="t2022-06-08T06:49:03"><td class="nickchange" colspan="2">*** mckoan|away is now known as mckoan</td><td><a href="#t2022-06-08T06:49:03" class="time">06:49</a></td></tr>
<tr id="t2022-06-08T06:49:09"><th class="nick" style="background: #42427e">mckoan</th><td class="text" style="color: #42427e">good morning</td><td class="time"><a href="#t2022-06-08T06:49:09" class="time">06:49</a></td></tr>
<tr id="t2022-06-08T06:51:59"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">yo dudX</td><td class="time"><a href="#t2022-06-08T06:51:59" class="time">06:51</a></td></tr>
<tr id="t2022-06-08T07:07:49"><th class="nick" style="background: #42427e">mckoan</th><td class="text" style="color: #42427e">hey LetoThe2nd</td><td class="time"><a href="#t2022-06-08T07:07:49" class="time">07:07</a></td></tr>
<tr id="t2022-06-08T07:09:45"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">mckoan: howdy</td><td class="time"><a href="#t2022-06-08T07:09:45" class="time">07:09</a></td></tr>
<tr id="t2022-06-08T08:03:10"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">o/</td><td class="time"><a href="#t2022-06-08T08:03:10" class="time">08:03</a></td></tr>
<tr id="t2022-06-08T08:04:14"><th class="nick" style="background: #488888">GuestNew118</th><td class="text" style="color: #488888">Hello Yocto Wizards, after bumping to Yocto 4.0 bitbake complains about recipes based on Tag as SRCREV (Recipe uses a floating tag/branch without a fixed SRCREV yet doesn't call bb.fetch2.get_srcrev()) there is a way to disable it ? all my recipes are based on tags...</td><td class="time"><a href="#t2022-06-08T08:04:14" class="time">08:04</a></td></tr>
<tr id="t2022-06-08T08:05:41"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">GuestNew118: well the obvious fix is changing your recipes, because tags are not immutable, and therefore don't guarantee reproducibility</td><td class="time"><a href="#t2022-06-08T08:05:41" class="time">08:05</a></td></tr>
<tr id="t2022-06-08T08:06:32"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">GuestNew118: if you are intentionally willing to sacrifice such, then you can do the AUTOREV dance on a given branch</td><td class="time"><a href="#t2022-06-08T08:06:32" class="time">08:06</a></td></tr>
<tr id="t2022-06-08T08:07:28-2"><th class="nick" style="background: #488888">GuestNew118</th><td class="text" style="color: #488888">LetoThe2nd I understand, thanks for infos :)</td><td class="time"><a href="#t2022-06-08T08:07:28-2" class="time">08:07</a></td></tr>
<tr id="t2022-06-08T08:14:31"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">GuestNew118: have fun!</td><td class="time"><a href="#t2022-06-08T08:14:31" class="time">08:14</a></td></tr>
<tr id="t2022-06-08T08:17:27"><td class="part" colspan="2">*** river &lt;river!river@tilde.team/user/river&gt; has left #yocto (WeeChat 3.4.1)</td><td><a href="#t2022-06-08T08:17:27" class="time">08:17</a></td></tr>
<tr id="t2022-06-08T08:44:07"><th class="nick" style="background: #8c4a4a">Schiller</th><td class="text" style="color: #8c4a4a">Hello. Is there a file which stores the Buildinformation displayed in the WEB-UI from Buildbot? I have controller and workers running in container and start everything with docker-compose. At the moment I lose all the Buildinformation after i stop the containers.</td><td class="time"><a href="#t2022-06-08T08:44:07" class="time">08:44</a></td></tr>
<tr id="t2022-06-08T09:29:36"><th class="nick" style="background: #4b904b">jclsn[m]</th><td class="text" style="color: #4b904b">I just realized something odd, which is not clear for me from the docs. We have multiple image recipes, like a core-image, a dev-core-image and a dev-core-image-usb-updater etc. In case of the latter, we require the dev-core-image, which requires the core-image. When building an SDK for the dev-core-image-updater though, many packages are missing in the manifest. Is that normal? I can find those packages if I generate an SDK for the core-image,</td><td class="time"><a href="#t2022-06-08T09:29:36" class="time">09:29</a></td></tr>
<tr id="t2022-06-08T09:29:37"><th class="nick" style="background: #4b904b">jclsn[m]</th><td class="text" style="color: #4b904b">but not in the SDK for the dev-core-image or updater. I had assumed that all those packages would be inherited and also land in the SDK for the updater.</td><td class="time"><a href="#t2022-06-08T09:29:37" class="time">09:29</a></td></tr>
<tr id="t2022-06-08T09:30:36"><th class="nick" style="background: #4b904b">jclsn[m]</th><td class="text" style="color: #4b904b">I would really like to have one SDK to rule them all, instead of building several...</td><td class="time"><a href="#t2022-06-08T09:30:36" class="time">09:30</a></td></tr>
<tr id="t2022-06-08T09:36:04"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">jclsn[m]: it really depends how you're making dev-core-image differ from core-image</td><td class="time"><a href="#t2022-06-08T09:36:04" class="time">09:36</a></td></tr>
<tr id="t2022-06-08T09:53:34"><th class="nick" style="background: #97974f">Qorin</th><td class="text" style="color: #97974f">Hi</td><td class="time"><a href="#t2022-06-08T09:53:34" class="time">09:53</a></td></tr>
<tr id="t2022-06-08T09:53:34-2"><th class="nick" style="background: #97974f">Qorin</th><td class="text" style="color: #97974f">Has anyone worked with efitools recipe from meta-secure-core together with DigiCert ?</td><td class="time"><a href="#t2022-06-08T09:53:34-2" class="time">09:53</a></td></tr>
<tr id="t2022-06-08T09:53:35"><th class="nick" style="background: #97974f">Qorin</th><td class="text" style="color: #97974f">I am using sign-efi-sig-list tool that is built by efitools recipe and the certificates come from digicert.</td><td class="time"><a href="#t2022-06-08T09:53:35" class="time">09:53</a></td></tr>
<tr id="t2022-06-08T09:53:35-2"><th class="nick" style="background: #97974f">Qorin</th><td class="text" style="color: #97974f">I have to setup some environment variables and in the end this is the command that is called `sign-efi-sig-list -t &quot;&lt;some_time&gt;&quot; -e pkcs11 -c &quot;/path/to/cert.pub&quot; -k &quot;private_key_url&quot; PK PK.esl PK.auth`</td><td class="time"><a href="#t2022-06-08T09:53:35-2" class="time">09:53</a></td></tr>
<tr id="t2022-06-08T09:53:36"><th class="nick" style="background: #97974f">Qorin</th><td class="text" style="color: #97974f">the sign-efi-sig-list is available in the recipe-sysroot-native. however when I used this tool from the recipe-sysroot-native I received this error</td><td class="time"><a href="#t2022-06-08T09:53:36" class="time">09:53</a></td></tr>
<tr id="t2022-06-08T09:53:36-2"><th class="nick" style="background: #97974f">Qorin</th><td class="text" style="color: #97974f">.../poky/build/tmp/work/x86_64-linux/openssl-native/1.1.1l-r0/recipe-sysroot-native/usr/lib/engines-1.1/pkcs11.so: cannot open shared object file: No such file or directory</td><td class="time"><a href="#t2022-06-08T09:53:36-2" class="time">09:53</a></td></tr>
<tr id="t2022-06-08T09:53:37"><th class="nick" style="background: #97974f">Qorin</th><td class="text" style="color: #97974f">in the openssl-native work dir, the directory lib/engines1.1 does not exist.</td><td class="time"><a href="#t2022-06-08T09:53:37" class="time">09:53</a></td></tr>
<tr id="t2022-06-08T09:53:37-2"><th class="nick" style="background: #97974f">Qorin</th><td class="text" style="color: #97974f">However in the core2-64-poky-linux/openssl work dir the lib/engines1.1 directory exists with these files:</td><td class="time"><a href="#t2022-06-08T09:53:37-2" class="time">09:53</a></td></tr>
<tr id="t2022-06-08T09:53:38"><th class="nick" style="background: #97974f">Qorin</th><td class="text" style="color: #97974f">- afalg.so</td><td class="time"><a href="#t2022-06-08T09:53:38" class="time">09:53</a></td></tr>
<tr id="t2022-06-08T09:53:38-2"><th class="nick" style="background: #97974f">Qorin</th><td class="text" style="color: #97974f">- capi.so</td><td class="time"><a href="#t2022-06-08T09:53:38-2" class="time">09:53</a></td></tr>
<tr id="t2022-06-08T09:53:39"><th class="nick" style="background: #97974f">Qorin</th><td class="text" style="color: #97974f">- padlock.so</td><td class="time"><a href="#t2022-06-08T09:53:39" class="time">09:53</a></td></tr>
<tr id="t2022-06-08T09:53:39-2"><th class="nick" style="background: #97974f">Qorin</th><td class="text" style="color: #97974f">I tried adding an RDEPEND:${PN}:append = &quot; libp11 libp11-native&quot; in the openssl recipe, but it failed to build due to circular dependency</td><td class="time"><a href="#t2022-06-08T09:53:39-2" class="time">09:53</a></td></tr>
<tr id="t2022-06-08T10:47:38"><th class="nick" style="background: #4b904b">jclsn[m]</th><td class="text" style="color: #4b904b">RP: I only append stuff, so I don't know why the packages from the core-image would be missing</td><td class="time"><a href="#t2022-06-08T10:47:38" class="time">10:47</a></td></tr>
<tr id="t2022-06-08T11:04:49"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">is there a direct way to get the expanded list of packages that go into an image without actually building? like the information from the image manifest?</td><td class="time"><a href="#t2022-06-08T11:04:49" class="time">11:04</a></td></tr>
<tr id="t2022-06-08T11:05:25"><th class="nick" style="background: #4b904b">jclsn[m]</th><td class="text" style="color: #4b904b">Ah, the updater image has its own minimal rootfs and thus it is included in the SDK</td><td class="time"><a href="#t2022-06-08T11:05:25" class="time">11:05</a></td></tr>
<tr id="t2022-06-08T11:31:48"><th class="nick" style="background: #4b904b">jclsn[m]</th><td class="text" style="color: #4b904b">dropbear is also not compatible with the SDk unfortunately, because it requires openssh which conflicts with dropbear</td><td class="time"><a href="#t2022-06-08T11:31:48" class="time">11:31</a></td></tr>
<tr id="t2022-06-08T11:53:27"><th class="nick" style="background: #4b904b">jclsn[m]</th><td class="text" style="color: #4b904b">The problem is obviously openssh-sftp, which is compatible with dropbear, but not when building the SDK. The SDK somehow requires openssh when having added openssh-sftp.</td><td class="time"><a href="#t2022-06-08T11:53:27" class="time">11:53</a></td></tr>
<tr id="t2022-06-08T11:54:10"><th class="nick" style="background: #4b904b">jclsn[m]</th><td class="text" style="color: #4b904b">RP: Is this a bug? Could a PROVIDES=&quot;ssh-server-openssh&quot; in the dropbear recipe or SDK recipe fix it?</td><td class="time"><a href="#t2022-06-08T11:54:10" class="time">11:54</a></td></tr>
<tr id="t2022-06-08T11:54:24"><th class="nick" style="background: #4b904b">jclsn[m]</th><td class="text" style="color: #4b904b">Or does the SDK need some libraries from openssh?</td><td class="time"><a href="#t2022-06-08T11:54:24" class="time">11:54</a></td></tr>
<tr id="t2022-06-08T12:13:38"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">LetoThe2nd: bitbake -g --parse-only &lt;recipe&gt; maybe?</td><td class="time"><a href="#t2022-06-08T12:13:38" class="time">12:13</a></td></tr>
<tr id="t2022-06-08T12:15:27"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">qschulz: thx, will give it a try. but turned out that the non-building was actually not a requirement, so the manifest+buildhistory do the trick.</td><td class="time"><a href="#t2022-06-08T12:15:27" class="time">12:15</a></td></tr>
<tr id="t2022-06-08T12:24:44"><th class="nick" style="background: #9b519b">gordon1</th><td class="text" style="color: #9b519b">having an issue with RRECOMMENDS, so there is this recipe smartmontools from meta-openembedded, it has RRECOMMENDS += &quot;s-nail&quot;, but no matter what i do it still installs it, i tried adding &quot;s-nail&quot; to BAD_RECOMMENDATIONS or even PACKAGE_EXCLUDE in my local.conf, and if i add it to BBMASK bitbake fails with an error that smartmontools RDEPENDS on it, which it clearly isn't according to the recipe</td><td class="time"><a href="#t2022-06-08T12:24:44" class="time">12:24</a></td></tr>
<tr id="t2022-06-08T12:24:46"><th class="nick" style="background: #9b519b">gordon1</th><td class="text" style="color: #9b519b">file, is there a way to see _why_ exactly certain package is pulled?</td><td class="time"><a href="#t2022-06-08T12:24:46" class="time">12:24</a></td></tr>
<tr id="t2022-06-08T12:26:45"><th class="nick" style="background: #9b519b">gordon1</th><td class="text" style="color: #9b519b">i'm using kirkstone if it matters</td><td class="time"><a href="#t2022-06-08T12:26:45" class="time">12:26</a></td></tr>
<tr id="t2022-06-08T12:29:23"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">gordon1: bitbake -g &lt;image-recipe&gt; will give you a few dot files expliciting the dependencies between packages</td><td class="time"><a href="#t2022-06-08T12:29:23" class="time">12:29</a></td></tr>
<tr id="t2022-06-08T12:37:12"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">jclsn[m]: there is an open bug about some aspect of the openssh/dropbear overlap. I'm not sure we did come up with a good plan for all of that</td><td class="time"><a href="#t2022-06-08T12:37:12" class="time">12:37</a></td></tr>
<tr id="t2022-06-08T12:37:32"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">jclsn[m]: dropbear certainly should not PROVIDES openssh though</td><td class="time"><a href="#t2022-06-08T12:37:32" class="time">12:37</a></td></tr>
<tr id="t2022-06-08T12:38:12"><th class="nick" style="background: #4b904b">jclsn[m]</th><td class="text" style="color: #4b904b">RP: Yeah I guess so</td><td class="time"><a href="#t2022-06-08T12:38:12" class="time">12:38</a></td></tr>
<tr id="t2022-06-08T12:38:43"><th class="nick" style="background: #4b904b">jclsn[m]</th><td class="text" style="color: #4b904b">I have kicked out openssh-sftp for now. It is only needed for QtCreator and there are workarounds</td><td class="time"><a href="#t2022-06-08T12:38:43" class="time">12:38</a></td></tr>
<tr id="t2022-06-08T12:39:18"><th class="nick" style="background: #4b904b">jclsn[m]</th><td class="text" style="color: #4b904b">Out of curiosity: I just wonder how much more performant dropbear really is. I could not find any benchmarks or info about the openssh memory footprint</td><td class="time"><a href="#t2022-06-08T12:39:18" class="time">12:39</a></td></tr>
<tr id="t2022-06-08T12:39:48"><th class="nick" style="background: #9b519b">gordon1</th><td class="text" style="color: #9b519b">qschulz: well, it shows me all the dependencies but it doesn't show me why this dependency exists =/</td><td class="time"><a href="#t2022-06-08T12:39:48" class="time">12:39</a></td></tr>
<tr id="t2022-06-08T12:40:03"><th class="nick" style="background: #9b519b">gordon1</th><td class="text" style="color: #9b519b">or i'm not good at interpreting it</td><td class="time"><a href="#t2022-06-08T12:40:03" class="time">12:40</a></td></tr>
<tr id="t2022-06-08T12:40:41"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">gordon1: at least knowing which package depends on which, you can look into the recipe and try to figure out if it's a dependency you can remove or not (e.g. via BAD_RECOMMENDATIONS or a modified PACKAGECONFIG)</td><td class="time"><a href="#t2022-06-08T12:40:41" class="time">12:40</a></td></tr>
<tr id="t2022-06-08T12:41:55"><th class="nick" style="background: #9b519b">gordon1</th><td class="text" style="color: #9b519b">well, that's the problem that i'm having, i already know the recipe that pulls s-nail - smartmontools, and the recipe has _only_ RRECOMMENDS:${PN} += &quot;s-nail&quot; (if i comment out this line it doesn't pull s-nail into resulting image)</td><td class="time"><a href="#t2022-06-08T12:41:55" class="time">12:41</a></td></tr>
<tr id="t2022-06-08T12:42:10"><th class="nick" style="background: #9b519b">gordon1</th><td class="text" style="color: #9b519b">but for some reason this RRECOMMENDS isn't affected by BAD_RECOMMENDATIONS</td><td class="time"><a href="#t2022-06-08T12:42:10" class="time">12:42</a></td></tr>
<tr id="t2022-06-08T12:42:31"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">gordon1: are you sure it's the ONLY one pulling s-nail is smartmontools?</td><td class="time"><a href="#t2022-06-08T12:42:31" class="time">12:42</a></td></tr>
<tr id="t2022-06-08T12:43:06"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">that was what I had in mind but I realize I didn't vocalize this idea :)</td><td class="time"><a href="#t2022-06-08T12:43:06" class="time">12:43</a></td></tr>
<tr id="t2022-06-08T12:43:26"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">gordon1: remember that there's an auto-magic RDEPENDS in packages</td><td class="time"><a href="#t2022-06-08T12:43:26" class="time">12:43</a></td></tr>
<tr id="t2022-06-08T12:43:52"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">which adds packages of shared libraries used in a given package by using objdump/readelf</td><td class="time"><a href="#t2022-06-08T12:43:52" class="time">12:43</a></td></tr>
<tr id="t2022-06-08T12:43:58"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">and add them directly without you knowing</td><td class="time"><a href="#t2022-06-08T12:43:58" class="time">12:43</a></td></tr>
<tr id="t2022-06-08T12:44:42"><th class="nick" style="background: #9b519b">gordon1</th><td class="text" style="color: #9b519b">i can comment the line with RRECOMMENDS:${PN} += &quot;s-nail&quot; and add BBMASK += &quot;s-nail&quot; in my local.conf and it does not result in error and bitbake builds the image correctly w/o s-nail</td><td class="time"><a href="#t2022-06-08T12:44:42" class="time">12:44</a></td></tr>
<tr id="t2022-06-08T12:45:20"><th class="nick" style="background: #9b519b">gordon1</th><td class="text" style="color: #9b519b">*can comment the line out from smartmontools.bb</td><td class="time"><a href="#t2022-06-08T12:45:20" class="time">12:45</a></td></tr>
<tr id="t2022-06-08T12:45:54"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">gordon1: ok seems like a pretty solid test and confirmation it's the only one adding s-nail</td><td class="time"><a href="#t2022-06-08T12:45:54" class="time">12:45</a></td></tr>
<tr id="t2022-06-08T12:46:09"><th class="nick" style="background: #9b519b">gordon1</th><td class="text" style="color: #9b519b">i doubt that smartmontools use any kind of shared lib from s-nail since latter one is just mail implementation</td><td class="time"><a href="#t2022-06-08T12:46:09" class="time">12:46</a></td></tr>
<tr id="t2022-06-08T12:46:25"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">gordon1: which package manager are you uising?</td><td class="time"><a href="#t2022-06-08T12:46:25" class="time">12:46</a></td></tr>
<tr id="t2022-06-08T12:46:56"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">because deb does not support BAD_RECOMMENDATIONS</td><td class="time"><a href="#t2022-06-08T12:46:56" class="time">12:46</a></td></tr>
<tr id="t2022-06-08T12:47:05"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">(but you should have gotten a warning when building)</td><td class="time"><a href="#t2022-06-08T12:47:05" class="time">12:47</a></td></tr>
<tr id="t2022-06-08T12:47:06"><th class="nick" style="background: #9b519b">gordon1</th><td class="text" style="color: #9b519b">i think its rpm, gimme a moment</td><td class="time"><a href="#t2022-06-08T12:47:06" class="time">12:47</a></td></tr>
<tr id="t2022-06-08T12:47:30"><th class="nick" style="background: #9b519b">gordon1</th><td class="text" style="color: #9b519b">PACKAGE_CLASSES ?= &quot;package_rpm&quot;</td><td class="time"><a href="#t2022-06-08T12:47:30" class="time">12:47</a></td></tr>
<tr id="t2022-06-08T12:47:50"><th class="nick" style="background: #9b519b">gordon1</th><td class="text" style="color: #9b519b">but i'm building initramfs so i doubt it has package manager there</td><td class="time"><a href="#t2022-06-08T12:47:50" class="time">12:47</a></td></tr>
<tr id="t2022-06-08T12:48:10"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">gordon1: the rootfs is created by a package manager running on your building machine</td><td class="time"><a href="#t2022-06-08T12:48:10" class="time">12:48</a></td></tr>
<tr id="t2022-06-08T12:48:34"><th class="nick" style="background: #9b519b">gordon1</th><td class="text" style="color: #9b519b">right</td><td class="time"><a href="#t2022-06-08T12:48:34" class="time">12:48</a></td></tr>
<tr id="t2022-06-08T12:48:38"><th class="nick" style="background: #9b519b">gordon1</th><td class="text" style="color: #9b519b">so i guess it's rpm then</td><td class="time"><a href="#t2022-06-08T12:48:38" class="time">12:48</a></td></tr>
<tr id="t2022-06-08T12:48:39"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">gordon1: which is a different thing than having a package manager on your target</td><td class="time"><a href="#t2022-06-08T12:48:39" class="time">12:48</a></td></tr>
<tr id="t2022-06-08T12:49:00"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">yup, seems reasonable (you can always check with bitbake-getvar -r &lt;image-recipe&gt; PACKAGE_CLASSES</td><td class="time"><a href="#t2022-06-08T12:49:00" class="time">12:49</a></td></tr>
<tr id="t2022-06-08T12:49:22"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">tbh, i'm out of ideas where to look for next, so i'll let others chime in</td><td class="time"><a href="#t2022-06-08T12:49:22" class="time">12:49</a></td></tr>
<tr id="t2022-06-08T12:49:33"><th class="nick" style="background: #9b519b">gordon1</th><td class="text" style="color: #9b519b">yep, it's rpm</td><td class="time"><a href="#t2022-06-08T12:49:33" class="time">12:49</a></td></tr>
<tr id="t2022-06-08T12:50:46"><th class="nick" style="background: #9b519b">gordon1</th><td class="text" style="color: #9b519b">i mean i guess i could just make bbappend for smartmontools modifying this RRECOMMENDS, but i'm pretty sure it's not how RRECOMMENDS should behave</td><td class="time"><a href="#t2022-06-08T12:50:46" class="time">12:50</a></td></tr>
<tr id="t2022-06-08T12:51:22"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">gordon1: BAD_RECOMMENDATIONS should work indeed</td><td class="time"><a href="#t2022-06-08T12:51:22" class="time">12:51</a></td></tr>
<tr id="t2022-06-08T12:51:37"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">gordon1: check BAD_RECOMMENDATIONS with bitbake-getvar too</td><td class="time"><a href="#t2022-06-08T12:51:37" class="time">12:51</a></td></tr>
<tr id="t2022-06-08T12:52:51"><th class="nick" style="background: #9b519b">gordon1</th><td class="text" style="color: #9b519b">BAD_RECOMMENDATIONS=&quot;s-nail&quot;</td><td class="time"><a href="#t2022-06-08T12:52:51" class="time">12:52</a></td></tr>
<tr id="t2022-06-08T12:53:30"><th class="nick" style="background: #9b519b">gordon1</th><td class="text" style="color: #9b519b">but if i add s-nail to PACKAGE_EXCLUDE should it fail instead of trying to install it?</td><td class="time"><a href="#t2022-06-08T12:53:30" class="time">12:53</a></td></tr>
<tr id="t2022-06-08T12:53:39"><th class="nick" style="background: #9b519b">gordon1</th><td class="text" style="color: #9b519b">because it doesn't for me</td><td class="time"><a href="#t2022-06-08T12:53:39" class="time">12:53</a></td></tr>
<tr id="t2022-06-08T12:56:18"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">it should except for deb pkg manager</td><td class="time"><a href="#t2022-06-08T12:56:18" class="time">12:56</a></td></tr>
<tr id="t2022-06-08T12:57:53"><th class="nick" style="background: #9b519b">gordon1</th><td class="text" style="color: #9b519b">hmm, it's weird, it shows me following dependency chain:</td><td class="time"><a href="#t2022-06-08T12:57:53" class="time">12:57</a></td></tr>
<tr id="t2022-06-08T12:57:55"><th class="nick" style="background: #9b519b">gordon1</th><td class="text" style="color: #9b519b">Missing or unbuildable dependency chain was: ['wireguard-tools-dev', 'kernel-module-wireguard', 'core-image-gnubee', 'smartmontools', 's-nail']</td><td class="time"><a href="#t2022-06-08T12:57:55" class="time">12:57</a></td></tr>
<tr id="t2022-06-08T12:58:19"><th class="nick" style="background: #9b519b">gordon1</th><td class="text" style="color: #9b519b">i have initramfs that is bundled into the kernel</td><td class="time"><a href="#t2022-06-08T12:58:19" class="time">12:58</a></td></tr>
<tr id="t2022-06-08T12:58:47"><th class="nick" style="background: #9b519b">gordon1</th><td class="text" style="color: #9b519b">so i wonder if it ignores BAD_RECOMMENDATIONS while it's building the image as a dependency for kernel maybe?</td><td class="time"><a href="#t2022-06-08T12:58:47" class="time">12:58</a></td></tr>
<tr id="t2022-06-08T13:02:54"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">gordon1: that's actually&nbsp;&nbsp;a good question</td><td class="time"><a href="#t2022-06-08T13:02:54" class="time">13:02</a></td></tr>
<tr id="t2022-06-08T13:03:10"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">I'm building core-image-minimal with smartmontools - s-nail to see if I can reproduce (top of kirkstone branch)</td><td class="time"><a href="#t2022-06-08T13:03:10" class="time">13:03</a></td></tr>
<tr id="t2022-06-08T13:03:54"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">if it does not, maybe checking that this mechanism works for bundled initramfs is a good idea</td><td class="time"><a href="#t2022-06-08T13:03:54" class="time">13:03</a></td></tr>
<tr id="t2022-06-08T13:03:54-2"><th class="nick" style="background: #9b519b">gordon1</th><td class="text" style="color: #9b519b">if so i wonder is there a way to specify BAD_RECOMMENDATIONS for an image instaed of local.conf? should it work if i put it into my image's recipe?</td><td class="time"><a href="#t2022-06-08T13:03:54-2" class="time">13:03</a></td></tr>
<tr id="t2022-06-08T13:04:03"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">yes</td><td class="time"><a href="#t2022-06-08T13:04:03" class="time">13:04</a></td></tr>
<tr id="t2022-06-08T13:04:20"><th class="nick" style="background: #9b519b">gordon1</th><td class="text" style="color: #9b519b">qschulz: i based my image in core-image-tiny-initramfs if that is important</td><td class="time"><a href="#t2022-06-08T13:04:20" class="time">13:04</a></td></tr>
<tr id="t2022-06-08T13:06:23"><th class="nick" style="background: #9b519b">gordon1</th><td class="text" style="color: #9b519b">so i put BAD_RECOMMENDATIONS = &quot;s-nail&quot; into my image recipe but it didn't help</td><td class="time"><a href="#t2022-06-08T13:06:23" class="time">13:06</a></td></tr>
<tr id="t2022-06-08T13:07:37"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">gordon1: ahah!</td><td class="time"><a href="#t2022-06-08T13:07:37" class="time">13:07</a></td></tr>
<tr id="t2022-06-08T13:07:50"><th class="nick" style="background: #9b519b">gordon1</th><td class="text" style="color: #9b519b">?</td><td class="time"><a href="#t2022-06-08T13:07:50" class="time">13:07</a></td></tr>
<tr id="t2022-06-08T13:07:58"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">PACKAGE_INSTALL needs to be used instead of IMAGE_ISNTALL for initramfs images</td><td class="time"><a href="#t2022-06-08T13:07:58" class="time">13:07</a></td></tr>
<tr id="t2022-06-08T13:08:20"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">maybe BAD_RECOMMENDATIONS does not apply to PACKAGE_INSTALL but only IMAGE_INSTALL?</td><td class="time"><a href="#t2022-06-08T13:08:20" class="time">13:08</a></td></tr>
<tr id="t2022-06-08T13:08:26"><th class="nick" style="background: #9b519b">gordon1</th><td class="text" style="color: #9b519b">oh, hmm</td><td class="time"><a href="#t2022-06-08T13:08:26" class="time">13:08</a></td></tr>
<tr id="t2022-06-08T13:09:08"><th class="nick" style="background: #9b519b">gordon1</th><td class="text" style="color: #9b519b">is there unintended consequences if i'll just replace PACKAGE_INSTALL with IMAGE_INSTALL ?</td><td class="time"><a href="#t2022-06-08T13:09:08" class="time">13:09</a></td></tr>
<tr id="t2022-06-08T13:09:27"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">gordon1: i think it just won;'t work</td><td class="time"><a href="#t2022-06-08T13:09:27" class="time">13:09</a></td></tr>
<tr id="t2022-06-08T13:09:54"><th class="nick" style="background: #9b519b">gordon1</th><td class="text" style="color: #9b519b">well, i replaced it and it looks like it still complains about s-nail since it's in BBMASK</td><td class="time"><a href="#t2022-06-08T13:09:54" class="time">13:09</a></td></tr>
<tr id="t2022-06-08T13:24:48"><th class="nick" style="background: #4b904b">jclsn[m]</th><td class="text" style="color: #4b904b">I have an issue that a dependency is not landing in the SDK unless I explicitly list. So to be clear: If I list some package explicitly eveerything lands in the SDK, if I only let it get installed as dependency, it still works in the image, but libraries are missing the SDK. Is there something like DEBUGDEPENDS? Haven't found anything</td><td class="time"><a href="#t2022-06-08T13:24:48" class="time">13:24</a></td></tr>
<tr id="t2022-06-08T13:27:05"><th class="nick" style="background: #4b904b">jclsn[m]</th><td class="text" style="color: #4b904b">EXTRA_IMAGEDEEPENDS maybe</td><td class="time"><a href="#t2022-06-08T13:27:05" class="time">13:27</a></td></tr>
<tr id="t2022-06-08T13:27:08"><th class="nick" style="background: #4b904b">jclsn[m]</th><td class="text" style="color: #4b904b">?</td><td class="time"><a href="#t2022-06-08T13:27:08" class="time">13:27</a></td></tr>
<tr id="t2022-06-08T13:28:10"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">jclsn[m]: the SDK is like a toolchain, minimal stuff by default</td><td class="time"><a href="#t2022-06-08T13:28:10" class="time">13:28</a></td></tr>
<tr id="t2022-06-08T13:28:18"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">maybe you'd be more interested in eSDK?</td><td class="time"><a href="#t2022-06-08T13:28:18" class="time">13:28</a></td></tr>
<tr id="t2022-06-08T13:28:34"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">which is like a complete development environment based on an image (IIRC, have never used it)</td><td class="time"><a href="#t2022-06-08T13:28:34" class="time">13:28</a></td></tr>
<tr id="t2022-06-08T13:28:38"><th class="nick" style="background: #4b904b">jclsn[m]</th><td class="text" style="color: #4b904b">qschulz: The eSDK is huge</td><td class="time"><a href="#t2022-06-08T13:28:38" class="time">13:28</a></td></tr>
<tr id="t2022-06-08T13:29:00"><th class="nick" style="background: #4b904b">jclsn[m]</th><td class="text" style="color: #4b904b">I could fix it by listing the package as RDEPENDS, but not sure if that is the right way to do</td><td class="time"><a href="#t2022-06-08T13:29:00" class="time">13:29</a></td></tr>
<tr id="t2022-06-08T13:29:38"><th class="nick" style="background: #9b519b">gordon1</th><td class="text" style="color: #9b519b">docs don't really explain in details why i must use PACKAGE_INSTALL instead if IMAGE_INSTALL for initramfs, just tell me to =/</td><td class="time"><a href="#t2022-06-08T13:29:38" class="time">13:29</a></td></tr>
<tr id="t2022-06-08T13:29:42"><th class="nick" style="background: #4b904b">jclsn[m]</th><td class="text" style="color: #4b904b">For now we were working okay with the SDK. The eSDK is only needed for devtool afaik</td><td class="time"><a href="#t2022-06-08T13:29:42" class="time">13:29</a></td></tr>
<tr id="t2022-06-08T13:30:16"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">jclsn[m]: the eSDK brings the whole sysroot for an image IIRC</td><td class="time"><a href="#t2022-06-08T13:30:16" class="time">13:30</a></td></tr>
<tr id="t2022-06-08T13:30:17"><th class="nick" style="background: #539e9e">ptsneves</th><td class="text" style="color: #539e9e">gordon1 basically it is to slim it down. Indeed it is not clear.</td><td class="time"><a href="#t2022-06-08T13:30:17" class="time">13:30</a></td></tr>
<tr id="t2022-06-08T13:30:47"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">the SDK is literally a toolchain, so basically compiler+libc+some other very basic stuff</td><td class="time"><a href="#t2022-06-08T13:30:47" class="time">13:30</a></td></tr>
<tr id="t2022-06-08T13:31:03"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">the eSDK also happens to have some Yocto specfici tools like devtool</td><td class="time"><a href="#t2022-06-08T13:31:03" class="time">13:31</a></td></tr>
<tr id="t2022-06-08T13:31:08"><th class="nick" style="background: #4b904b">jclsn[m]</th><td class="text" style="color: #4b904b">the SDK also contains the sysroot</td><td class="time"><a href="#t2022-06-08T13:31:08" class="time">13:31</a></td></tr>
<tr id="t2022-06-08T13:31:35"><th class="nick" style="background: #9b519b">gordon1</th><td class="text" style="color: #9b519b">ptsneves: yes, but in what way? have to look at the bbclass code for that i guess</td><td class="time"><a href="#t2022-06-08T13:31:35" class="time">13:31</a></td></tr>
<tr id="t2022-06-08T13:31:36"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">jclsn[m]: not the whole sysroot, otherwise you wouldn';t complain about the missing package?</td><td class="time"><a href="#t2022-06-08T13:31:36" class="time">13:31</a></td></tr>
<tr id="t2022-06-08T13:31:45"><th class="nick" style="background: #4b904b">jclsn[m]</th><td class="text" style="color: #4b904b">Guess I have to read the docs on SDKs again</td><td class="time"><a href="#t2022-06-08T13:31:45" class="time">13:31</a></td></tr>
<tr id="t2022-06-08T13:32:04"><th class="nick" style="background: #4b904b">jclsn[m]</th><td class="text" style="color: #4b904b">Probably yeah. I think I misread something then</td><td class="time"><a href="#t2022-06-08T13:32:04" class="time">13:32</a></td></tr>
<tr id="t2022-06-08T13:35:09"><th class="nick" style="background: #539e9e">ptsneves</th><td class="text" style="color: #539e9e">gordon1 actually the docs mention the difference and even mention the initramfs case.</td><td class="time"><a href="#t2022-06-08T13:35:09" class="time">13:35</a></td></tr>
<tr id="t2022-06-08T13:35:13"><th class="nick" style="background: #539e9e">ptsneves</th><td class="text" style="color: #539e9e"><a href="https://docs.yoctoproject.org/singleindex.html#term-IMAGE_INSTALL" rel="nofollow">https://docs.yoctoproject.org/singleindex.html#term-IMAGE_INSTALL</a></td><td class="time"><a href="#t2022-06-08T13:35:13" class="time">13:35</a></td></tr>
<tr id="t2022-06-08T13:35:50"><th class="nick" style="background: #4b904b">jclsn[m]</th><td class="text" style="color: #4b904b">qschulz: This is not really clear from the docs</td><td class="time"><a href="#t2022-06-08T13:35:50" class="time">13:35</a></td></tr>
<tr id="t2022-06-08T13:35:54"><th class="nick" style="background: #4b904b">jclsn[m]</th><td class="text" style="color: #4b904b">The Standard SDK provides a cross-development toolchain and libraries tailored to the contents of a specific image.</td><td class="time"><a href="#t2022-06-08T13:35:54" class="time">13:35</a></td></tr>
<tr id="t2022-06-08T13:36:01"><th class="nick" style="background: #4b904b">jclsn[m]</th><td class="text" style="color: #4b904b">The extensible SDK provides a cross-development toolchain and libraries tailored to the contents of a specific image.</td><td class="time"><a href="#t2022-06-08T13:36:01" class="time">13:36</a></td></tr>
<tr id="t2022-06-08T13:36:14"><th class="nick" style="background: #4b904b">jclsn[m]</th><td class="text" style="color: #4b904b">The only difference the docs mention is devtool</td><td class="time"><a href="#t2022-06-08T13:36:14" class="time">13:36</a></td></tr>
<tr id="t2022-06-08T13:36:28"><th class="nick" style="background: #4b904b">jclsn[m]</th><td class="text" style="color: #4b904b">ou would use the Extensible SDK if you want a toolchain experience supplemented with the powerful set of devtool commands tailored for the Yocto Project environment.</td><td class="time"><a href="#t2022-06-08T13:36:28" class="time">13:36</a></td></tr>
<tr id="t2022-06-08T13:36:56"><th class="nick" style="background: #4b904b">jclsn[m]</th><td class="text" style="color: #4b904b">The installed Standard SDK consists of several files and directories. Basically, it contains an SDK environment setup script, some configuration files, and host and target root filesystems to support usage.</td><td class="time"><a href="#t2022-06-08T13:36:56" class="time">13:36</a></td></tr>
<tr id="t2022-06-08T13:37:22"><td class="action" colspan="2">* qschulz shrugs</td><td><a href="#t2022-06-08T13:37:22" class="time">13:37</a></td></tr>
<tr id="t2022-06-08T13:37:43"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">I don't use SDKs, so I could bery very much be wrong and shouldn't have said anything</td><td class="time"><a href="#t2022-06-08T13:37:43" class="time">13:37</a></td></tr>
<tr id="t2022-06-08T13:39:44"><th class="nick" style="background: #539e9e">ptsneves</th><td class="text" style="color: #539e9e">jclsn[m] unfortunately many in the yocto community do not use the SDKs and this may lead to fragilities in it. Do you think you can submit a patch for the docs?</td><td class="time"><a href="#t2022-06-08T13:39:44" class="time">13:39</a></td></tr>
<tr id="t2022-06-08T13:40:14"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">ptsneves: I think the SDK is actually more used than eSDK? but again, just guesses</td><td class="time"><a href="#t2022-06-08T13:40:14" class="time">13:40</a></td></tr>
<tr id="t2022-06-08T13:41:04"><th class="nick" style="background: #539e9e">ptsneves</th><td class="text" style="color: #539e9e">i have 2 data points and they confirm your experience. I have generated some, but besides correctness never used it</td><td class="time"><a href="#t2022-06-08T13:41:04" class="time">13:41</a></td></tr>
<tr id="t2022-06-08T13:42:05"><th class="nick" style="background: #4b904b">jclsn[m]</th><td class="text" style="color: #4b904b">ptsneves: No idea what patch that would be. I still don't know what the exact differences are. Quentin says that the standard SDK contains &quot;some&quot; sysroot files. That is not clear enough for me.</td><td class="time"><a href="#t2022-06-08T13:42:05" class="time">13:42</a></td></tr>
<tr id="t2022-06-08T13:42:33"><th class="nick" style="background: #a25555">sotaoverride</th><td class="text" style="color: #a25555">ive somehow ended up with&nbsp;&nbsp;modules in /lib/modules for a different kernel, and now get the &quot;disagress about version of symbol module_layout&quot; error. has anyone seen this before? My rootfs updates led to this, and im trying to find a way of fixing it now. clearly the kernel is not on the rootfs or something</td><td class="time"><a href="#t2022-06-08T13:42:33" class="time">13:42</a></td></tr>
<tr id="t2022-06-08T13:42:56"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">jclsn[m]: opening a bug ticket for the documentation is already great feedback</td><td class="time"><a href="#t2022-06-08T13:42:56" class="time">13:42</a></td></tr>
<tr id="t2022-06-08T13:44:11"><th class="nick" style="background: #539e9e">ptsneves</th><td class="text" style="color: #539e9e">sotaoverride can you paste the whole errror? I assume you get the issue at runtime/boot?</td><td class="time"><a href="#t2022-06-08T13:44:11" class="time">13:44</a></td></tr>
<tr id="t2022-06-08T13:45:56"><th class="nick" style="background: #539e9e">ptsneves</th><td class="text" style="color: #539e9e">jclsn[m] we are not perfect and the project is huge. Honestly i just read the source when i want something not clearly documented. Even so the docs are amazing compared to a few years ago. If they do not suit it is an opportunity to improve</td><td class="time"><a href="#t2022-06-08T13:45:56" class="time">13:45</a></td></tr>
<tr id="t2022-06-08T13:46:27"><th class="nick" style="background: #a25555">sotaoverride</th><td class="text" style="color: #a25555">ptsneves: its jsut when I try to modprobe ovelay <a href="https://gyazo.com/085cc76be5340dd2fb157bddce88e03e" rel="nofollow">https://gyazo.com/085cc76be5340dd2fb157bddce88e03e</a></td><td class="time"><a href="#t2022-06-08T13:46:27" class="time">13:46</a></td></tr>
<tr id="t2022-06-08T13:48:07"><th class="nick" style="background: #539e9e">ptsneves</th><td class="text" style="color: #539e9e">can you try modprobe? also is this the result of a module you manually copied?</td><td class="time"><a href="#t2022-06-08T13:48:07" class="time">13:48</a></td></tr>
<tr id="t2022-06-08T13:50:14"><th class="nick" style="background: #a25555">sotaoverride</th><td class="text" style="color: #a25555">ptsneves: so I was getting help from rfs613 earlier and he pointed out my kernel is on a vfat, and the modules sit in rootfs. When i do rootfs updates, the modules somehow get in this mismatch state. I tried modprobe too. and the module is just getting installed by the defconfig that comes with the bsp (i think)</td><td class="time"><a href="#t2022-06-08T13:50:14" class="time">13:50</a></td></tr>
<tr id="t2022-06-08T13:52:46"><th class="nick" style="background: #539e9e">ptsneves</th><td class="text" style="color: #539e9e">sotaoverride what matters is that the kernel sources used to build the kernel and your module match.</td><td class="time"><a href="#t2022-06-08T13:52:46" class="time">13:52</a></td></tr>
<tr id="t2022-06-08T13:52:46-2"><th class="nick" style="background: #539e9e">ptsneves</th><td class="text" style="color: #539e9e">What do you mean rootfs updates?</td><td class="time"><a href="#t2022-06-08T13:52:46-2" class="time">13:52</a></td></tr>
<tr id="t2022-06-08T13:54:14"><th class="nick" style="background: #a25555">sotaoverride</th><td class="text" style="color: #a25555">so I have this python utitliy that does a/b partition style updates. you basically give it an ext4 root filesystem and tell the board to boot from the partition with the new ext4 filesystem</td><td class="time"><a href="#t2022-06-08T13:54:14" class="time">13:54</a></td></tr>
<tr id="t2022-06-08T13:54:33"><th class="nick" style="background: #a25555">sotaoverride</th><td class="text" style="color: #a25555">that some how led to this mismatch</td><td class="time"><a href="#t2022-06-08T13:54:33" class="time">13:54</a></td></tr>
<tr id="t2022-06-08T13:54:52"><th class="nick" style="background: #a25555">sotaoverride</th><td class="text" style="color: #a25555">which got caught when overlay went missing.</td><td class="time"><a href="#t2022-06-08T13:54:52" class="time">13:54</a></td></tr>
<tr id="t2022-06-08T13:55:02"><th class="nick" style="background: #a25555">sotaoverride</th><td class="text" style="color: #a25555">and I wasnt able to modprobe it even</td><td class="time"><a href="#t2022-06-08T13:55:02" class="time">13:55</a></td></tr>
<tr id="t2022-06-08T14:03:17"><th class="nick" style="background: #539e9e">ptsneves</th><td class="text" style="color: #539e9e">ehhh nice problem you got there. Just one more question, to give you the diagnostics. The kernel is not in the rootfs but in some other partition. The fat you mentioned right?</td><td class="time"><a href="#t2022-06-08T14:03:17" class="time">14:03</a></td></tr>
<tr id="t2022-06-08T14:05:25"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">sotaoverride: what about having an initramfs in your kernel with the kernel modules in?</td><td class="time"><a href="#t2022-06-08T14:05:25" class="time">14:05</a></td></tr>
<tr id="t2022-06-08T14:05:32"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">(and pivot/switch root at boot)</td><td class="time"><a href="#t2022-06-08T14:05:32" class="time">14:05</a></td></tr>
<tr id="t2022-06-08T14:05:42"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">or, just build them in instead of having them as modules?</td><td class="time"><a href="#t2022-06-08T14:05:42" class="time">14:05</a></td></tr>
<tr id="t2022-06-08T14:07:23"><th class="nick" style="background: #539e9e">ptsneves</th><td class="text" style="color: #539e9e">yep. That is actually the only choice to not have issues with fallbacks failing due to kernel mismatch</td><td class="time"><a href="#t2022-06-08T14:07:23" class="time">14:07</a></td></tr>
<tr id="t2022-06-08T14:09:43"><th class="nick" style="background: #a25555">sotaoverride</th><td class="text" style="color: #a25555">qschulz: cant you link me to some doc or something that breaks down initramfs. I only know a little about ext4 and how to write them to a parition, run the filesystem resize command and call it a day :P</td><td class="time"><a href="#t2022-06-08T14:09:43" class="time">14:09</a></td></tr>
<tr id="t2022-06-08T14:10:36"><th class="nick" style="background: #a25555">sotaoverride</th><td class="text" style="color: #a25555">just link me to something that explains initramfs a little and the pivot/switch idea, or just give like the top line explanation here</td><td class="time"><a href="#t2022-06-08T14:10:36" class="time">14:10</a></td></tr>
<tr id="t2022-06-08T14:11:16"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">sotaoverride: basically, you insert an initramfs/initrd inside the kernel at compile time of the kernel</td><td class="time"><a href="#t2022-06-08T14:11:16" class="time">14:11</a></td></tr>
<tr id="t2022-06-08T14:11:29"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">when the kernel will boot, it'll load this initramfs in RAM and mount it as rootfs</td><td class="time"><a href="#t2022-06-08T14:11:29" class="time">14:11</a></td></tr>
<tr id="t2022-06-08T14:11:30"><th class="nick" style="background: #57a657">rfs613</th><td class="text" style="color: #57a657">ptsneves, sotaoverride: the issue is that rootfs (containing modules) has gotten updated, while the kenrel+dtb+overlays are on separate partition (VFAT) and did not update. hence the mismatch.</td><td class="time"><a href="#t2022-06-08T14:11:30" class="time">14:11</a></td></tr>
<tr id="t2022-06-08T14:11:55"><th class="nick" style="background: #57a657">rfs613</th><td class="text" style="color: #57a657">the fix is to eiterh update the VFAT to match, or to revert the rootfs update.</td><td class="time"><a href="#t2022-06-08T14:11:55" class="time">14:11</a></td></tr>
<tr id="t2022-06-08T14:12:02"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">sotaoverride: but since you don't want the rootfs fully in RAM (very limited in size, and also yuou lose all data between reboots)</td><td class="time"><a href="#t2022-06-08T14:12:02" class="time">14:12</a></td></tr>
<tr id="t2022-06-08T14:12:05"><th class="nick" style="background: #539e9e">ptsneves</th><td class="text" style="color: #539e9e">rfs613 yep, got it.</td><td class="time"><a href="#t2022-06-08T14:12:05" class="time">14:12</a></td></tr>
<tr id="t2022-06-08T14:12:07"><th class="nick" style="background: #57a657">rfs613</th><td class="text" style="color: #57a657">let's not make it more complicated by adding initramfs to the mix...</td><td class="time"><a href="#t2022-06-08T14:12:07" class="time">14:12</a></td></tr>
<tr id="t2022-06-08T14:12:27"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">sotaoverride: you need to mount another filesystem and replace the rootfs with it at runtime, that's what pivot_root/switch_root does</td><td class="time"><a href="#t2022-06-08T14:12:27" class="time">14:12</a></td></tr>
<tr id="t2022-06-08T14:12:51"><th class="nick" style="background: #a25555">sotaoverride</th><td class="text" style="color: #a25555">thank you thank you</td><td class="time"><a href="#t2022-06-08T14:12:51" class="time">14:12</a></td></tr>
<tr id="t2022-06-08T14:12:55"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">the kernel modules would be loaded from the initramfs</td><td class="time"><a href="#t2022-06-08T14:12:55" class="time">14:12</a></td></tr>
<tr id="t2022-06-08T14:13:00"><th class="nick" style="background: #539e9e">ptsneves</th><td class="text" style="color: #539e9e">rfs613 actaull what you suggest breaks the fallback ability. Unless you also have A/B kernel-dtb partition</td><td class="time"><a href="#t2022-06-08T14:13:00" class="time">14:13</a></td></tr>
<tr id="t2022-06-08T14:13:07"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">and still loaded in the kernel after doing the switch root</td><td class="time"><a href="#t2022-06-08T14:13:07" class="time">14:13</a></td></tr>
<tr id="t2022-06-08T14:13:25"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">I **think** that's what PC distros do? i don't remember exactly</td><td class="time"><a href="#t2022-06-08T14:13:25" class="time">14:13</a></td></tr>
<tr id="t2022-06-08T14:13:38"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">that's the theory</td><td class="time"><a href="#t2022-06-08T14:13:38" class="time">14:13</a></td></tr>
<tr id="t2022-06-08T14:13:40"><th class="nick" style="background: #57a657">rfs613</th><td class="text" style="color: #57a657">ptsneves: yes, true, because there is only one VFAT partition while there are two A/B rootfs... but it's not my design to fix ;-)</td><td class="time"><a href="#t2022-06-08T14:13:40" class="time">14:13</a></td></tr>
<tr id="t2022-06-08T14:13:50"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">I'm not saying it's actually the best idea for you</td><td class="time"><a href="#t2022-06-08T14:13:50" class="time">14:13</a></td></tr>
<tr id="t2022-06-08T14:14:01"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">and I also have no idea how to implement this in Yocto</td><td class="time"><a href="#t2022-06-08T14:14:01" class="time">14:14</a></td></tr>
<tr id="t2022-06-08T14:14:04"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">but I know it's possible</td><td class="time"><a href="#t2022-06-08T14:14:04" class="time">14:14</a></td></tr>
<tr id="t2022-06-08T14:14:12"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">because thatr's one of the ways for doing secure boot</td><td class="time"><a href="#t2022-06-08T14:14:12" class="time">14:14</a></td></tr>
<tr id="t2022-06-08T14:14:32"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">and I worked a bit on the implementation about 6 years ago</td><td class="time"><a href="#t2022-06-08T14:14:32" class="time">14:14</a></td></tr>
<tr id="t2022-06-08T14:14:39"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">but the kernel and yocto has changed a lot since :)</td><td class="time"><a href="#t2022-06-08T14:14:39" class="time">14:14</a></td></tr>
<tr id="t2022-06-08T14:14:47"><th class="nick" style="background: #539e9e">ptsneves</th><td class="text" style="color: #539e9e">i would just inline the module and be done with it</td><td class="time"><a href="#t2022-06-08T14:14:47" class="time">14:14</a></td></tr>
<tr id="t2022-06-08T14:15:00"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">yup same</td><td class="time"><a href="#t2022-06-08T14:15:00" class="time">14:15</a></td></tr>
<tr id="t2022-06-08T14:15:08"><th class="nick" style="background: #539e9e">ptsneves</th><td class="text" style="color: #539e9e">no more initramfs nor fallback issues</td><td class="time"><a href="#t2022-06-08T14:15:08" class="time">14:15</a></td></tr>
<tr id="t2022-06-08T14:15:14"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">i don't expect embedded platforms with the nouveau driver built-in :D</td><td class="time"><a href="#t2022-06-08T14:15:14" class="time">14:15</a></td></tr>
<tr id="t2022-06-08T14:15:21"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">so the kernel size should be reasonable</td><td class="time"><a href="#t2022-06-08T14:15:21" class="time">14:15</a></td></tr>
<tr id="t2022-06-08T14:15:56"><th class="nick" style="background: #5959a9">squid_game</th><td class="text" style="color: #5959a9">what is _${PN} on RDEPENDS_${PN} += &quot;bash&quot;?</td><td class="time"><a href="#t2022-06-08T14:15:56" class="time">14:15</a></td></tr>
<tr id="t2022-06-08T14:15:57"><th class="nick" style="background: #539e9e">ptsneves</th><td class="text" style="color: #539e9e">unless you cant do that due to license issues, you just found yourself exra work</td><td class="time"><a href="#t2022-06-08T14:15:57" class="time">14:15</a></td></tr>
<tr id="t2022-06-08T14:16:32"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">squid_game: PN is for &quot;package name&quot; but it happens to actually be the recipe name</td><td class="time"><a href="#t2022-06-08T14:16:32" class="time">14:16</a></td></tr>
<tr id="t2022-06-08T14:16:48"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">so if your recipe is named my-recipe_0.5.bb</td><td class="time"><a href="#t2022-06-08T14:16:48" class="time">14:16</a></td></tr>
<tr id="t2022-06-08T14:16:49"><th class="nick" style="background: #57a657">rfs613</th><td class="text" style="color: #57a657">ptsneves: compilng the module into kernel was also my first thought, but they use a vendor layer for the kernel, it has a defconfig (not config fragments), so he'd have to clone the defconfig and modify... and then update it it when the vendor does.</td><td class="time"><a href="#t2022-06-08T14:16:49" class="time">14:16</a></td></tr>
<tr id="t2022-06-08T14:16:59"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">RDEPENDS_${PN} will basically be RDEPENDS_my-recipe</td><td class="time"><a href="#t2022-06-08T14:16:59" class="time">14:16</a></td></tr>
<tr id="t2022-06-08T14:17:07"><th class="nick" style="background: #5959a9">squid_game</th><td class="text" style="color: #5959a9">qschulz, thanks a lot!</td><td class="time"><a href="#t2022-06-08T14:17:07" class="time">14:17</a></td></tr>
<tr id="t2022-06-08T14:17:32"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">squid_game: the catch being, that the name of the recipe is actually also the name of the main package (by default at least)</td><td class="time"><a href="#t2022-06-08T14:17:32" class="time">14:17</a></td></tr>
<tr id="t2022-06-08T14:17:39"><th class="nick" style="background: #539e9e">ptsneves</th><td class="text" style="color: #539e9e">rfs613 still feels the easiest way out</td><td class="time"><a href="#t2022-06-08T14:17:39" class="time">14:17</a></td></tr>
<tr id="t2022-06-08T14:18:22"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">squid_game: hence the confusion. recipe vs package is a very important difference (recipe is the input of a build, packages are the output in very very big overview of how bitbake works)</td><td class="time"><a href="#t2022-06-08T14:18:22" class="time">14:18</a></td></tr>
<tr id="t2022-06-08T14:19:25"><th class="nick" style="background: #57a657">rfs613</th><td class="text" style="color: #57a657">ptsneves: for a quick test yes, in the long term - they'll need to figure out how to deal with keepng the boot partition in sync wiht rootfs.</td><td class="time"><a href="#t2022-06-08T14:19:25" class="time">14:19</a></td></tr>
<tr id="t2022-06-08T14:20:11"><th class="nick" style="background: #5959a9">squid_game</th><td class="text" style="color: #5959a9">thanks for the explanation</td><td class="time"><a href="#t2022-06-08T14:20:11" class="time">14:20</a></td></tr>
<tr id="t2022-06-08T14:22:46"><th class="nick" style="background: #539e9e">ptsneves</th><td class="text" style="color: #539e9e">rfs613 i politely disagree. Any toil work just inlining the vendor code is much simpler and less error prone than whatever is required to keep the boot partition in sync. I have seen this &quot;toil&quot; and it is programmed into the schedule and manageable</td><td class="time"><a href="#t2022-06-08T14:22:46" class="time">14:22</a></td></tr>
<tr id="t2022-06-08T14:23:07"><th class="nick" style="background: #539e9e">ptsneves</th><td class="text" style="color: #539e9e">as vendor layer upgrades always require integration anyways</td><td class="time"><a href="#t2022-06-08T14:23:07" class="time">14:23</a></td></tr>
<tr id="t2022-06-08T14:23:24"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">vendor code exists to be removed anyways</td><td class="time"><a href="#t2022-06-08T14:23:24" class="time">14:23</a></td></tr>
<tr id="t2022-06-08T14:23:26"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">so just ditch it :D</td><td class="time"><a href="#t2022-06-08T14:23:26" class="time">14:23</a></td></tr>
<tr id="t2022-06-08T14:23:47"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">(only half joking)</td><td class="time"><a href="#t2022-06-08T14:23:47" class="time">14:23</a></td></tr>
<tr id="t2022-06-08T14:24:47"><th class="nick" style="background: #539e9e">ptsneves</th><td class="text" style="color: #539e9e">qschulz bad vendor integrations cost money and let the bean counters see and pressure sales peoples. If you come up with your own sync solution and it bricks devices in the field it will be your ass on the platter</td><td class="time"><a href="#t2022-06-08T14:24:47" class="time">14:24</a></td></tr>
<tr id="t2022-06-08T14:26:50"><th class="nick" style="background: #9b519b">gordon1</th><td class="text" style="color: #9b519b">well, i changed class to inherit image instead of inherit core-image, changed PACKAGE_INSTALL to IMAGE_INSTALL but it still completely ignores BAD_RECOMMENDATIONS</td><td class="time"><a href="#t2022-06-08T14:26:50" class="time">14:26</a></td></tr>
<tr id="t2022-06-08T14:26:52"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">(I was more in favor of removing the vendor layer and only hand pick what you actually need from it)</td><td class="time"><a href="#t2022-06-08T14:26:52" class="time">14:26</a></td></tr>
<tr id="t2022-06-08T14:27:25"><th class="nick" style="background: #9b519b">gordon1</th><td class="text" style="color: #9b519b">is here a particular IMAGE_FEATURE requred for BAD_RECOMMENDATIONS to work?</td><td class="time"><a href="#t2022-06-08T14:27:25" class="time">14:27</a></td></tr>
<tr id="t2022-06-08T14:28:07"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">gordon1: not that i know. slow PC here, waiting for it to finish building core-image-minimal with smartmontools enabled since I told you about 2 hours ago :D</td><td class="time"><a href="#t2022-06-08T14:28:07" class="time">14:28</a></td></tr>
<tr id="t2022-06-08T14:28:28"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">gordon1: you can always open a bug entry on our bugzilla</td><td class="time"><a href="#t2022-06-08T14:28:28" class="time">14:28</a></td></tr>
<tr id="t2022-06-08T14:28:32"><th class="nick" style="background: #9b519b">gordon1</th><td class="text" style="color: #9b519b">oh, thanks</td><td class="time"><a href="#t2022-06-08T14:28:32" class="time">14:28</a></td></tr>
<tr id="t2022-06-08T14:28:48"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">if you continue investigating or not does not matter, it's always nice to know there was a bug and it's fixed some time in the future</td><td class="time"><a href="#t2022-06-08T14:28:48" class="time">14:28</a></td></tr>
<tr id="t2022-06-08T14:28:50"><th class="nick" style="background: #9b519b">gordon1</th><td class="text" style="color: #9b519b">yes i could, just want to make sure it's a bug and not me being dumb</td><td class="time"><a href="#t2022-06-08T14:28:50" class="time">14:28</a></td></tr>
<tr id="t2022-06-08T14:29:11"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">gordon1: vanilla poky in kirsktone + vanilla meta-openemmebded/meta-oe</td><td class="time"><a href="#t2022-06-08T14:29:11" class="time">14:29</a></td></tr>
<tr id="t2022-06-08T14:29:28"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">nothing in local.conf except IMAGE_INSTALL:append and BAD_RECOMMENDATIONS</td><td class="time"><a href="#t2022-06-08T14:29:28" class="time">14:29</a></td></tr>
<tr id="t2022-06-08T14:29:37"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">if it reproduces, it's a bug I'm pretty certain</td><td class="time"><a href="#t2022-06-08T14:29:37" class="time">14:29</a></td></tr>
<tr id="t2022-06-08T14:29:49"><th class="nick" style="background: #9b519b">gordon1</th><td class="text" style="color: #9b519b">yes, that's pretty much that i have + my own small layer with kernel and machine definition</td><td class="time"><a href="#t2022-06-08T14:29:49" class="time">14:29</a></td></tr>
<tr id="t2022-06-08T14:30:04"><th class="nick" style="background: #9b519b">gordon1</th><td class="text" style="color: #9b519b">oh, and a distro, but it pretty much copy-pasted poky-tiny</td><td class="time"><a href="#t2022-06-08T14:30:04" class="time">14:30</a></td></tr>
<tr id="t2022-06-08T14:30:21"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">shouldn't take too long to test on vanilla everything</td><td class="time"><a href="#t2022-06-08T14:30:21" class="time">14:30</a></td></tr>
<tr id="t2022-06-08T14:30:28"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">poky + some qemu machine</td><td class="time"><a href="#t2022-06-08T14:30:28" class="time">14:30</a></td></tr>
<tr id="t2022-06-08T14:30:37"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">and at least we would know for sure</td><td class="time"><a href="#t2022-06-08T14:30:37" class="time">14:30</a></td></tr>
<tr id="t2022-06-08T14:30:44"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">and even better for the bug report, if it's reproducible on master stil</td><td class="time"><a href="#t2022-06-08T14:30:44" class="time">14:30</a></td></tr>
<tr id="t2022-06-08T14:30:47"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">l</td><td class="time"><a href="#t2022-06-08T14:30:47" class="time">14:30</a></td></tr>
<tr id="t2022-06-08T14:31:46"><th class="nick" style="background: #9b519b">gordon1</th><td class="text" style="color: #9b519b">yeah, that might be the case</td><td class="time"><a href="#t2022-06-08T14:31:46" class="time">14:31</a></td></tr>
<tr id="t2022-06-08T14:32:01"><th class="nick" style="background: #57a657">rfs613</th><td class="text" style="color: #57a657">ptsneves: in this particular case, it probably makes sense to investigate if the separate VFAT partiton can be eliminated, have the kernel+dtb+overlays on the rootfs (of which there are two A/B copies). That way each one is self contained. As they are using u-boot on arm64, I would not expect any difficulties (there's no CHS limits from a BIOS etc). Just a bit of effort to change the bootcmd to load from</td><td class="time"><a href="#t2022-06-08T14:32:01" class="time">14:32</a></td></tr>
<tr id="t2022-06-08T14:32:07"><th class="nick" style="background: #57a657">rfs613</th><td class="text" style="color: #57a657">ext4 rather than FAT, etc.</td><td class="time"><a href="#t2022-06-08T14:32:07" class="time">14:32</a></td></tr>
<tr id="t2022-06-08T14:32:57"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">rfs613: the issue with the same partition for kernel+rootfs is when you just need to fix something quick in the kernel</td><td class="time"><a href="#t2022-06-08T14:32:57" class="time">14:32</a></td></tr>
<tr id="t2022-06-08T14:33:02"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">then the whole update is the full rootfs</td><td class="time"><a href="#t2022-06-08T14:33:02" class="time">14:33</a></td></tr>
<tr id="t2022-06-08T14:33:15"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">pretty demanding on update servers</td><td class="time"><a href="#t2022-06-08T14:33:15" class="time">14:33</a></td></tr>
<tr id="t2022-06-08T14:33:30"><th class="nick" style="background: #57a657">rfs613</th><td class="text" style="color: #57a657">qschulz: yeah for development it is a different story</td><td class="time"><a href="#t2022-06-08T14:33:30" class="time">14:33</a></td></tr>
<tr id="t2022-06-08T14:33:37"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">not even development</td><td class="time"><a href="#t2022-06-08T14:33:37" class="time">14:33</a></td></tr>
<tr id="t2022-06-08T14:33:45"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">e.g. a security fix for production</td><td class="time"><a href="#t2022-06-08T14:33:45" class="time">14:33</a></td></tr>
<tr id="t2022-06-08T14:33:55"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">a small one-liner patch in the kernel or even a small fix in the dtb</td><td class="time"><a href="#t2022-06-08T14:33:55" class="time">14:33</a></td></tr>
<tr id="t2022-06-08T14:34:11"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">and you go from a few MB to a few hundreds of MB (or GB depending on your rootfs)</td><td class="time"><a href="#t2022-06-08T14:34:11" class="time">14:34</a></td></tr>
<tr id="t2022-06-08T14:34:17"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">anyways :)</td><td class="time"><a href="#t2022-06-08T14:34:17" class="time">14:34</a></td></tr>
<tr id="t2022-06-08T14:34:26"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">no perfect solution, hence why there are so many</td><td class="time"><a href="#t2022-06-08T14:34:26" class="time">14:34</a></td></tr>
<tr id="t2022-06-08T14:34:38"><th class="nick" style="background: #57a657">rfs613</th><td class="text" style="color: #57a657">qschulz: indeed</td><td class="time"><a href="#t2022-06-08T14:34:38" class="time">14:34</a></td></tr>
<tr id="t2022-06-08T14:39:24"><th class="nick" style="background: #539e9e">ptsneves</th><td class="text" style="color: #539e9e">like i said. a very interesting issue. Well if the bootloader supports non fat it is also a good choic</td><td class="time"><a href="#t2022-06-08T14:39:24" class="time">14:39</a></td></tr>
<tr id="t2022-06-08T14:50:24"><th class="nick" style="background: #4b904b">jclsn[m]</th><td class="text" style="color: #4b904b">qschulz: God, 22 emails from the patch from Steve Sakoman. This is where I really don't understand your approach on sending patches via email....</td><td class="time"><a href="#t2022-06-08T14:50:24" class="time">14:50</a></td></tr>
<tr id="t2022-06-08T14:51:21"><th class="nick" style="background: #539e9e">ptsneves</th><td class="text" style="color: #539e9e">jclsn[m] heh i just disable the digest. It is awful</td><td class="time"><a href="#t2022-06-08T14:51:21" class="time">14:51</a></td></tr>
<tr id="t2022-06-08T14:51:47"><th class="nick" style="background: #adad5b">sakoman</th><td class="text" style="color: #adad5b">jclsn[m]: and don't forget the 14 dunfell patches that followed the kirkstone set :-)</td><td class="time"><a href="#t2022-06-08T14:51:47" class="time">14:51</a></td></tr>
<tr id="t2022-06-08T14:52:37"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">jclsn[m]: you can disable the sending of mails on lists.yoctoproject.org</td><td class="time"><a href="#t2022-06-08T14:52:37" class="time">14:52</a></td></tr>
<tr id="t2022-06-08T14:52:43"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">I mean, receiving of mails</td><td class="time"><a href="#t2022-06-08T14:52:43" class="time">14:52</a></td></tr>
<tr id="t2022-06-08T14:52:47"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">and still be able to send some</td><td class="time"><a href="#t2022-06-08T14:52:47" class="time">14:52</a></td></tr>
<tr id="t2022-06-08T14:53:10"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">jclsn[m]: also, does not matter to me because I have collapsible threads enabled by default</td><td class="time"><a href="#t2022-06-08T14:53:10" class="time">14:53</a></td></tr>
<tr id="t2022-06-08T14:53:20-2"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">so it literally takes only one line on my mail client</td><td class="time"><a href="#t2022-06-08T14:53:20-2" class="time">14:53</a></td></tr>
<tr id="t2022-06-08T14:53:21"><td class="action" colspan="2">* JaMa was happy to receive them and review what's comming</td><td><a href="#t2022-06-08T14:53:21" class="time">14:53</a></td></tr>
<tr id="t2022-06-08T14:53:59"><th class="nick" style="background: #539e9e">ptsneves</th><td class="text" style="color: #539e9e">qschulz and then dont you lose the ability to see when there are updates?</td><td class="time"><a href="#t2022-06-08T14:53:59" class="time">14:53</a></td></tr>
<tr id="t2022-06-08T14:54:01"><th class="nick" style="background: #b15db1">JaMa</th><td class="text" style="color: #b15db1">better than useless e-mail notification from github that something was changed in some PR</td><td class="time"><a href="#t2022-06-08T14:54:01" class="time">14:54</a></td></tr>
<tr id="t2022-06-08T14:54:20"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">ptsneves: not sure to understand your question?</td><td class="time"><a href="#t2022-06-08T14:54:20" class="time">14:54</a></td></tr>
<tr id="t2022-06-08T14:55:58"><th class="nick" style="background: #539e9e">ptsneves</th><td class="text" style="color: #539e9e">if everything is collapsed i guess the only line visible in your email client, is the thread start. All others are folded and you do not see them</td><td class="time"><a href="#t2022-06-08T14:55:58" class="time">14:55</a></td></tr>
<tr id="t2022-06-08T14:56:21"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">ptsneves: yup</td><td class="time"><a href="#t2022-06-08T14:56:21" class="time">14:56</a></td></tr>
<tr id="t2022-06-08T14:56:46"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">but when I receive an answer to any of the mails of that thread, it pushes the thread at the top of my mailbox</td><td class="time"><a href="#t2022-06-08T14:56:46" class="time">14:56</a></td></tr>
<tr id="t2022-06-08T14:58:00"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">also, there's alittle arrow next to the first email in the thread, to uncollapse the whole thing and see each mail in the thread</td><td class="time"><a href="#t2022-06-08T14:58:00" class="time">14:58</a></td></tr>
<tr id="t2022-06-08T14:58:49"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">jclsn[m]: and we say thank you to sakoman for maintaing the lts branches :)</td><td class="time"><a href="#t2022-06-08T14:58:49" class="time">14:58</a></td></tr>
<tr id="t2022-06-08T15:00:47"><th class="nick" style="background: #adad5b">sakoman</th><td class="text" style="color: #adad5b">qschulz: you're welcome :-)</td><td class="time"><a href="#t2022-06-08T15:00:47" class="time">15:00</a></td></tr>
<tr id="t2022-06-08T15:00:58"><th class="nick" style="background: #539e9e">ptsneves</th><td class="text" style="color: #539e9e">sakoman Thanks! A task whose fruit is mostly enjoyed by for profits</td><td class="time"><a href="#t2022-06-08T15:00:58" class="time">15:00</a></td></tr>
<tr id="t2022-06-08T15:29:42"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">gordon1: just to be extra super duper sure, you see s-nail INSIDE your rootfs right?</td><td class="time"><a href="#t2022-06-08T15:29:42" class="time">15:29</a></td></tr>
<tr id="t2022-06-08T15:29:59"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">you're not complaining it gets built?</td><td class="time"><a href="#t2022-06-08T15:29:59" class="time">15:29</a></td></tr>
<tr id="t2022-06-08T15:30:08"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">(because those are two different things)</td><td class="time"><a href="#t2022-06-08T15:30:08" class="time">15:30</a></td></tr>
<tr id="t2022-06-08T15:30:16"><th class="nick" style="background: #9b519b">gordon1</th><td class="text" style="color: #9b519b">i do complain about it's being built</td><td class="time"><a href="#t2022-06-08T15:30:16" class="time">15:30</a></td></tr>
<tr id="t2022-06-08T15:30:21"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">ahah!</td><td class="time"><a href="#t2022-06-08T15:30:21" class="time">15:30</a></td></tr>
<tr id="t2022-06-08T15:30:28"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">then it's normal;</td><td class="time"><a href="#t2022-06-08T15:30:28" class="time">15:30</a></td></tr>
<tr id="t2022-06-08T15:30:43"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">I mean</td><td class="time"><a href="#t2022-06-08T15:30:43" class="time">15:30</a></td></tr>
<tr id="t2022-06-08T15:30:46"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">I think</td><td class="time"><a href="#t2022-06-08T15:30:46" class="time">15:30</a></td></tr>
<tr id="t2022-06-08T15:30:55"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">that's what would make sense to me</td><td class="time"><a href="#t2022-06-08T15:30:55" class="time">15:30</a></td></tr>
<tr id="t2022-06-08T15:31:21"><th class="nick" style="background: #9b519b">gordon1</th><td class="text" style="color: #9b519b">well, the issue is that it doesn't build and i don't care about it so much so i don't want to figure it out so i want to omit it entirely</td><td class="time"><a href="#t2022-06-08T15:31:21" class="time">15:31</a></td></tr>
<tr id="t2022-06-08T15:31:26"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">because BAD_RECOMMENDATIONS can be modified in an image recipe, and recipes cannot access other recipes' metadata (nor change it)</td><td class="time"><a href="#t2022-06-08T15:31:26" class="time">15:31</a></td></tr>
<tr id="t2022-06-08T15:32:07"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">it means that in order for bitbake to let the image recipe decide what to include or not, it needs to have created all the packages that might be included in an image</td><td class="time"><a href="#t2022-06-08T15:32:07" class="time">15:32</a></td></tr>
<tr id="t2022-06-08T15:32:24"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">so a package rrecommends something, means bitbake will build it &quot;just in case</td><td class="time"><a href="#t2022-06-08T15:32:24" class="time">15:32</a></td></tr>
<tr id="t2022-06-08T15:32:26"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">&quot;</td><td class="time"><a href="#t2022-06-08T15:32:26" class="time">15:32</a></td></tr>
<tr id="t2022-06-08T15:32:42"><th class="nick" style="background: #9b519b">gordon1</th><td class="text" style="color: #9b519b">oh god</td><td class="time"><a href="#t2022-06-08T15:32:42" class="time">15:32</a></td></tr>
<tr id="t2022-06-08T15:32:44"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">if you don't need it, it'll just not be installed, but still built</td><td class="time"><a href="#t2022-06-08T15:32:44" class="time">15:32</a></td></tr>
<tr id="t2022-06-08T15:32:45"><th class="nick" style="background: #9b519b">gordon1</th><td class="text" style="color: #9b519b">i see now</td><td class="time"><a href="#t2022-06-08T15:32:45" class="time">15:32</a></td></tr>
<tr id="t2022-06-08T15:33:02"><th class="nick" style="background: #9b519b">gordon1</th><td class="text" style="color: #9b519b">so i have to modify the recipe with bbappend for it not to be built?</td><td class="time"><a href="#t2022-06-08T15:33:02" class="time">15:33</a></td></tr>
<tr id="t2022-06-08T15:33:04"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">for the same reaon that all packages of a recipe are built even if you don't care about them</td><td class="time"><a href="#t2022-06-08T15:33:04" class="time">15:33</a></td></tr>
<tr id="t2022-06-08T15:33:07"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">gordon1: yup</td><td class="time"><a href="#t2022-06-08T15:33:07" class="time">15:33</a></td></tr>
<tr id="t2022-06-08T15:33:12"><th class="nick" style="background: #9b519b">gordon1</th><td class="text" style="color: #9b519b">i see</td><td class="time"><a href="#t2022-06-08T15:33:12" class="time">15:33</a></td></tr>
<tr id="t2022-06-08T15:33:30"><th class="nick" style="background: #9b519b">gordon1</th><td class="text" style="color: #9b519b">ok, good that i didn't report the bug then</td><td class="time"><a href="#t2022-06-08T15:33:30" class="time">15:33</a></td></tr>
<tr id="t2022-06-08T15:33:39"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">gordon1: actually, could you still report one?</td><td class="time"><a href="#t2022-06-08T15:33:39" class="time">15:33</a></td></tr>
<tr id="t2022-06-08T15:33:43"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">but for the documentation</td><td class="time"><a href="#t2022-06-08T15:33:43" class="time">15:33</a></td></tr>
<tr id="t2022-06-08T15:33:50"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">because this definitely needs to be explicit</td><td class="time"><a href="#t2022-06-08T15:33:50" class="time">15:33</a></td></tr>
<tr id="t2022-06-08T15:33:54"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">it's not straightforward</td><td class="time"><a href="#t2022-06-08T15:33:54" class="time">15:33</a></td></tr>
<tr id="t2022-06-08T15:34:02"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">and you're probably not the first one to ask yourself this question</td><td class="time"><a href="#t2022-06-08T15:34:02" class="time">15:34</a></td></tr>
<tr id="t2022-06-08T15:34:15"><th class="nick" style="background: #9b519b">gordon1</th><td class="text" style="color: #9b519b">i could but i don't have an account and it looks like registration is closed up</td><td class="time"><a href="#t2022-06-08T15:34:15" class="time">15:34</a></td></tr>
<tr id="t2022-06-08T15:34:35"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">(and considering that I took me that long to figure it out, that makes the two of us actually struggling with it... which is not good)</td><td class="time"><a href="#t2022-06-08T15:34:35" class="time">15:34</a></td></tr>
<tr id="t2022-06-08T15:35:00"><th class="nick" style="background: #9b519b">gordon1</th><td class="text" style="color: #9b519b">tried to register one just a moment ago</td><td class="time"><a href="#t2022-06-08T15:35:00" class="time">15:35</a></td></tr>
<tr id="t2022-06-08T15:35:04"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">gordon1: mmm I don't think it should be the case</td><td class="time"><a href="#t2022-06-08T15:35:04" class="time">15:35</a></td></tr>
<tr id="t2022-06-08T15:35:09"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">any specific error</td><td class="time"><a href="#t2022-06-08T15:35:09" class="time">15:35</a></td></tr>
<tr id="t2022-06-08T15:35:17"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">or are you waiting for your confirmation mail or something?</td><td class="time"><a href="#t2022-06-08T15:35:17" class="time">15:35</a></td></tr>
<tr id="t2022-06-08T15:35:22"><th class="nick" style="background: #9b519b">gordon1</th><td class="text" style="color: #9b519b">you're talking about <a href="https://bugzilla.yoctoproject.org/" rel="nofollow">https://bugzilla.yoctoproject.org/</a> ?</td><td class="time"><a href="#t2022-06-08T15:35:22" class="time">15:35</a></td></tr>
<tr id="t2022-06-08T15:35:25"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">(so I know if we ping IT or not)</td><td class="time"><a href="#t2022-06-08T15:35:25" class="time">15:35</a></td></tr>
<tr id="t2022-06-08T15:35:27"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">gordon1: yes</td><td class="time"><a href="#t2022-06-08T15:35:27" class="time">15:35</a></td></tr>
<tr id="t2022-06-08T15:35:52"><th class="nick" style="background: #9b519b">gordon1</th><td class="text" style="color: #9b519b">&gt;Account creation is disabled due to recent spam attacks.</td><td class="time"><a href="#t2022-06-08T15:35:52" class="time">15:35</a></td></tr>
<tr id="t2022-06-08T15:36:04"><th class="nick" style="background: #9b519b">gordon1</th><td class="text" style="color: #9b519b">i could email to the address it tells me to</td><td class="time"><a href="#t2022-06-08T15:36:04" class="time">15:36</a></td></tr>
<tr id="t2022-06-08T15:37:54"><th class="nick" style="background: #9b519b">gordon1</th><td class="text" style="color: #9b519b">but it looks like it will take a while since it's human processed</td><td class="time"><a href="#t2022-06-08T15:37:54" class="time">15:37</a></td></tr>
<tr id="t2022-06-08T15:39:30"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">halstead: is it ok to reopen the registration for bugzilla?</td><td class="time"><a href="#t2022-06-08T15:39:30" class="time">15:39</a></td></tr>
<tr id="t2022-06-08T15:39:33"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">halstead: hi :)</td><td class="time"><a href="#t2022-06-08T15:39:33" class="time">15:39</a></td></tr>
<tr id="t2022-06-08T15:39:57"><th class="nick" style="background: #9b519b">gordon1</th><td class="text" style="color: #9b519b">already sent the mail</td><td class="time"><a href="#t2022-06-08T15:39:57" class="time">15:39</a></td></tr>
<tr id="t2022-06-08T15:40:30"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">same person behind I assume :)</td><td class="time"><a href="#t2022-06-08T15:40:30" class="time">15:40</a></td></tr>
<tr id="t2022-06-08T15:40:34"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">so &quot;double&quot; ping :)</td><td class="time"><a href="#t2022-06-08T15:40:34" class="time">15:40</a></td></tr>
<tr id="t2022-06-08T15:40:44"><th class="nick" style="background: #9b519b">gordon1</th><td class="text" style="color: #9b519b">i see</td><td class="time"><a href="#t2022-06-08T15:40:44" class="time">15:40</a></td></tr>
<tr id="t2022-06-08T15:57:58"><td class="nickchange" colspan="2">*** TundraMan is now known as marka</td><td><a href="#t2022-06-08T15:57:58" class="time">15:57</a></td></tr>
<tr id="t2022-06-08T16:00:12"><th class="nick" style="background: #5fb4b4">fray</th><td class="text" style="color: #5fb4b4">trying to help someone, they're getting the PR service error about PRs going backwards.&nbsp;&nbsp;I know there is a switch they can flip so PRs never go backwards, but I can't find it.. anyone point me to it?</td><td class="time"><a href="#t2022-06-08T16:00:12" class="time">16:00</a></td></tr>
<tr id="t2022-06-08T16:03:30"><th class="nick" style="background: #b86161">Saur[m]</th><td class="text" style="color: #b86161">@fray: I actually think it is supposed to be enabled by default. Though it definitely doesn't work as I expect. I went looking for that switch a while ago and I found the code that was added to support it. That code was enabled by default, but no switch was actually added to turn it off...</td><td class="time"><a href="#t2022-06-08T16:03:30" class="time">16:03</a></td></tr>
<tr id="t2022-06-08T16:10:35"><th class="nick" style="background: #5fb4b4">fray</th><td class="text" style="color: #5fb4b4">there used to be a setting you could flip that would just always keep the PR going forward... (I'm on Honister BTW)</td><td class="time"><a href="#t2022-06-08T16:10:35" class="time">16:10</a></td></tr>
<tr id="t2022-06-08T16:25:02"><th class="nick" style="background: #62bb62">shoragan</th><td class="text" style="color: #62bb62">fray, perhaps <a href="https://docs.yoctoproject.org/singleindex.html#working-with-a-pr-service" rel="nofollow">https://docs.yoctoproject.org/singleindex.html#working-with-a-pr-service</a> ?</td><td class="time"><a href="#t2022-06-08T16:25:02" class="time">16:25</a></td></tr>
<tr id="t2022-06-08T16:27:12"><th class="nick" style="background: #b86161">Saur[m]</th><td class="text" style="color: #b86161">fray: That's what RP said as well when I asked for this, but the Git logs don't agree. What I can find is commit 379567ee879dcdc09a51f7f1212bde1076147a6f in bitbake. It adds what it calls &quot;no history&quot; mode, which is supposed to prevent the PRs from going backwards. It also enables this mode. However, there is no switch to actually turn it off.</td><td class="time"><a href="#t2022-06-08T16:27:12" class="time">16:27</a></td></tr>
<tr id="t2022-06-08T16:31:23"><th class="nick" style="background: #b86161">Saur[m]</th><td class="text" style="color: #b86161">From the wiki page for the PR server:</td><td class="time"><a href="#t2022-06-08T16:31:23" class="time">16:31</a></td></tr>
<tr id="t2022-06-08T16:31:24"><th class="nick" style="background: #b86161">Saur[m]</th><td class="text" style="color: #b86161">database wrapper object supports two working modes, &quot;hist: Preserve PR history&quot; and &quot;no_hist: Don't use history (delete old entries from the database)&quot;</td><td class="time"><a href="#t2022-06-08T16:31:24" class="time">16:31</a></td></tr>
<tr id="t2022-06-08T16:31:24-2"><th class="nick" style="background: #b86161">Saur[m]</th><td class="text" style="color: #b86161">currently the server forces the no_hist=True value, forcing no_hist mode.</td><td class="time"><a href="#t2022-06-08T16:31:24-2" class="time">16:31</a></td></tr>
<tr id="t2022-06-08T16:32:00"><th class="nick" style="background: #62bb62">shoragan</th><td class="text" style="color: #62bb62">fray, which release are they using?</td><td class="time"><a href="#t2022-06-08T16:32:00" class="time">16:32</a></td></tr>
<tr id="t2022-06-08T16:32:58"><td class="nickchange" colspan="2">*** mckoan is now known as mckoan|away</td><td><a href="#t2022-06-08T16:32:58" class="time">16:32</a></td></tr>
<tr id="t2022-06-08T16:33:09"><th class="nick" style="background: #62bb62">shoragan</th><td class="text" style="color: #62bb62">ah, 3795... is from 2012.</td><td class="time"><a href="#t2022-06-08T16:33:09" class="time">16:33</a></td></tr>
<tr id="t2022-06-08T16:45:13"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">Saur[m]: regardless of the git logs, we probably should make this possible</td><td class="time"><a href="#t2022-06-08T16:45:13" class="time">16:45</a></td></tr>
<tr id="t2022-06-08T16:46:40"><th class="nick" style="background: #b86161">Saur[m]</th><td class="text" style="color: #b86161">RP: Well, the problem I see is: why are the PRs going backwards when they are not supposed to with the current mode?</td><td class="time"><a href="#t2022-06-08T16:46:40" class="time">16:46</a></td></tr>
<tr id="t2022-06-08T16:47:51"><th class="nick" style="background: #b86161">Saur[m]</th><td class="text" style="color: #b86161">I know I started digging into it, but then I of course got side tracked and forgot about it.</td><td class="time"><a href="#t2022-06-08T16:47:51" class="time">16:47</a></td></tr>
<tr id="t2022-06-08T16:52:00"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">Saur[m]: I don't remember enough of the details to comment sensibly</td><td class="time"><a href="#t2022-06-08T16:52:00" class="time">16:52</a></td></tr>
<tr id="t2022-06-08T16:52:42"><th class="nick" style="background: #b86161">Saur[m]</th><td class="text" style="color: #b86161">No worries.</td><td class="time"><a href="#t2022-06-08T16:52:42" class="time">16:52</a></td></tr>
<tr id="t2022-06-08T16:52:56"><th class="nick" style="background: #5fb4b4">fray</th><td class="text" style="color: #5fb4b4">PRs go backwards when developers are making local changes.&nbsp;&nbsp;I would never &quot;disable&quot; the warning in a production environment, but for a single developer it can make sense</td><td class="time"><a href="#t2022-06-08T16:52:56" class="time">16:52</a></td></tr>
<tr id="t2022-06-08T16:53:46"><th class="nick" style="background: #5fb4b4">fray</th><td class="text" style="color: #5fb4b4">thing of it this way.&nbsp;&nbsp; I'm developing, initial build is PR=0... I try something (change a kernel config) kernel becomes PR=1... I figure out what I did doesn't make sense, and go back to the origina config.. PR=0, error is kicked off..</td><td class="time"><a href="#t2022-06-08T16:53:46" class="time">16:53</a></td></tr>
<tr id="t2022-06-08T16:54:01"><th class="nick" style="background: #5fb4b4">fray</th><td class="text" style="color: #5fb4b4">in a &quot;real&quot; production environmnet.. you would want a PR=2, and force it by making a change..</td><td class="time"><a href="#t2022-06-08T16:54:01" class="time">16:54</a></td></tr>
<tr id="t2022-06-08T16:54:14"><th class="nick" style="background: #5fb4b4">fray</th><td class="text" style="color: #5fb4b4">in a &quot;dev&quot; environmnet, you just want the system to say &quot;ya, just make it PR=2 for now&quot;</td><td class="time"><a href="#t2022-06-08T16:54:14" class="time">16:54</a></td></tr>
<tr id="t2022-06-08T16:54:16"><th class="nick" style="background: #6464bf">halstead</th><td class="text" style="color: #6464bf">gordon1: All set. We processed accounts just before your request so there was a delay.</td><td class="time"><a href="#t2022-06-08T16:54:16" class="time">16:54</a></td></tr>
<tr id="t2022-06-08T16:55:57"><th class="nick" style="background: #9b519b">gordon1</th><td class="text" style="color: #9b519b">thanks</td><td class="time"><a href="#t2022-06-08T16:55:57" class="time">16:55</a></td></tr>
<tr id="t2022-06-08T17:02:04"><th class="nick" style="background: #b86161">Saur[m]</th><td class="text" style="color: #b86161">Something else related to PRs going backwards is that it seems to happen way more often with Honister and later. So much so that I had to turn the error into a warning (we don't use package feeds so it should not be a real problem). Typically I often get a gazillion packages with PRs going backwards when setscene is running. And no I have not had time to look into this either yet, which is why I just made it a warning.</td><td class="time"><a href="#t2022-06-08T17:02:04" class="time">17:02</a></td></tr>
<tr id="t2022-06-08T17:06:44"><th class="nick" style="background: #c3c366">kergoth</th><td class="text" style="color: #c3c366">Any use of sstate in development can result in them going backwards. make a cahnge, do a build, drop the change, do another build, it just went backwards.</td><td class="time"><a href="#t2022-06-08T17:06:44" class="time">17:06</a></td></tr>
<tr id="t2022-06-08T17:07:00"><th class="nick" style="background: #c3c366">kergoth</th><td class="text" style="color: #c3c366">I just ignore that qa check entirely during development, just not in our automated builds</td><td class="time"><a href="#t2022-06-08T17:07:00" class="time">17:07</a></td></tr>
<tr id="t2022-06-08T17:07:59"><th class="nick" style="background: #b86161">Saur[m]</th><td class="text" style="color: #b86161">kergoth: But according to the (limited) documentation about the no_hist mode indicates that it should still go forward in that case.</td><td class="time"><a href="#t2022-06-08T17:07:59" class="time">17:07</a></td></tr>
<tr id="t2022-06-08T17:08:20"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">Saur[m]: kergoth has a good point. pr_serv predates sstate so the docs for prserv wouldn't know anything about this</td><td class="time"><a href="#t2022-06-08T17:08:20" class="time">17:08</a></td></tr>
<tr id="t2022-06-08T17:08:25"><th class="nick" style="background: #b86161">Saur[m]</th><td class="text" style="color: #b86161">But obviously it doesn't, so there must be something that I still haven't figured out about how the PR server works.</td><td class="time"><a href="#t2022-06-08T17:08:25" class="time">17:08</a></td></tr>
<tr id="t2022-06-08T17:08:49"><th class="nick" style="background: #b86161">Saur[m]</th><td class="text" style="color: #b86161">Hmm, good point.</td><td class="time"><a href="#t2022-06-08T17:08:49" class="time">17:08</a></td></tr>
<tr id="t2022-06-08T17:08:57"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">Saur[m]: the key thing is that prserv predates sstate by many years. When we added sstate it probably changed behaviour</td><td class="time"><a href="#t2022-06-08T17:08:57" class="time">17:08</a></td></tr>
<tr id="t2022-06-08T17:09:20"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">in fact I'm pretty sure that was what we concluded last time we discussed this</td><td class="time"><a href="#t2022-06-08T17:09:20" class="time">17:09</a></td></tr>
<tr id="t2022-06-08T17:11:07"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">kergoth: what a strange world our builds used to be :)</td><td class="time"><a href="#t2022-06-08T17:11:07" class="time">17:11</a></td></tr>
<tr id="t2022-06-08T17:11:20"><td class="action" colspan="2">* RP suspects the lack of sstate and rss would drive people insane now</td><td><a href="#t2022-06-08T17:11:20" class="time">17:11</a></td></tr>
<tr id="t2022-06-08T17:12:29"><th class="nick" style="background: #b86161">Saur[m]</th><td class="text" style="color: #b86161">Well, sstate was there before me, so I don't want to think about a world without it. But the lack of RSS I can definitely relate to, and what a pain it was.</td><td class="time"><a href="#t2022-06-08T17:12:29" class="time">17:12</a></td></tr>
<tr id="t2022-06-08T17:13:27"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">Saur[m]: imagine pre sysroots where you coded a do_install and a do_stage for the &quot;sysroot&quot; before sysroots were a thing too :)</td><td class="time"><a href="#t2022-06-08T17:13:27" class="time">17:13</a></td></tr>
<tr id="t2022-06-08T17:14:15"><th class="nick" style="background: #b86161">Saur[m]</th><td class="text" style="color: #b86161">la la la I'm going to go debug something la la la</td><td class="time"><a href="#t2022-06-08T17:14:15" class="time">17:14</a></td></tr>
<tr id="t2022-06-08T17:14:20"><th class="nick" style="background: #b86161">Saur[m]</th><td class="text" style="color: #b86161">;)</td><td class="time"><a href="#t2022-06-08T17:14:20" class="time">17:14</a></td></tr>
<tr id="t2022-06-08T17:14:36"><td class="action" colspan="2">* RP probably should tell horror stories</td><td><a href="#t2022-06-08T17:14:36" class="time">17:14</a></td></tr>
<tr id="t2022-06-08T17:14:40"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">shouldn't</td><td class="time"><a href="#t2022-06-08T17:14:40" class="time">17:14</a></td></tr>
<tr id="t2022-06-08T17:15:01"><th class="nick" style="background: #b86161">Saur[m]</th><td class="text" style="color: #b86161">:)</td><td class="time"><a href="#t2022-06-08T17:15:01" class="time">17:15</a></td></tr>
<tr id="t2022-06-08T17:15:25"><th class="nick" style="background: #b86161">Saur[m]</th><td class="text" style="color: #b86161">RP, the next Stephen King</td><td class="time"><a href="#t2022-06-08T17:15:25" class="time">17:15</a></td></tr>
<tr id="t2022-06-08T17:16:58"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">fray: so short answer is that sstate changed the behaviour and nobody has unwound this</td><td class="time"><a href="#t2022-06-08T17:16:58" class="time">17:16</a></td></tr>
<tr id="t2022-06-08T17:17:15"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">I suspect we're not even sure how you unwind that</td><td class="time"><a href="#t2022-06-08T17:17:15" class="time">17:17</a></td></tr>
<tr id="t2022-06-08T17:18:23"><th class="nick" style="background: #5fb4b4">fray</th><td class="text" style="color: #5fb4b4">like hashequiv, prservice really needs to be &quot;built into&quot; sstate IMHO.. they shouldn't be separable..</td><td class="time"><a href="#t2022-06-08T17:18:23" class="time">17:18</a></td></tr>
<tr id="t2022-06-08T17:18:27"><th class="nick" style="background: #5fb4b4">fray</th><td class="text" style="color: #5fb4b4">the &quot;how&quot;, I don't know</td><td class="time"><a href="#t2022-06-08T17:18:27" class="time">17:18</a></td></tr>
<tr id="t2022-06-08T17:18:52"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">fray: that is the opposite of what you said you want above though</td><td class="time"><a href="#t2022-06-08T17:18:52" class="time">17:18</a></td></tr>
<tr id="t2022-06-08T17:19:19"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">fray: sstate is likely restoring the PR to a previous point. You want it to always rebuild</td><td class="time"><a href="#t2022-06-08T17:19:19" class="time">17:19</a></td></tr>
<tr id="t2022-06-08T17:27:41"><th class="nick" style="background: #5fb4b4">fray</th><td class="text" style="color: #5fb4b4">I'm saying they're linked..</td><td class="time"><a href="#t2022-06-08T17:27:41" class="time">17:27</a></td></tr>
<tr id="t2022-06-08T17:27:51"><th class="nick" style="background: #5fb4b4">fray</th><td class="text" style="color: #5fb4b4">for the &quot;Dev&quot; case, we just need to deal with it..</td><td class="time"><a href="#t2022-06-08T17:27:51" class="time">17:27</a></td></tr>
<tr id="t2022-06-08T17:28:19"><th class="nick" style="background: #5fb4b4">fray</th><td class="text" style="color: #5fb4b4">deal with it may be error -&gt; warning..&nbsp;&nbsp;force PR to increment and thus the package_write... sstate to update (somehow)..</td><td class="time"><a href="#t2022-06-08T17:28:19" class="time">17:28</a></td></tr>
<tr id="t2022-06-08T17:28:26"><th class="nick" style="background: #5fb4b4">fray</th><td class="text" style="color: #5fb4b4">again, I have no actual answer..</td><td class="time"><a href="#t2022-06-08T17:28:26" class="time">17:28</a></td></tr>
<tr id="t2022-06-08T17:29:13"><th class="nick" style="background: #5fb4b4">fray</th><td class="text" style="color: #5fb4b4">right now we have something that works for the production case (might be somewhat difficult to keep it in sync, but it works)... it's the dev case where &quot;let me know, but I don't care&quot; that we don't have a great answer for..</td><td class="time"><a href="#t2022-06-08T17:29:13" class="time">17:29</a></td></tr>
<tr id="t2022-06-08T17:29:37"><th class="nick" style="background: #5fb4b4">fray</th><td class="text" style="color: #5fb4b4">I think I'm going ot tell the person who asked me to move the error to a warning in the buildhistory then.</td><td class="time"><a href="#t2022-06-08T17:29:37" class="time">17:29</a></td></tr>
<tr id="t2022-06-08T17:31:51"><th class="nick" style="background: #5fb4b4">fray</th><td class="text" style="color: #5fb4b4">I (think) we all agree it's absolutely an error in the production case.. but could be considered a warning when doing development, unless you are using the packages themselves for on-target updates..</td><td class="time"><a href="#t2022-06-08T17:31:51" class="time">17:31</a></td></tr>
<tr id="t2022-06-08T17:35:58"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">fray: that &quot;let me know, I don't care&quot; is pretty much what today's warning is</td><td class="time"><a href="#t2022-06-08T17:35:58" class="time">17:35</a></td></tr>
<tr id="t2022-06-08T17:36:25"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">you can make it a warning, error or ignored by the WARN_QA and ERROR_QA settings</td><td class="time"><a href="#t2022-06-08T17:36:25" class="time">17:36</a></td></tr>
<tr id="t2022-06-08T17:57:53"><th class="nick" style="background: #b15db1">JaMa</th><td class="text" style="color: #b15db1">RP: are you sure prserv predates sstate? I think it predates only rss and hashequiv, but not sstate itself</td><td class="time"><a href="#t2022-06-08T17:57:53" class="time">17:57</a></td></tr>
<tr id="t2022-06-08T17:58:35"><th class="nick" style="background: #b15db1">JaMa</th><td class="text" style="color: #b15db1">RP: thanks for that sre_constants change</td><td class="time"><a href="#t2022-06-08T17:58:35" class="time">17:58</a></td></tr>
<tr id="t2022-06-08T18:04:32"><th class="nick" style="background: #b15db1">JaMa</th><td class="text" style="color: #b15db1"><a href="https://git.openembedded.org/openembedded-core/commit/?id=f070ee959c8eb4d49f820ec46f22be221b46485a" rel="nofollow">https://git.openembedded.org/openembedded-core/commit/?id=f070ee959c8eb4d49f820ec46f22be221b46485a</a> in 2010 and <a href="https://git.openembedded.org/bitbake/commit/?id=4d0e79e5" rel="nofollow">https://git.openembedded.org/bitbake/commit/?id=4d0e79e5</a> in 2011</td><td class="time"><a href="#t2022-06-08T18:04:32" class="time">18:04</a></td></tr>
<tr id="t2022-06-08T18:09:26"><th class="nick" style="background: #b15db1">JaMa</th><td class="text" style="color: #b15db1">and OEBasicHash used by default in oe-core since 2012 <a href="https://git.openembedded.org/openembedded-core/commit/?id=4199efed48005a62267fa3374c33b13627d85f44" rel="nofollow">https://git.openembedded.org/openembedded-core/commit/?id=4199efed48005a62267fa3374c33b13627d85f44</a> a bit sooner in poky since 3a2338607bdd84db5f164801b6c0016226559569 merged in Feb 2012</td><td class="time"><a href="#t2022-06-08T18:09:26" class="time">18:09</a></td></tr>
<tr id="t2022-06-08T18:10:07"><td class="action" colspan="2">* JaMa feels old without even looking in mtn history</td><td><a href="#t2022-06-08T18:10:07" class="time">18:10</a></td></tr>
<tr id="t2022-06-08T18:32:54"><th class="nick" style="background: #c668c6">jsbronder</th><td class="text" style="color: #c668c6">Anyone have DL_DIR on nfs and bind-mounting into docker/podman?&nbsp;&nbsp;Git's new permission checks aren't happy with the way I'm binding and I'm not sure if there's an easy way out.</td><td class="time"><a href="#t2022-06-08T18:32:54" class="time">18:32</a></td></tr>
<tr id="t2022-06-08T19:23:55"><th class="nick" style="background: #c668c6">jsbronder</th><td class="text" style="color: #c668c6">Actually adding GIT_DIR=. or --git-dir=. to FETCHCMD_git appears to work.</td><td class="time"><a href="#t2022-06-08T19:23:55" class="time">19:23</a></td></tr>
<tr id="t2022-06-08T19:24:32"><th class="nick" style="background: #c668c6">jsbronder</th><td class="text" style="color: #c668c6">Which is the hack I first used before the git intercept was added.</td><td class="time"><a href="#t2022-06-08T19:24:32" class="time">19:24</a></td></tr>
<tr id="t2022-06-08T20:23:22"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">JaMa: prserv was written by Intel PRC team iirc</td><td class="time"><a href="#t2022-06-08T20:23:22" class="time">20:23</a></td></tr>
<tr id="t2022-06-08T20:26:09"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">JaMa: looks like sstate was Aug 2010 which is older than I thought, prserv was May 2011</td><td class="time"><a href="#t2022-06-08T20:26:09" class="time">20:26</a></td></tr>
<tr id="t2022-06-08T20:28:12"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">JaMa: I guess I was thinking prserv in 2010 and siggen hashes in 2012</td><td class="time"><a href="#t2022-06-08T20:28:12" class="time">20:28</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2022-06-07.log.html">&#171; Tuesday, 2022-06-07</a> <a href="index.html">Index</a> <a href="%23yocto.2022-06-09.log.html">Thursday, 2022-06-09 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.17.2 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="https://mg.pov.lt/irclog2html/">https://mg.pov.lt/irclog2html/</a>!</p>
</div>
</body>
</html>
