<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Friday, 2022-05-20</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.17.2 by Marius Gedminas" />
  <meta name="version" content="2.17.2 - 2019-04-23" />
</head>
<body>
<h1>Friday, 2022-05-20</h1>
<div class="navigation"> <a href="%23yocto.2022-05-19.log.html">&#171; Thursday, 2022-05-19</a> <a href="index.html">Index</a> <a href="%23yocto.2022-05-21.log.html">Saturday, 2022-05-21 &#187;</a> </div>
<table class="irclog">
<tr id="t2022-05-20T06:23:06"><td class="nickchange" colspan="2">*** mckoan|away is now known as mckoan</td><td><a href="#t2022-05-20T06:23:06" class="time">06:23</a></td></tr>
<tr id="t2022-05-20T06:23:16"><th class="nick" style="background: #407a40">mckoan</th><td class="text" style="color: #407a40">good morning</td><td class="time"><a href="#t2022-05-20T06:23:16" class="time">06:23</a></td></tr>
<tr id="t2022-05-20T07:51:19"><th class="nick" style="background: #42427e">thomas__</th><td class="text" style="color: #42427e">good morning</td><td class="time"><a href="#t2022-05-20T07:51:19" class="time">07:51</a></td></tr>
<tr id="t2022-05-20T07:51:40"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">yo dudX</td><td class="time"><a href="#t2022-05-20T07:51:40" class="time">07:51</a></td></tr>
<tr id="t2022-05-20T08:12:27"><th class="nick" style="background: #854685">wCPO</th><td class="text" style="color: #854685">have anyone experienced issues with Yocto and Golang recipes? Where Go tries to use ipv6 to fetch the modules and fails due to ipv6 not being enabled on the host?</td><td class="time"><a href="#t2022-05-20T08:12:27" class="time">08:12</a></td></tr>
<tr id="t2022-05-20T08:17:20"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">wCPO: we are using golong, but not witnessed that yet. please note that the folks who are active in that area are probably more active in 5 hrs or so, due to timezones.</td><td class="time"><a href="#t2022-05-20T08:17:20" class="time">08:17</a></td></tr>
<tr id="t2022-05-20T08:29:37"><th class="nick" style="background: #854685">wCPO</th><td class="text" style="color: #854685">My bad, I should have read the changelog more carefully: &quot;Network access from tasks is now disabled by default on kernels which support this feature (on most recent distros such as CentOS 8 and Debian 11 onwards). This means that tasks accessing the network need to be marked as such with the network flag. For example:&quot;</td><td class="time"><a href="#t2022-05-20T08:29:37" class="time">08:29</a></td></tr>
<tr id="t2022-05-20T10:02:16"><th class="nick" style="background: #488888">mrybczyn[m]</th><td class="text" style="color: #488888">zwelch: we can assume you have the buggy version. Please re-check after the kirkstone update Steve is talking about</td><td class="time"><a href="#t2022-05-20T10:02:16" class="time">10:02</a></td></tr>
<tr id="t2022-05-20T10:17:10"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">we're seeing a weird problem when building a go package via external source, essentially &quot;fatal: unsafe repository ('/builds/Northern.tech/Mender/go/src/github.com/mendersoftware/mender' is owned by someone else)&quot;. does this ring a bell for anybody?</td><td class="time"><a href="#t2022-05-20T10:17:10" class="time">10:17</a></td></tr>
<tr id="t2022-05-20T10:20:42"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">which tasks do run under pseudo/fakeroot?</td><td class="time"><a href="#t2022-05-20T10:20:42" class="time">10:20</a></td></tr>
<tr id="t2022-05-20T10:22:35"><th class="nick" style="background: #8c4a4a">JaMa</th><td class="text" style="color: #8c4a4a">LetoThe2nd: it's the new git feature right? maybe external source doesn't use the git intercept script?</td><td class="time"><a href="#t2022-05-20T10:22:35" class="time">10:22</a></td></tr>
<tr id="t2022-05-20T10:23:15"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">JaMa: no, thats what we also thought, but its an &quot;old&quot; one, in a ci pipeline.</td><td class="time"><a href="#t2022-05-20T10:23:15" class="time">10:23</a></td></tr>
<tr id="t2022-05-20T10:30:37"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">which tasks in a recipe are running under pseudo/fakeroot?</td><td class="time"><a href="#t2022-05-20T10:30:37" class="time">10:30</a></td></tr>
<tr id="t2022-05-20T10:32:55"><th class="nick" style="background: #4b904b">ptsneves</th><td class="text" style="color: #4b904b">if i remember yesterday's presentation do_install</td><td class="time"><a href="#t2022-05-20T10:32:55" class="time">10:32</a></td></tr>
<tr id="t2022-05-20T11:09:43"><th class="nick" style="background: #4d4d93">manuel</th><td class="text" style="color: #4d4d93">Am building on a 8GB RAM machine and build start failing more and more often. Should 16gb remain enough for some time, or should I go to 24gb rightaway?</td><td class="time"><a href="#t2022-05-20T11:09:43" class="time">11:09</a></td></tr>
<tr id="t2022-05-20T11:12:28"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">manuel: 8GB is really on the low side. Putting more RAM cannot hurt</td><td class="time"><a href="#t2022-05-20T11:12:28" class="time">11:12</a></td></tr>
<tr id="t2022-05-20T11:12:47"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">(more CPU cores is a different story many people here will be able to tell (not me :) )</td><td class="time"><a href="#t2022-05-20T11:12:47" class="time">11:12</a></td></tr>
<tr id="t2022-05-20T11:14:01"><th class="nick" style="background: #97974f">qschulz</th><td class="text" style="color: #97974f">otherwise you can try to lower the number of threads for bitbake/make so that you have less tasks eating your RAM (qt for example is notorious for eating a lot during compilation)</td><td class="time"><a href="#t2022-05-20T11:14:01" class="time">11:14</a></td></tr>
<tr id="t2022-05-20T11:35:25"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">manuel: how failing? low ram/cores just mean the build takes longer.</td><td class="time"><a href="#t2022-05-20T11:35:25" class="time">11:35</a></td></tr>
<tr id="t2022-05-20T11:35:38"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">unless you're talking about eg webkit running out of memory to compile</td><td class="time"><a href="#t2022-05-20T11:35:38" class="time">11:35</a></td></tr>
<tr id="t2022-05-20T11:36:11"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">in which case yeah you need more ram, a few programs need fast amount of ram to link</td><td class="time"><a href="#t2022-05-20T11:36:11" class="time">11:36</a></td></tr>
<tr id="t2022-05-20T11:36:48"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">if you're adding ram then the more ram the better, as it will get used as disk cache. buy as much as you can justify</td><td class="time"><a href="#t2022-05-20T11:36:48" class="time">11:36</a></td></tr>
<tr id="t2022-05-20T11:37:34"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">of course if you mean 'during a big build my machine crashes' then that's bad ram which yocto is demonstrating by actually using all of it</td><td class="time"><a href="#t2022-05-20T11:37:34" class="time">11:37</a></td></tr>
<tr id="t2022-05-20T11:46:21"><th class="nick" style="background: #539e9e">kanavin</th><td class="text" style="color: #539e9e">given that g++ processes can take 1Gb of RAM each, 8 GB of it is really too low even for a 4 core/8 thread machine</td><td class="time"><a href="#t2022-05-20T11:46:21" class="time">11:46</a></td></tr>
<tr id="t2022-05-20T11:52:17"><th class="nick" style="background: #4d4d93">manuel</th><td class="text" style="color: #4d4d93">rburton: ERROR: m4-1.4.18-r0 do_package: Fatal errors occurred in subprocesses:</td><td class="time"><a href="#t2022-05-20T11:52:17" class="time">11:52</a></td></tr>
<tr id="t2022-05-20T11:52:18"><th class="nick" style="background: #4d4d93">manuel</th><td class="text" style="color: #4d4d93">ERROR: autoconf-2.69-r11 do_package: [Errno 12] Cannot allocate memory</td><td class="time"><a href="#t2022-05-20T11:52:18" class="time">11:52</a></td></tr>
<tr id="t2022-05-20T11:52:47"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">presumably something else was building at the same time which is huge</td><td class="time"><a href="#t2022-05-20T11:52:47" class="time">11:52</a></td></tr>
<tr id="t2022-05-20T11:52:50"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">you need more ram :)</td><td class="time"><a href="#t2022-05-20T11:52:50" class="time">11:52</a></td></tr>
<tr id="t2022-05-20T11:52:55"><th class="nick" style="background: #4d4d93">manuel</th><td class="text" style="color: #4d4d93">Ok, I gotta admit I have a few browser tabs open which already eat 4gig of ram even when no yocto build is running :)</td><td class="time"><a href="#t2022-05-20T11:52:55" class="time">11:52</a></td></tr>
<tr id="t2022-05-20T11:52:57"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">or swap, but that's obviously a lot slower</td><td class="time"><a href="#t2022-05-20T11:52:57" class="time">11:52</a></td></tr>
<tr id="t2022-05-20T11:53:44"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">i'm a big fan of the build machine being headless so you don't content your browser with your build :)</td><td class="time"><a href="#t2022-05-20T11:53:44" class="time">11:53</a></td></tr>
<tr id="t2022-05-20T11:53:50"><th class="nick" style="background: #4d4d93">manuel</th><td class="text" style="color: #4d4d93">Think I will just go to a total of 24gig. Thought ram to be more expensive. used 16gig ddr4 so-dimm is 38eur.</td><td class="time"><a href="#t2022-05-20T11:53:50" class="time">11:53</a></td></tr>
<tr id="t2022-05-20T11:54:04"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">when i'm waiting ten minutes for llvm to link is when i want the browser/mailer to be responsive</td><td class="time"><a href="#t2022-05-20T11:54:04" class="time">11:54</a></td></tr>
<tr id="t2022-05-20T11:55:02"><th class="nick" style="background: #4d4d93">manuel</th><td class="text" style="color: #4d4d93">yeah I just don't want to buy yet another machine. All my machines I set up before I started with yocto, so they are all not really set up for intense loads.</td><td class="time"><a href="#t2022-05-20T11:55:02" class="time">11:55</a></td></tr>
<tr id="t2022-05-20T11:55:14"><th class="nick" style="background: #4d4d93">manuel</th><td class="text" style="color: #4d4d93">But I've got so many I don't want to add one more</td><td class="time"><a href="#t2022-05-20T11:55:14" class="time">11:55</a></td></tr>
<tr id="t2022-05-20T11:56:55"><th class="nick" style="background: #4d4d93">manuel</th><td class="text" style="color: #4d4d93">which would sit mostly idle besides on weekends</td><td class="time"><a href="#t2022-05-20T11:56:55" class="time">11:56</a></td></tr>
<tr id="t2022-05-20T12:49:00"><th class="nick" style="background: #a25555">Guest87</th><td class="text" style="color: #a25555">i'm trying to run bmaptools as recommended in the mega manual (oe-run-native bmaptool copy blablabla), but it tells me &quot;bmaptool is not a native recipe&quot;, do i need a different form of command?</td><td class="time"><a href="#t2022-05-20T12:49:00" class="time">12:49</a></td></tr>
<tr id="t2022-05-20T12:52:54"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">use bmaptools-native instead of bmaptools</td><td class="time"><a href="#t2022-05-20T12:52:54" class="time">12:52</a></td></tr>
<tr id="t2022-05-20T15:11:13"><th class="nick" style="background: #a25555">Guest87</th><td class="text" style="color: #a25555">it looks like section 3.17.7.1 of the mega manual needs to be updated for the bmaptool example command</td><td class="time"><a href="#t2022-05-20T15:11:13" class="time">15:11</a></td></tr>
<tr id="t2022-05-20T15:13:04"><th class="nick" style="background: #57a657">cambrian_invader</th><td class="text" style="color: #57a657">why does adding something to MACHINE_FEATURES invalidate several hundred sstate objects (even generic or arch-specific objects)?</td><td class="time"><a href="#t2022-05-20T15:13:04" class="time">15:13</a></td></tr>
<tr id="t2022-05-20T15:14:37"><th class="nick" style="background: #57a657">cambrian_invader</th><td class="text" style="color: #57a657"><a href="https://paste.debian.net/1241493/" rel="nofollow">https://paste.debian.net/1241493/</a></td><td class="time"><a href="#t2022-05-20T15:14:37" class="time">15:14</a></td></tr>
<tr id="t2022-05-20T15:15:03"><th class="nick" style="background: #57a657">cambrian_invader</th><td class="text" style="color: #57a657">I'd expect that only machine-specific objects would be removed, and only those objects which checked for that feature</td><td class="time"><a href="#t2022-05-20T15:15:03" class="time">15:15</a></td></tr>
<tr id="t2022-05-20T15:22:21"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">Guest87: please, send a patch</td><td class="time"><a href="#t2022-05-20T15:22:21" class="time">15:22</a></td></tr>
<tr id="t2022-05-20T15:23:23"><th class="nick" style="background: #a25555">Guest87</th><td class="text" style="color: #a25555">rburton: where do i find the mega-manual repository?</td><td class="time"><a href="#t2022-05-20T15:23:23" class="time">15:23</a></td></tr>
<tr id="t2022-05-20T15:26:06"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">Guest87: <a href="https://git.yoctoproject.org/yocto-docs/" rel="nofollow">https://git.yoctoproject.org/yocto-docs/</a></td><td class="time"><a href="#t2022-05-20T15:26:06" class="time">15:26</a></td></tr>
<tr id="t2022-05-20T15:26:21"><th class="nick" style="background: #9b519b">rburton</th><td class="text" style="color: #9b519b">Guest87: megamanual is just the individual docs merged into one file, but grep will help you find the right file</td><td class="time"><a href="#t2022-05-20T15:26:21" class="time">15:26</a></td></tr>
<tr id="t2022-05-20T15:26:37"><th class="nick" style="background: #a25555">Guest87</th><td class="text" style="color: #a25555">rburton: thank you</td><td class="time"><a href="#t2022-05-20T15:26:37" class="time">15:26</a></td></tr>
<tr id="t2022-05-20T15:30:43"><th class="nick" style="background: #5959a9">seninha</th><td class="text" style="color: #5959a9">Hi, I built a core-image-full-cmdline linux image and, when running bitbake, it builds grub, but when booting it uses systemd-boot. How can I make the EFI boot be grub instead?</td><td class="time"><a href="#t2022-05-20T15:30:43" class="time">15:30</a></td></tr>
<tr id="t2022-05-20T16:41:24"><td class="nickchange" colspan="2">*** mckoan is now known as mckoan|away</td><td><a href="#t2022-05-20T16:41:24" class="time">16:41</a></td></tr>
<tr id="t2022-05-20T18:31:14"><th class="nick" style="background: #adad5b">pourada</th><td class="text" style="color: #adad5b">Hello - new to this channel. Have a question about kickstart wks and fstab entries.</td><td class="time"><a href="#t2022-05-20T18:31:14" class="time">18:31</a></td></tr>
<tr id="t2022-05-20T18:33:12"><th class="nick" style="background: #adad5b">pourada</th><td class="text" style="color: #adad5b">Essentially, wic is performing well, except in emitting the correct lines to fstab. That is to say the wic creates the correct partitions in the .wks file: /dev/mmcblk0p[1-4].</td><td class="time"><a href="#t2022-05-20T18:33:12" class="time">18:33</a></td></tr>
<tr id="t2022-05-20T18:33:37"><th class="nick" style="background: #adad5b">pourada</th><td class="text" style="color: #adad5b">However, in the fstab, it is creating this line, which appears to be off by one on the partition:</td><td class="time"><a href="#t2022-05-20T18:33:37" class="time">18:33</a></td></tr>
<tr id="t2022-05-20T18:34:31"><th class="nick" style="background: #adad5b">pourada</th><td class="text" style="color: #adad5b">\//dev/mmcblk0p5/dataext4defaults00</td><td class="time"><a href="#t2022-05-20T18:34:31" class="time">18:34</a></td></tr>
<tr id="t2022-05-20T18:34:49"><th class="nick" style="background: #adad5b">pourada</th><td class="text" style="color: #adad5b">&nbsp;&nbsp;/dev/mmcblk0p5/dataext4defaults00</td><td class="time"><a href="#t2022-05-20T18:34:49" class="time">18:34</a></td></tr>
<tr id="t2022-05-20T18:35:08"><th class="nick" style="background: #adad5b">pourada</th><td class="text" style="color: #adad5b">Any takers? Spent days on this so far.</td><td class="time"><a href="#t2022-05-20T18:35:08" class="time">18:35</a></td></tr>
<tr id="t2022-05-20T18:36:27"><th class="nick" style="background: #b15db1">zwelch</th><td class="text" style="color: #b15db1">pourada: can you track down where that gets added?</td><td class="time"><a href="#t2022-05-20T18:36:27" class="time">18:36</a></td></tr>
<tr id="t2022-05-20T18:41:39"><th class="nick" style="background: #adad5b">pourada</th><td class="text" style="color: #adad5b">The line in fstab? So far as I can tell in a function like do_wic(). in our project layer, meta-mbio/wic/dogfish-mmc.wks</td><td class="time"><a href="#t2022-05-20T18:41:39" class="time">18:41</a></td></tr>
<tr id="t2022-05-20T18:42:59"><th class="nick" style="background: #adad5b">pourada</th><td class="text" style="color: #adad5b">There is no pkg_postinst_${PN}() to modify fstab, tho we have gone down that road.</td><td class="time"><a href="#t2022-05-20T18:42:59" class="time">18:42</a></td></tr>
<tr id="t2022-05-20T18:43:08"><th class="nick" style="background: #adad5b">pourada</th><td class="text" style="color: #adad5b">I should mention that we're still on sumo...</td><td class="time"><a href="#t2022-05-20T18:43:08" class="time">18:43</a></td></tr>
<tr id="t2022-05-20T18:44:30"><th class="nick" style="background: #adad5b">pourada</th><td class="text" style="color: #adad5b">Oh, and I should say that /dev/mmcblk0p5 doesn't exist.</td><td class="time"><a href="#t2022-05-20T18:44:30" class="time">18:44</a></td></tr>
<tr id="t2022-05-20T18:44:45"><th class="nick" style="background: #adad5b">pourada</th><td class="text" style="color: #adad5b">Here's the line in the wks file:</td><td class="time"><a href="#t2022-05-20T18:44:45" class="time">18:44</a></td></tr>
<tr id="t2022-05-20T18:45:04"><th class="nick" style="background: #adad5b">pourada</th><td class="text" style="color: #adad5b">part /data&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --ondisk mmcblk0 --size 6000M&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --align 4096 --label data&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --fstype=ext4</td><td class="time"><a href="#t2022-05-20T18:45:04" class="time">18:45</a></td></tr>
<tr id="t2022-05-20T18:47:03"><th class="nick" style="background: #adad5b">pourada</th><td class="text" style="color: #adad5b">Sorry for the novel. Does that answer your question @zwelch?</td><td class="time"><a href="#t2022-05-20T18:47:03" class="time">18:47</a></td></tr>
<tr id="t2022-05-20T18:53:06"><th class="nick" style="background: #adad5b">pourada</th><td class="text" style="color: #adad5b">@zwelch - here's the actual task: 1: daffy-image-rel-1.0-r3 do_image_wic - 24s (pid 290302)</td><td class="time"><a href="#t2022-05-20T18:53:06" class="time">18:53</a></td></tr>
<tr id="t2022-05-20T18:53:09"><th class="nick" style="background: #b15db1">zwelch</th><td class="text" style="color: #b15db1">that does help provide more context, but i am afraid that it's not enough for me to see the road to a solution.&nbsp;&nbsp;maybe pastebin the entirely wks file?&nbsp;&nbsp;add some debug output in the relevant do_wic function, to see where it's emitting the fstab?</td><td class="time"><a href="#t2022-05-20T18:53:09" class="time">18:53</a></td></tr>
<tr id="t2022-05-20T18:53:39"><th class="nick" style="background: #adad5b">pourada</th><td class="text" style="color: #adad5b">Ok, on it...</td><td class="time"><a href="#t2022-05-20T18:53:39" class="time">18:53</a></td></tr>
<tr id="t2022-05-20T19:04:13"><th class="nick" style="background: #8c4a4a">JaMa</th><td class="text" style="color: #8c4a4a">RP: FWIW: related to my xz do_unpack question few days ago.. current xz does decompression still in single thread, so at least for now using XZ_DEFAULTS in bitbake fetcher doesn't bring any speedup at all</td><td class="time"><a href="#t2022-05-20T19:04:13" class="time">19:04</a></td></tr>
<tr id="t2022-05-20T19:06:35"><th class="nick" style="background: #5fb4b4">RP</th><td class="text" style="color: #5fb4b4">JaMa: this might be a case for pixz?</td><td class="time"><a href="#t2022-05-20T19:06:35" class="time">19:06</a></td></tr>
<tr id="t2022-05-20T19:08:33"><th class="nick" style="background: #8c4a4a">JaMa</th><td class="text" style="color: #8c4a4a">will check pixz, I was aware of pzstd which sstate.bbclass uses when available, but didn't notice that there is pixz as well</td><td class="time"><a href="#t2022-05-20T19:08:33" class="time">19:08</a></td></tr>
<tr id="t2022-05-20T19:09:24"><th class="nick" style="background: #5fb4b4">RP</th><td class="text" style="color: #5fb4b4">JaMa: I can't remember which pieces we enabled and where</td><td class="time"><a href="#t2022-05-20T19:09:24" class="time">19:09</a></td></tr>
<tr id="t2022-05-20T19:09:44"><th class="nick" style="background: #5fb4b4">RP</th><td class="text" style="color: #5fb4b4">JaMa: I suspect the build time of pixz would probably be longer than the decompression speedups</td><td class="time"><a href="#t2022-05-20T19:09:44" class="time">19:09</a></td></tr>
<tr id="t2022-05-20T19:10:02"><th class="nick" style="background: #5fb4b4">RP</th><td class="text" style="color: #5fb4b4">might work as an optional host tool I guess but whether the complexity would be worth it...</td><td class="time"><a href="#t2022-05-20T19:10:02" class="time">19:10</a></td></tr>
<tr id="t2022-05-20T19:10:31"><th class="nick" style="background: #8c4a4a">JaMa</th><td class="text" style="color: #8c4a4a">yes, it doesn't support --treads as well, so we would need to alter the syntax as well (like pzstd does)</td><td class="time"><a href="#t2022-05-20T19:10:31" class="time">19:10</a></td></tr>
<tr id="t2022-05-20T19:12:54"><th class="nick" style="background: #8c4a4a">JaMa</th><td class="text" style="color: #8c4a4a">pixz did 1m7.549s on first try (cold cache), compared to 1m5.847s with single-threaded xz in <a href="https://github.com/shr-project/test-oe-build-time/commit/9e02d24c0675d932f219fc85b50774369d83caf8" rel="nofollow">https://github.com/shr-project/test-oe-build-time/commit/9e02d24c0675d932f219fc85b50774369d83caf8</a> but also writing the decompressed .tar (as it ignores -c)</td><td class="time"><a href="#t2022-05-20T19:12:54" class="time">19:12</a></td></tr>
<tr id="t2022-05-20T19:13:12"><th class="nick" style="background: #8c4a4a">JaMa</th><td class="text" style="color: #8c4a4a">will do more tests, but it's probably not worth for now</td><td class="time"><a href="#t2022-05-20T19:13:12" class="time">19:13</a></td></tr>
<tr id="t2022-05-20T19:17:26"><th class="nick" style="background: #adad5b">pourada</th><td class="text" style="color: #adad5b">@zwlech: pastebin: <a href="https://pastebin.com/FTe4FAyY" rel="nofollow">https://pastebin.com/FTe4FAyY</a></td><td class="time"><a href="#t2022-05-20T19:17:26" class="time">19:17</a></td></tr>
<tr id="t2022-05-20T19:17:38"><th class="nick" style="background: #adad5b">pourada</th><td class="text" style="color: #adad5b">This is the .wks file.</td><td class="time"><a href="#t2022-05-20T19:17:38" class="time">19:17</a></td></tr>
<tr id="t2022-05-20T19:25:42"><th class="nick" style="background: #8c4a4a">JaMa</th><td class="text" style="color: #8c4a4a">time pixz -p 64 -d &lt; chromium-101.0.4951.54.tar.xz &gt;/dev/null -&gt; 1m6.795s as well</td><td class="time"><a href="#t2022-05-20T19:25:42" class="time">19:25</a></td></tr>
<tr id="t2022-05-20T19:36:33"><th class="nick" style="background: #57a657">cambrian_invader</th><td class="text" style="color: #57a657">pourada: it's probably because swap comes first</td><td class="time"><a href="#t2022-05-20T19:36:33" class="time">19:36</a></td></tr>
<tr id="t2022-05-20T19:36:42"><th class="nick" style="background: #57a657">cambrian_invader</th><td class="text" style="color: #57a657">and swap is the actual p4</td><td class="time"><a href="#t2022-05-20T19:36:42" class="time">19:36</a></td></tr>
<tr id="t2022-05-20T19:37:00"><th class="nick" style="background: #57a657">cambrian_invader</th><td class="text" style="color: #57a657">so the issue is that the fstab uses p4 but it should use p5</td><td class="time"><a href="#t2022-05-20T19:37:00" class="time">19:37</a></td></tr>
<tr id="t2022-05-20T19:37:19"><th class="nick" style="background: #57a657">cambrian_invader</th><td class="text" style="color: #57a657">hm, or maybe it gets confused by the no-table partitionb</td><td class="time"><a href="#t2022-05-20T19:37:19" class="time">19:37</a></td></tr>
<tr id="t2022-05-20T19:48:09"><th class="nick" style="background: #b15db1">zwelch</th><td class="text" style="color: #b15db1">pourada: i definitely not seeing it, but cambrian_invader's perspective definitely begs the question: what happens when you move stuff around in the wks?&nbsp;&nbsp;and what's the output of instrumenting the do_wic function to see how it's being interpreted?</td><td class="time"><a href="#t2022-05-20T19:48:09" class="time">19:48</a></td></tr>
<tr id="t2022-05-20T19:48:56"><th class="nick" style="background: #57a657">cambrian_invader</th><td class="text" style="color: #57a657">the order of part commands in the wks is the order the partitions are created in</td><td class="time"><a href="#t2022-05-20T19:48:56" class="time">19:48</a></td></tr>
<tr id="t2022-05-20T19:49:02"><th class="nick" style="background: #57a657">cambrian_invader</th><td class="text" style="color: #57a657">e.g. the order in the MBR</td><td class="time"><a href="#t2022-05-20T19:49:02" class="time">19:49</a></td></tr>
<tr id="t2022-05-20T19:49:17"><th class="nick" style="background: #57a657">cambrian_invader</th><td class="text" style="color: #57a657">(or GPT)</td><td class="time"><a href="#t2022-05-20T19:49:17" class="time">19:49</a></td></tr>
<tr id="t2022-05-20T19:49:55"><th class="nick" style="background: #57a657">cambrian_invader</th><td class="text" style="color: #57a657">anyway, I would stare very hard at the recipe generating the fstab</td><td class="time"><a href="#t2022-05-20T19:49:55" class="time">19:49</a></td></tr>
<tr id="t2022-05-20T19:50:12"><th class="nick" style="background: #b15db1">zwelch</th><td class="text" style="color: #b15db1">sure, so it won't necessarily work, but the resulting shuffled output might provide clues about where things go sideways</td><td class="time"><a href="#t2022-05-20T19:50:12" class="time">19:50</a></td></tr>
<tr id="t2022-05-20T20:09:53"><th class="nick" style="background: #5959a9">seninha</th><td class="text" style="color: #5959a9">Hi, I built core-image-full-cmdline, and after boot, it freezes with the message &quot;EFI stub: Loaded initrd from command line option&quot;.</td><td class="time"><a href="#t2022-05-20T20:09:53" class="time">20:09</a></td></tr>
<tr id="t2022-05-20T20:10:02"><th class="nick" style="background: #5959a9">seninha</th><td class="text" style="color: #5959a9">The image does not load any further from that point.</td><td class="time"><a href="#t2022-05-20T20:10:02" class="time">20:10</a></td></tr>
<tr id="t2022-05-20T20:38:28"><th class="nick" style="background: #4d4d93">manuel</th><td class="text" style="color: #4d4d93">I've got &quot;KERNEL_MODULE_AUTOLOAD += &quot;kernel-module-hello&quot;&quot; in my local.conf. Why doesn't the module get loaded automatically? Have to `modprobe hello` to have it show up in `lsmod`.</td><td class="time"><a href="#t2022-05-20T20:38:28" class="time">20:38</a></td></tr>
<tr id="t2022-05-20T20:41:44"><th class="nick" style="background: #adad5b">pourada</th><td class="text" style="color: #adad5b">@zwelch - I can't find the shell function do_image_wic (), tho it comes out in the -DDD debug as being active. It's not anywhere in the entire yocto procject that I can see.</td><td class="time"><a href="#t2022-05-20T20:41:44" class="time">20:41</a></td></tr>
<tr id="t2022-05-20T20:44:39"><th class="nick" style="background: #57a657">cambrian_invader</th><td class="text" style="color: #57a657">openembedded-core/meta/classes/image_types_wic.bbclass</td><td class="time"><a href="#t2022-05-20T20:44:39" class="time">20:44</a></td></tr>
<tr id="t2022-05-20T20:49:52"><th class="nick" style="background: #57a657">cambrian_invader</th><td class="text" style="color: #57a657">but the magic converting IMAGE_CMD:wic into do_image_wic happens in openembedded-core/meta/classes/image.bbclass</td><td class="time"><a href="#t2022-05-20T20:49:52" class="time">20:49</a></td></tr>
<tr id="t2022-05-20T20:53:42"><th class="nick" style="background: #adad5b">pourada</th><td class="text" style="color: #adad5b">@cambrian_invader - thanks for the hints! @zwelch - many thanks to you too!</td><td class="time"><a href="#t2022-05-20T20:53:42" class="time">20:53</a></td></tr>
<tr id="t2022-05-20T21:00:08"><th class="nick" style="background: #adad5b">pourada</th><td class="text" style="color: #adad5b">@cambrian_invader - image.bbclass only shows up in poky/meta/classes/image.bbclass, and there is no openembedded-core, but there is meta-openembedded/meta-oe/recipes-core but no image.bbclass there.</td><td class="time"><a href="#t2022-05-20T21:00:08" class="time">21:00</a></td></tr>
<tr id="t2022-05-20T21:00:57"><th class="nick" style="background: #adad5b">pourada</th><td class="text" style="color: #adad5b">I am running a fairly ancient yocto version: sumo</td><td class="time"><a href="#t2022-05-20T21:00:57" class="time">21:00</a></td></tr>
<tr id="t2022-05-20T21:01:25"><th class="nick" style="background: #adad5b">pourada</th><td class="text" style="color: #adad5b">Or am I missing some important layers?</td><td class="time"><a href="#t2022-05-20T21:01:25" class="time">21:01</a></td></tr>
<tr id="t2022-05-20T21:03:16"><th class="nick" style="background: #adad5b">pourada</th><td class="text" style="color: #adad5b">ah, both image.bbclass and image_types_wic.bbclass are both in poky/meta/classes.</td><td class="time"><a href="#t2022-05-20T21:03:16" class="time">21:03</a></td></tr>
<tr id="t2022-05-20T21:07:27"><th class="nick" style="background: #b86161">jpuhlman</th><td class="text" style="color: #b86161">pourada, poky is a combo layer of openebedded-core, bitbtake and a couple other small layer. The file you are referencing is the oe-core version just in a combo layer</td><td class="time"><a href="#t2022-05-20T21:07:27" class="time">21:07</a></td></tr>
<tr id="t2022-05-20T21:37:08"><th class="nick" style="background: #62bb62">zen_coder</th><td class="text" style="color: #62bb62">how can I add python3 to the qt5 toolchain?</td><td class="time"><a href="#t2022-05-20T21:37:08" class="time">21:37</a></td></tr>
<tr id="t2022-05-20T22:19:38"><th class="nick" style="background: #adad5b">pourada</th><td class="text" style="color: #adad5b">@jpuhlman - thanks, I'm getting a little more familiar!</td><td class="time"><a href="#t2022-05-20T22:19:38" class="time">22:19</a></td></tr>
<tr id="t2022-05-20T22:30:15"><th class="nick" style="background: #adad5b">pourada</th><td class="text" style="color: #adad5b">@cambrian_invader - found IMAGE_CMD_wic, and invoked wic from the command line using its cmd line vars. It created a .direct file, which was essentially a .wic file, as I was able to explore it using wic ls. However, no bmap file, and so can't load it?</td><td class="time"><a href="#t2022-05-20T22:30:15" class="time">22:30</a></td></tr>
<tr id="t2022-05-20T22:30:23"><th class="nick" style="background: #adad5b">pourada</th><td class="text" style="color: #adad5b">Here is the pastebin: <a href="https://pastebin.com/5WVXDyX1" rel="nofollow">https://pastebin.com/5WVXDyX1</a></td><td class="time"><a href="#t2022-05-20T22:30:23" class="time">22:30</a></td></tr>
<tr id="t2022-05-20T22:31:02"><th class="nick" style="background: #adad5b">pourada</th><td class="text" style="color: #adad5b">There is a do_wic_complete task, but I couldn't find a corresponding function for it.</td><td class="time"><a href="#t2022-05-20T22:31:02" class="time">22:31</a></td></tr>
<tr id="t2022-05-20T23:01:49"><th class="nick" style="background: #adad5b">pourada</th><td class="text" style="color: #adad5b">Nevermind - there's a cupla options I missed, but which are not in the IMAGE_CMD_wic function - guess they are there somewhere. -m adds the map, -c compresses</td><td class="time"><a href="#t2022-05-20T23:01:49" class="time">23:01</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2022-05-19.log.html">&#171; Thursday, 2022-05-19</a> <a href="index.html">Index</a> <a href="%23yocto.2022-05-21.log.html">Saturday, 2022-05-21 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.17.2 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="https://mg.pov.lt/irclog2html/">https://mg.pov.lt/irclog2html/</a>!</p>
</div>
</body>
</html>
