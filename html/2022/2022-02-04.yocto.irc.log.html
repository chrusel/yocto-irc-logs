<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Friday, 2022-02-04</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.17.2 by Marius Gedminas" />
  <meta name="version" content="2.17.2 - 2019-04-23" />
</head>
<body>
<h1>Friday, 2022-02-04</h1>
<div class="navigation"> <a href="%23yocto.2022-02-03.log.html">&#171; Thursday, 2022-02-03</a> <a href="index.html">Index</a> <a href="%23yocto.2022-02-05.log.html">Saturday, 2022-02-05 &#187;</a> </div>
<table class="irclog">
<tr id="t2022-02-04T03:22:05"><td class="nickchange" colspan="2">*** jclsn4 is now known as jclsn</td><td><a href="#t2022-02-04T03:22:05" class="time">03:22</a></td></tr>
<tr id="t2022-02-04T03:41:50"><th class="nick" style="background: #407a40">khem</th><td class="text" style="color: #407a40">kanavin sounds good, I think we might want llvm 14 for Spring LTS,&nbsp;&nbsp;I am in process of upgrading meta-clang to 14.x</td><td class="time"><a href="#t2022-02-04T03:41:50" class="time">03:41</a></td></tr>
<tr id="t2022-02-04T06:25:29"><th class="nick" style="background: #42427e">alejandrohs</th><td class="text" style="color: #42427e">3~</td><td class="time"><a href="#t2022-02-04T06:25:29" class="time">06:25</a></td></tr>
<tr id="t2022-02-04T06:25:34"><th class="nick" style="background: #42427e">alejandrohs</th><td class="text" style="color: #42427e">oops :)</td><td class="time"><a href="#t2022-02-04T06:25:34" class="time">06:25</a></td></tr>
<tr id="t2022-02-04T07:23:55"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">yo dudX</td><td class="time"><a href="#t2022-02-04T07:23:55" class="time">07:23</a></td></tr>
<tr id="t2022-02-04T07:30:52"><th class="nick" style="background: #854685">jclsn</th><td class="text" style="color: #854685">LetoThe2nd: How did you like the film btw?</td><td class="time"><a href="#t2022-02-04T07:30:52" class="time">07:30</a></td></tr>
<tr id="t2022-02-04T07:34:27"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">jclsn: new one? not seen yet. hopefully soon.</td><td class="time"><a href="#t2022-02-04T07:34:27" class="time">07:34</a></td></tr>
<tr id="t2022-02-04T07:43:14"><th class="nick" style="background: #854685">jclsn</th><td class="text" style="color: #854685">LetoThe2nd: Yeah, I really liked it</td><td class="time"><a href="#t2022-02-04T07:43:14" class="time">07:43</a></td></tr>
<tr id="t2022-02-04T07:45:59"><td class="nickchange" colspan="2">*** mckoan|away is now known as mckoan</td><td><a href="#t2022-02-04T07:45:59" class="time">07:45</a></td></tr>
<tr id="t2022-02-04T07:51:26"><th class="nick" style="background: #488888">mckoan</th><td class="text" style="color: #488888">good morning</td><td class="time"><a href="#t2022-02-04T07:51:26" class="time">07:51</a></td></tr>
<tr id="t2022-02-04T10:34:25"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">khem, llvm 14 isn't due until after feature freeze I think, and llvm deadlines can slip</td><td class="time"><a href="#t2022-02-04T10:34:25" class="time">10:34</a></td></tr>
<tr id="t2022-02-04T10:35:01"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">but if they can get it at least to rc stage by march, maybe it's possible</td><td class="time"><a href="#t2022-02-04T10:35:01" class="time">10:35</a></td></tr>
<tr id="t2022-02-04T12:55:48"><th class="nick" style="background: #4b904b">ad__</th><td class="text" style="color: #4b904b">question: i am in zeus, anm openssl bbappend is disabling a lot of openssl featurs, as md4 and others, but then, wpa-supplicant fails to build, claiming for md4 functions. How to manage this ?</td><td class="time"><a href="#t2022-02-04T12:55:48" class="time">12:55</a></td></tr>
<tr id="t2022-02-04T13:30:35"><th class="nick" style="background: #854685">jclsn</th><td class="text" style="color: #854685">Why do packages sometimes not get installed althoug I have added them via IMAGE_INSTALL:append ?</td><td class="time"><a href="#t2022-02-04T13:30:35" class="time">13:30</a></td></tr>
<tr id="t2022-02-04T13:30:41"><th class="nick" style="background: #854685">jclsn</th><td class="text" style="color: #854685">I really don't get this</td><td class="time"><a href="#t2022-02-04T13:30:41" class="time">13:30</a></td></tr>
<tr id="t2022-02-04T13:32:56"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">jclsn: triple-check that they really are added to IMAGE_INSTALL</td><td class="time"><a href="#t2022-02-04T13:32:56" class="time">13:32</a></td></tr>
<tr id="t2022-02-04T13:33:07"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">bitbake-getvar should be helpful</td><td class="time"><a href="#t2022-02-04T13:33:07" class="time">13:33</a></td></tr>
<tr id="t2022-02-04T13:33:20"><th class="nick" style="background: #854685">jclsn</th><td class="text" style="color: #854685">I checked that</td><td class="time"><a href="#t2022-02-04T13:33:20" class="time">13:33</a></td></tr>
<tr id="t2022-02-04T13:33:20-2"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">also, some packages are empty</td><td class="time"><a href="#t2022-02-04T13:33:20-2" class="time">13:33</a></td></tr>
<tr id="t2022-02-04T13:33:38"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">and finally.. how do you know theyr are not installed?</td><td class="time"><a href="#t2022-02-04T13:33:38" class="time">13:33</a></td></tr>
<tr id="t2022-02-04T13:33:43"><th class="nick" style="background: #854685">jclsn</th><td class="text" style="color: #854685">Might also have to do with the honister override syntax in this case</td><td class="time"><a href="#t2022-02-04T13:33:43" class="time">13:33</a></td></tr>
<tr id="t2022-02-04T13:34:39"><th class="nick" style="background: #854685">jclsn</th><td class="text" style="color: #854685">My colleague did install some sytemd units with IMAGE_INSTALL_append_mx8, which would be IMAGE_INSTALL:append:mx8 now right?</td><td class="time"><a href="#t2022-02-04T13:34:39" class="time">13:34</a></td></tr>
<tr id="t2022-02-04T13:35:00"><th class="nick" style="background: #854685">jclsn</th><td class="text" style="color: #854685">If yes, the syntax conversion script did miss this</td><td class="time"><a href="#t2022-02-04T13:35:00" class="time">13:35</a></td></tr>
<tr id="t2022-02-04T13:35:49"><th class="nick" style="background: #854685">jclsn</th><td class="text" style="color: #854685">I know that they are not installed, because the files are not in /etc/systemd/system</td><td class="time"><a href="#t2022-02-04T13:35:49" class="time">13:35</a></td></tr>
<tr id="t2022-02-04T13:45:17"><th class="nick" style="background: #97974f">agherzan</th><td class="text" style="color: #97974f">jclsn: that would be correct</td><td class="time"><a href="#t2022-02-04T13:45:17" class="time">13:45</a></td></tr>
<tr id="t2022-02-04T13:45:27"><th class="nick" style="background: #97974f">agherzan</th><td class="text" style="color: #97974f">The conversion script is not perfect.</td><td class="time"><a href="#t2022-02-04T13:45:27" class="time">13:45</a></td></tr>
<tr id="t2022-02-04T13:51:04"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">jclsn: the conversion script requires some configuration IIRC, e.g. all the possible OVERRIDES</td><td class="time"><a href="#t2022-02-04T13:51:04" class="time">13:51</a></td></tr>
<tr id="t2022-02-04T13:51:35"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">and since mx8 is not one that exists in poky/oe-core then it was probably just not added</td><td class="time"><a href="#t2022-02-04T13:51:35" class="time">13:51</a></td></tr>
<tr id="t2022-02-04T13:51:58"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">so in fact, your packages were NOT in IMAGE_INSTALL and bitbake-getvar would have returned such info</td><td class="time"><a href="#t2022-02-04T13:51:58" class="time">13:51</a></td></tr>
<tr id="t2022-02-04T14:15:40"><th class="nick" style="background: #854685">jclsn</th><td class="text" style="color: #854685">They are in IMAGE_INSTALL. I checked that with bitbkake -e</td><td class="time"><a href="#t2022-02-04T14:15:40" class="time">14:15</a></td></tr>
<tr id="t2022-02-04T14:16:53"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">jclsn: if the syntax was incorrect AND you didn't have the package installed, I'm pretty sure it was not :)</td><td class="time"><a href="#t2022-02-04T14:16:53" class="time">14:16</a></td></tr>
<tr id="t2022-02-04T14:17:02"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">anyways, if it's fixed it's the most important :)</td><td class="time"><a href="#t2022-02-04T14:17:02" class="time">14:17</a></td></tr>
<tr id="t2022-02-04T14:17:20"><th class="nick" style="background: #854685">jclsn</th><td class="text" style="color: #854685">No it is still not there</td><td class="time"><a href="#t2022-02-04T14:17:20" class="time">14:17</a></td></tr>
<tr id="t2022-02-04T14:17:41"><th class="nick" style="background: #854685">jclsn</th><td class="text" style="color: #854685">It is seems like it isn't included in the image when rebuilding</td><td class="time"><a href="#t2022-02-04T14:17:41" class="time">14:17</a></td></tr>
<tr id="t2022-02-04T14:17:51"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">jclsn: where is your IMAGE_INSTALL?</td><td class="time"><a href="#t2022-02-04T14:17:51" class="time">14:17</a></td></tr>
<tr id="t2022-02-04T14:17:58"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">the append one, in which file</td><td class="time"><a href="#t2022-02-04T14:17:58" class="time">14:17</a></td></tr>
<tr id="t2022-02-04T14:18:05"><th class="nick" style="background: #854685">jclsn</th><td class="text" style="color: #854685">I realized this a few times. I always had to clean everything and rebuild, which is weird</td><td class="time"><a href="#t2022-02-04T14:18:05" class="time">14:18</a></td></tr>
<tr id="t2022-02-04T14:18:15"><th class="nick" style="background: #854685">jclsn</th><td class="text" style="color: #854685">In the image recipe</td><td class="time"><a href="#t2022-02-04T14:18:15" class="time">14:18</a></td></tr>
<tr id="t2022-02-04T14:18:21"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">this is a huge red flag</td><td class="time"><a href="#t2022-02-04T14:18:21" class="time">14:18</a></td></tr>
<tr id="t2022-02-04T14:18:25"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">you shouldn't need to rebuild</td><td class="time"><a href="#t2022-02-04T14:18:25" class="time">14:18</a></td></tr>
<tr id="t2022-02-04T14:19:16"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">if it does fix it, you seriously need to investigate because it means you cannot trust that whatever you're building is actually what gets installed on your system</td><td class="time"><a href="#t2022-02-04T14:19:16" class="time">14:19</a></td></tr>
<tr id="t2022-02-04T14:19:34"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">well except if you clean everything all the time, which is rather inefficient :)</td><td class="time"><a href="#t2022-02-04T14:19:34" class="time">14:19</a></td></tr>
<tr id="t2022-02-04T14:19:39"><th class="nick" style="background: #854685">jclsn</th><td class="text" style="color: #854685">Well I need to package the image at least</td><td class="time"><a href="#t2022-02-04T14:19:39" class="time">14:19</a></td></tr>
<tr id="t2022-02-04T14:20:03"><th class="nick" style="background: #854685">jclsn</th><td class="text" style="color: #854685">I also installed busybox and the printenv command is not available</td><td class="time"><a href="#t2022-02-04T14:20:03" class="time">14:20</a></td></tr>
<tr id="t2022-02-04T14:20:41"><th class="nick" style="background: #854685">jclsn</th><td class="text" style="color: #854685">Ah not busybox is there</td><td class="time"><a href="#t2022-02-04T14:20:41" class="time">14:20</a></td></tr>
<tr id="t2022-02-04T14:20:58"><th class="nick" style="background: #854685">jclsn</th><td class="text" style="color: #854685">Maybe recipe to install the sytsemd units is incorrect</td><td class="time"><a href="#t2022-02-04T14:20:58" class="time">14:20</a></td></tr>
<tr id="t2022-02-04T14:21:53"><th class="nick" style="background: #854685">jclsn</th><td class="text" style="color: #854685">*ah no</td><td class="time"><a href="#t2022-02-04T14:21:53" class="time">14:21</a></td></tr>
<tr id="t2022-02-04T14:22:47"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">jclsn: check in the recipe if there isn't something that was missed during the migration to the new syntax</td><td class="time"><a href="#t2022-02-04T14:22:47" class="time">14:22</a></td></tr>
<tr id="t2022-02-04T14:22:52"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">e.g. RDEPENDS_${PN}</td><td class="time"><a href="#t2022-02-04T14:22:52" class="time">14:22</a></td></tr>
<tr id="t2022-02-04T14:23:00"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">or FILES_, etc...</td><td class="time"><a href="#t2022-02-04T14:23:00" class="time">14:23</a></td></tr>
<tr id="t2022-02-04T14:23:34"><th class="nick" style="background: #854685">jclsn</th><td class="text" style="color: #854685">There is just the do_install:append:mx8 () {..}</td><td class="time"><a href="#t2022-02-04T14:23:34" class="time">14:23</a></td></tr>
<tr id="t2022-02-04T14:31:56"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">kanavin: There was a weird mesa symbol virgl issue with master-next: <a href="https://autobuilder.yoctoproject.org/typhoon/#/builders/79/builds/3116/steps/14/logs/stdio" rel="nofollow">https://autobuilder.yoctoproject.org/typhoon/#/builders/79/builds/3116/steps/14/logs/stdio</a></td><td class="time"><a href="#t2022-02-04T14:31:56" class="time">14:31</a></td></tr>
<tr id="t2022-02-04T14:32:10"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">also, three of the syslog fails :/</td><td class="time"><a href="#t2022-02-04T14:32:10" class="time">14:32</a></td></tr>
<tr id="t2022-02-04T14:35:54"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">RP: let me check, possibly cross-host contamination via sstate</td><td class="time"><a href="#t2022-02-04T14:35:54" class="time">14:35</a></td></tr>
<tr id="t2022-02-04T14:36:35"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">RP: I just started looking into adding avx/avx2 to qemu btw</td><td class="time"><a href="#t2022-02-04T14:36:35" class="time">14:36</a></td></tr>
<tr id="t2022-02-04T14:36:44"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">a project I had in mind for a long while</td><td class="time"><a href="#t2022-02-04T14:36:44" class="time">14:36</a></td></tr>
<tr id="t2022-02-04T14:37:09"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">this 'core2' thing we use starts to look ridiculous, and it won't be far until avx becomes a hard requirement in some base piece</td><td class="time"><a href="#t2022-02-04T14:37:09" class="time">14:37</a></td></tr>
<tr id="t2022-02-04T14:38:06"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">for reference the key source file is qemu/target/i386/tcg/translate.c</td><td class="time"><a href="#t2022-02-04T14:38:06" class="time">14:38</a></td></tr>
<tr id="t2022-02-04T14:38:20"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">it has interpretation of sse4, and stops at that</td><td class="time"><a href="#t2022-02-04T14:38:20" class="time">14:38</a></td></tr>
<tr id="t2022-02-04T14:41:40"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">kanavin: it does look a bit like a cross host issue :/</td><td class="time"><a href="#t2022-02-04T14:41:40" class="time">14:41</a></td></tr>
<tr id="t2022-02-04T14:41:53"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">kanavin: I'm surprised nobody else has looked at avx yet</td><td class="time"><a href="#t2022-02-04T14:41:53" class="time">14:41</a></td></tr>
<tr id="t2022-02-04T14:42:53"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">RP: the interested parties are intel and amd, and I guess them and their customers just run everything natively or via kvm these days?</td><td class="time"><a href="#t2022-02-04T14:42:53" class="time">14:42</a></td></tr>
<tr id="t2022-02-04T14:44:08"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">peculiar fact: alder lake doesn't have avx512 - I wonder if intel's giving up on it</td><td class="time"><a href="#t2022-02-04T14:44:08" class="time">14:44</a></td></tr>
<tr id="t2022-02-04T14:44:33"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">(technically, it does on the big cores, but it's disabled because efficiency cores don't have it)</td><td class="time"><a href="#t2022-02-04T14:44:33" class="time">14:44</a></td></tr>
<tr id="t2022-02-04T14:47:03"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">kanavin: could be, still seems a little odd</td><td class="time"><a href="#t2022-02-04T14:47:03" class="time">14:47</a></td></tr>
<tr id="t2022-02-04T14:47:18"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">kanavin: I'll try and figure out the syslog issue...</td><td class="time"><a href="#t2022-02-04T14:47:18" class="time">14:47</a></td></tr>
<tr id="t2022-02-04T14:47:45"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">I'm surprised it failed three times in one build</td><td class="time"><a href="#t2022-02-04T14:47:45" class="time">14:47</a></td></tr>
<tr id="t2022-02-04T14:50:36"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">RP: can I see the syslog issue?</td><td class="time"><a href="#t2022-02-04T14:50:36" class="time">14:50</a></td></tr>
<tr id="t2022-02-04T14:50:47"><th class="nick" style="background: #539e9e">fabatera[m]</th><td class="text" style="color: #539e9e">Is it needed to pass CC, LD, AS to make file like this?... (full message at <a href="https://libera.ems.host/_matrix/media/r0/download/libera.chat/0a2a1d17d202354e0d005a01fc7246b7f376c323" rel="nofollow">https://libera.ems.host/_matrix/media/r0/download/libera.chat/0a2a1d17d202354e0d005a01fc7246b7f376c323</a>)</td><td class="time"><a href="#t2022-02-04T14:50:47" class="time">14:50</a></td></tr>
<tr id="t2022-02-04T14:51:01"><th class="nick" style="background: #539e9e">fabatera[m]</th><td class="text" style="color: #539e9e"> * Is it needed to pass CC, LD, AS to make file like this?</td><td class="time"><a href="#t2022-02-04T14:51:01" class="time">14:51</a></td></tr>
<tr id="t2022-02-04T14:51:02"><th class="nick" style="background: #539e9e">fabatera[m]</th><td class="text" style="color: #539e9e">oe_runmake CC=&quot;${CC}&nbsp;&nbsp;LD=&quot;${LD}&quot; AS=&quot;${AS}&quot; make_target</td><td class="time"><a href="#t2022-02-04T14:51:02" class="time">14:51</a></td></tr>
<tr id="t2022-02-04T14:51:02-2"><th class="nick" style="background: #539e9e">fabatera[m]</th><td class="text" style="color: #539e9e">These variables are exported in do_compile so I expect the makefile already have them.</td><td class="time"><a href="#t2022-02-04T14:51:02-2" class="time">14:51</a></td></tr>
<tr id="t2022-02-04T14:52:33"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">fabatera[m]: you shouldn't have to do anything</td><td class="time"><a href="#t2022-02-04T14:52:33" class="time">14:52</a></td></tr>
<tr id="t2022-02-04T14:53:27"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">fabatera[m]: no need to call oe_runmake even, the default do_compile should have this tackled</td><td class="time"><a href="#t2022-02-04T14:53:27" class="time">14:53</a></td></tr>
<tr id="t2022-02-04T14:53:53"><th class="nick" style="background: #a25555">moto-timo</th><td class="text" style="color: #a25555">kas users, is there any tooling to grab the commit hash for the layers and inject into the yaml? To pin the refs for a release or tag for instance.</td><td class="time"><a href="#t2022-02-04T14:53:53" class="time">14:53</a></td></tr>
<tr id="t2022-02-04T14:53:58"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">fabatera[m]: however, there might be some changes required in the Makefile of the project is they hardcode some stuff (which is common for Makefile based projects)</td><td class="time"><a href="#t2022-02-04T14:53:58" class="time">14:53</a></td></tr>
<tr id="t2022-02-04T14:55:13"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">kanavin: sure: <a href="https://autobuilder.yoctoproject.org/typhoon/#/builders/40/builds/4690/steps/13/logs/stdio" rel="nofollow">https://autobuilder.yoctoproject.org/typhoon/#/builders/40/builds/4690/steps/13/logs/stdio</a>&nbsp;&nbsp;<a href="https://autobuilder.yoctoproject.org/typhoon/#/builders/44/builds/4712/steps/18/logs/stdio" rel="nofollow">https://autobuilder.yoctoproject.org/typhoon/#/builders/44/builds/4712/steps/18/logs/stdio</a>&nbsp;&nbsp;<a href="https://autobuilder.yoctoproject.org/typhoon/#/builders/86/builds/3084/steps/14/logs/stdio" rel="nofollow">https://autobuilder.yoctoproject.org/typhoon/#/builders/86/builds/3084/steps/14/logs/stdio</a></td><td class="time"><a href="#t2022-02-04T14:55:13" class="time">14:55</a></td></tr>
<tr id="t2022-02-04T14:55:20"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">moto-timo: some python script with yaml parsing and subprocess git and you should be good to go :p</td><td class="time"><a href="#t2022-02-04T14:55:20" class="time">14:55</a></td></tr>
<tr id="t2022-02-04T14:55:54"><th class="nick" style="background: #a25555">moto-timo</th><td class="text" style="color: #a25555">qschulz: sure, I was just thinking this should be a common enough workflow that someone might have already done it (could be a feature for kas)</td><td class="time"><a href="#t2022-02-04T14:55:54" class="time">14:55</a></td></tr>
<tr id="t2022-02-04T14:56:20"><th class="nick" style="background: #a25555">moto-timo</th><td class="text" style="color: #a25555">asking for a customer, not my own use ;)</td><td class="time"><a href="#t2022-02-04T14:56:20" class="time">14:56</a></td></tr>
<tr id="t2022-02-04T14:56:34"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">RP: right, the syslog one is new to me</td><td class="time"><a href="#t2022-02-04T14:56:34" class="time">14:56</a></td></tr>
<tr id="t2022-02-04T15:01:54"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">RP: [pokybuild@centos8-ty-1 ~]$ cd /home/pokybuild/yocto-worker/oe-selftest-centos</td><td class="time"><a href="#t2022-02-04T15:01:54" class="time">15:01</a></td></tr>
<tr id="t2022-02-04T15:01:54-2"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">-bash: cd: /home/pokybuild/yocto-worker/oe-selftest-centos: No such file or directory</td><td class="time"><a href="#t2022-02-04T15:01:54-2" class="time">15:01</a></td></tr>
<tr id="t2022-02-04T15:02:08"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">this doesn't help :-/ I have to replicate the failure separately then</td><td class="time"><a href="#t2022-02-04T15:02:08" class="time">15:02</a></td></tr>
<tr id="t2022-02-04T15:02:32"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">kanavin: lots of people running builds so the broken ones age faster :(</td><td class="time"><a href="#t2022-02-04T15:02:32" class="time">15:02</a></td></tr>
<tr id="t2022-02-04T15:02:46"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">kanavin: I have the no-x11 one saved if you want a look</td><td class="time"><a href="#t2022-02-04T15:02:46" class="time">15:02</a></td></tr>
<tr id="t2022-02-04T15:03:06"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">RP: I'll take a look at virgl first</td><td class="time"><a href="#t2022-02-04T15:03:06" class="time">15:03</a></td></tr>
<tr id="t2022-02-04T15:03:28"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">kanavin: ok. I'm going to probably tweak the testcase for the syslog one, get more info next time it fails</td><td class="time"><a href="#t2022-02-04T15:03:28" class="time">15:03</a></td></tr>
<tr id="t2022-02-04T15:05:33"><th class="nick" style="background: #57a657">shivamurthy</th><td class="text" style="color: #57a657">Hi All, I am having some issue in yocto dunfell build with ubuntu 20.04 host: <a href="https://gist.github.com/shivamurthyshastri/4e9e46c4122f979769a8034fb419bb47#file-libtool-native_2-4-6_fail-log" rel="nofollow">https://gist.github.com/shivamurthyshastri/4e9e46c4122f979769a8034fb419bb47#file-libtool-native_2-4-6_fail-log</a></td><td class="time"><a href="#t2022-02-04T15:05:33" class="time">15:05</a></td></tr>
<tr id="t2022-02-04T15:06:40"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">moto-timo: I could see a kas freeze-layer command for example. But the issue I see is when you have layers spread over multiple yaml files</td><td class="time"><a href="#t2022-02-04T15:06:40" class="time">15:06</a></td></tr>
<tr id="t2022-02-04T15:07:21"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">I don't remember but is it even possible to override a commit hash of a layer from one yaml in another? that would make it more or less impossible to figure out exactly what to do without human intervention?</td><td class="time"><a href="#t2022-02-04T15:07:21" class="time">15:07</a></td></tr>
<tr id="t2022-02-04T15:08:38"><th class="nick" style="background: #a25555">moto-timo</th><td class="text" style="color: #a25555">qschulz: good point. 'kas is not psychic' to paraphrase rburton</td><td class="time"><a href="#t2022-02-04T15:08:38" class="time">15:08</a></td></tr>
<tr id="t2022-02-04T15:10:41"><th class="nick" style="background: #a25555">moto-timo</th><td class="text" style="color: #a25555">and I already have layers in multiple yaml files (keep feature and repos together)</td><td class="time"><a href="#t2022-02-04T15:10:41" class="time">15:10</a></td></tr>
<tr id="t2022-02-04T15:11:13"><th class="nick" style="background: #a25555">moto-timo</th><td class="text" style="color: #a25555">it might get even worse if you use yaml from other layers and they included other layers...</td><td class="time"><a href="#t2022-02-04T15:11:13" class="time">15:11</a></td></tr>
<tr id="t2022-02-04T15:11:23"><th class="nick" style="background: #539e9e">fabatera[m]</th><td class="text" style="color: #539e9e">@qsYes, that's the case</td><td class="time"><a href="#t2022-02-04T15:11:23" class="time">15:11</a></td></tr>
<tr id="t2022-02-04T15:11:26"><td class="action" colspan="2">* moto-timo tosses that idea in the bin</td><td><a href="#t2022-02-04T15:11:26" class="time">15:11</a></td></tr>
<tr id="t2022-02-04T15:11:29"><th class="nick" style="background: #539e9e">fabatera[m]</th><td class="text" style="color: #539e9e">s/@qsYes/qschulz:&nbsp;&nbsp;Yes/</td><td class="time"><a href="#t2022-02-04T15:11:29" class="time">15:11</a></td></tr>
<tr id="t2022-02-04T15:12:03"><th class="nick" style="background: #a25555">moto-timo</th><td class="text" style="color: #a25555">project specific python script as you suggested it is qschulz</td><td class="time"><a href="#t2022-02-04T15:12:03" class="time">15:12</a></td></tr>
<tr id="t2022-02-04T15:12:53"><th class="nick" style="background: #539e9e">fabatera[m]</th><td class="text" style="color: #539e9e">qschulz: in my case I have to use oe_runmake. I'm not sure if CC LD etc should be passed</td><td class="time"><a href="#t2022-02-04T15:12:53" class="time">15:12</a></td></tr>
<tr id="t2022-02-04T15:13:14"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">fabatera[m]: why do you &quot;have to&quot; ?</td><td class="time"><a href="#t2022-02-04T15:13:14" class="time">15:13</a></td></tr>
<tr id="t2022-02-04T15:13:30"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">I mean, it's technically done for you already, so just wondering why you need to explicit it</td><td class="time"><a href="#t2022-02-04T15:13:30" class="time">15:13</a></td></tr>
<tr id="t2022-02-04T15:15:12"><th class="nick" style="background: #539e9e">fabatera[m]</th><td class="text" style="color: #539e9e">qschulz: But as I found here looks like it should:</td><td class="time"><a href="#t2022-02-04T15:15:12" class="time">15:15</a></td></tr>
<tr id="t2022-02-04T15:15:12-2"><th class="nick" style="background: #539e9e">fabatera[m]</th><td class="text" style="color: #539e9e">poky/meta/recipes-extended/lsof/lsof_4.91.bb</td><td class="time"><a href="#t2022-02-04T15:15:12-2" class="time">15:15</a></td></tr>
<tr id="t2022-02-04T15:15:12-3"><th class="nick" style="background: #539e9e">fabatera[m]</th><td class="text" style="color: #539e9e"> oe_runmake 'CC=${CC}' 'CFGL=${LDFLAGS} -L./lib -llsof' 'DEBUG=' 'INCL=${CFLAGS}'</td><td class="time"><a href="#t2022-02-04T15:15:12-3" class="time">15:15</a></td></tr>
<tr id="t2022-02-04T15:15:58"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">fabatera[m]: ok let's start from the beginning</td><td class="time"><a href="#t2022-02-04T15:15:58" class="time">15:15</a></td></tr>
<tr id="t2022-02-04T15:16:10"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">what are you trying to do? and what is the error?</td><td class="time"><a href="#t2022-02-04T15:16:10" class="time">15:16</a></td></tr>
<tr id="t2022-02-04T15:16:27"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">(before you even decided to go for an explicit oe_runmake)</td><td class="time"><a href="#t2022-02-04T15:16:27" class="time">15:16</a></td></tr>
<tr id="t2022-02-04T15:23:04"><th class="nick" style="background: #539e9e">fabatera[m]</th><td class="text" style="color: #539e9e">qschulz: I'm building an out-of-tree module and some apps that come inside the same package.... (full message at <a href="https://libera.ems.host/_matrix/media/r0/download/libera.chat/fb3e09b886a992071d8be6c9e46e15c0ed9f8b59" rel="nofollow">https://libera.ems.host/_matrix/media/r0/download/libera.chat/fb3e09b886a992071d8be6c9e46e15c0ed9f8b59</a>)</td><td class="time"><a href="#t2022-02-04T15:23:04" class="time">15:23</a></td></tr>
<tr id="t2022-02-04T15:29:34"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">fabatera[m]: if I were you I'd have two recipes, one for the module and one for the app</td><td class="time"><a href="#t2022-02-04T15:29:34" class="time">15:29</a></td></tr>
<tr id="t2022-02-04T15:30:27"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">one would `inherit module` to build an out-of-tree module and have most of the usual stuff setup</td><td class="time"><a href="#t2022-02-04T15:30:27" class="time">15:30</a></td></tr>
<tr id="t2022-02-04T15:31:09"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">you might still need to have ti patch the makefile (I used to maintain an out-of-tree recipe for a wifi kernel driver ,a few patches for the build system were needed</td><td class="time"><a href="#t2022-02-04T15:31:09" class="time">15:31</a></td></tr>
<tr id="t2022-02-04T15:31:28"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">and then a more common recipe for the app which is in the same git repo</td><td class="time"><a href="#t2022-02-04T15:31:28" class="time">15:31</a></td></tr>
<tr id="t2022-02-04T15:31:36"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">at least it'll be easier to debug and get help</td><td class="time"><a href="#t2022-02-04T15:31:36" class="time">15:31</a></td></tr>
<tr id="t2022-02-04T15:38:32"><th class="nick" style="background: #539e9e">fabatera[m]</th><td class="text" style="color: #539e9e">qschulz: Sure it is, but the package comes &quot;as is&quot;.</td><td class="time"><a href="#t2022-02-04T15:38:32" class="time">15:38</a></td></tr>
<tr id="t2022-02-04T15:38:32-2"><th class="nick" style="background: #539e9e">fabatera[m]</th><td class="text" style="color: #539e9e">I would patch it every time a new one is available or use oe_runmake</td><td class="time"><a href="#t2022-02-04T15:38:32-2" class="time">15:38</a></td></tr>
<tr id="t2022-02-04T15:39:35"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">fabatera[m]: we maintain plenty of patches in OE/YP which are used across multiple versions when we cannot upstream them :)</td><td class="time"><a href="#t2022-02-04T15:39:35" class="time">15:39</a></td></tr>
<tr id="t2022-02-04T15:40:47"><th class="nick" style="background: #539e9e">fabatera[m]</th><td class="text" style="color: #539e9e">qschulz: Alright! If I just let do_compile would not build the too modules inside the package: they are located in separete folders with separate make files</td><td class="time"><a href="#t2022-02-04T15:40:47" class="time">15:40</a></td></tr>
<tr id="t2022-02-04T15:41:03"><th class="nick" style="background: #539e9e">fabatera[m]</th><td class="text" style="color: #539e9e">s/too/two/</td><td class="time"><a href="#t2022-02-04T15:41:03" class="time">15:41</a></td></tr>
<tr id="t2022-02-04T15:42:06"><th class="nick" style="background: #539e9e">fabatera[m]</th><td class="text" style="color: #539e9e">and there are other apps to build in the same package, so I'm doing everything in one do_compile</td><td class="time"><a href="#t2022-02-04T15:42:06" class="time">15:42</a></td></tr>
<tr id="t2022-02-04T15:43:42"><th class="nick" style="background: #539e9e">fabatera[m]</th><td class="text" style="color: #539e9e">There is no error, I'm just asking if, in this case, I need to pass CC LD.</td><td class="time"><a href="#t2022-02-04T15:43:42" class="time">15:43</a></td></tr>
<tr id="t2022-02-04T15:47:25"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">fabatera[m]: what I;'d do is just cd into the directory with the makefile and call module_do_compile function directly</td><td class="time"><a href="#t2022-02-04T15:47:25" class="time">15:47</a></td></tr>
<tr id="t2022-02-04T15:47:29"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">everything is done for you already</td><td class="time"><a href="#t2022-02-04T15:47:29" class="time">15:47</a></td></tr>
<tr id="t2022-02-04T15:48:01"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">and since the module classes are actually pretty not straightforward, I'd saw it's better to reuse whatever was already done</td><td class="time"><a href="#t2022-02-04T15:48:01" class="time">15:48</a></td></tr>
<tr id="t2022-02-04T15:48:10"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">at least we know it's properly tested</td><td class="time"><a href="#t2022-02-04T15:48:10" class="time">15:48</a></td></tr>
<tr id="t2022-02-04T15:48:37"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">ah but you do that already</td><td class="time"><a href="#t2022-02-04T15:48:37" class="time">15:48</a></td></tr>
<tr id="t2022-02-04T15:48:59"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">well, module_*do*_compile actually and not module_compile</td><td class="time"><a href="#t2022-02-04T15:48:59" class="time">15:48</a></td></tr>
<tr id="t2022-02-04T15:50:35"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">IIRC if the makefile is correctly written, the env variables CC, CFLAGS, LDFALGS, etc... should be used without doing anything</td><td class="time"><a href="#t2022-02-04T15:50:35" class="time">15:50</a></td></tr>
<tr id="t2022-02-04T15:50:45"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">i.e. make will read from the environment first</td><td class="time"><a href="#t2022-02-04T15:50:45" class="time">15:50</a></td></tr>
<tr id="t2022-02-04T16:15:28"><th class="nick" style="background: #5959a9">rfs613</th><td class="text" style="color: #5959a9">shivamurthy: not sure why you are seeing all those errors. I've updated my ubuntu-20.04 with all the latest patches, and I am able to rebuild both autoconf-native and libtool-native from dunfell</td><td class="time"><a href="#t2022-02-04T16:15:28" class="time">16:15</a></td></tr>
<tr id="t2022-02-04T16:16:37"><th class="nick" style="background: #57a657">shivamurthy</th><td class="text" style="color: #57a657">rfs613: is it because I am using ubuntu 20.04 container?</td><td class="time"><a href="#t2022-02-04T16:16:37" class="time">16:16</a></td></tr>
<tr id="t2022-02-04T16:17:53"><th class="nick" style="background: #5959a9">rfs613</th><td class="text" style="color: #5959a9">shivamurthy: well, mine is native rather than container, but this shouldn't really make a difference. More likely something in the setup is different, like bash-vs-dash for example.</td><td class="time"><a href="#t2022-02-04T16:17:53" class="time">16:17</a></td></tr>
<tr id="t2022-02-04T16:19:01"><th class="nick" style="background: #57a657">shivamurthy</th><td class="text" style="color: #57a657">I am using dash as default</td><td class="time"><a href="#t2022-02-04T16:19:01" class="time">16:19</a></td></tr>
<tr id="t2022-02-04T16:19:26"><th class="nick" style="background: #adad5b">rburton</th><td class="text" style="color: #adad5b">that *shouldn't* be a problem</td><td class="time"><a href="#t2022-02-04T16:19:26" class="time">16:19</a></td></tr>
<tr id="t2022-02-04T16:19:51"><th class="nick" style="background: #5959a9">rfs613</th><td class="text" style="color: #5959a9">I switched mine to bash a long time ago, but the Yocto manual doesn't mention it, I think it was done for other reasons (xilinx or altera tools)</td><td class="time"><a href="#t2022-02-04T16:19:51" class="time">16:19</a></td></tr>
<tr id="t2022-02-04T16:19:55"><th class="nick" style="background: #57a657">shivamurthy</th><td class="text" style="color: #57a657">like this /usr/bin/sh -&gt; dash</td><td class="time"><a href="#t2022-02-04T16:19:55" class="time">16:19</a></td></tr>
<tr id="t2022-02-04T16:20:27"><th class="nick" style="background: #adad5b">rburton</th><td class="text" style="color: #adad5b">fwiw my sh is dash</td><td class="time"><a href="#t2022-02-04T16:20:27" class="time">16:20</a></td></tr>
<tr id="t2022-02-04T16:20:48"><th class="nick" style="background: #5959a9">rfs613</th><td class="text" style="color: #5959a9">ok, so the shell is not it ;-)</td><td class="time"><a href="#t2022-02-04T16:20:48" class="time">16:20</a></td></tr>
<tr id="t2022-02-04T16:21:09"><th class="nick" style="background: #5959a9">rfs613</th><td class="text" style="color: #5959a9">shivamurthy: I presume you have all the packages listed in <a href="https://www.yoctoproject.org/docs/current/ref-manual/ref-manual.html#ubuntu-packages" rel="nofollow">https://www.yoctoproject.org/docs/current/ref-manual/ref-manual.html#ubuntu-packages</a></td><td class="time"><a href="#t2022-02-04T16:21:09" class="time">16:21</a></td></tr>
<tr id="t2022-02-04T16:21:49"><th class="nick" style="background: #57a657">shivamurthy</th><td class="text" style="color: #57a657">yes, i installed all of them</td><td class="time"><a href="#t2022-02-04T16:21:49" class="time">16:21</a></td></tr>
<tr id="t2022-02-04T16:24:42"><th class="nick" style="background: #57a657">shivamurthy</th><td class="text" style="color: #57a657"><a href="https://www.irccloud.com/pastebin/RyJz1bp2/" rel="nofollow">https://www.irccloud.com/pastebin/RyJz1bp2/</a></td><td class="time"><a href="#t2022-02-04T16:24:42" class="time">16:24</a></td></tr>
<tr id="t2022-02-04T16:25:11"><th class="nick" style="background: #adad5b">rburton</th><td class="text" style="color: #adad5b">and that's just a poky clone, nothing else, and you're just checking out the dunfell branch?</td><td class="time"><a href="#t2022-02-04T16:25:11" class="time">16:25</a></td></tr>
<tr id="t2022-02-04T16:25:22"><th class="nick" style="background: #5959a9">rfs613</th><td class="text" style="color: #5959a9">I believe you... I just can't think of what else might explain all the &quot;command not found&quot; errors</td><td class="time"><a href="#t2022-02-04T16:25:22" class="time">16:25</a></td></tr>
<tr id="t2022-02-04T16:26:44"><th class="nick" style="background: #adad5b">rburton</th><td class="text" style="color: #adad5b">ah</td><td class="time"><a href="#t2022-02-04T16:26:44" class="time">16:26</a></td></tr>
<tr id="t2022-02-04T16:26:51"><th class="nick" style="background: #adad5b">rburton</th><td class="text" style="color: #adad5b">what directory are you doing a build in?</td><td class="time"><a href="#t2022-02-04T16:26:51" class="time">16:26</a></td></tr>
<tr id="t2022-02-04T16:26:55"><th class="nick" style="background: #adad5b">rburton</th><td class="text" style="color: #adad5b">shivamurthy: ^</td><td class="time"><a href="#t2022-02-04T16:26:55" class="time">16:26</a></td></tr>
<tr id="t2022-02-04T16:27:07"><th class="nick" style="background: #adad5b">rburton</th><td class="text" style="color: #adad5b">the full path to the build tree</td><td class="time"><a href="#t2022-02-04T16:27:07" class="time">16:27</a></td></tr>
<tr id="t2022-02-04T16:28:02"><th class="nick" style="background: #5959a9">rfs613</th><td class="text" style="color: #5959a9">from his logs, looks like /home/ubuntu/workspace/yocto-build/poky/</td><td class="time"><a href="#t2022-02-04T16:28:02" class="time">16:28</a></td></tr>
<tr id="t2022-02-04T16:28:17"><th class="nick" style="background: #57a657">shivamurthy</th><td class="text" style="color: #57a657">yes, it is dunfell default</td><td class="time"><a href="#t2022-02-04T16:28:17" class="time">16:28</a></td></tr>
<tr id="t2022-02-04T16:28:38"><th class="nick" style="background: #adad5b">rburton</th><td class="text" style="color: #adad5b">hunches are a) spaces in the path b) a mount which forbids executable files</td><td class="time"><a href="#t2022-02-04T16:28:38" class="time">16:28</a></td></tr>
<tr id="t2022-02-04T16:28:39"><th class="nick" style="background: #57a657">shivamurthy</th><td class="text" style="color: #57a657">path : /home/ubuntu/workspace/yocto-build/poky/build</td><td class="time"><a href="#t2022-02-04T16:28:39" class="time">16:28</a></td></tr>
<tr id="t2022-02-04T16:28:43"><th class="nick" style="background: #adad5b">rburton</th><td class="text" style="color: #adad5b">so not that then</td><td class="time"><a href="#t2022-02-04T16:28:43" class="time">16:28</a></td></tr>
<tr id="t2022-02-04T16:29:23"><th class="nick" style="background: #407a40">khem</th><td class="text" style="color: #407a40">JPEW: Any pointers for starting to create SBOMs with latest master ( some steps ) I find some docs/ppts describing the process etc at highlevel but I was looking for enabling it in builds</td><td class="time"><a href="#t2022-02-04T16:29:23" class="time">16:29</a></td></tr>
<tr id="t2022-02-04T16:29:43"><th class="nick" style="background: #adad5b">rburton</th><td class="text" style="color: #adad5b">shivamurthy: its quite possible its the container causing problems, if the filesystem on /home is unusual</td><td class="time"><a href="#t2022-02-04T16:29:43" class="time">16:29</a></td></tr>
<tr id="t2022-02-04T16:29:49"><th class="nick" style="background: #57a657">shivamurthy</th><td class="text" style="color: #57a657"><a href="https://www.irccloud.com/pastebin/Qf6T6Yg8/" rel="nofollow">https://www.irccloud.com/pastebin/Qf6T6Yg8/</a></td><td class="time"><a href="#t2022-02-04T16:29:49" class="time">16:29</a></td></tr>
<tr id="t2022-02-04T16:30:21"><th class="nick" style="background: #57a657">shivamurthy</th><td class="text" style="color: #57a657">rburton: ^^</td><td class="time"><a href="#t2022-02-04T16:30:21" class="time">16:30</a></td></tr>
<tr id="t2022-02-04T16:30:30"><th class="nick" style="background: #adad5b">rburton</th><td class="text" style="color: #adad5b">and whats the output of 'mount'?</td><td class="time"><a href="#t2022-02-04T16:30:30" class="time">16:30</a></td></tr>
<tr id="t2022-02-04T16:31:55"><th class="nick" style="background: #57a657">shivamurthy</th><td class="text" style="color: #57a657"><a href="https://www.irccloud.com/pastebin/IpYqF3zt/" rel="nofollow">https://www.irccloud.com/pastebin/IpYqF3zt/</a></td><td class="time"><a href="#t2022-02-04T16:31:55" class="time">16:31</a></td></tr>
<tr id="t2022-02-04T16:33:52"><th class="nick" style="background: #b15db1">JPEW</th><td class="text" style="color: #b15db1">khem: Mostly, just INHERIT += &quot;create-spdx&quot;</td><td class="time"><a href="#t2022-02-04T16:33:52" class="time">16:33</a></td></tr>
<tr id="t2022-02-04T16:34:32"><th class="nick" style="background: #b15db1">JPEW</th><td class="text" style="color: #b15db1">khem: There are a set of 4 variables at the top of create-spdx.bbclass (all default to &quot;0&quot;) that you can use to add additional things</td><td class="time"><a href="#t2022-02-04T16:34:32" class="time">16:34</a></td></tr>
<tr id="t2022-02-04T16:34:55"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">shivamurthy: I guess another question would be what the exact command you use to start the container (also, rootless container?)</td><td class="time"><a href="#t2022-02-04T16:34:55" class="time">16:34</a></td></tr>
<tr id="t2022-02-04T16:35:52"><th class="nick" style="background: #57a657">shivamurthy</th><td class="text" style="color: #57a657">lxc exec &lt;cont_name&gt; -- su --login ubuntu</td><td class="time"><a href="#t2022-02-04T16:35:52" class="time">16:35</a></td></tr>
<tr id="t2022-02-04T16:36:24"><th class="nick" style="background: #adad5b">rburton</th><td class="text" style="color: #adad5b">i guess this could be lxc messing things up, never tried it.&nbsp;&nbsp;can you try a build outside the container?</td><td class="time"><a href="#t2022-02-04T16:36:24" class="time">16:36</a></td></tr>
<tr id="t2022-02-04T16:37:16"><th class="nick" style="background: #539e9e">fabatera[m]</th><td class="text" style="color: #539e9e">s/module_compile/module_do_compile/</td><td class="time"><a href="#t2022-02-04T16:37:16" class="time">16:37</a></td></tr>
<tr id="t2022-02-04T16:37:57"><th class="nick" style="background: #5959a9">rfs613</th><td class="text" style="color: #5959a9">the 'mount' output is a bit curious, it lists /dev/nvme0n1p2 both as root (/), as /home/ubuntu/workspace, and as /snap</td><td class="time"><a href="#t2022-02-04T16:37:57" class="time">16:37</a></td></tr>
<tr id="t2022-02-04T16:39:10"><th class="nick" style="background: #57a657">shivamurthy</th><td class="text" style="color: #57a657">rburton: i will give a try now</td><td class="time"><a href="#t2022-02-04T16:39:10" class="time">16:39</a></td></tr>
<tr id="t2022-02-04T16:39:15"><th class="nick" style="background: #adad5b">rburton</th><td class="text" style="color: #adad5b">rfs613: put that under 'lxc messing things up'?</td><td class="time"><a href="#t2022-02-04T16:39:15" class="time">16:39</a></td></tr>
<tr id="t2022-02-04T16:39:22"><th class="nick" style="background: #adad5b">rburton</th><td class="text" style="color: #adad5b">clearly that's not the truth</td><td class="time"><a href="#t2022-02-04T16:39:22" class="time">16:39</a></td></tr>
<tr id="t2022-02-04T16:39:39"><th class="nick" style="background: #adad5b">rburton</th><td class="text" style="color: #adad5b">so some 'magic' hiding the file system reality?</td><td class="time"><a href="#t2022-02-04T16:39:39" class="time">16:39</a></td></tr>
<tr id="t2022-02-04T16:39:43"><td class="action" colspan="2">* rfs613 wasn't clear if this 'mount' output was from the host, or from within lxc container</td><td><a href="#t2022-02-04T16:39:43" class="time">16:39</a></td></tr>
<tr id="t2022-02-04T16:40:02"><th class="nick" style="background: #adad5b">rburton</th><td class="text" style="color: #adad5b">good point, we need the mount from inside, ie what bitbake will see</td><td class="time"><a href="#t2022-02-04T16:40:02" class="time">16:40</a></td></tr>
<tr id="t2022-02-04T16:40:04"><th class="nick" style="background: #57a657">shivamurthy</th><td class="text" style="color: #57a657">rfs613: from lxc container</td><td class="time"><a href="#t2022-02-04T16:40:04" class="time">16:40</a></td></tr>
<tr id="t2022-02-04T16:40:15"><th class="nick" style="background: #adad5b">rburton</th><td class="text" style="color: #adad5b">yeah lxc is doing something 'interesting' then</td><td class="time"><a href="#t2022-02-04T16:40:15" class="time">16:40</a></td></tr>
<tr id="t2022-02-04T16:40:22"><th class="nick" style="background: #5959a9">rfs613</th><td class="text" style="color: #5959a9">yep seems like it</td><td class="time"><a href="#t2022-02-04T16:40:22" class="time">16:40</a></td></tr>
<tr id="t2022-02-04T16:40:46"><th class="nick" style="background: #adad5b">rburton</th><td class="text" style="color: #adad5b">my money is the workspace mount is some magic filesystem like docker has, where it pretends to be a proper FS but then you try and do some things and it silently does something else</td><td class="time"><a href="#t2022-02-04T16:40:46" class="time">16:40</a></td></tr>
<tr id="t2022-02-04T16:41:02"><th class="nick" style="background: #539e9e">fabatera[m]</th><td class="text" style="color: #539e9e">&lt;qschulz&gt; &quot;fabatera: we maintain plenty...&quot; &lt;- qschulz: Thanks a lot for the patience! :)</td><td class="time"><a href="#t2022-02-04T16:41:02" class="time">16:41</a></td></tr>
<tr id="t2022-02-04T16:41:02-2"><th class="nick" style="background: #539e9e">fabatera[m]</th><td class="text" style="color: #539e9e">Yes, I totally understand and agree it's the best way. But in my case it's not convenient (or practical) to maintain the patches and one recipe for each app/module (6 in this package and there are 20 packages more).</td><td class="time"><a href="#t2022-02-04T16:41:02-2" class="time">16:41</a></td></tr>
<tr id="t2022-02-04T16:41:02-3"><th class="nick" style="background: #539e9e">fabatera[m]</th><td class="text" style="color: #539e9e">It's not standard way but works very well in the long term.</td><td class="time"><a href="#t2022-02-04T16:41:02-3" class="time">16:41</a></td></tr>
<tr id="t2022-02-04T16:41:52"><th class="nick" style="background: #57a657">shivamurthy</th><td class="text" style="color: #57a657">I am mounting workspace directory from host to container, i have some other things there which i use for different yocto build</td><td class="time"><a href="#t2022-02-04T16:41:52" class="time">16:41</a></td></tr>
<tr id="t2022-02-04T16:42:52"><th class="nick" style="background: #adad5b">rburton</th><td class="text" style="color: #adad5b">shivamurthy: so what's the mount on the host, as the container thinks that the same device is mounted in three places, which isn't right</td><td class="time"><a href="#t2022-02-04T16:42:52" class="time">16:42</a></td></tr>
<tr id="t2022-02-04T16:43:40"><th class="nick" style="background: #adad5b">rburton</th><td class="text" style="color: #adad5b">we will figure this out and get a sanity check added :). (we already check for the thing that breaks everyone using a linux docker on macos)</td><td class="time"><a href="#t2022-02-04T16:43:40" class="time">16:43</a></td></tr>
<tr id="t2022-02-04T16:43:48"><th class="nick" style="background: #5fb4b4">kergoth</th><td class="text" style="color: #5fb4b4">iirc bind mounts show up like that in /proc/mounts, looks like just multiple mounts of the same device rather than what it actually is</td><td class="time"><a href="#t2022-02-04T16:43:48" class="time">16:43</a></td></tr>
<tr id="t2022-02-04T16:44:03"><th class="nick" style="background: #5fb4b4">kergoth</th><td class="text" style="color: #5fb4b4">not 100% certain, though</td><td class="time"><a href="#t2022-02-04T16:44:03" class="time">16:44</a></td></tr>
<tr id="t2022-02-04T16:45:26"><th class="nick" style="background: #57a657">shivamurthy</th><td class="text" style="color: #57a657"><a href="https://www.irccloud.com/pastebin/qRF1UVgZ/mount_on_host" rel="nofollow">https://www.irccloud.com/pastebin/qRF1UVgZ/mount_on_host</a></td><td class="time"><a href="#t2022-02-04T16:45:26" class="time">16:45</a></td></tr>
<tr id="t2022-02-04T16:47:24"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">fabatera[m]: yeah sometime sthe best practices don't apply well to some obscure development workflow of some companies :)</td><td class="time"><a href="#t2022-02-04T16:47:24" class="time">16:47</a></td></tr>
<tr id="t2022-02-04T16:47:42"><th class="nick" style="background: #adad5b">rburton</th><td class="text" style="color: #adad5b">shivamurthy: and /home/ubuntu/workspace is just a normal directory on your host which you magic into the container somehow?</td><td class="time"><a href="#t2022-02-04T16:47:42" class="time">16:47</a></td></tr>
<tr id="t2022-02-04T16:48:54"><th class="nick" style="background: #57a657">shivamurthy</th><td class="text" style="color: #57a657">rburton: yes</td><td class="time"><a href="#t2022-02-04T16:48:54" class="time">16:48</a></td></tr>
<tr id="t2022-02-04T16:50:02"><th class="nick" style="background: #adad5b">rburton</th><td class="text" style="color: #adad5b">super weird</td><td class="time"><a href="#t2022-02-04T16:50:02" class="time">16:50</a></td></tr>
<tr id="t2022-02-04T16:59:51"><th class="nick" style="background: #407a40">khem</th><td class="text" style="color: #407a40">JPEW: thanks</td><td class="time"><a href="#t2022-02-04T16:59:51" class="time">16:59</a></td></tr>
<tr id="t2022-02-04T16:59:59"><th class="nick" style="background: #407a40">khem</th><td class="text" style="color: #407a40">JPEW:&nbsp;&nbsp;will it work in dunfell too ? or is it too much to ask </td><td class="time"><a href="#t2022-02-04T16:59:59" class="time">16:59</a></td></tr>
<tr id="t2022-02-04T17:04:49"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">smurray: thanks. I need to sort this syslog issue before I can merge more but sounds like we don't have any blockers which is great</td><td class="time"><a href="#t2022-02-04T17:04:49" class="time">17:04</a></td></tr>
<tr id="t2022-02-04T17:13:12"><th class="nick" style="background: #b15db1">JPEW</th><td class="text" style="color: #b15db1">khem: there is interest in back porting it. I think the license changes sakoman is bringing in will help with that</td><td class="time"><a href="#t2022-02-04T17:13:12" class="time">17:13</a></td></tr>
<tr id="t2022-02-04T17:20:57"><th class="nick" style="background: #407a40">khem</th><td class="text" style="color: #407a40">JPEW:&nbsp;&nbsp;thanks</td><td class="time"><a href="#t2022-02-04T17:20:57" class="time">17:20</a></td></tr>
<tr id="t2022-02-04T17:38:16"><td class="nickchange" colspan="2">*** mckoan is now known as mckoan|away</td><td><a href="#t2022-02-04T17:38:16" class="time">17:38</a></td></tr>
<tr id="t2022-02-04T17:40:00"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">RP: I reproduced the centos thing - qemu from sstate does not link with librt, while qemu on centos does</td><td class="time"><a href="#t2022-02-04T17:40:00" class="time">17:40</a></td></tr>
<tr id="t2022-02-04T17:40:04"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">RP: looking into why</td><td class="time"><a href="#t2022-02-04T17:40:04" class="time">17:40</a></td></tr>
<tr id="t2022-02-04T17:40:29"><th class="nick" style="background: #57a657">shivamurthy</th><td class="text" style="color: #57a657">rburton: rfs613: you are right, the problem is with container, build works on normal system</td><td class="time"><a href="#t2022-02-04T17:40:29" class="time">17:40</a></td></tr>
<tr id="t2022-02-04T17:40:50"><th class="nick" style="background: #57a657">shivamurthy</th><td class="text" style="color: #57a657">thanks for the help and sorry to trouble you</td><td class="time"><a href="#t2022-02-04T17:40:50" class="time">17:40</a></td></tr>
<tr id="t2022-02-04T17:46:38"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">kanavin: this is probably the &quot;merge everything into one libc&quot; issue?</td><td class="time"><a href="#t2022-02-04T17:46:38" class="time">17:46</a></td></tr>
<tr id="t2022-02-04T17:49:16"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">kanavin: oh, I remember what I was thinking of now. This was why I added those binary shims to pseudo :/</td><td class="time"><a href="#t2022-02-04T17:49:16" class="time">17:49</a></td></tr>
<tr id="t2022-02-04T17:49:25"><th class="nick" style="background: #407a40">khem</th><td class="text" style="color: #407a40">kanavin: librt has been merged into libc in recent glibc so perhaps its being built on one of the newer distros where it wont have librt in DT_NEEDED but when built on centos it does</td><td class="time"><a href="#t2022-02-04T17:49:25" class="time">17:49</a></td></tr>
<tr id="t2022-02-04T17:49:30"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">so pseudo native would work cross platforms</td><td class="time"><a href="#t2022-02-04T17:49:30" class="time">17:49</a></td></tr>
<tr id="t2022-02-04T17:49:45"><th class="nick" style="background: #407a40">khem</th><td class="text" style="color: #407a40">maybe we should use tools tarball</td><td class="time"><a href="#t2022-02-04T17:49:45" class="time">17:49</a></td></tr>
<tr id="t2022-02-04T17:50:01"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">kanavin: although with uninative it should be using that and not need the separate librt :/</td><td class="time"><a href="#t2022-02-04T17:50:01" class="time">17:50</a></td></tr>
<tr id="t2022-02-04T17:54:36"><th class="nick" style="background: #b86161">SpiderDroneX</th><td class="text" style="color: #b86161">Yo, any tips on the quickest way to add a temporary single file to the image? Can something hacky get into local.conf without having to create a recipe and then adding it to the image...</td><td class="time"><a href="#t2022-02-04T17:54:36" class="time">17:54</a></td></tr>
<tr id="t2022-02-04T17:55:20"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">RP: I was just looking at libSDL from the two builds, and indeed:</td><td class="time"><a href="#t2022-02-04T17:55:20" class="time">17:55</a></td></tr>
<tr id="t2022-02-04T17:55:20-2"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">SpiderDroneX: ROOTFS_POSTPROCESS_COMMAND I guess</td><td class="time"><a href="#t2022-02-04T17:55:20-2" class="time">17:55</a></td></tr>
<tr id="t2022-02-04T17:55:29"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">Dynamic Section:</td><td class="time"><a href="#t2022-02-04T17:55:29" class="time">17:55</a></td></tr>
<tr id="t2022-02-04T17:55:29-2"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">&nbsp;&nbsp;NEEDED&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; libm.so.6</td><td class="time"><a href="#t2022-02-04T17:55:29-2" class="time">17:55</a></td></tr>
<tr id="t2022-02-04T17:55:29-3"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">&nbsp;&nbsp;NEEDED&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; libdl.so.2</td><td class="time"><a href="#t2022-02-04T17:55:29-3" class="time">17:55</a></td></tr>
<tr id="t2022-02-04T17:55:29-4"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">&nbsp;&nbsp;NEEDED&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; librt.so.1</td><td class="time"><a href="#t2022-02-04T17:55:29-4" class="time">17:55</a></td></tr>
<tr id="t2022-02-04T17:55:29-5"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">&nbsp;&nbsp;NEEDED&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; libpthread.so.0</td><td class="time"><a href="#t2022-02-04T17:55:29-5" class="time">17:55</a></td></tr>
<tr id="t2022-02-04T17:55:30"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">&nbsp;&nbsp;NEEDED&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; libc.so.6</td><td class="time"><a href="#t2022-02-04T17:55:30" class="time">17:55</a></td></tr>
<tr id="t2022-02-04T17:55:32"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">&nbsp;&nbsp;SONAME&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; libSDL2-2.0.so.0</td><td class="time"><a href="#t2022-02-04T17:55:32" class="time">17:55</a></td></tr>
<tr id="t2022-02-04T17:55:34"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">and another:</td><td class="time"><a href="#t2022-02-04T17:55:34" class="time">17:55</a></td></tr>
<tr id="t2022-02-04T17:55:35"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">sgw: I've sent a patch to try and aid debugging of the syslog issue FWIW and kanavin is looking at the qemu librt one</td><td class="time"><a href="#t2022-02-04T17:55:35" class="time">17:55</a></td></tr>
<tr id="t2022-02-04T17:55:41"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">Dynamic Section:</td><td class="time"><a href="#t2022-02-04T17:55:41" class="time">17:55</a></td></tr>
<tr id="t2022-02-04T17:55:42"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">&nbsp;&nbsp;NEEDED&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; libm.so.6</td><td class="time"><a href="#t2022-02-04T17:55:42" class="time">17:55</a></td></tr>
<tr id="t2022-02-04T17:55:42-2"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">&nbsp;&nbsp;NEEDED&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; libc.so.6</td><td class="time"><a href="#t2022-02-04T17:55:42-2" class="time">17:55</a></td></tr>
<tr id="t2022-02-04T17:55:42-3"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">&nbsp;&nbsp;SONAME&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; libSDL2-2.0.so.0</td><td class="time"><a href="#t2022-02-04T17:55:42-3" class="time">17:55</a></td></tr>
<tr id="t2022-02-04T17:56:48"><th class="nick" style="background: #b86161">SpiderDroneX</th><td class="text" style="color: #b86161">qschulz: Thanks</td><td class="time"><a href="#t2022-02-04T17:56:48" class="time">17:56</a></td></tr>
<tr id="t2022-02-04T17:56:49"><th class="nick" style="background: #62bb62">sgw</th><td class="text" style="color: #62bb62">RP: ok, is the Qemu one related to the libEGL failure on centos8 machine or a different one?</td><td class="time"><a href="#t2022-02-04T17:56:49" class="time">17:56</a></td></tr>
<tr id="t2022-02-04T17:57:27"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">kanavin: there is a dummy librt in uninative which I think is supposed to cover this :/</td><td class="time"><a href="#t2022-02-04T17:57:27" class="time">17:57</a></td></tr>
<tr id="t2022-02-04T17:57:46"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">sgw: not sure. It is the one with the librt issue being reported</td><td class="time"><a href="#t2022-02-04T17:57:46" class="time">17:57</a></td></tr>
<tr id="t2022-02-04T17:58:05"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">RP: the first is from direct build on centos 8, the second one from sstate</td><td class="time"><a href="#t2022-02-04T17:58:05" class="time">17:58</a></td></tr>
<tr id="t2022-02-04T17:58:26"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">RP: so I would have to identify the distro the second one is from and see why it won't link with librt?</td><td class="time"><a href="#t2022-02-04T17:58:26" class="time">17:58</a></td></tr>
<tr id="t2022-02-04T17:58:55"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">kanavin: I think more the question is why that second one won't find or use the librt from uninative correctly</td><td class="time"><a href="#t2022-02-04T17:58:55" class="time">17:58</a></td></tr>
<tr id="t2022-02-04T17:59:25"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">RP: because librt is requested by a mesa driver opened with dlopen() :(</td><td class="time"><a href="#t2022-02-04T17:59:25" class="time">17:59</a></td></tr>
<tr id="t2022-02-04T17:59:39"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">RP: so it ends up using one from the centos host</td><td class="time"><a href="#t2022-02-04T17:59:39" class="time">17:59</a></td></tr>
<tr id="t2022-02-04T17:59:48"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">(the mesa driver is also from the host)</td><td class="time"><a href="#t2022-02-04T17:59:48" class="time">17:59</a></td></tr>
<tr id="t2022-02-04T17:59:56"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">kanavin: so the issue is a mesa built on centos8 with a libsdl that wasn't?</td><td class="time"><a href="#t2022-02-04T17:59:56" class="time">17:59</a></td></tr>
<tr id="t2022-02-04T18:00:10"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">ah, right, so it is a host mesa</td><td class="time"><a href="#t2022-02-04T18:00:10" class="time">18:00</a></td></tr>
<tr id="t2022-02-04T18:00:13"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">RP: yes</td><td class="time"><a href="#t2022-02-04T18:00:13" class="time">18:00</a></td></tr>
<tr id="t2022-02-04T18:00:40"><th class="nick" style="background: #5959a9">rfs613</th><td class="text" style="color: #5959a9">shivamurthy: glad you were able to get your build working - I've not used lxc myself so I have no idea what might be happening there.</td><td class="time"><a href="#t2022-02-04T18:00:40" class="time">18:00</a></td></tr>
<tr id="t2022-02-04T18:00:41"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">kanavin: it should still be looking at the uninative librt first :/</td><td class="time"><a href="#t2022-02-04T18:00:41" class="time">18:00</a></td></tr>
<tr id="t2022-02-04T18:01:00"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">kanavin: we probably need an strace to see if it does look at it and rejects it or just doesnt look</td><td class="time"><a href="#t2022-02-04T18:01:00" class="time">18:01</a></td></tr>
<tr id="t2022-02-04T18:01:03"><th class="nick" style="background: #62bb62">sgw</th><td class="text" style="color: #62bb62">Ok, I will just add the other 2 syslog failures to the bugzilla for tracking then</td><td class="time"><a href="#t2022-02-04T18:01:03" class="time">18:01</a></td></tr>
<tr id="t2022-02-04T18:01:23"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">RP: I have the straces</td><td class="time"><a href="#t2022-02-04T18:01:23" class="time">18:01</a></td></tr>
<tr id="t2022-02-04T18:01:47"><th class="nick" style="background: #b86161">SpiderDroneX</th><td class="text" style="color: #b86161">qschulz: But I can't define function outside a `bb` file to feed the `ROOTFS_POSTPROCESS_COMMAND`, right? ;)</td><td class="time"><a href="#t2022-02-04T18:01:47" class="time">18:01</a></td></tr>
<tr id="t2022-02-04T18:02:12"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">kanavin: ok, so does it reject the librt or not look at it at all?</td><td class="time"><a href="#t2022-02-04T18:02:12" class="time">18:02</a></td></tr>
<tr id="t2022-02-04T18:02:36"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">RP: let me check again</td><td class="time"><a href="#t2022-02-04T18:02:36" class="time">18:02</a></td></tr>
<tr id="t2022-02-04T18:02:52"><th class="nick" style="background: #adad5b">rburton</th><td class="text" style="color: #adad5b">shivamurthy: no problem. Really want to figure out what is causing problems so we can detect it</td><td class="time"><a href="#t2022-02-04T18:02:52" class="time">18:02</a></td></tr>
<tr id="t2022-02-04T18:03:06"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">kanavin: would be in sysroots-uninative</td><td class="time"><a href="#t2022-02-04T18:03:06" class="time">18:03</a></td></tr>
<tr id="t2022-02-04T18:03:40"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">RP: first and only mention of librt:</td><td class="time"><a href="#t2022-02-04T18:03:40" class="time">18:03</a></td></tr>
<tr id="t2022-02-04T18:03:41"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">openat(AT_FDCWD, &quot;/lib64/../lib64/tls/librt.so.1&quot;, O_RDONLY|O_CLOEXEC) = -1 ENOENT (No such file or directory)</td><td class="time"><a href="#t2022-02-04T18:03:41" class="time">18:03</a></td></tr>
<tr id="t2022-02-04T18:03:41-2"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">openat(AT_FDCWD, &quot;/lib64/../lib64/librt.so.1&quot;, O_RDONLY|O_CLOEXEC) = 10</td><td class="time"><a href="#t2022-02-04T18:03:41-2" class="time">18:03</a></td></tr>
<tr id="t2022-02-04T18:04:25"><th class="nick" style="background: #6464bf">ex-bugsbunny</th><td class="text" style="color: #6464bf">question: is there a possibility to add files in a bbappend to be automatically taken into account by referred recipe's do_install() (in an accumulating way) or do I have to use a do_install_append() in the bbappend file for that purpose?</td><td class="time"><a href="#t2022-02-04T18:04:25" class="time">18:04</a></td></tr>
<tr id="t2022-02-04T18:04:47"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">so not tries to look in uninative at all, seems like</td><td class="time"><a href="#t2022-02-04T18:04:47" class="time">18:04</a></td></tr>
<tr id="t2022-02-04T18:04:57"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">kanavin: I wonder if LD_LIBRARY_PATH would help</td><td class="time"><a href="#t2022-02-04T18:04:57" class="time">18:04</a></td></tr>
<tr id="t2022-02-04T18:05:20"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">sorry need to step away for food :/</td><td class="time"><a href="#t2022-02-04T18:05:20" class="time">18:05</a></td></tr>
<tr id="t2022-02-04T18:05:27"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">I'll keep poking</td><td class="time"><a href="#t2022-02-04T18:05:27" class="time">18:05</a></td></tr>
<tr id="t2022-02-04T18:05:47"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">ex-bugsbunny: bbappends, bbclasses, included/required files, original recipe are all flattened and then &quot;exectued&quot;</td><td class="time"><a href="#t2022-02-04T18:05:47" class="time">18:05</a></td></tr>
<tr id="t2022-02-04T18:05:48"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">kanavin: it is almost certainly because we're mixing libc bits, it needs all the uninative ones</td><td class="time"><a href="#t2022-02-04T18:05:48" class="time">18:05</a></td></tr>
<tr id="t2022-02-04T18:06:06"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">libc is backwards compat but not forwards</td><td class="time"><a href="#t2022-02-04T18:06:06" class="time">18:06</a></td></tr>
<tr id="t2022-02-04T18:06:25"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">ex-bugsbunny: so if your original do_install installs a whole directory or has a glob matching the file in the bbappend, that's probably ok yes</td><td class="time"><a href="#t2022-02-04T18:06:25" class="time">18:06</a></td></tr>
<tr id="t2022-02-04T18:09:00"><th class="nick" style="background: #6464bf">ex-bugsbunny</th><td class="text" style="color: #6464bf">just to get it right, qschulz: that means that I just need to replicate the file hierachy of the underlying recipe's output in my bbappend's files directory and this will get merged before do_install() kicks in, right?</td><td class="time"><a href="#t2022-02-04T18:09:00" class="time">18:09</a></td></tr>
<tr id="t2022-02-04T18:18:26"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">ex-bugsbunny: didn't understand the question</td><td class="time"><a href="#t2022-02-04T18:18:26" class="time">18:18</a></td></tr>
<tr id="t2022-02-04T18:27:11"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">RP: librt is loaded by host's /lib64/libLLVM, via RPATH which seems to bypass uninative (not sure why) and is also immune to LD_LIBRARY_PATH. LD_PRELOAD works though.</td><td class="time"><a href="#t2022-02-04T18:27:11" class="time">18:27</a></td></tr>
<tr id="t2022-02-04T18:27:40"><th class="nick" style="background: #62bb62">sgw</th><td class="text" style="color: #62bb62">kanavin: are you looking at the recent qemuppc failure? Just to confirm from my swatting</td><td class="time"><a href="#t2022-02-04T18:27:40" class="time">18:27</a></td></tr>
<tr id="t2022-02-04T18:27:49"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">sgw, no</td><td class="time"><a href="#t2022-02-04T18:27:49" class="time">18:27</a></td></tr>
<tr id="t2022-02-04T18:29:19"><th class="nick" style="background: #62bb62">sgw</th><td class="text" style="color: #62bb62">RP: it appears that the build dir for the qemuppc failure is already gone then, just have the buildbot logs</td><td class="time"><a href="#t2022-02-04T18:29:19" class="time">18:29</a></td></tr>
<tr id="t2022-02-04T18:30:40"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">RP: ah, RPATH takes priority over everything else in loader's search order</td><td class="time"><a href="#t2022-02-04T18:30:40" class="time">18:30</a></td></tr>
<tr id="t2022-02-04T18:31:09"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">with uninative it shouldn't though</td><td class="time"><a href="#t2022-02-04T18:31:09" class="time">18:31</a></td></tr>
<tr id="t2022-02-04T18:31:45"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">(e.g. we should tweak uninative's loader to ensure it's not tricked into loading things from the host that are available in uninative)</td><td class="time"><a href="#t2022-02-04T18:31:45" class="time">18:31</a></td></tr>
<tr id="t2022-02-04T18:34:14"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">or just declare Centos 8 broken for having RPATH in its binaries</td><td class="time"><a href="#t2022-02-04T18:34:14" class="time">18:34</a></td></tr>
<tr id="t2022-02-04T18:37:39"><th class="nick" style="background: #6464bf">ex-bugsbunny</th><td class="text" style="color: #6464bf">qschulz: sorry for the complicated question, maybe I better describe an example: assume the recipe uses a git repo which contains dir1/file1 (source path in do_install() will have tp prepend &quot;git/&quot; for it to be installed in some place in rootfs); the bbappend wants to add dir1/file2 to be also installed; is it possible to simply use FILESEXTRAPATHS_prepend := &quot;files:&quot; and put file2 into files/dir1/files2 relative to bbappend file to have i</td><td class="time"><a href="#t2022-02-04T18:37:39" class="time">18:37</a></td></tr>
<tr id="t2022-02-04T18:37:59"><th class="nick" style="background: #6464bf">ex-bugsbunny</th><td class="text" style="color: #6464bf">hopefully this is clearer ...</td><td class="time"><a href="#t2022-02-04T18:37:59" class="time">18:37</a></td></tr>
<tr id="t2022-02-04T18:40:05"><th class="nick" style="background: #6464bf">ex-bugsbunny</th><td class="text" style="color: #6464bf">qschulz: do_install() uses a for loop over ${WORKDIR}/git/dir1/* when placing these files into appropriate location within target rootfs</td><td class="time"><a href="#t2022-02-04T18:40:05" class="time">18:40</a></td></tr>
<tr id="t2022-02-04T18:53:28"><th class="nick" style="background: #4b904b">ad__</th><td class="text" style="color: #4b904b">trying to exclude a package from the image build, but maybe since part of a packagegroup, PACKAGE_EXCLUDE does not work, same for IMAGE_INSTALL_remove</td><td class="time"><a href="#t2022-02-04T18:53:28" class="time">18:53</a></td></tr>
<tr id="t2022-02-04T20:02:16"><td class="nickchange" colspan="2">*** stephano is now known as stephano[away]</td><td><a href="#t2022-02-04T20:02:16" class="time">20:02</a></td></tr>
<tr id="t2022-02-04T21:05:49"><td class="nickchange" colspan="2">*** stephano[away] is now known as stephano</td><td><a href="#t2022-02-04T21:05:49" class="time">21:05</a></td></tr>
<tr id="t2022-02-04T21:08:11"><th class="nick" style="background: #c3c366">landgraf</th><td class="text" style="color: #c3c366">Documentation of PERSISTENT_DIR is confusing (or simply wrong). It says &quot;Specifies the directory BitBake uses to store data that should be preserved between builds&quot;. In fact the data is is NOT preserved between build by default and controlled by BB_SRCREV_POLICY. Default value is &quot;clear&quot;. This causes <a href="https://bugzilla.yoctoproject.org/show_bug.cgi?id=14707" rel="nofollow">https://bugzilla.yoctoproject.org/show_bug.cgi?id=14707</a></td><td class="time"><a href="#t2022-02-04T21:08:11" class="time">21:08</a></td></tr>
<tr id="t2022-02-04T21:09:26"><th class="nick" style="background: #6464bf">ex-bugsbunny</th><td class="text" style="color: #6464bf">qschulz: nevermind, it is as easy as you said, I only needed also to add an appropriate SRC_URI in bbappend and it worked :-) thanks for your help</td><td class="time"><a href="#t2022-02-04T21:09:26" class="time">21:09</a></td></tr>
<tr id="t2022-02-04T21:56:41"><th class="nick" style="background: #5fb4b4">kergoth</th><td class="text" style="color: #5fb4b4">Should probably change that from 'uses' to 'may use'</td><td class="time"><a href="#t2022-02-04T21:56:41" class="time">21:56</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2022-02-03.log.html">&#171; Thursday, 2022-02-03</a> <a href="index.html">Index</a> <a href="%23yocto.2022-02-05.log.html">Saturday, 2022-02-05 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.17.2 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="https://mg.pov.lt/irclog2html/">https://mg.pov.lt/irclog2html/</a>!</p>
</div>
</body>
</html>
