<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Monday, 2022-04-04</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.17.2 by Marius Gedminas" />
  <meta name="version" content="2.17.2 - 2019-04-23" />
</head>
<body>
<h1>Monday, 2022-04-04</h1>
<div class="navigation"> <a href="%23yocto.2022-04-03.log.html">&#171; Sunday, 2022-04-03</a> <a href="index.html">Index</a> <a href="%23yocto.2022-04-05.log.html">Tuesday, 2022-04-05 &#187;</a> </div>
<table class="irclog">
<tr id="t2022-04-04T02:24:30"><th class="nick" style="background: #407a40">amahnui[m]</th><td class="text" style="color: #407a40">&lt;vmeson&gt; &quot;amahnui: it depends on what...&quot; &lt;- What i run is bitbake core-image-sato</td><td class="time"><a href="#t2022-04-04T02:24:30" class="time">02:24</a></td></tr>
<tr id="t2022-04-04T03:12:40"><th class="nick" style="background: #407a40">amahnui[m]</th><td class="text" style="color: #407a40">I succeeded to install freebsd and its de finally ü•≥</td><td class="time"><a href="#t2022-04-04T03:12:40" class="time">03:12</a></td></tr>
<tr id="t2022-04-04T04:29:14"><td class="nickchange" colspan="2">*** Portia[m] is now known as PortiaOld[m]</td><td><a href="#t2022-04-04T04:29:14" class="time">04:29</a></td></tr>
<tr id="t2022-04-04T04:50:34"><th class="nick" style="background: #407a40">amahnui[m]</th><td class="text" style="color: #407a40">I'm currently working from there</td><td class="time"><a href="#t2022-04-04T04:50:34" class="time">04:50</a></td></tr>
<tr id="t2022-04-04T06:26:07"><th class="nick" style="background: #42427e">hmw[m]</th><td class="text" style="color: #42427e">Hi when i run a qt application with gdb conneted i get a sigill on starting a mysql db connection when i don¬¥t connect gdb the application runs fine ( with mysql connection)</td><td class="time"><a href="#t2022-04-04T06:26:07" class="time">06:26</a></td></tr>
<tr id="t2022-04-04T06:35:07"><td class="nickchange" colspan="2">*** mckoan|away is now known as mckoan</td><td><a href="#t2022-04-04T06:35:07" class="time">06:35</a></td></tr>
<tr id="t2022-04-04T06:35:11"><th class="nick" style="background: #818144">mckoan</th><td class="text" style="color: #818144">good morning</td><td class="time"><a href="#t2022-04-04T06:35:11" class="time">06:35</a></td></tr>
<tr id="t2022-04-04T06:35:22"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">yo dudX, yo mckoan</td><td class="time"><a href="#t2022-04-04T06:35:22" class="time">06:35</a></td></tr>
<tr id="t2022-04-04T08:13:58"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">o/</td><td class="time"><a href="#t2022-04-04T08:13:58" class="time">08:13</a></td></tr>
<tr id="t2022-04-04T08:25:05"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">qschulz: \o</td><td class="time"><a href="#t2022-04-04T08:25:05" class="time">08:25</a></td></tr>
<tr id="t2022-04-04T08:41:33"><th class="nick" style="background: #8c4a4a">kanavin_</th><td class="text" style="color: #8c4a4a">here's a question I don't know an answer for. Where does the convention for PASS/FAIL test markers come from?</td><td class="time"><a href="#t2022-04-04T08:41:33" class="time">08:41</a></td></tr>
<tr id="t2022-04-04T08:43:38"><td class="nickchange" colspan="2">*** florian_kc is now known as florian</td><td><a href="#t2022-04-04T08:43:38" class="time">08:43</a></td></tr>
<tr id="t2022-04-04T08:52:19"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">kanavin_: I think we used something existing as a basis for our ptest standard, maybe from autoconf's tests?</td><td class="time"><a href="#t2022-04-04T08:52:19" class="time">08:52</a></td></tr>
<tr id="t2022-04-04T08:53:15"><th class="nick" style="background: #8c4a4a">kanavin_</th><td class="text" style="color: #8c4a4a">RP: right, I'm now trying to find where in auto-land those markers are actually defined :)</td><td class="time"><a href="#t2022-04-04T08:53:15" class="time">08:53</a></td></tr>
<tr id="t2022-04-04T08:53:41"><th class="nick" style="background: #8c4a4a">kanavin_</th><td class="text" style="color: #8c4a4a">libxml upstream is asking that as somehow it's not obvious to them in my patch submission - &quot;</td><td class="time"><a href="#t2022-04-04T08:53:41" class="time">08:53</a></td></tr>
<tr id="t2022-04-04T08:53:41-2"><th class="nick" style="background: #8c4a4a">kanavin_</th><td class="text" style="color: #8c4a4a">tests: print PASS/FAIL for the tests</td><td class="time"><a href="#t2022-04-04T08:53:41-2" class="time">08:53</a></td></tr>
<tr id="t2022-04-04T08:53:41-3"><th class="nick" style="background: #8c4a4a">kanavin_</th><td class="text" style="color: #8c4a4a">&quot;</td><td class="time"><a href="#t2022-04-04T08:53:41-3" class="time">08:53</a></td></tr>
<tr id="t2022-04-04T09:02:39"><th class="nick" style="background: #8c4a4a">kanavin_</th><td class="text" style="color: #8c4a4a">found it <a href="https://www.gnu.org/software/automake/manual/html_node/Scripts_002dbased-Testsuites.html" rel="nofollow">https://www.gnu.org/software/automake/manual/html_node/Scripts_002dbased-Testsuites.html</a></td><td class="time"><a href="#t2022-04-04T09:02:39" class="time">09:02</a></td></tr>
<tr id="t2022-04-04T09:19:42"><th class="nick" style="background: #4d4d93">Saur[m]</th><td class="text" style="color: #4d4d93">RP: If you add `ROOTFS_POSTPROCESS_COMMAND:remove = &quot;foobar&quot;` to your configuration, parsing will fail. This is due to an error introduced in bitbake commit 6aecc2fe where you add an argument to a call to handle_remove() which should not be there.</td><td class="time"><a href="#t2022-04-04T09:19:42" class="time">09:19</a></td></tr>
<tr id="t2022-04-04T09:20:40"><th class="nick" style="background: #4d4d93">Saur[m]</th><td class="text" style="color: #4d4d93">What I do not understand is why `ROOTFS_POSTPROCESS_COMMAND` triggers that code path, as it is supposed to be for shell functions.</td><td class="time"><a href="#t2022-04-04T09:20:40" class="time">09:20</a></td></tr>
<tr id="t2022-04-04T09:35:46"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">Is there a way to get MACHINE from bitbake -e? I just was surprised that its not included as-is.</td><td class="time"><a href="#t2022-04-04T09:35:46" class="time">09:35</a></td></tr>
<tr id="t2022-04-04T09:36:10"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">LetoThe2nd: how are you trying to grep it?</td><td class="time"><a href="#t2022-04-04T09:36:10" class="time">09:36</a></td></tr>
<tr id="t2022-04-04T09:36:50"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">RP: the classic - ^/MACHINE</td><td class="time"><a href="#t2022-04-04T09:36:50" class="time">09:36</a></td></tr>
<tr id="t2022-04-04T09:37:08"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">LetoThe2nd: it is listed as unexport MACHINE I suspect</td><td class="time"><a href="#t2022-04-04T09:37:08" class="time">09:37</a></td></tr>
<tr id="t2022-04-04T09:37:56"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">RP: no, can't confirm. bitbake-getvar also is kinda unhelpful.</td><td class="time"><a href="#t2022-04-04T09:37:56" class="time">09:37</a></td></tr>
<tr id="t2022-04-04T09:38:53"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">LetoThe2nd: well, I suspect meta/conf/bitbake.conf:MACHINE[unexport] = &quot;1&quot; is the issue</td><td class="time"><a href="#t2022-04-04T09:38:53" class="time">09:38</a></td></tr>
<tr id="t2022-04-04T09:39:13"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">RP: is there a deeper reason for this?</td><td class="time"><a href="#t2022-04-04T09:39:13" class="time">09:39</a></td></tr>
<tr id="t2022-04-04T09:39:38"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">LetoThe2nd: there was some major piece of software which broke if you had MACHINE set in it's build environment</td><td class="time"><a href="#t2022-04-04T09:39:38" class="time">09:39</a></td></tr>
<tr id="t2022-04-04T09:39:57"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">nowadays we'd just put this in the specific recipe but at the time...</td><td class="time"><a href="#t2022-04-04T09:39:57" class="time">09:39</a></td></tr>
<tr id="t2022-04-04T09:40:39"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">RP: yeah the comment says binutils. hm.</td><td class="time"><a href="#t2022-04-04T09:40:39" class="time">09:40</a></td></tr>
<tr id="t2022-04-04T09:40:58"><th class="nick" style="background: #4d4d93">Saur[m]</th><td class="text" style="color: #4d4d93">RP: But shouldn't it still be in `bitbake -e` even if it is unexported?</td><td class="time"><a href="#t2022-04-04T09:40:58" class="time">09:40</a></td></tr>
<tr id="t2022-04-04T09:41:46"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">the value shows up indirectly, in the line above &quot;unset MACHINE&quot;</td><td class="time"><a href="#t2022-04-04T09:41:46" class="time">09:41</a></td></tr>
<tr id="t2022-04-04T09:41:59"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">but it's kinda ugly to get it out of there.</td><td class="time"><a href="#t2022-04-04T09:41:59" class="time">09:41</a></td></tr>
<tr id="t2022-04-04T09:42:51"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">LetoThe2nd: remove the unexport line and watch the whole world burn :)</td><td class="time"><a href="#t2022-04-04T09:42:51" class="time">09:42</a></td></tr>
<tr id="t2022-04-04T09:43:53"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">qschulz: if anything, then i'll set the universe on fire! <a href="https://youtu.be/gXzMD065HEk" rel="nofollow">https://youtu.be/gXzMD065HEk</a></td><td class="time"><a href="#t2022-04-04T09:43:53" class="time">09:43</a></td></tr>
<tr id="t2022-04-04T09:45:09"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">LetoThe2nd: I did that in 2006: <a href="https://git.yoctoproject.org/poky/commit/meta/classes/base.bbclass?id=e4bb4ba86be48108552e8aa8895e1dac25a6770a" rel="nofollow">https://git.yoctoproject.org/poky/commit/meta/classes/base.bbclass?id=e4bb4ba86be48108552e8aa8895e1dac25a6770a</a> :/</td><td class="time"><a href="#t2022-04-04T09:45:09" class="time">09:45</a></td></tr>
<tr id="t2022-04-04T09:45:41"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">RP: thanks!</td><td class="time"><a href="#t2022-04-04T09:45:41" class="time">09:45</a></td></tr>
<tr id="t2022-04-04T09:46:49"><th class="nick" style="background: #4d4d93">Saur[m]</th><td class="text" style="color: #4d4d93">But still, unexport != unset</td><td class="time"><a href="#t2022-04-04T09:46:49" class="time">09:46</a></td></tr>
<tr id="t2022-04-04T09:48:12"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">Saur[m]: in the context of something readable to bash shell it is</td><td class="time"><a href="#t2022-04-04T09:48:12" class="time">09:48</a></td></tr>
<tr id="t2022-04-04T09:48:39"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">LetoThe2nd: <a href="https://git.yoctoproject.org/poky/commit/meta/classes/base.bbclass?id=1a59c52aec5f98c73541e9475d69cfe705bd978a" rel="nofollow">https://git.yoctoproject.org/poky/commit/meta/classes/base.bbclass?id=1a59c52aec5f98c73541e9475d69cfe705bd978a</a> was the move from inline python to specific syntax and it moved from base.bbclass to bitbake.conf later</td><td class="time"><a href="#t2022-04-04T09:48:39" class="time">09:48</a></td></tr>
<tr id="t2022-04-04T09:48:55"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">LetoThe2nd: I'd be in favour of moving this to the binutils recipes now FWIW</td><td class="time"><a href="#t2022-04-04T09:48:55" class="time">09:48</a></td></tr>
<tr id="t2022-04-04T09:49:25"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">Saur[m]: it specifically does unset as the user may have done MACHINE=XXX bitbake&nbsp;&nbsp;Y</td><td class="time"><a href="#t2022-04-04T09:49:25" class="time">09:49</a></td></tr>
<tr id="t2022-04-04T09:49:32"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">RP: technically agreed, but might cause fallout (gut feeling)</td><td class="time"><a href="#t2022-04-04T09:49:32" class="time">09:49</a></td></tr>
<tr id="t2022-04-04T09:49:52"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">LetoThe2nd: welcome to the world of making improvements/cleanups :)</td><td class="time"><a href="#t2022-04-04T09:49:52" class="time">09:49</a></td></tr>
<tr id="t2022-04-04T09:50:05"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">it may not even be an issue for binutils now</td><td class="time"><a href="#t2022-04-04T09:50:05" class="time">09:50</a></td></tr>
<tr id="t2022-04-04T09:50:18"><th class="nick" style="background: #4d4d93">Saur[m]</th><td class="text" style="color: #4d4d93">Hmm, ok. I guess it is the same code that generates the run.do_... files that generates the output for `bitbake -e`?</td><td class="time"><a href="#t2022-04-04T09:50:18" class="time">09:50</a></td></tr>
<tr id="t2022-04-04T09:50:43"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">RP: yeah, sure. but I wouldn't bet on it at this stage of the release.</td><td class="time"><a href="#t2022-04-04T09:50:43" class="time">09:50</a></td></tr>
<tr id="t2022-04-04T09:51:20"><th class="nick" style="background: #4d4d93">Saur[m]</th><td class="text" style="color: #4d4d93">RP: Did you see my problem with `ROOTFS_POSTPROCESS_COMMAND:remove` above?</td><td class="time"><a href="#t2022-04-04T09:51:20" class="time">09:51</a></td></tr>
<tr id="t2022-04-04T09:51:46"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">Saur[m]: exactly the same code, yes. bitbake -e was meant for use by a shell, not human grepping</td><td class="time"><a href="#t2022-04-04T09:51:46" class="time">09:51</a></td></tr>
<tr id="t2022-04-04T09:52:03"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">Saur[m]: I did, I'm trying to get to an environment where I can try it</td><td class="time"><a href="#t2022-04-04T09:52:03" class="time">09:52</a></td></tr>
<tr id="t2022-04-04T09:52:12"><th class="nick" style="background: #4d4d93">Saur[m]</th><td class="text" style="color: #4d4d93">Figures. Then it is much more understabdable why it does unset.</td><td class="time"><a href="#t2022-04-04T09:52:12" class="time">09:52</a></td></tr>
<tr id="t2022-04-04T09:52:58"><th class="nick" style="background: #4d4d93">Saur[m]</th><td class="text" style="color: #4d4d93">Ok, good. But I cannot figure out why `ROOTFS_POSTPROCESS_COMMAND[func] == 1`. That is just weird.</td><td class="time"><a href="#t2022-04-04T09:52:58" class="time">09:52</a></td></tr>
<tr id="t2022-04-04T10:00:10"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">Saur[m]: fix pushed</td><td class="time"><a href="#t2022-04-04T10:00:10" class="time">10:00</a></td></tr>
<tr id="t2022-04-04T10:01:11"><th class="nick" style="background: #4d4d93">Saur[m]</th><td class="text" style="color: #4d4d93">Found it. It was in `image.bbclass`. Interesting, I thought [func] was only for&nbsp;&nbsp;python/shell functions declared in bitbake files, but I guess it is used for variables that take shell like values as well...</td><td class="time"><a href="#t2022-04-04T10:01:11" class="time">10:01</a></td></tr>
<tr id="t2022-04-04T10:04:29"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">Saur[m]: I think we did that so we had better dependency handling within those cars</td><td class="time"><a href="#t2022-04-04T10:04:29" class="time">10:04</a></td></tr>
<tr id="t2022-04-04T10:04:31"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">vars</td><td class="time"><a href="#t2022-04-04T10:04:31" class="time">10:04</a></td></tr>
<tr id="t2022-04-04T10:04:51"><th class="nick" style="background: #4d4d93">Saur[m]</th><td class="text" style="color: #4d4d93">Ok.</td><td class="time"><a href="#t2022-04-04T10:04:51" class="time">10:04</a></td></tr>
<tr id="t2022-04-04T10:05:14"><th class="nick" style="background: #4d4d93">Saur[m]</th><td class="text" style="color: #4d4d93">Well, at least it found that error. ;)</td><td class="time"><a href="#t2022-04-04T10:05:14" class="time">10:05</a></td></tr>
<tr id="t2022-04-04T10:05:54"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">clearly a corner case in the tests :(</td><td class="time"><a href="#t2022-04-04T10:05:54" class="time">10:05</a></td></tr>
<tr id="t2022-04-04T10:07:55"><th class="nick" style="background: #4d4d93">Saur[m]</th><td class="text" style="color: #4d4d93">RP: On to something completely different:</td><td class="time"><a href="#t2022-04-04T10:07:55" class="time">10:07</a></td></tr>
<tr id="t2022-04-04T10:08:05"><th class="nick" style="background: #4d4d93">Saur[m]</th><td class="text" style="color: #4d4d93">I know we have somewhat different opinions on the UI, but I have given it a lot of thought and I had an idea yesterday that I want to run by you. So please, bear with me.</td><td class="time"><a href="#t2022-04-04T10:08:05" class="time">10:08</a></td></tr>
<tr id="t2022-04-04T10:08:12"><th class="nick" style="background: #4d4d93">Saur[m]</th><td class="text" style="color: #4d4d93">How about we move the setscene line to after the main progress line, then add a progress bar and finally make the line only show when there are setscene tasks running?</td><td class="time"><a href="#t2022-04-04T10:08:12" class="time">10:08</a></td></tr>
<tr id="t2022-04-04T10:08:19"><th class="nick" style="background: #4d4d93">Saur[m]</th><td class="text" style="color: #4d4d93">That way we keep the main status line at the top as it has always been, and the setscene line behaves much like the other subtasks below, i.e., it only shows when there is active work going on at which times it shows the progress.</td><td class="time"><a href="#t2022-04-04T10:08:19" class="time">10:08</a></td></tr>
<tr id="t2022-04-04T10:08:37"><th class="nick" style="background: #4d4d93">Saur[m]</th><td class="text" style="color: #4d4d93">I have implemented it and I think it works very well.</td><td class="time"><a href="#t2022-04-04T10:08:37" class="time">10:08</a></td></tr>
<tr id="t2022-04-04T10:14:42"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">Saur[m]: the trouble is the ordering. setscene in a user's mind is before the tasks and I'm not keen on a UI which reverses that. I'm also not keen on a UI which shows and hides information depending on where things are at. If hash equiv shows matches, it would mean the bar appearing and disappearing which I think would confuse more than it help</td><td class="time"><a href="#t2022-04-04T10:14:42" class="time">10:14</a></td></tr>
<tr id="t2022-04-04T10:15:34"><th class="nick" style="background: #4d4d93">Saur[m]</th><td class="text" style="color: #4d4d93">RP: But that is exactly how the other tasks below behaves. They come and go as they are being worked.</td><td class="time"><a href="#t2022-04-04T10:15:34" class="time">10:15</a></td></tr>
<tr id="t2022-04-04T10:15:44"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">LetoThe2nd: looks like ld uses MACHINE in linker scripts. I'm not sure if that is or isn't safe from the environment now :/</td><td class="time"><a href="#t2022-04-04T10:15:44" class="time">10:15</a></td></tr>
<tr id="t2022-04-04T10:16:04"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">Saur[m]: but setscene progress isn't just an individual task</td><td class="time"><a href="#t2022-04-04T10:16:04" class="time">10:16</a></td></tr>
<tr id="t2022-04-04T10:16:21"><th class="nick" style="background: #4d4d93">Saur[m]</th><td class="text" style="color: #4d4d93">The setscene tasks are just a subset of the total work done, ie covered by the main progress line.</td><td class="time"><a href="#t2022-04-04T10:16:21" class="time">10:16</a></td></tr>
<tr id="t2022-04-04T10:17:50"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">Saur[m]: which is an argument for not having one for setscene tasks in my view</td><td class="time"><a href="#t2022-04-04T10:17:50" class="time">10:17</a></td></tr>
<tr id="t2022-04-04T10:18:11"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">Saur[m]: I'm not adding a setscene progress bar, much as you may want one</td><td class="time"><a href="#t2022-04-04T10:18:11" class="time">10:18</a></td></tr>
<tr id="t2022-04-04T10:21:29"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">Saur[m]: I was wondering about a patch to remove more of the progress bars as they really annoyed me yesterday, hiding information about how long the task had been running in favour of some progress information I wasn't interested in ;-)</td><td class="time"><a href="#t2022-04-04T10:21:29" class="time">10:21</a></td></tr>
<tr id="t2022-04-04T10:22:03"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">Saur[m]: I didn't write it but it just illustrates the different expectations people have from the UI</td><td class="time"><a href="#t2022-04-04T10:22:03" class="time">10:22</a></td></tr>
<tr id="t2022-04-04T10:23:32"><th class="nick" style="background: #4d4d93">Saur[m]</th><td class="text" style="color: #4d4d93">I can relate to the absence of how long time the task has taken. However, I would prefer to add that time, rather than remove the progress bar.</td><td class="time"><a href="#t2022-04-04T10:23:32" class="time">10:23</a></td></tr>
<tr id="t2022-04-04T10:24:23"><th class="nick" style="background: #4d4d93">Saur[m]</th><td class="text" style="color: #4d4d93">They both serve different purposes.</td><td class="time"><a href="#t2022-04-04T10:24:23" class="time">10:24</a></td></tr>
<tr id="t2022-04-04T10:24:59"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">right, the progress bars are also making me feel ill. Not often I do a fetch with no local sources :/</td><td class="time"><a href="#t2022-04-04T10:24:59" class="time">10:24</a></td></tr>
<tr id="t2022-04-04T10:25:57"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">They were broken as the linux-yocto one restarted from 0% about three different times. I do know why but it isn't a good user experience</td><td class="time"><a href="#t2022-04-04T10:25:57" class="time">10:25</a></td></tr>
<tr id="t2022-04-04T10:28:08"><th class="nick" style="background: #4d4d93">Saur[m]</th><td class="text" style="color: #4d4d93">RP: Hmm, if the problem, in your eyes, are the progress bars themselves, maybe the solution would be to add a `--progress-bar` option to bitbake, and those who wants the bars (like me) can have them, and those who are annoyed by them (like you) can just forget about them?</td><td class="time"><a href="#t2022-04-04T10:28:08" class="time">10:28</a></td></tr>
<tr id="t2022-04-04T10:29:16"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">Saur[m]: I still think the setscene progress bar is just going to mislead and confuse people though as people don't understand what it represents. We need the information in the UI somewhere but we need to focus the user on the correct &quot;overall progress&quot; indicator</td><td class="time"><a href="#t2022-04-04T10:29:16" class="time">10:29</a></td></tr>
<tr id="t2022-04-04T10:30:02"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">Yes, I personally despise the progress bars but even then I don't believe we should mislead users on the UI and the setscene one will do that.</td><td class="time"><a href="#t2022-04-04T10:30:02" class="time">10:30</a></td></tr>
<tr id="t2022-04-04T10:31:00"><th class="nick" style="background: #4d4d93">Saur[m]</th><td class="text" style="color: #4d4d93">Which is why I thought my latest idea was in line with that. I.e., the main progress is there all the time, and while the setscene tasks run (and the main progress typically don't update) the setscene progress bar shows what is happening.</td><td class="time"><a href="#t2022-04-04T10:31:00" class="time">10:31</a></td></tr>
<tr id="t2022-04-04T10:31:02"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">Saur[m]: part of the trouble is that it can go backwards as new potential build paths are discovered by hashequiv</td><td class="time"><a href="#t2022-04-04T10:31:02" class="time">10:31</a></td></tr>
<tr id="t2022-04-04T10:32:13-2"><th class="nick" style="background: #4d4d93">Saur[m]</th><td class="text" style="color: #4d4d93">Well, if it isn't shown when there are no setscene tasks running, it isn't really going backwards, it is just a &quot;new&quot; bar showing up.</td><td class="time"><a href="#t2022-04-04T10:32:13-2" class="time">10:32</a></td></tr>
<tr id="t2022-04-04T10:32:27"><th class="nick" style="background: #4d4d93">Saur[m]</th><td class="text" style="color: #4d4d93">Anyway, I have to run to get lunch now.</td><td class="time"><a href="#t2022-04-04T10:32:27" class="time">10:32</a></td></tr>
<tr id="t2022-04-04T10:56:12"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">LetoThe2nd: a quick test locally seems to suggest MACHINE being set doesn't cause issues</td><td class="time"><a href="#t2022-04-04T10:56:12" class="time">10:56</a></td></tr>
<tr id="t2022-04-04T11:09:09"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">LetoThe2nd: hang on, unexports are totally pointless now since we tightly control the execution environment and don't take random variables from the parent shell anyway?</td><td class="time"><a href="#t2022-04-04T11:09:09" class="time">11:09</a></td></tr>
<tr id="t2022-04-04T11:33:35"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">wasn't unexport to stop exporting things that were exported initially?</td><td class="time"><a href="#t2022-04-04T11:33:35" class="time">11:33</a></td></tr>
<tr id="t2022-04-04T11:51:31"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">rburton: right, but with the &quot;modern&quot; design, even if in the original env, they wouldn't be in the task env</td><td class="time"><a href="#t2022-04-04T11:51:31" class="time">11:51</a></td></tr>
<tr id="t2022-04-04T11:53:32"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">The big question now, what else needs to be done before we build rc1</td><td class="time"><a href="#t2022-04-04T11:53:32" class="time">11:53</a></td></tr>
<tr id="t2022-04-04T12:08:22"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">i mean if bitbake.conf does export FOO, but that breaks a specific recipe</td><td class="time"><a href="#t2022-04-04T12:08:22" class="time">12:08</a></td></tr>
<tr id="t2022-04-04T12:08:27"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">isn't that what unexport is for?</td><td class="time"><a href="#t2022-04-04T12:08:27" class="time">12:08</a></td></tr>
<tr id="t2022-04-04T12:08:55"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">rburton: yes, it does help that. I'm not aware of anything exporting TARGET_ARCH, DISTRO or MACHINE though?</td><td class="time"><a href="#t2022-04-04T12:08:55" class="time">12:08</a></td></tr>
<tr id="t2022-04-04T12:09:21"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">i was thinking in the abstract sense and not really paying attention to the thread, sorry</td><td class="time"><a href="#t2022-04-04T12:09:21" class="time">12:09</a></td></tr>
<tr id="t2022-04-04T12:10:15"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">rburton: this is bitbake.conf doing an unexport which seems unneeded now</td><td class="time"><a href="#t2022-04-04T12:10:15" class="time">12:10</a></td></tr>
<tr id="t2022-04-04T12:10:32"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">yeah that does seem pointless</td><td class="time"><a href="#t2022-04-04T12:10:32" class="time">12:10</a></td></tr>
<tr id="t2022-04-04T12:11:13"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">rburton: made sense when it was added 15 years ago :)</td><td class="time"><a href="#t2022-04-04T12:11:13" class="time">12:11</a></td></tr>
<tr id="t2022-04-04T12:12:08"><th class="nick" style="background: #4d4d93">Saur[m]</th><td class="text" style="color: #4d4d93">RP:&nbsp;&nbsp;Since we seem to be in agreement that we always want the elapsed time of a build task, I sent a patch for that.</td><td class="time"><a href="#t2022-04-04T12:12:08" class="time">12:12</a></td></tr>
<tr id="t2022-04-04T12:12:23"><th class="nick" style="background: #4d4d93">Saur[m]</th><td class="text" style="color: #4d4d93">Bah, to the wrong list of course...</td><td class="time"><a href="#t2022-04-04T12:12:23" class="time">12:12</a></td></tr>
<tr id="t2022-04-04T12:13:09"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">Saur[m]: doing this at the point we're trying to build rc1 isn't probably a great idea</td><td class="time"><a href="#t2022-04-04T12:13:09" class="time">12:13</a></td></tr>
<tr id="t2022-04-04T12:14:31"><th class="nick" style="background: #4d4d93">Saur[m]</th><td class="text" style="color: #4d4d93">RP: I'll leave that for you to decide. It can just as well be applied later.</td><td class="time"><a href="#t2022-04-04T12:14:31" class="time">12:14</a></td></tr>
<tr id="t2022-04-04T12:19:12"><th class="nick" style="background: #4d4d93">Saur[m]</th><td class="text" style="color: #4d4d93">RP: Btw, I assume there was a reason you left the unexport of SHELL in bitbake.conf?</td><td class="time"><a href="#t2022-04-04T12:19:12" class="time">12:19</a></td></tr>
<tr id="t2022-04-04T12:19:43"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">Saur[m]: does that code break the length of progress bars for task numbers greater than a single digit? :/</td><td class="time"><a href="#t2022-04-04T12:19:43" class="time">12:19</a></td></tr>
<tr id="t2022-04-04T12:20:16"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">Saur[m]: yes, SHELL is a much more recent addition and I think there are subtleties around that</td><td class="time"><a href="#t2022-04-04T12:20:16" class="time">12:20</a></td></tr>
<tr id="t2022-04-04T12:20:16-2"><th class="nick" style="background: #4d4d93">Saur[m]</th><td class="text" style="color: #4d4d93">RP: Shouldn't be any difference compared to before.</td><td class="time"><a href="#t2022-04-04T12:20:16-2" class="time">12:20</a></td></tr>
<tr id="t2022-04-04T12:20:25"><th class="nick" style="background: #4d4d93">Saur[m]</th><td class="text" style="color: #4d4d93">OK.</td><td class="time"><a href="#t2022-04-04T12:20:25" class="time">12:20</a></td></tr>
<tr id="t2022-04-04T12:21:00"><th class="nick" style="background: #4d4d93">Saur[m]</th><td class="text" style="color: #4d4d93">The code that updates the progress bar is the same as before.</td><td class="time"><a href="#t2022-04-04T12:21:00" class="time">12:21</a></td></tr>
<tr id="t2022-04-04T12:21:12"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b"><a href="https://git.yoctoproject.org/poky/commit/meta/conf/bitbake.conf?id=83ac732923f8618f410c033e6f82243fb04f6295" rel="nofollow">https://git.yoctoproject.org/poky/commit/meta/conf/bitbake.conf?id=83ac732923f8618f410c033e6f82243fb04f6295</a></td><td class="time"><a href="#t2022-04-04T12:21:12" class="time">12:21</a></td></tr>
<tr id="t2022-04-04T12:21:32"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">Saur[m]: I'm not saying your change breaks it, I'm just wondering if it is broken</td><td class="time"><a href="#t2022-04-04T12:21:32" class="time">12:21</a></td></tr>
<tr id="t2022-04-04T12:22:08"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">(where 2015 is 'much more recent' than 2006)</td><td class="time"><a href="#t2022-04-04T12:22:08" class="time">12:22</a></td></tr>
<tr id="t2022-04-04T12:22:44"><th class="nick" style="background: #4d4d93">Saur[m]</th><td class="text" style="color: #4d4d93">I have never noticed any such problem with two digit tasks, but I can run some tests and verify it.</td><td class="time"><a href="#t2022-04-04T12:22:44" class="time">12:22</a></td></tr>
<tr id="t2022-04-04T12:38:00"><th class="nick" style="background: #4d4d93">Saur[m]</th><td class="text" style="color: #4d4d93">RP: No need to worry. The progress bars work as intended regardless of the number of digits in the task number.</td><td class="time"><a href="#t2022-04-04T12:38:00" class="time">12:38</a></td></tr>
<tr id="t2022-04-04T12:38:49"><th class="nick" style="background: #407a40">amahnui[m]</th><td class="text" style="color: #407a40">&gt; amahnui: anything that isn't clear first read should be modified, so feel free to give any feedback on things we could improve</td><td class="time"><a href="#t2022-04-04T12:38:49" class="time">12:38</a></td></tr>
<tr id="t2022-04-04T12:39:05"><th class="nick" style="background: #9b519b">BignauxRonan[m]</th><td class="text" style="color: #9b519b">Hi, i've some issue configuring my machine, here i'm <a href="https://github.com/bignaux/meta-playstation2/blob/main/conf/machine/tune-r5900.inc" rel="nofollow">https://github.com/bignaux/meta-playstation2/blob/main/conf/machine/tune-r5900.inc</a> but still have qemu-mipsel: unable to find CPU model 'R5900'&nbsp;&nbsp;on some task.</td><td class="time"><a href="#t2022-04-04T12:39:05" class="time">12:39</a></td></tr>
<tr id="t2022-04-04T12:40:41"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">Saur[m]: I'm not sure how though :/</td><td class="time"><a href="#t2022-04-04T12:40:41" class="time">12:40</a></td></tr>
<tr id="t2022-04-04T12:41:22"><th class="nick" style="background: #407a40">amahnui[m]</th><td class="text" style="color: #407a40">&gt; amahnui: anything that isn't clear first read should be modified, so feel free to give any feedback on things we could improve</td><td class="time"><a href="#t2022-04-04T12:41:22" class="time">12:41</a></td></tr>
<tr id="t2022-04-04T12:41:23"><th class="nick" style="background: #407a40">amahnui[m]</th><td class="text" style="color: #407a40"><a href="https://docs.yoctoproject.org/dev-manual/common-tasks.html#:~:text=Be%20sure%20to%20include%20a%20%E2%80%9CSigned%2Doff%2Dby%3A%E2%80%9D%20line%20in%20the%20same%20style%20as%20required%20by%20the%20Linux%20kernel" rel="nofollow">https://docs.yoctoproject.org/dev-manual/common-tasks.html#:~:text=Be%20sure%20to%20include%20a%20%E2%80%9CSigned%2Doff%2Dby%3A%E2%80%9D%20line%20in%20the%20same%20style%20as%20required%20by%20the%20Linux%20kernel</a>.</td><td class="time"><a href="#t2022-04-04T12:41:23" class="time">12:41</a></td></tr>
<tr id="t2022-04-04T12:41:23-2"><th class="nick" style="background: #407a40">amahnui[m]</th><td class="text" style="color: #407a40">I think we could add the git command that will accomplish this task of signing it off.</td><td class="time"><a href="#t2022-04-04T12:41:23-2" class="time">12:41</a></td></tr>
<tr id="t2022-04-04T12:41:45"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">BignauxRonan[m]: khem most likely knows about qemu/mips but he's not awake yet</td><td class="time"><a href="#t2022-04-04T12:41:45" class="time">12:41</a></td></tr>
<tr id="t2022-04-04T12:42:06"><th class="nick" style="background: #9b519b">BignauxRonan[m]</th><td class="text" style="color: #9b519b">perhaps i could disable sanity check</td><td class="time"><a href="#t2022-04-04T12:42:06" class="time">12:42</a></td></tr>
<tr id="t2022-04-04T12:42:18"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">BignauxRonan[m]: showing the actual error would be helpful</td><td class="time"><a href="#t2022-04-04T12:42:18" class="time">12:42</a></td></tr>
<tr id="t2022-04-04T12:42:27"><th class="nick" style="background: #407a40">amahnui[m]</th><td class="text" style="color: #407a40">&gt; &gt; amahnui: anything that isn't clear first read should be modified, so feel free to give any feedback on things we could improve... (full message at <a href="https://libera.ems.host/_matrix/media/r0/download/libera.chat/6c93c3a0e0f4afdf6becd4e829584d6b40eb9c53" rel="nofollow">https://libera.ems.host/_matrix/media/r0/download/libera.chat/6c93c3a0e0f4afdf6becd4e829584d6b40eb9c53</a>)</td><td class="time"><a href="#t2022-04-04T12:42:27" class="time">12:42</a></td></tr>
<tr id="t2022-04-04T12:42:47"><th class="nick" style="background: #4d4d93">Saur[m]</th><td class="text" style="color: #4d4d93">RP: The pbar.setmessage() call in updateFooter() handles it. The length of the message can change as much as you like, it will still show the line with the progress bar add correctly.</td><td class="time"><a href="#t2022-04-04T12:42:47" class="time">12:42</a></td></tr>
<tr id="t2022-04-04T12:43:00"><th class="nick" style="background: #9b519b">BignauxRonan[m]</th><td class="text" style="color: #9b519b"><a href="https://pastebin.com/QEw8aYNU" rel="nofollow">https://pastebin.com/QEw8aYNU</a></td><td class="time"><a href="#t2022-04-04T12:43:00" class="time">12:43</a></td></tr>
<tr id="t2022-04-04T12:43:35"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">amahnui[m]: agreed. Since you've your whole configuration correctly set up now, one more patch you can send :)</td><td class="time"><a href="#t2022-04-04T12:43:35" class="time">12:43</a></td></tr>
<tr id="t2022-04-04T12:44:00"><th class="nick" style="background: #4d4d93">Saur[m]</th><td class="text" style="color: #4d4d93">I tested by adding randint(0, 1000000) to tasknum for each update and it showed just fine.</td><td class="time"><a href="#t2022-04-04T12:44:00" class="time">12:44</a></td></tr>
<tr id="t2022-04-04T12:44:08"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">amahnui[m]: BTW, for small changes, there's no need to ask for permission, you can send a patch and if someone disagrees the discussion can happen by mail :)</td><td class="time"><a href="#t2022-04-04T12:44:08" class="time">12:44</a></td></tr>
<tr id="t2022-04-04T12:44:37"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">Saur[m]: ah, right. I knew there had to be something</td><td class="time"><a href="#t2022-04-04T12:44:37" class="time">12:44</a></td></tr>
<tr id="t2022-04-04T12:45:00"><th class="nick" style="background: #407a40">amahnui[m]</th><td class="text" style="color: #407a40">&gt; amahnui: agreed. Since you've your whole configuration correctly set up now, one more patch you can send :)</td><td class="time"><a href="#t2022-04-04T12:45:00" class="time">12:45</a></td></tr>
<tr id="t2022-04-04T12:45:00-2"><th class="nick" style="background: #407a40">amahnui[m]</th><td class="text" style="color: #407a40">I will do that right away</td><td class="time"><a href="#t2022-04-04T12:45:00-2" class="time">12:45</a></td></tr>
<tr id="t2022-04-04T12:45:46"><th class="nick" style="background: #407a40">amahnui[m]</th><td class="text" style="color: #407a40">&gt; amahnui: BTW, for small changes, there's no need to ask for permission, you can send a patch and if someone disagrees the discussion can happen by mail :)</td><td class="time"><a href="#t2022-04-04T12:45:46" class="time">12:45</a></td></tr>
<tr id="t2022-04-04T12:45:46-2"><th class="nick" style="background: #407a40">amahnui[m]</th><td class="text" style="color: #407a40">Alright I understand</td><td class="time"><a href="#t2022-04-04T12:45:46-2" class="time">12:45</a></td></tr>
<tr id="t2022-04-04T12:47:34"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">(I mean, you never need to ask for permission, it's just that for big changes, you might want to discuss it first to not spend too much time on something that is not desired, but nothing prevents you from doing it and sending a patch anyway :) )</td><td class="time"><a href="#t2022-04-04T12:47:34" class="time">12:47</a></td></tr>
<tr id="t2022-04-04T12:47:53"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">BignauxRonan[m]: I'm guessing that is from qemu as you have gobject-introspection turned on. You could turn that off if you don't need/use it</td><td class="time"><a href="#t2022-04-04T12:47:53" class="time">12:47</a></td></tr>
<tr id="t2022-04-04T12:48:11"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">BignauxRonan[m]: the other option would be to figure out the correct qemu params</td><td class="time"><a href="#t2022-04-04T12:48:11" class="time">12:48</a></td></tr>
<tr id="t2022-04-04T12:48:56"><th class="nick" style="background: #9b519b">BignauxRonan[m]</th><td class="text" style="color: #9b519b">RP: i was trying second option but don't find right options for now.</td><td class="time"><a href="#t2022-04-04T12:48:56" class="time">12:48</a></td></tr>
<tr id="t2022-04-04T12:49:22"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">BignauxRonan[m]: something like DISTRO_FEATURES:remove = &quot;gobject-introspection-data&quot;</td><td class="time"><a href="#t2022-04-04T12:49:22" class="time">12:49</a></td></tr>
<tr id="t2022-04-04T12:50:06"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">BignauxRonan[m]: sorry, I misread that. I don't know what the qemu options are for that arch or if it is supported</td><td class="time"><a href="#t2022-04-04T12:50:06" class="time">12:50</a></td></tr>
<tr id="t2022-04-04T12:50:45"><th class="nick" style="background: #9b519b">BignauxRonan[m]</th><td class="text" style="color: #9b519b">that's not a supported CPU option, but it has support, could be work</td><td class="time"><a href="#t2022-04-04T12:50:45" class="time">12:50</a></td></tr>
<tr id="t2022-04-04T12:56:27"><th class="nick" style="background: #407a40">amahnui[m]</th><td class="text" style="color: #407a40">&gt; (I mean, you never need to ask for permission, it's just that for big changes, you might want to discuss it first to not spend too much time on something that is not desired, but nothing prevents you from doing it and sending a patch anyway :) )</td><td class="time"><a href="#t2022-04-04T12:56:27" class="time">12:56</a></td></tr>
<tr id="t2022-04-04T12:56:27-2"><th class="nick" style="background: #407a40">amahnui[m]</th><td class="text" style="color: #407a40">Thanks a lot for the clarification üôè</td><td class="time"><a href="#t2022-04-04T12:56:27-2" class="time">12:56</a></td></tr>
<tr id="t2022-04-04T12:58:16"><th class="nick" style="background: #407a40">amahnui[m]</th><td class="text" style="color: #407a40">I also wish to say my freebsd OSis functioning well now</td><td class="time"><a href="#t2022-04-04T12:58:16" class="time">12:58</a></td></tr>
<tr id="t2022-04-04T13:01:17"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">BignauxRonan[m]: I'm not seeing r5900 cpu support in qemu so the only option may be to find something close :/</td><td class="time"><a href="#t2022-04-04T13:01:17" class="time">13:01</a></td></tr>
<tr id="t2022-04-04T13:02:08"><th class="nick" style="background: #9b519b">BignauxRonan[m]</th><td class="text" style="color: #9b519b">there are some support since the author of linux 5.x port would like to compile natively gentoo ...</td><td class="time"><a href="#t2022-04-04T13:02:08" class="time">13:02</a></td></tr>
<tr id="t2022-04-04T13:02:43"><th class="nick" style="background: #9b519b">BignauxRonan[m]</th><td class="text" style="color: #9b519b">i try some QB_CPU = &quot;-cpu 34Kf&quot; to look</td><td class="time"><a href="#t2022-04-04T13:02:43" class="time">13:02</a></td></tr>
<tr id="t2022-04-04T13:02:57"><th class="nick" style="background: #9b519b">BignauxRonan[m]</th><td class="text" style="color: #9b519b">it doesn't take the variable.</td><td class="time"><a href="#t2022-04-04T13:02:57" class="time">13:02</a></td></tr>
<tr id="t2022-04-04T13:03:56"><th class="nick" style="background: #407a40">amahnui[m]</th><td class="text" style="color: #407a40">&gt; amahnui: that being said, you can send a patch to have double quotes around variables in the oe-init-buildenv script, that's for sure</td><td class="time"><a href="#t2022-04-04T13:03:56" class="time">13:03</a></td></tr>
<tr id="t2022-04-04T13:03:56-2"><th class="nick" style="background: #407a40">amahnui[m]</th><td class="text" style="color: #407a40">Hello qschulz rburton Please I wish to ask if you could help me pointers to work on this</td><td class="time"><a href="#t2022-04-04T13:03:56-2" class="time">13:03</a></td></tr>
<tr id="t2022-04-04T13:05:25"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">amahnui[m]: git clone poky in a directory with a space and modify oe-init-build-env until it works</td><td class="time"><a href="#t2022-04-04T13:05:25" class="time">13:05</a></td></tr>
<tr id="t2022-04-04T13:06:19"><th class="nick" style="background: #407a40">amahnui[m]</th><td class="text" style="color: #407a40">Okay thanks I'm on it</td><td class="time"><a href="#t2022-04-04T13:06:19" class="time">13:06</a></td></tr>
<tr id="t2022-04-04T13:06:59"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">amahnui[m]: the issue is that in shell, most of the time, you should use a variable directly but use it with quotes</td><td class="time"><a href="#t2022-04-04T13:06:59" class="time">13:06</a></td></tr>
<tr id="t2022-04-04T13:07:01"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">c.f. <a href="https://github.com/koalaman/shellcheck/wiki/SC2086" rel="nofollow">https://github.com/koalaman/shellcheck/wiki/SC2086</a></td><td class="time"><a href="#t2022-04-04T13:07:01" class="time">13:07</a></td></tr>
<tr id="t2022-04-04T13:07:30"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">(you can also fix other shellcheck warnings if there are others, but one logical change per commit please)</td><td class="time"><a href="#t2022-04-04T13:07:30" class="time">13:07</a></td></tr>
<tr id="t2022-04-04T13:09:06"><th class="nick" style="background: #407a40">amahnui[m]</th><td class="text" style="color: #407a40">qschulz:&nbsp;&nbsp;Alright I will start working on it right away</td><td class="time"><a href="#t2022-04-04T13:09:06" class="time">13:09</a></td></tr>
<tr id="t2022-04-04T13:51:07"><td class="nickchange" colspan="2">*** jclsn10074 is now known as jclsn</td><td><a href="#t2022-04-04T13:51:07" class="time">13:51</a></td></tr>
<tr id="t2022-04-04T14:47:38"><th class="nick" style="background: #539e9e">kergoth</th><td class="text" style="color: #539e9e">RP: iirc the SHELL thing is most obvious if you use a non-posix compliant shell. Try a bitbake build with ‚Äúexport SHELL=fish‚Äù or something to make things blow up</td><td class="time"><a href="#t2022-04-04T14:47:38" class="time">14:47</a></td></tr>
<tr id="t2022-04-04T15:01:19"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">kergoth: I noticed that we do have SHELL mentioned for special handling in bb.utils, I wonder if that shouldn't be there...</td><td class="time"><a href="#t2022-04-04T15:01:19" class="time">15:01</a></td></tr>
<tr id="t2022-04-04T15:01:38"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">kergoth: I also wondered if we did the environment cleaning when you added SHELL back in 2015...</td><td class="time"><a href="#t2022-04-04T15:01:38" class="time">15:01</a></td></tr>
<tr id="t2022-04-04T15:06:08"><th class="nick" style="background: #539e9e">kergoth</th><td class="text" style="color: #539e9e">It‚Äôs a good question</td><td class="time"><a href="#t2022-04-04T15:06:08" class="time">15:06</a></td></tr>
<tr id="t2022-04-04T16:13:33"><td class="nickchange" colspan="2">*** mckoan is now known as mckoan|away</td><td><a href="#t2022-04-04T16:13:33" class="time">16:13</a></td></tr>
<tr id="t2022-04-04T16:50:37"><th class="nick" style="background: #a25555">vvn</th><td class="text" style="color: #a25555">hi there -- if layers are split correctly, you end up with BSP layers (where machine configurations reside), Distro layers (where distro configurations reside), and Application layers (where software packages reside). What about images though, do you guys consider images part of an application layer, or would you consider a fourth &quot;integration&quot; layer type containing image recipes?</td><td class="time"><a href="#t2022-04-04T16:50:37" class="time">16:50</a></td></tr>
<tr id="t2022-04-04T17:06:36"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">images can be considered distro</td><td class="time"><a href="#t2022-04-04T17:06:36" class="time">17:06</a></td></tr>
<tr id="t2022-04-04T17:07:26"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">distro is the integration point</td><td class="time"><a href="#t2022-04-04T17:07:26" class="time">17:07</a></td></tr>
<tr id="t2022-04-04T17:16:25"><th class="nick" style="background: #a25555">vvn</th><td class="text" style="color: #a25555">rburton: let's say that for your company product you use the &quot;beaglebone&quot; machine from meta-ti and meta-arago for the distribution. I guess you add a meta-&lt;company&gt; layer with your software packages and images, maybe stronger policies via multiconfig or a custom distro requiring a base one. Would you consider such proprietary layer a &quot;distro&quot; layer?</td><td class="time"><a href="#t2022-04-04T17:16:25" class="time">17:16</a></td></tr>
<tr id="t2022-04-04T17:16:40"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">yes</td><td class="time"><a href="#t2022-04-04T17:16:40" class="time">17:16</a></td></tr>
<tr id="t2022-04-04T17:16:43"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">its your distro layer</td><td class="time"><a href="#t2022-04-04T17:16:43" class="time">17:16</a></td></tr>
<tr id="t2022-04-04T17:16:50"><th class="nick" style="background: #a25555">vvn</th><td class="text" style="color: #a25555">damn you read fast :]</td><td class="time"><a href="#t2022-04-04T17:16:50" class="time">17:16</a></td></tr>
<tr id="t2022-04-04T17:17:46"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">a distro layer is the integration point</td><td class="time"><a href="#t2022-04-04T17:17:46" class="time">17:17</a></td></tr>
<tr id="t2022-04-04T17:18:13"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">depends on layers for software or bsps, defines how they're configured (distro) and built (images)</td><td class="time"><a href="#t2022-04-04T17:18:13" class="time">17:18</a></td></tr>
<tr id="t2022-04-04T17:19:27"><th class="nick" style="background: #a25555">vvn</th><td class="text" style="color: #a25555">got it. If sharing is needed, then a distro layer can be split to extract software packages in an application layer, like meta-qt5 for example.</td><td class="time"><a href="#t2022-04-04T17:19:27" class="time">17:19</a></td></tr>
<tr id="t2022-04-04T17:20:00"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">yeah, if you end up with a load of recipes for open source software then either create a new layer, or contribute them to an existing one</td><td class="time"><a href="#t2022-04-04T17:20:00" class="time">17:20</a></td></tr>
<tr id="t2022-04-04T17:31:46"><th class="nick" style="background: #a25555">vvn</th><td class="text" style="color: #a25555">rburton: isn't it weird if a distro layer depends on bsp layers?</td><td class="time"><a href="#t2022-04-04T17:31:46" class="time">17:31</a></td></tr>
<tr id="t2022-04-04T17:33:04"><th class="nick" style="background: #a25555">vvn</th><td class="text" style="color: #a25555">I guess it kinda makes sense for a proprietary distro layer, to describe all the supported BSPs.</td><td class="time"><a href="#t2022-04-04T17:33:04" class="time">17:33</a></td></tr>
<tr id="t2022-04-04T17:38:38"><th class="nick" style="background: #a25555">vvn</th><td class="text" style="color: #a25555">The term distro is confusing when you think about it as a generic Linux distro, while in fact it's really about build policies and integration point.</td><td class="time"><a href="#t2022-04-04T17:38:38" class="time">17:38</a></td></tr>
<tr id="t2022-04-04T19:12:44"><th class="nick" style="background: #407a40">amahnui[m]</th><td class="text" style="color: #407a40">Hello qschulz I added double quotes to the variable ($OEROOT) and ran shellcheck and it never pointed&nbsp;&nbsp;```&nbsp;&nbsp;^-----^ SC2086: Double quote to prevent globbing and word splitting.``` that it was giving when there were no quotes. But when i run &quot;source oe-init-build-env&quot; it gives me the error ```/home/abongwa/Desktop/projects/test repo/poky/scripts/oe-setup-builddir: 45: .: Can't open /home/abongwa/Desktop/projects/test```</td><td class="time"><a href="#t2022-04-04T19:12:44" class="time">19:12</a></td></tr>
<tr id="t2022-04-04T19:14:04"><th class="nick" style="background: #407a40">amahnui[m]</th><td class="text" style="color: #407a40">Instead of the normal ```bash: /home/abongwa/Desktop/projects/test: No such file or directory``` error.</td><td class="time"><a href="#t2022-04-04T19:14:04" class="time">19:14</a></td></tr>
<tr id="t2022-04-04T19:19:52"><th class="nick" style="background: #407a40">amahnui[m]</th><td class="text" style="color: #407a40">I thought of a way of implementing a recursive function which grabs each name and&nbsp;&nbsp;puts it in double quotes but I'm still facing difficulties implementing it as the directory is dynamic depending on user's preference.</td><td class="time"><a href="#t2022-04-04T19:19:52" class="time">19:19</a></td></tr>
<tr id="t2022-04-04T21:32:42"><th class="nick" style="background: #57a657">cambrian_invader</th><td class="text" style="color: #57a657">is it possible to keep Linux build output between build runs?</td><td class="time"><a href="#t2022-04-04T21:32:42" class="time">21:32</a></td></tr>
<tr id="t2022-04-04T21:32:55"><th class="nick" style="background: #57a657">cambrian_invader</th><td class="text" style="color: #57a657">it seems like every time I make a configuration change *everything* gets recompiled</td><td class="time"><a href="#t2022-04-04T21:32:55" class="time">21:32</a></td></tr>
<tr id="t2022-04-04T21:33:13"><th class="nick" style="background: #57a657">cambrian_invader</th><td class="text" style="color: #57a657">which takes around 10m, vs perhaps 15s for an incremental build</td><td class="time"><a href="#t2022-04-04T21:33:13" class="time">21:33</a></td></tr>
<tr id="t2022-04-04T21:46:27"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">cambrian_invader: a lot depends on what you change and where/how</td><td class="time"><a href="#t2022-04-04T21:46:27" class="time">21:46</a></td></tr>
<tr id="t2022-04-04T21:46:42"><th class="nick" style="background: #57a657">cambrian_invader</th><td class="text" style="color: #57a657">I did a menuconfig and enabled/disabled a few drivers</td><td class="time"><a href="#t2022-04-04T21:46:42" class="time">21:46</a></td></tr>
<tr id="t2022-04-04T21:46:49"><th class="nick" style="background: #57a657">cambrian_invader</th><td class="text" style="color: #57a657">and then everything was recompiled</td><td class="time"><a href="#t2022-04-04T21:46:49" class="time">21:46</a></td></tr>
<tr id="t2022-04-04T21:47:17"><th class="nick" style="background: #57a657">cambrian_invader</th><td class="text" style="color: #57a657">whereas if I had been using a bare source, I would have expected maybe 30 files recompiled</td><td class="time"><a href="#t2022-04-04T21:47:17" class="time">21:47</a></td></tr>
<tr id="t2022-04-04T21:47:28"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">cambrian_invader: I'd guess that is as the system is trying to track the config change and package the output</td><td class="time"><a href="#t2022-04-04T21:47:28" class="time">21:47</a></td></tr>
<tr id="t2022-04-04T21:47:54"><th class="nick" style="background: #57a657">cambrian_invader</th><td class="text" style="color: #57a657">right, but it seems like someone is running &quot;make clean&quot;</td><td class="time"><a href="#t2022-04-04T21:47:54" class="time">21:47</a></td></tr>
<tr id="t2022-04-04T21:48:13"><th class="nick" style="background: #57a657">cambrian_invader</th><td class="text" style="color: #57a657">or something equivalent</td><td class="time"><a href="#t2022-04-04T21:48:13" class="time">21:48</a></td></tr>
<tr id="t2022-04-04T21:49:30"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">cambrian_invader: a new config is probably making it decide to build from scratch just to be sure. There are ways to just rebuild your changes but not when using menuconfig so easily</td><td class="time"><a href="#t2022-04-04T21:49:30" class="time">21:49</a></td></tr>
<tr id="t2022-04-04T21:49:40"><th class="nick" style="background: #57a657">cambrian_invader</th><td class="text" style="color: #57a657">ugh</td><td class="time"><a href="#t2022-04-04T21:49:40" class="time">21:49</a></td></tr>
<tr id="t2022-04-04T21:49:53"><th class="nick" style="background: #57a657">cambrian_invader</th><td class="text" style="color: #57a657">bitbake is really terrible if you are actually developing software</td><td class="time"><a href="#t2022-04-04T21:49:53" class="time">21:49</a></td></tr>
<tr id="t2022-04-04T21:50:32"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">cambrian_invader: yes and no. It is being careful about capturing your config which under different circumstances, you might worry about</td><td class="time"><a href="#t2022-04-04T21:50:32" class="time">21:50</a></td></tr>
<tr id="t2022-04-04T21:50:45"><th class="nick" style="background: #57a657">cambrian_invader</th><td class="text" style="color: #57a657">sure, but Linux has a great build system already</td><td class="time"><a href="#t2022-04-04T21:50:45" class="time">21:50</a></td></tr>
<tr id="t2022-04-04T21:50:54"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">I do wish we had people to work on these workflows :/</td><td class="time"><a href="#t2022-04-04T21:50:54" class="time">21:50</a></td></tr>
<tr id="t2022-04-04T21:50:56"><th class="nick" style="background: #57a657">cambrian_invader</th><td class="text" style="color: #57a657">and it can determine what needs to be recompiled and what doesn't</td><td class="time"><a href="#t2022-04-04T21:50:56" class="time">21:50</a></td></tr>
<tr id="t2022-04-04T21:51:16"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">cambrian_invader: there is more to a linux image than just the kernel</td><td class="time"><a href="#t2022-04-04T21:51:16" class="time">21:51</a></td></tr>
<tr id="t2022-04-04T21:52:01"><th class="nick" style="background: #57a657">cambrian_invader</th><td class="text" style="color: #57a657">right, so re-run do_compile and the parts after that</td><td class="time"><a href="#t2022-04-04T21:52:01" class="time">21:52</a></td></tr>
<tr id="t2022-04-04T21:52:28"><th class="nick" style="background: #57a657">cambrian_invader</th><td class="text" style="color: #57a657">but do_compile should turn into &quot;make&quot; and no more</td><td class="time"><a href="#t2022-04-04T21:52:28" class="time">21:52</a></td></tr>
<tr id="t2022-04-04T21:53:12"><th class="nick" style="background: #4b904b">RP</th><td class="text" style="color: #4b904b">cambrian_invader: I suspect the problem is configure, not compile as compile effectively does just that</td><td class="time"><a href="#t2022-04-04T21:53:12" class="time">21:53</a></td></tr>
<tr id="t2022-04-04T22:58:44"><th class="nick" style="background: #5959a9">GLumen</th><td class="text" style="color: #5959a9">cambrian_invader: Have you tried running `bitbake-whatchanged` after menuconfig but before building? It might give you some insight in to why bitbake decided to re-run more tasks that you expected.</td><td class="time"><a href="#t2022-04-04T22:58:44" class="time">22:58</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2022-04-03.log.html">&#171; Sunday, 2022-04-03</a> <a href="index.html">Index</a> <a href="%23yocto.2022-04-05.log.html">Tuesday, 2022-04-05 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.17.2 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="https://mg.pov.lt/irclog2html/">https://mg.pov.lt/irclog2html/</a>!</p>
</div>
</body>
</html>
