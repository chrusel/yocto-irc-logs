<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Friday, 2022-09-02</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.17.2 by Marius Gedminas" />
  <meta name="version" content="2.17.2 - 2019-04-23" />
</head>
<body>
<h1>Friday, 2022-09-02</h1>
<div class="navigation"> <a href="%23yocto.2022-09-01.log.html">&#171; Thursday, 2022-09-01</a> <a href="index.html">Index</a> </div>
<table class="irclog">
<tr id="t2022-09-02T00:08:17"><th class="nick" style="background: #407a40">khem</th><td class="text" style="color: #407a40">you need to replace `ssl rehash` to `ssl certhash` maybe</td><td class="time"><a href="#t2022-09-02T00:08:17" class="time">00:08</a></td></tr>
<tr id="t2022-09-02T00:25:26"><th class="nick" style="background: #407a40">khem</th><td class="text" style="color: #407a40">vvn:&nbsp;&nbsp;perhaps look into `-B` option of mkimage</td><td class="time"><a href="#t2022-09-02T00:25:26" class="time">00:25</a></td></tr>
<tr id="t2022-09-02T00:26:03"><th class="nick" style="background: #42427e">sotaoverride</th><td class="text" style="color: #42427e">khem: will that work wuth openssl 1.0.2.u?</td><td class="time"><a href="#t2022-09-02T00:26:03" class="time">00:26</a></td></tr>
<tr id="t2022-09-02T00:26:57"><th class="nick" style="background: #407a40">khem</th><td class="text" style="color: #407a40">yes</td><td class="time"><a href="#t2022-09-02T00:26:57" class="time">00:26</a></td></tr>
<tr id="t2022-09-02T00:27:09"><th class="nick" style="background: #42427e">sotaoverride</th><td class="text" style="color: #42427e">khem: maybe help me understand where ca-cert even makes these rehash call, so I can make a patch.</td><td class="time"><a href="#t2022-09-02T00:27:09" class="time">00:27</a></td></tr>
<tr id="t2022-09-02T00:27:57"><th class="nick" style="background: #407a40">khem</th><td class="text" style="color: #407a40">there are some python scripts in ca-certificates package IIRC</td><td class="time"><a href="#t2022-09-02T00:27:57" class="time">00:27</a></td></tr>
<tr id="t2022-09-02T00:44:11"><th class="nick" style="background: #42427e">sotaoverride</th><td class="text" style="color: #42427e">apparently the recipe for ca-certificates pulls from this repo <a href="https://salsa.debian.org/debian/ca-certificates/-/tree/master/debian" rel="nofollow">https://salsa.debian.org/debian/ca-certificates/-/tree/master/debian</a>. I cant find any python scripts etc there with rehash calls...</td><td class="time"><a href="#t2022-09-02T00:44:11" class="time">00:44</a></td></tr>
<tr id="t2022-09-02T00:44:23"><th class="nick" style="background: #42427e">sotaoverride</th><td class="text" style="color: #42427e">Dont see any python scripts actually!</td><td class="time"><a href="#t2022-09-02T00:44:23" class="time">00:44</a></td></tr>
<tr id="t2022-09-02T00:46:11"><th class="nick" style="background: #818144">SunInDusk</th><td class="text" style="color: #818144">Hello everyone, has anyone encountered this situation? I use yocto dunfell version, gcc is 9.3.0. Sometimes the code compiles with an error, but I can't find the reason for the error in the compiled log file. Anyone encountered this situation? I googled a lot and didn't find any information.</td><td class="time"><a href="#t2022-09-02T00:46:11" class="time">00:46</a></td></tr>
<tr id="t2022-09-02T01:58:31"><td class="part" colspan="2">*** opello &lt;opello!~opello@about/csharp/opello&gt; has left #yocto</td><td><a href="#t2022-09-02T01:58:31" class="time">01:58</a></td></tr>
<tr id="t2022-09-02T06:43:43"><td class="nickchange" colspan="2">*** mckoan|away is now known as mckoan</td><td><a href="#t2022-09-02T06:43:43" class="time">06:43</a></td></tr>
<tr id="t2022-09-02T06:43:49"><th class="nick" style="background: #854685">mckoan</th><td class="text" style="color: #854685">good morning</td><td class="time"><a href="#t2022-09-02T06:43:49" class="time">06:43</a></td></tr>
<tr id="t2022-09-02T06:44:52"><th class="nick" style="background: #488888">LetoThe2nd</th><td class="text" style="color: #488888">yo dudX, yo mckoan</td><td class="time"><a href="#t2022-09-02T06:44:52" class="time">06:44</a></td></tr>
<tr id="t2022-09-02T07:07:19"><th class="nick" style="background: #8c4a4a">jclsn</th><td class="text" style="color: #8c4a4a">Morgen</td><td class="time"><a href="#t2022-09-02T07:07:19" class="time">07:07</a></td></tr>
<tr id="t2022-09-02T07:16:02"><th class="nick" style="background: #4b904b">ykrons</th><td class="text" style="color: #4b904b">Hi all</td><td class="time"><a href="#t2022-09-02T07:16:02" class="time">07:16</a></td></tr>
<tr id="t2022-09-02T07:17:34"><th class="nick" style="background: #4b904b">ykrons</th><td class="text" style="color: #4b904b">I'm working with Dunfell for iMX8 machine where I have activated multilib support to be able to build 32bit applications. Everything went fine and I'm able to build 32bit application running on my 64bit BSP with the generated BSP.</td><td class="time"><a href="#t2022-09-02T07:17:34" class="time">07:17</a></td></tr>
<tr id="t2022-09-02T07:19:59"><th class="nick" style="background: #4b904b">ykrons</th><td class="text" style="color: #4b904b">However libusb in 32bit version is missing, so I have added lib32-libusb1 to my IMAGE_INSTALL. Since that change I have an error when I generated the SDK &quot;WARNING: eagle-image-1.0-r0 do_populate_sdk: Manifest /workdir/oe-core/build/tmp/sstate-control/manifest-x86_64_x86_64-nativesdk-lib32-wayland-protocols.package_write_ipk not found in 1388_imx8x aarch64-mx8 armv7at2hf-neon armv7ahf-neon armv7at2hf-vfp armv7ahf-vfp armv6thf-vfp armv6hf-vfp armv5tehf-vfp</td><td class="time"><a href="#t2022-09-02T07:19:59" class="time">07:19</a></td></tr>
<tr id="t2022-09-02T07:19:59-2"><th class="nick" style="background: #4b904b">ykrons</th><td class="text" style="color: #4b904b">armv5ehf-vfp armv5thf-vfp armv5hf-vfp allarch x86_64_x86_64-nativesdk (variant 'lib32')?&quot;</td><td class="time"><a href="#t2022-09-02T07:19:59-2" class="time">07:19</a></td></tr>
<tr id="t2022-09-02T07:20:50"><th class="nick" style="background: #4b904b">ykrons</th><td class="text" style="color: #4b904b">I can't find the relation between adding the libusb and wayland-protocol and why this can break manifest generation. Did someone have an idea what can be wrong ?</td><td class="time"><a href="#t2022-09-02T07:20:50" class="time">07:20</a></td></tr>
<tr id="t2022-09-02T07:26:42"><th class="nick" style="background: #4d4d93">kanavin_</th><td class="text" style="color: #4d4d93">ykrons, you should not have to add any library explicitly, it usually gets pulled in via package dependencies</td><td class="time"><a href="#t2022-09-02T07:26:42" class="time">07:26</a></td></tr>
<tr id="t2022-09-02T07:27:00"><th class="nick" style="background: #4d4d93">kanavin_</th><td class="text" style="color: #4d4d93">if that doesn't happen, then nothing depends on the library, and then why install it?</td><td class="time"><a href="#t2022-09-02T07:27:00" class="time">07:27</a></td></tr>
<tr id="t2022-09-02T07:39:35"><th class="nick" style="background: #4b904b">ykrons</th><td class="text" style="color: #4b904b">kanavin_: I know that point, but I need to build the application out of yocto with only the SDK and I have not yet done the corresponding recipe. I'm expecting adding lib32-libusb1 would have the same impact as a RDEPENDS on it</td><td class="time"><a href="#t2022-09-02T07:39:35" class="time">07:39</a></td></tr>
<tr id="t2022-09-02T07:40:00"><th class="nick" style="background: #4b904b">ykrons</th><td class="text" style="color: #4b904b">I will draft a empty recipe with only this dependencies to see if it is better</td><td class="time"><a href="#t2022-09-02T07:40:00" class="time">07:40</a></td></tr>
<tr id="t2022-09-02T07:42:43"><th class="nick" style="background: #4b904b">ykrons</th><td class="text" style="color: #4b904b">-RDEPENDS -&gt; DEPENDS</td><td class="time"><a href="#t2022-09-02T07:42:43" class="time">07:42</a></td></tr>
<tr id="t2022-09-02T07:53:05"><th class="nick" style="background: #97974f">abelloni</th><td class="text" style="color: #97974f">kanavin_: the templateconf series broke metrics: <a href="https://autobuilder.yoctoproject.org/typhoon/#/builders/138/builds/130/steps/12/logs/stdio" rel="nofollow">https://autobuilder.yoctoproject.org/typhoon/#/builders/138/builds/130/steps/12/logs/stdio</a></td><td class="time"><a href="#t2022-09-02T07:53:05" class="time">07:53</a></td></tr>
<tr id="t2022-09-02T07:54:50"><th class="nick" style="background: #4d4d93">kanavin_</th><td class="text" style="color: #4d4d93">abelloni, I'll take a look</td><td class="time"><a href="#t2022-09-02T07:54:50" class="time">07:54</a></td></tr>
<tr id="t2022-09-02T07:57:33"><th class="nick" style="background: #9b519b">brware</th><td class="text" style="color: #9b519b">Hi guys. I'm new to yoctoproject and I generated a minimal image but when I try to run It as live the filesystem come as read only. Is there anyone that help me to switch the rootfs in write/read mode. Thanks in advance</td><td class="time"><a href="#t2022-09-02T07:57:33" class="time">07:57</a></td></tr>
<tr id="t2022-09-02T07:58:36"><th class="nick" style="background: #488888">LetoThe2nd</th><td class="text" style="color: #488888">brware: by default the created images are rw, so the question is which documentation you followed.</td><td class="time"><a href="#t2022-09-02T07:58:36" class="time">07:58</a></td></tr>
<tr id="t2022-09-02T08:00:04"><th class="nick" style="background: #9b519b">brware</th><td class="text" style="color: #9b519b">I don't find informations about this</td><td class="time"><a href="#t2022-09-02T08:00:04" class="time">08:00</a></td></tr>
<tr id="t2022-09-02T08:03:37"><th class="nick" style="background: #9b519b">brware</th><td class="text" style="color: #9b519b">LetoThe2nd you suggest me a documentation that help me about this?</td><td class="time"><a href="#t2022-09-02T08:03:37" class="time">08:03</a></td></tr>
<tr id="t2022-09-02T08:03:43"><th class="nick" style="background: #9b519b">brware</th><td class="text" style="color: #9b519b">can?</td><td class="time"><a href="#t2022-09-02T08:03:43" class="time">08:03</a></td></tr>
<tr id="t2022-09-02T08:03:50"><th class="nick" style="background: #488888">LetoThe2nd</th><td class="text" style="color: #488888">brware: how did you start?</td><td class="time"><a href="#t2022-09-02T08:03:50" class="time">08:03</a></td></tr>
<tr id="t2022-09-02T08:04:58"><th class="nick" style="background: #488888">LetoThe2nd</th><td class="text" style="color: #488888">brware: because if you ran the generic yocto getting started, then you have a rw rootfs.</td><td class="time"><a href="#t2022-09-02T08:04:58" class="time">08:04</a></td></tr>
<tr id="t2022-09-02T08:05:24"><th class="nick" style="background: #488888">LetoThe2nd</th><td class="text" style="color: #488888"><a href="https://docs.yoctoproject.org/brief-yoctoprojectqs/index.html" rel="nofollow">https://docs.yoctoproject.org/brief-yoctoprojectqs/index.html</a></td><td class="time"><a href="#t2022-09-02T08:05:24" class="time">08:05</a></td></tr>
<tr id="t2022-09-02T08:05:52"><th class="nick" style="background: #9b519b">brware</th><td class="text" style="color: #9b519b">LetoThe2nd Yes, if I install It the filesystem is rw but if lunch the live it is ro</td><td class="time"><a href="#t2022-09-02T08:05:52" class="time">08:05</a></td></tr>
<tr id="t2022-09-02T08:06:08"><th class="nick" style="background: #4d4d93">kanavin_</th><td class="text" style="color: #4d4d93">abelloni, patch to yocto-autobuilder-helper sent</td><td class="time"><a href="#t2022-09-02T08:06:08" class="time">08:06</a></td></tr>
<tr id="t2022-09-02T08:06:16"><th class="nick" style="background: #488888">LetoThe2nd</th><td class="text" style="color: #488888">brware: what is &quot;the live&quot;? what is &quot;the install&quot;?</td><td class="time"><a href="#t2022-09-02T08:06:16" class="time">08:06</a></td></tr>
<tr id="t2022-09-02T08:07:37"><th class="nick" style="background: #9b519b">brware</th><td class="text" style="color: #9b519b">LetoThe2nd I generate a bootable iso and the options that can you choose are: Graphics console boot and Graphics console boot</td><td class="time"><a href="#t2022-09-02T08:07:37" class="time">08:07</a></td></tr>
<tr id="t2022-09-02T08:07:49"><th class="nick" style="background: #9b519b">brware</th><td class="text" style="color: #9b519b">I mean Graphics console boot</td><td class="time"><a href="#t2022-09-02T08:07:49" class="time">08:07</a></td></tr>
<tr id="t2022-09-02T08:08:13"><th class="nick" style="background: #488888">LetoThe2nd</th><td class="text" style="color: #488888">brware: see, so far you totally left out that we are talking about an ISO image. that was the missing piece.</td><td class="time"><a href="#t2022-09-02T08:08:13" class="time">08:08</a></td></tr>
<tr id="t2022-09-02T08:08:38"><th class="nick" style="background: #488888">LetoThe2nd</th><td class="text" style="color: #488888">brware: don't know then, never used it.</td><td class="time"><a href="#t2022-09-02T08:08:38" class="time">08:08</a></td></tr>
<tr id="t2022-09-02T08:09:37"><th class="nick" style="background: #9b519b">brware</th><td class="text" style="color: #9b519b">LetoThe2nd Do you have a custom boot loader? I build image for the genericx86-64</td><td class="time"><a href="#t2022-09-02T08:09:37" class="time">08:09</a></td></tr>
<tr id="t2022-09-02T08:10:31"><th class="nick" style="background: #488888">LetoThe2nd</th><td class="text" style="color: #488888">brware: no, i also don't do x86, sorry.</td><td class="time"><a href="#t2022-09-02T08:10:31" class="time">08:10</a></td></tr>
<tr id="t2022-09-02T08:11:46"><th class="nick" style="background: #539e9e">milkylainen</th><td class="text" style="color: #539e9e">Total noob/basic question. Tried passing an extramake to a package containing a path to a file. Variable is passed correctly. But that path is relative and is not found from the package source. $THISDIR/files?</td><td class="time"><a href="#t2022-09-02T08:11:46" class="time">08:11</a></td></tr>
<tr id="t2022-09-02T08:12:11"><th class="nick" style="background: #539e9e">milkylainen</th><td class="text" style="color: #539e9e">So how do I pass an absolute path when building a package, or where do I place files the source can find?</td><td class="time"><a href="#t2022-09-02T08:12:11" class="time">08:12</a></td></tr>
<tr id="t2022-09-02T08:53:17"><th class="nick" style="background: #4b904b">ykrons</th><td class="text" style="color: #4b904b">kanavin_: I have added a recipe for my apps with libusb1 in DEPENDS and I got the same error during SDK generation when I had my lib32-myapp to IMAGE_INSTALL</td><td class="time"><a href="#t2022-09-02T08:53:17" class="time">08:53</a></td></tr>
<tr id="t2022-09-02T09:41:32"><th class="nick" style="background: #a25555">mrybczyn[m]</th><td class="text" style="color: #a25555">JPEW RP: will someone working on the spdx class be in Dublin at ELC? There's an interesting new functionality in the works and a chat could be useful</td><td class="time"><a href="#t2022-09-02T09:41:32" class="time">09:41</a></td></tr>
<tr id="t2022-09-02T09:54:10"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">mrybczyn[m]: I'm not sure. I won't be there unfortunately :(</td><td class="time"><a href="#t2022-09-02T09:54:10" class="time">09:54</a></td></tr>
<tr id="t2022-09-02T10:15:48"><th class="nick" style="background: #488888">LetoThe2nd</th><td class="text" style="color: #488888">does anybody happen to have a x86 harddisk image build around for download? core-image-minimal or such?</td><td class="time"><a href="#t2022-09-02T10:15:48" class="time">10:15</a></td></tr>
<tr id="t2022-09-02T10:32:56"><th class="nick" style="background: #5959a9">DvorkinDmitry</th><td class="text" style="color: #5959a9">problem building the libtalloc in latest dunfell: part1: <a href="https://pastebin.com/Z87sc9Wi" rel="nofollow">https://pastebin.com/Z87sc9Wi</a> part2: <a href="https://pastebin.com/hpGPRyde" rel="nofollow">https://pastebin.com/hpGPRyde</a></td><td class="time"><a href="#t2022-09-02T10:32:56" class="time">10:32</a></td></tr>
<tr id="t2022-09-02T10:46:36"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">LetoThe2nd: release builds from YP?</td><td class="time"><a href="#t2022-09-02T10:46:36" class="time">10:46</a></td></tr>
<tr id="t2022-09-02T11:37:05"><th class="nick" style="background: #adad5b">landgraf</th><td class="text" style="color: #adad5b">RP: abelloni: Hi. I've sent patch few days ago to address dropbear-openssh conflicts <a href="https://lists.openembedded.org/g/openembedded-core/message/170000" rel="nofollow">https://lists.openembedded.org/g/openembedded-core/message/170000</a> (and got nice msg id :) ) . It's not in any repos atm. Should I rework/resend it?</td><td class="time"><a href="#t2022-09-02T11:37:05" class="time">11:37</a></td></tr>
<tr id="t2022-09-02T11:37:28"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">landgraf: I suspect abelloni just missed it</td><td class="time"><a href="#t2022-09-02T11:37:28" class="time">11:37</a></td></tr>
<tr id="t2022-09-02T11:38:11"><th class="nick" style="background: #adad5b">landgraf</th><td class="text" style="color: #adad5b">yeah. that's why I've pinged him too.</td><td class="time"><a href="#t2022-09-02T11:38:11" class="time">11:38</a></td></tr>
<tr id="t2022-09-02T11:38:28"><th class="nick" style="background: #adad5b">landgraf</th><td class="text" style="color: #adad5b">thought it may be because of feature freeze or something like that</td><td class="time"><a href="#t2022-09-02T11:38:28" class="time">11:38</a></td></tr>
<tr id="t2022-09-02T11:39:26"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">landgraf: we're just struggling with a few issues causing many build failures</td><td class="time"><a href="#t2022-09-02T11:39:26" class="time">11:39</a></td></tr>
<tr id="t2022-09-02T11:39:48"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">infrastructure fetching issue, ruby/webkit issue that suddenly appeared and so on</td><td class="time"><a href="#t2022-09-02T11:39:48" class="time">11:39</a></td></tr>
<tr id="t2022-09-02T11:40:38"><th class="nick" style="background: #adad5b">landgraf</th><td class="text" style="color: #adad5b">RP: yup. I know. Something for me to work on? I have plenty of free time now...</td><td class="time"><a href="#t2022-09-02T11:40:38" class="time">11:40</a></td></tr>
<tr id="t2022-09-02T11:52:14"><th class="nick" style="background: #b15db1">JPEW</th><td class="text" style="color: #b15db1">mrybczyn[m]: I don't think so unfortunately</td><td class="time"><a href="#t2022-09-02T11:52:14" class="time">11:52</a></td></tr>
<tr id="t2022-09-02T12:21:01"><th class="nick" style="background: #5fb4b4">SmoothBrain</th><td class="text" style="color: #5fb4b4">Hi all, anyone ever figured out a way to make kas less verbose?</td><td class="time"><a href="#t2022-09-02T12:21:01" class="time">12:21</a></td></tr>
<tr id="t2022-09-02T12:21:49"><th class="nick" style="background: #5fb4b4">SmoothBrain</th><td class="text" style="color: #5fb4b4">It's printing INFO logs by default. And there is only a DEBUG flag as a CLI parameter to enable more logs</td><td class="time"><a href="#t2022-09-02T12:21:49" class="time">12:21</a></td></tr>
<tr id="t2022-09-02T12:25:55"><th class="nick" style="background: #b15db1">JPEW</th><td class="text" style="color: #b15db1">mrybczyn[m]: you could bring it up at the dev meeting on Tuesday?</td><td class="time"><a href="#t2022-09-02T12:25:55" class="time">12:25</a></td></tr>
<tr id="t2022-09-02T12:29:03"><th class="nick" style="background: #a25555">mrybczyn[m]</th><td class="text" style="color: #a25555">JPEW: will start from a ml post and then we'll come yo a Tuesday meeting, deal</td><td class="time"><a href="#t2022-09-02T12:29:03" class="time">12:29</a></td></tr>
<tr id="t2022-09-02T12:33:05"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">landgraf: there are lots of small things to tidy up now I think. I'm waiting on a rust fix and the current patch queue testing and then I think we'll build M3</td><td class="time"><a href="#t2022-09-02T12:33:05" class="time">12:33</a></td></tr>
<tr id="t2022-09-02T12:34:08"><td class="action" colspan="2">* RP remembers about the broken nativesdk-gcc</td><td><a href="#t2022-09-02T12:34:08" class="time">12:34</a></td></tr>
<tr id="t2022-09-02T12:34:51"><th class="nick" style="background: #b15db1">JPEW</th><td class="text" style="color: #b15db1">mrybczyn[m]: sounds good :)</td><td class="time"><a href="#t2022-09-02T12:34:51" class="time">12:34</a></td></tr>
<tr id="t2022-09-02T13:03:48"><th class="nick" style="background: #b86161">eirikb[m]</th><td class="text" style="color: #b86161">Hi. Can I ask about application development environments here?</td><td class="time"><a href="#t2022-09-02T13:03:48" class="time">13:03</a></td></tr>
<tr id="t2022-09-02T13:19:29"><th class="nick" style="background: #854685">mckoan</th><td class="text" style="color: #854685">eirikb[m]: if is related to Yocto or the SDK yes</td><td class="time"><a href="#t2022-09-02T13:19:29" class="time">13:19</a></td></tr>
<tr id="t2022-09-02T13:22:04"><th class="nick" style="background: #b86161">eirikb[m]</th><td class="text" style="color: #b86161">mckoan: Yes. Kind of. I'm thinking about creating a docker image which could both run and build our application. The application is not hardware dependent, and I believe this could greatly improve the development process.</td><td class="time"><a href="#t2022-09-02T13:22:04" class="time">13:22</a></td></tr>
<tr id="t2022-09-02T13:22:04-2"><th class="nick" style="background: #b86161">eirikb[m]</th><td class="text" style="color: #b86161">I'm able to build a docker runtime image of our yocto image, but I'm not able use any build tools. I have not tried including the SDK yet, as I hoped I wouldn't need to</td><td class="time"><a href="#t2022-09-02T13:22:04-2" class="time">13:22</a></td></tr>
<tr id="t2022-09-02T13:22:51"><th class="nick" style="background: #62bb62">qschulz</th><td class="text" style="color: #62bb62">eirikb[m]: what about using qemu for running your application?</td><td class="time"><a href="#t2022-09-02T13:22:51" class="time">13:22</a></td></tr>
<tr id="t2022-09-02T13:22:59"><th class="nick" style="background: #62bb62">qschulz</th><td class="text" style="color: #62bb62">based of an SDK running on your host directly</td><td class="time"><a href="#t2022-09-02T13:22:59" class="time">13:22</a></td></tr>
<tr id="t2022-09-02T13:24:07"><th class="nick" style="background: #b86161">eirikb[m]</th><td class="text" style="color: #b86161">We use CLion, and remote development against docker in CLion is very very good, so I would hope to not use that</td><td class="time"><a href="#t2022-09-02T13:24:07" class="time">13:24</a></td></tr>
<tr id="t2022-09-02T13:27:20"><th class="nick" style="background: #4b904b">ykrons</th><td class="text" style="color: #4b904b">With MULTILIB enabled, it seems Yocto generates a manifest for lib32-wayland-protocols that it is not able to find during SDK generation. The manifest name is built with manifest-&lt;32bit arch&gt;-&lt;MACHINE_SOCARCH&gt;... whereas populate_sdk is looking for manifest-&lt;32bit arch&gt;... . I think it is related to &quot;fsl-dynamic-packagearch&quot; mechanism but I'm a bit lost at that point. Does someone already faced similar issue or have an hint to track this one ?</td><td class="time"><a href="#t2022-09-02T13:27:20" class="time">13:27</a></td></tr>
<tr id="t2022-09-02T13:39:13"><td class="action" colspan="2">* eirikb[m] uploaded an image: (56KiB) &lt; <a href="https://libera.ems.host/_matrix/media/r0/download/matrix.org/sMvXRDlWLngAfKgFlSExBNTl/2022-09-02_13-08.png" rel="nofollow">https://libera.ems.host/_matrix/media/r0/download/matrix.org/sMvXRDlWLngAfKgFlSExBNTl/2022-09-02_13-08.png</a> &gt;</td><td><a href="#t2022-09-02T13:39:13" class="time">13:39</a></td></tr>
<tr id="t2022-09-02T13:39:18"><th class="nick" style="background: #b86161">eirikb[m]</th><td class="text" style="color: #b86161">I tried adding `packagegroup-core-buildessential` to my runtime image, but when I try to compile something I get this ^</td><td class="time"><a href="#t2022-09-02T13:39:18" class="time">13:39</a></td></tr>
<tr id="t2022-09-02T13:55:18"><th class="nick" style="background: #854685">mckoan</th><td class="text" style="color: #854685">eirikb[m]: please try calling : make ok</td><td class="time"><a href="#t2022-09-02T13:55:18" class="time">13:55</a></td></tr>
<tr id="t2022-09-02T14:00:50"><th class="nick" style="background: #4d4d93">kanavin_</th><td class="text" style="color: #4d4d93">RP: I've written a little announcement on linkedin about the layer setup, and people went crazy with the likes <a href="https://www.linkedin.com/posts/alexander-kanavin-94585686_yocto-openembedded-configurationmanagement-activity-6971088109492920320-fxhS/" rel="nofollow">https://www.linkedin.com/posts/alexander-kanavin-94585686_yocto-openembedded-configurationmanagement-activity-6971088109492920320-fxhS/</a></td><td class="time"><a href="#t2022-09-02T14:00:50" class="time">14:00</a></td></tr>
<tr id="t2022-09-02T14:01:33"><th class="nick" style="background: #4d4d93">kanavin_</th><td class="text" style="color: #4d4d93">This looks like something a lot of folks would like to have, I hope the actual ui and functionality withstands the 'real world'</td><td class="time"><a href="#t2022-09-02T14:01:33" class="time">14:01</a></td></tr>
<tr id="t2022-09-02T14:02:29"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">kanavin_: nice. We've known this was an issue for years. This is a first good step</td><td class="time"><a href="#t2022-09-02T14:02:29" class="time">14:02</a></td></tr>
<tr id="t2022-09-02T14:03:03"><th class="nick" style="background: #4d4d93">kanavin_</th><td class="text" style="color: #4d4d93">RP: yes, towards something of a holy grail: an official turnkey cicd solution</td><td class="time"><a href="#t2022-09-02T14:03:03" class="time">14:03</a></td></tr>
<tr id="t2022-09-02T14:03:46"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">kanavin_: I'm kind of sad I'm still not carving out time to work on bits of it</td><td class="time"><a href="#t2022-09-02T14:03:46" class="time">14:03</a></td></tr>
<tr id="t2022-09-02T14:09:47"><th class="nick" style="background: #854685">mckoan</th><td class="text" style="color: #854685">kanavin_: a use case or a small doc or post would help to understand it quickly</td><td class="time"><a href="#t2022-09-02T14:09:47" class="time">14:09</a></td></tr>
<tr id="t2022-09-02T14:10:28"><th class="nick" style="background: #4d4d93">kanavin_</th><td class="text" style="color: #4d4d93">mckoan, yes, I plan to write more on linkedin about it, and fix documentation and manuals throughout</td><td class="time"><a href="#t2022-09-02T14:10:28" class="time">14:10</a></td></tr>
<tr id="t2022-09-02T15:18:29"><th class="nick" style="background: #6464bf">jackos888[m]</th><td class="text" style="color: #6464bf">Hello</td><td class="time"><a href="#t2022-09-02T15:18:29" class="time">15:18</a></td></tr>
<tr id="t2022-09-02T15:18:29-2"><th class="nick" style="background: #6464bf">jackos888[m]</th><td class="text" style="color: #6464bf">How can I generate an SDCard image with LUKS rootfs?</td><td class="time"><a href="#t2022-09-02T15:18:29-2" class="time">15:18</a></td></tr>
<tr id="t2022-09-02T15:18:32"><th class="nick" style="background: #6464bf">jackos888[m]</th><td class="text" style="color: #6464bf">within yocto</td><td class="time"><a href="#t2022-09-02T15:18:32" class="time">15:18</a></td></tr>
<tr id="t2022-09-02T15:35:50"><th class="nick" style="background: #62bb62">qschulz</th><td class="text" style="color: #62bb62">kanavin_: any chance this makes it to kirkstone? I guess too big of a feature to add it to an LTS right?</td><td class="time"><a href="#t2022-09-02T15:35:50" class="time">15:35</a></td></tr>
<tr id="t2022-09-02T15:36:13"><th class="nick" style="background: #62bb62">qschulz</th><td class="text" style="color: #62bb62">kanavin_: asking because when I find time I'll finally update from honister to kirkstone but we're currently using kas</td><td class="time"><a href="#t2022-09-02T15:36:13" class="time">15:36</a></td></tr>
<tr id="t2022-09-02T15:37:17"><th class="nick" style="background: #4d4d93">kanavin_</th><td class="text" style="color: #4d4d93">qschulz, maybe</td><td class="time"><a href="#t2022-09-02T15:37:17" class="time">15:37</a></td></tr>
<tr id="t2022-09-02T15:37:25"><th class="nick" style="background: #4d4d93">kanavin_</th><td class="text" style="color: #4d4d93">it's tooling not content</td><td class="time"><a href="#t2022-09-02T15:37:25" class="time">15:37</a></td></tr>
<tr id="t2022-09-02T15:37:48"><th class="nick" style="background: #4d4d93">kanavin_</th><td class="text" style="color: #4d4d93">the template location stuff, certainly not though</td><td class="time"><a href="#t2022-09-02T15:37:48" class="time">15:37</a></td></tr>
<tr id="t2022-09-02T15:49:00"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">we're not backporting this</td><td class="time"><a href="#t2022-09-02T15:49:00" class="time">15:49</a></td></tr>
<tr id="t2022-09-02T15:55:15"><th class="nick" style="background: #62bb62">qschulz</th><td class="text" style="color: #62bb62">ack, thx :)</td><td class="time"><a href="#t2022-09-02T15:55:15" class="time">15:55</a></td></tr>
<tr id="t2022-09-02T16:23:37"><th class="nick" style="background: #4d4d93">kanavin_</th><td class="text" style="color: #4d4d93">qschulz, it's probably one of those where you have to maintain backports on top of kirkstone fork if you really want it</td><td class="time"><a href="#t2022-09-02T16:23:37" class="time">16:23</a></td></tr>
<tr id="t2022-09-02T16:28:01"><th class="nick" style="background: #c3c366">chrysh</th><td class="text" style="color: #c3c366">easy yocto question for 10 points: How can I change the python version that is used for boost? This file uses the env variable PYTHON_BASEVERSION, but overwriting it in my image does not have any effect on the version (I checked by looking into the output of bitbake -e boost)</td><td class="time"><a href="#t2022-09-02T16:28:01" class="time">16:28</a></td></tr>
<tr id="t2022-09-02T16:31:11"><th class="nick" style="background: #c3c366">chrysh</th><td class="text" style="color: #c3c366">(I mean, I can obviously directly change it in the boost.inc file, but I bet there is a more yocto way)</td><td class="time"><a href="#t2022-09-02T16:31:11" class="time">16:31</a></td></tr>
<tr id="t2022-09-02T16:38:32"><th class="nick" style="background: #854685">mckoan</th><td class="text" style="color: #854685"> /IMAWAY</td><td class="time"><a href="#t2022-09-02T16:38:32" class="time">16:38</a></td></tr>
<tr id="t2022-09-02T16:51:37"><th class="nick" style="background: #62bb62">qschulz</th><td class="text" style="color: #62bb62">kanavin_: not worth it for a very small BSP but otherwise yes :)</td><td class="time"><a href="#t2022-09-02T16:51:37" class="time">16:51</a></td></tr>
<tr id="t2022-09-02T16:52:01"><th class="nick" style="background: #62bb62">qschulz</th><td class="text" style="color: #62bb62">chrysh: recipe data is local to the recipe</td><td class="time"><a href="#t2022-09-02T16:52:01" class="time">16:52</a></td></tr>
<tr id="t2022-09-02T16:52:10"><th class="nick" style="background: #62bb62">qschulz</th><td class="text" style="color: #62bb62">so changing it in the image is not going to change it in the boost recipe</td><td class="time"><a href="#t2022-09-02T16:52:10" class="time">16:52</a></td></tr>
<tr id="t2022-09-02T16:53:41"><th class="nick" style="background: #62bb62">qschulz</th><td class="text" style="color: #62bb62">and I guess you'd want to upgrade the python recipe to use the version you want?</td><td class="time"><a href="#t2022-09-02T16:53:41" class="time">16:53</a></td></tr>
<tr id="t2022-09-02T16:56:04"><th class="nick" style="background: #c3c366">chrysh</th><td class="text" style="color: #c3c366">qschulz: true, the yocto chant. yes, I would like to use a more recent python version</td><td class="time"><a href="#t2022-09-02T16:56:04" class="time">16:56</a></td></tr>
<tr id="t2022-09-02T16:56:39"><th class="nick" style="background: #c3c366">chrysh</th><td class="text" style="color: #c3c366">so changing it in the boost.inc recipe is actually the right way to go?</td><td class="time"><a href="#t2022-09-02T16:56:39" class="time">16:56</a></td></tr>
<tr id="t2022-09-02T16:57:50"><th class="nick" style="background: #62bb62">qschulz</th><td class="text" style="color: #62bb62">it's not clear why yuou want a different python version and if it's related to boost only?</td><td class="time"><a href="#t2022-09-02T16:57:50" class="time">16:57</a></td></tr>
<tr id="t2022-09-02T16:58:35"><th class="nick" style="background: #62bb62">qschulz</th><td class="text" style="color: #62bb62">chrysh: just import a newer version of python and then PREFERRED_VERSION_python = &quot;3.10%&quot; in (likely) your distro conf file</td><td class="time"><a href="#t2022-09-02T16:58:35" class="time">16:58</a></td></tr>
<tr id="t2022-09-02T16:59:48"><th class="nick" style="background: #c668c6">mischief</th><td class="text" style="color: #c668c6">finding that during dunfell-&gt;kirkstone my kernel modules are now stripped and unloadable. any idea about that?</td><td class="time"><a href="#t2022-09-02T16:59:48" class="time">16:59</a></td></tr>
<tr id="t2022-09-02T16:59:54"><th class="nick" style="background: #62bb62">qschulz</th><td class="text" style="color: #62bb62">likely _python3</td><td class="time"><a href="#t2022-09-02T16:59:54" class="time">16:59</a></td></tr>
<tr id="t2022-09-02T17:00:18"><th class="nick" style="background: #4d4d93">kanavin_</th><td class="text" style="color: #4d4d93">chrysh, supporting more than one version of python in a single build is basically impossible</td><td class="time"><a href="#t2022-09-02T17:00:18" class="time">17:00</a></td></tr>
<tr id="t2022-09-02T17:17:42"><th class="nick" style="background: #c3c366">chrysh</th><td class="text" style="color: #c3c366">kanavin_: It's just that our software stack is compiled with python 3.8, and that's what I would like to use, also globally.</td><td class="time"><a href="#t2022-09-02T17:17:42" class="time">17:17</a></td></tr>
<tr id="t2022-09-02T17:18:40"><th class="nick" style="background: #4d4d93">kanavin_</th><td class="text" style="color: #4d4d93">chrysh, I think you are subscribing for a world of pain if you try to replace what your yocto prescribes in oe-core</td><td class="time"><a href="#t2022-09-02T17:18:40" class="time">17:18</a></td></tr>
<tr id="t2022-09-02T17:19:12"><th class="nick" style="background: #c3c366">chrysh</th><td class="text" style="color: #c3c366">qschulz: Why? Because that's what the application programmers decided to use at some point. Currently, I see an error when compiling boost related code, but I would also be happy to have it globally</td><td class="time"><a href="#t2022-09-02T17:19:12" class="time">17:19</a></td></tr>
<tr id="t2022-09-02T17:19:47"><th class="nick" style="background: #c3c366">chrysh</th><td class="text" style="color: #c3c366">kanavin_: is it not just a matter of checking out a new bitbake recipe? Or can I just update oe-core or so?</td><td class="time"><a href="#t2022-09-02T17:19:47" class="time">17:19</a></td></tr>
<tr id="t2022-09-02T17:20:30"><th class="nick" style="background: #4d4d93">kanavin_</th><td class="text" style="color: #4d4d93">chrysh, you can attempt to backport a newer python onto an older yocto, but this may quickly unravel into build errors and compatibility issues at runtime, and the need to backport many additional pieces</td><td class="time"><a href="#t2022-09-02T17:20:30" class="time">17:20</a></td></tr>
<tr id="t2022-09-02T17:20:40"><th class="nick" style="background: #4d4d93">kanavin_</th><td class="text" style="color: #4d4d93">you better update yocto itself to a newer version</td><td class="time"><a href="#t2022-09-02T17:20:40" class="time">17:20</a></td></tr>
<tr id="t2022-09-02T17:24:37"><th class="nick" style="background: #c3c366">chrysh</th><td class="text" style="color: #c3c366">kanavin_: We have a vendor bsp...how easy is it to update yocto itself?</td><td class="time"><a href="#t2022-09-02T17:24:37" class="time">17:24</a></td></tr>
<tr id="t2022-09-02T17:30:23"><th class="nick" style="background: #6acaca">vvn</th><td class="text" style="color: #6acaca">what is the best way to disable getty@tty1.service in an image?</td><td class="time"><a href="#t2022-09-02T17:30:23" class="time">17:30</a></td></tr>
<tr id="t2022-09-02T17:30:49"><th class="nick" style="background: #4d4d93">kanavin_</th><td class="text" style="color: #4d4d93">chrysh, depends on how big the delta is between what you have and where you want to be</td><td class="time"><a href="#t2022-09-02T17:30:49" class="time">17:30</a></td></tr>
<tr id="t2022-09-02T17:31:17"><th class="nick" style="background: #4d4d93">kanavin_</th><td class="text" style="color: #4d4d93">chrysh, and whether all of the layers, including the BSP vendor one are actively maintained to support the desired target version</td><td class="time"><a href="#t2022-09-02T17:31:17" class="time">17:31</a></td></tr>
<tr id="t2022-09-02T17:32:55"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">JPEW: really struggling to reproduce this unix domain socket issue. I put a ping(), close(). ping() call in bitbake-worker from task context and ran it up with BB_NUMBER_THREADS=&quot;1000&quot; bitbake world -n but couldn't break it</td><td class="time"><a href="#t2022-09-02T17:32:55" class="time">17:32</a></td></tr>
<tr id="t2022-09-02T17:33:41"><th class="nick" style="background: #b15db1">JPEW</th><td class="text" style="color: #b15db1">RP: hmm</td><td class="time"><a href="#t2022-09-02T17:33:41" class="time">17:33</a></td></tr>
<tr id="t2022-09-02T17:34:06"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">JPEW: perhaps it needs to be server context</td><td class="time"><a href="#t2022-09-02T17:34:06" class="time">17:34</a></td></tr>
<tr id="t2022-09-02T17:36:36"><th class="nick" style="background: #c3c366">chrysh</th><td class="text" style="color: #c3c366">kanavin_: qschulz: Thank you, I will give it a thought during the weekend</td><td class="time"><a href="#t2022-09-02T17:36:36" class="time">17:36</a></td></tr>
<tr id="t2022-09-02T17:39:51"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">JPEW: although I know it is the client context since the pids change</td><td class="time"><a href="#t2022-09-02T17:39:51" class="time">17:39</a></td></tr>
<tr id="t2022-09-02T17:43:00"><th class="nick" style="background: #b15db1">JPEW</th><td class="text" style="color: #b15db1">RP: I forgot the actual error you were seeing</td><td class="time"><a href="#t2022-09-02T17:43:00" class="time">17:43</a></td></tr>
<tr id="t2022-09-02T17:43:24"><th class="nick" style="background: #6acaca">vvn</th><td class="text" style="color: #6acaca">in other words how to I prevent the enable vendor preset for getty@tty1.service for my images?</td><td class="time"><a href="#t2022-09-02T17:43:24" class="time">17:43</a></td></tr>
<tr id="t2022-09-02T17:43:39"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">JPEW: I need to write that bug</td><td class="time"><a href="#t2022-09-02T17:43:39" class="time">17:43</a></td></tr>
<tr id="t2022-09-02T18:08:47"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">JPEW: <a href="https://bugzilla.yoctoproject.org/show_bug.cgi?id=14910" rel="nofollow">https://bugzilla.yoctoproject.org/show_bug.cgi?id=14910</a></td><td class="time"><a href="#t2022-09-02T18:08:47" class="time">18:08</a></td></tr>
<tr id="t2022-09-02T18:17:55"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">JPEW: is it possible this is happening if the hashserv is somehow slow to startup?</td><td class="time"><a href="#t2022-09-02T18:17:55" class="time">18:17</a></td></tr>
<tr id="t2022-09-02T18:18:14"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">JPEW: i.e. it really hadn't created the socket yet</td><td class="time"><a href="#t2022-09-02T18:18:14" class="time">18:18</a></td></tr>
<tr id="t2022-09-02T18:21:22"><th class="nick" style="background: #b15db1">JPEW</th><td class="text" style="color: #b15db1">ya, that could be</td><td class="time"><a href="#t2022-09-02T18:21:22" class="time">18:21</a></td></tr>
<tr id="t2022-09-02T18:21:36"><th class="nick" style="background: #b15db1">JPEW</th><td class="text" style="color: #b15db1">Maybe you can add a loop to poll in the main bitbake until it's actually created?</td><td class="time"><a href="#t2022-09-02T18:21:36" class="time">18:21</a></td></tr>
<tr id="t2022-09-02T18:21:50"><th class="nick" style="background: #b15db1">JPEW</th><td class="text" style="color: #b15db1">(or some timeout)</td><td class="time"><a href="#t2022-09-02T18:21:50" class="time">18:21</a></td></tr>
<tr id="t2022-09-02T18:22:13"><th class="nick" style="background: #b15db1">JPEW</th><td class="text" style="color: #b15db1">That would certianlly explain the &quot;File not Found&quot; error</td><td class="time"><a href="#t2022-09-02T18:22:13" class="time">18:22</a></td></tr>
<tr id="t2022-09-02T18:22:19"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">JPEW: I'm struggling to see how this could stall out for as long though</td><td class="time"><a href="#t2022-09-02T18:22:19" class="time">18:22</a></td></tr>
<tr id="t2022-09-02T18:24:12"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">JPEW: can't be, there are log entries in cooker before this saying &quot;unihash changed to&quot;</td><td class="time"><a href="#t2022-09-02T18:24:12" class="time">18:24</a></td></tr>
<tr id="t2022-09-02T18:24:37"><th class="nick" style="background: #b15db1">JPEW</th><td class="text" style="color: #b15db1">Maybe CWD is changing?</td><td class="time"><a href="#t2022-09-02T18:24:37" class="time">18:24</a></td></tr>
<tr id="t2022-09-02T18:25:13"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">oh, this is async of course</td><td class="time"><a href="#t2022-09-02T18:25:13" class="time">18:25</a></td></tr>
<tr id="t2022-09-02T18:25:50"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">I bet that is it</td><td class="time"><a href="#t2022-09-02T18:25:50" class="time">18:25</a></td></tr>
<tr id="t2022-09-02T18:34:02"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">JPEW: the failing logs always show the connect being deferred to report_unihash time so that makes sense</td><td class="time"><a href="#t2022-09-02T18:34:02" class="time">18:34</a></td></tr>
<tr id="t2022-09-02T18:34:25"><th class="nick" style="background: #b15db1">JPEW</th><td class="text" style="color: #b15db1">OK, well at least that's a simple fix :)</td><td class="time"><a href="#t2022-09-02T18:34:25" class="time">18:34</a></td></tr>
<tr id="t2022-09-02T18:57:29"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">JPEW: it is already calling self.loop.run_until_complete() on the connect() call</td><td class="time"><a href="#t2022-09-02T18:57:29" class="time">18:57</a></td></tr>
<tr id="t2022-09-02T18:59:10"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">JPEW: it is probably as the connect call is coming from send_wrapper</td><td class="time"><a href="#t2022-09-02T18:59:10" class="time">18:59</a></td></tr>
<tr id="t2022-09-02T19:00:13"><td class="action" colspan="2">* RP is a bit lost in the maze</td><td><a href="#t2022-09-02T19:00:13" class="time">19:00</a></td></tr>
<tr id="t2022-09-02T19:03:03"><th class="nick" style="background: #b15db1">JPEW</th><td class="text" style="color: #b15db1">Ya, that is synchnronous (it will block the calling thread)</td><td class="time"><a href="#t2022-09-02T19:03:03" class="time">19:03</a></td></tr>
<tr id="t2022-09-02T19:03:13"><th class="nick" style="background: #b15db1">JPEW</th><td class="text" style="color: #b15db1">Is it possible a different thread changes the CWD?</td><td class="time"><a href="#t2022-09-02T19:03:13" class="time">19:03</a></td></tr>
<tr id="t2022-09-02T19:05:34"><th class="nick" style="background: #b15db1">JPEW</th><td class="text" style="color: #b15db1">RP: I guess the simple test would be to temporarily bypass the AF_UNIX path length work around and thereby remove the chdir</td><td class="time"><a href="#t2022-09-02T19:05:34" class="time">19:05</a></td></tr>
<tr id="t2022-09-02T19:05:43"><th class="nick" style="background: #b15db1">JPEW</th><td class="text" style="color: #b15db1">If that fixes it, at least we know that is the problem</td><td class="time"><a href="#t2022-09-02T19:05:43" class="time">19:05</a></td></tr>
<tr id="t2022-09-02T19:09:19"><th class="nick" style="background: #b15db1">JPEW</th><td class="text" style="color: #b15db1">If that's the case, maybe it's the lazy creation of the client that's burning us here (and some unscrupulous threads); maybe we can make the client up front instead of being lazy about it</td><td class="time"><a href="#t2022-09-02T19:09:19" class="time">19:09</a></td></tr>
<tr id="t2022-09-02T19:53:58"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">JPEW: reproducer and root cause in the bug</td><td class="time"><a href="#t2022-09-02T19:53:58" class="time">19:53</a></td></tr>
<tr id="t2022-09-02T19:54:05"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">JPEW: it is a bit twisted</td><td class="time"><a href="#t2022-09-02T19:54:05" class="time">19:54</a></td></tr>
<tr id="t2022-09-02T19:56:57"><th class="nick" style="background: #b15db1">JPEW</th><td class="text" style="color: #b15db1">RP: Got it</td><td class="time"><a href="#t2022-09-02T19:56:57" class="time">19:56</a></td></tr>
<tr id="t2022-09-02T19:57:27"><th class="nick" style="background: #b15db1">JPEW</th><td class="text" style="color: #b15db1">I think if we move the os.chdir() stuff down into AsyncClient::connect_unix::connect_sock() it would fix it</td><td class="time"><a href="#t2022-09-02T19:57:27" class="time">19:57</a></td></tr>
<tr id="t2022-09-02T19:57:41"><th class="nick" style="background: #b15db1">JPEW</th><td class="text" style="color: #b15db1">Or switch to abstract sockets</td><td class="time"><a href="#t2022-09-02T19:57:41" class="time">19:57</a></td></tr>
<tr id="t2022-09-02T19:57:46"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">JPEW: yes, I think you're right</td><td class="time"><a href="#t2022-09-02T19:57:46" class="time">19:57</a></td></tr>
<tr id="t2022-09-02T20:03:22"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">JPEW: does AsyncClient have access to a loop to execute it in though?</td><td class="time"><a href="#t2022-09-02T20:03:22" class="time">20:03</a></td></tr>
<tr id="t2022-09-02T20:05:17"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">asyncio.get_running_loop() maybe</td><td class="time"><a href="#t2022-09-02T20:05:17" class="time">20:05</a></td></tr>
<tr id="t2022-09-02T20:05:40"><th class="nick" style="background: #b15db1">JPEW</th><td class="text" style="color: #b15db1">Right</td><td class="time"><a href="#t2022-09-02T20:05:40" class="time">20:05</a></td></tr>
<tr id="t2022-09-02T20:06:10"><th class="nick" style="background: #b15db1">JPEW</th><td class="text" style="color: #b15db1">AH, I see</td><td class="time"><a href="#t2022-09-02T20:06:10" class="time">20:06</a></td></tr>
<tr id="t2022-09-02T20:06:31"><th class="nick" style="background: #b15db1">JPEW</th><td class="text" style="color: #b15db1">You must have some error talking to the server, which makes the client try to reconnect?</td><td class="time"><a href="#t2022-09-02T20:06:31" class="time">20:06</a></td></tr>
<tr id="t2022-09-02T20:06:54"><th class="nick" style="background: #b15db1">JPEW</th><td class="text" style="color: #b15db1">(and that fails outright because CWD has changed</td><td class="time"><a href="#t2022-09-02T20:06:54" class="time">20:06</a></td></tr>
<tr id="t2022-09-02T20:07:34"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">JPEW: right. I don't know why the connections die but they must do</td><td class="time"><a href="#t2022-09-02T20:07:34" class="time">20:07</a></td></tr>
<tr id="t2022-09-02T20:08:16"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">JPEW: it is the only way I can explain what happens (and there is a server side log of connections resetting)</td><td class="time"><a href="#t2022-09-02T20:08:16" class="time">20:08</a></td></tr>
<tr id="t2022-09-02T20:08:29"><th class="nick" style="background: #b15db1">JPEW</th><td class="text" style="color: #b15db1">Ya, that makes sense</td><td class="time"><a href="#t2022-09-02T20:08:29" class="time">20:08</a></td></tr>
<tr id="t2022-09-02T20:18:27"><th class="nick" style="background: #b86161">eirikb[m]</th><td class="text" style="color: #b86161">&lt;mckoan&gt; &quot;eirikb: please try calling...&quot; &lt;- Same error.</td><td class="time"><a href="#t2022-09-02T20:18:27" class="time">20:18</a></td></tr>
<tr id="t2022-09-02T20:18:27-2"><th class="nick" style="background: #b86161">eirikb[m]</th><td class="text" style="color: #b86161">I tried creating a new runtime image including the SDK. This works, also in CLion, but I need to set up CLion to use an environment file, and hard code paths to cmake etc. Best to not have the toolchain</td><td class="time"><a href="#t2022-09-02T20:18:27-2" class="time">20:18</a></td></tr>
<tr id="t2022-09-02T20:26:44"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">JPEW: you can't next event loops :/</td><td class="time"><a href="#t2022-09-02T20:26:44" class="time">20:26</a></td></tr>
<tr id="t2022-09-02T20:26:47"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">nest</td><td class="time"><a href="#t2022-09-02T20:26:47" class="time">20:26</a></td></tr>
<tr id="t2022-09-02T20:27:26"><th class="nick" style="background: #b15db1">JPEW</th><td class="text" style="color: #b15db1">I don't remember, why?</td><td class="time"><a href="#t2022-09-02T20:27:26" class="time">20:27</a></td></tr>
<tr id="t2022-09-02T20:28:44"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">JPEW: specifically disallowed by python asyncio</td><td class="time"><a href="#t2022-09-02T20:28:44" class="time">20:28</a></td></tr>
<tr id="t2022-09-02T20:28:56"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">Exception: RuntimeError: This event loop is already running</td><td class="time"><a href="#t2022-09-02T20:28:56" class="time">20:28</a></td></tr>
<tr id="t2022-09-02T20:29:06"><th class="nick" style="background: #b15db1">JPEW</th><td class="text" style="color: #b15db1">Sure, why do you want to nest them?</td><td class="time"><a href="#t2022-09-02T20:29:06" class="time">20:29</a></td></tr>
<tr id="t2022-09-02T20:29:46"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">JPEW: in the middle of connect_unix, which is being run in a event loop, how do I force the connect async call to run?</td><td class="time"><a href="#t2022-09-02T20:29:46" class="time">20:29</a></td></tr>
<tr id="t2022-09-02T20:31:01"><th class="nick" style="background: #b15db1">JPEW</th><td class="text" style="color: #b15db1">The AsyncClient.connect() ?</td><td class="time"><a href="#t2022-09-02T20:31:01" class="time">20:31</a></td></tr>
<tr id="t2022-09-02T20:31:10"><th class="nick" style="background: #b15db1">JPEW</th><td class="text" style="color: #b15db1">I think you want `await self.connect()`</td><td class="time"><a href="#t2022-09-02T20:31:10" class="time">20:31</a></td></tr>
<tr id="t2022-09-02T20:31:44"><th class="nick" style="background: #b15db1">JPEW</th><td class="text" style="color: #b15db1">If your already in an event loop (e.g. a `async def` function, you just call await</td><td class="time"><a href="#t2022-09-02T20:31:44" class="time">20:31</a></td></tr>
<tr id="t2022-09-02T20:31:57"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">JPEW: that won't allow it to go off and do other things?</td><td class="time"><a href="#t2022-09-02T20:31:57" class="time">20:31</a></td></tr>
<tr id="t2022-09-02T20:32:54"><th class="nick" style="background: #b15db1">JPEW</th><td class="text" style="color: #b15db1">Ah, I see. Yes it would</td><td class="time"><a href="#t2022-09-02T20:32:54" class="time">20:32</a></td></tr>
<tr id="t2022-09-02T20:33:40"><th class="nick" style="background: #b15db1">JPEW</th><td class="text" style="color: #b15db1">Bascially, I don't think you can solve the path length unix domain socket limit with a chdir()</td><td class="time"><a href="#t2022-09-02T20:33:40" class="time">20:33</a></td></tr>
<tr id="t2022-09-02T20:34:09"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">JPEW: I think asyncio has some annoying limitations</td><td class="time"><a href="#t2022-09-02T20:34:09" class="time">20:34</a></td></tr>
<tr id="t2022-09-02T20:34:53"><th class="nick" style="background: #b15db1">JPEW</th><td class="text" style="color: #b15db1">A few, but it's really the best async option of all the ones out there</td><td class="time"><a href="#t2022-09-02T20:34:53" class="time">20:34</a></td></tr>
<tr id="t2022-09-02T20:35:11"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">JPEW: right :/.</td><td class="time"><a href="#t2022-09-02T20:35:11" class="time">20:35</a></td></tr>
<tr id="t2022-09-02T20:36:51"><th class="nick" style="background: #b15db1">JPEW</th><td class="text" style="color: #b15db1">Ah, there might be a simpler way to work around this reading the documentation</td><td class="time"><a href="#t2022-09-02T20:36:51" class="time">20:36</a></td></tr>
<tr id="t2022-09-02T20:37:16"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">JPEW: which documentation?</td><td class="time"><a href="#t2022-09-02T20:37:16" class="time">20:37</a></td></tr>
<tr id="t2022-09-02T20:37:28"><th class="nick" style="background: #b15db1">JPEW</th><td class="text" style="color: #b15db1"><a href="https://docs.python.org/3/library/asyncio-stream.html#asyncio.open_unix_connection" rel="nofollow">https://docs.python.org/3/library/asyncio-stream.html#asyncio.open_unix_connection</a></td><td class="time"><a href="#t2022-09-02T20:37:28" class="time">20:37</a></td></tr>
<tr id="t2022-09-02T20:40:05"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">JPEW: ah, pass in a sock?</td><td class="time"><a href="#t2022-09-02T20:40:05" class="time">20:40</a></td></tr>
<tr id="t2022-09-02T20:40:36"><th class="nick" style="background: #b15db1">JPEW</th><td class="text" style="color: #b15db1">Right, open the socket &quot;normally&quot; (non-async) then pass it as the sock argument</td><td class="time"><a href="#t2022-09-02T20:40:36" class="time">20:40</a></td></tr>
<tr id="t2022-09-02T20:40:58"><th class="nick" style="background: #b15db1">JPEW</th><td class="text" style="color: #b15db1">It means you'll block all your async tasks while that's happening, but that's probably not a problem</td><td class="time"><a href="#t2022-09-02T20:40:58" class="time">20:40</a></td></tr>
<tr id="t2022-09-02T20:41:09"><th class="nick" style="background: #b15db1">JPEW</th><td class="text" style="color: #b15db1">all of them on this event loop that is</td><td class="time"><a href="#t2022-09-02T20:41:09" class="time">20:41</a></td></tr>
<tr id="t2022-09-02T20:41:13"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">JPEW: right, I don't really care about that :)</td><td class="time"><a href="#t2022-09-02T20:41:13" class="time">20:41</a></td></tr>
<tr id="t2022-09-02T20:41:49"><th class="nick" style="background: #b15db1">JPEW</th><td class="text" style="color: #b15db1">Ya, as long as we don't change the TCP connection (used by hash-equiv server) it won't matter in practice</td><td class="time"><a href="#t2022-09-02T20:41:49" class="time">20:41</a></td></tr>
<tr id="t2022-09-02T20:50:59"><th class="nick" style="background: #b15db1">JPEW</th><td class="text" style="color: #b15db1">RP: <a href="https://git.yoctoproject.org/poky-contrib/log/?h=jpew/hash-serve-client-unix-fix" rel="nofollow">https://git.yoctoproject.org/poky-contrib/log/?h=jpew/hash-serve-client-unix-fix</a> I think</td><td class="time"><a href="#t2022-09-02T20:50:59" class="time">20:50</a></td></tr>
<tr id="t2022-09-02T20:52:46"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657"><a href="https://git.openembedded.org/bitbake/commit/?h=master-next&amp;id=4f4a9c86e8812404e52373ebc7252893960875d7" rel="nofollow">https://git.openembedded.org/bitbake/commit/?h=master-next&amp;id=4f4a9c86e8812404e52373ebc7252893960875d7</a> :)</td><td class="time"><a href="#t2022-09-02T20:52:46" class="time">20:52</a></td></tr>
<tr id="t2022-09-02T20:53:05"><th class="nick" style="background: #b15db1">JPEW</th><td class="text" style="color: #b15db1">Hey, that looks familiar</td><td class="time"><a href="#t2022-09-02T20:53:05" class="time">20:53</a></td></tr>
<tr id="t2022-09-02T20:53:08"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">JPEW: I was just testing that! :)</td><td class="time"><a href="#t2022-09-02T20:53:08" class="time">20:53</a></td></tr>
<tr id="t2022-09-02T20:53:31"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">JPEW: you win though as you have a commit message</td><td class="time"><a href="#t2022-09-02T20:53:31" class="time">20:53</a></td></tr>
<tr id="t2022-09-02T20:54:45"><th class="nick" style="background: #b15db1">JPEW</th><td class="text" style="color: #b15db1">I think non-async connect_unix can actually be completely removed and it can be added to the downcall method list in __init__ also, but I can do that in a later patch</td><td class="time"><a href="#t2022-09-02T20:54:45" class="time">20:54</a></td></tr>
<tr id="t2022-09-02T20:55:44"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">JPEW: I did try that but it exploded and I didn't get to the downcall part</td><td class="time"><a href="#t2022-09-02T20:55:44" class="time">20:55</a></td></tr>
<tr id="t2022-09-02T20:56:10"><th class="nick" style="background: #b15db1">JPEW</th><td class="text" style="color: #b15db1">RP: I'll do it later, it's not a big deal</td><td class="time"><a href="#t2022-09-02T20:56:10" class="time">20:56</a></td></tr>
<tr id="t2022-09-02T20:57:32"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">JPEW: I'm just happy we have an idea why this was breaking and I don't need an exorcist for the build server :)</td><td class="time"><a href="#t2022-09-02T20:57:32" class="time">20:57</a></td></tr>
<tr id="t2022-09-02T20:59:55"><th class="nick" style="background: #b15db1">JPEW</th><td class="text" style="color: #b15db1">I mean, I know some of those too if you really want to try</td><td class="time"><a href="#t2022-09-02T20:59:55" class="time">20:59</a></td></tr>
<tr id="t2022-09-02T21:00:47"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">:D</td><td class="time"><a href="#t2022-09-02T21:00:47" class="time">21:00</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2022-09-01.log.html">&#171; Thursday, 2022-09-01</a> <a href="index.html">Index</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.17.2 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="https://mg.pov.lt/irclog2html/">https://mg.pov.lt/irclog2html/</a>!</p>
</div>
</body>
</html>
