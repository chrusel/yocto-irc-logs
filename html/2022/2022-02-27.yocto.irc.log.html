<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Sunday, 2022-02-27</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.17.2 by Marius Gedminas" />
  <meta name="version" content="2.17.2 - 2019-04-23" />
</head>
<body>
<h1>Sunday, 2022-02-27</h1>
<div class="navigation"> <a href="%23yocto.2022-02-26.log.html">&#171; Saturday, 2022-02-26</a> <a href="index.html">Index</a> <a href="%23yocto.2022-02-28.log.html">Monday, 2022-02-28 &#187;</a> </div>
<table class="irclog">
<tr id="t2022-02-27T04:07:10-2"><td class="nickchange" colspan="2">*** jmiehe1 is now known as jmiehe</td><td><a href="#t2022-02-27T04:07:10-2" class="time">04:07</a></td></tr>
<tr id="t2022-02-27T06:21:13"><th class="nick" style="background: #407a40">halstead</th><td class="text" style="color: #407a40">All services except Yocto Autobuilder workers are restored.</td><td class="time"><a href="#t2022-02-27T06:21:13" class="time">06:21</a></td></tr>
<tr id="t2022-02-27T08:54:14"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">thanks Michael, sounds like some challenges but good progress!</td><td class="time"><a href="#t2022-02-27T08:54:14" class="time">08:54</a></td></tr>
<tr id="t2022-02-27T17:43:11"><td class="part" colspan="2">*** cengiz_io &lt;cengiz_io!sid223191@id-223191.ilkley.irccloud.com&gt; has left #yocto</td><td><a href="#t2022-02-27T17:43:11" class="time">17:43</a></td></tr>
<tr id="t2022-02-27T19:05:09"><th class="nick" style="background: #818144">Saur[m]</th><td class="text" style="color: #818144">RP: I've sent a number of patches now to the lists with changes mostly related to the license changes.</td><td class="time"><a href="#t2022-02-27T19:05:09" class="time">19:05</a></td></tr>
<tr id="t2022-02-27T19:06:40"><th class="nick" style="background: #818144">Saur[m]</th><td class="text" style="color: #818144">RP, sgw: I have also pushed a branch (pkj/spdx-licenses) to poky-contrib. It has the all the changes I sent as mail, then it has Saul</td><td class="time"><a href="#t2022-02-27T19:06:40" class="time">19:06</a></td></tr>
<tr id="t2022-02-27T19:07:47"><th class="nick" style="background: #818144">Saur[m]</th><td class="text" style="color: #818144">... Saul's two changes cherry-picked from master-next, and on top of that are four changes that you can consider as review comments (i.e., I do not expect them to be integrated as is, but rather squashed with Saul's changes).</td><td class="time"><a href="#t2022-02-27T19:07:47" class="time">19:07</a></td></tr>
<tr id="t2022-02-27T19:58:13"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">Saur[m]: thanks, one of the patches appears to address an issue seen in testing but I am worried about the wildcard change :/</td><td class="time"><a href="#t2022-02-27T19:58:13" class="time">19:58</a></td></tr>
<tr id="t2022-02-27T20:10:06"><th class="nick" style="background: #818144">Saur[m]</th><td class="text" style="color: #818144">RP: What do you mean &quot;about the wildcard change&quot;?</td><td class="time"><a href="#t2022-02-27T20:10:06" class="time">20:10</a></td></tr>
<tr id="t2022-02-27T20:13:25"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">Saur[m]: <a href="https://git.yoctoproject.org/poky-contrib/commit/?h=pkj/spdx-licenses&amp;id=18c55d8a38d93c3028d58823e087de84d648a309" rel="nofollow">https://git.yoctoproject.org/poky-contrib/commit/?h=pkj/spdx-licenses&amp;id=18c55d8a38d93c3028d58823e087de84d648a309</a></td><td class="time"><a href="#t2022-02-27T20:13:25" class="time">20:13</a></td></tr>
<tr id="t2022-02-27T20:13:58"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">Saur[m]: I can see what the issue is but it seems odd to not be able to use SPDX licenses there</td><td class="time"><a href="#t2022-02-27T20:13:58" class="time">20:13</a></td></tr>
<tr id="t2022-02-27T20:15:39"><th class="nick" style="background: #854685">sgw</th><td class="text" style="color: #854685">Hey RP Saur[m], I just happened to see this, did you see my updated patches from Friday late afternoon?</td><td class="time"><a href="#t2022-02-27T20:15:39" class="time">20:15</a></td></tr>
<tr id="t2022-02-27T20:24:56"><th class="nick" style="background: #818144">Saur[m]</th><td class="text" style="color: #818144">RP: That change reverts parts of what was changed in Saul's changes to go back to what we currently use. We could change the code to not rely on the mapping code, but then the correct change is to use `INCOMPATIBLE_LICENSE:pn-core-image-minimal = &quot;GPL-3.0-only GPL-3.0-or-later LGPL-3.0-only LGPL-3.0-or-later&quot;`</td><td class="time"><a href="#t2022-02-27T20:24:56" class="time">20:24</a></td></tr>
<tr id="t2022-02-27T20:25:56"><th class="nick" style="background: #818144">Saur[m]</th><td class="text" style="color: #818144">I have a couple of other changes that remove the mapping support. They also include the above change.</td><td class="time"><a href="#t2022-02-27T20:25:56" class="time">20:25</a></td></tr>
<tr id="t2022-02-27T20:27:41"><th class="nick" style="background: #818144">Saur[m]</th><td class="text" style="color: #818144">Also, one thing to note with the new `INCOMPATIBLE_LICENSE_EXCEPTIONS` variable is that it does not support license mapping. I have not addressed that in my changes as I think it is the way we want to go, but it will have to be mentioned on the documentation.</td><td class="time"><a href="#t2022-02-27T20:27:41" class="time">20:27</a></td></tr>
<tr id="t2022-02-27T20:32:02"><th class="nick" style="background: #818144">Saur[m]</th><td class="text" style="color: #818144">sgw: I was by work earlier today for a little while and I did see that you had sent newer patches. I did not study them in detail, but I did notice that you have tried to bring back the `Including foo as buildable despite it having an incompatible license` message. I am pretty sure that is not working as intended, and I believe it is actually hard to get that right unless we have two variables for the exceptions, one for recipes and one for</td><td class="time"><a href="#t2022-02-27T20:32:02" class="time">20:32</a></td></tr>
<tr id="t2022-02-27T20:32:02-2"><th class="nick" style="background: #818144">Saur[m]</th><td class="text" style="color: #818144">packages.</td><td class="time"><a href="#t2022-02-27T20:32:02-2" class="time">20:32</a></td></tr>
<tr id="t2022-02-27T21:15:49"><th class="nick" style="background: #818144">Saur[m]</th><td class="text" style="color: #818144">Another question: what do I need to do to be able to run the incompatible_lic.NoGPL3InImagesTests.test_core_image_full_cmdline_weston test? Whenever I try it, it fails due to qemu not being able to setup a tap device using sudo. I can run the image from the failed test using `runqemu` and then setup a tap device using sudo, but that apparently does not help the test to succeed.</td><td class="time"><a href="#t2022-02-27T21:15:49" class="time">21:15</a></td></tr>
<tr id="t2022-02-27T21:27:49"><th class="nick" style="background: #488888">jaskij[m]</th><td class="text" style="color: #488888">I got around to testing that CMake toolchain patch, and then it dawned on me: I have never, ever, worked with mail supplied patches. I know the theory - download the patch, `git apply` it (against master?), test that it actually works, but how to go on from there?</td><td class="time"><a href="#t2022-02-27T21:27:49" class="time">21:27</a></td></tr>
<tr id="t2022-02-27T21:29:34"><th class="nick" style="background: #818144">Saur[m]</th><td class="text" style="color: #818144">jaskij: How do you mean to go on from there? That's pretty much the process to receive and apply a patch via mail.</td><td class="time"><a href="#t2022-02-27T21:29:34" class="time">21:29</a></td></tr>
<tr id="t2022-02-27T21:30:04"><th class="nick" style="background: #488888">jaskij[m]</th><td class="text" style="color: #488888">Saur: and then just reply on Bugzilla with my findings?</td><td class="time"><a href="#t2022-02-27T21:30:04" class="time">21:30</a></td></tr>
<tr id="t2022-02-27T21:30:43"><th class="nick" style="background: #818144">Saur[m]</th><td class="text" style="color: #818144">Well, if the patch came via a mailing list, it is probably better to answer via the list as well.</td><td class="time"><a href="#t2022-02-27T21:30:43" class="time">21:30</a></td></tr>
<tr id="t2022-02-27T21:31:41"><th class="nick" style="background: #818144">Saur[m]</th><td class="text" style="color: #818144">You probably also want to use `git am` instead of `git apply` as that recreates the commits.</td><td class="time"><a href="#t2022-02-27T21:31:41" class="time">21:31</a></td></tr>
<tr id="t2022-02-27T21:32:33"><th class="nick" style="background: #488888">jaskij[m]</th><td class="text" style="color: #488888">It came to me via Bugzilla, but tbf I haven't been monitoring the mailing list. This is literally my first time contributing to OSS via mail.</td><td class="time"><a href="#t2022-02-27T21:32:33" class="time">21:32</a></td></tr>
<tr id="t2022-02-27T21:34:19"><th class="nick" style="background: #818144">Saur[m]</th><td class="text" style="color: #818144">Well, if the patch came from Bugzilla, then commenting on it in Bugzilla should be fine as well.</td><td class="time"><a href="#t2022-02-27T21:34:19" class="time">21:34</a></td></tr>
<tr id="t2022-02-27T21:35:00"><th class="nick" style="background: #488888">jaskij[m]</th><td class="text" style="color: #488888">now, last question: apply it against master?</td><td class="time"><a href="#t2022-02-27T21:35:00" class="time">21:35</a></td></tr>
<tr id="t2022-02-27T21:36:20"><th class="nick" style="background: #818144">Saur[m]</th><td class="text" style="color: #818144">Most likely, though it of course depends on what branch was used when the patch was generated. If the patch was generated, e.g., for Dunfell, then it should of course be applied to the dunfell branch instead.</td><td class="time"><a href="#t2022-02-27T21:36:20" class="time">21:36</a></td></tr>
<tr id="t2022-02-27T22:04:02"><th class="nick" style="background: #488888">jaskij[m]</th><td class="text" style="color: #488888">Now I'm frantically porting everything - I haven't touched Yocto since... November? and all my layers were still on Hardknott a few hours ago.&nbsp;&nbsp;And since I want to test this by deploying to actual hardware, welp... only thing I have is our custom board, so now I'm frantically porting our BSP to at least get stuff to build.</td><td class="time"><a href="#t2022-02-27T22:04:02" class="time">22:04</a></td></tr>
<tr id="t2022-02-27T22:04:12"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">Saur[m]: fwiw I usually setup the tap device in advance and then qemu just uses it</td><td class="time"><a href="#t2022-02-27T22:04:12" class="time">22:04</a></td></tr>
<tr id="t2022-02-27T22:12:11"><th class="nick" style="background: #818144">Saur[m]</th><td class="text" style="color: #818144">RP: I thought that would happen if I ran `runqemu` manually, but it does not seem to help. :(</td><td class="time"><a href="#t2022-02-27T22:12:11" class="time">22:12</a></td></tr>
<tr id="t2022-02-27T22:30:12"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">Saur[m]: Did you use the script to set it up?</td><td class="time"><a href="#t2022-02-27T22:30:12" class="time">22:30</a></td></tr>
<tr id="t2022-02-27T22:30:37"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">Saur[m]: I think it touches some file somewhere so the system knows it can be used without pseudo</td><td class="time"><a href="#t2022-02-27T22:30:37" class="time">22:30</a></td></tr>
<tr id="t2022-02-27T22:32:12"><th class="nick" style="background: #818144">Saur[m]</th><td class="text" style="color: #818144">RP: I just ran `runqemu`. Haven't used any other script.</td><td class="time"><a href="#t2022-02-27T22:32:12" class="time">22:32</a></td></tr>
<tr id="t2022-02-27T22:39:23"><th class="nick" style="background: #818144">Saur[m]</th><td class="text" style="color: #818144">RP: I found `runqemu-gen-tapdevs`. I guess that was the script you were referring to. I have run it now so hopefully the next test run will work...</td><td class="time"><a href="#t2022-02-27T22:39:23" class="time">22:39</a></td></tr>
<tr id="t2022-02-27T23:11:06"><th class="nick" style="background: #818144">Saur[m]</th><td class="text" style="color: #818144">Yay, it worked. :)</td><td class="time"><a href="#t2022-02-27T23:11:06" class="time">23:11</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2022-02-26.log.html">&#171; Saturday, 2022-02-26</a> <a href="index.html">Index</a> <a href="%23yocto.2022-02-28.log.html">Monday, 2022-02-28 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.17.2 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="https://mg.pov.lt/irclog2html/">https://mg.pov.lt/irclog2html/</a>!</p>
</div>
</body>
</html>
