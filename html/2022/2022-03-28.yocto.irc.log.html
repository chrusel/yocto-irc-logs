<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Monday, 2022-03-28</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.17.2 by Marius Gedminas" />
  <meta name="version" content="2.17.2 - 2019-04-23" />
</head>
<body>
<h1>Monday, 2022-03-28</h1>
<div class="navigation"> <a href="%23yocto.2022-03-27.log.html">&#171; Sunday, 2022-03-27</a> <a href="index.html">Index</a> <a href="%23yocto.2022-03-29.log.html">Tuesday, 2022-03-29 &#187;</a> </div>
<table class="irclog">
<tr id="t2022-03-28T04:39:34"><th class="nick" style="background: #407a40">ericm</th><td class="text" style="color: #407a40">Hello guys. Is there anyway I can setup an encrypted rootfs for my build ?</td><td class="time"><a href="#t2022-03-28T04:39:34" class="time">04:39</a></td></tr>
<tr id="t2022-03-28T06:36:55"><td class="nickchange" colspan="2">*** mckoan|away is now known as mckoan</td><td><a href="#t2022-03-28T06:36:55" class="time">06:36</a></td></tr>
<tr id="t2022-03-28T06:45:28"><td class="nickchange" colspan="2">*** mak is now known as Mak</td><td><a href="#t2022-03-28T06:45:28" class="time">06:45</a></td></tr>
<tr id="t2022-03-28T06:45:38"><td class="nickchange" colspan="2">*** Mak is now known as mak_GR</td><td><a href="#t2022-03-28T06:45:38" class="time">06:45</a></td></tr>
<tr id="t2022-03-28T07:07:41"><td class="nickchange" colspan="2">*** mak is now known as mak_GR</td><td><a href="#t2022-03-28T07:07:41" class="time">07:07</a></td></tr>
<tr id="t2022-03-28T07:38:57"><th class="nick" style="background: #42427e">JaMa</th><td class="text" style="color: #42427e">FYI: latest ubuntu-22.04 Jammy seems to break couple -native builds, possibly because libc built with --with-default-link=no since glibc_2.35-0ubuntu3 <a href="http://changelogs.ubuntu.com/changelogs/pool/main/g/glibc/glibc_2.35-0ubuntu3/changelog" rel="nofollow">http://changelogs.ubuntu.com/changelogs/pool/main/g/glibc/glibc_2.35-0ubuntu3/changelog</a></td><td class="time"><a href="#t2022-03-28T07:38:57" class="time">07:38</a></td></tr>
<tr id="t2022-03-28T07:39:36"><th class="nick" style="background: #42427e">JaMa</th><td class="text" style="color: #42427e">e.g. icu-native, cmake-native are failing to build now with dunfell as well as latest kirkstone</td><td class="time"><a href="#t2022-03-28T07:39:36" class="time">07:39</a></td></tr>
<tr id="t2022-03-28T07:50:35"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">yo dudX</td><td class="time"><a href="#t2022-03-28T07:50:35" class="time">07:50</a></td></tr>
<tr id="t2022-03-28T07:58:02"><th class="nick" style="background: #854685">mckoan</th><td class="text" style="color: #854685">LetoThe2nd: hey :-)</td><td class="time"><a href="#t2022-03-28T07:58:02" class="time">07:58</a></td></tr>
<tr id="t2022-03-28T07:59:07"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">mckoan: howdy!</td><td class="time"><a href="#t2022-03-28T07:59:07" class="time">07:59</a></td></tr>
<tr id="t2022-03-28T07:59:28"><th class="nick" style="background: #488888">Amahnui</th><td class="text" style="color: #488888">Hello üëã</td><td class="time"><a href="#t2022-03-28T07:59:28" class="time">07:59</a></td></tr>
<tr id="t2022-03-28T07:59:38"><th class="nick" style="background: #488888">Amahnui</th><td class="text" style="color: #488888">I'm an outreachy applicant</td><td class="time"><a href="#t2022-03-28T07:59:38" class="time">07:59</a></td></tr>
<tr id="t2022-03-28T07:59:53"><th class="nick" style="background: #488888">Amahnui</th><td class="text" style="color: #488888">I'm called Amahnui</td><td class="time"><a href="#t2022-03-28T07:59:53" class="time">07:59</a></td></tr>
<tr id="t2022-03-28T08:00:50"><td class="part" colspan="2">*** thierryE[m] &lt;thierryE[m]!~thierryem@2001:470:69fc:105::1:5f46&gt; has left #yocto</td><td><a href="#t2022-03-28T08:00:50" class="time">08:00</a></td></tr>
<tr id="t2022-03-28T08:00:50-2"><th class="nick" style="background: #488888">Amahnui</th><td class="text" style="color: #488888">Please I have difficulty understanding how the version control site works and I need help with setting it up üôèüèΩ</td><td class="time"><a href="#t2022-03-28T08:00:50-2" class="time">08:00</a></td></tr>
<tr id="t2022-03-28T08:01:43"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">Amahnui: at the bottom of the repos are the URLs for git clone, so you'd &quot;git clone <a href="https://git.yoctoproject.org/poky" rel="nofollow">https://git.yoctoproject.org/poky</a>&quot; for poky</td><td class="time"><a href="#t2022-03-28T08:01:43" class="time">08:01</a></td></tr>
<tr id="t2022-03-28T08:02:09"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">the quick start in the manual is at <a href="https://docs.yoctoproject.org/brief-yoctoprojectqs/index.html" rel="nofollow">https://docs.yoctoproject.org/brief-yoctoprojectqs/index.html</a></td><td class="time"><a href="#t2022-03-28T08:02:09" class="time">08:02</a></td></tr>
<tr id="t2022-03-28T08:02:17"><td class="part" colspan="2">*** thierryE[m] &lt;thierryE[m]!~thierryem@2001:470:69fc:105::1:5f46&gt; has left #yocto</td><td><a href="#t2022-03-28T08:02:17" class="time">08:02</a></td></tr>
<tr id="t2022-03-28T08:02:57"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">Amahnui: Welcome! Hope you'll have fun :)</td><td class="time"><a href="#t2022-03-28T08:02:57" class="time">08:02</a></td></tr>
<tr id="t2022-03-28T08:03:53"><th class="nick" style="background: #488888">Amahnui</th><td class="text" style="color: #488888"> rburton: Thanks alot üôè let get to it now</td><td class="time"><a href="#t2022-03-28T08:03:53" class="time">08:03</a></td></tr>
<tr id="t2022-03-28T08:04:45"><th class="nick" style="background: #488888">Amahnui</th><td class="text" style="color: #488888">qschulz: thank you, I'm happy to be here</td><td class="time"><a href="#t2022-03-28T08:04:45" class="time">08:04</a></td></tr>
<tr id="t2022-03-28T08:05:35"><th class="nick" style="background: #488888">Amahnui</th><td class="text" style="color: #488888">I have one more concern. Please how do I make my messages on irc to remain even when I go offline</td><td class="time"><a href="#t2022-03-28T08:05:35" class="time">08:05</a></td></tr>
<tr id="t2022-03-28T08:06:12"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">Amahnui: you need an IRC bouncer</td><td class="time"><a href="#t2022-03-28T08:06:12" class="time">08:06</a></td></tr>
<tr id="t2022-03-28T08:06:25"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">Amahnui: A handful of people here are using ircclouds I think</td><td class="time"><a href="#t2022-03-28T08:06:25" class="time">08:06</a></td></tr>
<tr id="t2022-03-28T08:06:36"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">its a paid feature of irccloud though</td><td class="time"><a href="#t2022-03-28T08:06:36" class="time">08:06</a></td></tr>
<tr id="t2022-03-28T08:06:37"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b"><a href="https://www.irccloud.com/" rel="nofollow">https://www.irccloud.com/</a></td><td class="time"><a href="#t2022-03-28T08:06:37" class="time">08:06</a></td></tr>
<tr id="t2022-03-28T08:06:50"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">qschulz: Amahnui is already using irccloud :)</td><td class="time"><a href="#t2022-03-28T08:06:50" class="time">08:06</a></td></tr>
<tr id="t2022-03-28T08:07:05"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">rburton: didn't look at the IRC logs :p</td><td class="time"><a href="#t2022-03-28T08:07:05" class="time">08:07</a></td></tr>
<tr id="t2022-03-28T08:07:24"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">with the irccloud free plan it says connected for 2 hours</td><td class="time"><a href="#t2022-03-28T08:07:24" class="time">08:07</a></td></tr>
<tr id="t2022-03-28T08:07:27"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">Amahnui: there are logs of this channel here: <a href="https://www.yoctoproject.org/irc/" rel="nofollow">https://www.yoctoproject.org/irc/</a></td><td class="time"><a href="#t2022-03-28T08:07:27" class="time">08:07</a></td></tr>
<tr id="t2022-03-28T08:07:30"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">(after you disconnect)</td><td class="time"><a href="#t2022-03-28T08:07:30" class="time">08:07</a></td></tr>
<tr id="t2022-03-28T08:07:57"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">so, at least you'd be able to see what's happened while you were disconnected</td><td class="time"><a href="#t2022-03-28T08:07:57" class="time">08:07</a></td></tr>
<tr id="t2022-03-28T08:08:38"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">(I personally run my IRC client on a remote server I do not reboot every day but I understand it's not possible for everyone)</td><td class="time"><a href="#t2022-03-28T08:08:38" class="time">08:08</a></td></tr>
<tr id="t2022-03-28T08:09:01"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">a Raspberry Pi (or whatever PC) running at all times with the IRC client is possible too</td><td class="time"><a href="#t2022-03-28T08:09:01" class="time">08:09</a></td></tr>
<tr id="t2022-03-28T08:10:41"><td class="action" colspan="2">* landgraf uses weechat in screen on remote server for years</td><td><a href="#t2022-03-28T08:10:41" class="time">08:10</a></td></tr>
<tr id="t2022-03-28T08:11:55"><td class="action" colspan="2">* LetoThe2nd did the (irssi+screen)-&gt;irccloud-&gt;(element/matrix)-&gt;(weechat+tmux) progression in the last 4 years or so.</td><td><a href="#t2022-03-28T08:11:55" class="time">08:11</a></td></tr>
<tr id="t2022-03-28T08:13:37"><th class="nick" style="background: #488888">Amahnui</th><td class="text" style="color: #488888"> qschulz: Okay I will go check out the irc bouncer if I can afford it then I will get it and thanks for the link to the logs as well</td><td class="time"><a href="#t2022-03-28T08:13:37" class="time">08:13</a></td></tr>
<tr id="t2022-03-28T08:13:43"><th class="nick" style="background: #488888">Amahnui</th><td class="text" style="color: #488888">About the rebooting</td><td class="time"><a href="#t2022-03-28T08:13:43" class="time">08:13</a></td></tr>
<tr id="t2022-03-28T08:14:40"><th class="nick" style="background: #488888">Amahnui</th><td class="text" style="color: #488888">It's impossible to not do that here as they seize our electricity here on a daily basis atleast twice a day</td><td class="time"><a href="#t2022-03-28T08:14:40" class="time">08:14</a></td></tr>
<tr id="t2022-03-28T08:15:25"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">would be nice if irccloud would sponsor outreachy and give out free accounts</td><td class="time"><a href="#t2022-03-28T08:15:25" class="time">08:15</a></td></tr>
<tr id="t2022-03-28T08:16:22"><th class="nick" style="background: #488888">Amahnui</th><td class="text" style="color: #488888">rburton: it would really be great</td><td class="time"><a href="#t2022-03-28T08:16:22" class="time">08:16</a></td></tr>
<tr id="t2022-03-28T08:47:00"><th class="nick" style="background: #488888">Amahnui</th><td class="text" style="color: #488888">Please I wish to ask if I can work with windows or kali</td><td class="time"><a href="#t2022-03-28T08:47:00" class="time">08:47</a></td></tr>
<tr id="t2022-03-28T08:47:59"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">Amahnui: <a href="https://docs.yoctoproject.org/ref-manual/system-requirements.html#supported-linux-distributions" rel="nofollow">https://docs.yoctoproject.org/ref-manual/system-requirements.html#supported-linux-distributions</a></td><td class="time"><a href="#t2022-03-28T08:47:59" class="time">08:47</a></td></tr>
<tr id="t2022-03-28T08:48:08"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">&quot;You may use Windows Subsystem For Linux v2 to set up a build host using Windows 10, but validation is not performed against build hosts using WSLv2.</td><td class="time"><a href="#t2022-03-28T08:48:08" class="time">08:48</a></td></tr>
<tr id="t2022-03-28T08:48:10"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">The Yocto Project is not compatible with WSLv1, it is compatible but not officially supported nor validated with WSLv2, if you still decide to use WSL please upgrade to WSLv2.</td><td class="time"><a href="#t2022-03-28T08:48:10" class="time">08:48</a></td></tr>
<tr id="t2022-03-28T08:49:16"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">since Kali is Debian based, it might just work but I've seen Pop os fail to be used on Stackoverflow questions even though it's based on Ubuntu</td><td class="time"><a href="#t2022-03-28T08:49:16" class="time">08:49</a></td></tr>
<tr id="t2022-03-28T08:49:24"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">Amahnui: the one outreachy project we have this year is related specifically to FreeBSD, so you'll need to be running FreeBSD for that.</td><td class="time"><a href="#t2022-03-28T08:49:24" class="time">08:49</a></td></tr>
<tr id="t2022-03-28T08:49:49"><th class="nick" style="background: #488888">Amahnui</th><td class="text" style="color: #488888"> qschulz: Okay I'll install Ubuntu on my machine</td><td class="time"><a href="#t2022-03-28T08:49:49" class="time">08:49</a></td></tr>
<tr id="t2022-03-28T08:50:04"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">Amahnui: see what rburton just said above</td><td class="time"><a href="#t2022-03-28T08:50:04" class="time">08:50</a></td></tr>
<tr id="t2022-03-28T08:50:36"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">for learning yocto to get started ubuntu is a good choice, but for the project itself you'll need freebsd.</td><td class="time"><a href="#t2022-03-28T08:50:36" class="time">08:50</a></td></tr>
<tr id="t2022-03-28T08:51:03"><th class="nick" style="background: #488888">Amahnui</th><td class="text" style="color: #488888">rburton: Okay thank you I'll install FreeBSD rather</td><td class="time"><a href="#t2022-03-28T08:51:03" class="time">08:51</a></td></tr>
<tr id="t2022-03-28T08:51:11"><th class="nick" style="background: #488888">Amahnui</th><td class="text" style="color: #488888">Thanks alot once more</td><td class="time"><a href="#t2022-03-28T08:51:11" class="time">08:51</a></td></tr>
<tr id="t2022-03-28T08:51:27"><th class="nick" style="background: #488888">Amahnui</th><td class="text" style="color: #488888">Let me begin installing it right now</td><td class="time"><a href="#t2022-03-28T08:51:27" class="time">08:51</a></td></tr>
<tr id="t2022-03-28T08:52:16"><th class="nick" style="background: #488888">Amahnui</th><td class="text" style="color: #488888">I'm really grateful üôè</td><td class="time"><a href="#t2022-03-28T08:52:16" class="time">08:52</a></td></tr>
<tr id="t2022-03-28T09:20:41"><th class="nick" style="background: #4d4d93">Schlumpf</th><td class="text" style="color: #4d4d93">Hi, is there a simple way, to patch a Yocto config variable into a script source file?</td><td class="time"><a href="#t2022-03-28T09:20:41" class="time">09:20</a></td></tr>
<tr id="t2022-03-28T09:22:40"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">Does anyone have a deep knowledge of python threading, the GIL and signal handling?</td><td class="time"><a href="#t2022-03-28T09:22:40" class="time">09:22</a></td></tr>
<tr id="t2022-03-28T09:24:04"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">It looks like python intercepts signals and queues them for the main thread to process at some later date. Using pthread_sigmask therefore doesn't do what you expect as a python script using multiple threads may receive a signal in another thread, pass it to the main thread and raise it there despite SIG_BLOCK :/</td><td class="time"><a href="#t2022-03-28T09:24:04" class="time">09:24</a></td></tr>
<tr id="t2022-03-28T09:24:13"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">Saur[m]: ^^^ in case you wondered</td><td class="time"><a href="#t2022-03-28T09:24:13" class="time">09:24</a></td></tr>
<tr id="t2022-03-28T09:24:34"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">Schlumpf: you could use environment variables and pass those to the Yocto build?</td><td class="time"><a href="#t2022-03-28T09:24:34" class="time">09:24</a></td></tr>
<tr id="t2022-03-28T09:24:54"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">Schlumpf: BB_ENV_EXTRAWHITE from memory</td><td class="time"><a href="#t2022-03-28T09:24:54" class="time">09:24</a></td></tr>
<tr id="t2022-03-28T09:29:24"><th class="nick" style="background: #4d4d93">Schlumpf</th><td class="text" style="color: #4d4d93">qschulz: I need the other way. My recipe has contains a shell script to be installed to the image. This script needs to be patched with variables from a machine.conf file</td><td class="time"><a href="#t2022-03-28T09:29:24" class="time">09:29</a></td></tr>
<tr id="t2022-03-28T09:30:15"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">Schlumpf: inspiration is at <a href="https://github.com/coreycothrum/meta-bitbake-variable-substitution" rel="nofollow">https://github.com/coreycothrum/meta-bitbake-variable-substitution</a></td><td class="time"><a href="#t2022-03-28T09:30:15" class="time">09:30</a></td></tr>
<tr id="t2022-03-28T09:30:31"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">Schlumpf: your recipe has access to variables from the machine.conf so it shouldn't be an issue to just use them?</td><td class="time"><a href="#t2022-03-28T09:30:31" class="time">09:30</a></td></tr>
<tr id="t2022-03-28T09:31:07"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">Schlumpf: then you can sed in your shell script the correct values from Bitbake variables</td><td class="time"><a href="#t2022-03-28T09:31:07" class="time">09:31</a></td></tr>
<tr id="t2022-03-28T09:41:55"><th class="nick" style="background: #4d4d93">Schlumpf</th><td class="text" style="color: #4d4d93">LetoThe2nd qschulz: Many thanks, I see that I have to do it myself, either with python or sed.</td><td class="time"><a href="#t2022-03-28T09:41:55" class="time">09:41</a></td></tr>
<tr id="t2022-03-28T09:49:07"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">I summarised the threads thing in <a href="https://bugs.python.org/issue47139" rel="nofollow">https://bugs.python.org/issue47139</a> in case upstream are interested and have any advice or want to document it</td><td class="time"><a href="#t2022-03-28T09:49:07" class="time">09:49</a></td></tr>
<tr id="t2022-03-28T10:05:34"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">Schlumpf: for a single script, just manually sed.&nbsp;&nbsp;if you've a load of files, something like <a href="https://github.com/rossburton/meta-ross/blob/master/classes/bbin.bbclass" rel="nofollow">https://github.com/rossburton/meta-ross/blob/master/classes/bbin.bbclass</a> (which needs work but would suffice for inspiration) might be interesting</td><td class="time"><a href="#t2022-03-28T10:05:34" class="time">10:05</a></td></tr>
<tr id="t2022-03-28T10:18:50"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">RP: did a bit of CPE work, the lua cve will disappear next run</td><td class="time"><a href="#t2022-03-28T10:18:50" class="time">10:18</a></td></tr>
<tr id="t2022-03-28T10:20:24"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">rburton: thanks, I saw this week looked a bit of a mess :(</td><td class="time"><a href="#t2022-03-28T10:20:24" class="time">10:20</a></td></tr>
<tr id="t2022-03-28T10:20:49"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">scared to look at the qemu one</td><td class="time"><a href="#t2022-03-28T10:20:49" class="time">10:20</a></td></tr>
<tr id="t2022-03-28T10:20:50"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">s</td><td class="time"><a href="#t2022-03-28T10:20:50" class="time">10:20</a></td></tr>
<tr id="t2022-03-28T10:27:35"><th class="nick" style="background: #9b519b">sotaoverride</th><td class="text" style="color: #9b519b">Im a little lost with what Im seeing in the deploy folder, how is the rootfs growing 4 times when in et4 format? 1.4G Mar 25 18:07 Verdin-iMX8MM_opentrons-ot3-image.rootfs.ext4 235M Mar 25 18:09 Verdin-iMX8MM_opentrons-ot3-image-Tezi_0.0.1.tar</td><td class="time"><a href="#t2022-03-28T10:27:35" class="time">10:27</a></td></tr>
<tr id="t2022-03-28T10:28:14"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">sotaoverride: because the ext4 has empty space in it</td><td class="time"><a href="#t2022-03-28T10:28:14" class="time">10:28</a></td></tr>
<tr id="t2022-03-28T10:29:04"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">loopback mount it and see how much space is used, and how much is free</td><td class="time"><a href="#t2022-03-28T10:29:04" class="time">10:29</a></td></tr>
<tr id="t2022-03-28T10:42:51"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">rburton: qemu ones look trivial to backport</td><td class="time"><a href="#t2022-03-28T10:42:51" class="time">10:42</a></td></tr>
<tr id="t2022-03-28T10:43:00"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">yeah building now</td><td class="time"><a href="#t2022-03-28T10:43:00" class="time">10:43</a></td></tr>
<tr id="t2022-03-28T10:43:33"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">rburton: ah, cool :)</td><td class="time"><a href="#t2022-03-28T10:43:33" class="time">10:43</a></td></tr>
<tr id="t2022-03-28T10:45:16"><th class="nick" style="background: #539e9e">barometz</th><td class="text" style="color: #539e9e">I have a weekly automated build that's supposed to update a local premirror, in which I echo `PREMIRRORS_prepend = &quot;&quot;` to local.conf to remove what own-mirrors.bbclass adds. This doesn't work (it's still downloading from the local premirror), presumably because I'm holding it wrong in some way. What's the right way to do this?</td><td class="time"><a href="#t2022-03-28T10:45:16" class="time">10:45</a></td></tr>
<tr id="t2022-03-28T10:45:52"><td class="action" colspan="2">* RP thinks with the updated patch on bitbake-devel, the parsing hangs should be better, as should the Ctrl+C handling when parsing</td><td><a href="#t2022-03-28T10:45:52" class="time">10:45</a></td></tr>
<tr id="t2022-03-28T10:46:25"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">nice</td><td class="time"><a href="#t2022-03-28T10:46:25" class="time">10:46</a></td></tr>
<tr id="t2022-03-28T10:55:07"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">barometz: I assume your mirrors are added with PREMIRROS_prepend?</td><td class="time"><a href="#t2022-03-28T10:55:07" class="time">10:55</a></td></tr>
<tr id="t2022-03-28T10:55:10"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">and you want to remove them?</td><td class="time"><a href="#t2022-03-28T10:55:10" class="time">10:55</a></td></tr>
<tr id="t2022-03-28T10:55:46"><th class="nick" style="background: #539e9e">barometz</th><td class="text" style="color: #539e9e">indirectly using own-mirrors.bbclass, yes.</td><td class="time"><a href="#t2022-03-28T10:55:46" class="time">10:55</a></td></tr>
<tr id="t2022-03-28T10:55:51"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">barometz: all that does is add the empty string, it doesn't replace anything</td><td class="time"><a href="#t2022-03-28T10:55:51" class="time">10:55</a></td></tr>
<tr id="t2022-03-28T10:56:03"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">INHERIT:remove = &quot;own-mirrors&quot; would be easier</td><td class="time"><a href="#t2022-03-28T10:56:03" class="time">10:56</a></td></tr>
<tr id="t2022-03-28T10:56:18"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">well, you want _remove, but same thing</td><td class="time"><a href="#t2022-03-28T10:56:18" class="time">10:56</a></td></tr>
<tr id="t2022-03-28T10:56:42"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">barometz: you cannot undo _append/_prepend unless you use _remove</td><td class="time"><a href="#t2022-03-28T10:56:42" class="time">10:56</a></td></tr>
<tr id="t2022-03-28T10:57:10"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">Amahnui: so the matrix irc bridge appears to be always-on (no missing backlog when you disconnect) and is free: <a href="https://app.element.io/#/room/#yoctoproject:matrix.org" rel="nofollow">https://app.element.io/#/room/#yoctoproject:matrix.org</a></td><td class="time"><a href="#t2022-03-28T10:57:10" class="time">10:57</a></td></tr>
<tr id="t2022-03-28T10:57:27"><th class="nick" style="background: #539e9e">barometz</th><td class="text" style="color: #539e9e">alright, will try that, thanks. Figured I was misusing prepend (it looks as if it works differently from +=, but I don't think I ever read the bit of manual that really explains that)</td><td class="time"><a href="#t2022-03-28T10:57:27" class="time">10:57</a></td></tr>
<tr id="t2022-03-28T10:57:48"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">barometz: <a href="https://pretalx.com/media/yocto-project-summit-2021/submissions/WTT3UV/resources/Demystifying_the_OVERRIDES_mechan_no6J6fb.pdf" rel="nofollow">https://pretalx.com/media/yocto-project-summit-2021/submissions/WTT3UV/resources/Demystifying_the_OVERRIDES_mechan_no6J6fb.pdf</a></td><td class="time"><a href="#t2022-03-28T10:57:48" class="time">10:57</a></td></tr>
<tr id="t2022-03-28T11:02:46"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">barometz: <a href="https://docs.yoctoproject.org/bitbake/bitbake-user-manual/bitbake-user-manual-metadata.html" rel="nofollow">https://docs.yoctoproject.org/bitbake/bitbake-user-manual/bitbake-user-manual-metadata.html</a> is the part of the docs where some of the things I explained in the talk are</td><td class="time"><a href="#t2022-03-28T11:02:46" class="time">11:02</a></td></tr>
<tr id="t2022-03-28T11:03:54"><th class="nick" style="background: #539e9e">barometz</th><td class="text" style="color: #539e9e">excellent :) I'm leaving the project where I actually use Yocto this week, but this sounds like good reference material</td><td class="time"><a href="#t2022-03-28T11:03:54" class="time">11:03</a></td></tr>
<tr id="t2022-03-28T11:06:03"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">Amahnui: are you Abongwa, who mailed me?</td><td class="time"><a href="#t2022-03-28T11:06:03" class="time">11:06</a></td></tr>
<tr id="t2022-03-28T11:12:08-2"><th class="nick" style="background: #488888">Amahnui</th><td class="text" style="color: #488888">rburton: yes I am</td><td class="time"><a href="#t2022-03-28T11:12:08-2" class="time">11:12</a></td></tr>
<tr id="t2022-03-28T11:24:03"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">Amahnui: I won't reply to your mail then :)</td><td class="time"><a href="#t2022-03-28T11:24:03" class="time">11:24</a></td></tr>
<tr id="t2022-03-28T11:26:22"><th class="nick" style="background: #a25555">amahnui[m]</th><td class="text" style="color: #a25555">&gt; Amahnui: so the matrix irc bridge appears to be always-on (no missing backlog when you disconnect) and is free: <a href="https://app.element.io/#/room/#yoctoproject:matrix.org" rel="nofollow">https://app.element.io/#/room/#yoctoproject:matrix.org</a></td><td class="time"><a href="#t2022-03-28T11:26:22" class="time">11:26</a></td></tr>
<tr id="t2022-03-28T11:26:22-2"><th class="nick" style="background: #a25555">amahnui[m]</th><td class="text" style="color: #a25555">Thanks a lot üôèüèΩ</td><td class="time"><a href="#t2022-03-28T11:26:22-2" class="time">11:26</a></td></tr>
<tr id="t2022-03-28T11:34:36"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">has there been some change in SRCPV between dunfell and master? IIUC, it is implicitly set in dunfell, but needs to be fetched from d on master in a python version?</td><td class="time"><a href="#t2022-03-28T11:34:36" class="time">11:34</a></td></tr>
<tr id="t2022-03-28T11:35:44"><th class="nick" style="background: #57a657">cperon</th><td class="text" style="color: #57a657">Hi all, I have a question regarding the new override syntax using ':' instead of '_', this is new and mandatory to honnister/kirkstone. But it has been backported to dunfell but not hardknott ? is it correct ?</td><td class="time"><a href="#t2022-03-28T11:35:44" class="time">11:35</a></td></tr>
<tr id="t2022-03-28T11:37:16"><th class="nick" style="background: #57a657">cperon</th><td class="text" style="color: #57a657"><a href="https://lists.yoctoproject.org/g/yocto/message/54368" rel="nofollow">https://lists.yoctoproject.org/g/yocto/message/54368</a>... (full message at <a href="https://libera.ems.host/_matrix/media/r0/download/libera.chat/9fdfe68fe8bcb79e48276cf5493dbb5dae406584" rel="nofollow">https://libera.ems.host/_matrix/media/r0/download/libera.chat/9fdfe68fe8bcb79e48276cf5493dbb5dae406584</a>)</td><td class="time"><a href="#t2022-03-28T11:37:16" class="time">11:37</a></td></tr>
<tr id="t2022-03-28T11:45:52"><th class="nick" style="background: #5959a9">Saur[m]</th><td class="text" style="color: #5959a9">clementp: Support for the new bitbake syntax is in Hardknott.</td><td class="time"><a href="#t2022-03-28T11:45:52" class="time">11:45</a></td></tr>
<tr id="t2022-03-28T11:47:42"><th class="nick" style="background: #5959a9">Saur[m]</th><td class="text" style="color: #5959a9">RP: Interesting reading about the pthread_sigmask() issue. Seems it is pretty useless if some other random thread can cause it to be delivered to a thread where it is blocked...</td><td class="time"><a href="#t2022-03-28T11:47:42" class="time">11:47</a></td></tr>
<tr id="t2022-03-28T11:55:11"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">Saur[m]: that was my conclusion. I've gone back to your original approach but tweaked a bit to remove the globals</td><td class="time"><a href="#t2022-03-28T11:55:11" class="time">11:55</a></td></tr>
<tr id="t2022-03-28T12:16:03"><th class="nick" style="background: #adad5b">vvn</th><td class="text" style="color: #adad5b">how can I build the same image with two different WKS_FILE?</td><td class="time"><a href="#t2022-03-28T12:16:03" class="time">12:16</a></td></tr>
<tr id="t2022-03-28T12:23:11"><th class="nick" style="background: #b15db1">wyre</th><td class="text" style="color: #b15db1">hi guys, I can't see how some custom u-boot environment is shipped in this recipe ü§î <a href="https://github.com/engicam-stable/meta-engicam-nxp/blob/dunfell-community-bsp/recipes-bsp/u-boot/u-boot-engicam.bb" rel="nofollow">https://github.com/engicam-stable/meta-engicam-nxp/blob/dunfell-community-bsp/recipes-bsp/u-boot/u-boot-engicam.bb</a></td><td class="time"><a href="#t2022-03-28T12:23:11" class="time">12:23</a></td></tr>
<tr id="t2022-03-28T12:24:02"><th class="nick" style="background: #b15db1">wyre</th><td class="text" style="color: #b15db1">I'm not sure if this is actually in the git repo that recipe is packaging <a href="https://github.com/engicam-stable/u-boot-engicam-nxp" rel="nofollow">https://github.com/engicam-stable/u-boot-engicam-nxp</a></td><td class="time"><a href="#t2022-03-28T12:24:02" class="time">12:24</a></td></tr>
<tr id="t2022-03-28T12:24:39"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">vvn: not sure to understand the question? why would you need two different WKS_FILE if you want the same image?</td><td class="time"><a href="#t2022-03-28T12:24:39" class="time">12:24</a></td></tr>
<tr id="t2022-03-28T12:27:28"><th class="nick" style="background: #adad5b">vvn</th><td class="text" style="color: #adad5b">qschulz: for machines with multiple bootable mediums, e.g. a BeagleBone Black SD card and eMMC where the layout may differ. Wouldn't it be the way to achieve this?</td><td class="time"><a href="#t2022-03-28T12:27:28" class="time">12:27</a></td></tr>
<tr id="t2022-03-28T12:28:51"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">vvn: arguably they are then different machines</td><td class="time"><a href="#t2022-03-28T12:28:51" class="time">12:28</a></td></tr>
<tr id="t2022-03-28T12:29:41"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">Last time I checked (a few months back) wic would only take the first WKS_FILE it encounters, so listing more does not help</td><td class="time"><a href="#t2022-03-28T12:29:41" class="time">12:29</a></td></tr>
<tr id="t2022-03-28T12:30:38"><th class="nick" style="background: #adad5b">vvn</th><td class="text" style="color: #adad5b">qschulz: yeah and it would be easy to iterate over multiple WKS_FILE but then the IMAGE_LINK_NAME will be messed up.</td><td class="time"><a href="#t2022-03-28T12:30:38" class="time">12:30</a></td></tr>
<tr id="t2022-03-28T12:32:06"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">vvn: it's not actually THAT straightforward (but probably not very complex either) to do this</td><td class="time"><a href="#t2022-03-28T12:32:06" class="time">12:32</a></td></tr>
<tr id="t2022-03-28T12:32:14"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">the issue being with the name of the variables</td><td class="time"><a href="#t2022-03-28T12:32:14" class="time">12:32</a></td></tr>
<tr id="t2022-03-28T12:32:20"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">because there exists a WKS_FILES already</td><td class="time"><a href="#t2022-03-28T12:32:20" class="time">12:32</a></td></tr>
<tr id="t2022-03-28T12:32:48"><th class="nick" style="background: #adad5b">vvn</th><td class="text" style="color: #adad5b">true</td><td class="time"><a href="#t2022-03-28T12:32:48" class="time">12:32</a></td></tr>
<tr id="t2022-03-28T12:32:51"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">vvn: but I personally would see support for WKS_FILE a nice to have</td><td class="time"><a href="#t2022-03-28T12:32:51" class="time">12:32</a></td></tr>
<tr id="t2022-03-28T12:33:28"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">vvn: I remember discussing this a few months back, gimme a sec to go through my IRC archive</td><td class="time"><a href="#t2022-03-28T12:33:28" class="time">12:33</a></td></tr>
<tr id="t2022-03-28T12:33:57"><th class="nick" style="background: #adad5b">vvn</th><td class="text" style="color: #adad5b">qschulz: it feels always weird to e.g. grab meta-ti and create a new machine conf inheriting beaglebone.conf, or load a local.conf with sdcard/emmc specific and juggle between them</td><td class="time"><a href="#t2022-03-28T12:33:57" class="time">12:33</a></td></tr>
<tr id="t2022-03-28T12:35:35"><th class="nick" style="background: #adad5b">vvn</th><td class="text" style="color: #adad5b">A concept of sub-machine would be nice, but I guess it's barely the same as a new machine config inheriting a main one...</td><td class="time"><a href="#t2022-03-28T12:35:35" class="time">12:35</a></td></tr>
<tr id="t2022-03-28T12:36:04"><th class="nick" style="background: #adad5b">vvn</th><td class="text" style="color: #adad5b">qschulz: would you create a new my-beaglebone-sdcard.conf machine configuration yourself?</td><td class="time"><a href="#t2022-03-28T12:36:04" class="time">12:36</a></td></tr>
<tr id="t2022-03-28T12:36:26"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">vvn: <a href="https://www.yoctoproject.org/irc/%23yocto.2021-09-02.log.html" rel="nofollow">https://www.yoctoproject.org/irc/%23yocto.2021-09-02.log.html</a></td><td class="time"><a href="#t2022-03-28T12:36:26" class="time">12:36</a></td></tr>
<tr id="t2022-03-28T12:37:00"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">vvn: submachines are include/require of the original machine configruation file + a proper MACHINEOVERRIDES =. in the top mnachine conf file</td><td class="time"><a href="#t2022-03-28T12:37:00" class="time">12:37</a></td></tr>
<tr id="t2022-03-28T12:37:33"><th class="nick" style="background: #adad5b">vvn</th><td class="text" style="color: #adad5b">that's right, let's keep it simple and include/require then</td><td class="time"><a href="#t2022-03-28T12:37:33" class="time">12:37</a></td></tr>
<tr id="t2022-03-28T12:43:10"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">Next crazy failure, does anyone understand the traceback in <a href="https://autobuilder.yoctoproject.org/typhoon/#/builders/86/builds/3325/steps/14/logs/stdio" rel="nofollow">https://autobuilder.yoctoproject.org/typhoon/#/builders/86/builds/3325/steps/14/logs/stdio</a> ? (very odd looking prserv oe-selftest failure)</td><td class="time"><a href="#t2022-03-28T12:43:10" class="time">12:43</a></td></tr>
<tr id="t2022-03-28T12:45:19"><th class="nick" style="background: #adad5b">vvn</th><td class="text" style="color: #adad5b">qschulz: FYI the context is scenarios where you want the main system on a medium different than the one used at factory, e.g. using the eMMC. You need some sort of bootstrap from an SD card image to either manually format the eMMC and provision them, or dd a pre-built image (hence the two WKS_FILE).</td><td class="time"><a href="#t2022-03-28T12:45:19" class="time">12:45</a></td></tr>
<tr id="t2022-03-28T12:46:41"><th class="nick" style="background: #adad5b">vvn</th><td class="text" style="color: #adad5b">I guess manually formatting the eMMC is simple enough, but it just felt more robust to describe its layout in a WKS_FILE config at first.</td><td class="time"><a href="#t2022-03-28T12:46:41" class="time">12:46</a></td></tr>
<tr id="t2022-03-28T12:53:50"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">vvn: The issue is that sometimes bootloader configuration also differs depending on the medium used to boot it</td><td class="time"><a href="#t2022-03-28T12:53:50" class="time">12:53</a></td></tr>
<tr id="t2022-03-28T12:54:00"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">in which case, you'd need a different machine anyway</td><td class="time"><a href="#t2022-03-28T12:54:00" class="time">12:54</a></td></tr>
<tr id="t2022-03-28T12:55:23"><th class="nick" style="background: #adad5b">vvn</th><td class="text" style="color: #adad5b">qschulz: exactly. Which is the same problem has optimizing the build: do you use a common configuration (e.g. tuning) for two different machine with compatible SoC or do you optimize each one of them with specific configs... :/</td><td class="time"><a href="#t2022-03-28T12:55:23" class="time">12:55</a></td></tr>
<tr id="t2022-03-28T12:57:24"><th class="nick" style="background: #adad5b">vvn</th><td class="text" style="color: #adad5b">I was tempted to use a common configuration and let the bootloader decide what to do depending on its boot source (which it can detect)</td><td class="time"><a href="#t2022-03-28T12:57:24" class="time">12:57</a></td></tr>
<tr id="t2022-03-28T13:01:44"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">ping on if anybody knows about the visibility of variables - have there been changes from dunfell to master? we're seeing a situation where we explicitly need to get SRCPV from d instead of it being around implicitly.</td><td class="time"><a href="#t2022-03-28T13:01:44" class="time">13:01</a></td></tr>
<tr id="t2022-03-28T13:02:20"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">sounds very odd</td><td class="time"><a href="#t2022-03-28T13:02:20" class="time">13:02</a></td></tr>
<tr id="t2022-03-28T13:02:25"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">got an example?</td><td class="time"><a href="#t2022-03-28T13:02:25" class="time">13:02</a></td></tr>
<tr id="t2022-03-28T13:02:55"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">i suspect this isn't visibility but lifecycle, are you assigning via python?</td><td class="time"><a href="#t2022-03-28T13:02:55" class="time">13:02</a></td></tr>
<tr id="t2022-03-28T13:08:08"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">rburton: its custom code, so take it with a pinch of salt. essentially this funciton: <a href="https://github.com/mendersoftware/meta-mender/blob/master/meta-mender-core/recipes-mender/mender-client/mender-client_git.inc#L41" rel="nofollow">https://github.com/mendersoftware/meta-mender/blob/master/meta-mender-core/recipes-mender/mender-client/mender-client_git.inc#L41</a></td><td class="time"><a href="#t2022-03-28T13:08:08" class="time">13:08</a></td></tr>
<tr id="t2022-03-28T13:08:51"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">and what calls it?</td><td class="time"><a href="#t2022-03-28T13:08:51" class="time">13:08</a></td></tr>
<tr id="t2022-03-28T13:08:57"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">rburton: falls over on master, works on dunfell. if we also get SRCPV from d, like srcpv = d.getVar(&quot;SRCPV&quot;) instead of passing it, then it &quot;works&quot;</td><td class="time"><a href="#t2022-03-28T13:08:57" class="time">13:08</a></td></tr>
<tr id="t2022-03-28T13:09:27"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">can i see an example of a caller from dunfell?</td><td class="time"><a href="#t2022-03-28T13:09:27" class="time">13:09</a></td></tr>
<tr id="t2022-03-28T13:09:31"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">rburton: call site is <a href="https://github.com/mendersoftware/meta-mender/blob/master/meta-mender-core/recipes-mender/mender-client/mender-client_git.bb#L3" rel="nofollow">https://github.com/mendersoftware/meta-mender/blob/master/meta-mender-core/recipes-mender/mender-client/mender-client_git.bb#L3</a></td><td class="time"><a href="#t2022-03-28T13:09:31" class="time">13:09</a></td></tr>
<tr id="t2022-03-28T13:09:49"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">yeah that was a bug in the parser, shouldn't have ever worked</td><td class="time"><a href="#t2022-03-28T13:09:49" class="time">13:09</a></td></tr>
<tr id="t2022-03-28T13:10:00"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">${FOO} isn't expanded in python, only shell</td><td class="time"><a href="#t2022-03-28T13:10:00" class="time">13:10</a></td></tr>
<tr id="t2022-03-28T13:10:04"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">rburton: kthx. we really wondered :)</td><td class="time"><a href="#t2022-03-28T13:10:04" class="time">13:10</a></td></tr>
<tr id="t2022-03-28T13:10:41"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">ideally, change it to getvar in dunfell too, as that's non-idiomatic</td><td class="time"><a href="#t2022-03-28T13:10:41" class="time">13:10</a></td></tr>
<tr id="t2022-03-28T13:11:15"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">rburton: thx</td><td class="time"><a href="#t2022-03-28T13:11:15" class="time">13:11</a></td></tr>
<tr id="t2022-03-28T13:20:12"><td class="nickchange" colspan="2">*** camus1 is now known as camus</td><td><a href="#t2022-03-28T13:20:12" class="time">13:20</a></td></tr>
<tr id="t2022-03-28T13:22:16"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">rburton: should we have an example in a migration guide somewhere?</td><td class="time"><a href="#t2022-03-28T13:22:16" class="time">13:22</a></td></tr>
<tr id="t2022-03-28T13:22:28"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">most likely was in it</td><td class="time"><a href="#t2022-03-28T13:22:28" class="time">13:22</a></td></tr>
<tr id="t2022-03-28T13:24:02"><th class="nick" style="background: #adad5b">vvn</th><td class="text" style="color: #adad5b">does KERNEL_IMAGE_MAXSIZE apply the the zImage or the fitImage in case where the latter is used?</td><td class="time"><a href="#t2022-03-28T13:24:02" class="time">13:24</a></td></tr>
<tr id="t2022-03-28T13:26:12"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">michaelo: <a href="https://docs.yoctoproject.org/bitbake/releases.html" rel="nofollow">https://docs.yoctoproject.org/bitbake/releases.html</a> returns invalid links only</td><td class="time"><a href="#t2022-03-28T13:26:12" class="time">13:26</a></td></tr>
<tr id="t2022-03-28T13:26:29"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">rburton: when was this done? kirkstone?</td><td class="time"><a href="#t2022-03-28T13:26:29" class="time">13:26</a></td></tr>
<tr id="t2022-03-28T13:26:44"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">i'm actually surprised that worked in dunfell</td><td class="time"><a href="#t2022-03-28T13:26:44" class="time">13:26</a></td></tr>
<tr id="t2022-03-28T13:33:06"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">so python functions were changed in aece74876271f692296c5f792104c627e15b5c3e</td><td class="time"><a href="#t2022-03-28T13:33:06" class="time">13:33</a></td></tr>
<tr id="t2022-03-28T13:33:12"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">which was 2.1</td><td class="time"><a href="#t2022-03-28T13:33:12" class="time">13:33</a></td></tr>
<tr id="t2022-03-28T13:33:27"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">i think anon is handled differently</td><td class="time"><a href="#t2022-03-28T13:33:27" class="time">13:33</a></td></tr>
<tr id="t2022-03-28T13:35:00"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">RP might remember better</td><td class="time"><a href="#t2022-03-28T13:35:00" class="time">13:35</a></td></tr>
<tr id="t2022-03-28T13:37:25"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">sigh. can anybody give me the 5yo version of NXPs HAB in the YOEP context?</td><td class="time"><a href="#t2022-03-28T13:37:25" class="time">13:37</a></td></tr>
<tr id="t2022-03-28T13:41:09"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">rburton: I thought it was a while ago too, pre dunfell</td><td class="time"><a href="#t2022-03-28T13:41:09" class="time">13:41</a></td></tr>
<tr id="t2022-03-28T13:41:41"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">that commit changed non-anon py to not expand inline ${FOO}, the message says we already don't expand anon py</td><td class="time"><a href="#t2022-03-28T13:41:41" class="time">13:41</a></td></tr>
<tr id="t2022-03-28T13:42:18"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">so no idea how that worked for LetoThe2nd&nbsp;&nbsp;;)</td><td class="time"><a href="#t2022-03-28T13:42:18" class="time">13:42</a></td></tr>
<tr id="t2022-03-28T13:42:24"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">LetoThe2nd: very little specific to NXP SoC</td><td class="time"><a href="#t2022-03-28T13:42:24" class="time">13:42</a></td></tr>
<tr id="t2022-03-28T13:42:37"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">qschulz: can you elaborate?</td><td class="time"><a href="#t2022-03-28T13:42:37" class="time">13:42</a></td></tr>
<tr id="t2022-03-28T13:42:54"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">basically what vendors need to implement is the first chain in the chain of trust</td><td class="time"><a href="#t2022-03-28T13:42:54" class="time">13:42</a></td></tr>
<tr id="t2022-03-28T13:43:16"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">i.e. bootrom verifying the bootloader (and usually&nbsp;&nbsp;only the part that is running in SRAM, in U-Boot terms: SPL/TPL)</td><td class="time"><a href="#t2022-03-28T13:43:16" class="time">13:43</a></td></tr>
<tr id="t2022-03-28T13:43:59"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">for NXP SoCs, it's done by CST (or some other acronym) which is accessible only after registering on their website and agreeing to an EULA</td><td class="time"><a href="#t2022-03-28T13:43:59" class="time">13:43</a></td></tr>
<tr id="t2022-03-28T13:44:20"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">though for imx6 generation of SoC, there's an open-source implementation done by boundary devices</td><td class="time"><a href="#t2022-03-28T13:44:20" class="time">13:44</a></td></tr>
<tr id="t2022-03-28T13:44:34"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">qschulz: that means that the SPL/TPL must be signed with some key that correlates to something that gets provisioned at factory time, right?</td><td class="time"><a href="#t2022-03-28T13:44:34" class="time">13:44</a></td></tr>
<tr id="t2022-03-28T13:44:54"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">LetoThe2nd: would be too easy but in theory yes</td><td class="time"><a href="#t2022-03-28T13:44:54" class="time">13:44</a></td></tr>
<tr id="t2022-03-28T13:45:14"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">qschulz: and what is the practical &quot;but&quot;?</td><td class="time"><a href="#t2022-03-28T13:45:14" class="time">13:45</a></td></tr>
<tr id="t2022-03-28T13:45:14-2"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">for imx6, the HAB contains a hash of public keys used to authenticate the SPL</td><td class="time"><a href="#t2022-03-28T13:45:14-2" class="time">13:45</a></td></tr>
<tr id="t2022-03-28T13:45:31"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">(actually can contain up to 4 hashes)</td><td class="time"><a href="#t2022-03-28T13:45:31" class="time">13:45</a></td></tr>
<tr id="t2022-03-28T13:46:13"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">the SPL has the public key embedded, the bootrom will get the public key, then do the hash</td><td class="time"><a href="#t2022-03-28T13:46:13" class="time">13:46</a></td></tr>
<tr id="t2022-03-28T13:46:39"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">and check against the one in the fuses you burnt in factory (the hashes in the BootROM I talked about)</td><td class="time"><a href="#t2022-03-28T13:46:39" class="time">13:46</a></td></tr>
<tr id="t2022-03-28T13:47:14"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">qschulz: ok, so if I actually want to change the SPL later, then its enough if i sign it the same way, right?</td><td class="time"><a href="#t2022-03-28T13:47:14" class="time">13:47</a></td></tr>
<tr id="t2022-03-28T13:47:25"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">starting from there, I don't remember exactly but there's probably also a hash of the SPL somewhere in the signed part of the SPL so that the bootrom can validate the SPL is valid</td><td class="time"><a href="#t2022-03-28T13:47:25" class="time">13:47</a></td></tr>
<tr id="t2022-03-28T13:47:56"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">LetoThe2nd: yup, just need a private key whose public key's hash is one of the ones burnt in the SoC</td><td class="time"><a href="#t2022-03-28T13:47:56" class="time">13:47</a></td></tr>
<tr id="t2022-03-28T13:48:11"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">rburton: I'm curious where the behaviour changed :/</td><td class="time"><a href="#t2022-03-28T13:48:11" class="time">13:48</a></td></tr>
<tr id="t2022-03-28T13:48:52"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">LetoThe2nd: <a href="https://www.youtube.com/watch?v=aiLSdfPXn1k" rel="nofollow">https://www.youtube.com/watch?v=aiLSdfPXn1k</a> and <a href="https://elinux.org/images/e/e0/Josserand-schulz-secure-boot.pdf" rel="nofollow">https://elinux.org/images/e/e0/Josserand-schulz-secure-boot.pdf</a> for the whole secure boot stuff without going too deep into the implementation</td><td class="time"><a href="#t2022-03-28T13:48:52" class="time">13:48</a></td></tr>
<tr id="t2022-03-28T13:49:01"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">qschulz: okay. so if i understand it correctly, in the build context its essentially some post processing stage that does the fancy signing.</td><td class="time"><a href="#t2022-03-28T13:49:01" class="time">13:49</a></td></tr>
<tr id="t2022-03-28T13:49:51"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">LetoThe2nd: *for the vendor specific part of the secure boot*, yes</td><td class="time"><a href="#t2022-03-28T13:49:51" class="time">13:49</a></td></tr>
<tr id="t2022-03-28T13:50:23"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">LetoThe2nd: also, I would highly recommend not automating this</td><td class="time"><a href="#t2022-03-28T13:50:23" class="time">13:50</a></td></tr>
<tr id="t2022-03-28T13:50:33"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">i hate secure boot and all that comes with it.</td><td class="time"><a href="#t2022-03-28T13:50:33" class="time">13:50</a></td></tr>
<tr id="t2022-03-28T13:50:50"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">not automating, as in not CI-ing?</td><td class="time"><a href="#t2022-03-28T13:50:50" class="time">13:50</a></td></tr>
<tr id="t2022-03-28T13:51:02"><td class="action" colspan="2">* qschulz will avoid mentioning your laptop has secure boot</td><td><a href="#t2022-03-28T13:51:02" class="time">13:51</a></td></tr>
<tr id="t2022-03-28T13:51:23"><td class="action" colspan="2">* LetoThe2nd knows and hates it on his laptop(s) too.</td><td><a href="#t2022-03-28T13:51:23" class="time">13:51</a></td></tr>
<tr id="t2022-03-28T13:51:34"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">LetoThe2nd: yes, you should gatekeep who has the rights to build binaries that can be installed on devices</td><td class="time"><a href="#t2022-03-28T13:51:34" class="time">13:51</a></td></tr>
<tr id="t2022-03-28T13:51:42"><th class="nick" style="background: #854685">mckoan</th><td class="text" style="color: #854685">LetoThe2nd: it requires a lot of manual operations</td><td class="time"><a href="#t2022-03-28T13:51:42" class="time">13:51</a></td></tr>
<tr id="t2022-03-28T13:52:02"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">otherwise the whole point of authenticated/secure boot is missed</td><td class="time"><a href="#t2022-03-28T13:52:02" class="time">13:52</a></td></tr>
<tr id="t2022-03-28T13:52:43"><th class="nick" style="background: #854685">mckoan</th><td class="text" style="color: #854685">qschulz: you can sign it in a second step if necessary</td><td class="time"><a href="#t2022-03-28T13:52:43" class="time">13:52</a></td></tr>
<tr id="t2022-03-28T13:52:55"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">mckoan: yup</td><td class="time"><a href="#t2022-03-28T13:52:55" class="time">13:52</a></td></tr>
<tr id="t2022-03-28T13:53:12"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">mckoan: works a bit less with wic images but indeed :)</td><td class="time"><a href="#t2022-03-28T13:53:12" class="time">13:53</a></td></tr>
<tr id="t2022-03-28T13:54:18"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">kay, thanks.</td><td class="time"><a href="#t2022-03-28T13:54:18" class="time">13:54</a></td></tr>
<tr id="t2022-03-28T13:54:26"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">LetoThe2nd: ideally, signing should be done on a machine with no external (LAN, people, etc...) access except one person coming with a byubuykey or similar to sign</td><td class="time"><a href="#t2022-03-28T13:54:26" class="time">13:54</a></td></tr>
<tr id="t2022-03-28T13:55:05"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">Everybody does it differently and to each their own threat model obviously</td><td class="time"><a href="#t2022-03-28T13:55:05" class="time">13:55</a></td></tr>
<tr id="t2022-03-28T13:55:18"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">qschulz: you got it wrong. what you are talking about is &quot;securing boot&quot;. what i am talking about is &quot;ticking the secur boot checkbox&quot; ;-)</td><td class="time"><a href="#t2022-03-28T13:55:18" class="time">13:55</a></td></tr>
<tr id="t2022-03-28T13:55:57"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">LetoThe2nd: yeah I guessed though :) might not have been wise to have said it on a public and archived channel though :p</td><td class="time"><a href="#t2022-03-28T13:55:57" class="time">13:55</a></td></tr>
<tr id="t2022-03-28T13:56:33"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">LetoThe2nd: but considering that NXP have their own BSP layers, you should probably be able to ask them for support</td><td class="time"><a href="#t2022-03-28T13:56:33" class="time">13:56</a></td></tr>
<tr id="t2022-03-28T13:57:20"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">because some of this stuff is not straightforward (without speaking of the Yocto integration)</td><td class="time"><a href="#t2022-03-28T13:57:20" class="time">13:57</a></td></tr>
<tr id="t2022-03-28T13:57:25"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">qschulz: ya good point re nxp</td><td class="time"><a href="#t2022-03-28T13:57:25" class="time">13:57</a></td></tr>
<tr id="t2022-03-28T13:59:33"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">also might want to contact meta-freescale folks since <a href="https://layers.openembedded.org/layerindex/recipe/58696/" rel="nofollow">https://layers.openembedded.org/layerindex/recipe/58696/</a></td><td class="time"><a href="#t2022-03-28T13:59:33" class="time">13:59</a></td></tr>
<tr id="t2022-03-28T14:02:37"><th class="nick" style="background: #adad5b">vvn</th><td class="text" style="color: #adad5b">Do one need to enable something in particular in order to have the /dev/root device described in the default /etc/fstab?</td><td class="time"><a href="#t2022-03-28T14:02:37" class="time">14:02</a></td></tr>
<tr id="t2022-03-28T14:14:17"><th class="nick" style="background: #42427e">JaMa</th><td class="text" style="color: #42427e">should uninative be compatible with a host distro which has newer libstdc++ than uninative build? it already checks for glibc version, but not gcc and right now in devel ubuntu jammy where libstdc++6 defaults to 12-20220319-1ubuntu1 from gcc-12 it causes errors like:</td><td class="time"><a href="#t2022-03-28T14:14:17" class="time">14:14</a></td></tr>
<tr id="t2022-03-28T14:14:21"><th class="nick" style="background: #42427e">JaMa</th><td class="text" style="color: #42427e">| bin/cmake: /OE/lge/build/webosose/kirkstone/BUILD/sysroots-uninative/x86_64-linux/usr/lib/libstdc++.so.6: version `GLIBCXX_3.4.30' not found (required by bin/cmake)</td><td class="time"><a href="#t2022-03-28T14:14:21" class="time">14:14</a></td></tr>
<tr id="t2022-03-28T14:14:41"><th class="nick" style="background: #42427e">JaMa</th><td class="text" style="color: #42427e">| ../bin/icupkg: /OE/lge/build/webosose/kirkstone/BUILD/sysroots-uninative/x86_64-linux/usr/lib/libstdc++.so.6: version `GLIBCXX_3.4.30' not found (required by ../lib/libicuuc.so.70)</td><td class="time"><a href="#t2022-03-28T14:14:41" class="time">14:14</a></td></tr>
<tr id="t2022-03-28T14:15:21"><th class="nick" style="background: #42427e">JaMa</th><td class="text" style="color: #42427e">because it mixes libstdc++ from host when building bootstrap cmake or icupkg and then sysroots-uninative/x86_64-linux/usr/lib/libstdc++.so.6 when trying to run them (with dunfell as well as kirkstone)</td><td class="time"><a href="#t2022-03-28T14:15:21" class="time">14:15</a></td></tr>
<tr id="t2022-03-28T14:17:54"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">JaMa: no, newer on the host will not work</td><td class="time"><a href="#t2022-03-28T14:17:54" class="time">14:17</a></td></tr>
<tr id="t2022-03-28T14:19:58"><th class="nick" style="background: #42427e">JaMa</th><td class="text" style="color: #42427e">should uninative.bbclass try to check that like it does for glibc?</td><td class="time"><a href="#t2022-03-28T14:19:58" class="time">14:19</a></td></tr>
<tr id="t2022-03-28T14:21:16"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">JaMa: yes</td><td class="time"><a href="#t2022-03-28T14:21:16" class="time">14:21</a></td></tr>
<tr id="t2022-03-28T14:21:35"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">JaMa: I'm sure I've meant to do that before :</td><td class="time"><a href="#t2022-03-28T14:21:35" class="time">14:21</a></td></tr>
<tr id="t2022-03-28T14:21:36"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">:/</td><td class="time"><a href="#t2022-03-28T14:21:36" class="time">14:21</a></td></tr>
<tr id="t2022-03-28T14:21:41"><th class="nick" style="background: #42427e">JaMa</th><td class="text" style="color: #42427e">it might be more tricky than ldd --version output used now for libc <a href="https://git.openembedded.org/openembedded-core/tree/meta/classes/uninative.bbclass#n89" rel="nofollow">https://git.openembedded.org/openembedded-core/tree/meta/classes/uninative.bbclass#n89</a> but still showing better error message would be nice</td><td class="time"><a href="#t2022-03-28T14:21:41" class="time">14:21</a></td></tr>
<tr id="t2022-03-28T14:21:49"><th class="nick" style="background: #42427e">JaMa</th><td class="text" style="color: #42427e">ok will have a look</td><td class="time"><a href="#t2022-03-28T14:21:49" class="time">14:21</a></td></tr>
<tr id="t2022-03-28T14:23:03"><th class="nick" style="background: #42427e">JaMa</th><td class="text" style="color: #42427e">RP: and it's not possible to force building against sysroots-uninative/x86_64-linux/usr/lib/libstdc++.so.6 ? instead of host's?</td><td class="time"><a href="#t2022-03-28T14:23:03" class="time">14:23</a></td></tr>
<tr id="t2022-03-28T14:24:03"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">JaMa: basically, mno</td><td class="time"><a href="#t2022-03-28T14:24:03" class="time">14:24</a></td></tr>
<tr id="t2022-03-28T14:24:07"><th class="nick" style="background: #42427e">JaMa</th><td class="text" style="color: #42427e">ok</td><td class="time"><a href="#t2022-03-28T14:24:07" class="time">14:24</a></td></tr>
<tr id="t2022-03-28T14:24:37"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">JaMa: we always build against the host, then relink against uninative. This only works if uninative is equal or newer</td><td class="time"><a href="#t2022-03-28T14:24:37" class="time">14:24</a></td></tr>
<tr id="t2022-03-28T14:25:03"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">you might think we could link against uninative but I tried and it isn't possible</td><td class="time"><a href="#t2022-03-28T14:25:03" class="time">14:25</a></td></tr>
<tr id="t2022-03-28T14:25:39"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">it would only be possible if unitnative included the compiler</td><td class="time"><a href="#t2022-03-28T14:25:39" class="time">14:25</a></td></tr>
<tr id="t2022-03-28T14:30:14"><th class="nick" style="background: #42427e">JaMa</th><td class="text" style="color: #42427e">interesting, I've also noticed <a href="https://git.openembedded.org/openembedded-core/commit/meta/classes/uninative.bbclass?id=d36f41e5658bbbb6080ee833027879c119edf3e0" rel="nofollow">https://git.openembedded.org/openembedded-core/commit/meta/classes/uninative.bbclass?id=d36f41e5658bbbb6080ee833027879c119edf3e0</a> but unfortunately host_gcc_version wouldn't be very useful in this case, because gcc still defaults to 11 only libstdc++ now defaults to gcc-12</td><td class="time"><a href="#t2022-03-28T14:30:14" class="time">14:30</a></td></tr>
<tr id="t2022-03-28T14:31:06"><th class="nick" style="background: #42427e">JaMa</th><td class="text" style="color: #42427e">it might be only temporary, but still checking the version in hosts libstdc++ might be more reliable than gcc --version</td><td class="time"><a href="#t2022-03-28T14:31:06" class="time">14:31</a></td></tr>
<tr id="t2022-03-28T14:32:04"><th class="nick" style="background: #42427e">JaMa</th><td class="text" style="color: #42427e">will try to find something portable as objdump /full-path-to-libstc won't work on different distros</td><td class="time"><a href="#t2022-03-28T14:32:04" class="time">14:32</a></td></tr>
<tr id="t2022-03-28T14:32:10"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">JaMa: if we can find a decent way to to it, agreed</td><td class="time"><a href="#t2022-03-28T14:32:10" class="time">14:32</a></td></tr>
<tr id="t2022-03-28T14:50:48"><th class="nick" style="background: #488888">Amahnui</th><td class="text" style="color: #488888">rburton: qschulz I have installed freebsd but it has no gui. It keeps telling me that my login is incorrect. I wish to ask if its normal that its just on the command line and if there is a way to put a gui on it.</td><td class="time"><a href="#t2022-03-28T14:50:48" class="time">14:50</a></td></tr>
<tr id="t2022-03-28T14:51:19"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">you can install a ui, but i have no idea.</td><td class="time"><a href="#t2022-03-28T14:51:19" class="time">14:51</a></td></tr>
<tr id="t2022-03-28T14:51:46"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">note that freebsd knowledge is considered a requirement for the outreachy project we have</td><td class="time"><a href="#t2022-03-28T14:51:46" class="time">14:51</a></td></tr>
<tr id="t2022-03-28T14:52:32"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">Amahnui: I would suspect incorrect keyboard layout for the login?</td><td class="time"><a href="#t2022-03-28T14:52:32" class="time">14:52</a></td></tr>
<tr id="t2022-03-28T14:53:20"><th class="nick" style="background: #488888">Amahnui</th><td class="text" style="color: #488888">rburton: I do, I'm currently learning it üôèüèΩ</td><td class="time"><a href="#t2022-03-28T14:53:20" class="time">14:53</a></td></tr>
<tr id="t2022-03-28T14:54:21"><th class="nick" style="background: #488888">Amahnui</th><td class="text" style="color: #488888">qschulz: I actually tested the keyboard and it is working as expected</td><td class="time"><a href="#t2022-03-28T14:54:21" class="time">14:54</a></td></tr>
<tr id="t2022-03-28T15:01:30"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">Amahnui: we're very much not BSD users here, thus the outreachy, I suggest #freebsd for bsd-specific help</td><td class="time"><a href="#t2022-03-28T15:01:30" class="time">15:01</a></td></tr>
<tr id="t2022-03-28T15:07:27"><td class="nickchange" colspan="2">*** mckoan is now known as mckoan|away</td><td><a href="#t2022-03-28T15:07:27" class="time">15:07</a></td></tr>
<tr id="t2022-03-28T15:08:24"><th class="nick" style="background: #5fb4b4">hcg</th><td class="text" style="color: #5fb4b4">Hi guys, I am busy preparing to move a major project of ours to the kirkstone release of Yocto. Most of our internal recipes in our layers use tags in the SRC_URI (i.e. we are not using SRCREV) and I receive the fetch error 'Recipe uses a floating tag/branch without a fixed SRCREV...' message. Does anyone know if there is a definitive discussion or</td><td class="time"><a href="#t2022-03-28T15:08:24" class="time">15:08</a></td></tr>
<tr id="t2022-03-28T15:08:25"><th class="nick" style="background: #5fb4b4">hcg</th><td class="text" style="color: #5fb4b4">some documentation somewhere explaining why not to use tags?</td><td class="time"><a href="#t2022-03-28T15:08:25" class="time">15:08</a></td></tr>
<tr id="t2022-03-28T15:10:29"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">the short version is 1) tag names are looked up every parse, so that's a lot of slow network traffic and 2) tags can move, so you don't have reproducible builds</td><td class="time"><a href="#t2022-03-28T15:10:29" class="time">15:10</a></td></tr>
<tr id="t2022-03-28T15:13:00"><th class="nick" style="background: #b86161">kergoth</th><td class="text" style="color: #b86161">Arg, anyone have any tips for nailing down issues where pseudo is showing something that was changed outside of its control, even though as far as I can tell everything relating to this task is run in fakeroot/pseudo context?</td><td class="time"><a href="#t2022-03-28T15:13:00" class="time">15:13</a></td></tr>
<tr id="t2022-03-28T15:13:34"><th class="nick" style="background: #b86161">kergoth</th><td class="text" style="color: #b86161">Unable to nail it down via inspection of the tasks, so is there any way to get more info? I recognize its probably hard given pseudo doesnt know what's going on outside of it, so its logs can't show anything new about that..</td><td class="time"><a href="#t2022-03-28T15:13:34" class="time">15:13</a></td></tr>
<tr id="t2022-03-28T15:16:51"><th class="nick" style="background: #62bb62">kanavin_</th><td class="text" style="color: #62bb62">khem, moto-timo can you please comment <a href="https://github.com/systemd/systemd-bootchart/pull/47" rel="nofollow">https://github.com/systemd/systemd-bootchart/pull/47</a> ?</td><td class="time"><a href="#t2022-03-28T15:16:51" class="time">15:16</a></td></tr>
<tr id="t2022-03-28T15:16:59"><th class="nick" style="background: #42427e">JaMa</th><td class="text" style="color: #42427e">hcg: if you use some nice naming scheme for tags and don't want to loose that with SRCREVs then e.g. in webOS we have a bbclass which couples PV and SRCREV in WEBOS_VERSION variable and it checks that specified SRCREV matches with expected tag</td><td class="time"><a href="#t2022-03-28T15:16:59" class="time">15:16</a></td></tr>
<tr id="t2022-03-28T15:17:39"><th class="nick" style="background: #42427e">JaMa</th><td class="text" style="color: #42427e">hcg: <a href="https://github.com/openwebos/meta-webos/commits/master/classes/webos_enhanced_submissions.bbclass" rel="nofollow">https://github.com/openwebos/meta-webos/commits/master/classes/webos_enhanced_submissions.bbclass</a></td><td class="time"><a href="#t2022-03-28T15:17:39" class="time">15:17</a></td></tr>
<tr id="t2022-03-28T15:32:52"><th class="nick" style="background: #adad5b">vvn</th><td class="text" style="color: #adad5b">Should I add a custom udev rule to get the /dev/root device?</td><td class="time"><a href="#t2022-03-28T15:32:52" class="time">15:32</a></td></tr>
<tr id="t2022-03-28T15:33:43"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">vvn: IIRC, /dev/root is an mdev thing? I think we had to stop using it in script when we moved to eudev</td><td class="time"><a href="#t2022-03-28T15:33:43" class="time">15:33</a></td></tr>
<tr id="t2022-03-28T15:36:08"><th class="nick" style="background: #adad5b">vvn</th><td class="text" style="color: #adad5b">qschulz: it will be very convenient in my case to abstract the sdcard or emmc, whether is being used. But I'm using systemd. Do you think I must add back a custom rule?</td><td class="time"><a href="#t2022-03-28T15:36:08" class="time">15:36</a></td></tr>
<tr id="t2022-03-28T16:01:01"><th class="nick" style="background: #6464bf">rfs613</th><td class="text" style="color: #6464bf">kanavin_: am going to try out the dunfell mixin layer for docker, any tips on how to do this? My brain is having trouble reconciling the usual branch-per-yocto-version approach, versus dunfell-mixin approach of branch-per-package.</td><td class="time"><a href="#t2022-03-28T16:01:01" class="time">16:01</a></td></tr>
<tr id="t2022-03-28T16:27:53"><th class="nick" style="background: #62bb62">kanavin_</th><td class="text" style="color: #62bb62">rfs613, you need to check out the same repo twice into two different directories</td><td class="time"><a href="#t2022-03-28T16:27:53" class="time">16:27</a></td></tr>
<tr id="t2022-03-28T16:29:19"><th class="nick" style="background: #6464bf">rfs613</th><td class="text" style="color: #6464bf">kanavin_: once for docker and once for go?</td><td class="time"><a href="#t2022-03-28T16:29:19" class="time">16:29</a></td></tr>
<tr id="t2022-03-28T16:29:28"><th class="nick" style="background: #62bb62">kanavin_</th><td class="text" style="color: #62bb62">rfs613, yes</td><td class="time"><a href="#t2022-03-28T16:29:28" class="time">16:29</a></td></tr>
<tr id="t2022-03-28T16:31:51"><th class="nick" style="background: #6464bf">rfs613</th><td class="text" style="color: #6464bf">kanavin_: okay, and it seems I replace meta-virtualization with the meta-lts-mixins@docker branch (I tried having both and fiddling with layer priorities, but it kept taking 19.x from meta-virt)</td><td class="time"><a href="#t2022-03-28T16:31:51" class="time">16:31</a></td></tr>
<tr id="t2022-03-28T16:32:14"><th class="nick" style="background: #62bb62">kanavin_</th><td class="text" style="color: #62bb62">rfs613, you don't need meta-virt at all I think</td><td class="time"><a href="#t2022-03-28T16:32:14" class="time">16:32</a></td></tr>
<tr id="t2022-03-28T16:44:59"><th class="nick" style="background: #c3c366">dirtyflag</th><td class="text" style="color: #c3c366">zeus: a do_compile_append() in a bbappend is not executed. What could i check ?</td><td class="time"><a href="#t2022-03-28T16:44:59" class="time">16:44</a></td></tr>
<tr id="t2022-03-28T16:46:07"><th class="nick" style="background: #b86161">kergoth</th><td class="text" style="color: #b86161">bitbake -e yourrecipe&nbsp;&nbsp;and scroll down to do_compile and make sure its what you expect</td><td class="time"><a href="#t2022-03-28T16:46:07" class="time">16:46</a></td></tr>
<tr id="t2022-03-28T16:50:44"><th class="nick" style="background: #c3c366">dirtyflag</th><td class="text" style="color: #c3c366">kergoth: thanks. do_compile is ok, but there is no do_compile_append, nor his content</td><td class="time"><a href="#t2022-03-28T16:50:44" class="time">16:50</a></td></tr>
<tr id="t2022-03-28T16:51:05"><th class="nick" style="background: #b86161">kergoth</th><td class="text" style="color: #b86161">most likely your bbappend isn't being applied at all, then. at the top of the bitbake -e you'll see what files were parsed</td><td class="time"><a href="#t2022-03-28T16:51:05" class="time">16:51</a></td></tr>
<tr id="t2022-03-28T16:51:23"><th class="nick" style="background: #b86161">kergoth</th><td class="text" style="color: #b86161">make sure your layer is in bblayers, make sure its layer.conf is correct, make sure its path lines up with the BBFILES in the layer.conf, and make sure its filename matches the recipe filename</td><td class="time"><a href="#t2022-03-28T16:51:23" class="time">16:51</a></td></tr>
<tr id="t2022-03-28T16:53:48"><th class="nick" style="background: #c3c366">dirtyflag</th><td class="text" style="color: #c3c366">kergoth: thanks a loit, the last you listed was the issue</td><td class="time"><a href="#t2022-03-28T16:53:48" class="time">16:53</a></td></tr>
<tr id="t2022-03-28T16:53:52"><th class="nick" style="background: #c3c366">dirtyflag</th><td class="text" style="color: #c3c366">*lot</td><td class="time"><a href="#t2022-03-28T16:53:52" class="time">16:53</a></td></tr>
<tr id="t2022-03-28T17:28:51"><th class="nick" style="background: #6464bf">rfs613</th><td class="text" style="color: #6464bf">kanavin_: I got it to build. One small issue, we were using python3-docker-compose from meta-virt, which doesn't exist in the mixin layer (not sure if it should go there?). But now going to try testing it, for some reason kernel isn't booting to userspace anymore, probably unrelated, but got to sort that out now ;)</td><td class="time"><a href="#t2022-03-28T17:28:51" class="time">17:28</a></td></tr>
<tr id="t2022-03-28T18:19:04"><th class="nick" style="background: #6464bf">rfs613</th><td class="text" style="color: #6464bf">kanavin_: right, it is running now - hello-world and ubuntu test images seem to work. Minor warning because docker-init(tinit) version is a few commits ahead of the expected v0.19.0 tag.</td><td class="time"><a href="#t2022-03-28T18:19:04" class="time">18:19</a></td></tr>
<tr id="t2022-03-28T18:22:21"><th class="nick" style="background: #9b519b">sotaoverride</th><td class="text" style="color: #9b519b">whats the best compression format for rootfs.ext4 that takes care of holes / empty space?</td><td class="time"><a href="#t2022-03-28T18:22:21" class="time">18:22</a></td></tr>
<tr id="t2022-03-28T18:24:23"><th class="nick" style="background: #9b519b">sotaoverride</th><td class="text" style="color: #9b519b">loop mounted the rootfs.ext4 files and turns out most of it is just empty space (system has big partitions). I dont want to deal with uploading large files, and I havent looked into squashfs or anything else like that yet</td><td class="time"><a href="#t2022-03-28T18:24:23" class="time">18:24</a></td></tr>
<tr id="t2022-03-28T18:25:23"><th class="nick" style="background: #6464bf">rfs613</th><td class="text" style="color: #6464bf">sotaoverride: the usual method in yocto is to use .wic and bmaptool</td><td class="time"><a href="#t2022-03-28T18:25:23" class="time">18:25</a></td></tr>
<tr id="t2022-03-28T18:27:09"><th class="nick" style="background: #6464bf">rfs613</th><td class="text" style="color: #6464bf">I think the advantage is this is more &quot;transportable&quot; between systems, as they are just regular files (one is your compressed image, and the other is a small file describing where the &quot;empty&quot; regions are).</td><td class="time"><a href="#t2022-03-28T18:27:09" class="time">18:27</a></td></tr>
<tr id="t2022-03-28T18:27:53"><th class="nick" style="background: #6464bf">rfs613</th><td class="text" style="color: #6464bf">if you try uploading a sparse file, depending on many factors, it may well transfer the whole thing, or not be sparse upon arrival at the other side.</td><td class="time"><a href="#t2022-03-28T18:27:53" class="time">18:27</a></td></tr>
<tr id="t2022-03-28T18:29:56"><th class="nick" style="background: #9b519b">sotaoverride</th><td class="text" style="color: #9b519b">is there a python module for bmaptool like how there's zipfile, or is bmaptool meant to be more of a command line utility</td><td class="time"><a href="#t2022-03-28T18:29:56" class="time">18:29</a></td></tr>
<tr id="t2022-03-28T18:30:21"><th class="nick" style="background: #9b519b">sotaoverride</th><td class="text" style="color: #9b519b">id have to call it a a subprocess? whats the cleanest way of going about it?</td><td class="time"><a href="#t2022-03-28T18:30:21" class="time">18:30</a></td></tr>
<tr id="t2022-03-28T18:31:03"><th class="nick" style="background: #9b519b">sotaoverride</th><td class="text" style="color: #9b519b">update utility/app I'm dealing with happens to be written in python</td><td class="time"><a href="#t2022-03-28T18:31:03" class="time">18:31</a></td></tr>
<tr id="t2022-03-28T18:31:09"><th class="nick" style="background: #6464bf">rfs613</th><td class="text" style="color: #6464bf">sotaoverride: personally I've only used the command line tool for writing images to SD card etc. Yocto already supports generating rootfs in .wic format</td><td class="time"><a href="#t2022-03-28T18:31:09" class="time">18:31</a></td></tr>
<tr id="t2022-03-28T18:31:24"><th class="nick" style="background: #6464bf">rfs613</th><td class="text" style="color: #6464bf">sotaoverride: there seems to be python libs for bmaptool: <a href="https://github.com/intel/bmap-tools" rel="nofollow">https://github.com/intel/bmap-tools</a></td><td class="time"><a href="#t2022-03-28T18:31:24" class="time">18:31</a></td></tr>
<tr id="t2022-03-28T18:32:18"><th class="nick" style="background: #6464bf">rfs613</th><td class="text" style="color: #6464bf">it looks like the command-line tool is in fact from this very same project...</td><td class="time"><a href="#t2022-03-28T18:32:18" class="time">18:32</a></td></tr>
<tr id="t2022-03-28T18:57:06"><th class="nick" style="background: #b86161">kergoth</th><td class="text" style="color: #b86161">the image classes can write out a .wic.bmap file for use with bmaptool, just add wic.bmap to IMAGE_FSTYPES</td><td class="time"><a href="#t2022-03-28T18:57:06" class="time">18:57</a></td></tr>
<tr id="t2022-03-28T18:57:41"><th class="nick" style="background: #b86161">kergoth</th><td class="text" style="color: #b86161">iirc rsync does pretty well at retaining sparseness. not sure which compression formats do it best, i'd expect gz or bz2 to be fine</td><td class="time"><a href="#t2022-03-28T18:57:41" class="time">18:57</a></td></tr>
<tr id="t2022-03-28T20:16:25"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">khem: I think upgrading go so close to final release date might not be appreciated so I'm leaning towards not doing this FWIW</td><td class="time"><a href="#t2022-03-28T20:16:25" class="time">20:16</a></td></tr>
<tr id="t2022-03-28T20:17:40"><th class="nick" style="background: #a25555">amahnui[m]</th><td class="text" style="color: #a25555">&gt; Amahnui: we're very much not BSD users here, thus the outreachy, I suggest #freebsd for bsd-specific help</td><td class="time"><a href="#t2022-03-28T20:17:40" class="time">20:17</a></td></tr>
<tr id="t2022-03-28T20:17:40-2"><th class="nick" style="background: #a25555">amahnui[m]</th><td class="text" style="color: #a25555">Its been giving me some issues</td><td class="time"><a href="#t2022-03-28T20:17:40-2" class="time">20:17</a></td></tr>
<tr id="t2022-03-28T20:17:40-3"><th class="nick" style="background: #a25555">amahnui[m]</th><td class="text" style="color: #a25555">I'll join the freebsd group and table my problems there.</td><td class="time"><a href="#t2022-03-28T20:17:40-3" class="time">20:17</a></td></tr>
<tr id="t2022-03-28T20:17:40-4"><th class="nick" style="background: #a25555">amahnui[m]</th><td class="text" style="color: #a25555">Thanks for the heads up</td><td class="time"><a href="#t2022-03-28T20:17:40-4" class="time">20:17</a></td></tr>
<tr id="t2022-03-28T20:18:41"><th class="nick" style="background: #c668c6">sielicki</th><td class="text" style="color: #c668c6">is there a mechanism within devtool to disable the application of patches? When doing an upgrade, I find myself in the situation often of having patches that won't apply cleanly, so I'd like to just be able to do `devtool modify X`, go into the autogenerated git directory, and run `git apply` and deal with the conflicts. But the problem is devtool errors out if those patches won't apply cleanly, so I have to go edit the bbappend first, then go</td><td class="time"><a href="#t2022-03-28T20:18:41" class="time">20:18</a></td></tr>
<tr id="t2022-03-28T20:18:41-2"><th class="nick" style="background: #c668c6">sielicki</th><td class="text" style="color: #c668c6">forward with the workflow I described, then remodify the recipe to reenable the patches.</td><td class="time"><a href="#t2022-03-28T20:18:41-2" class="time">20:18</a></td></tr>
<tr id="t2022-03-28T20:18:49"><th class="nick" style="background: #c668c6">sielicki</th><td class="text" style="color: #c668c6">anyone else ever desire this feature? Maybe I can contribute something.</td><td class="time"><a href="#t2022-03-28T20:18:49" class="time">20:18</a></td></tr>
<tr id="t2022-03-28T20:25:05"><th class="nick" style="background: #c3c366">dirtyflag</th><td class="text" style="color: #c3c366">mmh, bringed in a bit newer recipe (as .bb) (imx-sc-firmware) into zeus, but now getting</td><td class="time"><a href="#t2022-03-28T20:25:05" class="time">20:25</a></td></tr>
<tr id="t2022-03-28T20:25:12"><th class="nick" style="background: #c3c366">dirtyflag</th><td class="text" style="color: #c3c366">do_unpack: A valid package EULA with md5sum ... error</td><td class="time"><a href="#t2022-03-28T20:25:12" class="time">20:25</a></td></tr>
<tr id="t2022-03-28T20:28:20"><td class="nickchange" colspan="2">*** Amahnui is now known as bonalais</td><td><a href="#t2022-03-28T20:28:20" class="time">20:28</a></td></tr>
<tr id="t2022-03-28T20:49:35"><th class="nick" style="background: #a25555">amahnui[m]</th><td class="text" style="color: #a25555">I have some issues installing and using</td><td class="time"><a href="#t2022-03-28T20:49:35" class="time">20:49</a></td></tr>
<tr id="t2022-03-28T20:49:35-2"><th class="nick" style="background: #a25555">amahnui[m]</th><td class="text" style="color: #a25555">freebsd on my computer After installing freebsd on my computer, I added a new user and password and everythin was fine, but when I tried to log into that account I kept getting the message that my login was incorrect</td><td class="time"><a href="#t2022-03-28T20:49:35-2" class="time">20:49</a></td></tr>
<tr id="t2022-03-28T20:49:35-3"><th class="nick" style="background: #a25555">amahnui[m]</th><td class="text" style="color: #a25555">I don't know what to do now since I remember all the login details clearly Please I need help fixing it</td><td class="time"><a href="#t2022-03-28T20:49:35-3" class="time">20:49</a></td></tr>
<tr id="t2022-03-28T20:52:32"><th class="nick" style="background: #c3c366">dirtyflag</th><td class="text" style="color: #c3c366">amahnui[m]: try #bsd</td><td class="time"><a href="#t2022-03-28T20:52:32" class="time">20:52</a></td></tr>
<tr id="t2022-03-28T20:56:11"><th class="nick" style="background: #a25555">amahnui[m]</th><td class="text" style="color: #a25555">I actually meant to send it to the freebsd group</td><td class="time"><a href="#t2022-03-28T20:56:11" class="time">20:56</a></td></tr>
<tr id="t2022-03-28T20:56:12"><th class="nick" style="background: #a25555">amahnui[m]</th><td class="text" style="color: #a25555">Thanks üôèüèΩ</td><td class="time"><a href="#t2022-03-28T20:56:12" class="time">20:56</a></td></tr>
<tr id="t2022-03-28T20:58:15-2"><td class="part" colspan="2">*** aleblanc[m] &lt;aleblanc[m]!~aleblancm@2001:470:69fc:105::1:c14f&gt; has left #yocto</td><td><a href="#t2022-03-28T20:58:15-2" class="time">20:58</a></td></tr>
<tr id="t2022-03-28T23:14:56-2"><td class="nickchange" colspan="2">*** camus1 is now known as camus</td><td><a href="#t2022-03-28T23:14:56-2" class="time">23:14</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2022-03-27.log.html">&#171; Sunday, 2022-03-27</a> <a href="index.html">Index</a> <a href="%23yocto.2022-03-29.log.html">Tuesday, 2022-03-29 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.17.2 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="https://mg.pov.lt/irclog2html/">https://mg.pov.lt/irclog2html/</a>!</p>
</div>
</body>
</html>
