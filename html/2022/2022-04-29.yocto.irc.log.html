<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Friday, 2022-04-29</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.17.2 by Marius Gedminas" />
  <meta name="version" content="2.17.2 - 2019-04-23" />
</head>
<body>
<h1>Friday, 2022-04-29</h1>
<div class="navigation"> <a href="%23yocto.2022-04-28.log.html">&#171; Thursday, 2022-04-28</a> <a href="index.html">Index</a> <a href="%23yocto.2022-04-30.log.html">Saturday, 2022-04-30 &#187;</a> </div>
<table class="irclog">
<tr id="t2022-04-29T05:37:04"><th class="nick" style="background: #407a40">thomasd13</th><td class="text" style="color: #407a40">Good morning guys</td><td class="time"><a href="#t2022-04-29T05:37:04" class="time">05:37</a></td></tr>
<tr id="t2022-04-29T06:40:55"><td class="nickchange" colspan="2">*** mckoan|away is now known as mckoan</td><td><a href="#t2022-04-29T06:40:55" class="time">06:40</a></td></tr>
<tr id="t2022-04-29T06:44:29"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e"><a href="https://www.phoronix.com/scan.php?page=news_item&amp;px=Yocto-4.0-Released" rel="nofollow">https://www.phoronix.com/scan.php?page=news_item&amp;px=Yocto-4.0-Released</a></td><td class="time"><a href="#t2022-04-29T06:44:29" class="time">06:44</a></td></tr>
<tr id="t2022-04-29T06:53:35"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">yo dudX</td><td class="time"><a href="#t2022-04-29T06:53:35" class="time">06:53</a></td></tr>
<tr id="t2022-04-29T07:03:45"><th class="nick" style="background: #854685">mckoan</th><td class="text" style="color: #854685">good morning</td><td class="time"><a href="#t2022-04-29T07:03:45" class="time">07:03</a></td></tr>
<tr id="t2022-04-29T08:19:52"><th class="nick" style="background: #488888">kanavin</th><td class="text" style="color: #488888">manuel1985, not in a standard setup, only through use of externalsrc, e.g. 'devtool modify'</td><td class="time"><a href="#t2022-04-29T08:19:52" class="time">08:19</a></td></tr>
<tr id="t2022-04-29T08:43:59"><th class="nick" style="background: #8c4a4a">kayterina[m]</th><td class="text" style="color: #8c4a4a">hello. In a recipe that simply installs a config file, I can do so with do_install{ install -m blabla }. Should I also add the config file in the package with FILES variable?</td><td class="time"><a href="#t2022-04-29T08:43:59" class="time">08:43</a></td></tr>
<tr id="t2022-04-29T08:49:45"><th class="nick" style="background: #4b904b">kranzo</th><td class="text" style="color: #4b904b">kayterina[m]: if its not in the default directories inherited from cmake/autotools etc you need to add it, so it will be packed</td><td class="time"><a href="#t2022-04-29T08:49:45" class="time">08:49</a></td></tr>
<tr id="t2022-04-29T08:51:24"><th class="nick" style="background: #8c4a4a">kayterina[m]</th><td class="text" style="color: #8c4a4a">hm, where are the default directories from cmake? I also do not compile anithing, so I don't explicitely inherit cmake</td><td class="time"><a href="#t2022-04-29T08:51:24" class="time">08:51</a></td></tr>
<tr id="t2022-04-29T08:51:26"><th class="nick" style="background: #4b904b">kranzo</th><td class="text" style="color: #4b904b">otherwise it will trigger: installed-vs-shipped</td><td class="time"><a href="#t2022-04-29T08:51:26" class="time">08:51</a></td></tr>
<tr id="t2022-04-29T08:51:26-2"><th class="nick" style="background: #4b904b">kranzo</th><td class="text" style="color: #4b904b"><a href="https://docs.yoctoproject.org/ref-manual/classes.html?highlight=insane#insane-bbclass" rel="nofollow">https://docs.yoctoproject.org/ref-manual/classes.html?highlight=insane#insane-bbclass</a></td><td class="time"><a href="#t2022-04-29T08:51:26-2" class="time">08:51</a></td></tr>
<tr id="t2022-04-29T08:52:34"><th class="nick" style="background: #4b904b">kranzo</th><td class="text" style="color: #4b904b">then FILES:${PN} += &quot;path/to/your/file&quot; should do the trick</td><td class="time"><a href="#t2022-04-29T08:52:34" class="time">08:52</a></td></tr>
<tr id="t2022-04-29T08:55:25"><th class="nick" style="background: #4b904b">kranzo</th><td class="text" style="color: #4b904b">you can check with bitbake -e &lt;recipe&gt; |less and search for FILES_ or FILES: depending on your yocto version</td><td class="time"><a href="#t2022-04-29T08:55:25" class="time">08:55</a></td></tr>
<tr id="t2022-04-29T09:21:53"><th class="nick" style="background: #8c4a4a">kayterina[m]</th><td class="text" style="color: #8c4a4a">I see that FILES_${PN} in bitbake.conf includes $sysconfdir and ${datadir}/${BPN}</td><td class="time"><a href="#t2022-04-29T09:21:53" class="time">09:21</a></td></tr>
<tr id="t2022-04-29T09:21:53-2"><th class="nick" style="background: #8c4a4a">kayterina[m]</th><td class="text" style="color: #8c4a4a">Does that mean that it is redundant to set in the recipe</td><td class="time"><a href="#t2022-04-29T09:21:53-2" class="time">09:21</a></td></tr>
<tr id="t2022-04-29T09:21:53-3"><th class="nick" style="background: #8c4a4a">kayterina[m]</th><td class="text" style="color: #8c4a4a">FILES_${PN} += &quot;${sysconfdir}/my-config/my-global.conf&quot;?</td><td class="time"><a href="#t2022-04-29T09:21:53-3" class="time">09:21</a></td></tr>
<tr id="t2022-04-29T09:23:18"><th class="nick" style="background: #4d4d93">mnme</th><td class="text" style="color: #4d4d93">Hi all! What's the best way to do an inherit depending on a PACKAGECONFIG? And is there a way to &quot;remove&quot; an inherit in a bbappend?</td><td class="time"><a href="#t2022-04-29T09:23:18" class="time">09:23</a></td></tr>
<tr id="t2022-04-29T09:26:17"><th class="nick" style="background: #97974f">ptsneves</th><td class="text" style="color: #97974f">kayterina[m] if BPN==my-config yes</td><td class="time"><a href="#t2022-04-29T09:26:17" class="time">09:26</a></td></tr>
<tr id="t2022-04-29T09:26:21"><th class="nick" style="background: #9b519b">_angelo_</th><td class="text" style="color: #9b519b">hi, building kernel i get &quot;.do_preconfigure.1236297' failed with exit code 128:&quot; but no other info.</td><td class="time"><a href="#t2022-04-29T09:26:21" class="time">09:26</a></td></tr>
<tr id="t2022-04-29T09:26:23"><th class="nick" style="background: #8c4a4a">kayterina[m]</th><td class="text" style="color: #8c4a4a">Is the PATH '/usr/share/my-config' equal to&nbsp;&nbsp;'/usr/share/my-config/my-global.conf' for the FILES variable?</td><td class="time"><a href="#t2022-04-29T09:26:23" class="time">09:26</a></td></tr>
<tr id="t2022-04-29T09:27:43"><th class="nick" style="background: #97974f">ptsneves</th><td class="text" style="color: #97974f">kayterina[m] give it a try. If the file is not packaged anywhere you will get an error. If you are unsure it went to another package just check the packages-split directory in the recipe's workspace</td><td class="time"><a href="#t2022-04-29T09:27:43" class="time">09:27</a></td></tr>
<tr id="t2022-04-29T09:32:39"><th class="nick" style="background: #8c4a4a">kayterina[m]</th><td class="text" style="color: #8c4a4a">The recipe builds without errors and I checked FILES_ with bitbake -e. Î¤he config ends-up in packages-split. But the client builds all their recipes with appending to FILES with these paths, ${datadir}, ${sysconfdir}</td><td class="time"><a href="#t2022-04-29T09:32:39" class="time">09:32</a></td></tr>
<tr id="t2022-04-29T09:34:18"><th class="nick" style="background: #97974f">ptsneves</th><td class="text" style="color: #97974f">ok good so everything is working. that is a good step. If they do it, there is no harm besides it being redundant and may create some cargo cutting(quite common in Yocto). Harmless though</td><td class="time"><a href="#t2022-04-29T09:34:18" class="time">09:34</a></td></tr>
<tr id="t2022-04-29T09:38:46"><th class="nick" style="background: #8c4a4a">kayterina[m]</th><td class="text" style="color: #8c4a4a">well, thanks. What is 'cargo cutting'?</td><td class="time"><a href="#t2022-04-29T09:38:46" class="time">09:38</a></td></tr>
<tr id="t2022-04-29T09:40:04"><th class="nick" style="background: #9b519b">_angelo_</th><td class="text" style="color: #9b519b">sry, solved, it was a &quot;SRC_URI = &quot; in place of &quot;SRC_URI +=&quot;. Error message was anyway not helping.</td><td class="time"><a href="#t2022-04-29T09:40:04" class="time">09:40</a></td></tr>
<tr id="t2022-04-29T09:41:54"><th class="nick" style="background: #97974f">ptsneves</th><td class="text" style="color: #97974f">cargo culting, sorry typo. People trying to do something have seen before in a ritualistic way without really understanding what they are doing <a href="https://en.wikipedia.org/wiki/Cargo_cult" rel="nofollow">https://en.wikipedia.org/wiki/Cargo_cult</a></td><td class="time"><a href="#t2022-04-29T09:41:54" class="time">09:41</a></td></tr>
<tr id="t2022-04-29T09:44:42"><th class="nick" style="background: #407a40">thomasd13</th><td class="text" style="color: #407a40">Lol - Its such a satisfying feeling, when a yocto build keeps all the 24 cores at 100% for hours</td><td class="time"><a href="#t2022-04-29T09:44:42" class="time">09:44</a></td></tr>
<tr id="t2022-04-29T09:44:53"><th class="nick" style="background: #4b904b">kranzo</th><td class="text" style="color: #4b904b">ptsneves: i love learning new descriptions of behaviour i've seen before :D</td><td class="time"><a href="#t2022-04-29T09:44:53" class="time">09:44</a></td></tr>
<tr id="t2022-04-29T09:45:07"><th class="nick" style="background: #407a40">thomasd13</th><td class="text" style="color: #407a40">work harder server. WORK HARDER!</td><td class="time"><a href="#t2022-04-29T09:45:07" class="time">09:45</a></td></tr>
<tr id="t2022-04-29T09:45:21"><th class="nick" style="background: #8c4a4a">kayterina[m]</th><td class="text" style="color: #8c4a4a">haha,nice.</td><td class="time"><a href="#t2022-04-29T09:45:21" class="time">09:45</a></td></tr>
<tr id="t2022-04-29T09:55:25"><th class="nick" style="background: #97974f">ptsneves</th><td class="text" style="color: #97974f">oh it seems that wikipedia even has a cargo cult disambiguation for programming <a href="https://en.wikipedia.org/wiki/Cargo_cult_programming" rel="nofollow">https://en.wikipedia.org/wiki/Cargo_cult_programming</a></td><td class="time"><a href="#t2022-04-29T09:55:25" class="time">09:55</a></td></tr>
<tr id="t2022-04-29T10:13:53"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">in which file is u-boot hiding on the raspi? I'm just too stupid to find the link between recipe/package and resulting image at the moment.</td><td class="time"><a href="#t2022-04-29T10:13:53" class="time">10:13</a></td></tr>
<tr id="t2022-04-29T10:14:51"><th class="nick" style="background: #539e9e">qschulz</th><td class="text" style="color: #539e9e">LetoThe2nd: U-Boot might not be running on the RPi</td><td class="time"><a href="#t2022-04-29T10:14:51" class="time">10:14</a></td></tr>
<tr id="t2022-04-29T10:15:13"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">qschulz: it certainly is, I get the messages on the serial.</td><td class="time"><a href="#t2022-04-29T10:15:13" class="time">10:15</a></td></tr>
<tr id="t2022-04-29T10:17:22"><th class="nick" style="background: #97974f">ptsneves</th><td class="text" style="color: #97974f"><a href="https://github.com/agherzan/meta-raspberrypi/blob/master/recipes-bsp/bootfiles/rpi-bootfiles.bb" rel="nofollow">https://github.com/agherzan/meta-raspberrypi/blob/master/recipes-bsp/bootfiles/rpi-bootfiles.bb</a></td><td class="time"><a href="#t2022-04-29T10:17:22" class="time">10:17</a></td></tr>
<tr id="t2022-04-29T10:17:22-2"><th class="nick" style="background: #97974f">ptsneves</th><td class="text" style="color: #97974f">And yes it uses uboot</td><td class="time"><a href="#t2022-04-29T10:17:22-2" class="time">10:17</a></td></tr>
<tr id="t2022-04-29T10:19:53"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">ptsneves: yeah but still, where is it?</td><td class="time"><a href="#t2022-04-29T10:19:53" class="time">10:19</a></td></tr>
<tr id="t2022-04-29T10:20:06"><th class="nick" style="background: #97974f">ptsneves</th><td class="text" style="color: #97974f">in a .bin file?</td><td class="time"><a href="#t2022-04-29T10:20:06" class="time">10:20</a></td></tr>
<tr id="t2022-04-29T10:20:23"><th class="nick" style="background: #a25555">agherzan</th><td class="text" style="color: #a25555">LetoThe2nd: it uses the recipe in oe-core</td><td class="time"><a href="#t2022-04-29T10:20:23" class="time">10:20</a></td></tr>
<tr id="t2022-04-29T10:20:25"><th class="nick" style="background: #97974f">ptsneves</th><td class="text" style="color: #97974f">&quot;${DEPLOYDIR}/${BOOTFILES_DIR_NAME}&quot;</td><td class="time"><a href="#t2022-04-29T10:20:25" class="time">10:20</a></td></tr>
<tr id="t2022-04-29T10:20:29"><th class="nick" style="background: #a25555">agherzan</th><td class="text" style="color: #a25555">for uboot.</td><td class="time"><a href="#t2022-04-29T10:20:29" class="time">10:20</a></td></tr>
<tr id="t2022-04-29T10:21:09"><th class="nick" style="background: #a25555">agherzan</th><td class="text" style="color: #a25555">What you are pointing at ptsneves is the firmware from rpi which in turn chains the uboot when used</td><td class="time"><a href="#t2022-04-29T10:21:09" class="time">10:21</a></td></tr>
<tr id="t2022-04-29T10:21:35"><th class="nick" style="background: #a25555">agherzan</th><td class="text" style="color: #a25555">Here is the uboot bbappend <a href="https://github.com/agherzan/meta-raspberrypi/blob/master/recipes-bsp/u-boot/u-boot_%25.bbappend" rel="nofollow">https://github.com/agherzan/meta-raspberrypi/blob/master/recipes-bsp/u-boot/u-boot_%25.bbappend</a></td><td class="time"><a href="#t2022-04-29T10:21:35" class="time">10:21</a></td></tr>
<tr id="t2022-04-29T10:22:16"><th class="nick" style="background: #97974f">ptsneves</th><td class="text" style="color: #97974f">@agherzan. You are right. Even so that bbappend does not modify where the files are deployed. So the oe-core defaults prevail</td><td class="time"><a href="#t2022-04-29T10:22:16" class="time">10:22</a></td></tr>
<tr id="t2022-04-29T10:22:45"><th class="nick" style="background: #a25555">agherzan</th><td class="text" style="color: #a25555">That would be correct. So what is the question again?</td><td class="time"><a href="#t2022-04-29T10:22:45" class="time">10:22</a></td></tr>
<tr id="t2022-04-29T10:22:56"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">agherzan: ah I'm getting closer. so the magic is the UBOOT_BINARY variable?</td><td class="time"><a href="#t2022-04-29T10:22:56" class="time">10:22</a></td></tr>
<tr id="t2022-04-29T10:22:58"><th class="nick" style="background: #97974f">ptsneves</th><td class="text" style="color: #97974f">actually agherzan is the maintainer of the layer *@ptsneves shows itself self out*</td><td class="time"><a href="#t2022-04-29T10:22:58" class="time">10:22</a></td></tr>
<tr id="t2022-04-29T10:24:09"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">ptsneves: i know :-)</td><td class="time"><a href="#t2022-04-29T10:24:09" class="time">10:24</a></td></tr>
<tr id="t2022-04-29T10:24:21"><th class="nick" style="background: #a25555">agherzan</th><td class="text" style="color: #a25555">LetoThe2nd: the entire logic is in <a href="https://git.yoctoproject.org/poky/tree/meta/recipes-bsp/u-boot/u-boot.inc#n205" rel="nofollow">https://git.yoctoproject.org/poky/tree/meta/recipes-bsp/u-boot/u-boot.inc#n205</a></td><td class="time"><a href="#t2022-04-29T10:24:21" class="time">10:24</a></td></tr>
<tr id="t2022-04-29T10:25:15"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">agherzan: okay i'll dig deeper there then. thanks!</td><td class="time"><a href="#t2022-04-29T10:25:15" class="time">10:25</a></td></tr>
<tr id="t2022-04-29T10:26:10"><th class="nick" style="background: #a25555">agherzan</th><td class="text" style="color: #a25555">the deployment is triggered by <a href="https://github.com/agherzan/meta-raspberrypi/blob/master/conf/machine/raspberrypi4.conf#L19" rel="nofollow">https://github.com/agherzan/meta-raspberrypi/blob/master/conf/machine/raspberrypi4.conf#L19</a> LetoThe2nd</td><td class="time"><a href="#t2022-04-29T10:26:10" class="time">10:26</a></td></tr>
<tr id="t2022-04-29T10:26:58"><th class="nick" style="background: #a25555">agherzan</th><td class="text" style="color: #a25555">So at first sight you probably are looking at this for rpi: <a href="https://git.yoctoproject.org/poky/tree/meta/recipes-bsp/u-boot/u-boot.inc#n57" rel="nofollow">https://git.yoctoproject.org/poky/tree/meta/recipes-bsp/u-boot/u-boot.inc#n57</a></td><td class="time"><a href="#t2022-04-29T10:26:58" class="time">10:26</a></td></tr>
<tr id="t2022-04-29T10:27:09"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">agherzan: well if I could only buy an rpi4.... *SCNR*</td><td class="time"><a href="#t2022-04-29T10:27:09" class="time">10:27</a></td></tr>
<tr id="t2022-04-29T10:27:40"><th class="nick" style="background: #a25555">agherzan</th><td class="text" style="color: #a25555">You don't need to buy an rPi to build u-boot</td><td class="time"><a href="#t2022-04-29T10:27:40" class="time">10:27</a></td></tr>
<tr id="t2022-04-29T10:27:40-2"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">yeah, thanks!</td><td class="time"><a href="#t2022-04-29T10:27:40-2" class="time">10:27</a></td></tr>
<tr id="t2022-04-29T10:27:41"><th class="nick" style="background: #a25555">agherzan</th><td class="text" style="color: #a25555">:)</td><td class="time"><a href="#t2022-04-29T10:27:41" class="time">10:27</a></td></tr>
<tr id="t2022-04-29T10:27:59"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">nah, referring to you pointing at the rpi4-config.</td><td class="time"><a href="#t2022-04-29T10:27:59" class="time">10:27</a></td></tr>
<tr id="t2022-04-29T10:28:05"><th class="nick" style="background: #97974f">ptsneves</th><td class="text" style="color: #97974f">LetoThe2nd why? Do you not have &gt;$100 for a $20 piece?</td><td class="time"><a href="#t2022-04-29T10:28:05" class="time">10:28</a></td></tr>
<tr id="t2022-04-29T10:28:41"><th class="nick" style="background: #a25555">agherzan</th><td class="text" style="color: #a25555">I see LetoThe2nd . The thing is identical for any other machine in meta-raspberrypi</td><td class="time"><a href="#t2022-04-29T10:28:41" class="time">10:28</a></td></tr>
<tr id="t2022-04-29T10:29:04"><th class="nick" style="background: #a25555">agherzan</th><td class="text" style="color: #a25555">For example here is the conf for rpi3 <a href="https://github.com/agherzan/meta-raspberrypi/blob/master/conf/machine/raspberrypi3.conf#L17" rel="nofollow">https://github.com/agherzan/meta-raspberrypi/blob/master/conf/machine/raspberrypi3.conf#L17</a></td><td class="time"><a href="#t2022-04-29T10:29:04" class="time">10:29</a></td></tr>
<tr id="t2022-04-29T11:31:25"><th class="nick" style="background: #97974f">ptsneves</th><td class="text" style="color: #97974f">has anybody had issues with kernel-devsrc recipe causing races with make-mod-scripts? I see there is a do_install[lockfiles] but the kernel-scripts.lock does not get used anywhere else, leading me to believe it is not working as intended</td><td class="time"><a href="#t2022-04-29T11:31:25" class="time">11:31</a></td></tr>
<tr id="t2022-04-29T11:31:52"><th class="nick" style="background: #97974f">ptsneves</th><td class="text" style="color: #97974f">i ask because i have work-shared/kernel-source files magically not existing.</td><td class="time"><a href="#t2022-04-29T11:31:52" class="time">11:31</a></td></tr>
<tr id="t2022-04-29T12:09:02"><th class="nick" style="background: #97974f">ptsneves</th><td class="text" style="color: #97974f">Ok regarding the issue with kernel-devsrc i have the following model:</td><td class="time"><a href="#t2022-04-29T12:09:02" class="time">12:09</a></td></tr>
<tr id="t2022-04-29T12:09:03"><th class="nick" style="background: #97974f">ptsneves</th><td class="text" style="color: #97974f">kernel-devsrc.bb:do_install[depends] += virtual/kernel:do_shared_workdir</td><td class="time"><a href="#t2022-04-29T12:09:03" class="time">12:09</a></td></tr>
<tr id="t2022-04-29T12:09:03-2"><th class="nick" style="background: #97974f">ptsneves</th><td class="text" style="color: #97974f">virtual/kernel:do_shared_workdir is a cleandir task for the kernel build dir!</td><td class="time"><a href="#t2022-04-29T12:09:03-2" class="time">12:09</a></td></tr>
<tr id="t2022-04-29T12:09:04"><th class="nick" style="background: #97974f">ptsneves</th><td class="text" style="color: #97974f">but in kernel-devsrc.bb: module_base is inherited as well and that means that kernel-devsrc.bb:do_configure[depends] += make-mod-scripts:do_compile and that means that make-mod-scripts:do_compile happens after make-mod-scripts.bb:do_configure. Also we can see make-mod-scripts.bb:do_configure[depends] += &quot;virtual/kernel:do_shared_workdir&quot;</td><td class="time"><a href="#t2022-04-29T12:09:04" class="time">12:09</a></td></tr>
<tr id="t2022-04-29T12:09:04-2"><th class="nick" style="background: #97974f">ptsneves</th><td class="text" style="color: #97974f">meaning, that do_shared_workdir done by make-mod-scripts will be erased concurrently by kernel-devsrc.bb:do_install[depends] += &quot;virtual/kernel:do_shared_workdir&quot; as well as kernel-devsrc.bb:do_install[depends] += &quot;virtual/kernel:do:install&quot;</td><td class="time"><a href="#t2022-04-29T12:09:04-2" class="time">12:09</a></td></tr>
<tr id="t2022-04-29T12:09:05"><th class="nick" style="background: #97974f">ptsneves</th><td class="text" style="color: #97974f">Basically this recipe is broken as is</td><td class="time"><a href="#t2022-04-29T12:09:05" class="time">12:09</a></td></tr>
<tr id="t2022-04-29T12:57:50"><th class="nick" style="background: #57a657">JaMa</th><td class="text" style="color: #57a657">rburton: are there any known corner-cases where export GIT_CONFIG_PARAMETERS isn't enough to keep git happy? e.g. I'm seeing it from scons in iotivity build &quot;fatal: unsafe repository ('git/extlibs/tinycbor/tinycbor' is owned by someone else); CalledProcessError: Command 'git tag -l v0.5.1' returned non-zero exit status 128.</td><td class="time"><a href="#t2022-04-29T12:57:50" class="time">12:57</a></td></tr>
<tr id="t2022-04-29T12:58:53"><th class="nick" style="background: #57a657">JaMa</th><td class="text" style="color: #57a657">maybe because SConscript.py has own filtering of shell environment :/</td><td class="time"><a href="#t2022-04-29T12:58:53" class="time">12:58</a></td></tr>
<tr id="t2022-04-29T12:59:34"><th class="nick" style="background: #57a657">JaMa</th><td class="text" style="color: #57a657"><a href="https://scons.org/doc/2.4.0/HTML/scons-api/SCons.Script.SConscript%27.DefaultEnvironmentCall-class.html" rel="nofollow">https://scons.org/doc/2.4.0/HTML/scons-api/SCons.Script.SConscript%27.DefaultEnvironmentCall-class.html</a></td><td class="time"><a href="#t2022-04-29T12:59:34" class="time">12:59</a></td></tr>
<tr id="t2022-04-29T13:12:38"><th class="nick" style="background: #5959a9">rburton</th><td class="text" style="color: #5959a9">JaMa: yeah that would do it</td><td class="time"><a href="#t2022-04-29T13:12:38" class="time">13:12</a></td></tr>
<tr id="t2022-04-29T13:13:50"><th class="nick" style="background: #57a657">JaMa</th><td class="text" style="color: #57a657">ok, will check that after full-rebuild is finished</td><td class="time"><a href="#t2022-04-29T13:13:50" class="time">13:13</a></td></tr>
<tr id="t2022-04-29T13:21:28"><th class="nick" style="background: #5959a9">rburton</th><td class="text" style="color: #5959a9">this patch is madness</td><td class="time"><a href="#t2022-04-29T13:21:28" class="time">13:21</a></td></tr>
<tr id="t2022-04-29T13:21:35"><th class="nick" style="background: #5959a9">rburton</th><td class="text" style="color: #5959a9">it could just not run stuff</td><td class="time"><a href="#t2022-04-29T13:21:35" class="time">13:21</a></td></tr>
<tr id="t2022-04-29T13:25:16"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">rÃ¼n stÃ¼ff?</td><td class="time"><a href="#t2022-04-29T13:25:16" class="time">13:25</a></td></tr>
<tr id="t2022-04-29T13:25:39"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">rburton: <a href="https://youtu.be/Kvqr366Op3k" rel="nofollow">https://youtu.be/Kvqr366Op3k</a></td><td class="time"><a href="#t2022-04-29T13:25:39" class="time">13:25</a></td></tr>
<tr id="t2022-04-29T13:45:26"><th class="nick" style="background: #adad5b">sotaoverride</th><td class="text" style="color: #adad5b">How would I get started on somethng like backporting rootfs overlay stuff from kirkstone to dunfell?</td><td class="time"><a href="#t2022-04-29T13:45:26" class="time">13:45</a></td></tr>
<tr id="t2022-04-29T13:46:02"><th class="nick" style="background: #adad5b">sotaoverride</th><td class="text" style="color: #adad5b">just need the broadstrokes for now / thoughts now</td><td class="time"><a href="#t2022-04-29T13:46:02" class="time">13:46</a></td></tr>
<tr id="t2022-04-29T13:50:35"><th class="nick" style="background: #adad5b">sotaoverride</th><td class="text" style="color: #adad5b">talking about back porting overlayfs.bbclass from kirkstone to dunfell</td><td class="time"><a href="#t2022-04-29T13:50:35" class="time">13:50</a></td></tr>
<tr id="t2022-04-29T13:59:21"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">sotaoverride: cp, start build and see what fails.</td><td class="time"><a href="#t2022-04-29T13:59:21" class="time">13:59</a></td></tr>
<tr id="t2022-04-29T14:00:00"><th class="nick" style="background: #adad5b">sotaoverride</th><td class="text" style="color: #adad5b">got it. Thanks</td><td class="time"><a href="#t2022-04-29T14:00:00" class="time">14:00</a></td></tr>
<tr id="t2022-04-29T14:04:15"><th class="nick" style="background: #97974f">ptsneves</th><td class="text" style="color: #97974f">Couldnt make-mod-scripts use inherit nopackages?</td><td class="time"><a href="#t2022-04-29T14:04:15" class="time">14:04</a></td></tr>
<tr id="t2022-04-29T14:12:30"><th class="nick" style="background: #5959a9">rburton</th><td class="text" style="color: #5959a9">LetoThe2nd: i know better than to click on your links</td><td class="time"><a href="#t2022-04-29T14:12:30" class="time">14:12</a></td></tr>
<tr id="t2022-04-29T14:18:10"><td class="part" colspan="2">*** Piraty &lt;Piraty!~irc@user/piraty&gt; has left #yocto (-)</td><td><a href="#t2022-04-29T14:18:10" class="time">14:18</a></td></tr>
<tr id="t2022-04-29T14:19:58"><th class="nick" style="background: #4b904b">kranzo</th><td class="text" style="color: #4b904b">I'm porting some stuff from dunfell to kirkstone, can someeone explain me:</td><td class="time"><a href="#t2022-04-29T14:19:58" class="time">14:19</a></td></tr>
<tr id="t2022-04-29T14:19:58-2"><th class="nick" style="background: #4b904b">kranzo</th><td class="text" style="color: #4b904b">Fetcher failure: Recipe uses a floating tag/branch without a fixed SRCREV</td><td class="time"><a href="#t2022-04-29T14:19:58-2" class="time">14:19</a></td></tr>
<tr id="t2022-04-29T14:19:59"><th class="nick" style="background: #4b904b">kranzo</th><td class="text" style="color: #4b904b">I'm using git fetcher and have set branch=fixedname and tag=Bla_${PV}</td><td class="time"><a href="#t2022-04-29T14:19:59" class="time">14:19</a></td></tr>
<tr id="t2022-04-29T14:20:31"><th class="nick" style="background: #5959a9">rburton</th><td class="text" style="color: #5959a9">the SRCREV should be a sha, not a name</td><td class="time"><a href="#t2022-04-29T14:20:31" class="time">14:20</a></td></tr>
<tr id="t2022-04-29T14:20:41"><th class="nick" style="background: #5959a9">rburton</th><td class="text" style="color: #5959a9">tag names are not fixed</td><td class="time"><a href="#t2022-04-29T14:20:41" class="time">14:20</a></td></tr>
<tr id="t2022-04-29T14:20:55"><th class="nick" style="background: #5959a9">rburton</th><td class="text" style="color: #5959a9">a sha is fixed, everything else can change</td><td class="time"><a href="#t2022-04-29T14:20:55" class="time">14:20</a></td></tr>
<tr id="t2022-04-29T14:22:48"><th class="nick" style="background: #4b904b">kranzo</th><td class="text" style="color: #4b904b">true but in dunfell this was working. is sha enforced now? and how to work around this? is there something in place to receive the sha from the tag?</td><td class="time"><a href="#t2022-04-29T14:22:48" class="time">14:22</a></td></tr>
<tr id="t2022-04-29T14:23:01"><th class="nick" style="background: #4b904b">kranzo</th><td class="text" style="color: #4b904b">ok that would break the whole idea i think ..</td><td class="time"><a href="#t2022-04-29T14:23:01" class="time">14:23</a></td></tr>
<tr id="t2022-04-29T14:24:04"><th class="nick" style="background: #5959a9">rburton</th><td class="text" style="color: #5959a9">yes</td><td class="time"><a href="#t2022-04-29T14:24:04" class="time">14:24</a></td></tr>
<tr id="t2022-04-29T14:24:16"><th class="nick" style="background: #5959a9">rburton</th><td class="text" style="color: #5959a9">its a change in kirkstone</td><td class="time"><a href="#t2022-04-29T14:24:16" class="time">14:24</a></td></tr>
<tr id="t2022-04-29T14:24:22"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">rburton: booooooring not clicking my links.</td><td class="time"><a href="#t2022-04-29T14:24:22" class="time">14:24</a></td></tr>
<tr id="t2022-04-29T14:25:05"><th class="nick" style="background: #57a657">JaMa</th><td class="text" style="color: #57a657">and you can write a function which confirms that the sha mathes with the tag (or at least does in your local checkout) after bitbake fetches from sha, that's what we're using in webOS</td><td class="time"><a href="#t2022-04-29T14:25:05" class="time">14:25</a></td></tr>
<tr id="t2022-04-29T14:25:44"><th class="nick" style="background: #adad5b">sotaoverride</th><td class="text" style="color: #adad5b">ok why dont i see the kirkstone branch on here <a href="https://github.com/yoctoproject/poky" rel="nofollow">https://github.com/yoctoproject/poky</a> ?</td><td class="time"><a href="#t2022-04-29T14:25:44" class="time">14:25</a></td></tr>
<tr id="t2022-04-29T14:26:16"><th class="nick" style="background: #57a657">JaMa</th><td class="text" style="color: #57a657">Updated on Mar 24</td><td class="time"><a href="#t2022-04-29T14:26:16" class="time">14:26</a></td></tr>
<tr id="t2022-04-29T14:26:25"><th class="nick" style="background: #57a657">JaMa</th><td class="text" style="color: #57a657">I don't think this is official mirror ^</td><td class="time"><a href="#t2022-04-29T14:26:25" class="time">14:26</a></td></tr>
<tr id="t2022-04-29T14:26:33"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">sotaoverride: <a href="https://git.yoctoproject.org/poky/log/?h=kirkstone" rel="nofollow">https://git.yoctoproject.org/poky/log/?h=kirkstone</a></td><td class="time"><a href="#t2022-04-29T14:26:33" class="time">14:26</a></td></tr>
<tr id="t2022-04-29T14:26:44"><th class="nick" style="background: #adad5b">sotaoverride</th><td class="text" style="color: #adad5b">and for fsoverlay.bbclass what branch would it make the most sense to be backporting from even. (im trying to get it into dunfell)</td><td class="time"><a href="#t2022-04-29T14:26:44" class="time">14:26</a></td></tr>
<tr id="t2022-04-29T14:30:24"><th class="nick" style="background: #4b904b">kranzo</th><td class="text" style="color: #4b904b">i see, is this correlated to the nonetwork stuff?</td><td class="time"><a href="#t2022-04-29T14:30:24" class="time">14:30</a></td></tr>
<tr id="t2022-04-29T14:30:24-2"><th class="nick" style="background: #4b904b">kranzo</th><td class="text" style="color: #4b904b"><a href="https://docs.yoctoproject.org/bitbake/2.0/bitbake-user-manual/bitbake-user-manual-fetching.html#git-fetcher-git" rel="nofollow">https://docs.yoctoproject.org/bitbake/2.0/bitbake-user-manual/bitbake-user-manual-fetching.html#git-fetcher-git</a> seems outdated then if i cant use a tag and a ref is forced or do i misunderstand it?</td><td class="time"><a href="#t2022-04-29T14:30:24-2" class="time">14:30</a></td></tr>
<tr id="t2022-04-29T14:32:32"><th class="nick" style="background: #539e9e">qschulz</th><td class="text" style="color: #539e9e">kranzo: are you passing both branch and tag to SRC_URI?</td><td class="time"><a href="#t2022-04-29T14:32:32" class="time">14:32</a></td></tr>
<tr id="t2022-04-29T14:32:58"><th class="nick" style="background: #539e9e">qschulz</th><td class="text" style="color: #539e9e">also, tags aren't recommended in SRC_URI because they can be moved so aren't guaranteeing reproducibility</td><td class="time"><a href="#t2022-04-29T14:32:58" class="time">14:32</a></td></tr>
<tr id="t2022-04-29T14:32:58-2"><th class="nick" style="background: #4b904b">kranzo</th><td class="text" style="color: #4b904b">right now, yes</td><td class="time"><a href="#t2022-04-29T14:32:58-2" class="time">14:32</a></td></tr>
<tr id="t2022-04-29T14:33:35"><th class="nick" style="background: #4b904b">kranzo</th><td class="text" style="color: #4b904b">i totally agree, I'm still complaining about this but it's not fully under my control by now</td><td class="time"><a href="#t2022-04-29T14:33:35" class="time">14:33</a></td></tr>
<tr id="t2022-04-29T14:34:30"><th class="nick" style="background: #4b904b">kranzo</th><td class="text" style="color: #4b904b">creating tags and changing versionnumbers on recipes seems to be easier :)</td><td class="time"><a href="#t2022-04-29T14:34:30" class="time">14:34</a></td></tr>
<tr id="t2022-04-29T14:37:04"><th class="nick" style="background: #539e9e">qschulz</th><td class="text" style="color: #539e9e">kranzo: <a href="https://git.openembedded.org/bitbake/commit/?id=4b5eed1626709ef3dc06b32fd55d40a2a6edd179" rel="nofollow">https://git.openembedded.org/bitbake/commit/?id=4b5eed1626709ef3dc06b32fd55d40a2a6edd179</a></td><td class="time"><a href="#t2022-04-29T14:37:04" class="time">14:37</a></td></tr>
<tr id="t2022-04-29T14:37:21"><th class="nick" style="background: #539e9e">qschulz</th><td class="text" style="color: #539e9e">this seems to indicate it is not possible anymore to use tags/branches without SRCREV</td><td class="time"><a href="#t2022-04-29T14:37:21" class="time">14:37</a></td></tr>
<tr id="t2022-04-29T14:38:06"><th class="nick" style="background: #539e9e">qschulz</th><td class="text" style="color: #539e9e">Would need confirmation from RP but that's mny understanding. We should therefore update the docs to reflect that</td><td class="time"><a href="#t2022-04-29T14:38:06" class="time">14:38</a></td></tr>
<tr id="t2022-04-29T14:41:00"><th class="nick" style="background: #539e9e">qschulz</th><td class="text" style="color: #539e9e">kranzo: wondering if you couldn't use AUTOREV with the tag then</td><td class="time"><a href="#t2022-04-29T14:41:00" class="time">14:41</a></td></tr>
<tr id="t2022-04-29T14:43:31"><th class="nick" style="background: #4b904b">kranzo</th><td class="text" style="color: #4b904b">I'm scanning every variable right now to check how to make it work, but my brain just creates loops in what chain i can use this :D</td><td class="time"><a href="#t2022-04-29T14:43:31" class="time">14:43</a></td></tr>
<tr id="t2022-04-29T14:47:54"><th class="nick" style="background: #b15db1">RP</th><td class="text" style="color: #b15db1">qschulz: I don't think we intended to stop tags working</td><td class="time"><a href="#t2022-04-29T14:47:54" class="time">14:47</a></td></tr>
<tr id="t2022-04-29T14:49:50"><th class="nick" style="background: #b15db1">RP</th><td class="text" style="color: #b15db1">kranzo: you probably need to trigger the get_autorev() call somehow, then things will work again</td><td class="time"><a href="#t2022-04-29T14:49:50" class="time">14:49</a></td></tr>
<tr id="t2022-04-29T14:53:47"><th class="nick" style="background: #4b904b">kranzo</th><td class="text" style="color: #4b904b">RP: that gives me some hope, that i don't need to fight about tag usage:D Â  any startingpoint to this ?</td><td class="time"><a href="#t2022-04-29T14:53:47" class="time">14:53</a></td></tr>
<tr id="t2022-04-29T14:55:01"><th class="nick" style="background: #b15db1">RP</th><td class="text" style="color: #b15db1">kranzo: how are you setting PV in these recipes?</td><td class="time"><a href="#t2022-04-29T14:55:01" class="time">14:55</a></td></tr>
<tr id="t2022-04-29T14:57:03"><th class="nick" style="background: #b15db1">RP</th><td class="text" style="color: #b15db1">kranzo: something like SOMEVAR := &quot;${@bb.fetch2.get_srcrev(d)}&quot; in the recipe will probably make it work but it does mean your PV isn't triggering that</td><td class="time"><a href="#t2022-04-29T14:57:03" class="time">14:57</a></td></tr>
<tr id="t2022-04-29T14:57:34"><th class="nick" style="background: #4b904b">kranzo</th><td class="text" style="color: #4b904b">RP: inherited from the recipename</td><td class="time"><a href="#t2022-04-29T14:57:34" class="time">14:57</a></td></tr>
<tr id="t2022-04-29T14:57:45"><th class="nick" style="background: #b15db1">RP</th><td class="text" style="color: #b15db1">kranzo: that will be the issue</td><td class="time"><a href="#t2022-04-29T14:57:45" class="time">14:57</a></td></tr>
<tr id="t2022-04-29T14:58:53"><th class="nick" style="background: #b15db1">RP</th><td class="text" style="color: #b15db1">zeddii, jonmason: For this qemuarm thing, I had a look at the defconfig, CONFIG_PCIEPORTBUS changes as does CONFIG_PCIE_PME and CONFIG_HOTPLUG_PCI, CONFIG_PCI_HOST_COMMON, CONFIG_PCI_HOST_GENERIC. I suspect one of these is the cause of the issue</td><td class="time"><a href="#t2022-04-29T14:58:53" class="time">14:58</a></td></tr>
<tr id="t2022-04-29T14:59:05"><th class="nick" style="background: #b15db1">RP</th><td class="text" style="color: #b15db1">zeddii: rather than revert, we might be able to add the missing bit back?</td><td class="time"><a href="#t2022-04-29T14:59:05" class="time">14:59</a></td></tr>
<tr id="t2022-04-29T14:59:33"><th class="nick" style="background: #5fb4b4">zeddii</th><td class="text" style="color: #5fb4b4">RP jonmason said he located the option, but I haven't gotten the patch yet. hopefully he pops up soon.</td><td class="time"><a href="#t2022-04-29T14:59:33" class="time">14:59</a></td></tr>
<tr id="t2022-04-29T15:00:05"><td class="action" colspan="2">* zeddii is fighting with strace</td><td><a href="#t2022-04-29T15:00:05" class="time">15:00</a></td></tr>
<tr id="t2022-04-29T15:00:17"><th class="nick" style="background: #b15db1">RP</th><td class="text" style="color: #b15db1">zeddii: did you get it to reproduce?</td><td class="time"><a href="#t2022-04-29T15:00:17" class="time">15:00</a></td></tr>
<tr id="t2022-04-29T15:00:24"><td class="action" colspan="2">* zeddii has NFI what a landlock is.</td><td><a href="#t2022-04-29T15:00:24" class="time">15:00</a></td></tr>
<tr id="t2022-04-29T15:00:42"><th class="nick" style="background: #5fb4b4">zeddii</th><td class="text" style="color: #5fb4b4">yah, I've been installing the strace-ptest package on all my images for a while, since it has caused issues int he past.</td><td class="time"><a href="#t2022-04-29T15:00:42" class="time">15:00</a></td></tr>
<tr id="t2022-04-29T15:01:02"><th class="nick" style="background: #b86161">jonmason</th><td class="text" style="color: #b86161">Is this the fbdev thing?</td><td class="time"><a href="#t2022-04-29T15:01:02" class="time">15:01</a></td></tr>
<tr id="t2022-04-29T15:01:07"><th class="nick" style="background: #4b904b">kranzo</th><td class="text" style="color: #4b904b">RP: sadly even if i change to PV=&quot;'1.2.3&quot; SRC_URI unchanged the error is raised</td><td class="time"><a href="#t2022-04-29T15:01:07" class="time">15:01</a></td></tr>
<tr id="t2022-04-29T15:01:10"><th class="nick" style="background: #5fb4b4">zeddii</th><td class="text" style="color: #5fb4b4">I ran it manually and landlock and a couple of others failed. I'm looking at the first one now. maybe the other ones will follow.</td><td class="time"><a href="#t2022-04-29T15:01:10" class="time">15:01</a></td></tr>
<tr id="t2022-04-29T15:01:39"><th class="nick" style="background: #5fb4b4">zeddii</th><td class="text" style="color: #5fb4b4">jonmason: yah, the sato qemuarm boot. I think you said you had it working locally.</td><td class="time"><a href="#t2022-04-29T15:01:39" class="time">15:01</a></td></tr>
<tr id="t2022-04-29T15:01:44"><th class="nick" style="background: #b15db1">RP</th><td class="text" style="color: #b15db1">zeddii: I think we just have two landlock failures which are the issue</td><td class="time"><a href="#t2022-04-29T15:01:44" class="time">15:01</a></td></tr>
<tr id="t2022-04-29T15:01:51"><th class="nick" style="background: #b86161">jonmason</th><td class="text" style="color: #b86161">zeddii: +CONFIG_DRM_VKMS=y</td><td class="time"><a href="#t2022-04-29T15:01:51" class="time">15:01</a></td></tr>
<tr id="t2022-04-29T15:01:58"><th class="nick" style="background: #b15db1">RP</th><td class="text" style="color: #b15db1">kranzo: try adding SRCPV in there</td><td class="time"><a href="#t2022-04-29T15:01:58" class="time">15:01</a></td></tr>
<tr id="t2022-04-29T15:02:32"><th class="nick" style="background: #b15db1">RP</th><td class="text" style="color: #b15db1">jonmason: I'm not convinced at that :/</td><td class="time"><a href="#t2022-04-29T15:02:32" class="time">15:02</a></td></tr>
<tr id="t2022-04-29T15:02:54"><th class="nick" style="background: #b86161">jonmason</th><td class="text" style="color: #b86161">I've been reworking my gitlab CI stuff to not suck, and got pulled into a hole of getting it to now suck</td><td class="time"><a href="#t2022-04-29T15:02:54" class="time">15:02</a></td></tr>
<tr id="t2022-04-29T15:03:10"><th class="nick" style="background: #b15db1">RP</th><td class="text" style="color: #b15db1">an unfortunate typo</td><td class="time"><a href="#t2022-04-29T15:03:10" class="time">15:03</a></td></tr>
<tr id="t2022-04-29T15:03:14"><th class="nick" style="background: #b86161">jonmason</th><td class="text" style="color: #b86161">RP: yeah, it does seem dodgy but does fix it</td><td class="time"><a href="#t2022-04-29T15:03:14" class="time">15:03</a></td></tr>
<tr id="t2022-04-29T15:03:30"><th class="nick" style="background: #b86161">jonmason</th><td class="text" style="color: #b86161">RP: lol, more accurate though</td><td class="time"><a href="#t2022-04-29T15:03:30" class="time">15:03</a></td></tr>
<tr id="t2022-04-29T15:03:36"><th class="nick" style="background: #b15db1">RP</th><td class="text" style="color: #b15db1">jonmason: fix with your patch series or fix without your patch series</td><td class="time"><a href="#t2022-04-29T15:03:36" class="time">15:03</a></td></tr>
<tr id="t2022-04-29T15:03:52"><th class="nick" style="background: #b15db1">RP</th><td class="text" style="color: #b15db1">jonmason: I'm worried we'll end up porting this bug into kirkstone</td><td class="time"><a href="#t2022-04-29T15:03:52" class="time">15:03</a></td></tr>
<tr id="t2022-04-29T15:04:23"><th class="nick" style="background: #4b904b">kranzo</th><td class="text" style="color: #4b904b">RP: so PV = &quot;${SRCPV}&quot;</td><td class="time"><a href="#t2022-04-29T15:04:23" class="time">15:04</a></td></tr>
<tr id="t2022-04-29T15:04:24"><th class="nick" style="background: #4b904b">kranzo</th><td class="text" style="color: #4b904b">results into a single line:</td><td class="time"><a href="#t2022-04-29T15:04:24" class="time">15:04</a></td></tr>
<tr id="t2022-04-29T15:04:24-2"><th class="nick" style="background: #4b904b">kranzo</th><td class="text" style="color: #4b904b">ERROR: Parsing halted due to errors, see error messages above</td><td class="time"><a href="#t2022-04-29T15:04:24-2" class="time">15:04</a></td></tr>
<tr id="t2022-04-29T15:04:25"><th class="nick" style="background: #4b904b">kranzo</th><td class="text" style="color: #4b904b">without any error message above oO</td><td class="time"><a href="#t2022-04-29T15:04:25" class="time">15:04</a></td></tr>
<tr id="t2022-04-29T15:04:29"><th class="nick" style="background: #b86161">jonmason</th><td class="text" style="color: #b86161">RP: thats why I'm trying to determine, because I layered the defconfig change with the machine conf change</td><td class="time"><a href="#t2022-04-29T15:04:29" class="time">15:04</a></td></tr>
<tr id="t2022-04-29T15:04:40"><th class="nick" style="background: #b86161">jonmason</th><td class="text" style="color: #b86161">together they work</td><td class="time"><a href="#t2022-04-29T15:04:40" class="time">15:04</a></td></tr>
<tr id="t2022-04-29T15:08:40"><th class="nick" style="background: #b86161">jonmason</th><td class="text" style="color: #b86161">zeddii: your changes are in your poky-contrib?</td><td class="time"><a href="#t2022-04-29T15:08:40" class="time">15:08</a></td></tr>
<tr id="t2022-04-29T15:08:50"><th class="nick" style="background: #5fb4b4">zeddii</th><td class="text" style="color: #5fb4b4">yup.</td><td class="time"><a href="#t2022-04-29T15:08:50" class="time">15:08</a></td></tr>
<tr id="t2022-04-29T15:08:56"><th class="nick" style="background: #5fb4b4">zeddii</th><td class="text" style="color: #5fb4b4">zedd/kernel</td><td class="time"><a href="#t2022-04-29T15:08:56" class="time">15:08</a></td></tr>
<tr id="t2022-04-29T15:09:12"><th class="nick" style="background: #b86161">jonmason</th><td class="text" style="color: #b86161">ok, let me run with that instead of adding your SHA changes by hand</td><td class="time"><a href="#t2022-04-29T15:09:12" class="time">15:09</a></td></tr>
<tr id="t2022-04-29T15:09:32"><th class="nick" style="background: #b15db1">RP</th><td class="text" style="color: #b15db1">jonmason: also in master-next atm</td><td class="time"><a href="#t2022-04-29T15:09:32" class="time">15:09</a></td></tr>
<tr id="t2022-04-29T15:09:43"><th class="nick" style="background: #b86161">jonmason</th><td class="text" style="color: #b86161">is the issue qemuarm and qemuarmv5 not having a bsp definition?</td><td class="time"><a href="#t2022-04-29T15:09:43" class="time">15:09</a></td></tr>
<tr id="t2022-04-29T15:10:30"><th class="nick" style="background: #b86161">jonmason</th><td class="text" style="color: #b86161">&quot;Could not locate BSP definition for qemuarm/standard and no defconfig was provided&quot; is what I'm seeing</td><td class="time"><a href="#t2022-04-29T15:10:30" class="time">15:10</a></td></tr>
<tr id="t2022-04-29T15:11:00"><th class="nick" style="background: #b86161">jonmason</th><td class="text" style="color: #b86161">of course, the odds are good I screwed something up :)</td><td class="time"><a href="#t2022-04-29T15:11:00" class="time">15:11</a></td></tr>
<tr id="t2022-04-29T15:12:46"><th class="nick" style="background: #5fb4b4">zeddii</th><td class="text" style="color: #5fb4b4">jonmason: not in this case, they build fine here.</td><td class="time"><a href="#t2022-04-29T15:12:46" class="time">15:12</a></td></tr>
<tr id="t2022-04-29T15:13:06"><th class="nick" style="background: #b86161">jonmason</th><td class="text" style="color: #b86161">ok, let me do it by hand, off of master-next</td><td class="time"><a href="#t2022-04-29T15:13:06" class="time">15:13</a></td></tr>
<tr id="t2022-04-29T15:14:43"><th class="nick" style="background: #b15db1">RP</th><td class="text" style="color: #b15db1">jonmason: I dumped a defconfig before and after your changes. Did you intend to turn off the pci bits?</td><td class="time"><a href="#t2022-04-29T15:14:43" class="time">15:14</a></td></tr>
<tr id="t2022-04-29T15:15:03"><td class="action" colspan="2">* RP is trying to get to a local build position where he could test something</td><td><a href="#t2022-04-29T15:15:03" class="time">15:15</a></td></tr>
<tr id="t2022-04-29T15:15:42"><th class="nick" style="background: #b86161">jonmason</th><td class="text" style="color: #b86161">RP: I had qemuarm working without PCI, since all of the virtio was -device</td><td class="time"><a href="#t2022-04-29T15:15:42" class="time">15:15</a></td></tr>
<tr id="t2022-04-29T15:16:12"><th class="nick" style="background: #62bb62">fray</th><td class="text" style="color: #62bb62">&quot;local build position&quot;.. I assume that isn't standing on your head with a keyboard ont he ceiling?</td><td class="time"><a href="#t2022-04-29T15:16:12" class="time">15:16</a></td></tr>
<tr id="t2022-04-29T15:16:14"><th class="nick" style="background: #b86161">jonmason</th><td class="text" style="color: #b86161">but I have a patch queued to just use PCI, since all the rest are using PCI and its common</td><td class="time"><a href="#t2022-04-29T15:16:14" class="time">15:16</a></td></tr>
<tr id="t2022-04-29T15:16:14-2"><th class="nick" style="background: #b15db1">RP</th><td class="text" style="color: #b15db1">jonmason: right, but that will break kirkstone if we backport the kernel change</td><td class="time"><a href="#t2022-04-29T15:16:14-2" class="time">15:16</a></td></tr>
<tr id="t2022-04-29T15:16:49"><th class="nick" style="background: #b86161">jonmason</th><td class="text" style="color: #b86161">and IIRC removing PCI graphics caused the xorg test to fail on sato</td><td class="time"><a href="#t2022-04-29T15:16:49" class="time">15:16</a></td></tr>
<tr id="t2022-04-29T15:17:01"><th class="nick" style="background: #4b904b">kranzo</th><td class="text" style="color: #4b904b">RP: ok -D flag showed me another problem here, so i would say for now the tag stuff is done solved</td><td class="time"><a href="#t2022-04-29T15:17:01" class="time">15:17</a></td></tr>
<tr id="t2022-04-29T15:17:06"><th class="nick" style="background: #4b904b">kranzo</th><td class="text" style="color: #4b904b">[17:16:22] &lt;kranzo&gt; thx all have a nice weekend</td><td class="time"><a href="#t2022-04-29T15:17:06" class="time">15:17</a></td></tr>
<tr id="t2022-04-29T15:17:07"><th class="nick" style="background: #4b904b">kranzo</th><td class="text" style="color: #4b904b">[17:16:28] [NOTICE] Last login from: ~kranzo@http-v.fe.bosch.de on Apr 29 15:10:09 2022 +0000.</td><td class="time"><a href="#t2022-04-29T15:17:07" class="time">15:17</a></td></tr>
<tr id="t2022-04-29T15:40:15"><th class="nick" style="background: #6464bf">lrusak[m]</th><td class="text" style="color: #6464bf">Hey guys, can I make the IMAGE_FSTYPE conditional to a recipe? If I build my image directly I want to use wic.xz but if I build my rauc bundle (which builds my image recipe) I want to use tar.xz</td><td class="time"><a href="#t2022-04-29T15:40:15" class="time">15:40</a></td></tr>
<tr id="t2022-04-29T15:41:52"><th class="nick" style="background: #b15db1">RP</th><td class="text" style="color: #b15db1">jonmason, zeddii: I've confirmed that if I add back those PCI options, qemuarm works again without the virtio changes</td><td class="time"><a href="#t2022-04-29T15:41:52" class="time">15:41</a></td></tr>
<tr id="t2022-04-29T15:42:10"><th class="nick" style="background: #b15db1">RP</th><td class="text" style="color: #b15db1">does it help if I try and figure out the ones that we really actually need?</td><td class="time"><a href="#t2022-04-29T15:42:10" class="time">15:42</a></td></tr>
<tr id="t2022-04-29T15:43:00"><th class="nick" style="background: #c3c366">shoragan[m]</th><td class="text" style="color: #c3c366">lrusak: you can have multiple entries in IMAGE_FSTYPE. also, for the rauc bundle, you probably want to use a tar, as the rauc bundle itself is already compressed</td><td class="time"><a href="#t2022-04-29T15:43:00" class="time">15:43</a></td></tr>
<tr id="t2022-04-29T15:45:17"><th class="nick" style="background: #5fb4b4">zeddii</th><td class="text" style="color: #5fb4b4">RP: from my side, not so much, jon was trying to get something minimal, so he may have a stronger opinion.</td><td class="time"><a href="#t2022-04-29T15:45:17" class="time">15:45</a></td></tr>
<tr id="t2022-04-29T15:45:20"><th class="nick" style="background: #b86161">jonmason</th><td class="text" style="color: #b86161">RP: this is the defconfig?</td><td class="time"><a href="#t2022-04-29T15:45:20" class="time">15:45</a></td></tr>
<tr id="t2022-04-29T15:45:37"><th class="nick" style="background: #b86161">jonmason</th><td class="text" style="color: #b86161">add them back, and I do another to fix it afterward</td><td class="time"><a href="#t2022-04-29T15:45:37" class="time">15:45</a></td></tr>
<tr id="t2022-04-29T15:47:22"><th class="nick" style="background: #b86161">jonmason</th><td class="text" style="color: #b86161">I'm working to repro now, base passes and sato is taking a bit of time</td><td class="time"><a href="#t2022-04-29T15:47:22" class="time">15:47</a></td></tr>
<tr id="t2022-04-29T15:47:33"><th class="nick" style="background: #b15db1">RP</th><td class="text" style="color: #b15db1">jonmason, zeddii: <a href="https://git.yoctoproject.org/poky-contrib/commit/?h=rpurdie/t222&amp;id=1054f014a3c96f69456ba0000e032382fc7de0ec" rel="nofollow">https://git.yoctoproject.org/poky-contrib/commit/?h=rpurdie/t222&amp;id=1054f014a3c96f69456ba0000e032382fc7de0ec</a> is what I did to brute force it to test</td><td class="time"><a href="#t2022-04-29T15:47:33" class="time">15:47</a></td></tr>
<tr id="t2022-04-29T15:50:20"><th class="nick" style="background: #b86161">jonmason</th><td class="text" style="color: #b86161">RP: yeah, that actually should get added to virtio.cfg</td><td class="time"><a href="#t2022-04-29T15:50:20" class="time">15:50</a></td></tr>
<tr id="t2022-04-29T15:50:31"><th class="nick" style="background: #b86161">jonmason</th><td class="text" style="color: #b86161">but seems sane</td><td class="time"><a href="#t2022-04-29T15:50:31" class="time">15:50</a></td></tr>
<tr id="t2022-04-29T15:51:14"><th class="nick" style="background: #b15db1">RP</th><td class="text" style="color: #b15db1">jonmason: I'm assuming you/zeddii know the correct place to put it</td><td class="time"><a href="#t2022-04-29T15:51:14" class="time">15:51</a></td></tr>
<tr id="t2022-04-29T15:51:51"><th class="nick" style="background: #b86161">jonmason</th><td class="text" style="color: #b86161">RP: yes, I'll do a follow on with better testing this time</td><td class="time"><a href="#t2022-04-29T15:51:51" class="time">15:51</a></td></tr>
<tr id="t2022-04-29T15:52:15"><th class="nick" style="background: #5fb4b4">zeddii</th><td class="text" style="color: #5fb4b4">yah. I can always drop it in, but I'm not set up to test it easily, my poor builder is chugging on strace right now.</td><td class="time"><a href="#t2022-04-29T15:52:15" class="time">15:52</a></td></tr>
<tr id="t2022-04-29T15:53:09"><th class="nick" style="background: #b86161">jonmason</th><td class="text" style="color: #b86161">I've expanded my setup recently and I'm actually testing all the various kernels</td><td class="time"><a href="#t2022-04-29T15:53:09" class="time">15:53</a></td></tr>
<tr id="t2022-04-29T15:53:23"><th class="nick" style="background: #b86161">jonmason</th><td class="text" style="color: #b86161">just wasn't doing graphics/sato</td><td class="time"><a href="#t2022-04-29T15:53:23" class="time">15:53</a></td></tr>
<tr id="t2022-04-29T15:53:47"><th class="nick" style="background: #b86161">jonmason</th><td class="text" style="color: #b86161">which blows up on other stuff, like beaglebone-yocto and generic-x86</td><td class="time"><a href="#t2022-04-29T15:53:47" class="time">15:53</a></td></tr>
<tr id="t2022-04-29T16:02:41"><th class="nick" style="background: #5fb4b4">zeddii</th><td class="text" style="color: #5fb4b4">I'll update the fragments here, my 2nd builder is quite slow, so it'll be a bit before I can do a test, but it can sit with me and I'll sned a patch that goes on top of the series I sent yesterday</td><td class="time"><a href="#t2022-04-29T16:02:41" class="time">16:02</a></td></tr>
<tr id="t2022-04-29T16:02:52"><th class="nick" style="background: #b15db1">RP</th><td class="text" style="color: #b15db1">zeddii, jonmason: confirmed we just need the CONFIG_PCI_HOST_COMMON, CONFIG_PCI_HOST_GENERIC</td><td class="time"><a href="#t2022-04-29T16:02:52" class="time">16:02</a></td></tr>
<tr id="t2022-04-29T16:06:38"><th class="nick" style="background: #5fb4b4">zeddii</th><td class="text" style="color: #5fb4b4">ack'd. making the change now.</td><td class="time"><a href="#t2022-04-29T16:06:38" class="time">16:06</a></td></tr>
<tr id="t2022-04-29T16:06:58"><th class="nick" style="background: #6464bf">lrusak[m]</th><td class="text" style="color: #6464bf">shoragan: yep Iâm aware, I would have just liked to separate the steps for our CI</td><td class="time"><a href="#t2022-04-29T16:06:58" class="time">16:06</a></td></tr>
<tr id="t2022-04-29T16:09:14"><th class="nick" style="background: #b15db1">RP</th><td class="text" style="color: #b15db1">lrusak[m]: IMAGE_FSTYPE:pn-&lt;recipe&gt; would probably work</td><td class="time"><a href="#t2022-04-29T16:09:14" class="time">16:09</a></td></tr>
<tr id="t2022-04-29T16:11:18"><th class="nick" style="background: #b15db1">RP</th><td class="text" style="color: #b15db1">jonmason: I also confirmed CONFIG_DRM_VKMS=y alone is not enough to get virtio graphics working</td><td class="time"><a href="#t2022-04-29T16:11:18" class="time">16:11</a></td></tr>
<tr id="t2022-04-29T16:24:23"><td class="nickchange" colspan="2">*** mckoan is now known as mckoan|away</td><td><a href="#t2022-04-29T16:24:23" class="time">16:24</a></td></tr>
<tr id="t2022-04-29T16:31:28"><th class="nick" style="background: #b86161">jonmason</th><td class="text" style="color: #b86161">RP: that's for the fbdev issue</td><td class="time"><a href="#t2022-04-29T16:31:28" class="time">16:31</a></td></tr>
<tr id="t2022-04-29T16:32:10"><th class="nick" style="background: #b86161">jonmason</th><td class="text" style="color: #b86161">I'll work off of master next and get it working</td><td class="time"><a href="#t2022-04-29T16:32:10" class="time">16:32</a></td></tr>
<tr id="t2022-04-29T16:32:17"><th class="nick" style="background: #b15db1">RP</th><td class="text" style="color: #b15db1">jonmason: ah, ok.</td><td class="time"><a href="#t2022-04-29T16:32:17" class="time">16:32</a></td></tr>
<tr id="t2022-04-29T17:29:13"><th class="nick" style="background: #b86161">jonmason</th><td class="text" style="color: #b86161">RP: i think you need to drop e2d8c1dfbef93b1305cac58f43562ccff730df0d (qemuarm: use virtio device interface for graphics) from master-next</td><td class="time"><a href="#t2022-04-29T17:29:13" class="time">17:29</a></td></tr>
<tr id="t2022-04-29T17:29:26"><th class="nick" style="background: #b86161">jonmason</th><td class="text" style="color: #b86161">that was causing problems for me for the past few weeks</td><td class="time"><a href="#t2022-04-29T17:29:26" class="time">17:29</a></td></tr>
<tr id="t2022-04-29T17:31:25"><th class="nick" style="background: #b86161">jonmason</th><td class="text" style="color: #b86161">(from oe-core master-next)</td><td class="time"><a href="#t2022-04-29T17:31:25" class="time">17:31</a></td></tr>
<tr id="t2022-04-29T18:06:56"><th class="nick" style="background: #b15db1">RP</th><td class="text" style="color: #b15db1">jonmason: I plan to, yes. Was just there in case it helped</td><td class="time"><a href="#t2022-04-29T18:06:56" class="time">18:06</a></td></tr>
<tr id="t2022-04-29T18:07:24"><th class="nick" style="background: #b15db1">RP</th><td class="text" style="color: #b15db1">jonmason: dropped :)</td><td class="time"><a href="#t2022-04-29T18:07:24" class="time">18:07</a></td></tr>
<tr id="t2022-04-29T18:07:54"><th class="nick" style="background: #b86161">jonmason</th><td class="text" style="color: #b86161">no, it makes things worse</td><td class="time"><a href="#t2022-04-29T18:07:54" class="time">18:07</a></td></tr>
<tr id="t2022-04-29T18:08:29"><th class="nick" style="background: #b15db1">RP</th><td class="text" style="color: #b15db1">jonmason: I did test the PCI change without that FWIW</td><td class="time"><a href="#t2022-04-29T18:08:29" class="time">18:08</a></td></tr>
<tr id="t2022-04-29T18:09:04"><th class="nick" style="background: #b86161">jonmason</th><td class="text" style="color: #b86161">a few weeks ago, i was messing with it and the graphics device was never found unless it was pci</td><td class="time"><a href="#t2022-04-29T18:09:04" class="time">18:09</a></td></tr>
<tr id="t2022-04-29T18:09:18"><th class="nick" style="background: #b86161">jonmason</th><td class="text" style="color: #b86161">never caught it because I wasn't doing sato</td><td class="time"><a href="#t2022-04-29T18:09:18" class="time">18:09</a></td></tr>
<tr id="t2022-04-29T18:10:41"><th class="nick" style="background: #b15db1">RP</th><td class="text" style="color: #b15db1">jonmason: Glad you can reproduce it now at least :)</td><td class="time"><a href="#t2022-04-29T18:10:41" class="time">18:10</a></td></tr>
<tr id="t2022-04-29T18:11:35"><th class="nick" style="background: #b86161">jonmason</th><td class="text" style="color: #b86161">right now, I'm only needing &quot;qemuarmv5: use arm-versatile-926ejs KMACHINE and add more virtio devices&quot; patch and normal kernel is working for qemuarm, qemuarmv5, and qemuarm64</td><td class="time"><a href="#t2022-04-29T18:11:35" class="time">18:11</a></td></tr>
<tr id="t2022-04-29T18:12:29"><th class="nick" style="background: #b15db1">RP</th><td class="text" style="color: #b15db1">jonmason: sounds good. I did just drop that one again too as I thought it might have the same graphics issue</td><td class="time"><a href="#t2022-04-29T18:12:29" class="time">18:12</a></td></tr>
<tr id="t2022-04-29T18:13:22"><th class="nick" style="background: #b86161">jonmason</th><td class="text" style="color: #b86161">the dev-kernel is expected to work, right?</td><td class="time"><a href="#t2022-04-29T18:13:22" class="time">18:13</a></td></tr>
<tr id="t2022-04-29T18:17:55"><th class="nick" style="background: #b15db1">RP</th><td class="text" style="color: #b15db1">jonmason: I'd think so but we don't test on the autobuilder</td><td class="time"><a href="#t2022-04-29T18:17:55" class="time">18:17</a></td></tr>
<tr id="t2022-04-29T18:25:07"><th class="nick" style="background: #b86161">jonmason</th><td class="text" style="color: #b86161">it wasn't for some of the machines, and just wondering if it was my changes or not</td><td class="time"><a href="#t2022-04-29T18:25:07" class="time">18:25</a></td></tr>
<tr id="t2022-04-29T19:05:06"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">Does anyone know of a bitbake command to clean all recipes that are in a image ?</td><td class="time"><a href="#t2022-04-29T19:05:06" class="time">19:05</a></td></tr>
<tr id="t2022-04-29T19:06:04"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">I tried</td><td class="time"><a href="#t2022-04-29T19:06:04" class="time">19:06</a></td></tr>
<tr id="t2022-04-29T19:06:04-2"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">bitbake -g IMAGE_NAME &amp;&amp; cat task-depends.dot | grep -v -e '-native' | grep -v digraph | grep -v -e '-image' | awk '{print $1}' | sed &quot;s|\.do_*.*$||g&quot; | sed &quot;s/*}/:/g&quot; | sed &quot;s/.*://&quot; | sed &quot;s|\&quot;||g&quot;| sort | uniq</td><td class="time"><a href="#t2022-04-29T19:06:04-2" class="time">19:06</a></td></tr>
<tr id="t2022-04-29T19:06:41"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">it does not remove the &quot;everything&quot; before }</td><td class="time"><a href="#t2022-04-29T19:06:41" class="time">19:06</a></td></tr>
<tr id="t2022-04-29T19:24:06"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">export t=$(bitbake -g MY_IMAGE &amp;&amp; cat task-depends.dot | grep -v -e '-native' | grep -v digraph | grep -v -e '-image' | awk '{print $1}' | sed &quot;s|\.do_*.*$||g&quot; | uniq | sort | sed &quot;s|\&quot;||g&quot; )</td><td class="time"><a href="#t2022-04-29T19:24:06" class="time">19:24</a></td></tr>
<tr id="t2022-04-29T19:24:06-2"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">bitbake -c clean $(echo $t | sed &quot;s/.*}//g&quot;)</td><td class="time"><a href="#t2022-04-29T19:24:06-2" class="time">19:24</a></td></tr>
<tr id="t2022-04-29T19:24:14"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">there we bo</td><td class="time"><a href="#t2022-04-29T19:24:14" class="time">19:24</a></td></tr>
<tr id="t2022-04-29T19:24:16"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">go *</td><td class="time"><a href="#t2022-04-29T19:24:16" class="time">19:24</a></td></tr>
<tr id="t2022-04-29T19:31:24"><th class="nick" style="background: #6acaca">rfs613</th><td class="text" style="color: #6acaca">m_jimmer12345: might be simpler to just delete tmp directory?</td><td class="time"><a href="#t2022-04-29T19:31:24" class="time">19:31</a></td></tr>
<tr id="t2022-04-29T19:31:46"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">No because there is so many other things to consider\</td><td class="time"><a href="#t2022-04-29T19:31:46" class="time">19:31</a></td></tr>
<tr id="t2022-04-29T19:32:01"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">My deploy and sstate and stamps are not in the tmp</td><td class="time"><a href="#t2022-04-29T19:32:01" class="time">19:32</a></td></tr>
<tr id="t2022-04-29T19:32:11"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">this the kinda the issue</td><td class="time"><a href="#t2022-04-29T19:32:11" class="time">19:32</a></td></tr>
<tr id="t2022-04-29T19:32:19"><th class="nick" style="background: #6acaca">rfs613</th><td class="text" style="color: #6acaca">afaik do_clean will not clean sstate, and it also doesn't clean downloads</td><td class="time"><a href="#t2022-04-29T19:32:19" class="time">19:32</a></td></tr>
<tr id="t2022-04-29T19:32:36"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">If they where It would kill alll 20+ machines in the cache or dep;loy ect</td><td class="time"><a href="#t2022-04-29T19:32:36" class="time">19:32</a></td></tr>
<tr id="t2022-04-29T19:32:45"><th class="nick" style="background: #6acaca">rfs613</th><td class="text" style="color: #6acaca">there is do_cleansstate though</td><td class="time"><a href="#t2022-04-29T19:32:45" class="time">19:32</a></td></tr>
<tr id="t2022-04-29T19:32:53"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">yeah that is do_cleanall right ? \</td><td class="time"><a href="#t2022-04-29T19:32:53" class="time">19:32</a></td></tr>
<tr id="t2022-04-29T19:33:15"><th class="nick" style="background: #6acaca">rfs613</th><td class="text" style="color: #6acaca">cleanall should do it yeah</td><td class="time"><a href="#t2022-04-29T19:33:15" class="time">19:33</a></td></tr>
<tr id="t2022-04-29T19:33:25"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">we really just want to run do_clean becuase there are license isssues</td><td class="time"><a href="#t2022-04-29T19:33:25" class="time">19:33</a></td></tr>
<tr id="t2022-04-29T19:33:37"><th class="nick" style="background: #6acaca">rfs613</th><td class="text" style="color: #6acaca">still doesn't clean downloads, in case you want to check you can still fetch sources</td><td class="time"><a href="#t2022-04-29T19:33:37" class="time">19:33</a></td></tr>
<tr id="t2022-04-29T19:34:04"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">example</td><td class="time"><a href="#t2022-04-29T19:34:04" class="time">19:34</a></td></tr>
<tr id="t2022-04-29T19:34:06"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">ERROR: packagegroup-core-boot-1.0-r17 do_populate_lic: The recipe packagegroup-core-boot is trying to install files into a shared area when those files already exist. Those files and their manifest location are:</td><td class="time"><a href="#t2022-04-29T19:34:06" class="time">19:34</a></td></tr>
<tr id="t2022-04-29T19:35:06"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">exampleÂ  build fails once then I run again ^^</td><td class="time"><a href="#t2022-04-29T19:35:06" class="time">19:35</a></td></tr>
<tr id="t2022-04-29T19:35:39"><th class="nick" style="background: #6acaca">rfs613</th><td class="text" style="color: #6acaca">m_jimmer12345: that's above my pay grade :P</td><td class="time"><a href="#t2022-04-29T19:35:39" class="time">19:35</a></td></tr>
<tr id="t2022-04-29T19:35:43"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">DEPLOY_DIR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= &quot;/srv/XXX-oe/deploy/${XXX_XXX_XXX}/${XX_XXX}/${MACHINE}&quot;</td><td class="time"><a href="#t2022-04-29T19:35:43" class="time">19:35</a></td></tr>
<tr id="t2022-04-29T19:35:43-2"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">DEPLOY_DIR_IMAGE&nbsp;&nbsp;= &quot;${DEPLOY_DIR}/image&quot;</td><td class="time"><a href="#t2022-04-29T19:35:43-2" class="time">19:35</a></td></tr>
<tr id="t2022-04-29T19:35:44"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">LICENSE_DIRECTORY = &quot;${DEPLOY_DIR}/license&quot;</td><td class="time"><a href="#t2022-04-29T19:35:44" class="time">19:35</a></td></tr>
<tr id="t2022-04-29T19:35:44-2"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">DEPLOY_DIR_DEB&nbsp;&nbsp;&nbsp;&nbsp;= &quot;${DEPLOY_DIR}/deb&quot;</td><td class="time"><a href="#t2022-04-29T19:35:44-2" class="time">19:35</a></td></tr>
<tr id="t2022-04-29T19:35:45"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">DEPLOY_DIR_IPK&nbsp;&nbsp;&nbsp;&nbsp;= &quot;${DEPLOY_DIR}/ipk&quot;</td><td class="time"><a href="#t2022-04-29T19:35:45" class="time">19:35</a></td></tr>
<tr id="t2022-04-29T19:35:45-2"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">DEPLOY_DIR_RPM&nbsp;&nbsp;&nbsp;&nbsp;= &quot;${DEPLOY_DIR}/rpm&quot;</td><td class="time"><a href="#t2022-04-29T19:35:45-2" class="time">19:35</a></td></tr>
<tr id="t2022-04-29T19:35:52"><th class="nick" style="background: #ce6c6c">neverpanic</th><td class="text" style="color: #ce6c6c">you should be able to get rid of this by wiping tmp, unless they are systematic issues, in which case they will happen again on the next build.</td><td class="time"><a href="#t2022-04-29T19:35:52" class="time">19:35</a></td></tr>
<tr id="t2022-04-29T19:37:02"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">right so the fact that DEPLOY_DIR is nto in tmpÂ  and if I</td><td class="time"><a href="#t2022-04-29T19:37:02" class="time">19:37</a></td></tr>
<tr id="t2022-04-29T19:37:03"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">ls /srv/XXX-oe/</td><td class="time"><a href="#t2022-04-29T19:37:03" class="time">19:37</a></td></tr>
<tr id="t2022-04-29T19:37:03-2"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">deploy&nbsp;&nbsp;downloads&nbsp;&nbsp;sstate-cache&nbsp;&nbsp;stamp</td><td class="time"><a href="#t2022-04-29T19:37:03-2" class="time">19:37</a></td></tr>
<tr id="t2022-04-29T19:37:30"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">build dir and tmp dir's(mc) are in like /home/whatever/somebuild</td><td class="time"><a href="#t2022-04-29T19:37:30" class="time">19:37</a></td></tr>
<tr id="t2022-04-29T19:39:04"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">if I remove tmp sstate and stamps(this really) freaks out. But If I remove stamps .....</td><td class="time"><a href="#t2022-04-29T19:39:04" class="time">19:39</a></td></tr>
<tr id="t2022-04-29T19:40:13"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">if I remove the license dir that it is saying I am installing to something that is alreay there. I have to rebuild the bsp(kernel, uboot/redboot at91bootstrap loader) layers (clean -&gt; build) and the image will make it</td><td class="time"><a href="#t2022-04-29T19:40:13" class="time">19:40</a></td></tr>
<tr id="t2022-04-29T19:41:00"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">so I figure if I loop each of the deps of the image and tell it to clean the thing. Will that clean the /deploy/license dir ?</td><td class="time"><a href="#t2022-04-29T19:41:00" class="time">19:41</a></td></tr>
<tr id="t2022-04-29T19:41:08"><th class="nick" style="background: #ce6c6c">neverpanic</th><td class="text" style="color: #ce6c6c">Your setup it weird. Sounds a lot like self-inflicted damage to me.</td><td class="time"><a href="#t2022-04-29T19:41:08" class="time">19:41</a></td></tr>
<tr id="t2022-04-29T19:41:25"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">Setup is here. its public</td><td class="time"><a href="#t2022-04-29T19:41:25" class="time">19:41</a></td></tr>
<tr id="t2022-04-29T19:41:53"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6"><a href="http://git.emacinc.com/OE/emac-oe/-/blob/dunfell-next/.gitlab-ci.yml" rel="nofollow">http://git.emacinc.com/OE/emac-oe/-/blob/dunfell-next/.gitlab-ci.yml</a></td><td class="time"><a href="#t2022-04-29T19:41:53" class="time">19:41</a></td></tr>
<tr id="t2022-04-29T19:42:40"><th class="nick" style="background: #ce6c6c">neverpanic</th><td class="text" style="color: #ce6c6c">Just set DEPLOY_DIR = &quot;${TMPDIR}/deploy&quot; for now while keeping SSTATE_DIR and DL_DIR and build again and it should pass.</td><td class="time"><a href="#t2022-04-29T19:42:40" class="time">19:42</a></td></tr>
<tr id="t2022-04-29T19:43:08"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">what is the advantage of having the deploy there ?</td><td class="time"><a href="#t2022-04-29T19:43:08" class="time">19:43</a></td></tr>
<tr id="t2022-04-29T19:43:32"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">it will not do the license deal ?</td><td class="time"><a href="#t2022-04-29T19:43:32" class="time">19:43</a></td></tr>
<tr id="t2022-04-29T19:48:23"><th class="nick" style="background: #ce6c6c">neverpanic</th><td class="text" style="color: #ce6c6c">the error message is triggered in sstate.bbclass in sstate_install. Because it happens in do_populate_lic it's clear that it happens when restoring the license.bbclass sstate cache, which according to <a href="https://git.yoctoproject.org/poky/tree/meta/classes/license.bbclass#n411" rel="nofollow">https://git.yoctoproject.org/poky/tree/meta/classes/license.bbclass#n411</a> deploys from ${LICSSTATEDIR} to ${LICENSE_DIRECTORY}</td><td class="time"><a href="#t2022-04-29T19:48:23" class="time">19:48</a></td></tr>
<tr id="t2022-04-29T19:48:39"><th class="nick" style="background: #ce6c6c">neverpanic</th><td class="text" style="color: #ce6c6c">LICENSE_DIRECTORY is &quot;${DEPLOY_DIR}/licenses&quot;</td><td class="time"><a href="#t2022-04-29T19:48:39" class="time">19:48</a></td></tr>
<tr id="t2022-04-29T19:49:12"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">Ok thanks for looking into that</td><td class="time"><a href="#t2022-04-29T19:49:12" class="time">19:49</a></td></tr>
<tr id="t2022-04-29T19:49:25"><th class="nick" style="background: #ce6c6c">neverpanic</th><td class="text" style="color: #ce6c6c">Your DEPLOY_DIR/licenses contains a file that your sstate restore wants to write</td><td class="time"><a href="#t2022-04-29T19:49:25" class="time">19:49</a></td></tr>
<tr id="t2022-04-29T19:49:35"><th class="nick" style="background: #ce6c6c">neverpanic</th><td class="text" style="color: #ce6c6c">Hence, if you start with an empty DEPLOY_DIR, this can't happen.</td><td class="time"><a href="#t2022-04-29T19:49:35" class="time">19:49</a></td></tr>
<tr id="t2022-04-29T19:49:48"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">but I would figure that the sstate would know that it already did such a task</td><td class="time"><a href="#t2022-04-29T19:49:48" class="time">19:49</a></td></tr>
<tr id="t2022-04-29T19:49:57"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">or that stamps would. Is this not true ?</td><td class="time"><a href="#t2022-04-29T19:49:57" class="time">19:49</a></td></tr>
<tr id="t2022-04-29T19:50:36"><th class="nick" style="background: #ce6c6c">neverpanic</th><td class="text" style="color: #ce6c6c">Apparently it decided that the task needs re-running for packagegroup-core-boot. Figuring out why is a longer journey.</td><td class="time"><a href="#t2022-04-29T19:50:36" class="time">19:50</a></td></tr>
<tr id="t2022-04-29T19:51:04"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">yeah I kinda went down that rabbit hole the other night.</td><td class="time"><a href="#t2022-04-29T19:51:04" class="time">19:51</a></td></tr>
<tr id="t2022-04-29T19:52:36"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">neverpanicÂ  thanks for all your nice words and help.Â  I have changed everything back tpo tmp.Â  But will this kill my other builds sstate ?</td><td class="time"><a href="#t2022-04-29T19:52:36" class="time">19:52</a></td></tr>
<tr id="t2022-04-29T19:53:24"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">like if my other (12) boards have the sstate and it thinks that the deploy dir is .... and that the package groups are located X would that not break the cache ?</td><td class="time"><a href="#t2022-04-29T19:53:24" class="time">19:53</a></td></tr>
<tr id="t2022-04-29T19:54:05"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">sorry for all the questions just really dont want to lose that cache unless I do it over the weekend on the ci/cd. I am sure that you understand why</td><td class="time"><a href="#t2022-04-29T19:54:05" class="time">19:54</a></td></tr>
<tr id="t2022-04-29T19:56:08"><th class="nick" style="background: #ce6c6c">neverpanic</th><td class="text" style="color: #ce6c6c">sstate is independent of tmp, why would it will your sstate?</td><td class="time"><a href="#t2022-04-29T19:56:08" class="time">19:56</a></td></tr>
<tr id="t2022-04-29T19:57:09"><th class="nick" style="background: #ce6c6c">neverpanic</th><td class="text" style="color: #ce6c6c">I don't think the path of DEPLOY_DIR should affect sstate â if the value of $DEPLOY_DIR ends up in the contents of your sstate cache, wouldn't that be a bug anyway?</td><td class="time"><a href="#t2022-04-29T19:57:09" class="time">19:57</a></td></tr>
<tr id="t2022-04-29T20:00:38"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">I did not know if sstate was or was not. I just figured that it used the packages(in deploy dir) to set the scene</td><td class="time"><a href="#t2022-04-29T20:00:38" class="time">20:00</a></td></tr>
<tr id="t2022-04-29T20:01:21"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">but I guess you are saying it does not. Ill give it a test run</td><td class="time"><a href="#t2022-04-29T20:01:21" class="time">20:01</a></td></tr>
<tr id="t2022-04-29T20:06:06"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">does stamps dir want to know where the deploy if ?Â  Should that also be in tmp. We have a large number of devices that are the same really minus the bsp layers as I am sure you all do as well</td><td class="time"><a href="#t2022-04-29T20:06:06" class="time">20:06</a></td></tr>
<tr id="t2022-04-29T20:06:23"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">deploy is*</td><td class="time"><a href="#t2022-04-29T20:06:23" class="time">20:06</a></td></tr>
<tr id="t2022-04-29T20:18:53"><th class="nick" style="background: #6ed16e">turkeykittin</th><td class="text" style="color: #6ed16e">In an attempt to upgrade cmake in my yocto, I found a poor mans way of forcing cmake 3.16.5 to cmake 3.18.2 by changing the cmake bb file versions (and checksums). Seems like everything rebuilt fine (albeit with some warnings) but my populated SDK (after install) still maintains cmake 3.16.5. Do I have to manually wipe and rebuild the whole SDK</td><td class="time"><a href="#t2022-04-29T20:18:53" class="time">20:18</a></td></tr>
<tr id="t2022-04-29T20:18:53-2"><th class="nick" style="background: #6ed16e">turkeykittin</th><td class="text" style="color: #6ed16e">after changing this?</td><td class="time"><a href="#t2022-04-29T20:18:53-2" class="time">20:18</a></td></tr>
<tr id="t2022-04-29T20:22:25"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">PREFERRED_VERSION_cmake = &quot;VERSION&quot;</td><td class="time"><a href="#t2022-04-29T20:22:25" class="time">20:22</a></td></tr>
<tr id="t2022-04-29T20:22:37"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">I think that is what you are after</td><td class="time"><a href="#t2022-04-29T20:22:37" class="time">20:22</a></td></tr>
<tr id="t2022-04-29T20:22:59"><th class="nick" style="background: #6ed16e">turkeykittin</th><td class="text" style="color: #6ed16e">where would I include PREFERRED_VERSION_cmake?</td><td class="time"><a href="#t2022-04-29T20:22:59" class="time">20:22</a></td></tr>
<tr id="t2022-04-29T20:23:01"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">save for native sdk</td><td class="time"><a href="#t2022-04-29T20:23:01" class="time">20:23</a></td></tr>
<tr id="t2022-04-29T20:23:28"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">I put mine in the distro but you can add to local.conf</td><td class="time"><a href="#t2022-04-29T20:23:28" class="time">20:23</a></td></tr>
<tr id="t2022-04-29T20:23:38"><th class="nick" style="background: #6ed16e">turkeykittin</th><td class="text" style="color: #6ed16e">Alrighty, thank you! I'll try this out</td><td class="time"><a href="#t2022-04-29T20:23:38" class="time">20:23</a></td></tr>
<tr id="t2022-04-29T20:24:53"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">make sure yo do the same for native as well</td><td class="time"><a href="#t2022-04-29T20:24:53" class="time">20:24</a></td></tr>
<tr id="t2022-04-29T20:25:11"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">you *</td><td class="time"><a href="#t2022-04-29T20:25:11" class="time">20:25</a></td></tr>
<tr id="t2022-04-29T20:25:32"><th class="nick" style="background: #6ed16e">turkeykittin</th><td class="text" style="color: #6ed16e">would the hyphen convert to underscore? i.e. PREFERRED_VERSION_cmake_native</td><td class="time"><a href="#t2022-04-29T20:25:32" class="time">20:25</a></td></tr>
<tr id="t2022-04-29T20:25:40"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">* nativesdk-cmake</td><td class="time"><a href="#t2022-04-29T20:25:40" class="time">20:25</a></td></tr>
<tr id="t2022-04-29T20:25:45"><th class="nick" style="background: #6ed16e">turkeykittin</th><td class="text" style="color: #6ed16e">ah thanks</td><td class="time"><a href="#t2022-04-29T20:25:45" class="time">20:25</a></td></tr>
<tr id="t2022-04-29T20:25:55"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">depends on your version of poky or oe</td><td class="time"><a href="#t2022-04-29T20:25:55" class="time">20:25</a></td></tr>
<tr id="t2022-04-29T20:26:03"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">and no its not like that</td><td class="time"><a href="#t2022-04-29T20:26:03" class="time">20:26</a></td></tr>
<tr id="t2022-04-29T20:26:09"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">very very confusing</td><td class="time"><a href="#t2022-04-29T20:26:09" class="time">20:26</a></td></tr>
<tr id="t2022-04-29T20:26:13"><th class="nick" style="background: #6ed16e">turkeykittin</th><td class="text" style="color: #6ed16e">where would you find the used notation?</td><td class="time"><a href="#t2022-04-29T20:26:13" class="time">20:26</a></td></tr>
<tr id="t2022-04-29T20:27:00"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">Example all things like :append and file: but not theÂ  PREFERRED_VERSION orÂ  PREFERRED_PROVIDER</td><td class="time"><a href="#t2022-04-29T20:27:00" class="time">20:27</a></td></tr>
<tr id="t2022-04-29T20:28:16"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">PREFERRED_VERSION_nativesdk-cmake = &quot;whtaever&quot;</td><td class="time"><a href="#t2022-04-29T20:28:16" class="time">20:28</a></td></tr>
<tr id="t2022-04-29T20:28:37"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">not</td><td class="time"><a href="#t2022-04-29T20:28:37" class="time">20:28</a></td></tr>
<tr id="t2022-04-29T20:28:37-2"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">PREFERRED_VERSION:nativesdk-cmake</td><td class="time"><a href="#t2022-04-29T20:28:37-2" class="time">20:28</a></td></tr>
<tr id="t2022-04-29T20:29:45"><th class="nick" style="background: #6ed16e">turkeykittin</th><td class="text" style="color: #6ed16e">got it, thank you! What indicates that it should be &quot;nativesdk-cmake&quot; as opposed to what I have in my current yocto/poky configuration as &quot;cmake-native_3.16.5&quot;? Is it just something that changed over versions? (I'm a bit behind, still on Dunfell)</td><td class="time"><a href="#t2022-04-29T20:29:45" class="time">20:29</a></td></tr>
<tr id="t2022-04-29T20:29:57"><th class="nick" style="background: #6ed16e">turkeykittin</th><td class="text" style="color: #6ed16e">(obviously ignoring version)</td><td class="time"><a href="#t2022-04-29T20:29:57" class="time">20:29</a></td></tr>
<tr id="t2022-04-29T20:30:13"><th class="nick" style="background: #6ed16e">turkeykittin</th><td class="text" style="color: #6ed16e">specifically nativesdk-cmake vs cmake-native</td><td class="time"><a href="#t2022-04-29T20:30:13" class="time">20:30</a></td></tr>
<tr id="t2022-04-29T20:33:14"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">native is your host native-sdk could mean cross compiled for say things like qt or cmake or your toolchain</td><td class="time"><a href="#t2022-04-29T20:33:14" class="time">20:33</a></td></tr>
<tr id="t2022-04-29T20:35:55"><th class="nick" style="background: #6ed16e">turkeykittin</th><td class="text" style="color: #6ed16e">ah I see it now, I had assumed it was a version difference but yeah I see it in my current version, a higher level dependency</td><td class="time"><a href="#t2022-04-29T20:35:55" class="time">20:35</a></td></tr>
<tr id="t2022-04-29T20:37:38"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">neverpanic same error:(</td><td class="time"><a href="#t2022-04-29T20:37:38" class="time">20:37</a></td></tr>
<tr id="t2022-04-29T20:41:43"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">LICSSTATEDIR seems to be read only:(</td><td class="time"><a href="#t2022-04-29T20:41:43" class="time">20:41</a></td></tr>
<tr id="t2022-04-29T20:45:10"><th class="nick" style="background: #ce6c6c">neverpanic</th><td class="text" style="color: #ce6c6c">m_jimmer12345: sounds like you have two sstate tasks that attempt to setscene the same file</td><td class="time"><a href="#t2022-04-29T20:45:10" class="time">20:45</a></td></tr>
<tr id="t2022-04-29T20:45:37"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">maybe Ill look</td><td class="time"><a href="#t2022-04-29T20:45:37" class="time">20:45</a></td></tr>
<tr id="t2022-04-29T20:50:03"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">I think we found it .....</td><td class="time"><a href="#t2022-04-29T20:50:03" class="time">20:50</a></td></tr>
<tr id="t2022-04-29T20:50:08"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">legacy stuff</td><td class="time"><a href="#t2022-04-29T20:50:08" class="time">20:50</a></td></tr>
<tr id="t2022-04-29T20:55:27"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">false alarm no extra calls to sstate or anything:(</td><td class="time"><a href="#t2022-04-29T20:55:27" class="time">20:55</a></td></tr>
<tr id="t2022-04-29T20:56:00"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">I am thinking that LICSSTATEDIR is show getting currrupted</td><td class="time"><a href="#t2022-04-29T20:56:00" class="time">20:56</a></td></tr>
<tr id="t2022-04-29T21:01:41"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">Ok so from sstate.bb I see that we have a hardcoded value of</td><td class="time"><a href="#t2022-04-29T21:01:41" class="time">21:01</a></td></tr>
<tr id="t2022-04-29T21:01:42"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">SSTATE_DUPWHITELIST = &quot;${DEPLOY_DIR}/licenses/&quot;</td><td class="time"><a href="#t2022-04-29T21:01:42" class="time">21:01</a></td></tr>
<tr id="t2022-04-29T21:01:42-2"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">but my license is</td><td class="time"><a href="#t2022-04-29T21:01:42-2" class="time">21:01</a></td></tr>
<tr id="t2022-04-29T21:01:43"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">LICENSE_DIRECTORY = &quot;${DEPLOY_DIR}/license&quot;</td><td class="time"><a href="#t2022-04-29T21:01:43" class="time">21:01</a></td></tr>
<tr id="t2022-04-29T21:03:17"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">license vs licensesÂ  Â dunfell for what it is worth</td><td class="time"><a href="#t2022-04-29T21:03:17" class="time">21:03</a></td></tr>
<tr id="t2022-04-29T21:03:53"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">maybe should just beÂ  Â  SSTATE_DUPWHITELIST ?= &quot;${LICENSE_DIRECTORY}&quot;</td><td class="time"><a href="#t2022-04-29T21:03:53" class="time">21:03</a></td></tr>
<tr id="t2022-04-29T21:04:13"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">that way we can overwrite if need be ?</td><td class="time"><a href="#t2022-04-29T21:04:13" class="time">21:04</a></td></tr>
<tr id="t2022-04-29T21:05:14"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6"><a href="https://git.yoctoproject.org/poky/tree/meta/classes/sstate.bbclass?h=dunfell#n51" rel="nofollow">https://git.yoctoproject.org/poky/tree/meta/classes/sstate.bbclass?h=dunfell#n51</a></td><td class="time"><a href="#t2022-04-29T21:05:14" class="time">21:05</a></td></tr>
<tr id="t2022-04-29T21:57:25"><th class="nick" style="background: #6ed16e">turkeykittin</th><td class="text" style="color: #6ed16e">So ever since I made the cmake change with preferred cmake (as well as added TOOLCHAIN_HOST_TASK += &quot;nativesdk-cmake&quot; to my conf), Ive encountered an issue when installing the sdk</td><td class="time"><a href="#t2022-04-29T21:57:25" class="time">21:57</a></td></tr>
<tr id="t2022-04-29T21:57:50"><th class="nick" style="background: #6ed16e">turkeykittin</th><td class="text" style="color: #6ed16e">the SDK extracts fine but hangs trying to set up the environment: &quot;Setting it up...ls: cannot access '/opt/fslc-xwayland/3.1/environment-setup-*': No such file or directory&quot;</td><td class="time"><a href="#t2022-04-29T21:57:50" class="time">21:57</a></td></tr>
<tr id="t2022-04-29T21:58:26"><th class="nick" style="background: #6ed16e">turkeykittin</th><td class="text" style="color: #6ed16e">I don't know why suddenly it would no longer generate an environment setup script?</td><td class="time"><a href="#t2022-04-29T21:58:26" class="time">21:58</a></td></tr>
<tr id="t2022-04-29T21:59:21"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">what was your command is it a meta script or just stright up do_populate-sdk ?</td><td class="time"><a href="#t2022-04-29T21:59:21" class="time">21:59</a></td></tr>
<tr id="t2022-04-29T21:59:59"><th class="nick" style="background: #6ed16e">turkeykittin</th><td class="text" style="color: #6ed16e">just bitbake myimage -c populate_sdk</td><td class="time"><a href="#t2022-04-29T21:59:59" class="time">21:59</a></td></tr>
<tr id="t2022-04-29T22:00:47"><th class="nick" style="background: #6ed16e">turkeykittin</th><td class="text" style="color: #6ed16e">I suppose I could do it for the core (my image is more or less a very slightly modified core) but I dont understand why it worked before and suddenly the change regarding cmake would break it</td><td class="time"><a href="#t2022-04-29T22:00:47" class="time">22:00</a></td></tr>
<tr id="t2022-04-29T22:01:42"><th class="nick" style="background: #6ed16e">turkeykittin</th><td class="text" style="color: #6ed16e">I _did_ delete the /opt/fslc-xwayland/3.1 directory for a fresh install, but I don't believe it existed prior to populating the sdk. My only concern would be that it may have existed and been pulling from it prior. Not sure what other commands I could have used would have generated it though...</td><td class="time"><a href="#t2022-04-29T22:01:42" class="time">22:01</a></td></tr>
<tr id="t2022-04-29T22:01:48"><th class="nick" style="background: #6ed16e">turkeykittin</th><td class="text" style="color: #6ed16e">Havent touched the SDK until today.</td><td class="time"><a href="#t2022-04-29T22:01:48" class="time">22:01</a></td></tr>
<tr id="t2022-04-29T22:02:26"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">Im not sure TBH. Are you doing anything with SDK_DEPLOY_DIR or anything like that ?</td><td class="time"><a href="#t2022-04-29T22:02:26" class="time">22:02</a></td></tr>
<tr id="t2022-04-29T22:02:49"><th class="nick" style="background: #6ed16e">turkeykittin</th><td class="text" style="color: #6ed16e">Nope</td><td class="time"><a href="#t2022-04-29T22:02:49" class="time">22:02</a></td></tr>
<tr id="t2022-04-29T22:02:53"><th class="nick" style="background: #6ed16e">turkeykittin</th><td class="text" style="color: #6ed16e">Just using defaults</td><td class="time"><a href="#t2022-04-29T22:02:53" class="time">22:02</a></td></tr>
<tr id="t2022-04-29T22:03:02"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">have you tried to re-generate it ?</td><td class="time"><a href="#t2022-04-29T22:03:02" class="time">22:03</a></td></tr>
<tr id="t2022-04-29T22:03:26"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">can you show your local.conf in a paste bin ?</td><td class="time"><a href="#t2022-04-29T22:03:26" class="time">22:03</a></td></tr>
<tr id="t2022-04-29T22:05:04"><th class="nick" style="background: #6ed16e">turkeykittin</th><td class="text" style="color: #6ed16e">Like run bitbake myimage -c populate_sdk after deleting the directory? Or the image itself? I've regenerated the image (without a clean, just a rebuild) in an attempt to fix, but wanted to hold off on regenerating the whole image due to how long it takes on my host :X</td><td class="time"><a href="#t2022-04-29T22:05:04" class="time">22:05</a></td></tr>
<tr id="t2022-04-29T22:05:11"><th class="nick" style="background: #6ed16e">turkeykittin</th><td class="text" style="color: #6ed16e">Yeah I can include that, one second</td><td class="time"><a href="#t2022-04-29T22:05:11" class="time">22:05</a></td></tr>
<tr id="t2022-04-29T22:07:52"><th class="nick" style="background: #6ed16e">turkeykittin</th><td class="text" style="color: #6ed16e"><a href="https://pastebin.com/sYted3SP" rel="nofollow">https://pastebin.com/sYted3SP</a></td><td class="time"><a href="#t2022-04-29T22:07:52" class="time">22:07</a></td></tr>
<tr id="t2022-04-29T22:13:34"><th class="nick" style="background: #6ed16e">turkeykittin</th><td class="text" style="color: #6ed16e">Going to try it without the task...</td><td class="time"><a href="#t2022-04-29T22:13:34" class="time">22:13</a></td></tr>
<tr id="t2022-04-29T22:14:23"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">what version are you on ? dunfell ?</td><td class="time"><a href="#t2022-04-29T22:14:23" class="time">22:14</a></td></tr>
<tr id="t2022-04-29T22:14:29"><th class="nick" style="background: #6ed16e">turkeykittin</th><td class="text" style="color: #6ed16e">Yeah</td><td class="time"><a href="#t2022-04-29T22:14:29" class="time">22:14</a></td></tr>
<tr id="t2022-04-29T22:14:41"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">so can you run the following</td><td class="time"><a href="#t2022-04-29T22:14:41" class="time">22:14</a></td></tr>
<tr id="t2022-04-29T22:15:15"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">bitbake -e IMAGE_NAME | grep ^TOOLCHAIN</td><td class="time"><a href="#t2022-04-29T22:15:15" class="time">22:15</a></td></tr>
<tr id="t2022-04-29T22:15:27"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">please change imagename to your image</td><td class="time"><a href="#t2022-04-29T22:15:27" class="time">22:15</a></td></tr>
<tr id="t2022-04-29T22:17:58"><th class="nick" style="background: #6ed16e">turkeykittin</th><td class="text" style="color: #6ed16e">pc go brrrr trying to do this in parallel with a do_populate_sdk</td><td class="time"><a href="#t2022-04-29T22:17:58" class="time">22:17</a></td></tr>
<tr id="t2022-04-29T22:18:41"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">ahh just wait. You could set your threads in your local.conf pretty sure nproc with out</td><td class="time"><a href="#t2022-04-29T22:18:41" class="time">22:18</a></td></tr>
<tr id="t2022-04-29T22:19:16"><th class="nick" style="background: #6ed16e">turkeykittin</th><td class="text" style="color: #6ed16e">I'm not sure what you mean by set my threads in local.conf?</td><td class="time"><a href="#t2022-04-29T22:19:16" class="time">22:19</a></td></tr>
<tr id="t2022-04-29T22:19:39"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">## Set these when building locally</td><td class="time"><a href="#t2022-04-29T22:19:39" class="time">22:19</a></td></tr>
<tr id="t2022-04-29T22:19:39-2"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">BB_NUMBER_THREADS ?= &quot;X&quot;</td><td class="time"><a href="#t2022-04-29T22:19:39-2" class="time">22:19</a></td></tr>
<tr id="t2022-04-29T22:19:40"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">PARALLEL_MAKE ?= &quot;-j X&quot;</td><td class="time"><a href="#t2022-04-29T22:19:40" class="time">22:19</a></td></tr>
<tr id="t2022-04-29T22:19:40-2"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">Where X is the number's</td><td class="time"><a href="#t2022-04-29T22:19:40-2" class="time">22:19</a></td></tr>
<tr id="t2022-04-29T22:19:52"><th class="nick" style="background: #6ed16e">turkeykittin</th><td class="text" style="color: #6ed16e">oh that's beautiful</td><td class="time"><a href="#t2022-04-29T22:19:52" class="time">22:19</a></td></tr>
<tr id="t2022-04-29T22:20:11"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">I'm pretty sure that it defaults to nproc</td><td class="time"><a href="#t2022-04-29T22:20:11" class="time">22:20</a></td></tr>
<tr id="t2022-04-29T22:20:26"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">but its been a bit sense I looked at that code</td><td class="time"><a href="#t2022-04-29T22:20:26" class="time">22:20</a></td></tr>
<tr id="t2022-04-29T22:20:26-2"><th class="nick" style="background: #6ed16e">turkeykittin</th><td class="text" style="color: #6ed16e">hmmm</td><td class="time"><a href="#t2022-04-29T22:20:26-2" class="time">22:20</a></td></tr>
<tr id="t2022-04-29T22:20:48"><th class="nick" style="background: #6ed16e">turkeykittin</th><td class="text" style="color: #6ed16e">yeah actually I think I recall seeing it already at 8</td><td class="time"><a href="#t2022-04-29T22:20:48" class="time">22:20</a></td></tr>
<tr id="t2022-04-29T22:20:59"><th class="nick" style="background: #6ed16e">turkeykittin</th><td class="text" style="color: #6ed16e">erm actually that may have been just errors from me building with cmake earlier...</td><td class="time"><a href="#t2022-04-29T22:20:59" class="time">22:20</a></td></tr>
<tr id="t2022-04-29T22:21:26"><th class="nick" style="background: #6ed16e">turkeykittin</th><td class="text" style="color: #6ed16e">does bitbake use ninja to build? If not then it was unrelated. Otherwise ninja was for sure using my nproc</td><td class="time"><a href="#t2022-04-29T22:21:26" class="time">22:21</a></td></tr>
<tr id="t2022-04-29T22:21:47"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">depends</td><td class="time"><a href="#t2022-04-29T22:21:47" class="time">22:21</a></td></tr>
<tr id="t2022-04-29T22:24:20"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">see generator at <a href="https://git.yoctoproject.org/poky/tree/meta/classes/cmake.bbclass?h=kirkstone#n17" rel="nofollow">https://git.yoctoproject.org/poky/tree/meta/classes/cmake.bbclass?h=kirkstone#n17</a></td><td class="time"><a href="#t2022-04-29T22:24:20" class="time">22:24</a></td></tr>
<tr id="t2022-04-29T22:24:50"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">so OECMAKE_GENERATOR=&quot;Ninja&quot;</td><td class="time"><a href="#t2022-04-29T22:24:50" class="time">22:24</a></td></tr>
<tr id="t2022-04-29T22:26:05"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">would use ninja but the other is unix make files. Look likes there is not support for Watcom or green hills</td><td class="time"><a href="#t2022-04-29T22:26:05" class="time">22:26</a></td></tr>
<tr id="t2022-04-29T22:26:14"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">maybe i missed it</td><td class="time"><a href="#t2022-04-29T22:26:14" class="time">22:26</a></td></tr>
<tr id="t2022-04-29T22:26:14-2"><th class="nick" style="background: #6ed16e">turkeykittin</th><td class="text" style="color: #6ed16e">Ah good to know! So it's using 8 already then (from memory of seeing ninja -j 8 or something similar in a recent error)</td><td class="time"><a href="#t2022-04-29T22:26:14-2" class="time">22:26</a></td></tr>
<tr id="t2022-04-29T22:28:47"><th class="nick" style="background: #6ed16e">turkeykittin</th><td class="text" style="color: #6ed16e">Interesting, removing the toolchain host task fixed the environment issue</td><td class="time"><a href="#t2022-04-29T22:28:47" class="time">22:28</a></td></tr>
<tr id="t2022-04-29T22:29:11"><th class="nick" style="background: #6ed16e">turkeykittin</th><td class="text" style="color: #6ed16e">YES</td><td class="time"><a href="#t2022-04-29T22:29:11" class="time">22:29</a></td></tr>
<tr id="t2022-04-29T22:29:47"><th class="nick" style="background: #6ed16e">turkeykittin</th><td class="text" style="color: #6ed16e">cmake --version prints out 3.18.2. Greatly appreciated m_jimmer12345</td><td class="time"><a href="#t2022-04-29T22:29:47" class="time">22:29</a></td></tr>
<tr id="t2022-04-29T22:29:56"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">good job !:)</td><td class="time"><a href="#t2022-04-29T22:29:56" class="time">22:29</a></td></tr>
<tr id="t2022-04-29T22:30:10"><th class="nick" style="background: #6ed16e">turkeykittin</th><td class="text" style="color: #6ed16e">The preferred version was a life saver. That was what was missing</td><td class="time"><a href="#t2022-04-29T22:30:10" class="time">22:30</a></td></tr>
<tr id="t2022-04-29T22:30:51"><th class="nick" style="background: #6ed16e">turkeykittin</th><td class="text" style="color: #6ed16e">and then me inserting legacy code that I didnt know would work or not after I realized I had inserted it into bblayers instead of local.conf...</td><td class="time"><a href="#t2022-04-29T22:30:51" class="time">22:30</a></td></tr>
<tr id="t2022-04-29T22:31:07"><th class="nick" style="background: #6ed16e">turkeykittin</th><td class="text" style="color: #6ed16e">Don't try to fix multiple things at once! :X&nbsp;&nbsp;You'll only break it more! haha</td><td class="time"><a href="#t2022-04-29T22:31:07" class="time">22:31</a></td></tr>
<tr id="t2022-04-29T22:31:41"><th class="nick" style="background: #6ed16e">turkeykittin</th><td class="text" style="color: #6ed16e">For anyone curious, TOOLCHAIN_HOST_TASK += &quot;nativesdk-cmake&quot; in local.conf seems to make bitbake unhappy when populating the sdk</td><td class="time"><a href="#t2022-04-29T22:31:41" class="time">22:31</a></td></tr>
<tr id="t2022-04-29T22:32:02"><th class="nick" style="background: #6ed16e">turkeykittin</th><td class="text" style="color: #6ed16e">populating/installing*</td><td class="time"><a href="#t2022-04-29T22:32:02" class="time">22:32</a></td></tr>
<tr id="t2022-04-29T22:35:21"><th class="nick" style="background: #7070d5">kergoth</th><td class="text" style="color: #7070d5">turkeykittin: beware of direct operations with variables used by recipes/classes, if the recipe/class sets its value with ?=, your += will result in that value not being applied, and only nativesdk-cmake will be listed, instead of adding to the existing value as would be the case with :append/_append. i'd examine bitbake -e yoursdkrecipe | grep TOOLCHAIN_HOST_TASK= with and without that addition</td><td class="time"><a href="#t2022-04-29T22:35:21" class="time">22:35</a></td></tr>
<tr id="t2022-04-29T22:36:02"><th class="nick" style="background: #6ed16e">turkeykittin</th><td class="text" style="color: #6ed16e">Will check that out, thank you kergoth !</td><td class="time"><a href="#t2022-04-29T22:36:02" class="time">22:36</a></td></tr>
<tr id="t2022-04-29T22:40:57"><th class="nick" style="background: #6ed16e">turkeykittin</th><td class="text" style="color: #6ed16e">Interesting, it's having a hard time finding python when I'm sourcing and trying to manually cmake some cpp to python bindings... sounds like an issue for another time though. Gotta head out for an hour or two :\</td><td class="time"><a href="#t2022-04-29T22:40:57" class="time">22:40</a></td></tr>
<tr id="t2022-04-29T22:40:57-2"><th class="nick" style="background: #6ed16e">turkeykittin</th><td class="text" style="color: #6ed16e">Thank you for all the help! Hope you track down the root of your issue m_jimmer12345! Unfortunately it's way over my head :(</td><td class="time"><a href="#t2022-04-29T22:40:57-2" class="time">22:40</a></td></tr>
<tr id="t2022-04-29T22:52:11"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">thank you for the nice words. We found the root issue and are testing</td><td class="time"><a href="#t2022-04-29T22:52:11" class="time">22:52</a></td></tr>
<tr id="t2022-04-29T22:53:31"><th class="nick" style="background: #c668c6">m_jimmer12345</th><td class="text" style="color: #c668c6">gotta build close to 40 + machines and all with multi images.Â  Let alone the multiconfig emulators that we do.</td><td class="time"><a href="#t2022-04-29T22:53:31" class="time">22:53</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2022-04-28.log.html">&#171; Thursday, 2022-04-28</a> <a href="index.html">Index</a> <a href="%23yocto.2022-04-30.log.html">Saturday, 2022-04-30 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.17.2 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="https://mg.pov.lt/irclog2html/">https://mg.pov.lt/irclog2html/</a>!</p>
</div>
</body>
</html>
