<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Saturday, 2022-03-26</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.17.2 by Marius Gedminas" />
  <meta name="version" content="2.17.2 - 2019-04-23" />
</head>
<body>
<h1>Saturday, 2022-03-26</h1>
<div class="navigation"> <a href="%23yocto.2022-03-25.log.html">&#171; Friday, 2022-03-25</a> <a href="index.html">Index</a> </div>
<table class="irclog">
<tr id="t2022-03-26T07:02:41"><th class="nick" style="background: #407a40">amahnui</th><td class="text" style="color: #407a40">Hello everyone I'm amahnui, I'm an outreachy applicant and would like to work on this project. Also the link on the outreachy platform that is supposed to direct us here is rather taking me and other applicants to kiwiirc.</td><td class="time"><a href="#t2022-03-26T07:02:41" class="time">07:02</a></td></tr>
<tr id="t2022-03-26T07:33:57"><th class="nick" style="background: #42427e">Amahnui_</th><td class="text" style="color: #42427e">Hello everyone I would like to say the link on the outreachy portal is redirecting us to #kiwi</td><td class="time"><a href="#t2022-03-26T07:33:57" class="time">07:33</a></td></tr>
<tr id="t2022-03-26T07:54:38-3"><td class="nickchange" colspan="2">*** vladest1 is now known as vladest</td><td><a href="#t2022-03-26T07:54:38-3" class="time">07:54</a></td></tr>
<tr id="t2022-03-26T07:57:35-2"><td class="nickchange" colspan="2">*** Amahnui_ is now known as Amahnui</td><td><a href="#t2022-03-26T07:57:35-2" class="time">07:57</a></td></tr>
<tr id="t2022-03-26T10:45:42"><th class="nick" style="background: #818144">rburton</th><td class="text" style="color: #818144">ndec: ^^^</td><td class="time"><a href="#t2022-03-26T10:45:42" class="time">10:45</a></td></tr>
<tr id="t2022-03-26T11:04:52"><th class="nick" style="background: #854685">ndec</th><td class="text" style="color: #854685">Amahnui: where are you seeing that?</td><td class="time"><a href="#t2022-03-26T11:04:52" class="time">11:04</a></td></tr>
<tr id="t2022-03-26T15:50:04"><th class="nick" style="background: #42427e">Amahnui</th><td class="text" style="color: #42427e">ndec: I'm seeing at the &quot;How do work with the Yocto Project community &quot; on the outreachy platform</td><td class="time"><a href="#t2022-03-26T15:50:04" class="time">15:50</a></td></tr>
<tr id="t2022-03-26T15:51:47"><th class="nick" style="background: #42427e">Amahnui</th><td class="text" style="color: #42427e">the link to Yocto Project IRC and DRESDEN IRC link <a href="https://usercontent.irccloud-cdn.com/file/2M0HWePe/irccloudcapture5985801229209423957.jpg" rel="nofollow">https://usercontent.irccloud-cdn.com/file/2M0HWePe/irccloudcapture5985801229209423957.jpg</a></td><td class="time"><a href="#t2022-03-26T15:51:47" class="time">15:51</a></td></tr>
<tr id="t2022-03-26T17:34:31"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">Saur[m]: that patch looks good, thanks!</td><td class="time"><a href="#t2022-03-26T17:34:31" class="time">17:34</a></td></tr>
<tr id="t2022-03-26T17:35:53"><th class="nick" style="background: #8c4a4a">Saur[m]</th><td class="text" style="color: #8c4a4a">RP: Well, it seems to work at least...</td><td class="time"><a href="#t2022-03-26T17:35:53" class="time">17:35</a></td></tr>
<tr id="t2022-03-26T17:36:12"><th class="nick" style="background: #8c4a4a">Saur[m]</th><td class="text" style="color: #8c4a4a">Not so sure about the &quot;looking good&quot; part. ;)</td><td class="time"><a href="#t2022-03-26T17:36:12" class="time">17:36</a></td></tr>
<tr id="t2022-03-26T17:53:43"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">Saur[m]: I have a slightly different approach I was experimenting with and I think together these could work well</td><td class="time"><a href="#t2022-03-26T17:53:43" class="time">17:53</a></td></tr>
<tr id="t2022-03-26T17:53:59"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">Saur[m]: I don't think there is a perfect way to solve this</td><td class="time"><a href="#t2022-03-26T17:53:59" class="time">17:53</a></td></tr>
<tr id="t2022-03-26T17:54:50"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">Saur[m]: I'm also very unhappy with bitbake's Ctrl+C handling to interrupt when parsing :/</td><td class="time"><a href="#t2022-03-26T17:54:50" class="time">17:54</a></td></tr>
<tr id="t2022-03-26T17:55:01"><th class="nick" style="background: #8c4a4a">Saur[m]</th><td class="text" style="color: #8c4a4a">I agree. Especially given the numerous warnings in the documentation related to terminating processes and the use of Locks/Queues/etc.</td><td class="time"><a href="#t2022-03-26T17:55:01" class="time">17:55</a></td></tr>
<tr id="t2022-03-26T17:55:19"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">Saur[m]: those weren't there when we wrote this :)</td><td class="time"><a href="#t2022-03-26T17:55:19" class="time">17:55</a></td></tr>
<tr id="t2022-03-26T18:01:04"><th class="nick" style="background: #8c4a4a">Saur[m]</th><td class="text" style="color: #8c4a4a">RP: I have prepared patches for OE-Core to change all SRC_URI:s (but one) that use the Git protocol to switch to using HTTPS instead. While there is an entry in the default `MIRRORS` variable that will automatically do this, it means there will be warnings issued that it is happening. The reason for this was brought on by a perfect storm: 1) we no longer have a SOCKS proxy and thus we can no longer use the Git protocol after we were</td><td class="time"><a href="#t2022-03-26T18:01:04" class="time">18:01</a></td></tr>
<tr id="t2022-03-26T18:01:04-2"><th class="nick" style="background: #8c4a4a">Saur[m]</th><td class="text" style="color: #8c4a4a">cyber-attacked, 2) the current bandwidth problems with downloads.yoctoproject.org, causing me to have to wait two hours to download the 1.3 GB tar ball for binutils, and 3) having said tar ball being immediately discarded once downloaded, which I assume was due to the unpacked Git repository being configured to use the Git protocol and thus not being usable due to 1). Assuming these changes are accepted, which I of course hope they will be, do you</td><td class="time"><a href="#t2022-03-26T18:01:04-2" class="time">18:01</a></td></tr>
<tr id="t2022-03-26T18:01:04-3"><th class="nick" style="background: #8c4a4a">Saur[m]</th><td class="text" style="color: #8c4a4a">want them as one patch per recipe or can I make one patch for all 48 affected recipes?</td><td class="time"><a href="#t2022-03-26T18:01:04-3" class="time">18:01</a></td></tr>
<tr id="t2022-03-26T18:02:17"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">Saur[m]: we've been around in circles on this issue before, I did refuse to accept this change at least once in the past :/</td><td class="time"><a href="#t2022-03-26T18:02:17" class="time">18:02</a></td></tr>
<tr id="t2022-03-26T18:02:45"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">Saur[m]: could we fix that mirror handling bug so the downloaded sources have the correct url configured?</td><td class="time"><a href="#t2022-03-26T18:02:45" class="time">18:02</a></td></tr>
<tr id="t2022-03-26T18:02:48"><th class="nick" style="background: #8c4a4a">Saur[m]</th><td class="text" style="color: #8c4a4a">Hmm, ok. What was the rationale for refusing it?</td><td class="time"><a href="#t2022-03-26T18:02:48" class="time">18:02</a></td></tr>
<tr id="t2022-03-26T18:03:50"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">Saur[m]: mainly that the project doesn't have a policy of requiring https only urls and merging such a patch would start to suggest we did have :/</td><td class="time"><a href="#t2022-03-26T18:03:50" class="time">18:03</a></td></tr>
<tr id="t2022-03-26T18:04:27"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">Going back in time I did used to think the git protocol was potentially more efficient too</td><td class="time"><a href="#t2022-03-26T18:04:27" class="time">18:04</a></td></tr>
<tr id="t2022-03-26T18:04:35"><th class="nick" style="background: #8c4a4a">Saur[m]</th><td class="text" style="color: #8c4a4a">Well, I didn't change the URLs in the tests. ;)</td><td class="time"><a href="#t2022-03-26T18:04:35" class="time">18:04</a></td></tr>
<tr id="t2022-03-26T18:04:37"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">in some ways it still is</td><td class="time"><a href="#t2022-03-26T18:04:37" class="time">18:04</a></td></tr>
<tr id="t2022-03-26T18:05:47"><th class="nick" style="background: #8c4a4a">Saur[m]</th><td class="text" style="color: #8c4a4a">I did some measurements on downloading linux-yocto and the linux kernel from kernel.org, and I got approximately the same speeds for both protocols.</td><td class="time"><a href="#t2022-03-26T18:05:47" class="time">18:05</a></td></tr>
<tr id="t2022-03-26T18:06:07"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">Saur[m]: right, but what about small incremental updates to existing trees for example</td><td class="time"><a href="#t2022-03-26T18:06:07" class="time">18:06</a></td></tr>
<tr id="t2022-03-26T18:06:19"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">It isn't just about raw speed :/</td><td class="time"><a href="#t2022-03-26T18:06:19" class="time">18:06</a></td></tr>
<tr id="t2022-03-26T18:07:11"><th class="nick" style="background: #8c4a4a">Saur[m]</th><td class="text" style="color: #8c4a4a">It's hard to tell though when using live data as the bandwidth seems more affected by the state of the link at the current minute (i.e., both sites fluctuated quite a lot).</td><td class="time"><a href="#t2022-03-26T18:07:11" class="time">18:07</a></td></tr>
<tr id="t2022-03-26T18:07:52"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">Saur[m]: I'd like to understand why the tarballs were discarded, that sounds rather bad and is in my view the more important thing to fix</td><td class="time"><a href="#t2022-03-26T18:07:52" class="time">18:07</a></td></tr>
<tr id="t2022-03-26T18:09:06"><th class="nick" style="background: #8c4a4a">Saur[m]</th><td class="text" style="color: #8c4a4a">Yeah, I haven't looked into that yet. The two hour download time was a bit detrimental to any testing. ;)</td><td class="time"><a href="#t2022-03-26T18:09:06" class="time">18:09</a></td></tr>
<tr id="t2022-03-26T18:09:24"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">Saur[m]: I'd imagine it could reproduce with one of the smaller repos?</td><td class="time"><a href="#t2022-03-26T18:09:24" class="time">18:09</a></td></tr>
<tr id="t2022-03-26T18:09:53"><th class="nick" style="background: #8c4a4a">Saur[m]</th><td class="text" style="color: #8c4a4a">Most likely. I'll see what I can come up with.</td><td class="time"><a href="#t2022-03-26T18:09:53" class="time">18:09</a></td></tr>
<tr id="t2022-03-26T18:12:09"><th class="nick" style="background: #8c4a4a">Saur[m]</th><td class="text" style="color: #8c4a4a">On the positive side, there are https support for all Git repositories used in OE-Core, but one (mtd-utils). So that is the only one where we will have to rely on the download cache.</td><td class="time"><a href="#t2022-03-26T18:12:09" class="time">18:12</a></td></tr>
<tr id="t2022-03-26T18:16:04"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">Saur[m]: that is good</td><td class="time"><a href="#t2022-03-26T18:16:04" class="time">18:16</a></td></tr>
<tr id="t2022-03-26T18:46:10"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">Saur[m]: do you think your patch could be simplified to use signal.pthread_sigmask() ?</td><td class="time"><a href="#t2022-03-26T18:46:10" class="time">18:46</a></td></tr>
<tr id="t2022-03-26T18:48:01"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">Saur[m]: I was going to add in SIGINT handling but this may be simpler</td><td class="time"><a href="#t2022-03-26T18:48:01" class="time">18:48</a></td></tr>
<tr id="t2022-03-26T18:54:13"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">Saur[m]: I've added a patch to -next I'll experiment with</td><td class="time"><a href="#t2022-03-26T18:54:13" class="time">18:54</a></td></tr>
<tr id="t2022-03-26T19:11:05"><th class="nick" style="background: #8c4a4a">Saur[m]</th><td class="text" style="color: #8c4a4a">RP: Using `signal.pthread_sigmask()` seems much better than my solution. Feel free to drop my commit from the stack as it doesn't really add anything after your change.</td><td class="time"><a href="#t2022-03-26T19:11:05" class="time">19:11</a></td></tr>
<tr id="t2022-03-26T19:57:36"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">Saur[m]: I only found it by reading the signal docs. I appreciate your patch though as it gave me some ideas I hadn't thought about</td><td class="time"><a href="#t2022-03-26T19:57:36" class="time">19:57</a></td></tr>
<tr id="t2022-03-26T21:01:03"><th class="nick" style="background: #4b904b">smurray</th><td class="text" style="color: #4b904b">khem: I'm seeing packaging QA errors from duktape with meta-oe master</td><td class="time"><a href="#t2022-03-26T21:01:03" class="time">21:01</a></td></tr>
<tr id="t2022-03-26T21:02:23"><th class="nick" style="background: #4b904b">smurray</th><td class="text" style="color: #4b904b">khem: mentioned of /usr/usr/lib/, which makes me suspect a usrmerge related issue, as I've been testing with it</td><td class="time"><a href="#t2022-03-26T21:02:23" class="time">21:02</a></td></tr>
<tr id="t2022-03-26T21:02:29"><th class="nick" style="background: #4b904b">smurray</th><td class="text" style="color: #4b904b">err, mentions of</td><td class="time"><a href="#t2022-03-26T21:02:29" class="time">21:02</a></td></tr>
<tr id="t2022-03-26T22:13:27"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">Saur[m]: pthread_sigmask doesn't seem to work :/</td><td class="time"><a href="#t2022-03-26T22:13:27" class="time">22:13</a></td></tr>
<tr id="t2022-03-26T22:18:23"><th class="nick" style="background: #8c4a4a">Saur[m]</th><td class="text" style="color: #8c4a4a">RP: Odd, it definitely looked like it should do exactly what I tried to achieve (but in a correct way)...</td><td class="time"><a href="#t2022-03-26T22:18:23" class="time">22:18</a></td></tr>
<tr id="t2022-03-26T22:18:41"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">Saur[m]: I think in order to block the signal, you may need a handler</td><td class="time"><a href="#t2022-03-26T22:18:41" class="time">22:18</a></td></tr>
<tr id="t2022-03-26T22:23:09"><th class="nick" style="background: #8c4a4a">Saur[m]</th><td class="text" style="color: #8c4a4a">RP: Hold on. The second argument to `pthread_sigmask()` is supposed to be a set.</td><td class="time"><a href="#t2022-03-26T22:23:09" class="time">22:23</a></td></tr>
<tr id="t2022-03-26T22:24:41"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">Saur[m]: I think it should take an iterable?</td><td class="time"><a href="#t2022-03-26T22:24:41" class="time">22:24</a></td></tr>
<tr id="t2022-03-26T22:25:18"><th class="nick" style="background: #8c4a4a">Saur[m]</th><td class="text" style="color: #8c4a4a">Well, the documentation says set, so no idea what will happen when you give it a list...</td><td class="time"><a href="#t2022-03-26T22:25:18" class="time">22:25</a></td></tr>
<tr id="t2022-03-26T22:25:41"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">Saur[m]: I did look at code examples and tried a few different things, it behaves the same :/</td><td class="time"><a href="#t2022-03-26T22:25:41" class="time">22:25</a></td></tr>
<tr id="t2022-03-26T22:25:59"><th class="nick" style="background: #8c4a4a">Saur[m]</th><td class="text" style="color: #8c4a4a">:(</td><td class="time"><a href="#t2022-03-26T22:25:59" class="time">22:25</a></td></tr>
<tr id="t2022-03-26T22:32:27"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">I'll have to rework that patchset</td><td class="time"><a href="#t2022-03-26T22:32:27" class="time">22:32</a></td></tr>
<tr id="t2022-03-26T22:33:18"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">I did wonder if SIGINT would be enough and to drop the .terminate()</td><td class="time"><a href="#t2022-03-26T22:33:18" class="time">22:33</a></td></tr>
<tr id="t2022-03-26T22:34:42"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">tomorrow... :)</td><td class="time"><a href="#t2022-03-26T22:34:42" class="time">22:34</a></td></tr>
<tr id="t2022-03-26T22:34:57"><th class="nick" style="background: #8c4a4a">Saur[m]</th><td class="text" style="color: #8c4a4a">Well, there won't be much force to it if you drop the .terminate() call...</td><td class="time"><a href="#t2022-03-26T22:34:57" class="time">22:34</a></td></tr>
<tr id="t2022-03-26T22:41:05"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">Saur[m]: my series adds SIGINT support which could be used instead</td><td class="time"><a href="#t2022-03-26T22:41:05" class="time">22:41</a></td></tr>
<tr id="t2022-03-26T22:41:36"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">I think we need to have SIGTERM being reliable though as the user could send it</td><td class="time"><a href="#t2022-03-26T22:41:36" class="time">22:41</a></td></tr>
<tr id="t2022-03-26T22:42:32"><th class="nick" style="background: #8c4a4a">Saur[m]</th><td class="text" style="color: #8c4a4a">Won't sending SIGINT affect the process just as much as sending SIGTERM to it?</td><td class="time"><a href="#t2022-03-26T22:42:32" class="time">22:42</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2022-03-25.log.html">&#171; Friday, 2022-03-25</a> <a href="index.html">Index</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.17.2 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="https://mg.pov.lt/irclog2html/">https://mg.pov.lt/irclog2html/</a>!</p>
</div>
</body>
</html>
