<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Tuesday, 2022-01-25</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.17.2 by Marius Gedminas" />
  <meta name="version" content="2.17.2 - 2019-04-23" />
</head>
<body>
<h1>Tuesday, 2022-01-25</h1>
<div class="navigation"> <a href="%23yocto.2022-01-24.log.html">&#171; Monday, 2022-01-24</a> <a href="index.html">Index</a> <a href="%23yocto.2022-01-26.log.html">Wednesday, 2022-01-26 &#187;</a> </div>
<table class="irclog">
<tr id="t2022-01-25T06:29:35"><th class="nick" style="background: #407a40">Harun</th><td class="text" style="color: #407a40">Hello, according to the Yocto Documentation <a href="https://docs.yoctoproject.org/ref-manual/variables.html#term-IMAGE_LINGUAS" rel="nofollow">https://docs.yoctoproject.org/ref-manual/variables.html#term-IMAGE_LINGUAS</a></td><td class="time"><a href="#t2022-01-25T06:29:35" class="time">06:29</a></td></tr>
<tr id="t2022-01-25T06:29:36"><th class="nick" style="background: #407a40">Harun</th><td class="text" style="color: #407a40">IMAGE_LINGUAS can be used to specify needed locales in an image.</td><td class="time"><a href="#t2022-01-25T06:29:36" class="time">06:29</a></td></tr>
<tr id="t2022-01-25T06:29:36-2"><th class="nick" style="background: #407a40">Harun</th><td class="text" style="color: #407a40">Is there a list which lists every locale, so that I can choose the needed ones?</td><td class="time"><a href="#t2022-01-25T06:29:36-2" class="time">06:29</a></td></tr>
<tr id="t2022-01-25T06:29:37"><th class="nick" style="background: #407a40">Harun</th><td class="text" style="color: #407a40">Without it I have to guess :(</td><td class="time"><a href="#t2022-01-25T06:29:37" class="time">06:29</a></td></tr>
<tr id="t2022-01-25T06:37:27"><td class="nickchange" colspan="2">*** JaMa is now known as Guest9634</td><td><a href="#t2022-01-25T06:37:27" class="time">06:37</a></td></tr>
<tr id="t2022-01-25T06:41:09"><th class="nick" style="background: #42427e">dwagenk</th><td class="text" style="color: #42427e">&lt;ziga_&gt; &quot;I create a Yocto image,, mount...&quot; &lt;- does your SD-Image have a seperate &quot;boot&quot; or &quot;firmware&quot; partition? /boot may be populated in the rootfs, but depending on the classes used for building the SD-Image (triggered by what is in the IMAGE_FSTYPES variable) the contents may be copied to a different partition or &quot;magic&quot; postitions (without partition) on the SD card to match what your hardware expects. kn these cases the content of /boot in</td><td class="time"><a href="#t2022-01-25T06:41:09" class="time">06:41</a></td></tr>
<tr id="t2022-01-25T06:41:09-2"><th class="nick" style="background: #42427e">dwagenk</th><td class="text" style="color: #42427e">the rootfs might be irrelevant for the boot process.</td><td class="time"><a href="#t2022-01-25T06:41:09-2" class="time">06:41</a></td></tr>
<tr id="t2022-01-25T06:55:05"><th class="nick" style="background: #818144">ziga_</th><td class="text" style="color: #818144">@dwagenk Can you elaborate a bit ore on the topic. I don't understand yet.</td><td class="time"><a href="#t2022-01-25T06:55:05" class="time">06:55</a></td></tr>
<tr id="t2022-01-25T06:55:28"><th class="nick" style="background: #818144">ziga_</th><td class="text" style="color: #818144">@dwagenk Thanks for helping.</td><td class="time"><a href="#t2022-01-25T06:55:28" class="time">06:55</a></td></tr>
<tr id="t2022-01-25T07:22:06"><td class="nickchange" colspan="2">*** mckoan|away is now known as mckoan</td><td><a href="#t2022-01-25T07:22:06" class="time">07:22</a></td></tr>
<tr id="t2022-01-25T07:24:39"><th class="nick" style="background: #854685">mckoan</th><td class="text" style="color: #854685">Harun: <a href="https://docs.windriver.com/bundle/Wind_River_Linux_Users_Guide_6.0_1/page/1565442.html" rel="nofollow">https://docs.windriver.com/bundle/Wind_River_Linux_Users_Guide_6.0_1/page/1565442.html</a></td><td class="time"><a href="#t2022-01-25T07:24:39" class="time">07:24</a></td></tr>
<tr id="t2022-01-25T07:29:54"><th class="nick" style="background: #818144">ziga_</th><td class="text" style="color: #818144">@dwagenk My SD card has two separate partitions yes. First there is /boot and there is /root. It seems that /boot is NOT mounted inside the /root/boot (which I don't understand why this is the case) - If I open /boot and /root/boot their content does not match. How can I solve this?</td><td class="time"><a href="#t2022-01-25T07:29:54" class="time">07:29</a></td></tr>
<tr id="t2022-01-25T07:51:35"><th class="nick" style="background: #488888">coldspark29[m]</th><td class="text" style="color: #488888">Morning, what does... (full message at <a href="https://libera.ems.host/_matrix/media/r0/download/libera.chat/069e58d5cc68409ae15089e3462d23e95339af4b" rel="nofollow">https://libera.ems.host/_matrix/media/r0/download/libera.chat/069e58d5cc68409ae15089e3462d23e95339af4b</a>)</td><td class="time"><a href="#t2022-01-25T07:51:35" class="time">07:51</a></td></tr>
<tr id="t2022-01-25T07:51:48"><th class="nick" style="background: #488888">coldspark29[m]</th><td class="text" style="color: #488888">s///, s/eppendorf-//</td><td class="time"><a href="#t2022-01-25T07:51:48" class="time">07:51</a></td></tr>
<tr id="t2022-01-25T07:52:49"><th class="nick" style="background: #488888">coldspark29[m]</th><td class="text" style="color: #488888">Seems like it is not that big of a problem, because the kernel build finished successfully</td><td class="time"><a href="#t2022-01-25T07:52:49" class="time">07:52</a></td></tr>
<tr id="t2022-01-25T08:11:32"><th class="nick" style="background: #42427e">dwagenk</th><td class="text" style="color: #42427e">&lt;ziga_&gt; &quot;@dwagenk My SD card has two...&quot; &lt;- /boot is probably the relevant partition. see if modifications there (deleting the relevant dtb or kernel image) will cause the boot to fail.</td><td class="time"><a href="#t2022-01-25T08:11:32" class="time">08:11</a></td></tr>
<tr id="t2022-01-25T08:11:32-2"><th class="nick" style="background: #42427e">dwagenk</th><td class="text" style="color: #42427e">look at the bbclass file for your IMAGE_FSTYPE that generated the sd image, maybe that can give more clues?</td><td class="time"><a href="#t2022-01-25T08:11:32-2" class="time">08:11</a></td></tr>
<tr id="t2022-01-25T08:14:14"><th class="nick" style="background: #42427e">dwagenk</th><td class="text" style="color: #42427e">and regarding fixing: if you need /boot mounted in the rootfs you can use IMAGE_POSTPROCESSING_COMMAND (I don't have the exact naming on hand) to add it to the fstab. same mechanism might be helpful for clearing out the boot directory contained in the rootfs to prevent future confusion.</td><td class="time"><a href="#t2022-01-25T08:14:14" class="time">08:14</a></td></tr>
<tr id="t2022-01-25T08:15:30"><th class="nick" style="background: #42427e">dwagenk</th><td class="text" style="color: #42427e">and if your image creation is using wic/wks files (search in the docs) you can also specify mount points and directories to exclude in there.</td><td class="time"><a href="#t2022-01-25T08:15:30" class="time">08:15</a></td></tr>
<tr id="t2022-01-25T08:15:42"><th class="nick" style="background: #42427e">dwagenk</th><td class="text" style="color: #42427e">many possibilities ;-)</td><td class="time"><a href="#t2022-01-25T08:15:42" class="time">08:15</a></td></tr>
<tr id="t2022-01-25T08:18:30"><th class="nick" style="background: #42427e">dwagenk</th><td class="text" style="color: #42427e">&gt; &lt;@coldspark29:matrix.org&gt; Morning, what does... (full message at <a href="https://libera.ems.host/_matrix/media/r0/download/libera.chat/9680a99a34426865d521b81f1ba1909129ac4113" rel="nofollow">https://libera.ems.host/_matrix/media/r0/download/libera.chat/9680a99a34426865d521b81f1ba1909129ac4113</a>)</td><td class="time"><a href="#t2022-01-25T08:18:30" class="time">08:18</a></td></tr>
<tr id="t2022-01-25T08:21:31"><th class="nick" style="background: #818144">ziga_</th><td class="text" style="color: #818144">@dwagenk Any kind of change in the /boot partition has no effect at all. But if I odify the .dtb inside /root/boot, changes are applied.</td><td class="time"><a href="#t2022-01-25T08:21:31" class="time">08:21</a></td></tr>
<tr id="t2022-01-25T08:26:13"><th class="nick" style="background: #488888">coldspark29[m]</th><td class="text" style="color: #488888">&gt; &lt;@dwagenk:tchncs.de&gt; ```... (full message at <a href="https://libera.ems.host/_matrix/media/r0/download/libera.chat/e3e89e29a764d67af18ea6e3eadd1ebb167602a3" rel="nofollow">https://libera.ems.host/_matrix/media/r0/download/libera.chat/e3e89e29a764d67af18ea6e3eadd1ebb167602a3</a>)</td><td class="time"><a href="#t2022-01-25T08:26:13" class="time">08:26</a></td></tr>
<tr id="t2022-01-25T08:26:22"><th class="nick" style="background: #488888">coldspark29[m]</th><td class="text" style="color: #488888">In the end I did the patching manually</td><td class="time"><a href="#t2022-01-25T08:26:22" class="time">08:26</a></td></tr>
<tr id="t2022-01-25T08:26:29"><th class="nick" style="background: #488888">coldspark29[m]</th><td class="text" style="color: #488888">and built that version</td><td class="time"><a href="#t2022-01-25T08:26:29" class="time">08:26</a></td></tr>
<tr id="t2022-01-25T09:18:16"><td class="nickchange" colspan="2">*** Guest9634 is now known as JaMa2</td><td><a href="#t2022-01-25T09:18:16" class="time">09:18</a></td></tr>
<tr id="t2022-01-25T09:25:24"><th class="nick" style="background: #8c4a4a">Etheryon</th><td class="text" style="color: #8c4a4a">Hi All, I'm trying to build a dunfell version of poky, but I currently have python 3.10 installed which gives an error on imports. Any ideas how to solve this?</td><td class="time"><a href="#t2022-01-25T09:25:24" class="time">09:25</a></td></tr>
<tr id="t2022-01-25T09:29:45"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">Etheryon: can you share the error?</td><td class="time"><a href="#t2022-01-25T09:29:45" class="time">09:29</a></td></tr>
<tr id="t2022-01-25T09:32:35"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">and which version of dunfell you're trying to build</td><td class="time"><a href="#t2022-01-25T09:32:35" class="time">09:32</a></td></tr>
<tr id="t2022-01-25T09:38:14"><th class="nick" style="background: #4d4d93">fabatera[m]</th><td class="text" style="color: #4d4d93">Hi all, I'm using devtool to develop a c++ app. But it is a pain to build and wait for bitbake to do the cache load, parse recipes etc until the compilation errors are fixed. Can you recommend a better approach?</td><td class="time"><a href="#t2022-01-25T09:38:14" class="time">09:38</a></td></tr>
<tr id="t2022-01-25T09:38:14-2"><th class="nick" style="background: #4d4d93">fabatera[m]</th><td class="text" style="color: #4d4d93">When the compilation is OK, I can devtool build and deploy to a qemu instance.</td><td class="time"><a href="#t2022-01-25T09:38:14-2" class="time">09:38</a></td></tr>
<tr id="t2022-01-25T09:38:42"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">fabatera[m]: bitbake -c devshell your-recipe</td><td class="time"><a href="#t2022-01-25T09:38:42" class="time">09:38</a></td></tr>
<tr id="t2022-01-25T09:39:04"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">CXX, CXXFLAGS, LDFLAFS,e tc.. will be correcly set up</td><td class="time"><a href="#t2022-01-25T09:39:04" class="time">09:39</a></td></tr>
<tr id="t2022-01-25T09:39:16"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">provided you have configured the DEPENDS correctly obviously</td><td class="time"><a href="#t2022-01-25T09:39:16" class="time">09:39</a></td></tr>
<tr id="t2022-01-25T09:39:42"><th class="nick" style="background: #854685">mckoan</th><td class="text" style="color: #854685">fabatera[m]: build it externally using the SDK</td><td class="time"><a href="#t2022-01-25T09:39:42" class="time">09:39</a></td></tr>
<tr id="t2022-01-25T09:44:51"><th class="nick" style="background: #8c4a4a">Etheryon</th><td class="text" style="color: #8c4a4a">@qschultz I solved it, had a wrong commit checked out. Thanks!</td><td class="time"><a href="#t2022-01-25T09:44:51" class="time">09:44</a></td></tr>
<tr id="t2022-01-25T09:51:21"><th class="nick" style="background: #818144">ziga_</th><td class="text" style="color: #818144">@Dwagenk Thank you.</td><td class="time"><a href="#t2022-01-25T09:51:21" class="time">09:51</a></td></tr>
<tr id="t2022-01-25T10:12:49"><th class="nick" style="background: #4d4d93">fabatera[m]</th><td class="text" style="color: #4d4d93">thanks @qs</td><td class="time"><a href="#t2022-01-25T10:12:49" class="time">10:12</a></td></tr>
<tr id="t2022-01-25T10:13:56"><th class="nick" style="background: #4d4d93">fabatera[m]</th><td class="text" style="color: #4d4d93">thanks qschulz and mckoan</td><td class="time"><a href="#t2022-01-25T10:13:56" class="time">10:13</a></td></tr>
<tr id="t2022-01-25T10:33:24"><th class="nick" style="background: #97974f">michaelo</th><td class="text" style="color: #97974f">dwagenk, qschulz: thanks for reporting this. I'm investigating why this is happening.</td><td class="time"><a href="#t2022-01-25T10:33:24" class="time">10:33</a></td></tr>
<tr id="t2022-01-25T10:49:02"><th class="nick" style="background: #97974f">michaelo</th><td class="text" style="color: #97974f">Oops, docs for version 3.4.1 are also impacted.</td><td class="time"><a href="#t2022-01-25T10:49:02" class="time">10:49</a></td></tr>
<tr id="t2022-01-25T12:49:18"><th class="nick" style="background: #9b519b">dacav</th><td class="text" style="color: #9b519b">Hi.&nbsp;&nbsp;I would like to build a recipe for which the dependency check fails.&nbsp;&nbsp;The error says:</td><td class="time"><a href="#t2022-01-25T12:49:18" class="time">12:49</a></td></tr>
<tr id="t2022-01-25T12:49:21"><th class="nick" style="background: #9b519b">dacav</th><td class="text" style="color: #9b519b">Missing or unbuildable dependency chain was: ['freertos-hello-world', 'virtual/arm-xilinx-eabi-compilerlibs', 'gcc-source-9.3.0']</td><td class="time"><a href="#t2022-01-25T12:49:21" class="time">12:49</a></td></tr>
<tr id="t2022-01-25T12:49:28"><th class="nick" style="background: #9b519b">dacav</th><td class="text" style="color: #9b519b">I also get a warning that says:</td><td class="time"><a href="#t2022-01-25T12:49:28" class="time">12:49</a></td></tr>
<tr id="t2022-01-25T12:49:34"><th class="nick" style="background: #9b519b">dacav</th><td class="text" style="color: #9b519b">ERROR: Nothing PROVIDES 'gcc-source-9.3.0'</td><td class="time"><a href="#t2022-01-25T12:49:34" class="time">12:49</a></td></tr>
<tr id="t2022-01-25T12:49:41"><th class="nick" style="background: #9b519b">dacav</th><td class="text" style="color: #9b519b">gcc-source-9.3.0 was skipped: incompatible with host arm-xilinx-eabi (not in COMPATIBLE_HOST)</td><td class="time"><a href="#t2022-01-25T12:49:41" class="time">12:49</a></td></tr>
<tr id="t2022-01-25T12:49:48"><th class="nick" style="background: #9b519b">dacav</th><td class="text" style="color: #9b519b">but then...</td><td class="time"><a href="#t2022-01-25T12:49:48" class="time">12:49</a></td></tr>
<tr id="t2022-01-25T12:49:52"><th class="nick" style="background: #9b519b">dacav</th><td class="text" style="color: #9b519b">COMPATIBLE_HOST=&quot;[^-]*-[^-]*-eabi&quot;</td><td class="time"><a href="#t2022-01-25T12:49:52" class="time">12:49</a></td></tr>
<tr id="t2022-01-25T12:50:11"><th class="nick" style="background: #9b519b">dacav</th><td class="text" style="color: #9b519b">and it looks to me that 'arm-xilinx-eabi' does matchi it</td><td class="time"><a href="#t2022-01-25T12:50:11" class="time">12:50</a></td></tr>
<tr id="t2022-01-25T12:53:55"><th class="nick" style="background: #9b519b">dacav</th><td class="text" style="color: #9b519b">uhm... COMPATIBLE_HOST is actually empty for the gcc-cross-arm recipe.</td><td class="time"><a href="#t2022-01-25T12:53:55" class="time">12:53</a></td></tr>
<tr id="t2022-01-25T14:13:29"><th class="nick" style="background: #539e9e">Skinny79</th><td class="text" style="color: #539e9e">Hi! I followed the steps in the docs regarding building a custom kernel configuration : <a href="https://www.yoctoproject.org/docs/3.1/kernel-dev/kernel-dev.html#configuring-the-kernel" rel="nofollow">https://www.yoctoproject.org/docs/3.1/kernel-dev/kernel-dev.html#configuring-the-kernel</a> where I know have a defconfig file in 'meta-custom/recipes-kernel/linux/linux-yocto' and a 'meta-custom/recipes-kernel/linux/linux-yocto_%.bbappend' file which add that</td><td class="time"><a href="#t2022-01-25T14:13:29" class="time">14:13</a></td></tr>
<tr id="t2022-01-25T14:13:29-2"><th class="nick" style="background: #539e9e">Skinny79</th><td class="text" style="color: #539e9e">defconfig to the build. Any typos in the .bbappend file trigger an error so I know it's picked up. However the resulting .config file in 'tmp/work/genericx86_64-poky-linux/linux-yocto' is still the default one and doesn't have my options set or unset. What am I not seeing ? TIA!</td><td class="time"><a href="#t2022-01-25T14:13:29-2" class="time">14:13</a></td></tr>
<tr id="t2022-01-25T14:13:30"><th class="nick" style="background: #818144">ziga_</th><td class="text" style="color: #818144">On beaglebone Black I managed to use patch to add &quot;/arch/arm/boot/dts/fotovolt.dts&quot; file and also modify &quot;/arch/arm/boot/dts/Makefile&quot; so that it also compiles the .dts file. &quot;fotovolt.dts&quot; file only includes the &quot;am335x-boneblack.dts&quot; file and changes the &quot;model&quot;. Everything compiles and in the end my image has fotovolt.dtb file there. But boot fails! WHY? I tried comparing the &quot;am335x-boneblack-dts&quot; with the decompiled &quot;fotovolt.dts&quot; and</td><td class="time"><a href="#t2022-01-25T14:13:30" class="time">14:13</a></td></tr>
<tr id="t2022-01-25T14:13:30-2"><th class="nick" style="background: #818144">ziga_</th><td class="text" style="color: #818144">they are IDENTICAL except for the model. Yet with &quot;fotovolt.dts&quot; Beaglebone Black will not boot. What else do I need to do? My machine has &quot;KERNEL_DEVICETREE = &quot;fotovolt.dtb&quot; set...</td><td class="time"><a href="#t2022-01-25T14:13:30-2" class="time">14:13</a></td></tr>
<tr id="t2022-01-25T15:16:08"><th class="nick" style="background: #a25555">manuel1985</th><td class="text" style="color: #a25555">Any ideas why poky is stuck on gtk+3? IIRC gtk4 was released in late 2020.</td><td class="time"><a href="#t2022-01-25T15:16:08" class="time">15:16</a></td></tr>
<tr id="t2022-01-25T15:18:45"><th class="nick" style="background: #57a657">rburton</th><td class="text" style="color: #57a657">gtk3 isn't abandoned just yet</td><td class="time"><a href="#t2022-01-25T15:18:45" class="time">15:18</a></td></tr>
<tr id="t2022-01-25T15:18:57"><th class="nick" style="background: #57a657">rburton</th><td class="text" style="color: #57a657">also <a href="https://layers.openembedded.org/layerindex/recipe/213667/" rel="nofollow">https://layers.openembedded.org/layerindex/recipe/213667/</a></td><td class="time"><a href="#t2022-01-25T15:18:57" class="time">15:18</a></td></tr>
<tr id="t2022-01-25T15:19:08"><th class="nick" style="background: #57a657">rburton</th><td class="text" style="color: #57a657">*sato* is stuck on gtk3 because nobody has ported it yet</td><td class="time"><a href="#t2022-01-25T15:19:08" class="time">15:19</a></td></tr>
<tr id="t2022-01-25T15:22:56"><th class="nick" style="background: #5959a9">kanavin</th><td class="text" style="color: #5959a9">manuel1985, there is nothing in poky that needs gtk4 yet; gnome is migrating to it just now. if you want the gtk4 recipe, meta-oe has it.</td><td class="time"><a href="#t2022-01-25T15:22:56" class="time">15:22</a></td></tr>
<tr id="t2022-01-25T15:23:25"><th class="nick" style="background: #5959a9">kanavin</th><td class="text" style="color: #5959a9">rburton, I don't mean to be rude, but did you test your arm stap patches? both qemuarm builds failed :(</td><td class="time"><a href="#t2022-01-25T15:23:25" class="time">15:23</a></td></tr>
<tr id="t2022-01-25T15:23:37"><th class="nick" style="background: #57a657">rburton</th><td class="text" style="color: #57a657">ffs</td><td class="time"><a href="#t2022-01-25T15:23:37" class="time">15:23</a></td></tr>
<tr id="t2022-01-25T15:24:20"><th class="nick" style="background: #5959a9">kanavin</th><td class="text" style="color: #5959a9">links on oe-core list</td><td class="time"><a href="#t2022-01-25T15:24:20" class="time">15:24</a></td></tr>
<tr id="t2022-01-25T15:25:01"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">manuel1985: considering that not all gnome apps are migrated over to gtk4, I'd say it's still very early in gtk4 global use <a href="https://gitlab.gnome.org/GNOME/Initiatives/-/issues/26" rel="nofollow">https://gitlab.gnome.org/GNOME/Initiatives/-/issues/26</a></td><td class="time"><a href="#t2022-01-25T15:25:01" class="time">15:25</a></td></tr>
<tr id="t2022-01-25T15:27:10"><th class="nick" style="background: #adad5b">tdz</th><td class="text" style="color: #adad5b">Hi,</td><td class="time"><a href="#t2022-01-25T15:27:10" class="time">15:27</a></td></tr>
<tr id="t2022-01-25T15:27:10-2"><th class="nick" style="background: #adad5b">tdz</th><td class="text" style="color: #adad5b">I'm having issues with git fetcher. If we have long workspace path (long jenkins job name in our case) it can happen that git fetcher when trying to create lockfile in downloads/git2/&lt;workspace_path&gt;.lock will hang due to &quot;File name too long&quot; because it might exceed the limit of 255 characters.</td><td class="time"><a href="#t2022-01-25T15:27:10-2" class="time">15:27</a></td></tr>
<tr id="t2022-01-25T15:27:11"><th class="nick" style="background: #adad5b">tdz</th><td class="text" style="color: #adad5b">The part that is causing this is:</td><td class="time"><a href="#t2022-01-25T15:27:11" class="time">15:27</a></td></tr>
<tr id="t2022-01-25T15:27:11-2"><th class="nick" style="background: #adad5b">tdz</th><td class="text" style="color: #adad5b">        gitsrcname = '%s%s' % (ud.host.replace(':', '.'), ud.path.replace('/', '.').replace('*', '.').replace(' ','_'))</td><td class="time"><a href="#t2022-01-25T15:27:11-2" class="time">15:27</a></td></tr>
<tr id="t2022-01-25T15:27:12"><th class="nick" style="background: #adad5b">tdz</th><td class="text" style="color: #adad5b">and this ud.path contains the whole path twice (first the path to /&lt;long_path&gt;/build/downloads second to git repository (also containing path)).</td><td class="time"><a href="#t2022-01-25T15:27:12" class="time">15:27</a></td></tr>
<tr id="t2022-01-25T15:27:12-2"><th class="nick" style="background: #adad5b">tdz</th><td class="text" style="color: #adad5b">Do we really need the whole path there? Which way should I go with the fix? Cut the directory name in half or maybe change it to less human readable hash? I need some advice.</td><td class="time"><a href="#t2022-01-25T15:27:12-2" class="time">15:27</a></td></tr>
<tr id="t2022-01-25T15:27:43"><th class="nick" style="background: #adad5b">tdz</th><td class="text" style="color: #adad5b">this code is inside bitbake/lib/bb/fetch2/git.py</td><td class="time"><a href="#t2022-01-25T15:27:43" class="time">15:27</a></td></tr>
<tr id="t2022-01-25T15:29:11"><th class="nick" style="background: #b15db1">jsandman</th><td class="text" style="color: #b15db1">Hi all. Does someone know a way to collect all src revisions for components set to AUTOREV before building everything? I've been doing it with the buildhistory mechanisim but It appears to be risky when building multiple machines at once as a commeit can make it in while the builds are happening</td><td class="time"><a href="#t2022-01-25T15:29:11" class="time">15:29</a></td></tr>
<tr id="t2022-01-25T15:32:44"><th class="nick" style="background: #818144">ziga_</th><td class="text" style="color: #818144">On beaglebone Black I managed to use patch to add &quot;/arch/arm/boot/dts/fotovolt.dts&quot; file and also modify &quot;/arch/arm/boot/dts/Makefile&quot; so that it also compiles the &quot;fotobolt.dts&quot; file. &quot;fotovolt.dts&quot; file only includes the &quot;am335x-boneblack.dts&quot; file. Everything compiles and in the end my image has &quot;/boot/fotovolt.dtb&quot; file. But boot fails! My &quot;fotofolt.dtb&quot; is IDENTICAL to &quot;am335x-boneblack.dtb&quot; (I verified with diff). Then I renamed</td><td class="time"><a href="#t2022-01-25T15:32:44" class="time">15:32</a></td></tr>
<tr id="t2022-01-25T15:32:44-2"><th class="nick" style="background: #818144">ziga_</th><td class="text" style="color: #818144">&quot;fotovolt.dtb&quot; to &quot;am335x-boneblack.dtb&quot; and now it boots. I suspects that U-boot settings are set so that it searches for &quot;am335x-boneblack.dtb&quot; and because it does not find it it fails to boot. How can I change this U-boot setting permamently in Yocto? I don't want to just create a symbolic link in /boot directory of an image (I knmow this solution, but I don't like it)..</td><td class="time"><a href="#t2022-01-25T15:32:44-2" class="time">15:32</a></td></tr>
<tr id="t2022-01-25T15:33:30"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">ziga_: try without yocto. Boot your custom kernel+dtb from U-Boot</td><td class="time"><a href="#t2022-01-25T15:33:30" class="time">15:33</a></td></tr>
<tr id="t2022-01-25T15:33:59"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">once you know this is working, you might have a better idea what needs to be changed, and then you can check how to do this in Yocto</td><td class="time"><a href="#t2022-01-25T15:33:59" class="time">15:33</a></td></tr>
<tr id="t2022-01-25T15:34:17"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">jsandman: why do you want to collect SRCREV of AUTOREV recipes?</td><td class="time"><a href="#t2022-01-25T15:34:17" class="time">15:34</a></td></tr>
<tr id="t2022-01-25T15:34:42"><th class="nick" style="background: #818144">ziga_</th><td class="text" style="color: #818144">@qschulz First I have to change U-boot settings so that boot stops at U-boot. How do I do that?</td><td class="time"><a href="#t2022-01-25T15:34:42" class="time">15:34</a></td></tr>
<tr id="t2022-01-25T15:35:18"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">ziga_: you should be able to enter the U-Boot shell by pressing any key when asked to do so</td><td class="time"><a href="#t2022-01-25T15:35:18" class="time">15:35</a></td></tr>
<tr id="t2022-01-25T15:35:36"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">if not, then change CONFIG_BOOTDELAY or something in your defconfig and rebuild (and flash) U-Boot</td><td class="time"><a href="#t2022-01-25T15:35:36" class="time">15:35</a></td></tr>
<tr id="t2022-01-25T15:36:09"><th class="nick" style="background: #b15db1">jsandman</th><td class="text" style="color: #b15db1">Hi qschulz, I have a bunch of repos that are constantly moving and I want to be able to put together an .inc file similar to the one reported by buildhistory-collect-src-rev so I can freeze it all at one point.</td><td class="time"><a href="#t2022-01-25T15:36:09" class="time">15:36</a></td></tr>
<tr id="t2022-01-25T15:37:36"><th class="nick" style="background: #b15db1">jsandman</th><td class="text" style="color: #b15db1">If I let my server buildinng all the machines I have setup, then the repos my get something in. Because of how this team works, it'd be very painful to go recipe by recipe and set a SRCREV</td><td class="time"><a href="#t2022-01-25T15:37:36" class="time">15:37</a></td></tr>
<tr id="t2022-01-25T15:37:42"><th class="nick" style="background: #5fb4b4">vd</th><td class="text" style="color: #5fb4b4">hi there -- how can I extract the partitions of the .wic image? I need the individual parititions images (especially the vfat boot partition) for an update framework</td><td class="time"><a href="#t2022-01-25T15:37:42" class="time">15:37</a></td></tr>
<tr id="t2022-01-25T15:39:42"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">vd: I think it makes more sense to create the partitions' FS outside of wic and then use them in .wic. Not sure how to do that but that what comes to mind right now</td><td class="time"><a href="#t2022-01-25T15:39:42" class="time">15:39</a></td></tr>
<tr id="t2022-01-25T15:39:57"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">vd: also, please check what the update framework do and do not build your own</td><td class="time"><a href="#t2022-01-25T15:39:57" class="time">15:39</a></td></tr>
<tr id="t2022-01-25T15:40:09"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">mender, rauc, swupdate, others...</td><td class="time"><a href="#t2022-01-25T15:40:09" class="time">15:40</a></td></tr>
<tr id="t2022-01-25T15:42:59"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">jsandman: you probably can run only the fetch command of all the recipes needed by your image recipe</td><td class="time"><a href="#t2022-01-25T15:42:59" class="time">15:42</a></td></tr>
<tr id="t2022-01-25T15:43:59"><th class="nick" style="background: #818144">ziga_</th><td class="text" style="color: #818144">I assume that U-boot's &quot;defconnfig&quot; is somewhere in the /tmp/work/? I should probably patch it with a .bbappend file similarly as I patched the kernel? But which filče to patch? I found some files here &quot;tmp/work/fotovolt-poky-linux-gnueabi/u-boot-ti-staging/1_2021.01+gitAUTOINC+15769936a5-r16/git/configs&quot; and the one that I think is the most appropriate is this one &quot;am335x_boneblack_vboot_defconfig&quot;. It has this line inside: &quot;CONFIG_DEFAULT_DE</td><td class="time"><a href="#t2022-01-25T15:43:59" class="time">15:43</a></td></tr>
<tr id="t2022-01-25T15:43:59-2"><th class="nick" style="background: #818144">ziga_</th><td class="text" style="color: #818144">VICE_TREE=&quot;am335x-boneblack&quot; so probably this is the one but how can I verify? Does Yocto have any mechanism to ferify if this is the right file?</td><td class="time"><a href="#t2022-01-25T15:43:59-2" class="time">15:43</a></td></tr>
<tr id="t2022-01-25T15:46:03"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">ziga_: UBOOT_MACHINE</td><td class="time"><a href="#t2022-01-25T15:46:03" class="time">15:46</a></td></tr>
<tr id="t2022-01-25T15:46:21"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">jsandman: --runall=fetch I think</td><td class="time"><a href="#t2022-01-25T15:46:21" class="time">15:46</a></td></tr>
<tr id="t2022-01-25T15:47:20"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">jsandman: other idea that comes to mind is to have a task that is not in the task tree (so not run by default) which is just going to dump the current latest commit to a file (your .inc file for example?)</td><td class="time"><a href="#t2022-01-25T15:47:20" class="time">15:47</a></td></tr>
<tr id="t2022-01-25T15:48:50"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">jsandman: though, if you have multiple machines, it's obviously still possible to have commits be pushed between those runs</td><td class="time"><a href="#t2022-01-25T15:48:50" class="time">15:48</a></td></tr>
<tr id="t2022-01-25T15:49:19"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">you can have them all happen at the same time by using multiconfig but phew, talk about overengineering :)</td><td class="time"><a href="#t2022-01-25T15:49:19" class="time">15:49</a></td></tr>
<tr id="t2022-01-25T15:49:46"><th class="nick" style="background: #b15db1">jsandman</th><td class="text" style="color: #b15db1">qschulz, Yep... I'm already running the fetch and it may take a while. If I have to run it for all machines I may end up in the same situation :S</td><td class="time"><a href="#t2022-01-25T15:49:46" class="time">15:49</a></td></tr>
<tr id="t2022-01-25T15:50:38"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">jsandman: how come? do you have SO many recipes that pertains to only one machine?</td><td class="time"><a href="#t2022-01-25T15:50:38" class="time">15:50</a></td></tr>
<tr id="t2022-01-25T15:50:50"><th class="nick" style="background: #b15db1">jsandman</th><td class="text" style="color: #b15db1">indeed! I just want to find a solution that is simple enough so I don't regret if I have to come back to fix something</td><td class="time"><a href="#t2022-01-25T15:50:50" class="time">15:50</a></td></tr>
<tr id="t2022-01-25T15:51:03"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">otherwise the tarballs you have in build/downloads (or whatever DL_DIR is set to) should be reused between runs</td><td class="time"><a href="#t2022-01-25T15:51:03" class="time">15:51</a></td></tr>
<tr id="t2022-01-25T15:53:30"><th class="nick" style="background: #b15db1">jsandman</th><td class="text" style="color: #b15db1">that's true, it did not seem to use what's already in downloads. Or at least not for all components but this may be this environment. I have to look into that as well</td><td class="time"><a href="#t2022-01-25T15:53:30" class="time">15:53</a></td></tr>
<tr id="t2022-01-25T15:53:59"><th class="nick" style="background: #b86161">shoragan[m]</th><td class="text" style="color: #b86161">&lt;qschulz&gt; &quot;vd: I think it makes more...&quot; &lt;- Yes, that's what I'd suggest for RAUC. Use image recipes to build images. :)</td><td class="time"><a href="#t2022-01-25T15:53:59" class="time">15:53</a></td></tr>
<tr id="t2022-01-25T15:54:41"><th class="nick" style="background: #5fb4b4">vd</th><td class="text" style="color: #5fb4b4">qschulz: shoragan[m]: that's the thing, RAUC needs a fixed-size binary image for the vfat bootloader partition... So far I'm dd'ing the first partition out of the wic image, but that's kinda ugly. The best would be that wic itself deployed the partition images it creates to DEPLOY_DIR_IMAGE (especially the vfat ones).</td><td class="time"><a href="#t2022-01-25T15:54:41" class="time">15:54</a></td></tr>
<tr id="t2022-01-25T15:56:13"><th class="nick" style="background: #5fb4b4">vd</th><td class="text" style="color: #5fb4b4">shoragan[m]: I'm talking about the boot-mbr-switch type ^</td><td class="time"><a href="#t2022-01-25T15:56:13" class="time">15:56</a></td></tr>
<tr id="t2022-01-25T15:57:19"><th class="nick" style="background: #5fb4b4">vd</th><td class="text" style="color: #5fb4b4">and OE has no &quot;vfat&quot; IMAGE_FSTYPES, so you gotta hack something.</td><td class="time"><a href="#t2022-01-25T15:57:19" class="time">15:57</a></td></tr>
<tr id="t2022-01-25T15:57:27"><th class="nick" style="background: #818144">ziga_</th><td class="text" style="color: #818144">@qschulz UBOOT_MACHINE = &quot;fotovolt&quot; did not compile. It says &quot;Configuration file &quot;.config&quot; not found! Please run some configurator (e.g. &quot;make oldconfig&quot; or &quot;make menuconfig&quot; or &quot;make xconfig&quot;).&quot; Is it the defconfig file that I am missing? Should I create it like &quot;&quot;tmp/work/fotovolt-poky-linux-gnueabi/u-boot-ti-staging/1_2021.01+gitAUTOINC+15769936a5-r16/git/configs/fotovolt_defconfig&quot;? IT is weird, because it says that &quot;.config&quot; file is</td><td class="time"><a href="#t2022-01-25T15:57:27" class="time">15:57</a></td></tr>
<tr id="t2022-01-25T15:57:27-2"><th class="nick" style="background: #818144">ziga_</th><td class="text" style="color: #818144">missing and in this folder there are only &quot;_defconfig&quot; files.</td><td class="time"><a href="#t2022-01-25T15:57:27-2" class="time">15:57</a></td></tr>
<tr id="t2022-01-25T15:57:35"><th class="nick" style="background: #b86161">shoragan[m]</th><td class="text" style="color: #b86161">vd: Why not have an image recipe building a fixed size FAT image? Then the bundle depends on that.</td><td class="time"><a href="#t2022-01-25T15:57:35" class="time">15:57</a></td></tr>
<tr id="t2022-01-25T15:58:39"><th class="nick" style="background: #5fb4b4">vd</th><td class="text" style="color: #5fb4b4">shoragan[m]: 1) OE has no (v)fat IMAGE_FSTYPES. 2) for the bootloader partition image you need the IMAGE_BOOT_FILES, not an image rootfs.</td><td class="time"><a href="#t2022-01-25T15:58:39" class="time">15:58</a></td></tr>
<tr id="t2022-01-25T15:58:47"><th class="nick" style="background: #b86161">shoragan[m]</th><td class="text" style="color: #b86161">So that would be a good opportunity to add that, instead of using WIC to build a partition table and disk image, and then throw that away again.</td><td class="time"><a href="#t2022-01-25T15:58:47" class="time">15:58</a></td></tr>
<tr id="t2022-01-25T15:59:31"><th class="nick" style="background: #5fb4b4">vd</th><td class="text" style="color: #5fb4b4">that's not a solution for 2).</td><td class="time"><a href="#t2022-01-25T15:59:31" class="time">15:59</a></td></tr>
<tr id="t2022-01-25T15:59:47"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">ziga_: you need to suffix it with _defconfig</td><td class="time"><a href="#t2022-01-25T15:59:47" class="time">15:59</a></td></tr>
<tr id="t2022-01-25T16:00:11"><th class="nick" style="background: #818144">ziga_</th><td class="text" style="color: #818144">@qschulz Ok.</td><td class="time"><a href="#t2022-01-25T16:00:11" class="time">16:00</a></td></tr>
<tr id="t2022-01-25T16:01:45"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">vd: create a filesystem with the fiels listed in IMAGE_BOOT_FILES then and use this filesystem in wic?</td><td class="time"><a href="#t2022-01-25T16:01:45" class="time">16:01</a></td></tr>
<tr id="t2022-01-25T16:02:25-2"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">but before trying to do things in Yocto wrt FW upgrade, check what is suggested by the framework you're using, I doubt this is an unanswered question</td><td class="time"><a href="#t2022-01-25T16:02:25-2" class="time">16:02</a></td></tr>
<tr id="t2022-01-25T16:03:05"><th class="nick" style="background: #5fb4b4">vd</th><td class="text" style="color: #5fb4b4">qschulz: that's what we're talking about with shoragan[m], he's one of the framework authors ;-)</td><td class="time"><a href="#t2022-01-25T16:03:05" class="time">16:03</a></td></tr>
<tr id="t2022-01-25T16:03:29"><th class="nick" style="background: #b86161">shoragan[m]</th><td class="text" style="color: #b86161">vd: you can also add IMAGE_CMDs locally</td><td class="time"><a href="#t2022-01-25T16:03:29" class="time">16:03</a></td></tr>
<tr id="t2022-01-25T16:04:24"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">vd: considering shoragan[m] popped up right when I said rauc, I assume they have something to do with it and have a notification when it's mentioned :D</td><td class="time"><a href="#t2022-01-25T16:04:24" class="time">16:04</a></td></tr>
<tr id="t2022-01-25T16:04:53"><th class="nick" style="background: #b86161">shoragan[m]</th><td class="text" style="color: #b86161">with RAUC, i only use WIC for the initial factory disk image, if at all. all images that are needed for that and for updates are built with normal bitbake recipes.</td><td class="time"><a href="#t2022-01-25T16:04:53" class="time">16:04</a></td></tr>
<tr id="t2022-01-25T16:05:05"><th class="nick" style="background: #b86161">shoragan[m]</th><td class="text" style="color: #b86161">it's much more flexible that way</td><td class="time"><a href="#t2022-01-25T16:05:05" class="time">16:05</a></td></tr>
<tr id="t2022-01-25T16:05:18"><th class="nick" style="background: #b86161">shoragan[m]</th><td class="text" style="color: #b86161">qschulz: yep :)</td><td class="time"><a href="#t2022-01-25T16:05:18" class="time">16:05</a></td></tr>
<tr id="t2022-01-25T16:05:20"><th class="nick" style="background: #5fb4b4">vd</th><td class="text" style="color: #5fb4b4">shoragan[m]: you would just end up rewritting what wic does</td><td class="time"><a href="#t2022-01-25T16:05:20" class="time">16:05</a></td></tr>
<tr id="t2022-01-25T16:05:52"><th class="nick" style="background: #5fb4b4">vd</th><td class="text" style="color: #5fb4b4">qschulz: yep, that's how you invoke genius, you gotta rub the rauc lamp</td><td class="time"><a href="#t2022-01-25T16:05:52" class="time">16:05</a></td></tr>
<tr id="t2022-01-25T16:06:13"><th class="nick" style="background: #5fb4b4">vd</th><td class="text" style="color: #5fb4b4">I'</td><td class="time"><a href="#t2022-01-25T16:06:13" class="time">16:06</a></td></tr>
<tr id="t2022-01-25T16:06:17"><th class="nick" style="background: #b86161">shoragan[m]</th><td class="text" style="color: #b86161">vd: why? which builds a rootfs, splits that and generates a pratition table. none of that is needed for your FAT partition</td><td class="time"><a href="#t2022-01-25T16:06:17" class="time">16:06</a></td></tr>
<tr id="t2022-01-25T16:06:27"><th class="nick" style="background: #b86161">shoragan[m]</th><td class="text" style="color: #b86161">s/which/wic</td><td class="time"><a href="#t2022-01-25T16:06:27" class="time">16:06</a></td></tr>
<tr id="t2022-01-25T16:06:39"><th class="nick" style="background: #62bb62">RP</th><td class="text" style="color: #62bb62">rburton: <a href="https://autobuilder.yoctoproject.org/typhoon/#/builders/110/builds/3528" rel="nofollow">https://autobuilder.yoctoproject.org/typhoon/#/builders/110/builds/3528</a> - not sure I dare show you that :/</td><td class="time"><a href="#t2022-01-25T16:06:39" class="time">16:06</a></td></tr>
<tr id="t2022-01-25T16:06:57"><th class="nick" style="background: #57a657">rburton</th><td class="text" style="color: #57a657">was just looking</td><td class="time"><a href="#t2022-01-25T16:06:57" class="time">16:06</a></td></tr>
<tr id="t2022-01-25T16:07:20"><th class="nick" style="background: #a25555">manuel1985</th><td class="text" style="color: #a25555">kanavin, qschulz: Alright thx for your insights w.r.t. gtk4</td><td class="time"><a href="#t2022-01-25T16:07:20" class="time">16:07</a></td></tr>
<tr id="t2022-01-25T16:07:33"><th class="nick" style="background: #b86161">shoragan[m]</th><td class="text" style="color: #b86161">vd: of course, OE could make it a bit easier to build non-rootfs images</td><td class="time"><a href="#t2022-01-25T16:07:33" class="time">16:07</a></td></tr>
<tr id="t2022-01-25T16:09:53"><th class="nick" style="background: #5fb4b4">vd</th><td class="text" style="color: #5fb4b4">shoragan[m]: I'll show you what I've done to package the IMAGE_BOOT_FILES in a single partition image.</td><td class="time"><a href="#t2022-01-25T16:09:53" class="time">16:09</a></td></tr>
<tr id="t2022-01-25T16:11:55"><th class="nick" style="background: #b86161">shoragan[m]</th><td class="text" style="color: #b86161">ah, IMAGE_BOOT_FILES is WIC-specific. that explains why i've not used it so far</td><td class="time"><a href="#t2022-01-25T16:11:55" class="time">16:11</a></td></tr>
<tr id="t2022-01-25T16:12:54"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">shoragan[m]: it's only used by wic right now but nothing in the documentation says it should be the only consumer?</td><td class="time"><a href="#t2022-01-25T16:12:54" class="time">16:12</a></td></tr>
<tr id="t2022-01-25T16:14:32"><th class="nick" style="background: #b86161">shoragan[m]</th><td class="text" style="color: #b86161">qschulz: fair enough</td><td class="time"><a href="#t2022-01-25T16:14:32" class="time">16:14</a></td></tr>
<tr id="t2022-01-25T16:16:48"><th class="nick" style="background: #b86161">shoragan[m]</th><td class="text" style="color: #b86161">vd: It's not a new discussion, though: <a href="https://lore.kernel.org/openembedded-core/776827b7-ca3e-e319-c2f0-b8b15bef4fb2@pengutronix.de/" rel="nofollow">https://lore.kernel.org/openembedded-core/776827b7-ca3e-e319-c2f0-b8b15bef4fb2@pengutronix.de/</a> ;)</td><td class="time"><a href="#t2022-01-25T16:16:48" class="time">16:16</a></td></tr>
<tr id="t2022-01-25T16:29:39"><th class="nick" style="background: #5fb4b4">vd</th><td class="text" style="color: #5fb4b4">shoragan[m]: you can see a .wic image as a kinda flattened bundle, which is kinda cool. It's the closed to what you need deployed on a target medium, thus picking partition images and tarballs wic created to prepare the bundle is quite simple.</td><td class="time"><a href="#t2022-01-25T16:29:39" class="time">16:29</a></td></tr>
<tr id="t2022-01-25T16:29:45-2"><th class="nick" style="background: #5fb4b4">vd</th><td class="text" style="color: #5fb4b4">I'll get back to you</td><td class="time"><a href="#t2022-01-25T16:29:45-2" class="time">16:29</a></td></tr>
<tr id="t2022-01-25T16:30:36"><th class="nick" style="background: #5959a9">kanavin</th><td class="text" style="color: #5959a9">RP: both qemuarm and qemuarm-alt, with additional systemd fails in the latter</td><td class="time"><a href="#t2022-01-25T16:30:36" class="time">16:30</a></td></tr>
<tr id="t2022-01-25T16:32:17"><th class="nick" style="background: #b86161">shoragan[m]</th><td class="text" style="color: #b86161">vd: to me, that doesn't make sense. and update would not include partition tables</td><td class="time"><a href="#t2022-01-25T16:32:17" class="time">16:32</a></td></tr>
<tr id="t2022-01-25T16:32:19"><th class="nick" style="background: #b86161">shoragan[m]</th><td class="text" style="color: #b86161">s/and/an/</td><td class="time"><a href="#t2022-01-25T16:32:19" class="time">16:32</a></td></tr>
<tr id="t2022-01-25T16:35:16"><th class="nick" style="background: #5fb4b4">vd</th><td class="text" style="color: #5fb4b4">shoragan[m]: true, I'm talking about abusing wic to generate the bundle slot images</td><td class="time"><a href="#t2022-01-25T16:35:16" class="time">16:35</a></td></tr>
<tr id="t2022-01-25T16:37:39"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">vd: remember that usually pieces of SW likes to not be dependent on the build system they are built with. Which means it makes sense for RAUC to have their own bundle image creation process</td><td class="time"><a href="#t2022-01-25T16:37:39" class="time">16:37</a></td></tr>
<tr id="t2022-01-25T16:37:50"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">so that it'd work with Buildroot or handcrafted build systems</td><td class="time"><a href="#t2022-01-25T16:37:50" class="time">16:37</a></td></tr>
<tr id="t2022-01-25T16:46:51"><th class="nick" style="background: #5fb4b4">vd</th><td class="text" style="color: #5fb4b4">qschulz: true but the problem is that because we don't have yet a mechanism to bundle the IMAGE_BOOT_FILES individually, you need a machine-specific recipe for the boot partition, which isn't very OE-friendly (where images must be kept generic if possible while the IMAGE_BOOT_FILES is defined by the machine configuration).</td><td class="time"><a href="#t2022-01-25T16:46:51" class="time">16:46</a></td></tr>
<tr id="t2022-01-25T16:49:54"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">vd: not sure to understand the issue?</td><td class="time"><a href="#t2022-01-25T16:49:54" class="time">16:49</a></td></tr>
<tr id="t2022-01-25T17:03:21"><th class="nick" style="background: #5fb4b4">vd</th><td class="text" style="color: #5fb4b4">qschulz: with OE the (generic) machine configuration defines IMAGE_BOOT_FILES. If you want to update the boot partition with RAUC, you need to pack these file in a fixed-size partition image. You can 1) create a custom recipe which fallocate/mkfs.vfat/mcopy the files listed in IMAGE_BOOT_FILES, or 2) add a task to extract the boot partition with e.g. dd ibs=512 skip=1 ... into DEPLOY_DIR_IMAGE</td><td class="time"><a href="#t2022-01-25T17:03:21" class="time">17:03</a></td></tr>
<tr id="t2022-01-25T17:03:23"><th class="nick" style="background: #5fb4b4">vd</th><td class="text" style="color: #5fb4b4">(which wouldn't be necessary if WIC did that already).</td><td class="time"><a href="#t2022-01-25T17:03:23" class="time">17:03</a></td></tr>
<tr id="t2022-01-25T17:17:01"><th class="nick" style="background: #b86161">shoragan[m]</th><td class="text" style="color: #b86161">vd: you could also add an image recipe for 1) to oe-core or meta-oe</td><td class="time"><a href="#t2022-01-25T17:17:01" class="time">17:17</a></td></tr>
<tr id="t2022-01-25T17:18:01"><th class="nick" style="background: #b86161">shoragan[m]</th><td class="text" style="color: #b86161">or implement that feature in wic</td><td class="time"><a href="#t2022-01-25T17:18:01" class="time">17:18</a></td></tr>
<tr id="t2022-01-25T17:18:14"><th class="nick" style="background: #b86161">shoragan[m]</th><td class="text" style="color: #b86161">oe-core is not set in stone :)</td><td class="time"><a href="#t2022-01-25T17:18:14" class="time">17:18</a></td></tr>
<tr id="t2022-01-25T17:29:48"><th class="nick" style="background: #5fb4b4">vd</th><td class="text" style="color: #5fb4b4">shoragan[m]: that's exactly what I'm discussing. I think the best is to patch wic to optionally deploy the images it creates during the process.</td><td class="time"><a href="#t2022-01-25T17:29:48" class="time">17:29</a></td></tr>
<tr id="t2022-01-25T17:37:35"><td class="nickchange" colspan="2">*** mckoan is now known as mckoan|away</td><td><a href="#t2022-01-25T17:37:35" class="time">17:37</a></td></tr>
<tr id="t2022-01-25T18:35:37"><th class="nick" style="background: #818144">ziga_</th><td class="text" style="color: #818144">U-boot uses &quot;CONFIG_DEFAULT_DEVICE_TREE&quot; to set the default U-boot DTB, but which variable is used to set the DTB that U-boot passes to the kernel?</td><td class="time"><a href="#t2022-01-25T18:35:37" class="time">18:35</a></td></tr>
<tr id="t2022-01-25T19:33:21"><th class="nick" style="background: #6464bf">Tartarus</th><td class="text" style="color: #6464bf">ziga_: It ends up being BSP-specific, you're best off examining the environment in the console to see what it ends up as</td><td class="time"><a href="#t2022-01-25T19:33:21" class="time">19:33</a></td></tr>
<tr id="t2022-01-25T19:34:38"><th class="nick" style="background: #818144">ziga_</th><td class="text" style="color: #818144">@Tartarus Hmmm how do I check the environment?</td><td class="time"><a href="#t2022-01-25T19:34:38" class="time">19:34</a></td></tr>
<tr id="t2022-01-25T21:01:29"><th class="nick" style="background: #6464bf">Tartarus</th><td class="text" style="color: #6464bf">ziga_: In console, printenv</td><td class="time"><a href="#t2022-01-25T21:01:29" class="time">21:01</a></td></tr>
<tr id="t2022-01-25T21:01:34"><th class="nick" style="background: #6464bf">Tartarus</th><td class="text" style="color: #6464bf">Not a bitbake thing, an on-target thing</td><td class="time"><a href="#t2022-01-25T21:01:34" class="time">21:01</a></td></tr>
<tr id="t2022-01-25T21:05:15"><th class="nick" style="background: #818144">ziga_</th><td class="text" style="color: #818144">@Tartarus The &quot;set&quot; command reveals &quot;HOSTNAME='fotovolt'&quot;.</td><td class="time"><a href="#t2022-01-25T21:05:15" class="time">21:05</a></td></tr>
<tr id="t2022-01-25T21:05:29"><th class="nick" style="background: #818144">ziga_</th><td class="text" style="color: #818144">@Tartarus That's all.</td><td class="time"><a href="#t2022-01-25T21:05:29" class="time">21:05</a></td></tr>
<tr id="t2022-01-25T21:08:21"><th class="nick" style="background: #818144">ziga_</th><td class="text" style="color: #818144">@Tartarus I executed &quot;set&quot; after I boot to my target.</td><td class="time"><a href="#t2022-01-25T21:08:21" class="time">21:08</a></td></tr>
<tr id="t2022-01-25T21:59:36"><th class="nick" style="background: #62bb62">RP</th><td class="text" style="color: #62bb62">kanavin: we may need to check that prelink-rtld doesn't use the functionality which is being removed in glibc when we use it in introspection :/</td><td class="time"><a href="#t2022-01-25T21:59:36" class="time">21:59</a></td></tr>
<tr id="t2022-01-25T22:02:32"><th class="nick" style="background: #5959a9">kanavin</th><td class="text" style="color: #5959a9">RP: yes, I was thinking that it needs to be replaced with something that can also list shared libraries but doesn't come from prelink tree</td><td class="time"><a href="#t2022-01-25T22:02:32" class="time">22:02</a></td></tr>
<tr id="t2022-01-25T22:03:16"><th class="nick" style="background: #5959a9">kanavin</th><td class="text" style="color: #5959a9">I guess something from binutils or elfutils will do the job, but just needs to be tested and probably data massaging added</td><td class="time"><a href="#t2022-01-25T22:03:16" class="time">22:03</a></td></tr>
<tr id="t2022-01-25T22:03:44"><th class="nick" style="background: #62bb62">RP</th><td class="text" style="color: #62bb62">kanavin: upstream might be ok with with a cross ldd too, I can't remember exactly what this is doing</td><td class="time"><a href="#t2022-01-25T22:03:44" class="time">22:03</a></td></tr>
<tr id="t2022-01-25T22:05:01"><th class="nick" style="background: #5959a9">kanavin</th><td class="text" style="color: #5959a9">RP: yes, that should work fine. I think native ldd didn't work, and prelink-rtld back then was available and quick and easy to substitute</td><td class="time"><a href="#t2022-01-25T22:05:01" class="time">22:05</a></td></tr>
<tr id="t2022-01-25T22:05:27"><th class="nick" style="background: #5959a9">kanavin</th><td class="text" style="color: #5959a9">why native ldd can't handle something for a different architecture I can't understand :-/ but whatevs</td><td class="time"><a href="#t2022-01-25T22:05:27" class="time">22:05</a></td></tr>
<tr id="t2022-01-25T22:14:07"><th class="nick" style="background: #c3c366">smurray</th><td class="text" style="color: #c3c366">is it something that readelf can pull out?</td><td class="time"><a href="#t2022-01-25T22:14:07" class="time">22:14</a></td></tr>
<tr id="t2022-01-25T22:19:00"><th class="nick" style="background: #5959a9">kanavin</th><td class="text" style="color: #5959a9">basically anything that can print the list of shared libs from an executable</td><td class="time"><a href="#t2022-01-25T22:19:00" class="time">22:19</a></td></tr>
<tr id="t2022-01-25T22:19:17"><th class="nick" style="background: #5959a9">kanavin</th><td class="text" style="color: #5959a9">preferably same way as ldd does</td><td class="time"><a href="#t2022-01-25T22:19:17" class="time">22:19</a></td></tr>
<tr id="t2022-01-25T22:32:52"><th class="nick" style="background: #5fb4b4">vd</th><td class="text" style="color: #5fb4b4">Do you usually see overrides written like FOO:&lt;machine&gt;:&lt;distro&gt; or FOO:&lt;distro&gt;:&lt;machine&gt; or does it not matter at all?</td><td class="time"><a href="#t2022-01-25T22:32:52" class="time">22:32</a></td></tr>
<tr id="t2022-01-25T22:33:51"><th class="nick" style="background: #62bb62">RP</th><td class="text" style="color: #62bb62">smurray, kanavin: from memory I think the issue is that it has to &quot;link&quot; the executable the same way it would be at runtime to work out what that list looks like. prelink does that as part of its processing anyway but I don't think ldd can do it for cross binaries</td><td class="time"><a href="#t2022-01-25T22:33:51" class="time">22:33</a></td></tr>
<tr id="t2022-01-25T23:36:46"><td class="part" colspan="2">*** sveinse &lt;sveinse!~sveinse@2a01:799:55e:1000:c23f:d5ff:fe69:c6fb&gt; has left #yocto</td><td><a href="#t2022-01-25T23:36:46" class="time">23:36</a></td></tr>
<tr id="t2022-01-25T23:54:21"><th class="nick" style="background: #5959a9">kanavin</th><td class="text" style="color: #5959a9">RP: g-i seems happy with $OBJDUMP -p executable</td><td class="time"><a href="#t2022-01-25T23:54:21" class="time">23:54</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2022-01-24.log.html">&#171; Monday, 2022-01-24</a> <a href="index.html">Index</a> <a href="%23yocto.2022-01-26.log.html">Wednesday, 2022-01-26 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.17.2 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="https://mg.pov.lt/irclog2html/">https://mg.pov.lt/irclog2html/</a>!</p>
</div>
</body>
</html>
