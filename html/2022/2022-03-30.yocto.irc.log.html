<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Wednesday, 2022-03-30</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.17.2 by Marius Gedminas" />
  <meta name="version" content="2.17.2 - 2019-04-23" />
</head>
<body>
<h1>Wednesday, 2022-03-30</h1>
<div class="navigation"> <a href="%23yocto.2022-03-29.log.html">&#171; Tuesday, 2022-03-29</a> <a href="index.html">Index</a> <a href="%23yocto.2022-03-31.log.html">Thursday, 2022-03-31 &#187;</a> </div>
<table class="irclog">
<tr id="t2022-03-30T06:53:38"><td class="nickchange" colspan="2">*** mckoan|away is now known as mckoan</td><td><a href="#t2022-03-30T06:53:38" class="time">06:53</a></td></tr>
<tr id="t2022-03-30T07:08:24"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">khem: still think it is too late given the impact on other layers</td><td class="time"><a href="#t2022-03-30T07:08:24" class="time">07:08</a></td></tr>
<tr id="t2022-03-30T07:08:31"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">good for master though</td><td class="time"><a href="#t2022-03-30T07:08:31" class="time">07:08</a></td></tr>
<tr id="t2022-03-30T07:34:11"><th class="nick" style="background: #42427e">dirtyflag</th><td class="text" style="color: #42427e">gm, need to set a customized m4 app for imx8qxp (i own the binary), is it a imx-boot bbappend okay for this ?</td><td class="time"><a href="#t2022-03-30T07:34:11" class="time">07:34</a></td></tr>
<tr id="t2022-03-30T07:34:18"><th class="nick" style="background: #42427e">dirtyflag</th><td class="text" style="color: #42427e">(i am in zeus)</td><td class="time"><a href="#t2022-03-30T07:34:18" class="time">07:34</a></td></tr>
<tr id="t2022-03-30T07:34:49"><th class="nick" style="background: #42427e">dirtyflag</th><td class="text" style="color: #42427e">ok sry, this seems more meta-imx specific stuff</td><td class="time"><a href="#t2022-03-30T07:34:49" class="time">07:34</a></td></tr>
<tr id="t2022-03-30T09:35:37"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">Saur[m]: you mentioned a source mirror problem where the url changes were causing problems with the mirrors. Did you ever look into that more or find a simpler test case?</td><td class="time"><a href="#t2022-03-30T09:35:37" class="time">09:35</a></td></tr>
<tr id="t2022-03-30T09:43:18"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">Saur[m]: I did try locally changing some urls to use https then seeing if the tarballs from the mirror worked and they still do so I don't think they're encoding url information</td><td class="time"><a href="#t2022-03-30T09:43:18" class="time">09:43</a></td></tr>
<tr id="t2022-03-30T10:30:52"><th class="nick" style="background: #818144">selff</th><td class="text" style="color: #818144">hi everyone, i have problem with wpa and ap. i want to share my problem but a little bit long with explanation. is it problem ? im asking because i dont know if there are any rules here. (newbie)</td><td class="time"><a href="#t2022-03-30T10:30:52" class="time">10:30</a></td></tr>
<tr id="t2022-03-30T10:43:29"><th class="nick" style="background: #818144">selff</th><td class="text" style="color: #818144">when i run hostapd service in runtime, it switches to AP mode without any problems. to switch to wpa, i follow these steps:</td><td class="time"><a href="#t2022-03-30T10:43:29" class="time">10:43</a></td></tr>
<tr id="t2022-03-30T10:43:29-2"><th class="nick" style="background: #818144">selff</th><td class="text" style="color: #818144">enable &quot;wpa_supplicant@wlan0&quot; and disable &quot;hostapd&quot;, reboot. when i run the &quot;wpa_supplicant@wlan0&quot; service, it does not switch to wpa mode.</td><td class="time"><a href="#t2022-03-30T10:43:29-2" class="time">10:43</a></td></tr>
<tr id="t2022-03-30T10:43:30"><th class="nick" style="background: #818144">selff</th><td class="text" style="color: #818144">even though hostapd is closed, wpa uses the hostapd ip in ap mode, that is 192.168.0.1.</td><td class="time"><a href="#t2022-03-30T10:43:30" class="time">10:43</a></td></tr>
<tr id="t2022-03-30T10:43:30-2"><th class="nick" style="background: #818144">selff</th><td class="text" style="color: #818144">for this i followed the steps as follows:</td><td class="time"><a href="#t2022-03-30T10:43:30-2" class="time">10:43</a></td></tr>
<tr id="t2022-03-30T10:43:31"><th class="nick" style="background: #818144">selff</th><td class="text" style="color: #818144">1) i made the AP related settings in &quot;hostapd.conf&quot;, ssid, pw etc. :</td><td class="time"><a href="#t2022-03-30T10:43:31" class="time">10:43</a></td></tr>
<tr id="t2022-03-30T10:43:31-2"><th class="nick" style="background: #818144">selff</th><td class="text" style="color: #818144">interface=wlan0</td><td class="time"><a href="#t2022-03-30T10:43:31-2" class="time">10:43</a></td></tr>
<tr id="t2022-03-30T10:43:32"><th class="nick" style="background: #818144">selff</th><td class="text" style="color: #818144">driver=nl80211</td><td class="time"><a href="#t2022-03-30T10:43:32" class="time">10:43</a></td></tr>
<tr id="t2022-03-30T10:43:32-2"><th class="nick" style="background: #818144">selff</th><td class="text" style="color: #818144">hw_mode=g</td><td class="time"><a href="#t2022-03-30T10:43:32-2" class="time">10:43</a></td></tr>
<tr id="t2022-03-30T10:43:33"><th class="nick" style="background: #818144">selff</th><td class="text" style="color: #818144">ssid=YOCTO_TEST</td><td class="time"><a href="#t2022-03-30T10:43:33" class="time">10:43</a></td></tr>
<tr id="t2022-03-30T10:43:33-2"><th class="nick" style="background: #818144">selff</th><td class="text" style="color: #818144">auth_algs=1</td><td class="time"><a href="#t2022-03-30T10:43:33-2" class="time">10:43</a></td></tr>
<tr id="t2022-03-30T10:43:34"><th class="nick" style="background: #818144">selff</th><td class="text" style="color: #818144">ignore_broadcast_ssid=0</td><td class="time"><a href="#t2022-03-30T10:43:34" class="time">10:43</a></td></tr>
<tr id="t2022-03-30T10:43:34-2"><th class="nick" style="background: #818144">selff</th><td class="text" style="color: #818144">wpa=2</td><td class="time"><a href="#t2022-03-30T10:43:34-2" class="time">10:43</a></td></tr>
<tr id="t2022-03-30T10:43:35"><th class="nick" style="background: #818144">selff</th><td class="text" style="color: #818144">etc.</td><td class="time"><a href="#t2022-03-30T10:43:35" class="time">10:43</a></td></tr>
<tr id="t2022-03-30T10:43:35-2"><th class="nick" style="background: #818144">selff</th><td class="text" style="color: #818144">2) i set the &quot;hostapd.network&quot; as follows:</td><td class="time"><a href="#t2022-03-30T10:43:35-2" class="time">10:43</a></td></tr>
<tr id="t2022-03-30T10:43:36"><th class="nick" style="background: #818144">selff</th><td class="text" style="color: #818144">[Match]</td><td class="time"><a href="#t2022-03-30T10:43:36" class="time">10:43</a></td></tr>
<tr id="t2022-03-30T10:43:36-2"><th class="nick" style="background: #818144">selff</th><td class="text" style="color: #818144">name=wlan0</td><td class="time"><a href="#t2022-03-30T10:43:36-2" class="time">10:43</a></td></tr>
<tr id="t2022-03-30T10:43:37"><th class="nick" style="background: #818144">selff</th><td class="text" style="color: #818144">[Network]</td><td class="time"><a href="#t2022-03-30T10:43:37" class="time">10:43</a></td></tr>
<tr id="t2022-03-30T10:43:37-2"><th class="nick" style="background: #818144">selff</th><td class="text" style="color: #818144">Address=192.168.0.1/24</td><td class="time"><a href="#t2022-03-30T10:43:37-2" class="time">10:43</a></td></tr>
<tr id="t2022-03-30T10:44:38"><th class="nick" style="background: #818144">selff</th><td class="text" style="color: #818144">there was no answer related to the rules. i shared it, sorry if i did something wong .</td><td class="time"><a href="#t2022-03-30T10:44:38" class="time">10:44</a></td></tr>
<tr id="t2022-03-30T11:03:47"><th class="nick" style="background: #854685">Schlumpf</th><td class="text" style="color: #854685">Hi, is there a way to see which packages of an image have been included by RECOMMENDS?</td><td class="time"><a href="#t2022-03-30T11:03:47" class="time">11:03</a></td></tr>
<tr id="t2022-03-30T11:08:05"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">Schlumpf: NO_RECOMMENDATIONS = &quot;1&quot; in your image and rebuild, do the diff :)</td><td class="time"><a href="#t2022-03-30T11:08:05" class="time">11:08</a></td></tr>
<tr id="t2022-03-30T11:08:13"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">(I don't know if there's a better way, sorry)</td><td class="time"><a href="#t2022-03-30T11:08:13" class="time">11:08</a></td></tr>
<tr id="t2022-03-30T11:08:31"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">(use buildhistory though, which gives you plenty of info, among which the list of packages)</td><td class="time"><a href="#t2022-03-30T11:08:31" class="time">11:08</a></td></tr>
<tr id="t2022-03-30T11:14:51"><th class="nick" style="background: #854685">Schlumpf</th><td class="text" style="color: #854685">qschulz: OK, thanks will try</td><td class="time"><a href="#t2022-03-30T11:14:51" class="time">11:14</a></td></tr>
<tr id="t2022-03-30T11:19:16"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">Schlumpf: the do_rootfs log will probably say</td><td class="time"><a href="#t2022-03-30T11:19:16" class="time">11:19</a></td></tr>
<tr id="t2022-03-30T11:24:02"><th class="nick" style="background: #4b904b">Guest16</th><td class="text" style="color: #4b904b">Hi! Do you know which yocto package contains the tool &quot;chrt&quot;?</td><td class="time"><a href="#t2022-03-30T11:24:02" class="time">11:24</a></td></tr>
<tr id="t2022-03-30T11:25:38"><th class="nick" style="background: #818144">selff</th><td class="text" style="color: #818144">rburton may i ask you a question? you find answers to almost all my questions :D</td><td class="time"><a href="#t2022-03-30T11:25:38" class="time">11:25</a></td></tr>
<tr id="t2022-03-30T11:25:48"><th class="nick" style="background: #4d4d93">LetoThe2nd</th><td class="text" style="color: #4d4d93">Guest16: <a href="http://cgit.openembedded.org/openembedded-core/tree/meta/recipes-core/util-linux/util-linux_2.37.4.bb" rel="nofollow">http://cgit.openembedded.org/openembedded-core/tree/meta/recipes-core/util-linux/util-linux_2.37.4.bb</a></td><td class="time"><a href="#t2022-03-30T11:25:48" class="time">11:25</a></td></tr>
<tr id="t2022-03-30T11:27:25"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">selff: you can ask the channel and I may know</td><td class="time"><a href="#t2022-03-30T11:27:25" class="time">11:27</a></td></tr>
<tr id="t2022-03-30T11:27:26"><th class="nick" style="background: #4b904b">Guest16</th><td class="text" style="color: #4b904b">ah cool. I already set IMAGE_INSTALL_append += &quot; util-linux-taskset&quot;. Is it possible to set IMAGE_INSTALL_append += &quot; util-linux-chrt&quot; additionally?</td><td class="time"><a href="#t2022-03-30T11:27:26" class="time">11:27</a></td></tr>
<tr id="t2022-03-30T11:28:08"><th class="nick" style="background: #4b904b">Guest16</th><td class="text" style="color: #4b904b">It seems to me this reduces to a single program of this package, but I'm not sure</td><td class="time"><a href="#t2022-03-30T11:28:08" class="time">11:28</a></td></tr>
<tr id="t2022-03-30T11:28:58"><th class="nick" style="background: #4d4d93">LetoThe2nd</th><td class="text" style="color: #4d4d93">Guest16: might work, try and find out.</td><td class="time"><a href="#t2022-03-30T11:28:58" class="time">11:28</a></td></tr>
<tr id="t2022-03-30T11:29:47"><th class="nick" style="background: #4b904b">Guest16</th><td class="text" style="color: #4b904b">thanx LetoThe2nd for your quick reply!</td><td class="time"><a href="#t2022-03-30T11:29:47" class="time">11:29</a></td></tr>
<tr id="t2022-03-30T11:59:03"><th class="nick" style="background: #818144">selff</th><td class="text" style="color: #818144"> i have problem with wpa and ap. i want to use both wpa and ap in my image.</td><td class="time"><a href="#t2022-03-30T11:59:03" class="time">11:59</a></td></tr>
<tr id="t2022-03-30T11:59:04"><th class="nick" style="background: #818144">selff</th><td class="text" style="color: #818144">when i run hostapd service in runtime, it switches to AP mode without any problems and read the &quot;hostapd.network&quot; settings. to switch to wpa, i follow these steps:</td><td class="time"><a href="#t2022-03-30T11:59:04" class="time">11:59</a></td></tr>
<tr id="t2022-03-30T11:59:04-2"><th class="nick" style="background: #818144">selff</th><td class="text" style="color: #818144">enable &quot;wpa_supplicant@wlan0&quot; and disable &quot;hostapd&quot;, reboot. when i run the &quot;wpa_supplicant@wlan0&quot; service, it does not switch to wpa mode.</td><td class="time"><a href="#t2022-03-30T11:59:04-2" class="time">11:59</a></td></tr>
<tr id="t2022-03-30T11:59:05"><th class="nick" style="background: #818144">selff</th><td class="text" style="color: #818144">even though hostapd is closed, wpa uses the hostapd ip in ap mode, that is 192.168.0.1. wpa is still reading &quot;hostapd.network&quot; instead of &quot;wlan.network&quot;.</td><td class="time"><a href="#t2022-03-30T11:59:05" class="time">11:59</a></td></tr>
<tr id="t2022-03-30T14:27:20"><th class="nick" style="background: #97974f">wyre</th><td class="text" style="color: #97974f">is this class recommended to parse git tags and use them in PV? 🤔</td><td class="time"><a href="#t2022-03-30T14:27:20" class="time">14:27</a></td></tr>
<tr id="t2022-03-30T14:28:52"><th class="nick" style="background: #97974f">wyre</th><td class="text" style="color: #97974f">hmmm, apparently openembedded has its own classes for this <a href="https://github.com/openembedded/meta-openembedded/blob/master/meta-oe/classes/gitpkgv.bbclass" rel="nofollow">https://github.com/openembedded/meta-openembedded/blob/master/meta-oe/classes/gitpkgv.bbclass</a> and <a href="https://github.com/open-rnd/meta-openrnd/blob/master/classes/externalgitsrc.bbclass" rel="nofollow">https://github.com/open-rnd/meta-openrnd/blob/master/classes/externalgitsrc.bbclass</a></td><td class="time"><a href="#t2022-03-30T14:28:52" class="time">14:28</a></td></tr>
<tr id="t2022-03-30T14:29:08"><th class="nick" style="background: #97974f">wyre</th><td class="text" style="color: #97974f">but ... I'm not sure which one is the appropriate for PV 🤔</td><td class="time"><a href="#t2022-03-30T14:29:08" class="time">14:29</a></td></tr>
<tr id="t2022-03-30T14:29:38"><th class="nick" style="background: #97974f">wyre</th><td class="text" style="color: #97974f">oh, I meant that one <a href="https://github.com/openembedded/meta-openembedded/blob/master/meta-oe/classes/gitver.bbclass" rel="nofollow">https://github.com/openembedded/meta-openembedded/blob/master/meta-oe/classes/gitver.bbclass</a></td><td class="time"><a href="#t2022-03-30T14:29:38" class="time">14:29</a></td></tr>
<tr id="t2022-03-30T14:30:10"><th class="nick" style="background: #97974f">wyre</th><td class="text" style="color: #97974f">I think I prefer those from oe than the one in meta-rnd, that way I don't need an extra layer just for this</td><td class="time"><a href="#t2022-03-30T14:30:10" class="time">14:30</a></td></tr>
<tr id="t2022-03-30T14:32:22"><th class="nick" style="background: #97974f">wyre</th><td class="text" style="color: #97974f">apparently the most appropriate for setting PV is gitver.bbclass 🤔</td><td class="time"><a href="#t2022-03-30T14:32:22" class="time">14:32</a></td></tr>
<tr id="t2022-03-30T14:36:05"><th class="nick" style="background: #9b519b">MrSaturn</th><td class="text" style="color: #9b519b">Is there something more drastic than cleanall?&nbsp;&nbsp;I am getting this error message:&nbsp;&nbsp;ERROR: When reparsing /workdir/bgnetworks/yocto/sources/meta-uei-arm/recipes-bsp/u-boot/u-boot-uei_2021.04.bb:do_compile, the basehash value changed from 496b9c60a9b67ba3a584f8f0c16e5809fa58d62b3e428130e87cef480c3d97f0 to a052ed2d05d9ca29c5f8f3ac53c9e92a58e2167da7a14900890b77a3eb4b4f7c. The metadata is not deterministic and</td><td class="time"><a href="#t2022-03-30T14:36:05" class="time">14:36</a></td></tr>
<tr id="t2022-03-30T14:36:11"><th class="nick" style="background: #9b519b">MrSaturn</th><td class="text" style="color: #9b519b">this needs to be fixed.&quot;</td><td class="time"><a href="#t2022-03-30T14:36:11" class="time">14:36</a></td></tr>
<tr id="t2022-03-30T14:36:32"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">that's a bug in the recipe</td><td class="time"><a href="#t2022-03-30T14:36:32" class="time">14:36</a></td></tr>
<tr id="t2022-03-30T14:36:55"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">the hashes changed between when it was first parsed, and a few minutes later when it was executed</td><td class="time"><a href="#t2022-03-30T14:36:55" class="time">14:36</a></td></tr>
<tr id="t2022-03-30T14:37:15"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">often there's a timestamp embedded somewhere which needs to be excluded specifically</td><td class="time"><a href="#t2022-03-30T14:37:15" class="time">14:37</a></td></tr>
<tr id="t2022-03-30T14:39:38"><th class="nick" style="background: #9b519b">MrSaturn</th><td class="text" style="color: #9b519b">Hrm. The commands that it recommends &quot;-cdo_compile -Snone&quot; followed by &quot;-cdo_compile -Sprintdiff&quot; dont seem to do anything.</td><td class="time"><a href="#t2022-03-30T14:39:38" class="time">14:39</a></td></tr>
<tr id="t2022-03-30T14:39:58"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">often easier to just read the recipe</td><td class="time"><a href="#t2022-03-30T14:39:58" class="time">14:39</a></td></tr>
<tr id="t2022-03-30T14:43:32"><th class="nick" style="background: #97974f">wyre</th><td class="text" style="color: #97974f">I've tried something like this <a href="https://bpa.st/7C4Q" rel="nofollow">https://bpa.st/7C4Q</a> but it doesn't work ... so I'm not sure what's the proper way to set PV using GITVER 🤔</td><td class="time"><a href="#t2022-03-30T14:43:32" class="time">14:43</a></td></tr>
<tr id="t2022-03-30T14:45:40"><th class="nick" style="background: #97974f">wyre</th><td class="text" style="color: #97974f">I cannot see anything about this in the official docu <a href="https://docs.yoctoproject.org/search.html?q=GITVER&amp;check_keywords=yes&amp;area=default#" rel="nofollow">https://docs.yoctoproject.org/search.html?q=GITVER&amp;check_keywords=yes&amp;area=default#</a></td><td class="time"><a href="#t2022-03-30T14:45:40" class="time">14:45</a></td></tr>
<tr id="t2022-03-30T14:46:26"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">because gitver.bbclass is a meta-oe specific thing</td><td class="time"><a href="#t2022-03-30T14:46:26" class="time">14:46</a></td></tr>
<tr id="t2022-03-30T14:47:05"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">just put the srcrev in, much easier</td><td class="time"><a href="#t2022-03-30T14:47:05" class="time">14:47</a></td></tr>
<tr id="t2022-03-30T14:47:30"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">ie PV = &quot;1.2+git${SRCPV}&quot;</td><td class="time"><a href="#t2022-03-30T14:47:30" class="time">14:47</a></td></tr>
<tr id="t2022-03-30T14:48:01"><th class="nick" style="background: #97974f">wyre</th><td class="text" style="color: #97974f">rburton, sure, but I have to set the version manually</td><td class="time"><a href="#t2022-03-30T14:48:01" class="time">14:48</a></td></tr>
<tr id="t2022-03-30T14:48:07"><th class="nick" style="background: #97974f">wyre</th><td class="text" style="color: #97974f">I'd like to parse also tags</td><td class="time"><a href="#t2022-03-30T14:48:07" class="time">14:48</a></td></tr>
<tr id="t2022-03-30T14:49:06"><th class="nick" style="background: #97974f">wyre</th><td class="text" style="color: #97974f">also ... OE docs points to yocto project docs <a href="http://www.openembedded.org/wiki/Documentation" rel="nofollow">http://www.openembedded.org/wiki/Documentation</a></td><td class="time"><a href="#t2022-03-30T14:49:06" class="time">14:49</a></td></tr>
<tr id="t2022-03-30T14:52:28"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">wyre: where?</td><td class="time"><a href="#t2022-03-30T14:52:28" class="time">14:52</a></td></tr>
<tr id="t2022-03-30T14:52:55"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">wyre: sorry misread the message</td><td class="time"><a href="#t2022-03-30T14:52:55" class="time">14:52</a></td></tr>
<tr id="t2022-03-30T14:53:55"><th class="nick" style="background: #9b519b">MrSaturn</th><td class="text" style="color: #9b519b">rburton: could it be because I added a layer that modified the source?</td><td class="time"><a href="#t2022-03-30T14:53:55" class="time">14:53</a></td></tr>
<tr id="t2022-03-30T14:54:08"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">well, you're using a non-standard uboot recipe</td><td class="time"><a href="#t2022-03-30T14:54:08" class="time">14:54</a></td></tr>
<tr id="t2022-03-30T14:54:13"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">so that recipe might be buggy</td><td class="time"><a href="#t2022-03-30T14:54:13" class="time">14:54</a></td></tr>
<tr id="t2022-03-30T14:57:35"><th class="nick" style="background: #97974f">wyre</th><td class="text" style="color: #97974f">so any clue on how to use GITVER to set PV? 🤔</td><td class="time"><a href="#t2022-03-30T14:57:35" class="time">14:57</a></td></tr>
<tr id="t2022-03-30T14:59:29"><th class="nick" style="background: #9b519b">MrSaturn</th><td class="text" style="color: #9b519b">rburton: the only reason I ask, is that it built fine. I added another layer and it seemed to build fine again. I when went into the work directory and made a few development changes. This is when I hit that error. When cleanall didn't work I was a bit surprised.</td><td class="time"><a href="#t2022-03-30T14:59:29" class="time">14:59</a></td></tr>
<tr id="t2022-03-30T15:00:08"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">wyre: would help if you would explain what exactly you're trying to do?</td><td class="time"><a href="#t2022-03-30T15:00:08" class="time">15:00</a></td></tr>
<tr id="t2022-03-30T15:01:14"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">wyre: i'd guess inherit class, use PV=&quot;${GITVER}&quot;. I note that nothing in meta-oe uses that class anymore so maybe it just bitrotted and needs fixing.</td><td class="time"><a href="#t2022-03-30T15:01:14" class="time">15:01</a></td></tr>
<tr id="t2022-03-30T15:01:32"><th class="nick" style="background: #97974f">wyre</th><td class="text" style="color: #97974f">oh, I see</td><td class="time"><a href="#t2022-03-30T15:01:32" class="time">15:01</a></td></tr>
<tr id="t2022-03-30T15:01:38"><th class="nick" style="background: #97974f">wyre</th><td class="text" style="color: #97974f">what about gitpkgv?</td><td class="time"><a href="#t2022-03-30T15:01:38" class="time">15:01</a></td></tr>
<tr id="t2022-03-30T15:02:23"><th class="nick" style="background: #9b519b">MrSaturn</th><td class="text" style="color: #9b519b">I am just going to nuke everything and start the build over. While that is happening I will look at the recipe and see what I can learn... the recipe is pretty lean</td><td class="time"><a href="#t2022-03-30T15:02:23" class="time">15:02</a></td></tr>
<tr id="t2022-03-30T15:02:51"><th class="nick" style="background: #97974f">wyre</th><td class="text" style="color: #97974f">qschulz, my point is that I'd like to do what rburton said ... because currently my recipe is as rburton previous suggestion (PV = &quot;1.2+git${SRCPV}&quot;) but I'd like to do something like PV = &quot;${GITVER}&quot;</td><td class="time"><a href="#t2022-03-30T15:02:51" class="time">15:02</a></td></tr>
<tr id="t2022-03-30T15:03:05"><th class="nick" style="background: #97974f">wyre</th><td class="text" style="color: #97974f">instead having to set that &quot;1.2+git&quot; string manually</td><td class="time"><a href="#t2022-03-30T15:03:05" class="time">15:03</a></td></tr>
<tr id="t2022-03-30T15:03:24"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">wyre: seems like they basically do the same thing</td><td class="time"><a href="#t2022-03-30T15:03:24" class="time">15:03</a></td></tr>
<tr id="t2022-03-30T15:04:04"><th class="nick" style="background: #97974f">wyre</th><td class="text" style="color: #97974f">rburton, this looks promising <a href="https://github.com/openembedded/meta-openembedded/blob/master/meta-oe/classes/gitpkgv.bbclass#L36" rel="nofollow">https://github.com/openembedded/meta-openembedded/blob/master/meta-oe/classes/gitpkgv.bbclass#L36</a></td><td class="time"><a href="#t2022-03-30T15:04:04" class="time">15:04</a></td></tr>
<tr id="t2022-03-30T15:04:29"><th class="nick" style="background: #97974f">wyre</th><td class="text" style="color: #97974f">but I guess PKGV won't be used as PV 🤔</td><td class="time"><a href="#t2022-03-30T15:04:29" class="time">15:04</a></td></tr>
<tr id="t2022-03-30T15:05:16"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">the point of PKGV is that its the version of the packages</td><td class="time"><a href="#t2022-03-30T15:05:16" class="time">15:05</a></td></tr>
<tr id="t2022-03-30T15:05:35"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">so if you're dynamically generating it, it's exactly what you want</td><td class="time"><a href="#t2022-03-30T15:05:35" class="time">15:05</a></td></tr>
<tr id="t2022-03-30T15:06:22"><th class="nick" style="background: #97974f">wyre</th><td class="text" style="color: #97974f">rburton, I though the package version is just PV 🤔 I didn't know that PKGV even exists</td><td class="time"><a href="#t2022-03-30T15:06:22" class="time">15:06</a></td></tr>
<tr id="t2022-03-30T15:07:29"><th class="nick" style="background: #97974f">wyre</th><td class="text" style="color: #97974f">oh.... I see <a href="https://docs.yoctoproject.org/ref-manual/variables.html?highlight=pkgv#term-PKGV" rel="nofollow">https://docs.yoctoproject.org/ref-manual/variables.html?highlight=pkgv#term-PKGV</a></td><td class="time"><a href="#t2022-03-30T15:07:29" class="time">15:07</a></td></tr>
<tr id="t2022-03-30T15:08:16"><th class="nick" style="background: #97974f">wyre</th><td class="text" style="color: #97974f">but why it still sets PV = &quot;1.0+git${SRCPV}&quot;? <a href="https://github.com/openembedded/meta-openembedded/blob/master/meta-oe/classes/gitpkgv.bbclass#L35" rel="nofollow">https://github.com/openembedded/meta-openembedded/blob/master/meta-oe/classes/gitpkgv.bbclass#L35</a></td><td class="time"><a href="#t2022-03-30T15:08:16" class="time">15:08</a></td></tr>
<tr id="t2022-03-30T15:09:26"><th class="nick" style="background: #9b519b">MrSaturn</th><td class="text" style="color: #9b519b">LOCALVERSION = &quot;-uei-${DATE}&quot;</td><td class="time"><a href="#t2022-03-30T15:09:26" class="time">15:09</a></td></tr>
<tr id="t2022-03-30T15:09:35"><th class="nick" style="background: #9b519b">MrSaturn</th><td class="text" style="color: #9b519b">Perhaps that could be causing the issue?</td><td class="time"><a href="#t2022-03-30T15:09:35" class="time">15:09</a></td></tr>
<tr id="t2022-03-30T15:09:47"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">yes</td><td class="time"><a href="#t2022-03-30T15:09:47" class="time">15:09</a></td></tr>
<tr id="t2022-03-30T15:10:15"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">if its coming from a git tree then the SRCREV is far more useful than the date it was built</td><td class="time"><a href="#t2022-03-30T15:10:15" class="time">15:10</a></td></tr>
<tr id="t2022-03-30T15:10:49"><th class="nick" style="background: #9b519b">MrSaturn</th><td class="text" style="color: #9b519b">:| So it will work today, and then at midnight it will turn into a pumpkin</td><td class="time"><a href="#t2022-03-30T15:10:49" class="time">15:10</a></td></tr>
<tr id="t2022-03-30T15:12:13"><th class="nick" style="background: #9b519b">MrSaturn</th><td class="text" style="color: #9b519b">Just for future reference - Is there a way to scrape the hashes for a specific package so it looks like it has never been built?</td><td class="time"><a href="#t2022-03-30T15:12:13" class="time">15:12</a></td></tr>
<tr id="t2022-03-30T15:14:36"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">MrSaturn: -c cleansstate</td><td class="time"><a href="#t2022-03-30T15:14:36" class="time">15:14</a></td></tr>
<tr id="t2022-03-30T15:15:01"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">not sure if this deletes things from the hashequiv server though</td><td class="time"><a href="#t2022-03-30T15:15:01" class="time">15:15</a></td></tr>
<tr id="t2022-03-30T15:15:14"><th class="nick" style="background: #9b519b">MrSaturn</th><td class="text" style="color: #9b519b">qschulz: it doesn't appear to.</td><td class="time"><a href="#t2022-03-30T15:15:14" class="time">15:15</a></td></tr>
<tr id="t2022-03-30T15:15:19"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">MrSaturn: just delete tmp, much easier</td><td class="time"><a href="#t2022-03-30T15:15:19" class="time">15:15</a></td></tr>
<tr id="t2022-03-30T15:15:32"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">cleansstate is super slow and removes more than you care about</td><td class="time"><a href="#t2022-03-30T15:15:32" class="time">15:15</a></td></tr>
<tr id="t2022-03-30T15:15:34"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">you would still have the tarball of the sources though, -c cleanall for everything related to the recipe</td><td class="time"><a href="#t2022-03-30T15:15:34" class="time">15:15</a></td></tr>
<tr id="t2022-03-30T15:16:20"><th class="nick" style="background: #9b519b">MrSaturn</th><td class="text" style="color: #9b519b">I will try removing tmp if I run into that again.</td><td class="time"><a href="#t2022-03-30T15:16:20" class="time">15:16</a></td></tr>
<tr id="t2022-03-30T15:16:47"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">or as rburton suggested, if you want to make sure you don't have leftover from previous debugging attempts, just remove tmp directory (make sure you keep sstate-cache and downloads directory though, the rest is fine to be removed)</td><td class="time"><a href="#t2022-03-30T15:16:47" class="time">15:16</a></td></tr>
<tr id="t2022-03-30T15:16:48"><th class="nick" style="background: #9b519b">MrSaturn</th><td class="text" style="color: #9b519b">Thanks for the help. I don't undertand the internals that well yet, so hitting issues like this are real head scratchers.</td><td class="time"><a href="#t2022-03-30T15:16:48" class="time">15:16</a></td></tr>
<tr id="t2022-03-30T15:17:16"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">MrSaturn: and BTW, use devtool for trying things out instead of going directly into WORKDIR :)</td><td class="time"><a href="#t2022-03-30T15:17:16" class="time">15:17</a></td></tr>
<tr id="t2022-03-30T15:20:10"><th class="nick" style="background: #9b519b">MrSaturn</th><td class="text" style="color: #9b519b">qschulz: I have tried devtool, but when I use it the directory it creates for me in workspace doesn't have the patches and configuration fragments applied, and it hasn't run the &quot;configure&quot; step. It seems very cumbersome. I have to tried running &quot;bitbake u-boot -c configure&quot; after setting up the source with devtool and that doesn't work.</td><td class="time"><a href="#t2022-03-30T15:20:10" class="time">15:20</a></td></tr>
<tr id="t2022-03-30T15:21:17"><th class="nick" style="background: #9b519b">MrSaturn</th><td class="text" style="color: #9b519b">I am probably doing something wrong.</td><td class="time"><a href="#t2022-03-30T15:21:17" class="time">15:21</a></td></tr>
<tr id="t2022-03-30T15:26:45"><th class="nick" style="background: #9b519b">MrSaturn</th><td class="text" style="color: #9b519b">It is strange, because creates a directory within the workspace folder that has all the patches and fragments.</td><td class="time"><a href="#t2022-03-30T15:26:45" class="time">15:26</a></td></tr>
<tr id="t2022-03-30T15:34:55"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">MrSaturn: might be your vendor recipe too</td><td class="time"><a href="#t2022-03-30T15:34:55" class="time">15:34</a></td></tr>
<tr id="t2022-03-30T15:35:06"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">wouldn't be the first time :)</td><td class="time"><a href="#t2022-03-30T15:35:06" class="time">15:35</a></td></tr>
<tr id="t2022-03-30T15:37:06"><th class="nick" style="background: #9b519b">MrSaturn</th><td class="text" style="color: #9b519b">qschulz: I would have to dig down through a bunch of layers (unless there is a way to see what complete recipe looks like).&nbsp;&nbsp;The one that is most likely is pretty benign, the only thing that might cause an issue is setting ${S} and ${B}.</td><td class="time"><a href="#t2022-03-30T15:37:06" class="time">15:37</a></td></tr>
<tr id="t2022-03-30T15:38:41"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">MrSaturn: did you try what i said yesterday?</td><td class="time"><a href="#t2022-03-30T15:38:41" class="time">15:38</a></td></tr>
<tr id="t2022-03-30T15:39:38"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">vendor uboots that are not bbappends to drop in patches are the worst though</td><td class="time"><a href="#t2022-03-30T15:39:38" class="time">15:39</a></td></tr>
<tr id="t2022-03-30T15:42:47"><th class="nick" style="background: #9b519b">MrSaturn</th><td class="text" style="color: #9b519b">rburton: I was trying to do that this morning when I hit this issue. I shouldn't say I was trying it... I was looking in the cml1.bbclass to try to figure out what I might need to remove</td><td class="time"><a href="#t2022-03-30T15:42:47" class="time">15:42</a></td></tr>
<tr id="t2022-03-30T15:44:55"><th class="nick" style="background: #9b519b">MrSaturn</th><td class="text" style="color: #9b519b">yeah, this one: inherit fsl-u-boot-localversion</td><td class="time"><a href="#t2022-03-30T15:44:55" class="time">15:44</a></td></tr>
<tr id="t2022-03-30T15:47:26"><th class="nick" style="background: #539e9e">abelloni</th><td class="text" style="color: #539e9e">rburton: just so you know, my branch currently building on the AB has your zlib changes</td><td class="time"><a href="#t2022-03-30T15:47:26" class="time">15:47</a></td></tr>
<tr id="t2022-03-30T15:49:35"><th class="nick" style="background: #9b519b">MrSaturn</th><td class="text" style="color: #9b519b">I have to shutdown. Thanks for the help\</td><td class="time"><a href="#t2022-03-30T15:49:35" class="time">15:49</a></td></tr>
<tr id="t2022-03-30T15:59:43"><td class="nickchange" colspan="2">*** mckoan is now known as mckoan|away</td><td><a href="#t2022-03-30T15:59:43" class="time">15:59</a></td></tr>
<tr id="t2022-03-30T16:49:03"><th class="nick" style="background: #a25555">Guest11</th><td class="text" style="color: #a25555">Hey team!</td><td class="time"><a href="#t2022-03-30T16:49:03" class="time">16:49</a></td></tr>
<tr id="t2022-03-30T16:49:32"><th class="nick" style="background: #a25555">Guest11</th><td class="text" style="color: #a25555">I sound like a bit of a broken record</td><td class="time"><a href="#t2022-03-30T16:49:32" class="time">16:49</a></td></tr>
<tr id="t2022-03-30T16:49:32-2"><th class="nick" style="background: #a25555">Guest11</th><td class="text" style="color: #a25555">But I'm quite new to Yocto and BB</td><td class="time"><a href="#t2022-03-30T16:49:32-2" class="time">16:49</a></td></tr>
<tr id="t2022-03-30T16:49:41"><th class="nick" style="background: #a25555">Guest11</th><td class="text" style="color: #a25555">We have a Jenkins instance running our builds</td><td class="time"><a href="#t2022-03-30T16:49:41" class="time">16:49</a></td></tr>
<tr id="t2022-03-30T16:49:56"><th class="nick" style="background: #a25555">Guest11</th><td class="text" style="color: #a25555">Builds are talking an abnormal amount of time</td><td class="time"><a href="#t2022-03-30T16:49:56" class="time">16:49</a></td></tr>
<tr id="t2022-03-30T16:51:30"><th class="nick" style="background: #a25555">Guest11</th><td class="text" style="color: #a25555">That's caused because we use: PREMIRRORS = ...git://.*/.*&nbsp;&nbsp; <a href="http://downloads.yoctoproject.org/mirror/sources/" rel="nofollow">http://downloads.yoctoproject.org/mirror/sources/</a></td><td class="time"><a href="#t2022-03-30T16:51:30" class="time">16:51</a></td></tr>
<tr id="t2022-03-30T16:51:43"><th class="nick" style="background: #a25555">Guest11</th><td class="text" style="color: #a25555">And the OpenCV is taking 5h to download</td><td class="time"><a href="#t2022-03-30T16:51:43" class="time">16:51</a></td></tr>
<tr id="t2022-03-30T16:52:07"><th class="nick" style="background: #57a657">barometz</th><td class="text" style="color: #57a657">yeah, the yoctoproject.org mirror has been somewhat congested lately</td><td class="time"><a href="#t2022-03-30T16:52:07" class="time">16:52</a></td></tr>
<tr id="t2022-03-30T16:52:08"><th class="nick" style="background: #a25555">Guest11</th><td class="text" style="color: #a25555">I tried to set the PREMIRRORS= &quot;&quot; (to an empty string)</td><td class="time"><a href="#t2022-03-30T16:52:08" class="time">16:52</a></td></tr>
<tr id="t2022-03-30T16:52:29"><th class="nick" style="background: #a25555">Guest11</th><td class="text" style="color: #a25555">But then other dependencies started failing</td><td class="time"><a href="#t2022-03-30T16:52:29" class="time">16:52</a></td></tr>
<tr id="t2022-03-30T16:53:12"><th class="nick" style="background: #a25555">Guest11</th><td class="text" style="color: #a25555">Is there a way I can just specify that OpenCV should be downloaded from github? While the rest should be from yoctoproject?</td><td class="time"><a href="#t2022-03-30T16:53:12" class="time">16:53</a></td></tr>
<tr id="t2022-03-30T16:53:42"><th class="nick" style="background: #57a657">barometz</th><td class="text" style="color: #57a657">that... should not be the case, the premirror shoudln't be the only source of stuff. But I highly recommend setting up your own local mirror, it's not all that much trouble and resolves all this</td><td class="time"><a href="#t2022-03-30T16:53:42" class="time">16:53</a></td></tr>
<tr id="t2022-03-30T16:53:53"><th class="nick" style="background: #57a657">barometz</th><td class="text" style="color: #57a657">let me see if I can find the things I used</td><td class="time"><a href="#t2022-03-30T16:53:53" class="time">16:53</a></td></tr>
<tr id="t2022-03-30T16:55:05"><th class="nick" style="background: #57a657">barometz</th><td class="text" style="color: #57a657"><a href="https://wiki.yoctoproject.org/wiki/How_do_I" rel="nofollow">https://wiki.yoctoproject.org/wiki/How_do_I</a> <a href="https://low-level.wiki/mirrors/yocto_sources.html" rel="nofollow">https://low-level.wiki/mirrors/yocto_sources.html</a> and <a href="https://www.mndet.net/2018/12/28/yocto-mirrors.html" rel="nofollow">https://www.mndet.net/2018/12/28/yocto-mirrors.html</a> but #1 should ideally cover everything</td><td class="time"><a href="#t2022-03-30T16:55:05" class="time">16:55</a></td></tr>
<tr id="t2022-03-30T16:55:53"><th class="nick" style="background: #a25555">Guest11</th><td class="text" style="color: #a25555">Thanks! That's what I'd like to do</td><td class="time"><a href="#t2022-03-30T16:55:53" class="time">16:55</a></td></tr>
<tr id="t2022-03-30T16:56:20"><th class="nick" style="background: #a25555">Guest11</th><td class="text" style="color: #a25555">I see you've linked one of the guided I was reading</td><td class="time"><a href="#t2022-03-30T16:56:20" class="time">16:56</a></td></tr>
<tr id="t2022-03-30T16:56:37"><th class="nick" style="background: #a25555">Guest11</th><td class="text" style="color: #a25555">We have this repo with all the meta-layers</td><td class="time"><a href="#t2022-03-30T16:56:37" class="time">16:56</a></td></tr>
<tr id="t2022-03-30T16:56:52"><th class="nick" style="background: #a25555">Guest11</th><td class="text" style="color: #a25555">They are submodules and I can't seem to be able to clone them locally</td><td class="time"><a href="#t2022-03-30T16:56:52" class="time">16:56</a></td></tr>
<tr id="t2022-03-30T16:57:12"><th class="nick" style="background: #a25555">Guest11</th><td class="text" style="color: #a25555">(I should mention I'm basically the substitute for people that are on holiday:D  )</td><td class="time"><a href="#t2022-03-30T16:57:12" class="time">16:57</a></td></tr>
<tr id="t2022-03-30T16:57:31"><th class="nick" style="background: #a25555">Guest11</th><td class="text" style="color: #a25555">Hence why I don't know the setup very well</td><td class="time"><a href="#t2022-03-30T16:57:31" class="time">16:57</a></td></tr>
<tr id="t2022-03-30T16:58:07"><th class="nick" style="background: #a25555">Guest11</th><td class="text" style="color: #a25555">I was hoping I could overwrite the SRC_URI just for opencv which is part of meta-openembedded</td><td class="time"><a href="#t2022-03-30T16:58:07" class="time">16:58</a></td></tr>
<tr id="t2022-03-30T16:58:22"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">Guest11: what branch are you using</td><td class="time"><a href="#t2022-03-30T16:58:22" class="time">16:58</a></td></tr>
<tr id="t2022-03-30T16:58:48"><th class="nick" style="background: #a25555">Guest11</th><td class="text" style="color: #a25555">zeus-l4t-r32.3.1-develop</td><td class="time"><a href="#t2022-03-30T16:58:48" class="time">16:58</a></td></tr>
<tr id="t2022-03-30T16:59:06"><td class="nickchange" colspan="2">*** Guest11 is now known as mickeypash</td><td><a href="#t2022-03-30T16:59:06" class="time">16:59</a></td></tr>
<tr id="t2022-03-30T16:59:37"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">well the urls are probably failing as that's a very old release and they need updating</td><td class="time"><a href="#t2022-03-30T16:59:37" class="time">16:59</a></td></tr>
<tr id="t2022-03-30T16:59:58"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">as per <a href="https://wiki.yoctoproject.org/wiki/Releases" rel="nofollow">https://wiki.yoctoproject.org/wiki/Releases</a>, zeus was EOL nearly two years ago</td><td class="time"><a href="#t2022-03-30T16:59:58" class="time">16:59</a></td></tr>
<tr id="t2022-03-30T17:00:07"><th class="nick" style="background: #a25555">mickeypash</th><td class="text" style="color: #a25555">:(  I am aware</td><td class="time"><a href="#t2022-03-30T17:00:07" class="time">17:00</a></td></tr>
<tr id="t2022-03-30T17:00:50"><th class="nick" style="background: #a25555">mickeypash</th><td class="text" style="color: #a25555">Our Yocto expert hasn't found the time but was working on Dunfell support</td><td class="time"><a href="#t2022-03-30T17:00:50" class="time">17:00</a></td></tr>
<tr id="t2022-03-30T17:01:24"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">opencv in zeus just does a git clone, and it works fine</td><td class="time"><a href="#t2022-03-30T17:01:24" class="time">17:01</a></td></tr>
<tr id="t2022-03-30T17:01:42"><th class="nick" style="background: #a25555">mickeypash</th><td class="text" style="color: #a25555">If I had the skills and the knowledge I would upgrade to a future release:(</td><td class="time"><a href="#t2022-03-30T17:01:42" class="time">17:01</a></td></tr>
<tr id="t2022-03-30T17:01:42-2"><th class="nick" style="background: #a25555">mickeypash</th><td class="text" style="color: #a25555">but it's outside my remit</td><td class="time"><a href="#t2022-03-30T17:01:42-2" class="time">17:01</a></td></tr>
<tr id="t2022-03-30T17:01:44"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">so if it fails telling us what the errors are would help us</td><td class="time"><a href="#t2022-03-30T17:01:44" class="time">17:01</a></td></tr>
<tr id="t2022-03-30T17:02:38"><th class="nick" style="background: #a25555">mickeypash</th><td class="text" style="color: #a25555">When I jumped on our Jenkins worker and checked I see this</td><td class="time"><a href="#t2022-03-30T17:02:38" class="time">17:02</a></td></tr>
<tr id="t2022-03-30T17:02:39"><th class="nick" style="background: #a25555">mickeypash</th><td class="text" style="color: #a25555">wget -t 2 -T 30 --passive-ftp --no-check-certificate -P /tmp/ <a href="http://downloads.yoctoproject.org/mirror/sources/git2_github.com.opencv.opencv.git.tar.gz" rel="nofollow">http://downloads.yoctoproject.org/mirror/sources/git2_github.com.opencv.opencv.git.tar.gz</a> --progress=dot -v</td><td class="time"><a href="#t2022-03-30T17:02:39" class="time">17:02</a></td></tr>
<tr id="t2022-03-30T17:03:06"><th class="nick" style="background: #a25555">mickeypash</th><td class="text" style="color: #a25555">I've changed the destination dir to /tmp but otherwise it's the same command</td><td class="time"><a href="#t2022-03-30T17:03:06" class="time">17:03</a></td></tr>
<tr id="t2022-03-30T17:03:07"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">i mean the errors after you turned off premirrors</td><td class="time"><a href="#t2022-03-30T17:03:07" class="time">17:03</a></td></tr>
<tr id="t2022-03-30T17:03:14"><th class="nick" style="background: #a25555">mickeypash</th><td class="text" style="color: #a25555">Ah</td><td class="time"><a href="#t2022-03-30T17:03:14" class="time">17:03</a></td></tr>
<tr id="t2022-03-30T17:03:27"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">yes that will be slow right now, we're working on that problem :)</td><td class="time"><a href="#t2022-03-30T17:03:27" class="time">17:03</a></td></tr>
<tr id="t2022-03-30T17:05:28"><th class="nick" style="background: #a25555">mickeypash</th><td class="text" style="color: #a25555">WARNING: file-native-5.37-r0 do_fetch: Failed to fetch URL git://github.com/file/file.git, attempting MIRRORS if available</td><td class="time"><a href="#t2022-03-30T17:05:28" class="time">17:05</a></td></tr>
<tr id="t2022-03-30T17:05:38"><th class="nick" style="background: #a25555">mickeypash</th><td class="text" style="color: #a25555">WARNING: rpm-native-1_4.14.2.1-r0 do_fetch: Failed to fetch URL git://github.com/rpm-software-management/rpm;branch=rpm-4.14.x, attempting MIRRORS if available</td><td class="time"><a href="#t2022-03-30T17:05:38" class="time">17:05</a></td></tr>
<tr id="t2022-03-30T17:05:48"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">do you have a broken git proxy?</td><td class="time"><a href="#t2022-03-30T17:05:48" class="time">17:05</a></td></tr>
<tr id="t2022-03-30T17:05:48-2"><th class="nick" style="background: #a25555">mickeypash</th><td class="text" style="color: #a25555">WARNING: ninja-native-1.9.0-r0 do_fetch: Failed to fetch URL git://github.com/ninja-build/ninja.git;branch=release, attempting MIRRORS if available</td><td class="time"><a href="#t2022-03-30T17:05:48-2" class="time">17:05</a></td></tr>
<tr id="t2022-03-30T17:06:01"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">oh!</td><td class="time"><a href="#t2022-03-30T17:06:01" class="time">17:06</a></td></tr>
<tr id="t2022-03-30T17:06:04"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">that's gitub</td><td class="time"><a href="#t2022-03-30T17:06:04" class="time">17:06</a></td></tr>
<tr id="t2022-03-30T17:06:08"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">it turned off git: support</td><td class="time"><a href="#t2022-03-30T17:06:08" class="time">17:06</a></td></tr>
<tr id="t2022-03-30T17:06:30"><th class="nick" style="background: #a25555">mickeypash</th><td class="text" style="color: #a25555">:(  oh this could be a security choice</td><td class="time"><a href="#t2022-03-30T17:06:30" class="time">17:06</a></td></tr>
<tr id="t2022-03-30T17:06:38"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">you need to update your zeus</td><td class="time"><a href="#t2022-03-30T17:06:38" class="time">17:06</a></td></tr>
<tr id="t2022-03-30T17:06:41"><th class="nick" style="background: #5959a9">rfs613</th><td class="text" style="color: #5959a9">yeah, switch from git:// to <a href="https://" rel="nofollow">https://</a></td><td class="time"><a href="#t2022-03-30T17:06:41" class="time">17:06</a></td></tr>
<tr id="t2022-03-30T17:06:50"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a"><a href="https://git.yoctoproject.org/poky/commit/?h=zeus&amp;id=daf096e295121ea49ebf21f8070e9a6e28f5d46c" rel="nofollow">https://git.yoctoproject.org/poky/commit/?h=zeus&amp;id=daf096e295121ea49ebf21f8070e9a6e28f5d46c</a></td><td class="time"><a href="#t2022-03-30T17:06:50" class="time">17:06</a></td></tr>
<tr id="t2022-03-30T17:07:23"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">that's been in the zeus branch since november last year, so just update</td><td class="time"><a href="#t2022-03-30T17:07:23" class="time">17:07</a></td></tr>
<tr id="t2022-03-30T17:12:25"><th class="nick" style="background: #a25555">mickeypash</th><td class="text" style="color: #a25555">Thanks. Trying to clone the submodules locally</td><td class="time"><a href="#t2022-03-30T17:12:25" class="time">17:12</a></td></tr>
<tr id="t2022-03-30T17:14:52"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">that has a reference to the bitbake commit if you're actually using bitbake directly</td><td class="time"><a href="#t2022-03-30T17:14:52" class="time">17:14</a></td></tr>
<tr id="t2022-03-30T17:14:54"><th class="nick" style="background: #a25555">mickeypash</th><td class="text" style="color: #a25555">:facepalm:</td><td class="time"><a href="#t2022-03-30T17:14:54" class="time">17:14</a></td></tr>
<tr id="t2022-03-30T17:14:55"><th class="nick" style="background: #a25555">mickeypash</th><td class="text" style="color: #a25555"><a href="https://github.com/yoctoproject/poky/commit/a92ae31dc4f1a124fe3d722c7239796d1b37cbc3" rel="nofollow">https://github.com/yoctoproject/poky/commit/a92ae31dc4f1a124fe3d722c7239796d1b37cbc3</a></td><td class="time"><a href="#t2022-03-30T17:14:55" class="time">17:14</a></td></tr>
<tr id="t2022-03-30T17:15:05"><th class="nick" style="background: #a25555">mickeypash</th><td class="text" style="color: #a25555">We are on this branch with poky</td><td class="time"><a href="#t2022-03-30T17:15:05" class="time">17:15</a></td></tr>
<tr id="t2022-03-30T17:15:09"><th class="nick" style="background: #a25555">mickeypash</th><td class="text" style="color: #a25555">git apply --check git_stuff.patch</td><td class="time"><a href="#t2022-03-30T17:15:09" class="time">17:15</a></td></tr>
<tr id="t2022-03-30T17:15:10"><th class="nick" style="background: #a25555">mickeypash</th><td class="text" style="color: #a25555">error: bitbake/lib/bb/fetch2/git.py: No such file or directory</td><td class="time"><a href="#t2022-03-30T17:15:10" class="time">17:15</a></td></tr>
<tr id="t2022-03-30T17:15:24"><th class="nick" style="background: #a25555">mickeypash</th><td class="text" style="color: #a25555">This commit*</td><td class="time"><a href="#t2022-03-30T17:15:24" class="time">17:15</a></td></tr>
<tr id="t2022-03-30T17:18:21"><th class="nick" style="background: #5959a9">rfs613</th><td class="text" style="color: #5959a9">mickeypash: seems to work for me: git checkout a92ae31dc4f1a124fe3d722c7239796d1b37cbc3; git cherry-pick daf096e295121ea49ebf21f8070e9a6e28f5d46c</td><td class="time"><a href="#t2022-03-30T17:18:21" class="time">17:18</a></td></tr>
<tr id="t2022-03-30T17:29:39"><th class="nick" style="background: #a25555">mickeypash</th><td class="text" style="color: #a25555">Hmm you know I think it's my fault</td><td class="time"><a href="#t2022-03-30T17:29:39" class="time">17:29</a></td></tr>
<tr id="t2022-03-30T17:29:57"><th class="nick" style="background: #a25555">mickeypash</th><td class="text" style="color: #a25555">When I removed PREMIRRORS I also removed MIRRORS</td><td class="time"><a href="#t2022-03-30T17:29:57" class="time">17:29</a></td></tr>
<tr id="t2022-03-30T17:38:20"><td class="action" colspan="2">* RP has just found another memres issue and is tring a patch</td><td><a href="#t2022-03-30T17:38:20" class="time">17:38</a></td></tr>
<tr id="t2022-03-30T17:42:03"><th class="nick" style="background: #a25555">mickeypash</th><td class="text" style="color: #a25555">Okay I've set the poky changes to daf096e295121ea49ebf21f8070e9a6e28f5d46c a PREMIRRORS = &quot;&quot; in conf/local.conf</td><td class="time"><a href="#t2022-03-30T17:42:03" class="time">17:42</a></td></tr>
<tr id="t2022-03-30T17:42:04"><th class="nick" style="background: #a25555">mickeypash</th><td class="text" style="color: #a25555">Pray for me</td><td class="time"><a href="#t2022-03-30T17:42:04" class="time">17:42</a></td></tr>
<tr id="t2022-03-30T17:42:13"><th class="nick" style="background: #a25555">mickeypash</th><td class="text" style="color: #a25555">Time for dinner and some fresh air</td><td class="time"><a href="#t2022-03-30T17:42:13" class="time">17:42</a></td></tr>
<tr id="t2022-03-30T17:42:37"><th class="nick" style="background: #a25555">mickeypash</th><td class="text" style="color: #a25555">Thanks rburton rfs613 Really appreciate your help!</td><td class="time"><a href="#t2022-03-30T17:42:37" class="time">17:42</a></td></tr>
<tr id="t2022-03-30T19:27:09"><th class="nick" style="background: #4d4d93">LetoThe2nd</th><td class="text" style="color: #4d4d93"> </td><td class="time"><a href="#t2022-03-30T19:27:09" class="time">19:27</a></td></tr>
<tr id="t2022-03-30T20:33:01"><th class="nick" style="background: #539e9e">abelloni</th><td class="text" style="color: #539e9e">rburton: <a href="https://autobuilder.yoctoproject.org/typhoon/#/builders/79/builds/3373/steps/14/logs/stdio" rel="nofollow">https://autobuilder.yoctoproject.org/typhoon/#/builders/79/builds/3373/steps/14/logs/stdio</a></td><td class="time"><a href="#t2022-03-30T20:33:01" class="time">20:33</a></td></tr>
<tr id="t2022-03-30T20:33:41"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">abelloni: argh</td><td class="time"><a href="#t2022-03-30T20:33:41" class="time">20:33</a></td></tr>
<tr id="t2022-03-30T20:34:01"><th class="nick" style="background: #539e9e">abelloni</th><td class="text" style="color: #539e9e">don't look at the efi failure ;)</td><td class="time"><a href="#t2022-03-30T20:34:01" class="time">20:34</a></td></tr>
<tr id="t2022-03-30T20:34:10"><th class="nick" style="background: #539e9e">abelloni</th><td class="text" style="color: #539e9e">but the other ones are yours</td><td class="time"><a href="#t2022-03-30T20:34:10" class="time">20:34</a></td></tr>
<tr id="t2022-03-30T20:34:56"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">i was about to worry that the efi one was too ;)</td><td class="time"><a href="#t2022-03-30T20:34:56" class="time">20:34</a></td></tr>
<tr id="t2022-03-30T20:35:10"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">easy fix at least</td><td class="time"><a href="#t2022-03-30T20:35:10" class="time">20:35</a></td></tr>
<tr id="t2022-03-30T20:37:57"><th class="nick" style="background: #539e9e">abelloni</th><td class="text" style="color: #539e9e">well, it is funny that the efi one did happen twice</td><td class="time"><a href="#t2022-03-30T20:37:57" class="time">20:37</a></td></tr>
<tr id="t2022-03-30T20:38:12"><th class="nick" style="background: #539e9e">abelloni</th><td class="text" style="color: #539e9e">but I would think this is a side effect</td><td class="time"><a href="#t2022-03-30T20:38:12" class="time">20:38</a></td></tr>
<tr id="t2022-03-30T21:49:09"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">kergoth: Can you spot where oe.classextend is setup so we can import it?</td><td class="time"><a href="#t2022-03-30T21:49:09" class="time">21:49</a></td></tr>
<tr id="t2022-03-30T21:49:44"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">kergoth: I'm wondering why we see these failures in oe-selftest with BB_SERVER_TIMEOUT=60 (i.e. bitbake memory resident)</td><td class="time"><a href="#t2022-03-30T21:49:44" class="time">21:49</a></td></tr>
<tr id="t2022-03-30T21:49:46"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40"><a href="https://autobuilder.yoctoproject.org/typhoon/#/builders/87/builds/3377/steps/14/logs/stdio" rel="nofollow">https://autobuilder.yoctoproject.org/typhoon/#/builders/87/builds/3377/steps/14/logs/stdio</a></td><td class="time"><a href="#t2022-03-30T21:49:46" class="time">21:49</a></td></tr>
<tr id="t2022-03-30T21:50:10"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">kergoth: I can't see where we add oe.classextend in the first place. I see others in OE_IMPORT but not that</td><td class="time"><a href="#t2022-03-30T21:50:10" class="time">21:50</a></td></tr>
<tr id="t2022-03-30T22:03:15"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">RP: it's explicitly included wherever it's used. <a href="https://github.com/openembedded/openembedded-core/search?q=classextend" rel="nofollow">https://github.com/openembedded/openembedded-core/search?q=classextend</a></td><td class="time"><a href="#t2022-03-30T22:03:15" class="time">22:03</a></td></tr>
<tr id="t2022-03-30T22:03:31"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">presumably the sys.path adjustmnets from base.bbclass allow for that to work</td><td class="time"><a href="#t2022-03-30T22:03:31" class="time">22:03</a></td></tr>
<tr id="t2022-03-30T22:03:35"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">afaict</td><td class="time"><a href="#t2022-03-30T22:03:35" class="time">22:03</a></td></tr>
<tr id="t2022-03-30T22:03:57"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">kergoth: what would get corrupted in memory resident bitbake that would stop that working then?</td><td class="time"><a href="#t2022-03-30T22:03:57" class="time">22:03</a></td></tr>
<tr id="t2022-03-30T22:04:34"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">kergoth: that would imply sys.path getting messed up?</td><td class="time"><a href="#t2022-03-30T22:04:34" class="time">22:04</a></td></tr>
<tr id="t2022-03-30T22:04:57"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">or an ordering issue with the adjustments in base.bbclass, yeah</td><td class="time"><a href="#t2022-03-30T22:04:57" class="time">22:04</a></td></tr>
<tr id="t2022-03-30T22:06:19"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">kergoth: interestingly I tried adding oe.classextend to the list of imports and that blows up with a ModuleNotFoundError: No module named 'oe.rootfs'. I'll check what sys.path looks like in the two cases next I guess, thanks</td><td class="time"><a href="#t2022-03-30T22:06:19" class="time">22:06</a></td></tr>
<tr id="t2022-03-30T22:22:51"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">kergoth: debugging shows that sys.path grows for every time we parse the datastore :/</td><td class="time"><a href="#t2022-03-30T22:22:51" class="time">22:22</a></td></tr>
<tr id="t2022-03-30T22:23:44"><th class="nick" style="background: #b15db1">sielicki</th><td class="text" style="color: #b15db1">can someone key me into what's going on with `pip_install_wheel.bbclass`? I am finding a bunch of threads and search results for it, but it's not actually in poky/master at the moment. Did I miss a thread?</td><td class="time"><a href="#t2022-03-30T22:23:44" class="time">22:23</a></td></tr>
<tr id="t2022-03-30T22:26:32"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">RP: oof. not surprising, thinking about it, given it alters global state. I wonder if we could hook the import process to allow for 'import oe' to work without directly mucking with sys.path</td><td class="time"><a href="#t2022-03-30T22:26:32" class="time">22:26</a></td></tr>
<tr id="t2022-03-30T22:26:53"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">worst case could just stop addin gpaths that are already in the list, of course</td><td class="time"><a href="#t2022-03-30T22:26:53" class="time">22:26</a></td></tr>
<tr id="t2022-03-30T22:27:17"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">sitll doesn't seem ideal, though, as not all metadata changes might be reflected</td><td class="time"><a href="#t2022-03-30T22:27:17" class="time">22:27</a></td></tr>
<tr id="t2022-03-30T22:27:23"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">kergoth: Oddly enough I'm just testing that. I think there is a second issue that there is an empty meta/lib/oe being left behind which breaks things</td><td class="time"><a href="#t2022-03-30T22:27:23" class="time">22:27</a></td></tr>
<tr id="t2022-03-30T22:27:48"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">kergoth: I think I might teach cookerdata to stash sys.path and reset it at the start of a new parse</td><td class="time"><a href="#t2022-03-30T22:27:48" class="time">22:27</a></td></tr>
<tr id="t2022-03-30T22:28:13"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">Good idea</td><td class="time"><a href="#t2022-03-30T22:28:13" class="time">22:28</a></td></tr>
<tr id="t2022-03-30T22:28:41"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">kergoth: I still think we should probably also not add paths already in the path list too as the number of duplicates in there is sad</td><td class="time"><a href="#t2022-03-30T22:28:41" class="time">22:28</a></td></tr>
<tr id="t2022-03-30T22:29:01"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">that might change behaviour very slightly but not in a way I'm going to lose much sleep over</td><td class="time"><a href="#t2022-03-30T22:29:01" class="time">22:29</a></td></tr>
<tr id="t2022-03-30T22:29:23"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">Agreed. I'm wondering about the imported modules and our context dict, though. those are also global. I'm guessing folks won't gneerally be changing bblayers without restarting hte server, but if it did, we could end up with old wrong versions of modules imported from the wrong paths, in the case of layers overriding them by priority</td><td class="time"><a href="#t2022-03-30T22:29:23" class="time">22:29</a></td></tr>
<tr id="t2022-03-30T22:29:39"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">Might want to think about stashing sys.modules and our context</td><td class="time"><a href="#t2022-03-30T22:29:39" class="time">22:29</a></td></tr>
<tr id="t2022-03-30T22:29:45"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">kergoth: oe-selftest definitely does that</td><td class="time"><a href="#t2022-03-30T22:29:45" class="time">22:29</a></td></tr>
<tr id="t2022-03-30T22:30:11"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">kergoth: hmm, yes :/</td><td class="time"><a href="#t2022-03-30T22:30:11" class="time">22:30</a></td></tr>
<tr id="t2022-03-30T22:30:13"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">if it imported some module from oe-core, then a layer got added that overrode it, i doubt it'd be re-imported with the new version</td><td class="time"><a href="#t2022-03-30T22:30:13" class="time">22:30</a></td></tr>
<tr id="t2022-03-30T22:30:33"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">it is less likely oe-selftest would hit that but a user could</td><td class="time"><a href="#t2022-03-30T22:30:33" class="time">22:30</a></td></tr>
<tr id="t2022-03-30T22:30:42"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">Related: we should probably support hot-reloading / reimporting modules on file change</td><td class="time"><a href="#t2022-03-30T22:30:42" class="time">22:30</a></td></tr>
<tr id="t2022-03-30T22:30:55"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">.py file change that is</td><td class="time"><a href="#t2022-03-30T22:30:55" class="time">22:30</a></td></tr>
<tr id="t2022-03-30T22:31:00"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">kergoth: wouldn't it do that now?</td><td class="time"><a href="#t2022-03-30T22:31:00" class="time">22:31</a></td></tr>
<tr id="t2022-03-30T22:31:10"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">I have no idea :)</td><td class="time"><a href="#t2022-03-30T22:31:10" class="time">22:31</a></td></tr>
<tr id="t2022-03-30T22:31:38"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">kergoth: I guess we need inotify watches on the files in sys.path</td><td class="time"><a href="#t2022-03-30T22:31:38" class="time">22:31</a></td></tr>
<tr id="t2022-03-30T22:32:44"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">kergoth: it depends where the files are and if they trigger the existing watches. Some might bit some wouldn't</td><td class="time"><a href="#t2022-03-30T22:32:44" class="time">22:32</a></td></tr>
<tr id="t2022-03-30T22:33:02"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">True</td><td class="time"><a href="#t2022-03-30T22:33:02" class="time">22:33</a></td></tr>
<tr id="t2022-03-30T22:33:11"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">Hmm, only slightly related, but I also don't know if we ever got around to adding calls to imported python code to python function checksums, changing an external module won't re-run tasks that run it.</td><td class="time"><a href="#t2022-03-30T22:33:11" class="time">22:33</a></td></tr>
<tr id="t2022-03-30T22:33:55"><td class="action" colspan="2">* kergoth shrugs</td><td><a href="#t2022-03-30T22:33:55" class="time">22:33</a></td></tr>
<tr id="t2022-03-30T22:35:05"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">It's a bit of a mess. I actually wonder if base.bbclass is what should be responsible for adding to sys.path, it's hard to ensure they're imported in time if you want to use them early enough in the parsing process. Maybe layer.conf could add to PYTHONPATH and cooker could add that to sys.path?</td><td class="time"><a href="#t2022-03-30T22:35:05" class="time">22:35</a></td></tr>
<tr id="t2022-03-30T22:35:06"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">kergoth: is the &quot; if hasattr(bb.utils, &quot;_context&quot;)&quot; <a href="https://git.yoctoproject.org/poky-contrib/tree/meta/classes/base.bbclass#n28" rel="nofollow">https://git.yoctoproject.org/poky-contrib/tree/meta/classes/base.bbclass#n28</a> a fallback for older bitbakes?</td><td class="time"><a href="#t2022-03-30T22:35:06" class="time">22:35</a></td></tr>
<tr id="t2022-03-30T22:35:14"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">I think so, yeah</td><td class="time"><a href="#t2022-03-30T22:35:14" class="time">22:35</a></td></tr>
<tr id="t2022-03-30T22:35:33"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">kergoth: so we could remove that and I think we handle the utils context at reset?</td><td class="time"><a href="#t2022-03-30T22:35:33" class="time">22:35</a></td></tr>
<tr id="t2022-03-30T22:36:17"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">kergoth: I think we always viewed this import piece as temporary until we figured out the proper API :/</td><td class="time"><a href="#t2022-03-30T22:36:17" class="time">22:36</a></td></tr>
<tr id="t2022-03-30T22:36:55"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">some kind of directive in layer.conf saying &quot;modules &lt;here&gt;&quot; would be better in many ways</td><td class="time"><a href="#t2022-03-30T22:36:55" class="time">22:36</a></td></tr>
<tr id="t2022-03-30T22:44:16"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">tlwoerner: that GPLv2.patch in keymaps is horrible. I want to remove that ;-)</td><td class="time"><a href="#t2022-03-30T22:44:16" class="time">22:44</a></td></tr>
<tr id="t2022-03-30T22:55:00"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">RP: yeah, that's what i was thinking too, maybe a new variable for the layer to add its own python search paths to, the way we add to bbpath/bbfiles. would be a lot cleaner than the way we're hacking it now</td><td class="time"><a href="#t2022-03-30T22:55:00" class="time">22:55</a></td></tr>
<tr id="t2022-03-30T22:55:29"><th class="nick" style="background: #5fb4b4">dvorkindmitry</th><td class="text" style="color: #5fb4b4">I am using WKS file to create SD card image. my first partition is shifted from the start. Between start and the first partition a raw binary should be placed. Is there any standard way to do this on WKS creation step?</td><td class="time"><a href="#t2022-03-30T22:55:29" class="time">22:55</a></td></tr>
<tr id="t2022-03-30T23:17:12"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">kergoth: exactly</td><td class="time"><a href="#t2022-03-30T23:17:12" class="time">23:17</a></td></tr>
<tr id="t2022-03-30T23:29:47"><th class="nick" style="background: #407a40">RP</th><td class="text" style="color: #407a40">kergoth: thanks for talking it though, it helps. I can't quite get it working but I'm in the right area. Will try again fresh tomorrow :)</td><td class="time"><a href="#t2022-03-30T23:29:47" class="time">23:29</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2022-03-29.log.html">&#171; Tuesday, 2022-03-29</a> <a href="index.html">Index</a> <a href="%23yocto.2022-03-31.log.html">Thursday, 2022-03-31 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.17.2 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="https://mg.pov.lt/irclog2html/">https://mg.pov.lt/irclog2html/</a>!</p>
</div>
</body>
</html>
