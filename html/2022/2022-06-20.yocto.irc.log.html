<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Monday, 2022-06-20</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.17.2 by Marius Gedminas" />
  <meta name="version" content="2.17.2 - 2019-04-23" />
</head>
<body>
<h1>Monday, 2022-06-20</h1>
<div class="navigation"> <a href="%23yocto.2022-06-19.log.html">&#171; Sunday, 2022-06-19</a> <a href="index.html">Index</a> <a href="%23yocto.2022-06-21.log.html">Tuesday, 2022-06-21 &#187;</a> </div>
<table class="irclog">
<tr id="t2022-06-20T01:12:30"><th class="nick" style="background: #407a40">roussinm</th><td class="text" style="color: #407a40">I think what we are doing right now is broken but lets see. We share sstate-cache for our build-runner. We have 2 runner x86</td><td class="time"><a href="#t2022-06-20T01:12:30" class="time">01:12</a></td></tr>
<tr id="t2022-06-20T01:13:11"><th class="nick" style="background: #407a40">roussinm</th><td class="text" style="color: #407a40">_64, but different cpus. And I think that native-recipe could in theory compile with cpu instruction that are not comptatible with the other cpu? Am I crazy?</td><td class="time"><a href="#t2022-06-20T01:13:11" class="time">01:13</a></td></tr>
<tr id="t2022-06-20T01:13:40"><th class="nick" style="background: #407a40">roussinm</th><td class="text" style="color: #407a40">python or cmake as an example.</td><td class="time"><a href="#t2022-06-20T01:13:40" class="time">01:13</a></td></tr>
<tr id="t2022-06-20T01:42:14"><th class="nick" style="background: #42427e">AKN</th><td class="text" style="color: #42427e">Hi been trying to get brcmfmac drivers working in custom yocto image for beaglebone ai past two weeks</td><td class="time"><a href="#t2022-06-20T01:42:14" class="time">01:42</a></td></tr>
<tr id="t2022-06-20T01:42:43"><th class="nick" style="background: #42427e">AKN</th><td class="text" style="color: #42427e">It was working for the same configuration a couple of months ago, now it doesn't even load the firmware files</td><td class="time"><a href="#t2022-06-20T01:42:43" class="time">01:42</a></td></tr>
<tr id="t2022-06-20T01:43:10"><th class="nick" style="background: #42427e">AKN</th><td class="text" style="color: #42427e">kindly help me out.</td><td class="time"><a href="#t2022-06-20T01:43:10" class="time">01:43</a></td></tr>
<tr id="t2022-06-20T01:55:51"><th class="nick" style="background: #407a40">roussinm</th><td class="text" style="color: #407a40">AKN: error message from dmesg?</td><td class="time"><a href="#t2022-06-20T01:55:51" class="time">01:55</a></td></tr>
<tr id="t2022-06-20T02:00:45"><th class="nick" style="background: #42427e">AKN</th><td class="text" style="color: #42427e">roussinm: No error message, It doesn't even tries to load the firmware</td><td class="time"><a href="#t2022-06-20T02:00:45" class="time">02:00</a></td></tr>
<tr id="t2022-06-20T02:01:24"><th class="nick" style="background: #407a40">roussinm</th><td class="text" style="color: #407a40">The driver loads?</td><td class="time"><a href="#t2022-06-20T02:01:24" class="time">02:01</a></td></tr>
<tr id="t2022-06-20T02:01:57"><th class="nick" style="background: #42427e">AKN</th><td class="text" style="color: #42427e">roussinm: No</td><td class="time"><a href="#t2022-06-20T02:01:57" class="time">02:01</a></td></tr>
<tr id="t2022-06-20T02:02:27"><th class="nick" style="background: #407a40">roussinm</th><td class="text" style="color: #407a40">AKN: ok I'm not sure how the driver binds to the device, does it required a DTS or something else?</td><td class="time"><a href="#t2022-06-20T02:02:27" class="time">02:02</a></td></tr>
<tr id="t2022-06-20T02:03:12-2"><td class="nickchange" colspan="2">*** camus1 is now known as camus</td><td><a href="#t2022-06-20T02:03:12-2" class="time">02:03</a></td></tr>
<tr id="t2022-06-20T02:03:43"><th class="nick" style="background: #42427e">AKN</th><td class="text" style="color: #42427e">roussinm: I have build the same image couple of months ago with same dts files firmware no &amp; revision were loaded</td><td class="time"><a href="#t2022-06-20T02:03:43" class="time">02:03</a></td></tr>
<tr id="t2022-06-20T02:04:11"><th class="nick" style="background: #42427e">AKN</th><td class="text" style="color: #42427e">roussinm: Now it does even load the firmware</td><td class="time"><a href="#t2022-06-20T02:04:11" class="time">02:04</a></td></tr>
<tr id="t2022-06-20T02:04:54"><th class="nick" style="background: #42427e">AKN</th><td class="text" style="color: #42427e">roussinm: *doesn't even load the firmware</td><td class="time"><a href="#t2022-06-20T02:04:54" class="time">02:04</a></td></tr>
<tr id="t2022-06-20T02:05:54"><th class="nick" style="background: #407a40">roussinm</th><td class="text" style="color: #407a40">AKN: hmm without the hardware it's really hard, from what you are telling me and from my experience, it feels like it doesn't bind on the device. I guess the probe of the driver isn't called?</td><td class="time"><a href="#t2022-06-20T02:05:54" class="time">02:05</a></td></tr>
<tr id="t2022-06-20T02:06:06"><th class="nick" style="background: #407a40">roussinm</th><td class="text" style="color: #407a40">Maybe it's called but errors out.</td><td class="time"><a href="#t2022-06-20T02:06:06" class="time">02:06</a></td></tr>
<tr id="t2022-06-20T02:06:27"><th class="nick" style="background: #42427e">AKN</th><td class="text" style="color: #42427e">roussinm: I am building the image for beaglebone ai , using meta-ti repo</td><td class="time"><a href="#t2022-06-20T02:06:27" class="time">02:06</a></td></tr>
<tr id="t2022-06-20T02:07:38"><th class="nick" style="background: #407a40">roussinm</th><td class="text" style="color: #407a40">AKN: Sure. But if the driver isn't loading I would looks at the driver's _probe function to see if it's ever called or if it errors out, but if you don't see error messages it feels like the _probe isn't even called.</td><td class="time"><a href="#t2022-06-20T02:07:38" class="time">02:07</a></td></tr>
<tr id="t2022-06-20T02:08:03"><th class="nick" style="background: #407a40">roussinm</th><td class="text" style="color: #407a40">modprobe the driver?</td><td class="time"><a href="#t2022-06-20T02:08:03" class="time">02:08</a></td></tr>
<tr id="t2022-06-20T02:08:06"><th class="nick" style="background: #407a40">roussinm</th><td class="text" style="color: #407a40">manually.</td><td class="time"><a href="#t2022-06-20T02:08:06" class="time">02:08</a></td></tr>
<tr id="t2022-06-20T02:08:37"><th class="nick" style="background: #407a40">roussinm</th><td class="text" style="color: #407a40">AKN: Do you know if the driver is built-in or a module?</td><td class="time"><a href="#t2022-06-20T02:08:37" class="time">02:08</a></td></tr>
<tr id="t2022-06-20T02:08:59"><th class="nick" style="background: #42427e">AKN</th><td class="text" style="color: #42427e">roussinm: module</td><td class="time"><a href="#t2022-06-20T02:08:59" class="time">02:08</a></td></tr>
<tr id="t2022-06-20T02:09:26"><th class="nick" style="background: #42427e">AKN</th><td class="text" style="color: #42427e">roussinm: brcmfmac43455</td><td class="time"><a href="#t2022-06-20T02:09:26" class="time">02:09</a></td></tr>
<tr id="t2022-06-20T02:09:29"><th class="nick" style="background: #407a40">roussinm</th><td class="text" style="color: #407a40">ok then you should try to manually load the driver to see if binds to the device.</td><td class="time"><a href="#t2022-06-20T02:09:29" class="time">02:09</a></td></tr>
<tr id="t2022-06-20T02:09:58"><th class="nick" style="background: #42427e">AKN</th><td class="text" style="color: #42427e">roussinm: Sure</td><td class="time"><a href="#t2022-06-20T02:09:58" class="time">02:09</a></td></tr>
<tr id="t2022-06-20T04:22:25"><td class="servermsg" colspan="2">*** ChanServ sets mode: +v ndec</td><td><a href="#t2022-06-20T04:22:25" class="time">04:22</a></td></tr>
<tr id="t2022-06-20T04:53:03-8"><td class="nickchange" colspan="2">*** rburton_ is now known as rburton</td><td><a href="#t2022-06-20T04:53:03-8" class="time">04:53</a></td></tr>
<tr id="t2022-06-20T04:53:04"><td class="nickchange" colspan="2">*** madisox_ is now known as madisox</td><td><a href="#t2022-06-20T04:53:04" class="time">04:53</a></td></tr>
<tr id="t2022-06-20T04:55:56"><td class="nickchange" colspan="2">*** camus1 is now known as camus</td><td><a href="#t2022-06-20T04:55:56" class="time">04:55</a></td></tr>
<tr id="t2022-06-20T06:03:37"><th class="nick" style="background: #818144">deuteron</th><td class="text" style="color: #818144">How can I remove -src and -dbg packages from an SDK? I tried TOOLCHAIN_TARGET_TASK:remove but it doesn't do the trick.</td><td class="time"><a href="#t2022-06-20T06:03:37" class="time">06:03</a></td></tr>
<tr id="t2022-06-20T06:47:04"><td class="nickchange" colspan="2">*** mckoan|away is now known as mckoan</td><td><a href="#t2022-06-20T06:47:04" class="time">06:47</a></td></tr>
<tr id="t2022-06-20T08:14:41"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">yo dudX</td><td class="time"><a href="#t2022-06-20T08:14:41" class="time">08:14</a></td></tr>
<tr id="t2022-06-20T08:27:27"><th class="nick" style="background: #488888">bigendian</th><td class="text" style="color: #488888">good cest morning all</td><td class="time"><a href="#t2022-06-20T08:27:27" class="time">08:27</a></td></tr>
<tr id="t2022-06-20T08:28:38"><th class="nick" style="background: #488888">bigendian</th><td class="text" style="color: #488888">i prepared a layout by a wks file, not clear btw why /dev/root mounted on /, by df is always 91% in use</td><td class="time"><a href="#t2022-06-20T08:28:38" class="time">08:28</a></td></tr>
<tr id="t2022-06-20T08:29:15"><th class="nick" style="background: #488888">bigendian</th><td class="text" style="color: #488888">checking by &quot;du&quot;, direcories seems to take 10% maybe</td><td class="time"><a href="#t2022-06-20T08:29:15" class="time">08:29</a></td></tr>
<tr id="t2022-06-20T08:51:35"><th class="nick" style="background: #8c4a4a">Granjow</th><td class="text" style="color: #8c4a4a">Hello! I'm having troubles adding a menu entry to the GRUB menu which is shown for the live install. I tried manually adding an entry with a custom recipe which inherits grub-efi-cfg and defined a build_efi_cfg, but that does not generate grub.cfg anymore. How do I correctly add a GRUB entry to the live installation?</td><td class="time"><a href="#t2022-06-20T08:51:35" class="time">08:51</a></td></tr>
<tr id="t2022-06-20T08:52:24"><th class="nick" style="background: #4b904b">kayterina[m]</th><td class="text" style="color: #4b904b">hello, can I have a link to devtool's source code please?</td><td class="time"><a href="#t2022-06-20T08:52:24" class="time">08:52</a></td></tr>
<tr id="t2022-06-20T08:55:58"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">kayterina[m]: <a href="https://git.yoctoproject.org/poky/tree/scripts/devtool" rel="nofollow">https://git.yoctoproject.org/poky/tree/scripts/devtool</a></td><td class="time"><a href="#t2022-06-20T08:55:58" class="time">08:55</a></td></tr>
<tr id="t2022-06-20T08:59:38"><th class="nick" style="background: #4b904b">kayterina[m]</th><td class="text" style="color: #4b904b">Thanks. How do I generally search for things there? Did you search the local git or you just knew it was under /scripts?</td><td class="time"><a href="#t2022-06-20T08:59:38" class="time">08:59</a></td></tr>
<tr id="t2022-06-20T09:05:46"><th class="nick" style="background: #42427e">AKN</th><td class="text" style="color: #42427e">roussinm: bbai:~# dmesg | grep brcm</td><td class="time"><a href="#t2022-06-20T09:05:46" class="time">09:05</a></td></tr>
<tr id="t2022-06-20T09:05:46-2"><th class="nick" style="background: #42427e">AKN</th><td class="text" style="color: #42427e">[ 5.659210] pwrseq_simple brcmf_pwrseq: GPIO lookup for consumer reset</td><td class="time"><a href="#t2022-06-20T09:05:46-2" class="time">09:05</a></td></tr>
<tr id="t2022-06-20T09:05:46-3"><th class="nick" style="background: #42427e">AKN</th><td class="text" style="color: #42427e">[ 5.659210] pwrseq_simple brcmf_pwrseq: using device tree for GPIO lookup</td><td class="time"><a href="#t2022-06-20T09:05:46-3" class="time">09:05</a></td></tr>
<tr id="t2022-06-20T09:05:47"><th class="nick" style="background: #42427e">AKN</th><td class="text" style="color: #42427e">[ 5.659240] of_get_named_gpiod_flags: parsed 'reset-gpios' property of node '/brcmf_pwrseq[0]' - status (0)</td><td class="time"><a href="#t2022-06-20T09:05:47" class="time">09:05</a></td></tr>
<tr id="t2022-06-20T09:05:47-2"><th class="nick" style="background: #42427e">AKN</th><td class="text" style="color: #42427e">[ 5.659301] pwrseq_simple brcmf_pwrseq: GPIO lookup for consumer reset</td><td class="time"><a href="#t2022-06-20T09:05:47-2" class="time">09:05</a></td></tr>
<tr id="t2022-06-20T09:05:47-3"><th class="nick" style="background: #42427e">AKN</th><td class="text" style="color: #42427e">[ 5.659301] pwrseq_simple brcmf_pwrseq: using device tree for GPIO lookup</td><td class="time"><a href="#t2022-06-20T09:05:47-3" class="time">09:05</a></td></tr>
<tr id="t2022-06-20T09:05:49"><th class="nick" style="background: #42427e">AKN</th><td class="text" style="color: #42427e">[ 5.659332] of_get_named_gpiod_flags: parsed 'reset-gpios' property of node '/brcmf_pwrseq[1]' - status (0)</td><td class="time"><a href="#t2022-06-20T09:05:49" class="time">09:05</a></td></tr>
<tr id="t2022-06-20T09:05:51"><th class="nick" style="background: #42427e">AKN</th><td class="text" style="color: #42427e">[ 11.670166] brcmfmac: brcmf_fw_alloc_request: using brcm/brcmfmac43430-sdio for chip BCM43430/1</td><td class="time"><a href="#t2022-06-20T09:05:51" class="time">09:05</a></td></tr>
<tr id="t2022-06-20T09:05:55"><th class="nick" style="background: #42427e">AKN</th><td class="text" style="color: #42427e">[ 11.775878] brcmfmac mmc1:0001:1: Direct firmware load for brcm/brcmfmac43430-sdio.beagle,am5729-beagleboneai.txt failed with error -2</td><td class="time"><a href="#t2022-06-20T09:05:55" class="time">09:05</a></td></tr>
<tr id="t2022-06-20T09:05:58"><th class="nick" style="background: #42427e">AKN</th><td class="text" style="color: #42427e">[ 12.923767] brcmfmac: brcmf_sdio_htclk: HT Avail timeout (1000000): clkctl 0x50</td><td class="time"><a href="#t2022-06-20T09:05:58" class="time">09:05</a></td></tr>
<tr id="t2022-06-20T09:06:00"><th class="nick" style="background: #42427e">AKN</th><td class="text" style="color: #42427e">[ 13.935699] brcmfmac: brcmf_sdio_htclk: HT Avail timeout (1000000): clkctl 0x50</td><td class="time"><a href="#t2022-06-20T09:06:00" class="time">09:06</a></td></tr>
<tr id="t2022-06-20T09:09:52"><th class="nick" style="background: #4d4d93">dvorkindmitry</th><td class="text" style="color: #4d4d93">In my user-space recipe I need to build branch0 if I have kernel 5.4 and branch1 if I have kernel 5.10. How to do that?</td><td class="time"><a href="#t2022-06-20T09:09:52" class="time">09:09</a></td></tr>
<tr id="t2022-06-20T09:10:19"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">kayterina[m]: i just happen to know, tbh. but generally: it can be called as a binary, so obviously at least somewhere a file of the name &quot;devtool&quot; must exist in the tree. then you can just search for it, using &quot;find&quot;, and then wordk your way from there.</td><td class="time"><a href="#t2022-06-20T09:10:19" class="time">09:10</a></td></tr>
<tr id="t2022-06-20T09:12:05"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">dvorkindmitry: what triggers the kernel version? use the same for the recipe.</td><td class="time"><a href="#t2022-06-20T09:12:05" class="time">09:12</a></td></tr>
<tr id="t2022-06-20T09:12:30"><th class="nick" style="background: #4d4d93">dvorkindmitry</th><td class="text" style="color: #4d4d93">LetoThe2nd, preffered_version</td><td class="time"><a href="#t2022-06-20T09:12:30" class="time">09:12</a></td></tr>
<tr id="t2022-06-20T09:12:40"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">dvorkindmitry: set where?</td><td class="time"><a href="#t2022-06-20T09:12:40" class="time">09:12</a></td></tr>
<tr id="t2022-06-20T09:13:20"><th class="nick" style="background: #4d4d93">dvorkindmitry</th><td class="text" style="color: #4d4d93">LetoThe2nd, in machine settings file at machine/</td><td class="time"><a href="#t2022-06-20T09:13:20" class="time">09:13</a></td></tr>
<tr id="t2022-06-20T09:14:10"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">dvorkindmitry: then why not set SRCBRANCH for the recipe there too? its hacky (such doesn't belong into the machine, rather the distro), but its the closest that you'll get.</td><td class="time"><a href="#t2022-06-20T09:14:10" class="time">09:14</a></td></tr>
<tr id="t2022-06-20T09:16:20"><th class="nick" style="background: #4d4d93">dvorkindmitry</th><td class="text" style="color: #4d4d93">LetoThe2nd, I need to switch between two branches depending on one or another kernel version automatically</td><td class="time"><a href="#t2022-06-20T09:16:20" class="time">09:16</a></td></tr>
<tr id="t2022-06-20T09:17:36"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">dvorkindmitry: thats just not how it works.</td><td class="time"><a href="#t2022-06-20T09:17:36" class="time">09:17</a></td></tr>
<tr id="t2022-06-20T09:19:05"><th class="nick" style="background: #4d4d93">dvorkindmitry</th><td class="text" style="color: #4d4d93">LetoThe2nd, ok. what would you suggest? my app sets kernel-dependant settings</td><td class="time"><a href="#t2022-06-20T09:19:05" class="time">09:19</a></td></tr>
<tr id="t2022-06-20T09:19:17"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">dvorkindmitry: a recipe does not trigger on things that another recipe does. the config can set things. so if the config can set a preferred version for the kernel, why can't it also set the branch? if you want more magic, then you can use some form of variable expansion based on the preferred kernel version that you set, but it just doesn't happen in the recipe.</td><td class="time"><a href="#t2022-06-20T09:19:17" class="time">09:19</a></td></tr>
<tr id="t2022-06-20T09:19:35"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">dvorkindmitry: i already suggested something, by the way.</td><td class="time"><a href="#t2022-06-20T09:19:35" class="time">09:19</a></td></tr>
<tr id="t2022-06-20T09:20:32"><th class="nick" style="background: #854685">LetoThe2nd</th><td class="text" style="color: #854685">generally it would be better to trigger such off DISTRO, but hey, whatever works for you.</td><td class="time"><a href="#t2022-06-20T09:20:32" class="time">09:20</a></td></tr>
<tr id="t2022-06-20T11:00:06"><th class="nick" style="background: #97974f">selff</th><td class="text" style="color: #97974f">hello everyone. im having a problem when switching between hotspot and wpa. wpa is reading the wrong file when trying to switch. my configs are like this:</td><td class="time"><a href="#t2022-06-20T11:00:06" class="time">11:00</a></td></tr>
<tr id="t2022-06-20T11:00:06-2"><th class="nick" style="background: #97974f">selff</th><td class="text" style="color: #97974f"><a href="https://pastebin.com/MHLbQBmQ" rel="nofollow">https://pastebin.com/MHLbQBmQ</a></td><td class="time"><a href="#t2022-06-20T11:00:06-2" class="time">11:00</a></td></tr>
<tr id="t2022-06-20T11:00:07"><th class="nick" style="background: #97974f">selff</th><td class="text" style="color: #97974f">when i do &quot;systemctl start hostapd&quot;, the hotspot stand up successfully and just reads &quot;hostapd.network&quot;. when i try switch to wpa, wpa is reading &quot;hostapd.network&quot; and &quot;wlan.network&quot;. i couldnt find a solution.</td><td class="time"><a href="#t2022-06-20T11:00:07" class="time">11:00</a></td></tr>
<tr id="t2022-06-20T11:09:35"><th class="nick" style="background: #8c4a4a">Granjow</th><td class="text" style="color: #8c4a4a">Could now add the custom GRUB line by copying the modified grub-efi-cfg.bbclass to my layer directory and prepending the path to BBPATH.</td><td class="time"><a href="#t2022-06-20T11:09:35" class="time">11:09</a></td></tr>
<tr id="t2022-06-20T11:09:48"><td class="part" colspan="2">*** Granjow &lt;Granjow!~simon@46.140.188.244&gt; has left #yocto</td><td><a href="#t2022-06-20T11:09:48" class="time">11:09</a></td></tr>
<tr id="t2022-06-20T11:59:13"><th class="nick" style="background: #9b519b">KanjiMonster</th><td class="text" style="color: #9b519b">hi. I'm building kirstone for an arm cortex-a9 platform, and python3-cryptography is causing python3 to coredump with SIGILL on load. using gdb it shows it crashes on a neon instruction. DEFAULTUNE is just &quot;cortex-a9&quot;, so there should be no neon</td><td class="time"><a href="#t2022-06-20T11:59:13" class="time">11:59</a></td></tr>
<tr id="t2022-06-20T12:00:16"><th class="nick" style="background: #9b519b">KanjiMonster</th><td class="text" style="color: #9b519b">the source that was compiled is rust, so my first instinct would be blaming the rust (cross-)compiler, but I'm way out of my league there to debug this, so I could use a helping hand</td><td class="time"><a href="#t2022-06-20T12:00:16" class="time">12:00</a></td></tr>
<tr id="t2022-06-20T12:15:35"><td class="part" colspan="2">*** Granjow &lt;Granjow!~simon@46.140.188.244&gt; has left #yocto</td><td><a href="#t2022-06-20T12:15:35" class="time">12:15</a></td></tr>
<tr id="t2022-06-20T12:24:57"><th class="nick" style="background: #539e9e">Guest82</th><td class="text" style="color: #539e9e">Hi all, I've built a kernel module in my layer recipe based on imx_rpmsg_tty. It autoloads and runs just fine, but issues a warning that it taints the kernel.</td><td class="time"><a href="#t2022-06-20T12:24:57" class="time">12:24</a></td></tr>
<tr id="t2022-06-20T12:24:57-2"><th class="nick" style="background: #539e9e">Guest82</th><td class="text" style="color: #539e9e">It seems that any out-of-tree module will taint the kernel when googling for information. Did I miss a step or is this normal behaviour?</td><td class="time"><a href="#t2022-06-20T12:24:57-2" class="time">12:24</a></td></tr>
<tr id="t2022-06-20T12:26:00"><th class="nick" style="background: #a25555">manuel1985</th><td class="text" style="color: #a25555">Guest82: I think that's normal behaviour.</td><td class="time"><a href="#t2022-06-20T12:26:00" class="time">12:26</a></td></tr>
<tr id="t2022-06-20T12:41:04"><th class="nick" style="background: #57a657">Guest96</th><td class="text" style="color: #57a657">Hi All</td><td class="time"><a href="#t2022-06-20T12:41:04" class="time">12:41</a></td></tr>
<tr id="t2022-06-20T12:42:21"><th class="nick" style="background: #57a657">Guest96</th><td class="text" style="color: #57a657">I am also using yocto build system for my project</td><td class="time"><a href="#t2022-06-20T12:42:21" class="time">12:42</a></td></tr>
<tr id="t2022-06-20T12:43:33"><th class="nick" style="background: #57a657">Guest96</th><td class="text" style="color: #57a657">Now i stuck with creating master recipe(Ex:core-image-minimal.bb)</td><td class="time"><a href="#t2022-06-20T12:43:33" class="time">12:43</a></td></tr>
<tr id="t2022-06-20T12:49:07"><th class="nick" style="background: #407a40">roussinm</th><td class="text" style="color: #407a40">I think what we are doing right now is broken but let's see. We share sstate-cache for our build-runner. We have 2 runners x86_64, but different CPUs. And I think that native-recipe could in theory compile CPU instructions that are not compatible with the other CPU? Am I crazy? Python or CMake as an example.</td><td class="time"><a href="#t2022-06-20T12:49:07" class="time">12:49</a></td></tr>
<tr id="t2022-06-20T12:50:24"><th class="nick" style="background: #5959a9">rburton</th><td class="text" style="color: #5959a9">roussinm: no, host architecture is part of the key, so different host arch won't share sstate</td><td class="time"><a href="#t2022-06-20T12:50:24" class="time">12:50</a></td></tr>
<tr id="t2022-06-20T12:50:49"><th class="nick" style="background: #5959a9">rburton</th><td class="text" style="color: #5959a9">roussinm: the autobuilder has a single sstate cache on NFS for ~20 machines, some x86-64 some arm, different host distributions, different target distributions and machines</td><td class="time"><a href="#t2022-06-20T12:50:49" class="time">12:50</a></td></tr>
<tr id="t2022-06-20T12:51:25"><th class="nick" style="background: #407a40">roussinm</th><td class="text" style="color: #407a40">rburton: ok so a runner when executing a python3 native on a host get illegal instruction. but on the other runner it passes.</td><td class="time"><a href="#t2022-06-20T12:51:25" class="time">12:51</a></td></tr>
<tr id="t2022-06-20T12:52:10"><th class="nick" style="background: #407a40">roussinm</th><td class="text" style="color: #407a40">during a do_configure task.</td><td class="time"><a href="#t2022-06-20T12:52:10" class="time">12:52</a></td></tr>
<tr id="t2022-06-20T12:52:14"><th class="nick" style="background: #adad5b">te-johan</th><td class="text" style="color: #adad5b">Hi, i'm getting pseudo abort errors due to ld.so.conf. Seems like the file is created twice, the second time ld.so.conf.prelink is created and renamed to ld.so.conf. When I rebuild my image I get a pseudo abort because the database contains the inode of the file before it was renamed. Does this sound familiar to anyone?</td><td class="time"><a href="#t2022-06-20T12:52:14" class="time">12:52</a></td></tr>
<tr id="t2022-06-20T12:52:31"><th class="nick" style="background: #5959a9">rburton</th><td class="text" style="color: #5959a9">roussinm: fun! so the code is doing -mtune=native somewhere and that *will* break.</td><td class="time"><a href="#t2022-06-20T12:52:31" class="time">12:52</a></td></tr>
<tr id="t2022-06-20T12:52:38"><th class="nick" style="background: #5959a9">rburton</th><td class="text" style="color: #5959a9">roussinm: what recipe?</td><td class="time"><a href="#t2022-06-20T12:52:38" class="time">12:52</a></td></tr>
<tr id="t2022-06-20T12:52:56"><th class="nick" style="background: #407a40">roussinm</th><td class="text" style="color: #407a40">mozjs on hardknott, it execute some python code.</td><td class="time"><a href="#t2022-06-20T12:52:56" class="time">12:52</a></td></tr>
<tr id="t2022-06-20T12:53:15"><th class="nick" style="background: #5959a9">rburton</th><td class="text" style="color: #5959a9">do you know what it executes?</td><td class="time"><a href="#t2022-06-20T12:53:15" class="time">12:53</a></td></tr>
<tr id="t2022-06-20T12:54:46"><th class="nick" style="background: #407a40">roussinm</th><td class="text" style="color: #407a40">rburton: TMPDIR=&quot;${B}/lcl_tmp&quot;&nbsp;&nbsp;${S}/js/src/configure ${EXTRA_OECONF} this line inside the do_configure task.</td><td class="time"><a href="#t2022-06-20T12:54:46" class="time">12:54</a></td></tr>
<tr id="t2022-06-20T12:55:01"><th class="nick" style="background: #5959a9">rburton</th><td class="text" style="color: #5959a9">i meant, can you identify what is actually crashing</td><td class="time"><a href="#t2022-06-20T12:55:01" class="time">12:55</a></td></tr>
<tr id="t2022-06-20T12:56:01"><th class="nick" style="background: #818144">deuteron</th><td class="text" style="color: #818144">How can I remove -src and -dbg packages from an SDK? I want just ${PN} and ${PN}-dev in the SDK, but I want the packages for the -src and -dbg packages.&nbsp;&nbsp;I tried TOOLCHAIN_TARGET_TASK:remove but it doesn't do the trick.&nbsp;&nbsp;Any ideas?</td><td class="time"><a href="#t2022-06-20T12:56:01" class="time">12:56</a></td></tr>
<tr id="t2022-06-20T12:57:13"><th class="nick" style="background: #b15db1">RP</th><td class="text" style="color: #b15db1">rburton: python dependency creep in core is depressing :(</td><td class="time"><a href="#t2022-06-20T12:57:13" class="time">12:57</a></td></tr>
<tr id="t2022-06-20T12:57:18"><th class="nick" style="background: #5959a9">rburton</th><td class="text" style="color: #5959a9">yes</td><td class="time"><a href="#t2022-06-20T12:57:18" class="time">12:57</a></td></tr>
<tr id="t2022-06-20T12:58:03"><th class="nick" style="background: #5959a9">rburton</th><td class="text" style="color: #5959a9">RP: give it a year and half of these tools will die off, hopefully.&nbsp;&nbsp;i was told last week that 'poetry is winning' but recipe stats say otherwise so far.</td><td class="time"><a href="#t2022-06-20T12:58:03" class="time">12:58</a></td></tr>
<tr id="t2022-06-20T13:02:39"><th class="nick" style="background: #b15db1">RP</th><td class="text" style="color: #b15db1">rburton: I guess there is a cycle to these things</td><td class="time"><a href="#t2022-06-20T13:02:39" class="time">13:02</a></td></tr>
<tr id="t2022-06-20T13:03:54"><th class="nick" style="background: #407a40">roussinm</th><td class="text" style="color: #407a40">rburton: run.do_configure.9144: line 163: 10078 Illegal instruction&nbsp;&nbsp;&nbsp;&nbsp; (core dumped)</td><td class="time"><a href="#t2022-06-20T13:03:54" class="time">13:03</a></td></tr>
<tr id="t2022-06-20T13:04:12"><th class="nick" style="background: #407a40">roussinm</th><td class="text" style="color: #407a40">is that line 163 of the script do_configure or the python from inside mozilla?</td><td class="time"><a href="#t2022-06-20T13:04:12" class="time">13:04</a></td></tr>
<tr id="t2022-06-20T13:04:30"><th class="nick" style="background: #5959a9">rburton</th><td class="text" style="color: #5959a9">the configure, hopefully :)</td><td class="time"><a href="#t2022-06-20T13:04:30" class="time">13:04</a></td></tr>
<tr id="t2022-06-20T13:05:39"><th class="nick" style="background: #407a40">roussinm</th><td class="text" style="color: #407a40">so that's the line TMPDIR=&quot;${B}/lcl_tmp&quot;&nbsp;&nbsp;${S}/js/src/configure ${EXTRA_OECONF}, but I have no idea which instruction</td><td class="time"><a href="#t2022-06-20T13:05:39" class="time">13:05</a></td></tr>
<tr id="t2022-06-20T13:06:04"><th class="nick" style="background: #5959a9">rburton</th><td class="text" style="color: #5959a9">dmesg will tell you what actually crashed</td><td class="time"><a href="#t2022-06-20T13:06:04" class="time">13:06</a></td></tr>
<tr id="t2022-06-20T13:15:36"><th class="nick" style="background: #407a40">roussinm</th><td class="text" style="color: #407a40">rburton: I wish, it looks like I have no message from the runner, they are inside a docker, and looks like I don't see any kernel.</td><td class="time"><a href="#t2022-06-20T13:15:36" class="time">13:15</a></td></tr>
<tr id="t2022-06-20T13:15:52"><th class="nick" style="background: #407a40">roussinm</th><td class="text" style="color: #407a40">erros.</td><td class="time"><a href="#t2022-06-20T13:15:52" class="time">13:15</a></td></tr>
<tr id="t2022-06-20T13:16:26"><th class="nick" style="background: #5959a9">rburton</th><td class="text" style="color: #5959a9">roussinm: what distros is the docker running?</td><td class="time"><a href="#t2022-06-20T13:16:26" class="time">13:16</a></td></tr>
<tr id="t2022-06-20T13:16:38"><th class="nick" style="background: #407a40">roussinm</th><td class="text" style="color: #407a40">debian stretch</td><td class="time"><a href="#t2022-06-20T13:16:38" class="time">13:16</a></td></tr>
<tr id="t2022-06-20T13:21:55"><th class="nick" style="background: #5959a9">rburton</th><td class="text" style="color: #5959a9">roussinm: can you pastebin the log.do_configure please</td><td class="time"><a href="#t2022-06-20T13:21:55" class="time">13:21</a></td></tr>
<tr id="t2022-06-20T13:31:40"><th class="nick" style="background: #5959a9">rburton</th><td class="text" style="color: #5959a9">rburton: even better, the log.do_compile for python3-native</td><td class="time"><a href="#t2022-06-20T13:31:40" class="time">13:31</a></td></tr>
<tr id="t2022-06-20T13:34:42"><th class="nick" style="background: #5959a9">rburton</th><td class="text" style="color: #5959a9">roussinm: just checking: you didn't do something like set -mtune=native in the compiler flags anywhere did you, because that would cause all sorts of problems.</td><td class="time"><a href="#t2022-06-20T13:34:42" class="time">13:34</a></td></tr>
<tr id="t2022-06-20T13:34:52"><th class="nick" style="background: #5fb4b4">Lemur-for-rent</th><td class="text" style="color: #5fb4b4">Hi</td><td class="time"><a href="#t2022-06-20T13:34:52" class="time">13:34</a></td></tr>
<tr id="t2022-06-20T13:39:22"><th class="nick" style="background: #407a40">roussinm</th><td class="text" style="color: #407a40">rburton: : <a href="https://pastebin.com/3tj92Dzy" rel="nofollow">https://pastebin.com/3tj92Dzy</a></td><td class="time"><a href="#t2022-06-20T13:39:22" class="time">13:39</a></td></tr>
<tr id="t2022-06-20T13:41:46"><th class="nick" style="background: #5959a9">rburton</th><td class="text" style="color: #5959a9">ah so its not python</td><td class="time"><a href="#t2022-06-20T13:41:46" class="time">13:41</a></td></tr>
<tr id="t2022-06-20T13:42:52"><th class="nick" style="background: #5959a9">rburton</th><td class="text" style="color: #5959a9">well, might be. but it thinks its finished.</td><td class="time"><a href="#t2022-06-20T13:42:52" class="time">13:42</a></td></tr>
<tr id="t2022-06-20T13:47:53"><th class="nick" style="background: #407a40">roussinm</th><td class="text" style="color: #407a40">well the configure scripts from mozilla execute some python</td><td class="time"><a href="#t2022-06-20T13:47:53" class="time">13:47</a></td></tr>
<tr id="t2022-06-20T13:51:53"><th class="nick" style="background: #5959a9">rburton</th><td class="text" style="color: #5959a9">ah yes its a sh which calls python which calls sh</td><td class="time"><a href="#t2022-06-20T13:51:53" class="time">13:51</a></td></tr>
<tr id="t2022-06-20T13:56:19"><th class="nick" style="background: #407a40">roussinm</th><td class="text" style="color: #407a40">rburton: when you said the sstate takes the host arch in consideration, it takes the instruction set extensions too? It's part of the hash?</td><td class="time"><a href="#t2022-06-20T13:56:19" class="time">13:56</a></td></tr>
<tr id="t2022-06-20T13:56:37"><th class="nick" style="background: #5959a9">rburton</th><td class="text" style="color: #5959a9">no, just the triple</td><td class="time"><a href="#t2022-06-20T13:56:37" class="time">13:56</a></td></tr>
<tr id="t2022-06-20T13:56:51"><th class="nick" style="background: #5959a9">rburton</th><td class="text" style="color: #5959a9">host code should never be compiled for a specific tune</td><td class="time"><a href="#t2022-06-20T13:56:51" class="time">13:56</a></td></tr>
<tr id="t2022-06-20T13:57:10"><th class="nick" style="background: #5959a9">rburton</th><td class="text" style="color: #5959a9">the default in gcc is really generic</td><td class="time"><a href="#t2022-06-20T13:57:10" class="time">13:57</a></td></tr>
<tr id="t2022-06-20T13:57:11"><th class="nick" style="background: #407a40">roussinm</th><td class="text" style="color: #407a40">it shouldn't for sure. But I read somewhere where python requires avx2 now.</td><td class="time"><a href="#t2022-06-20T13:57:11" class="time">13:57</a></td></tr>
<tr id="t2022-06-20T13:58:40"><th class="nick" style="background: #407a40">roussinm</th><td class="text" style="color: #407a40">so is it crazy to think that python3-native choose to build with avx2 because it's avaible on the host, but then execute on my other machine that doesn't have avx2 and fails?</td><td class="time"><a href="#t2022-06-20T13:58:40" class="time">13:58</a></td></tr>
<tr id="t2022-06-20T14:00:25"><th class="nick" style="background: #5959a9">rburton</th><td class="text" style="color: #5959a9">that shouldn't happen</td><td class="time"><a href="#t2022-06-20T14:00:25" class="time">14:00</a></td></tr>
<tr id="t2022-06-20T14:00:43"><th class="nick" style="background: #5959a9">rburton</th><td class="text" style="color: #5959a9">it *could* but python shouldn't</td><td class="time"><a href="#t2022-06-20T14:00:43" class="time">14:00</a></td></tr>
<tr id="t2022-06-20T14:20:18"><th class="nick" style="background: #407a40">roussinm</th><td class="text" style="color: #407a40">rburton: i guess i could objdump the python3 binary and check if there is avx2 instructions...</td><td class="time"><a href="#t2022-06-20T14:20:18" class="time">14:20</a></td></tr>
<tr id="t2022-06-20T14:22:43"><th class="nick" style="background: #407a40">roussinm</th><td class="text" style="color: #407a40">that can't work, python3 binary too small.</td><td class="time"><a href="#t2022-06-20T14:22:43" class="time">14:22</a></td></tr>
<tr id="t2022-06-20T14:32:43"><th class="nick" style="background: #5959a9">rburton</th><td class="text" style="color: #5959a9">roussinm: you'll likely want the libpython.so anyway</td><td class="time"><a href="#t2022-06-20T14:32:43" class="time">14:32</a></td></tr>
<tr id="t2022-06-20T14:37:17"><th class="nick" style="background: #407a40">roussinm</th><td class="text" style="color: #407a40">probably ya</td><td class="time"><a href="#t2022-06-20T14:37:17" class="time">14:37</a></td></tr>
<tr id="t2022-06-20T14:44:40"><th class="nick" style="background: #b86161">vin[m]</th><td class="text" style="color: #b86161">I see mentions of using bitbake as a server and communicating over some rpc (xml rpc but migrating to something else). Is there some documentation on how to set this up.</td><td class="time"><a href="#t2022-06-20T14:44:40" class="time">14:44</a></td></tr>
<tr id="t2022-06-20T14:51:45"><th class="nick" style="background: #407a40">roussinm</th><td class="text" style="color: #407a40">rburton: no usage of the ymm register. So probably no avx</td><td class="time"><a href="#t2022-06-20T14:51:45" class="time">14:51</a></td></tr>
<tr id="t2022-06-20T14:54:23"><th class="nick" style="background: #407a40">roussinm</th><td class="text" style="color: #407a40">runner cpus ares: Xeon-X5675 and a Xeon E5-2630 v2</td><td class="time"><a href="#t2022-06-20T14:54:23" class="time">14:54</a></td></tr>
<tr id="t2022-06-20T14:55:24"><th class="nick" style="background: #b15db1">RP</th><td class="text" style="color: #b15db1">if we know the configure site for the avx2 bits we could disable that in python3-native</td><td class="time"><a href="#t2022-06-20T14:55:24" class="time">14:55</a></td></tr>
<tr id="t2022-06-20T14:57:27"><th class="nick" style="background: #407a40">roussinm</th><td class="text" style="color: #407a40">I only see one reference inside python source code: <a href="https://cs.github.com/python/cpython/blob/d8f40ead92b5a973cff3a30482a7659d3b46b1ba/Modules/_blake2/impl/blake2-config.h?q=avx2" rel="nofollow">https://cs.github.com/python/cpython/blob/d8f40ead92b5a973cff3a30482a7659d3b46b1ba/Modules/_blake2/impl/blake2-config.h?q=avx2</a></td><td class="time"><a href="#t2022-06-20T14:57:27" class="time">14:57</a></td></tr>
<tr id="t2022-06-20T14:57:38"><th class="nick" style="background: #407a40">roussinm</th><td class="text" style="color: #407a40">I have no idea what blake2 is yet.</td><td class="time"><a href="#t2022-06-20T14:57:38" class="time">14:57</a></td></tr>
<tr id="t2022-06-20T14:57:58"><th class="nick" style="background: #407a40">roussinm</th><td class="text" style="color: #407a40">Hm hashing.</td><td class="time"><a href="#t2022-06-20T14:57:58" class="time">14:57</a></td></tr>
<tr id="t2022-06-20T14:58:49"><th class="nick" style="background: #407a40">roussinm</th><td class="text" style="color: #407a40">RP: could that be it&gt;</td><td class="time"><a href="#t2022-06-20T14:58:49" class="time">14:58</a></td></tr>
<tr id="t2022-06-20T15:08:04"><th class="nick" style="background: #5959a9">rburton</th><td class="text" style="color: #5959a9">maaaaybe. shouldn't be using those instructions. easily tested if you can grab the python from one machine and run it on another</td><td class="time"><a href="#t2022-06-20T15:08:04" class="time">15:08</a></td></tr>
<tr id="t2022-06-20T15:15:23"><th class="nick" style="background: #5959a9">rburton</th><td class="text" style="color: #5959a9">i had a 2630 iirc, and yes it's quite old.&nbsp;&nbsp;couldn't build clear linux as their libc was tuned to assume avx...</td><td class="time"><a href="#t2022-06-20T15:15:23" class="time">15:15</a></td></tr>
<tr id="t2022-06-20T16:35:09"><td class="nickchange" colspan="2">*** mckoan is now known as mckoan|away</td><td><a href="#t2022-06-20T16:35:09" class="time">16:35</a></td></tr>
<tr id="t2022-06-20T17:09:31"><th class="nick" style="background: #407a40">roussinm</th><td class="text" style="color: #407a40">rburton: from sstate-cache which task I should unzip, the only one I find is populate-sysroot and license stuff. Does populate-sysroot task make sens to unzip?</td><td class="time"><a href="#t2022-06-20T17:09:31" class="time">17:09</a></td></tr>
<tr id="t2022-06-20T17:25:54"><th class="nick" style="background: #407a40">roussinm</th><td class="text" style="color: #407a40">rburton: I extract the recipe to the host, but when I try to execute the python3.9 execute from the sysroot, it tells me No such file or directory</td><td class="time"><a href="#t2022-06-20T17:25:54" class="time">17:25</a></td></tr>
<tr id="t2022-06-20T17:58:07"><th class="nick" style="background: #5959a9">rburton</th><td class="text" style="color: #5959a9">roussinm: you'll need to fixup paths and stuff. much easier to do in a bitbake context</td><td class="time"><a href="#t2022-06-20T17:58:07" class="time">17:58</a></td></tr>
<tr id="t2022-06-20T18:51:40"><th class="nick" style="background: #407a40">roussinm</th><td class="text" style="color: #407a40">rburton: traps: python3[9128] trap invalid opcode ip:7f56c4b3a63c sp:7ffd0104f498 error:0 in libffi.so.7.1.0</td><td class="time"><a href="#t2022-06-20T18:51:40" class="time">18:51</a></td></tr>
<tr id="t2022-06-20T18:52:06"><th class="nick" style="background: #407a40">roussinm</th><td class="text" style="color: #407a40">more information weeeee lol so something in libffi</td><td class="time"><a href="#t2022-06-20T18:52:06" class="time">18:52</a></td></tr>
<tr id="t2022-06-20T19:02:08"><th class="nick" style="background: #407a40">roussinm</th><td class="text" style="color: #407a40">I don't even know why it should libffi 7.1.0 since bitbake has version 3.3...</td><td class="time"><a href="#t2022-06-20T19:02:08" class="time">19:02</a></td></tr>
<tr id="t2022-06-20T19:02:19"><th class="nick" style="background: #407a40">roussinm</th><td class="text" style="color: #407a40">s/bitbake/poky/</td><td class="time"><a href="#t2022-06-20T19:02:19" class="time">19:02</a></td></tr>
<tr id="t2022-06-20T19:05:11"><th class="nick" style="background: #407a40">roussinm</th><td class="text" style="color: #407a40">ok so it's from the mozjs sysroot: mozjs/60.9.0-r0/recipe-sysroot/usr/lib/libffi.so.7.1.0</td><td class="time"><a href="#t2022-06-20T19:05:11" class="time">19:05</a></td></tr>
<tr id="t2022-06-20T19:10:56"><th class="nick" style="background: #407a40">roussinm</th><td class="text" style="color: #407a40">so inside the mozilla source code there is a libffi with some assembly with `xmm` register usage. But I think those should be fair game.</td><td class="time"><a href="#t2022-06-20T19:10:56" class="time">19:10</a></td></tr>
<tr id="t2022-06-20T19:17:22"><th class="nick" style="background: #407a40">roussinm</th><td class="text" style="color: #407a40">wait. why python3-native uses the libffi some mozilla instead of the &quot;real&quot; one...</td><td class="time"><a href="#t2022-06-20T19:17:22" class="time">19:17</a></td></tr>
<tr id="t2022-06-20T19:21:10"><th class="nick" style="background: #5959a9">rburton</th><td class="text" style="color: #5959a9">because version != soname</td><td class="time"><a href="#t2022-06-20T19:21:10" class="time">19:21</a></td></tr>
<tr id="t2022-06-20T19:21:30"><th class="nick" style="background: #5959a9">rburton</th><td class="text" style="color: #5959a9">master has libffi 3.4.2 but libffi.so.8.1.0</td><td class="time"><a href="#t2022-06-20T19:21:30" class="time">19:21</a></td></tr>
<tr id="t2022-06-20T19:21:40"><th class="nick" style="background: #5959a9">rburton</th><td class="text" style="color: #5959a9">so maybe you've found an interesting edge case in libffi</td><td class="time"><a href="#t2022-06-20T19:21:40" class="time">19:21</a></td></tr>
<tr id="t2022-06-20T19:21:45"><th class="nick" style="background: #5959a9">rburton</th><td class="text" style="color: #5959a9">at least thats easier to test!</td><td class="time"><a href="#t2022-06-20T19:21:45" class="time">19:21</a></td></tr>
<tr id="t2022-06-20T19:21:51"><th class="nick" style="background: #407a40">roussinm</th><td class="text" style="color: #407a40">is it?</td><td class="time"><a href="#t2022-06-20T19:21:51" class="time">19:21</a></td></tr>
<tr id="t2022-06-20T19:22:19"><th class="nick" style="background: #5959a9">rburton</th><td class="text" style="color: #5959a9">much smaller codebase, good that you cut it down</td><td class="time"><a href="#t2022-06-20T19:22:19" class="time">19:22</a></td></tr>
<tr id="t2022-06-20T19:23:06"><th class="nick" style="background: #407a40">roussinm</th><td class="text" style="color: #407a40">oh I guess. Is there a way to not strip the binary so I could do an addr2line on the .so</td><td class="time"><a href="#t2022-06-20T19:23:06" class="time">19:23</a></td></tr>
<tr id="t2022-06-20T19:46:54-3"><td class="nickchange" colspan="2">*** Wouter01001 is now known as Wouter0100</td><td><a href="#t2022-06-20T19:46:54-3" class="time">19:46</a></td></tr>
<tr id="t2022-06-20T19:51:59"><th class="nick" style="background: #5fb4b4">Lemur-for-rent</th><td class="text" style="color: #5fb4b4">Ola, anyone knows how `systemd-networkd-wait-online.service` finds it's way to the image?</td><td class="time"><a href="#t2022-06-20T19:51:59" class="time">19:51</a></td></tr>
<tr id="t2022-06-20T19:52:26"><th class="nick" style="background: #5fb4b4">Lemur-for-rent</th><td class="text" style="color: #5fb4b4">I've searched for it in poky, hoped to find a file, but doesn't seem to be one.</td><td class="time"><a href="#t2022-06-20T19:52:26" class="time">19:52</a></td></tr>
<tr id="t2022-06-20T19:53:12"><th class="nick" style="background: #5fb4b4">Lemur-for-rent</th><td class="text" style="color: #5fb4b4">I wanna change something in the unit file (add a flac to ExecStart)</td><td class="time"><a href="#t2022-06-20T19:53:12" class="time">19:53</a></td></tr>
<tr id="t2022-06-20T19:54:11"><th class="nick" style="background: #62bb62">gchamp_</th><td class="text" style="color: #62bb62">Lemur-for-rent: systemd installs it, <a href="https://github.com/systemd/systemd/blob/main/units/systemd-networkd-wait-online.service.in" rel="nofollow">https://github.com/systemd/systemd/blob/main/units/systemd-networkd-wait-online.service.in</a></td><td class="time"><a href="#t2022-06-20T19:54:11" class="time">19:54</a></td></tr>
<tr id="t2022-06-20T19:55:06"><th class="nick" style="background: #5fb4b4">Lemur-for-rent</th><td class="text" style="color: #5fb4b4">Hm... Thanks.</td><td class="time"><a href="#t2022-06-20T19:55:06" class="time">19:55</a></td></tr>
<tr id="t2022-06-20T19:55:06-2"><th class="nick" style="background: #5fb4b4">Lemur-for-rent</th><td class="text" style="color: #5fb4b4">So how does that translate into the best way to modify it with yocto? The `ROOTFS_POSTPROCESS_COMMAND`?</td><td class="time"><a href="#t2022-06-20T19:55:06-2" class="time">19:55</a></td></tr>
<tr id="t2022-06-20T19:55:57"><th class="nick" style="background: #5fb4b4">Lemur-for-rent</th><td class="text" style="color: #5fb4b4">Is there like a recipe local equivalent of that?</td><td class="time"><a href="#t2022-06-20T19:55:57" class="time">19:55</a></td></tr>
<tr id="t2022-06-20T19:56:52"><th class="nick" style="background: #5fb4b4">Lemur-for-rent</th><td class="text" style="color: #5fb4b4">I guess I could expand the install task and run a sed like command assuming that the unit file will be in place after the original install task is done</td><td class="time"><a href="#t2022-06-20T19:56:52" class="time">19:56</a></td></tr>
<tr id="t2022-06-20T19:57:03"><th class="nick" style="background: #62bb62">gchamp_</th><td class="text" style="color: #62bb62">personally I'd create a bbappend for systemd, then use a patch to change systemd-networkd-wait-online.service.in before systemd gets compiled and installed: <a href="https://docs.yoctoproject.org/singleindex.html#patching" rel="nofollow">https://docs.yoctoproject.org/singleindex.html#patching</a></td><td class="time"><a href="#t2022-06-20T19:57:03" class="time">19:57</a></td></tr>
<tr id="t2022-06-20T19:57:07"><th class="nick" style="background: #5fb4b4">Lemur-for-rent</th><td class="text" style="color: #5fb4b4">* could expand the install task in a bbappend</td><td class="time"><a href="#t2022-06-20T19:57:07" class="time">19:57</a></td></tr>
<tr id="t2022-06-20T19:59:32"><th class="nick" style="background: #5fb4b4">Lemur-for-rent</th><td class="text" style="color: #5fb4b4">gchamp_: Fair enough, thanks. It's just kind of difficult to reason with patches when reading them the first time</td><td class="time"><a href="#t2022-06-20T19:59:32" class="time">19:59</a></td></tr>
<tr id="t2022-06-20T20:00:46"><th class="nick" style="background: #62bb62">gchamp_</th><td class="text" style="color: #62bb62">Lemur-for-rent: agreed. What you suggested would work too.</td><td class="time"><a href="#t2022-06-20T20:00:46" class="time">20:00</a></td></tr>
<tr id="t2022-06-20T20:36:04"><th class="nick" style="background: #5fb4b4">Lemur-for-rent</th><td class="text" style="color: #5fb4b4">Hm...</td><td class="time"><a href="#t2022-06-20T20:36:04" class="time">20:36</a></td></tr>
<tr id="t2022-06-20T20:36:04-2"><th class="nick" style="background: #5fb4b4">Lemur-for-rent</th><td class="text" style="color: #5fb4b4">Seem like it can't fine the file in the `do_install_append` stage</td><td class="time"><a href="#t2022-06-20T20:36:04-2" class="time">20:36</a></td></tr>
<tr id="t2022-06-20T20:36:05"><th class="nick" style="background: #5fb4b4">Lemur-for-rent</th><td class="text" style="color: #5fb4b4">`systemd/1_244.5-r0/image/etc/systemd/system/systemd-networkd-wait-online.service`</td><td class="time"><a href="#t2022-06-20T20:36:05" class="time">20:36</a></td></tr>
<tr id="t2022-06-20T21:01:35"><th class="nick" style="background: #407a40">roussinm</th><td class="text" style="color: #407a40">Lemur-for-rent: is it a new file that you have next to your bbappend?</td><td class="time"><a href="#t2022-06-20T21:01:35" class="time">21:01</a></td></tr>
<tr id="t2022-06-20T21:15:34"><th class="nick" style="background: #407a40">roussinm</th><td class="text" style="color: #407a40">rburton: so looking at a core dump: 0x7ffa735e163c &lt;ffi_prep_cif+12&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vmovq&nbsp;&nbsp;%r8,%xmm1 that's the invalid instruction, from C. So conclusion something is happening during configuration so that it can configure with avx.</td><td class="time"><a href="#t2022-06-20T21:15:34" class="time">21:15</a></td></tr>
<tr id="t2022-06-20T21:39:39"><th class="nick" style="background: #407a40">roussinm</th><td class="text" style="color: #407a40">rburton: don't really know if it's a proper fix but: EXTRA_OECONF_class-native += &quot;--with-gcc-arch=generic&quot; to the recipe, fixed the problem for us. What do you think?</td><td class="time"><a href="#t2022-06-20T21:39:39" class="time">21:39</a></td></tr>
<tr id="t2022-06-20T21:39:54"><th class="nick" style="background: #5959a9">rburton</th><td class="text" style="color: #5959a9">sounds like a proper fix to me</td><td class="time"><a href="#t2022-06-20T21:39:54" class="time">21:39</a></td></tr>
<tr id="t2022-06-20T21:40:11"><th class="nick" style="background: #5959a9">rburton</th><td class="text" style="color: #5959a9">i wonder if that's new behaviour to libffi</td><td class="time"><a href="#t2022-06-20T21:40:11" class="time">21:40</a></td></tr>
<tr id="t2022-06-20T21:40:19"><th class="nick" style="background: #5959a9">rburton</th><td class="text" style="color: #5959a9">good work chasing it down</td><td class="time"><a href="#t2022-06-20T21:40:19" class="time">21:40</a></td></tr>
<tr id="t2022-06-20T21:40:24"><th class="nick" style="background: #5959a9">rburton</th><td class="text" style="color: #5959a9">can you send a patch?</td><td class="time"><a href="#t2022-06-20T21:40:24" class="time">21:40</a></td></tr>
<tr id="t2022-06-20T21:41:56"><th class="nick" style="background: #407a40">roussinm</th><td class="text" style="color: #407a40">rburton: I will send a patch, but probably tmr.</td><td class="time"><a href="#t2022-06-20T21:41:56" class="time">21:41</a></td></tr>
<tr id="t2022-06-20T22:03:48"><th class="nick" style="background: #b15db1">RP</th><td class="text" style="color: #b15db1">roussinm: sounds like a good fix to me too fwiw</td><td class="time"><a href="#t2022-06-20T22:03:48" class="time">22:03</a></td></tr>
<tr id="t2022-06-20T22:05:24"><th class="nick" style="background: #407a40">roussinm</th><td class="text" style="color: #407a40">RP: Thanks for the additional feedback.</td><td class="time"><a href="#t2022-06-20T22:05:24" class="time">22:05</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2022-06-19.log.html">&#171; Sunday, 2022-06-19</a> <a href="index.html">Index</a> <a href="%23yocto.2022-06-21.log.html">Tuesday, 2022-06-21 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.17.2 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="https://mg.pov.lt/irclog2html/">https://mg.pov.lt/irclog2html/</a>!</p>
</div>
</body>
</html>
