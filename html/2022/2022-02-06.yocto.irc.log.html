<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Sunday, 2022-02-06</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.17.2 by Marius Gedminas" />
  <meta name="version" content="2.17.2 - 2019-04-23" />
</head>
<body>
<h1>Sunday, 2022-02-06</h1>
<div class="navigation"> <a href="%23yocto.2022-02-05.log.html">&#171; Saturday, 2022-02-05</a> <a href="index.html">Index</a> <a href="%23yocto.2022-02-07.log.html">Monday, 2022-02-07 &#187;</a> </div>
<table class="irclog">
<tr id="t2022-02-06T01:23:52"><th class="nick" style="background: #407a40">tonyj</th><td class="text" style="color: #407a40">@purpleÂ  there are no processes at all.Â  ps -ef orÂ  ps awuux,Â  nothing</td><td class="time"><a href="#t2022-02-06T01:23:52" class="time">01:23</a></td></tr>
<tr id="t2022-02-06T01:24:05"><th class="nick" style="background: #407a40">tonyj</th><td class="text" style="color: #407a40">just the python running the bitbake instance</td><td class="time"><a href="#t2022-02-06T01:24:05" class="time">01:24</a></td></tr>
<tr id="t2022-02-06T09:37:33"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">tonyj: I don't know then. I'd have expected to see something in one of the logs I'd mentioned :/</td><td class="time"><a href="#t2022-02-06T09:37:33" class="time">09:37</a></td></tr>
<tr id="t2022-02-06T09:37:59"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">smurray: thanks, seems to be resolved now</td><td class="time"><a href="#t2022-02-06T09:37:59" class="time">09:37</a></td></tr>
<tr id="t2022-02-06T09:47:35"><th class="nick" style="background: #818144">Nathan52</th><td class="text" style="color: #818144">Hi everyone! I'm having an issue running podman within the devshell, I've thrown in PSEUDO_DISABLED=1 and PSEUDO_UNLOAD=1 just for good measure but the UID of the devshell is still set as &quot;0&quot; so podman seems to be running as root and failing spectacularly! Is there a way to tell the devshell to run under the environment of the actual user running</td><td class="time"><a href="#t2022-02-06T09:47:35" class="time">09:47</a></td></tr>
<tr id="t2022-02-06T09:47:35-2"><th class="nick" style="background: #818144">Nathan52</th><td class="text" style="color: #818144">bitbake? Seemed to work on Poky 23 but not as successful on 26 :(</td><td class="time"><a href="#t2022-02-06T09:47:35-2" class="time">09:47</a></td></tr>
<tr id="t2022-02-06T09:55:47"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">Nathan52: fakeroot is set for do_devshell in base.bbclass. You could try some anonymous python to delete that flag?</td><td class="time"><a href="#t2022-02-06T09:55:47" class="time">09:55</a></td></tr>
<tr id="t2022-02-06T09:59:42"><th class="nick" style="background: #818144">Nathan52</th><td class="text" style="color: #818144">Oh looking at base.bbclass I could just move my logic outside of do_install as well, might be something to try. I've been developing in the `bitbake -c devshell` environment, but I can develop outside of that if it solves the issue ðŸ¤ž</td><td class="time"><a href="#t2022-02-06T09:59:42" class="time">09:59</a></td></tr>
<tr id="t2022-02-06T10:00:29"><th class="nick" style="background: #818144">Nathan52</th><td class="text" style="color: #818144">Much appreciated - the codebase is a bit daunting at times to look through for new eyes :D</td><td class="time"><a href="#t2022-02-06T10:00:29" class="time">10:00</a></td></tr>
<tr id="t2022-02-06T10:50:51"><th class="nick" style="background: #818144">Nathan52</th><td class="text" style="color: #818144">Okay, I've got the right UID but the devshell seems to be clearing the Linux Capabilities and fiddling around with another few things that is causing podman to error out with a &quot;cannot setresgid: Invalid argument&quot; error, makes me think it's still trying to run as root. Potentially something that podman needs to fix instead. Thanks for the help!</td><td class="time"><a href="#t2022-02-06T10:50:51" class="time">10:50</a></td></tr>
<tr id="t2022-02-06T11:30:02"><th class="nick" style="background: #854685">kanavin</th><td class="text" style="color: #854685">RP: other than the continuing virgl fails, master-next looks pretty good; I'm working to fix those properly</td><td class="time"><a href="#t2022-02-06T11:30:02" class="time">11:30</a></td></tr>
<tr id="t2022-02-06T11:30:38"><th class="nick" style="background: #854685">kanavin</th><td class="text" style="color: #854685">RP: LD_PRELOAD interferes with host bash, which is used to run a wrapper to set up gtk frontend properly</td><td class="time"><a href="#t2022-02-06T11:30:38" class="time">11:30</a></td></tr>
<tr id="t2022-02-06T12:20:19"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">kanavin: thanks, I'll drop the virtgl patches for now until we work out the right fix</td><td class="time"><a href="#t2022-02-06T12:20:19" class="time">12:20</a></td></tr>
<tr id="t2022-02-06T12:22:08"><th class="nick" style="background: #854685">kanavin</th><td class="text" style="color: #854685">RP: I'm close to it, won't take long :)</td><td class="time"><a href="#t2022-02-06T12:22:08" class="time">12:22</a></td></tr>
<tr id="t2022-02-06T12:26:19"><th class="nick" style="background: #854685">kanavin</th><td class="text" style="color: #854685">RP: should be something like this - I'm going to run a-full with the whole patchset of mine <a href="https://git.yoctoproject.org/poky-contrib/commit/?h=akanavin/package-version-updates&amp;id=880ba2234d2e9dd374bad031ec22933def7a90a0" rel="nofollow">https://git.yoctoproject.org/poky-contrib/commit/?h=akanavin/package-version-updates&amp;id=880ba2234d2e9dd374bad031ec22933def7a90a0</a></td><td class="time"><a href="#t2022-02-06T12:26:19" class="time">12:26</a></td></tr>
<tr id="t2022-02-06T16:02:39"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">kanavin: if we're sure we don't need those other variables...</td><td class="time"><a href="#t2022-02-06T16:02:39" class="time">16:02</a></td></tr>
<tr id="t2022-02-06T17:13:50"><th class="nick" style="background: #854685">kanavin</th><td class="text" style="color: #854685">RP: I checked locally, we don't. gdkpixbuf has the most important loaders built into the library itself nowadays, and adwaita seems also used by default.</td><td class="time"><a href="#t2022-02-06T17:13:50" class="time">17:13</a></td></tr>
<tr id="t2022-02-06T17:14:14"><th class="nick" style="background: #854685">kanavin</th><td class="text" style="color: #854685">RP: I'm also going to test this <a href="https://git.yoctoproject.org/poky-contrib/commit/?h=akanavin/package-version-updates" rel="nofollow">https://git.yoctoproject.org/poky-contrib/commit/?h=akanavin/package-version-updates</a></td><td class="time"><a href="#t2022-02-06T17:14:14" class="time">17:14</a></td></tr>
<tr id="t2022-02-06T17:14:34"><th class="nick" style="background: #854685">kanavin</th><td class="text" style="color: #854685">happened twice in my a-full selftests</td><td class="time"><a href="#t2022-02-06T17:14:34" class="time">17:14</a></td></tr>
<tr id="t2022-02-06T17:19:33"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">kanavin: there is a known issue with our public sstate mirror not handling requests fast enough</td><td class="time"><a href="#t2022-02-06T17:19:33" class="time">17:19</a></td></tr>
<tr id="t2022-02-06T17:19:51"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">although a better error would be nice</td><td class="time"><a href="#t2022-02-06T17:19:51" class="time">17:19</a></td></tr>
<tr id="t2022-02-06T17:20:26"><th class="nick" style="background: #854685">kanavin</th><td class="text" style="color: #854685">RP: yes but there's a timeout in there somewhere that's too strict, and would be good to know where it is, and if we can bump it up</td><td class="time"><a href="#t2022-02-06T17:20:26" class="time">17:20</a></td></tr>
<tr id="t2022-02-06T17:20:45"><th class="nick" style="background: #854685">kanavin</th><td class="text" style="color: #854685">in python's client code</td><td class="time"><a href="#t2022-02-06T17:20:45" class="time">17:20</a></td></tr>
<tr id="t2022-02-06T17:20:49"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">kanavin: I think it is probably our server :(</td><td class="time"><a href="#t2022-02-06T17:20:49" class="time">17:20</a></td></tr>
<tr id="t2022-02-06T18:38:18"><th class="nick" style="background: #854685">kanavin</th><td class="text" style="color: #854685">RP: seems like AVX is (mostly) a 256 bit extension of SSE (which is 128 bit), with a few new instructions thrown in. It's not a 'major new thing'.</td><td class="time"><a href="#t2022-02-06T18:38:18" class="time">18:38</a></td></tr>
<tr id="t2022-02-06T18:38:51"><th class="nick" style="background: #854685">kanavin</th><td class="text" style="color: #854685">So I'm cautiously hopeful it can be supported in qemu with careful extensions of existing sse code</td><td class="time"><a href="#t2022-02-06T18:38:51" class="time">18:38</a></td></tr>
<tr id="t2022-02-06T20:15:31"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">kanavin: that would make sense to me</td><td class="time"><a href="#t2022-02-06T20:15:31" class="time">20:15</a></td></tr>
<tr id="t2022-02-06T22:12:49"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">kanavin: what was the reproducibility failure in your branch? :/</td><td class="time"><a href="#t2022-02-06T22:12:49" class="time">22:12</a></td></tr>
<tr id="t2022-02-06T22:13:07"><th class="nick" style="background: #854685">kanavin</th><td class="text" style="color: #854685">RP: git and git-dbg, trying to figure it out</td><td class="time"><a href="#t2022-02-06T22:13:07" class="time">22:13</a></td></tr>
<tr id="t2022-02-06T22:13:10"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">kanavin: I pinched a couple of your patches for my test run ;-)</td><td class="time"><a href="#t2022-02-06T22:13:10" class="time">22:13</a></td></tr>
<tr id="t2022-02-06T22:13:15"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">kanavin: ok, cool</td><td class="time"><a href="#t2022-02-06T22:13:15" class="time">22:13</a></td></tr>
<tr id="t2022-02-06T22:13:56"><th class="nick" style="background: #854685">kanavin</th><td class="text" style="color: #854685">RP: if you fancy an evening with objdump <a href="https://autobuilder.yocto.io/pub/repro-fail/oe-reproducible-20220206-mvvpep0g/packages/" rel="nofollow">https://autobuilder.yocto.io/pub/repro-fail/oe-reproducible-20220206-mvvpep0g/packages/</a></td><td class="time"><a href="#t2022-02-06T22:13:56" class="time">22:13</a></td></tr>
<tr id="t2022-02-06T22:14:26"><th class="nick" style="background: #854685">kanavin</th><td class="text" style="color: #854685">diffoscope choked on t</td><td class="time"><a href="#t2022-02-06T22:14:26" class="time">22:14</a></td></tr>
<tr id="t2022-02-06T22:14:28"><th class="nick" style="background: #854685">kanavin</th><td class="text" style="color: #854685">on it</td><td class="time"><a href="#t2022-02-06T22:14:28" class="time">22:14</a></td></tr>
<tr id="t2022-02-06T22:16:30"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">kanavin: upstream diffoscope would likely take a bug report, they find these test cases useful</td><td class="time"><a href="#t2022-02-06T22:16:30" class="time">22:16</a></td></tr>
<tr id="t2022-02-06T22:18:58"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">kanavin: even with the single git binary pulled out, it doesn;t like it does it :/</td><td class="time"><a href="#t2022-02-06T22:18:58" class="time">22:18</a></td></tr>
<tr id="t2022-02-06T22:20:15"><th class="nick" style="background: #854685">kanavin</th><td class="text" style="color: #854685">RP: oh:</td><td class="time"><a href="#t2022-02-06T22:20:15" class="time">22:20</a></td></tr>
<tr id="t2022-02-06T22:20:15-2"><th class="nick" style="background: #854685">kanavin</th><td class="text" style="color: #854685">- &lt;0&gt;&lt;549&gt;: Abbrev Number: 42 (DW_TAG_compile_unit)</td><td class="time"><a href="#t2022-02-06T22:20:15-2" class="time">22:20</a></td></tr>
<tr id="t2022-02-06T22:20:15-3"><th class="nick" style="background: #854685">kanavin</th><td class="text" style="color: #854685">-&nbsp;&nbsp;&nbsp;&nbsp;&lt;54a&gt;&nbsp;&nbsp; DW_AT_producer&nbsp;&nbsp;&nbsp;&nbsp;: (indirect string, offset: 0x56a): GNU C17 11.2.0 -m64 -march=core2 -mtune=core2 -msse3 -mfpmath=sse -g -O2 -O2 -fstack-protector-strong -feliminate-unused-debug-types</td><td class="time"><a href="#t2022-02-06T22:20:15-3" class="time">22:20</a></td></tr>
<tr id="t2022-02-06T22:20:15-4"><th class="nick" style="background: #854685">kanavin</th><td class="text" style="color: #854685">-&nbsp;&nbsp;&nbsp;&nbsp;&lt;54e&gt;&nbsp;&nbsp; DW_AT_language&nbsp;&nbsp;&nbsp;&nbsp;: 29&nbsp;&nbsp;&nbsp;&nbsp; (C11)</td><td class="time"><a href="#t2022-02-06T22:20:15-4" class="time">22:20</a></td></tr>
<tr id="t2022-02-06T22:20:16"><th class="nick" style="background: #854685">kanavin</th><td class="text" style="color: #854685">+ &lt;0&gt;&lt;549&gt;: Abbrev Number: 41 (DW_TAG_compile_unit)</td><td class="time"><a href="#t2022-02-06T22:20:16" class="time">22:20</a></td></tr>
<tr id="t2022-02-06T22:20:18"><th class="nick" style="background: #854685">kanavin</th><td class="text" style="color: #854685">+&nbsp;&nbsp;&nbsp;&nbsp;&lt;54a&gt;&nbsp;&nbsp; DW_AT_producer&nbsp;&nbsp;&nbsp;&nbsp;: (indirect string, offset: 0x469): GNU C99 11.2.0 -m64 -march=core2 -mtune=core2 -msse3 -mfpmath=sse -g -O2 -O2 -std=c99 -fstack-protector-strong -feliminate-unused-debug-types</td><td class="time"><a href="#t2022-02-06T22:20:18" class="time">22:20</a></td></tr>
<tr id="t2022-02-06T22:20:21"><th class="nick" style="background: #854685">kanavin</th><td class="text" style="color: #854685">+&nbsp;&nbsp;&nbsp;&nbsp;&lt;54e&gt;&nbsp;&nbsp; DW_AT_language&nbsp;&nbsp;&nbsp;&nbsp;: 12&nbsp;&nbsp;&nbsp;&nbsp; (ANSI C99)</td><td class="time"><a href="#t2022-02-06T22:20:21" class="time">22:20</a></td></tr>
<tr id="t2022-02-06T22:20:54"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">kanavin: I was going to say, first difference is the dynamic symbol table is longer</td><td class="time"><a href="#t2022-02-06T22:20:54" class="time">22:20</a></td></tr>
<tr id="t2022-02-06T22:21:30"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">kanavin: that looks like a promising lead</td><td class="time"><a href="#t2022-02-06T22:21:30" class="time">22:21</a></td></tr>
<tr id="t2022-02-06T22:23:24"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">kanavin: I'll leave that with you :)</td><td class="time"><a href="#t2022-02-06T22:23:24" class="time">22:23</a></td></tr>
<tr id="t2022-02-06T22:26:36"><th class="nick" style="background: #854685">kanavin</th><td class="text" style="color: #854685">RP: <a href="https://github.com/git/git/commit/ffb9f2980902d23a5640435306031bc298eb4e02" rel="nofollow">https://github.com/git/git/commit/ffb9f2980902d23a5640435306031bc298eb4e02</a></td><td class="time"><a href="#t2022-02-06T22:26:36" class="time">22:26</a></td></tr>
<tr id="t2022-02-06T22:27:25"><th class="nick" style="background: #854685">kanavin</th><td class="text" style="color: #854685">how many grey hairs centos7 is going to give us before we can dump it :-/</td><td class="time"><a href="#t2022-02-06T22:27:25" class="time">22:27</a></td></tr>
<tr id="t2022-02-06T22:31:04"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">kanavin: doing that in configure is horrible, but yes, centos7 won't be around for much longer. Or stream the way I'm feeling about that</td><td class="time"><a href="#t2022-02-06T22:31:04" class="time">22:31</a></td></tr>
<tr id="t2022-02-06T22:31:25"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">kanavin: I had a feeling we'd find something horrible like that :(</td><td class="time"><a href="#t2022-02-06T22:31:25" class="time">22:31</a></td></tr>
<tr id="t2022-02-06T22:31:56"><th class="nick" style="background: #854685">kanavin</th><td class="text" style="color: #854685">RP: it's because they don't use autotools properly either</td><td class="time"><a href="#t2022-02-06T22:31:56" class="time">22:31</a></td></tr>
<tr id="t2022-02-06T22:32:27"><th class="nick" style="background: #854685">kanavin</th><td class="text" style="color: #854685">RP: I'm tempted to patch it out and mark as Inappropriate</td><td class="time"><a href="#t2022-02-06T22:32:27" class="time">22:32</a></td></tr>
<tr id="t2022-02-06T22:36:17"><th class="nick" style="background: #854685">kanavin</th><td class="text" style="color: #854685">RP: I'll leave it for tomorrow, I'd file a bug too</td><td class="time"><a href="#t2022-02-06T22:36:17" class="time">22:36</a></td></tr>
<tr id="t2022-02-06T22:41:17"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">kanavin: perhaps suggest they make it cross compile conditional? Patching it out is the easiest solution for us for now</td><td class="time"><a href="#t2022-02-06T22:41:17" class="time">22:41</a></td></tr>
<tr id="t2022-02-06T22:41:26"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">good plan re: tomorrow</td><td class="time"><a href="#t2022-02-06T22:41:26" class="time">22:41</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2022-02-05.log.html">&#171; Saturday, 2022-02-05</a> <a href="index.html">Index</a> <a href="%23yocto.2022-02-07.log.html">Monday, 2022-02-07 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.17.2 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="https://mg.pov.lt/irclog2html/">https://mg.pov.lt/irclog2html/</a>!</p>
</div>
</body>
</html>
