<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Saturday, 2022-09-10</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.17.2 by Marius Gedminas" />
  <meta name="version" content="2.17.2 - 2019-04-23" />
</head>
<body>
<h1>Saturday, 2022-09-10</h1>
<div class="navigation"> <a href="%23yocto.2022-09-09.log.html">&#171; Friday, 2022-09-09</a> <a href="index.html">Index</a> <a href="%23yocto.2022-09-11.log.html">Sunday, 2022-09-11 &#187;</a> </div>
<table class="irclog">
<tr id="t2022-09-10T09:25:20"><th class="nick" style="background: #407a40">dwagenk</th><td class="text" style="color: #407a40">Trick question: anyone know how to use runqemu e.g. for the qemux86-64 machine with an emulated TPM??</td><td class="time"><a href="#t2022-09-10T09:25:20" class="time">09:25</a></td></tr>
<tr id="t2022-09-10T09:25:20-2"><th class="nick" style="background: #407a40">dwagenk</th><td class="text" style="color: #407a40">I spent some time figuring it out how to do it manually with swtpm, patched runqemu to also support it and only afterwards found a path to qemu in the poky repo that adds support for running a command before starting the emulation that describes how to use it for an emulated TPM in the patch message.</td><td class="time"><a href="#t2022-09-10T09:25:20-2" class="time">09:25</a></td></tr>
<tr id="t2022-09-10T09:25:20-3"><th class="nick" style="background: #407a40">dwagenk</th><td class="text" style="color: #407a40"><a href="https://git.yoctoproject.org/poky/tree/meta/recipes-devtools/qemu/qemu/0002-chardev-connect-socket-to-a-spawned-command.patch#n27" rel="nofollow">https://git.yoctoproject.org/poky/tree/meta/recipes-devtools/qemu/qemu/0002-chardev-connect-socket-to-a-spawned-command.patch#n27</a></td><td class="time"><a href="#t2022-09-10T09:25:20-3" class="time">09:25</a></td></tr>
<tr id="t2022-09-10T09:38:11"><th class="nick" style="background: #42427e">mrybczyn[m]</th><td class="text" style="color: #42427e">dwagenk:&nbsp;&nbsp;search for the meta-ledge-secure layer. They do exactly that. There's s need of qemu configuration file.</td><td class="time"><a href="#t2022-09-10T09:38:11" class="time">09:38</a></td></tr>
<tr id="t2022-09-10T09:59:34"><th class="nick" style="background: #407a40">dwagenk</th><td class="text" style="color: #407a40">&lt;mrybczyn[m]&gt; &quot;dwagenk:&nbsp;&nbsp;search for the meta-...&quot; &lt;- From what I see they have the arm secure world in qemu and that provides a TPM `QB_MACHINE = &quot;-machine virt,secure=on&quot;`.</td><td class="time"><a href="#t2022-09-10T09:59:34" class="time">09:59</a></td></tr>
<tr id="t2022-09-10T09:59:35"><th class="nick" style="background: #407a40">dwagenk</th><td class="text" style="color: #407a40">I've got a x86-64 device and corresponding qemu config. That seems to be different in that the qemu machine doesn't provide a TPM, but a virtual one can be attached to it via sockets.</td><td class="time"><a href="#t2022-09-10T09:59:35" class="time">09:59</a></td></tr>
<tr id="t2022-09-10T10:01:32"><th class="nick" style="background: #407a40">dwagenk</th><td class="text" style="color: #407a40">Nevertheless that layer is a good inspiration, thanks for the tipp! Their modifications to build wic images with direct loading of the kernel (no grub or systemdboot) implements what I've got planned as my next todo...</td><td class="time"><a href="#t2022-09-10T10:01:32" class="time">10:01</a></td></tr>
<tr id="t2022-09-10T10:26:40"><th class="nick" style="background: #818144">PhoenixMage</th><td class="text" style="color: #818144">Can I create a bbappend for a kernel bb file to add a COMPATIBLE_MACHINE?</td><td class="time"><a href="#t2022-09-10T10:26:40" class="time">10:26</a></td></tr>
<tr id="t2022-09-10T10:50:47"><th class="nick" style="background: #42427e">mrybczyn[m]</th><td class="text" style="color: #42427e">dwagenk: they had it at some point for x86 too. Le me search in other repositories. I know that it was working for x86 too</td><td class="time"><a href="#t2022-09-10T10:50:47" class="time">10:50</a></td></tr>
<tr id="t2022-09-10T23:08:19"><td class="nickchange" colspan="2">*** camus1 is now known as camus</td><td><a href="#t2022-09-10T23:08:19" class="time">23:08</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2022-09-09.log.html">&#171; Friday, 2022-09-09</a> <a href="index.html">Index</a> <a href="%23yocto.2022-09-11.log.html">Sunday, 2022-09-11 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.17.2 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="https://mg.pov.lt/irclog2html/">https://mg.pov.lt/irclog2html/</a>!</p>
</div>
</body>
</html>
