<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Monday, 2022-02-14</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.17.2 by Marius Gedminas" />
  <meta name="version" content="2.17.2 - 2019-04-23" />
</head>
<body>
<h1>Monday, 2022-02-14</h1>
<div class="navigation"> <a href="%23yocto.2022-02-13.log.html">&#171; Sunday, 2022-02-13</a> <a href="index.html">Index</a> <a href="%23yocto.2022-02-15.log.html">Tuesday, 2022-02-15 &#187;</a> </div>
<table class="irclog">
<tr id="t2022-02-14T03:11:03-2"><td class="nickchange" colspan="2">*** jclsn75 is now known as jclsn7</td><td><a href="#t2022-02-14T03:11:03-2" class="time">03:11</a></td></tr>
<tr id="t2022-02-14T07:41:31"><td class="nickchange" colspan="2">*** mckoan|away is now known as mckoan</td><td><a href="#t2022-02-14T07:41:31" class="time">07:41</a></td></tr>
<tr id="t2022-02-14T07:41:43"><th class="nick" style="background: #407a40">mckoan</th><td class="text" style="color: #407a40">good morning</td><td class="time"><a href="#t2022-02-14T07:41:43" class="time">07:41</a></td></tr>
<tr id="t2022-02-14T08:50:59"><th class="nick" style="background: #42427e">ziga_</th><td class="text" style="color: #42427e">@rburton &quot;dmesg&quot; doesn't show/list my device at all - it is only seen form the command &quot;i2cdetect -y 1&quot; (it is on i2c-1 address 0x55). So what am I missing in order for kernel to see my device aas an input? Command &quot;cat /sys/class/i2c-dev/i2c-1/device/1-0055/name&quot; yields &quot;st1232&quot;. This is how I defined the device in the devicetree: <a href="https://pastebin.com/HTz4v6uf" rel="nofollow">https://pastebin.com/HTz4v6uf</a></td><td class="time"><a href="#t2022-02-14T08:50:59" class="time">08:50</a></td></tr>
<tr id="t2022-02-14T08:57:08"><th class="nick" style="background: #407a40">mckoan</th><td class="text" style="color: #407a40">ziga_: you have to enable TOUCHSCREEN_ST1232 in kernel config too</td><td class="time"><a href="#t2022-02-14T08:57:08" class="time">08:57</a></td></tr>
<tr id="t2022-02-14T08:58:48"><th class="nick" style="background: #42427e">ziga_</th><td class="text" style="color: #42427e">@ckoan I will double check if it is enabled.</td><td class="time"><a href="#t2022-02-14T08:58:48" class="time">08:58</a></td></tr>
<tr id="t2022-02-14T08:59:13"><th class="nick" style="background: #42427e">ziga_</th><td class="text" style="color: #42427e">@mckoan Thanks for the tip.</td><td class="time"><a href="#t2022-02-14T08:59:13" class="time">08:59</a></td></tr>
<tr id="t2022-02-14T09:27:27"><th class="nick" style="background: #818144">agherzan</th><td class="text" style="color: #818144">Morning all!</td><td class="time"><a href="#t2022-02-14T09:27:27" class="time">09:27</a></td></tr>
<tr id="t2022-02-14T09:27:53"><th class="nick" style="background: #818144">agherzan</th><td class="text" style="color: #818144">ziga_: sounds like a missing driver yes.</td><td class="time"><a href="#t2022-02-14T09:27:53" class="time">09:27</a></td></tr>
<tr id="t2022-02-14T09:29:38"><th class="nick" style="background: #42427e">ziga_</th><td class="text" style="color: #42427e">@mckoan @agherzan I enabled TOUCHSCREEN_ST1232 in kernel config but nothing changes. Is there a way to check kerrnel config on an already running target? I would like to double verify if option is working.</td><td class="time"><a href="#t2022-02-14T09:29:38" class="time">09:29</a></td></tr>
<tr id="t2022-02-14T09:30:12"><th class="nick" style="background: #818144">agherzan</th><td class="text" style="color: #818144">`zcat /proc/config.gz | grep FOO`</td><td class="time"><a href="#t2022-02-14T09:30:12" class="time">09:30</a></td></tr>
<tr id="t2022-02-14T09:40:05"><th class="nick" style="background: #42427e">ziga_</th><td class="text" style="color: #42427e">Ty! TOUCHSCREEN_ST1232 is installed as a module. Is this not okay? Shoulld it be instaled as a part of kernel?</td><td class="time"><a href="#t2022-02-14T09:40:05" class="time">09:40</a></td></tr>
<tr id="t2022-02-14T09:42:32"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">ziga_: check the module is loaded with lsmod, or modprobe it</td><td class="time"><a href="#t2022-02-14T09:42:32" class="time">09:42</a></td></tr>
<tr id="t2022-02-14T09:42:56"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">pretty sure you'd need a device tree node for your device in the i2c bus it is attached to too</td><td class="time"><a href="#t2022-02-14T09:42:56" class="time">09:42</a></td></tr>
<tr id="t2022-02-14T09:47:19"><th class="nick" style="background: #42427e">ziga_</th><td class="text" style="color: #42427e">lsmod does not shows anything related to &quot;st1232&quot;. I tried also &quot;modprobe st1232&quot; but it says that this module couldn't be found. @qschulz device is defined in my devicetree like this <a href="https://pastebin.com/HTz4v6uf" rel="nofollow">https://pastebin.com/HTz4v6uf</a> and &quot;i2cdetect -y 1&quot; onfirms that it is found on the address 0x55.</td><td class="time"><a href="#t2022-02-14T09:47:19" class="time">09:47</a></td></tr>
<tr id="t2022-02-14T09:48:10"><th class="nick" style="background: #488888">landgraf</th><td class="text" style="color: #488888">ziga_: is there module under /lib/modules ?</td><td class="time"><a href="#t2022-02-14T09:48:10" class="time">09:48</a></td></tr>
<tr id="t2022-02-14T09:52:14"><th class="nick" style="background: #42427e">ziga_</th><td class="text" style="color: #42427e">Command &quot;find /lib/modules/ -name &quot;*st1232*&quot;&quot; returns nothing.</td><td class="time"><a href="#t2022-02-14T09:52:14" class="time">09:52</a></td></tr>
<tr id="t2022-02-14T09:54:22"><th class="nick" style="background: #42427e">ziga_</th><td class="text" style="color: #42427e">It is weird, because config option CONFIG_TOUCHSCREEN_ST1232=m can be found in an extracted /proc/config.gz ://</td><td class="time"><a href="#t2022-02-14T09:54:22" class="time">09:54</a></td></tr>
<tr id="t2022-02-14T09:54:31"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">ziga_: you need to install it in your rootfs, the kernel-modules package will add ALL kernel modules built by the kernel recipe</td><td class="time"><a href="#t2022-02-14T09:54:31" class="time">09:54</a></td></tr>
<tr id="t2022-02-14T09:54:45"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">ziga_: modules aren't installed by default in Yocto</td><td class="time"><a href="#t2022-02-14T09:54:45" class="time">09:54</a></td></tr>
<tr id="t2022-02-14T09:55:22"><th class="nick" style="background: #42427e">ziga_</th><td class="text" style="color: #42427e">Ah!</td><td class="time"><a href="#t2022-02-14T09:55:22" class="time">09:55</a></td></tr>
<tr id="t2022-02-14T09:55:30"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">ziga_: what is returned by i2cdetect does not care AT ALL about what's in your device tree (well.. ok, it does for the i2c bus, otherwise you can't use i2cdetect on the bus since it's not probed)</td><td class="time"><a href="#t2022-02-14T09:55:30" class="time">09:55</a></td></tr>
<tr id="t2022-02-14T09:55:38"><th class="nick" style="background: #42427e">ziga_</th><td class="text" style="color: #42427e">This is a really good tip! I haven't got this package yet! :DDDD</td><td class="time"><a href="#t2022-02-14T09:55:38" class="time">09:55</a></td></tr>
<tr id="t2022-02-14T09:56:06"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">ziga_: oe-pkgdata-util find-path '*st1232*' shall return the exact name of the kernel module</td><td class="time"><a href="#t2022-02-14T09:56:06" class="time">09:56</a></td></tr>
<tr id="t2022-02-14T09:56:22"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">if you want to finetune which kernel modules make it to your image instead of just adding them all</td><td class="time"><a href="#t2022-02-14T09:56:22" class="time">09:56</a></td></tr>
<tr id="t2022-02-14T09:56:56"><th class="nick" style="background: #42427e">ziga_</th><td class="text" style="color: #42427e">Ah so I can use this command to pinpoint the kernel module and only install this one (and not all)?</td><td class="time"><a href="#t2022-02-14T09:56:56" class="time">09:56</a></td></tr>
<tr id="t2022-02-14T09:57:12"><th class="nick" style="background: #42427e">ziga_</th><td class="text" style="color: #42427e">Great!</td><td class="time"><a href="#t2022-02-14T09:57:12" class="time">09:57</a></td></tr>
<tr id="t2022-02-14T10:03:38"><th class="nick" style="background: #8c4a4a">jclsn[m]</th><td class="text" style="color: #8c4a4a">@JPEW Any way I can reference the working directory in the pyrex.ini? I need something like... (full message at <a href="https://libera.ems.host/_matrix/media/r0/download/libera.chat/033840cfc6d5bbd068841cea3a10f16b06970765" rel="nofollow">https://libera.ems.host/_matrix/media/r0/download/libera.chat/033840cfc6d5bbd068841cea3a10f16b06970765</a>)</td><td class="time"><a href="#t2022-02-14T10:03:38" class="time">10:03</a></td></tr>
<tr id="t2022-02-14T10:03:54"><th class="nick" style="background: #8c4a4a">jclsn[m]</th><td class="text" style="color: #8c4a4a"> * JPEW:&nbsp;&nbsp;Any way I can reference the working directory in the pyrex.ini? I need something like... (full message at <a href="https://libera.ems.host/_matrix/media/r0/download/libera.chat/08266af554722f480992156e51eddc7f7ab50a9a" rel="nofollow">https://libera.ems.host/_matrix/media/r0/download/libera.chat/08266af554722f480992156e51eddc7f7ab50a9a</a>)</td><td class="time"><a href="#t2022-02-14T10:03:54" class="time">10:03</a></td></tr>
<tr id="t2022-02-14T10:08:08"><th class="nick" style="background: #8c4a4a">jclsn[m]</th><td class="text" style="color: #8c4a4a"> * JPEW:&nbsp;&nbsp;Any way I can reference the working directory in the pyrex.ini? I need something like... (full message at <a href="https://libera.ems.host/_matrix/media/r0/download/libera.chat/e07fb9bf6a9919dab381f3ed7d053d1c2a50a914" rel="nofollow">https://libera.ems.host/_matrix/media/r0/download/libera.chat/e07fb9bf6a9919dab381f3ed7d053d1c2a50a914</a>)</td><td class="time"><a href="#t2022-02-14T10:08:08" class="time">10:08</a></td></tr>
<tr id="t2022-02-14T10:14:23"><th class="nick" style="background: #8c4a4a">jclsn[m]</th><td class="text" style="color: #8c4a4a"> * JPEW:&nbsp;&nbsp;Any way I can reference the build directory in the pyrex.ini? I need something like... (full message at <a href="https://libera.ems.host/_matrix/media/r0/download/libera.chat/7963f0a2f814d6a06478a0ae8e618540ad64e76d" rel="nofollow">https://libera.ems.host/_matrix/media/r0/download/libera.chat/7963f0a2f814d6a06478a0ae8e618540ad64e76d</a>)</td><td class="time"><a href="#t2022-02-14T10:14:23" class="time">10:14</a></td></tr>
<tr id="t2022-02-14T10:17:31"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">jclsn[m]: Have you tried $(pwd) ?</td><td class="time"><a href="#t2022-02-14T10:17:31" class="time">10:17</a></td></tr>
<tr id="t2022-02-14T10:17:41"><th class="nick" style="background: #8c4a4a">jclsn[m]</th><td class="text" style="color: #8c4a4a">Yes</td><td class="time"><a href="#t2022-02-14T10:17:41" class="time">10:17</a></td></tr>
<tr id="t2022-02-14T10:17:46"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">jclsn[m]: otherwise, ${env:PWD} should probably work</td><td class="time"><a href="#t2022-02-14T10:17:46" class="time">10:17</a></td></tr>
<tr id="t2022-02-14T10:17:52"><th class="nick" style="background: #8c4a4a">jclsn[m]</th><td class="text" style="color: #8c4a4a">It complains that it is not a valid option</td><td class="time"><a href="#t2022-02-14T10:17:52" class="time">10:17</a></td></tr>
<tr id="t2022-02-14T10:18:06"><th class="nick" style="background: #8c4a4a">jclsn[m]</th><td class="text" style="color: #8c4a4a">No, both don't work</td><td class="time"><a href="#t2022-02-14T10:18:06" class="time">10:18</a></td></tr>
<tr id="t2022-02-14T10:18:26"><th class="nick" style="background: #8c4a4a">jclsn[m]</th><td class="text" style="color: #8c4a4a">BUILDDIR is also in the environment variables and it doesn't work</td><td class="time"><a href="#t2022-02-14T10:18:26" class="time">10:18</a></td></tr>
<tr id="t2022-02-14T10:47:10"><th class="nick" style="background: #4b904b">manuel1985</th><td class="text" style="color: #4b904b">Hello all. What do I do if my recipe installs a shell script, but I want it to RDEPEND not specifically on bash but just on any kind of shell interpretor?</td><td class="time"><a href="#t2022-02-14T10:47:10" class="time">10:47</a></td></tr>
<tr id="t2022-02-14T10:51:55"><th class="nick" style="background: #4d4d93">kanavin</th><td class="text" style="color: #4d4d93">rburton, jonmason there are ongoing hangs in ltp-arm64 <a href="https://autobuilder.yoctoproject.org/typhoon/#/builders/96/builds/2782" rel="nofollow">https://autobuilder.yoctoproject.org/typhoon/#/builders/96/builds/2782</a></td><td class="time"><a href="#t2022-02-14T10:51:55" class="time">10:51</a></td></tr>
<tr id="t2022-02-14T10:52:28"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">manuel1985: I think it's pretty safe to assume that at least ONE shell should be on your system, so just add nothing to RDEPENDS?</td><td class="time"><a href="#t2022-02-14T10:52:28" class="time">10:52</a></td></tr>
<tr id="t2022-02-14T10:54:21"><th class="nick" style="background: #4b904b">manuel1985</th><td class="text" style="color: #4b904b">qschulz: I'm afraid some checker would complain then. At least when installing a file containing a bash shebang it does.</td><td class="time"><a href="#t2022-02-14T10:54:21" class="time">10:54</a></td></tr>
<tr id="t2022-02-14T11:04:08"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">manuel1985: if you have a bash shebang, you're effectively requesting this script to be run by bash, which means you should have bash on your device. If youb have the /bin/sh shebang, I don't think anything will happen</td><td class="time"><a href="#t2022-02-14T11:04:08" class="time">11:04</a></td></tr>
<tr id="t2022-02-14T12:24:18-2"><td class="nickchange" colspan="2">*** camus1 is now known as camus</td><td><a href="#t2022-02-14T12:24:18-2" class="time">12:24</a></td></tr>
<tr id="t2022-02-14T12:27:56"><th class="nick" style="background: #42427e">ziga_</th><td class="text" style="color: #42427e">Does anybody know the answer here? <a href="https://stackoverflow.com/questions/71111397/beaglebone-yocto-kernel-configuration" rel="nofollow">https://stackoverflow.com/questions/71111397/beaglebone-yocto-kernel-configuration</a></td><td class="time"><a href="#t2022-02-14T12:27:56" class="time">12:27</a></td></tr>
<tr id="t2022-02-14T12:41:04"><th class="nick" style="background: #407a40">mckoan</th><td class="text" style="color: #407a40">ziga_: you have to show the directory structure as well</td><td class="time"><a href="#t2022-02-14T12:41:04" class="time">12:41</a></td></tr>
<tr id="t2022-02-14T12:41:32"><th class="nick" style="background: #42427e">ziga_</th><td class="text" style="color: #42427e">@mckoan directory structure of my layer?</td><td class="time"><a href="#t2022-02-14T12:41:32" class="time">12:41</a></td></tr>
<tr id="t2022-02-14T12:41:54"><th class="nick" style="background: #407a40">mckoan</th><td class="text" style="color: #407a40">ziga_: at least of the linux recipe directory</td><td class="time"><a href="#t2022-02-14T12:41:54" class="time">12:41</a></td></tr>
<tr id="t2022-02-14T12:42:05"><th class="nick" style="background: #407a40">mckoan</th><td class="text" style="color: #407a40"><a href="https://wiki.koansoftware.com/index.php/Modify_the_linux_kernel_with_configuration_fragments_in_Yocto" rel="nofollow">https://wiki.koansoftware.com/index.php/Modify_the_linux_kernel_with_configuration_fragments_in_Yocto</a></td><td class="time"><a href="#t2022-02-14T12:42:05" class="time">12:42</a></td></tr>
<tr id="t2022-02-14T12:44:33"><th class="nick" style="background: #42427e">ziga_</th><td class="text" style="color: #42427e">Ah! So .cfg suffix is used automatically! :D</td><td class="time"><a href="#t2022-02-14T12:44:33" class="time">12:44</a></td></tr>
<tr id="t2022-02-14T12:44:50"><th class="nick" style="background: #42427e">ziga_</th><td class="text" style="color: #42427e">This will help me a lot!</td><td class="time"><a href="#t2022-02-14T12:44:50" class="time">12:44</a></td></tr>
<tr id="t2022-02-14T12:46:05"><th class="nick" style="background: #407a40">mckoan</th><td class="text" style="color: #407a40">I answered in stackoverflow</td><td class="time"><a href="#t2022-02-14T12:46:05" class="time">12:46</a></td></tr>
<tr id="t2022-02-14T13:19:47"><th class="nick" style="background: #97974f">LetoThe2nd</th><td class="text" style="color: #97974f">yo dudX</td><td class="time"><a href="#t2022-02-14T13:19:47" class="time">13:19</a></td></tr>
<tr id="t2022-02-14T13:24:41"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">o/</td><td class="time"><a href="#t2022-02-14T13:24:41" class="time">13:24</a></td></tr>
<tr id="t2022-02-14T13:25:28"><th class="nick" style="background: #9b519b">JPEW</th><td class="text" style="color: #9b519b">jclns: you have to explicitly state which environment variables get imported</td><td class="time"><a href="#t2022-02-14T13:25:28" class="time">13:25</a></td></tr>
<tr id="t2022-02-14T13:25:55"><th class="nick" style="background: #97974f">LetoThe2nd</th><td class="text" style="color: #97974f">qschulz: \o</td><td class="time"><a href="#t2022-02-14T13:25:55" class="time">13:25</a></td></tr>
<tr id="t2022-02-14T13:31:20"><th class="nick" style="background: #42427e">ziga_</th><td class="text" style="color: #42427e">@mckoan It failed.</td><td class="time"><a href="#t2022-02-14T13:31:20" class="time">13:31</a></td></tr>
<tr id="t2022-02-14T13:34:38"><th class="nick" style="background: #9b519b">JPEW</th><td class="text" style="color: #9b519b">jclns: the variables you want to use in the config have to be in the envimport section</td><td class="time"><a href="#t2022-02-14T13:34:38" class="time">13:34</a></td></tr>
<tr id="t2022-02-14T14:20:02"><th class="nick" style="background: #539e9e">Etheryon</th><td class="text" style="color: #539e9e">Hello, could anyone help me understand how to write a recipe to copy over some files? Is it possible to copy files that are not in your custom layer?</td><td class="time"><a href="#t2022-02-14T14:20:02" class="time">14:20</a></td></tr>
<tr id="t2022-02-14T14:21:17"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">Etheryon: yes it's possible, the question is where are your files and how are they &quot;shared&quot; with the recipe (git repo, tarball, etc...)</td><td class="time"><a href="#t2022-02-14T14:21:17" class="time">14:21</a></td></tr>
<tr id="t2022-02-14T14:22:15"><th class="nick" style="background: #539e9e">Etheryon</th><td class="text" style="color: #539e9e">so there's a folder of media I need to copy over</td><td class="time"><a href="#t2022-02-14T14:22:15" class="time">14:22</a></td></tr>
<tr id="t2022-02-14T14:22:35"><th class="nick" style="background: #539e9e">Etheryon</th><td class="text" style="color: #539e9e">SRC_URI &lt;- this is relative to what ? current location of the .bb file?</td><td class="time"><a href="#t2022-02-14T14:22:35" class="time">14:22</a></td></tr>
<tr id="t2022-02-14T14:23:36"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">Etheryon: files/ recipe-name/ recipe-name-recipe-version/</td><td class="time"><a href="#t2022-02-14T14:23:36" class="time">14:23</a></td></tr>
<tr id="t2022-02-14T14:23:46"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">I don't remember their precedence</td><td class="time"><a href="#t2022-02-14T14:23:46" class="time">14:23</a></td></tr>
<tr id="t2022-02-14T14:24:04"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">relative path compared to .bb file</td><td class="time"><a href="#t2022-02-14T14:24:04" class="time">14:24</a></td></tr>
<tr id="t2022-02-14T14:24:33"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">Etheryon: can you upload this folder of media somewhere else than from your current filesystem?</td><td class="time"><a href="#t2022-02-14T14:24:33" class="time">14:24</a></td></tr>
<tr id="t2022-02-14T14:24:59"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">the point being, if you want to be able to share your custom layer, you need also to share those media files</td><td class="time"><a href="#t2022-02-14T14:24:59" class="time">14:24</a></td></tr>
<tr id="t2022-02-14T14:26:14"><th class="nick" style="background: #539e9e">Etheryon</th><td class="text" style="color: #539e9e">if bb file is in custom-meta/recipes/app/media.bb , and media folder is on the same level as custom-meta bb file should.have SRC_URI += &quot; \</td><td class="time"><a href="#t2022-02-14T14:26:14" class="time">14:26</a></td></tr>
<tr id="t2022-02-14T14:26:14-2"><th class="nick" style="background: #539e9e">Etheryon</th><td class="text" style="color: #539e9e">    file://../../../resources/ \</td><td class="time"><a href="#t2022-02-14T14:26:14-2" class="time">14:26</a></td></tr>
<tr id="t2022-02-14T14:26:15"><th class="nick" style="background: #539e9e">Etheryon</th><td class="text" style="color: #539e9e">&quot;</td><td class="time"><a href="#t2022-02-14T14:26:15" class="time">14:26</a></td></tr>
<tr id="t2022-02-14T14:27:18"><th class="nick" style="background: #539e9e">Etheryon</th><td class="text" style="color: #539e9e">qschults I see your point, plan is to provide them by some other mechanism, but that's beside the point for now</td><td class="time"><a href="#t2022-02-14T14:27:18" class="time">14:27</a></td></tr>
<tr id="t2022-02-14T14:27:30"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">so either make them part of your custom layer directly (not great) or upload them somewhere and make your recipe fetch them</td><td class="time"><a href="#t2022-02-14T14:27:30" class="time">14:27</a></td></tr>
<tr id="t2022-02-14T14:28:00"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">Etheryon: look into externalsrc bbclass instead</td><td class="time"><a href="#t2022-02-14T14:28:00" class="time">14:28</a></td></tr>
<tr id="t2022-02-14T14:29:12"><th class="nick" style="background: #539e9e">Etheryon</th><td class="text" style="color: #539e9e">ah thanks</td><td class="time"><a href="#t2022-02-14T14:29:12" class="time">14:29</a></td></tr>
<tr id="t2022-02-14T14:29:22"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685"><a href="https://docs.yoctoproject.org/ref-manual/classes.html#externalsrc-bbclass" rel="nofollow">https://docs.yoctoproject.org/ref-manual/classes.html#externalsrc-bbclass</a></td><td class="time"><a href="#t2022-02-14T14:29:22" class="time">14:29</a></td></tr>
<tr id="t2022-02-14T14:29:27"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">this is the cleaner way of doing it</td><td class="time"><a href="#t2022-02-14T14:29:27" class="time">14:29</a></td></tr>
<tr id="t2022-02-14T14:33:14"><th class="nick" style="background: #539e9e">Etheryon</th><td class="text" style="color: #539e9e">And I guess I'll need an empty do_compile, and them as part of do_install copy the files over?</td><td class="time"><a href="#t2022-02-14T14:33:14" class="time">14:33</a></td></tr>
<tr id="t2022-02-14T14:33:55"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">Etheryon: meh, the basic do_compile checks if there's a makefile and it there's none does nothing</td><td class="time"><a href="#t2022-02-14T14:33:55" class="time">14:33</a></td></tr>
<tr id="t2022-02-14T14:34:20"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">I used to inherit the bin_package bbclass instead</td><td class="time"><a href="#t2022-02-14T14:34:20" class="time">14:34</a></td></tr>
<tr id="t2022-02-14T14:35:58"><th class="nick" style="background: #539e9e">Etheryon</th><td class="text" style="color: #539e9e">thanks!</td><td class="time"><a href="#t2022-02-14T14:35:58" class="time">14:35</a></td></tr>
<tr id="t2022-02-14T14:40:27"><th class="nick" style="background: #539e9e">Etheryon</th><td class="text" style="color: #539e9e">can I specify for bin_package where to put the files, or is it an extra step to move them afterwards ?</td><td class="time"><a href="#t2022-02-14T14:40:27" class="time">14:40</a></td></tr>
<tr id="t2022-02-14T14:41:44"><th class="nick" style="background: #539e9e">Etheryon</th><td class="text" style="color: #539e9e">if I understood correctly it putes them in ${D}</td><td class="time"><a href="#t2022-02-14T14:41:44" class="time">14:41</a></td></tr>
<tr id="t2022-02-14T14:46:15"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">Etheryon: pretty sure you'll still need a proper do_install</td><td class="time"><a href="#t2022-02-14T14:46:15" class="time">14:46</a></td></tr>
<tr id="t2022-02-14T14:46:18"><th class="nick" style="background: #539e9e">Etheryon</th><td class="text" style="color: #539e9e">also is there any way to check why my image is so large? I have excluded x11 and wayland, I would expect it to not be 1,8GB (maybe my expectations are wrong?)</td><td class="time"><a href="#t2022-02-14T14:46:18" class="time">14:46</a></td></tr>
<tr id="t2022-02-14T14:46:50"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">well, use buildhistory to find out what is so big</td><td class="time"><a href="#t2022-02-14T14:46:50" class="time">14:46</a></td></tr>
<tr id="t2022-02-14T14:51:17"><th class="nick" style="background: #539e9e">Etheryon</th><td class="text" style="color: #539e9e"> thanks for that as well</td><td class="time"><a href="#t2022-02-14T14:51:17" class="time">14:51</a></td></tr>
<tr id="t2022-02-14T14:53:24"><th class="nick" style="background: #a25555">vd</th><td class="text" style="color: #a25555">Are core images (core-image-minimal and core-image-base) purely meant as examples, or should one preferred to use these images to design they distros, given that machine / distro / images are orthogonal?</td><td class="time"><a href="#t2022-02-14T14:53:24" class="time">14:53</a></td></tr>
<tr id="t2022-02-14T14:55:11"><th class="nick" style="background: #a25555">vd</th><td class="text" style="color: #a25555">I'm asking because it feels like one is always tempted to write custom image recipes right away while it shouldn't be necessary with a correctly configured distro, thanks to DISTRO_EXTRA_RDEPENDS, INITRAMFS_SCRIPTS, etc.</td><td class="time"><a href="#t2022-02-14T14:55:11" class="time">14:55</a></td></tr>
<tr id="t2022-02-14T14:58:09"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">vd: Distros are only for &quot;policies&quot;</td><td class="time"><a href="#t2022-02-14T14:58:09" class="time">14:58</a></td></tr>
<tr id="t2022-02-14T14:58:33"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">the biggest ones being: &quot;systemd vs sysv&quot;, &quot;x11/wayland&quot;, etc...</td><td class="time"><a href="#t2022-02-14T14:58:33" class="time">14:58</a></td></tr>
<tr id="t2022-02-14T14:59:53"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">One of the first things people should do is to create their recipes, that includes an image recipe</td><td class="time"><a href="#t2022-02-14T14:59:53" class="time">14:59</a></td></tr>
<tr id="t2022-02-14T15:00:17"><th class="nick" style="background: #a25555">vd</th><td class="text" style="color: #a25555">qschulz: indeed. So it doesn't feel right that a distro ships with image recipes (unless they are some sort of examples) don't you think?</td><td class="time"><a href="#t2022-02-14T15:00:17" class="time">15:00</a></td></tr>
<tr id="t2022-02-14T15:01:11"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">vd: you usually have a BSP layer (kernel, bootloader, atf, optee, machine configuration file, binary blobs/firmware, you name it.), then a distro layer</td><td class="time"><a href="#t2022-02-14T15:01:11" class="time">15:01</a></td></tr>
<tr id="t2022-02-14T15:01:20"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">and then something else</td><td class="time"><a href="#t2022-02-14T15:01:20" class="time">15:01</a></td></tr>
<tr id="t2022-02-14T15:01:44"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">we do have a poky distro in.. poky because there's a need for a distro for testing purposes</td><td class="time"><a href="#t2022-02-14T15:01:44" class="time">15:01</a></td></tr>
<tr id="t2022-02-14T15:01:53"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">if that was your next question</td><td class="time"><a href="#t2022-02-14T15:01:53" class="time">15:01</a></td></tr>
<tr id="t2022-02-14T15:02:07"><th class="nick" style="background: #a25555">vd</th><td class="text" style="color: #a25555">qschulz: yes, then a &quot;software&quot; layer adding recipes for your custom packages if any, with image recipes bundling them</td><td class="time"><a href="#t2022-02-14T15:02:07" class="time">15:02</a></td></tr>
<tr id="t2022-02-14T15:02:21"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">typically, it's highly recommened to have a separate layer for your BSP components, after that, it's a bit more up to the devs</td><td class="time"><a href="#t2022-02-14T15:02:21" class="time">15:02</a></td></tr>
<tr id="t2022-02-14T15:02:22"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">JPEW: are you ok with those binutils mingw patches?</td><td class="time"><a href="#t2022-02-14T15:02:22" class="time">15:02</a></td></tr>
<tr id="t2022-02-14T15:04:24"><th class="nick" style="background: #9b519b">JPEW</th><td class="text" style="color: #9b519b">RP: The 2 from khem?</td><td class="time"><a href="#t2022-02-14T15:04:24" class="time">15:04</a></td></tr>
<tr id="t2022-02-14T15:05:57"><th class="nick" style="background: #9b519b">JPEW</th><td class="text" style="color: #9b519b">RP: Ya master-next of meta-mingw LGTM</td><td class="time"><a href="#t2022-02-14T15:05:57" class="time">15:05</a></td></tr>
<tr id="t2022-02-14T15:06:22"><th class="nick" style="background: #a25555">vd</th><td class="text" style="color: #a25555">qschulz: I think you answered my question, custom images are usually written in software layers and core-image-* aren't just example, they must work with any bsp/distro layers, if well written.</td><td class="time"><a href="#t2022-02-14T15:06:22" class="time">15:06</a></td></tr>
<tr id="t2022-02-14T15:08:43"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">vd: core-image-* are sometimes used as bases for other custom image recipes</td><td class="time"><a href="#t2022-02-14T15:08:43" class="time">15:08</a></td></tr>
<tr id="t2022-02-14T15:15:20"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">JPEW: yes, those, thanks. Once we sort qemuppc we can then likely merge everything</td><td class="time"><a href="#t2022-02-14T15:15:20" class="time">15:15</a></td></tr>
<tr id="t2022-02-14T15:49:51"><th class="nick" style="background: #5959a9">Tucupitano</th><td class="text" style="color: #5959a9">hello there</td><td class="time"><a href="#t2022-02-14T15:49:51" class="time">15:49</a></td></tr>
<tr id="t2022-02-14T15:57:59"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">JPEW: FWIW disabling parallel make in binutils is making the test builds take houyrs</td><td class="time"><a href="#t2022-02-14T15:57:59" class="time">15:57</a></td></tr>
<tr id="t2022-02-14T15:58:38"><th class="nick" style="background: #9b519b">JPEW</th><td class="text" style="color: #9b519b">RP: Hmm, that's not good</td><td class="time"><a href="#t2022-02-14T15:58:38" class="time">15:58</a></td></tr>
<tr id="t2022-02-14T15:59:18"><th class="nick" style="background: #9b519b">JPEW</th><td class="text" style="color: #9b519b">It might be time to drop 32-bit MinGW</td><td class="time"><a href="#t2022-02-14T15:59:18" class="time">15:59</a></td></tr>
<tr id="t2022-02-14T16:00:28"><th class="nick" style="background: #9b519b">JPEW</th><td class="text" style="color: #9b519b">(assuming it's just a problem there, which is perhaps unlikely)</td><td class="time"><a href="#t2022-02-14T16:00:28" class="time">16:00</a></td></tr>
<tr id="t2022-02-14T16:01:07"><th class="nick" style="background: #9b519b">JPEW</th><td class="text" style="color: #9b519b">It might be possible to drop the Direct3D support... since I highly doubt we need that</td><td class="time"><a href="#t2022-02-14T16:01:07" class="time">16:01</a></td></tr>
<tr id="t2022-02-14T16:03:41"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">JPEW: we saw the failure with 64 bit too. I agree that disabling d3d support might be a better option though</td><td class="time"><a href="#t2022-02-14T16:03:41" class="time">16:03</a></td></tr>
<tr id="t2022-02-14T16:05:03"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">jonmason: any thoughts on what to do with this hanging ltp build?</td><td class="time"><a href="#t2022-02-14T16:05:03" class="time">16:05</a></td></tr>
<tr id="t2022-02-14T16:10:03"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">FWIW it is hanging in the proc01 test again</td><td class="time"><a href="#t2022-02-14T16:10:03" class="time">16:10</a></td></tr>
<tr id="t2022-02-14T16:11:35"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">it was trying to read proc/kmsg and attaching/detaching gdb unblocked it</td><td class="time"><a href="#t2022-02-14T16:11:35" class="time">16:11</a></td></tr>
<tr id="t2022-02-14T16:11:47"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">0x0000007f99886374 in __read_chk () from /lib/libc.so.6</td><td class="time"><a href="#t2022-02-14T16:11:47" class="time">16:11</a></td></tr>
<tr id="t2022-02-14T16:11:53"><th class="nick" style="background: #a25555">vd</th><td class="text" style="color: #a25555">qschulz: in other words, would you write your own base images for your distro or would you simply rely on core-image-*</td><td class="time"><a href="#t2022-02-14T16:11:53" class="time">16:11</a></td></tr>
<tr id="t2022-02-14T16:15:15"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">vd: i would include one of the core-image-minimal except if I really need something really really specific</td><td class="time"><a href="#t2022-02-14T16:15:15" class="time">16:15</a></td></tr>
<tr id="t2022-02-14T16:15:54"><th class="nick" style="background: #9b519b">JPEW</th><td class="text" style="color: #9b519b">RP: Ok, let me see if I can reproduce it locally</td><td class="time"><a href="#t2022-02-14T16:15:54" class="time">16:15</a></td></tr>
<tr id="t2022-02-14T16:16:13"><th class="nick" style="background: #9b519b">JPEW</th><td class="text" style="color: #9b519b">Doesn't look like there is an option to remove direct3d</td><td class="time"><a href="#t2022-02-14T16:16:13" class="time">16:16</a></td></tr>
<tr id="t2022-02-14T16:17:45"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">JPEW: shame, it sounded promising :/</td><td class="time"><a href="#t2022-02-14T16:17:45" class="time">16:17</a></td></tr>
<tr id="t2022-02-14T16:18:32"><th class="nick" style="background: #adad5b">jonmason</th><td class="text" style="color: #adad5b">RP: I'll try to replicate on my local arm64 system (which might be whimpy enough to race like this one)</td><td class="time"><a href="#t2022-02-14T16:18:32" class="time">16:18</a></td></tr>
<tr id="t2022-02-14T16:18:52"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">jonmason: you may want to just trim it down to that test and loop it</td><td class="time"><a href="#t2022-02-14T16:18:52" class="time">16:18</a></td></tr>
<tr id="t2022-02-14T16:19:11"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">jonmason: we've been here before with this test and did disable it in the past. I'm tempted to add that disabling back</td><td class="time"><a href="#t2022-02-14T16:19:11" class="time">16:19</a></td></tr>
<tr id="t2022-02-14T16:19:18"><th class="nick" style="background: #adad5b">jonmason</th><td class="text" style="color: #adad5b">If we ran LTP, we might catch this kind of thing more internally too</td><td class="time"><a href="#t2022-02-14T16:19:18" class="time">16:19</a></td></tr>
<tr id="t2022-02-14T16:19:31"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">jonmason: it does suggest there is a genuine bug in procfs for arm though</td><td class="time"><a href="#t2022-02-14T16:19:31" class="time">16:19</a></td></tr>
<tr id="t2022-02-14T16:20:01"><th class="nick" style="background: #adad5b">jonmason</th><td class="text" style="color: #adad5b">RP: If I can replicate locally, I can trim it down and punt to an internal team to figure it out</td><td class="time"><a href="#t2022-02-14T16:20:01" class="time">16:20</a></td></tr>
<tr id="t2022-02-14T16:20:20"><th class="nick" style="background: #adad5b">jonmason</th><td class="text" style="color: #adad5b">esp for procfs, which I've never messed with</td><td class="time"><a href="#t2022-02-14T16:20:20" class="time">16:20</a></td></tr>
<tr id="t2022-02-14T16:20:48"><th class="nick" style="background: #adad5b">jonmason</th><td class="text" style="color: #adad5b">Let me ask around who this could be punted to</td><td class="time"><a href="#t2022-02-14T16:20:48" class="time">16:20</a></td></tr>
<tr id="t2022-02-14T16:21:07"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">jonmason: quick summary is that proc01 is a test in ltp which goes through the files in procfs and tries to read them. it is basically doing a cat /proc/kmsg from what I remember</td><td class="time"><a href="#t2022-02-14T16:21:07" class="time">16:21</a></td></tr>
<tr id="t2022-02-14T16:21:28"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">jonmason: so there is a some race where a read from /proc/kmsg hangs on arm</td><td class="time"><a href="#t2022-02-14T16:21:28" class="time">16:21</a></td></tr>
<tr id="t2022-02-14T16:21:54"><th class="nick" style="background: #adad5b">jonmason</th><td class="text" style="color: #adad5b">gotcha</td><td class="time"><a href="#t2022-02-14T16:21:54" class="time">16:21</a></td></tr>
<tr id="t2022-02-14T16:22:11"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">jonmason: I'm going to add <a href="https://git.yoctoproject.org/poky-contrib/commit/?h=rpurdie/t222&amp;id=9cc4035724ef7dc237499b04bc39c353f4f138ad" rel="nofollow">https://git.yoctoproject.org/poky-contrib/commit/?h=rpurdie/t222&amp;id=9cc4035724ef7dc237499b04bc39c353f4f138ad</a> as I can't cope with buids hanging</td><td class="time"><a href="#t2022-02-14T16:22:11" class="time">16:22</a></td></tr>
<tr id="t2022-02-14T16:22:30"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">jonmason: I removed it June last year: <a href="https://git.yoctoproject.org/poky/commit/?id=99c023029100528cb2a2ccf4ce0c9c6c4bbe2055" rel="nofollow">https://git.yoctoproject.org/poky/commit/?id=99c023029100528cb2a2ccf4ce0c9c6c4bbe2055</a></td><td class="time"><a href="#t2022-02-14T16:22:30" class="time">16:22</a></td></tr>
<tr id="t2022-02-14T16:25:34"><th class="nick" style="background: #adad5b">jonmason</th><td class="text" style="color: #adad5b">internal slack channel being poked, while I try to get this to reproduce</td><td class="time"><a href="#t2022-02-14T16:25:34" class="time">16:25</a></td></tr>
<tr id="t2022-02-14T16:26:27"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">jonmason: thanks.</td><td class="time"><a href="#t2022-02-14T16:26:27" class="time">16:26</a></td></tr>
<tr id="t2022-02-14T16:26:52"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">JPEW: I'm not sure if these build times are a parallel make issue or not, I'm starting to wonder if my first &quot;guess&quot; was right or not :/</td><td class="time"><a href="#t2022-02-14T16:26:52" class="time">16:26</a></td></tr>
<tr id="t2022-02-14T16:27:41"><th class="nick" style="background: #9b519b">JPEW</th><td class="text" style="color: #9b519b">OK, let me know. The error that the parallel make is trying to fix looks weird, but I'll dig into it if the build time is abysmal</td><td class="time"><a href="#t2022-02-14T16:27:41" class="time">16:27</a></td></tr>
<tr id="t2022-02-14T16:27:41-2"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">I'm trying to do too many things at once, badly :(</td><td class="time"><a href="#t2022-02-14T16:27:41-2" class="time">16:27</a></td></tr>
<tr id="t2022-02-14T17:08:21"><th class="nick" style="background: #b15db1">smurray</th><td class="text" style="color: #b15db1">RP: I was poking at some of the stuff on the inclusive list yesterday, is this prototype of checking for variables in bitbake in roughly the right place?: <a href="https://paste.debian.net/1230890" rel="nofollow">https://paste.debian.net/1230890</a></td><td class="time"><a href="#t2022-02-14T17:08:21" class="time">17:08</a></td></tr>
<tr id="t2022-02-14T17:08:42"><th class="nick" style="background: #42427e">ziga_</th><td class="text" style="color: #42427e">@mckoan I edited the Stackoverflow question.</td><td class="time"><a href="#t2022-02-14T17:08:42" class="time">17:08</a></td></tr>
<tr id="t2022-02-14T17:32:31"><th class="nick" style="background: #407a40">mckoan</th><td class="text" style="color: #407a40">ziga_: but what is your MACHINE?</td><td class="time"><a href="#t2022-02-14T17:32:31" class="time">17:32</a></td></tr>
<tr id="t2022-02-14T17:43:27"><td class="nickchange" colspan="2">*** mckoan is now known as mckoan|away</td><td><a href="#t2022-02-14T17:43:27" class="time">17:43</a></td></tr>
<tr id="t2022-02-14T17:47:10"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">smurray: I was just talking to sgw about this, I think it may make sense as a RecipeParsed() event handler?</td><td class="time"><a href="#t2022-02-14T17:47:10" class="time">17:47</a></td></tr>
<tr id="t2022-02-14T17:48:51"><th class="nick" style="background: #b15db1">smurray</th><td class="text" style="color: #b15db1">RP: is sgw working on coding something up?&nbsp;&nbsp;If so, I'll shelve continuing.&nbsp;&nbsp;If not, I have rework for all the variables that snippet was checking for in hand here</td><td class="time"><a href="#t2022-02-14T17:48:51" class="time">17:48</a></td></tr>
<tr id="t2022-02-14T17:49:32"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">smurray: I think you're ahead of him</td><td class="time"><a href="#t2022-02-14T17:49:32" class="time">17:49</a></td></tr>
<tr id="t2022-02-14T17:49:46"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">smurray: I'm actually torn on event handler vs making this dedicated bitbake code :/</td><td class="time"><a href="#t2022-02-14T17:49:46" class="time">17:49</a></td></tr>
<tr id="t2022-02-14T17:50:33"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">smurray: I did wonder about a BB_RENAMED_VARIABLES[BB_HASHTASK_WHITELIST] = &quot;Variable new name&quot; type flags list</td><td class="time"><a href="#t2022-02-14T17:50:33" class="time">17:50</a></td></tr>
<tr id="t2022-02-14T17:50:48"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">so that it could then say &quot;X was used and it has been replaced with Y&quot;</td><td class="time"><a href="#t2022-02-14T17:50:48" class="time">17:50</a></td></tr>
<tr id="t2022-02-14T17:51:08"><td class="action" colspan="2">* RP needs to step afk so I'll let you negotiate with sgw</td><td><a href="#t2022-02-14T17:51:08" class="time">17:51</a></td></tr>
<tr id="t2022-02-14T17:51:28"><th class="nick" style="background: #b15db1">smurray</th><td class="text" style="color: #b15db1">RP: yes, I was thinking about whether that'd be what's wanted or not.&nbsp;&nbsp;I can try coding up whatever so long as there's some definition of the reqts</td><td class="time"><a href="#t2022-02-14T17:51:28" class="time">17:51</a></td></tr>
<tr id="t2022-02-14T17:51:46"><th class="nick" style="background: #5fb4b4">sgw</th><td class="text" style="color: #5fb4b4">smurray: I was just starting, you seem to be further along, so please continue</td><td class="time"><a href="#t2022-02-14T17:51:46" class="time">17:51</a></td></tr>
<tr id="t2022-02-14T17:52:24"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">smurray: the correct place to hook this is probably <a href="https://git.openembedded.org/bitbake/tree/lib/bb/parse/ast.py#n333" rel="nofollow">https://git.openembedded.org/bitbake/tree/lib/bb/parse/ast.py#n333</a> in the finalise() function FWIW</td><td class="time"><a href="#t2022-02-14T17:52:24" class="time">17:52</a></td></tr>
<tr id="t2022-02-14T17:52:38"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">that is the point bitbake considers the parsing &quot;done&quot;</td><td class="time"><a href="#t2022-02-14T17:52:38" class="time">17:52</a></td></tr>
<tr id="t2022-02-14T17:53:19"><th class="nick" style="background: #b15db1">smurray</th><td class="text" style="color: #b15db1">RP: that's per-recipe as opposed to overall?&nbsp;&nbsp;So whether to rig up warn once or not would come into play?</td><td class="time"><a href="#t2022-02-14T17:53:19" class="time">17:53</a></td></tr>
<tr id="t2022-02-14T17:53:35"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">smurray: it is overall, yes. I think we have to catch things in&nbsp;&nbsp;the recipes</td><td class="time"><a href="#t2022-02-14T17:53:35" class="time">17:53</a></td></tr>
<tr id="t2022-02-14T17:53:42"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">er, it is per-recipe</td><td class="time"><a href="#t2022-02-14T17:53:42" class="time">17:53</a></td></tr>
<tr id="t2022-02-14T17:54:02"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">smurray: we'd still want warnonce in there since we'd not want to show it for every recipe</td><td class="time"><a href="#t2022-02-14T17:54:02" class="time">17:54</a></td></tr>
<tr id="t2022-02-14T17:54:06"><th class="nick" style="background: #b15db1">smurray</th><td class="text" style="color: #b15db1">RP: heh, okay, that's definitely not what I thought was wanted from the previous discussions</td><td class="time"><a href="#t2022-02-14T17:54:06" class="time">17:54</a></td></tr>
<tr id="t2022-02-14T17:54:08"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">or more likely erroronce</td><td class="time"><a href="#t2022-02-14T17:54:08" class="time">17:54</a></td></tr>
<tr id="t2022-02-14T17:54:47"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">well, part of this work is to figure out what makes sense and get a decent user experience</td><td class="time"><a href="#t2022-02-14T17:54:47" class="time">17:54</a></td></tr>
<tr id="t2022-02-14T17:55:44"><th class="nick" style="background: #b15db1">smurray</th><td class="text" style="color: #b15db1">okay, I can likely put a couple more hours into this this evening</td><td class="time"><a href="#t2022-02-14T17:55:44" class="time">17:55</a></td></tr>
<tr id="t2022-02-14T17:55:44-2"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">I'm nearly of the opinion that it is far too late to be trying to rush this into an LTS at this point :(</td><td class="time"><a href="#t2022-02-14T17:55:44-2" class="time">17:55</a></td></tr>
<tr id="t2022-02-14T17:56:13"><th class="nick" style="background: #b15db1">smurray</th><td class="text" style="color: #b15db1">RP: I'd prefer we just break everyone and give them a conversion script a la overrides as opposed to not doing it</td><td class="time"><a href="#t2022-02-14T17:56:13" class="time">17:56</a></td></tr>
<tr id="t2022-02-14T17:56:44"><th class="nick" style="background: #b15db1">smurray</th><td class="text" style="color: #b15db1">RP: which I know not everyone agrees with, but it's been 2 years</td><td class="time"><a href="#t2022-02-14T17:56:44" class="time">17:56</a></td></tr>
<tr id="t2022-02-14T17:58:03"><th class="nick" style="background: #b15db1">smurray</th><td class="text" style="color: #b15db1">RP: if I'd known no one was going to do anything after the discussion last month, I'd not have waited to start myself</td><td class="time"><a href="#t2022-02-14T17:58:03" class="time">17:58</a></td></tr>
<tr id="t2022-02-14T18:09:53"><th class="nick" style="background: #b15db1">smurray</th><td class="text" style="color: #b15db1">sgw: I'll update the wiki page with what I've got in hand here.&nbsp;&nbsp;Issue is it's hard to see how it's useful to post patches until the variable checking in bitbake is hashed out</td><td class="time"><a href="#t2022-02-14T18:09:53" class="time">18:09</a></td></tr>
<tr id="t2022-02-14T18:10:54"><th class="nick" style="background: #5fb4b4">sgw</th><td class="text" style="color: #5fb4b4">smurray: thanks for handling that and agreed, I guess I forced the issue with the initial patch set!</td><td class="time"><a href="#t2022-02-14T18:10:54" class="time">18:10</a></td></tr>
<tr id="t2022-02-14T18:11:06"><th class="nick" style="background: #5fb4b4">sgw</th><td class="text" style="color: #5fb4b4">Someone had to get the ball rolling somehow.</td><td class="time"><a href="#t2022-02-14T18:11:06" class="time">18:11</a></td></tr>
<tr id="t2022-02-14T18:11:47"><th class="nick" style="background: #b15db1">smurray</th><td class="text" style="color: #b15db1">sgw: did you post something?</td><td class="time"><a href="#t2022-02-14T18:11:47" class="time">18:11</a></td></tr>
<tr id="t2022-02-14T18:21:17"><th class="nick" style="background: #5fb4b4">sgw</th><td class="text" style="color: #5fb4b4">smurray: the PNBLACKLIST -&gt; SKIP_RECIPE name changes</td><td class="time"><a href="#t2022-02-14T18:21:17" class="time">18:21</a></td></tr>
<tr id="t2022-02-14T18:21:33"><th class="nick" style="background: #b15db1">smurray</th><td class="text" style="color: #b15db1">sgw: okay, I've not started on anything in oe-core other than renaming the variables from Bitbake, so there's no overlap</td><td class="time"><a href="#t2022-02-14T18:21:33" class="time">18:21</a></td></tr>
<tr id="t2022-02-14T18:21:53"><th class="nick" style="background: #5fb4b4">sgw</th><td class="text" style="color: #5fb4b4">Right, I was sticking with OE-Core and I think I had updated the wiki</td><td class="time"><a href="#t2022-02-14T18:21:53" class="time">18:21</a></td></tr>
<tr id="t2022-02-14T18:22:13"><th class="nick" style="background: #b15db1">smurray</th><td class="text" style="color: #b15db1">sgw: okay, cool.&nbsp;&nbsp;I realized I don't have a wiki login and just submitted for one</td><td class="time"><a href="#t2022-02-14T18:22:13" class="time">18:22</a></td></tr>
<tr id="t2022-02-14T18:23:02"><th class="nick" style="background: #b15db1">smurray</th><td class="text" style="color: #b15db1">sgw: I'll take another whack at the variable checking in bitbake this evening</td><td class="time"><a href="#t2022-02-14T18:23:02" class="time">18:23</a></td></tr>
<tr id="t2022-02-14T19:38:14"><th class="nick" style="background: #a25555">vd</th><td class="text" style="color: #a25555">qschulz: if you need to produce images for different medium of the same machine (e.g. sd card for recovery/factory, emmc for production, etc.), would you create machine variants (machinefoo-sdcard and machinefoo-emmc) and build a generic image, or would you create machine-specific image recipes and specify different WKS_FILE (e.g. foo-image-sdcard containing WKS_FILE=machinefoo-sdcard.wks)?</td><td class="time"><a href="#t2022-02-14T19:38:14" class="time">19:38</a></td></tr>
<tr id="t2022-02-14T19:45:42"><th class="nick" style="background: #4d4d93">kanavin</th><td class="text" style="color: #4d4d93">vd, I would try really really hard to avoid adding more machine definitions</td><td class="time"><a href="#t2022-02-14T19:45:42" class="time">19:45</a></td></tr>
<tr id="t2022-02-14T19:45:58"><th class="nick" style="background: #4d4d93">kanavin</th><td class="text" style="color: #4d4d93">it's much easier to 'bitbake image1 image2'</td><td class="time"><a href="#t2022-02-14T19:45:58" class="time">19:45</a></td></tr>
<tr id="t2022-02-14T19:46:08"><th class="nick" style="background: #4d4d93">kanavin</th><td class="text" style="color: #4d4d93">better yet, figure out how you can make a universal image</td><td class="time"><a href="#t2022-02-14T19:46:08" class="time">19:46</a></td></tr>
<tr id="t2022-02-14T19:48:30"><th class="nick" style="background: #a25555">vd</th><td class="text" style="color: #a25555">kanavin: it's why I thought. I'm struggling designing such image for factory, to e.g. format/install an eMMC from an SD card image.</td><td class="time"><a href="#t2022-02-14T19:48:30" class="time">19:48</a></td></tr>
<tr id="t2022-02-14T19:50:26"><th class="nick" style="background: #4d4d93">kanavin</th><td class="text" style="color: #4d4d93">vd, as chance would have it, I'm going to have exactly the same task in the next few days</td><td class="time"><a href="#t2022-02-14T19:50:26" class="time">19:50</a></td></tr>
<tr id="t2022-02-14T19:50:47"><th class="nick" style="background: #4d4d93">kanavin</th><td class="text" style="color: #4d4d93">vd, I'm currently stalled by having a device that's hardcoded to boot from emmc (literally - by resistor settings on the board)</td><td class="time"><a href="#t2022-02-14T19:50:47" class="time">19:50</a></td></tr>
<tr id="t2022-02-14T19:51:07"><th class="nick" style="background: #4d4d93">kanavin</th><td class="text" style="color: #4d4d93">vd, we asked the vendor to sort this out, or explain how are we supposed to bootstrap</td><td class="time"><a href="#t2022-02-14T19:51:07" class="time">19:51</a></td></tr>
<tr id="t2022-02-14T19:52:43"><th class="nick" style="background: #4d4d93">kanavin</th><td class="text" style="color: #4d4d93">vd, I guess what you can do is boot from sd card, then run a script that pulls the same image off the net as a file</td><td class="time"><a href="#t2022-02-14T19:52:43" class="time">19:52</a></td></tr>
<tr id="t2022-02-14T19:52:49"><th class="nick" style="background: #a25555">vd</th><td class="text" style="color: #a25555">kanavin: looks like you won't be able to bootstrap the installation from the machine itself</td><td class="time"><a href="#t2022-02-14T19:52:49" class="time">19:52</a></td></tr>
<tr id="t2022-02-14T19:53:30"><th class="nick" style="background: #4d4d93">kanavin</th><td class="text" style="color: #4d4d93">the dd if=file of=emmc</td><td class="time"><a href="#t2022-02-14T19:53:30" class="time">19:53</a></td></tr>
<tr id="t2022-02-14T19:54:27"><th class="nick" style="background: #a25555">vd</th><td class="text" style="color: #a25555">kanavin: that's currently what I'm doing, adding a prod.wic image either in IMAGE_ROOTFS or in IMAGE_BOOT_FILES, but this means having a specific image, e.g. myproduct-image-factory with embedded binaries</td><td class="time"><a href="#t2022-02-14T19:54:27" class="time">19:54</a></td></tr>
<tr id="t2022-02-14T19:55:05"><th class="nick" style="background: #a25555">vd</th><td class="text" style="color: #a25555">(for offline factory installation)</td><td class="time"><a href="#t2022-02-14T19:55:05" class="time">19:55</a></td></tr>
<tr id="t2022-02-14T19:57:17"><th class="nick" style="background: #4d4d93">kanavin</th><td class="text" style="color: #4d4d93">vd, I wonder if u-boot has this feature, 'copy sd-card verbatim to emmc'</td><td class="time"><a href="#t2022-02-14T19:57:17" class="time">19:57</a></td></tr>
<tr id="t2022-02-14T19:59:40"><th class="nick" style="background: #a25555">vd</th><td class="text" style="color: #a25555">kanavin: you could do it in an initramfs otherwise, but dd will take a lot time to copy even 4Go and will fail if the SD card is larger</td><td class="time"><a href="#t2022-02-14T19:59:40" class="time">19:59</a></td></tr>
<tr id="t2022-02-14T20:00:05"><th class="nick" style="background: #a25555">vd</th><td class="text" style="color: #a25555">so you can use bmaptool, which doesn't fit in the initramfs, so back to a factory image..</td><td class="time"><a href="#t2022-02-14T20:00:05" class="time">20:00</a></td></tr>
<tr id="t2022-02-14T20:01:14"><th class="nick" style="background: #a25555">vd</th><td class="text" style="color: #a25555">or adding a machine specific script in the initramfs to do sfdisk -d ${sdcard} | sfdisk ${emmc}, then format/populate the partitions manually</td><td class="time"><a href="#t2022-02-14T20:01:14" class="time">20:01</a></td></tr>
<tr id="t2022-02-14T20:06:38"><th class="nick" style="background: #a25555">vd</th><td class="text" style="color: #a25555">kanavin: you may add a &quot;factory&quot; package to you distro (initramfs or packagegroup-machine-base) with SRC_URI += &quot;file://format.sh&quot; and place it in files/&lt;machine&gt;/format.sh. It's not easy to make this clean</td><td class="time"><a href="#t2022-02-14T20:06:38" class="time">20:06</a></td></tr>
<tr id="t2022-02-14T21:13:28"><th class="nick" style="background: #42427e">ziga_</th><td class="text" style="color: #42427e">@mckoan I added more info to the Stack overflow - also regarding the machine.</td><td class="time"><a href="#t2022-02-14T21:13:28" class="time">21:13</a></td></tr>
<tr id="t2022-02-14T21:58:30-2"><td class="nickchange" colspan="2">*** camus1 is now known as camus</td><td><a href="#t2022-02-14T21:58:30-2" class="time">21:58</a></td></tr>
<tr id="t2022-02-14T23:11:18"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">smurray: if you summarise where you end up I can probably have a look at this tomorrow, see if I can move things forward</td><td class="time"><a href="#t2022-02-14T23:11:18" class="time">23:11</a></td></tr>
<tr id="t2022-02-14T23:12:01"><th class="nick" style="background: #b15db1">smurray</th><td class="text" style="color: #b15db1">RP: okay, I'll drop you a note</td><td class="time"><a href="#t2022-02-14T23:12:01" class="time">23:12</a></td></tr>
<tr id="t2022-02-14T23:21:40"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">smurray: thanks</td><td class="time"><a href="#t2022-02-14T23:21:40" class="time">23:21</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2022-02-13.log.html">&#171; Sunday, 2022-02-13</a> <a href="index.html">Index</a> <a href="%23yocto.2022-02-15.log.html">Tuesday, 2022-02-15 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.17.2 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="https://mg.pov.lt/irclog2html/">https://mg.pov.lt/irclog2html/</a>!</p>
</div>
</body>
</html>
