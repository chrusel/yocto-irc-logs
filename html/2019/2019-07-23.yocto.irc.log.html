<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Tuesday, 2019-07-23</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.11.0 by Marius Gedminas" />
  <meta name="version" content="2.11.0 - 2012-07-30" />
</head>
<body>
<h1>Tuesday, 2019-07-23</h1>
<div class="navigation"> <a href="%23yocto.2019-07-22.log.html">&#171; Monday, 2019-07-22</a> <a href="index.html">Index</a> <a href="%23yocto.2019-07-24.log.html">Wednesday, 2019-07-24 &#187;</a> </div>
<table class="irclog">
<tr id="t2019-07-23T03:07:20"><th class="nick" style="background: #407a40">puff</th><td class="text" style="color: #407a40">Evening, still trying to debug that yocto-on-intel-aero-drone problem.</td><td class="time"><a href="#t2019-07-23T03:07:20" class="time">03:07</a></td></tr>
<tr id="t2019-07-23T05:33:13"><th class="nick" style="background: #42427e">yocti</th><td class="text" style="color: #42427e">New news from stackoverflow: sdk can build my cmake project but recipe in bitbake can't &lt;<a href="https://stackoverflow.com/questions/57157193/sdk-can-build-my-cmake-project-but-recipe-in-bitbake-cant&gt;" rel="nofollow">https://stackoverflow.com/questions/57157193/sdk-can-build-my-cmake-project-but-recipe-in-bitbake-cant&gt;</a></td><td class="time"><a href="#t2019-07-23T05:33:13" class="time">05:33</a></td></tr>
<tr id="t2019-07-23T06:21:10"><td class="action" colspan="2">* alessioigor waves all</td><td><a href="#t2019-07-23T06:21:10" class="time">06:21</a></td></tr>
<tr id="t2019-07-23T06:35:22"><th class="nick" style="background: #818144">ricardocrudo</th><td class="text" style="color: #818144">I'm trying to install a custom journald.conf but I face this error`file /etc/systemd/journald.conf conflicts between attempted installs of systemd-1:239`</td><td class="time"><a href="#t2019-07-23T06:35:22" class="time">06:35</a></td></tr>
<tr id="t2019-07-23T06:35:35"><th class="nick" style="background: #818144">ricardocrudo</th><td class="text" style="color: #818144">I'm doing something like this: <a href="http://git.yoctoproject.org/cgit/cgit.cgi/meta-intel-edison/tree/meta-intel-edison-distro/recipes-core/systemd/systemd_%25.bbappend" rel="nofollow">http://git.yoctoproject.org/cgit/cgit.cgi/meta-intel-edison/tree/meta-intel-edison-distro/recipes-core/systemd/systemd_%25.bbappend</a></td><td class="time"><a href="#t2019-07-23T06:35:35" class="time">06:35</a></td></tr>
<tr id="t2019-07-23T07:03:28"><th class="nick" style="background: #42427e">yocti</th><td class="text" style="color: #42427e">New news from stackoverflow: Got an error "Checking for program pkg-config : not found" during execution "bitbake image_name" &lt;<a href="https://stackoverflow.com/questions/57158136/got-an-error-checking-for-program-pkg-config-not-found-during-execution-bit&gt;" rel="nofollow">https://stackoverflow.com/questions/57158136/got-an-error-checking-for-program-pkg-config-not-found-during-execution-bit&gt;</a></td><td class="time"><a href="#t2019-07-23T07:03:28" class="time">07:03</a></td></tr>
<tr id="t2019-07-23T07:23:55"><td class="nickchange" colspan="2">*** BCMM_ is now known as BCMM</td><td><a href="#t2019-07-23T07:23:55" class="time">07:23</a></td></tr>
<tr id="t2019-07-23T08:03:32"><th class="nick" style="background: #854685">jmiehe</th><td class="text" style="color: #854685">If I inherit systemd and set SYSTEMD_SERVICE_${PN}, do I still have to manually copy my .service file into the systemd directory? this feels redundant …</td><td class="time"><a href="#t2019-07-23T08:03:32" class="time">08:03</a></td></tr>
<tr id="t2019-07-23T08:08:41"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">jmiehe: yes, because typically the upstream *ships the service file*</td><td class="time"><a href="#t2019-07-23T08:08:41" class="time">08:08</a></td></tr>
<tr id="t2019-07-23T08:08:58"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">the class assumes it is installed</td><td class="time"><a href="#t2019-07-23T08:08:58" class="time">08:08</a></td></tr>
<tr id="t2019-07-23T08:10:42"><th class="nick" style="background: #854685">jmiehe</th><td class="text" style="color: #854685">where does that happen in the "example" connman recipe referenced here? <a href="https://www.yoctoproject.org/docs/latest/ref-manual/ref-manual.html#ref-classes-systemd" rel="nofollow">https://www.yoctoproject.org/docs/latest/ref-manual/ref-manual.html#ref-classes-systemd</a></td><td class="time"><a href="#t2019-07-23T08:10:42" class="time">08:10</a></td></tr>
<tr id="t2019-07-23T08:11:07"><th class="nick" style="background: #854685">jmiehe</th><td class="text" style="color: #854685">(= <a href="http://cgit.openembedded.org/openembedded-core/tree/meta/recipes-connectivity/connman/connman.inc" rel="nofollow">http://cgit.openembedded.org/openembedded-core/tree/meta/recipes-connectivity/connman/connman.inc</a> <a href="http://cgit.openembedded.org/openembedded-core/tree/meta/recipes-connectivity/connman/connman_1.35.bb" rel="nofollow">http://cgit.openembedded.org/openembedded-core/tree/meta/recipes-connectivity/connman/connman_1.35.bb</a>)</td><td class="time"><a href="#t2019-07-23T08:11:07" class="time">08:11</a></td></tr>
<tr id="t2019-07-23T09:00:47"><th class="nick" style="background: #854685">jmiehe</th><td class="text" style="color: #854685">how can I set the hostname in my image recipe?</td><td class="time"><a href="#t2019-07-23T09:00:47" class="time">09:00</a></td></tr>
<tr id="t2019-07-23T09:10:36"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">eg hostname_pn-base-files = "bob" in local.conf</td><td class="time"><a href="#t2019-07-23T09:10:36" class="time">09:10</a></td></tr>
<tr id="t2019-07-23T09:10:43"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">in an image recipe, you can't</td><td class="time"><a href="#t2019-07-23T09:10:43" class="time">09:10</a></td></tr>
<tr id="t2019-07-23T09:11:04"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">if you *need* to do it in an image recipe then write a rootfs postprocess hook to write a new hostname file</td><td class="time"><a href="#t2019-07-23T09:11:04" class="time">09:11</a></td></tr>
<tr id="t2019-07-23T09:12:32"><th class="nick" style="background: #854685">jmiehe</th><td class="text" style="color: #854685">rburton: ok, I tried the hostname_pn-base-files in the image recipe and it didn't work, thats's</td><td class="time"><a href="#t2019-07-23T09:12:32" class="time">09:12</a></td></tr>
<tr id="t2019-07-23T09:12:38"><th class="nick" style="background: #854685">jmiehe</th><td class="text" style="color: #854685">why I asked*</td><td class="time"><a href="#t2019-07-23T09:12:38" class="time">09:12</a></td></tr>
<tr id="t2019-07-23T09:13:18"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">the default hostname comes from the recipe called base-files, so you can't override that from another recipe</td><td class="time"><a href="#t2019-07-23T09:13:18" class="time">09:13</a></td></tr>
<tr id="t2019-07-23T09:13:40"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">jmiehe: things in one recipe cannot affect things in another recipe. thats why it didn't work in your case.</td><td class="time"><a href="#t2019-07-23T09:13:40" class="time">09:13</a></td></tr>
<tr id="t2019-07-23T09:13:55"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">jmiehe: recipe data is local, conf data is global.</td><td class="time"><a href="#t2019-07-23T09:13:55" class="time">09:13</a></td></tr>
<tr id="t2019-07-23T09:14:11"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">(i actually have any OE/YOP class that i teach say that out loud)</td><td class="time"><a href="#t2019-07-23T09:14:11" class="time">09:14</a></td></tr>
<tr id="t2019-07-23T09:14:23"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">important to understand</td><td class="time"><a href="#t2019-07-23T09:14:23" class="time">09:14</a></td></tr>
<tr id="t2019-07-23T09:14:25"><th class="nick" style="background: #854685">jmiehe</th><td class="text" style="color: #854685">but I can .bbappend to base-files, which is enough in this use case :)</td><td class="time"><a href="#t2019-07-23T09:14:25" class="time">09:14</a></td></tr>
<tr id="t2019-07-23T09:14:31"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">right</td><td class="time"><a href="#t2019-07-23T09:14:31" class="time">09:14</a></td></tr>
<tr id="t2019-07-23T09:14:47"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">rburton: is it.</td><td class="time"><a href="#t2019-07-23T09:14:47" class="time">09:14</a></td></tr>
<tr id="t2019-07-23T09:14:50"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">i just have that line in my local.conf so any machine for any arch i boot up is bob.local</td><td class="time"><a href="#t2019-07-23T09:14:50" class="time">09:14</a></td></tr>
<tr id="t2019-07-23T09:15:06"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">no alice?!?</td><td class="time"><a href="#t2019-07-23T09:15:06" class="time">09:15</a></td></tr>
<tr id="t2019-07-23T09:15:14"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">lol</td><td class="time"><a href="#t2019-07-23T09:15:14" class="time">09:15</a></td></tr>
<tr id="t2019-07-23T09:15:15"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">no</td><td class="time"><a href="#t2019-07-23T09:15:15" class="time">09:15</a></td></tr>
<tr id="t2019-07-23T09:15:21"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">there's no alice in my naming scheme</td><td class="time"><a href="#t2019-07-23T09:15:21" class="time">09:15</a></td></tr>
<tr id="t2019-07-23T09:15:55"><th class="nick" style="background: #854685">jmiehe</th><td class="text" style="color: #854685">scheme? so next ones are boob, booob, boooob …?</td><td class="time"><a href="#t2019-07-23T09:15:55" class="time">09:15</a></td></tr>
<tr id="t2019-07-23T09:16:19"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">melchett, flashheart, baldrick</td><td class="time"><a href="#t2019-07-23T09:16:19" class="time">09:16</a></td></tr>
<tr id="t2019-07-23T09:18:51"><th class="nick" style="background: #854685">jmiehe</th><td class="text" style="color: #854685">rburton: so your bob is kind of an alice, too. weird flex but ok.</td><td class="time"><a href="#t2019-07-23T09:18:51" class="time">09:18</a></td></tr>
<tr id="t2019-07-23T09:21:48"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">ix, caladan, junction, giediprime, arrakis :)</td><td class="time"><a href="#t2019-07-23T09:21:48" class="time">09:21</a></td></tr>
<tr id="t2019-07-23T09:34:03"><th class="nick" style="background: #854685">jmiehe</th><td class="text" style="color: #854685">I have a really simple recipe erroring out my build. Maybe I'm just dumb? :P <a href="https://pastebin.com/12zTT36p" rel="nofollow">https://pastebin.com/12zTT36p</a></td><td class="time"><a href="#t2019-07-23T09:34:03" class="time">09:34</a></td></tr>
<tr id="t2019-07-23T09:34:46"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">jmiehe: and how does it "error out"?</td><td class="time"><a href="#t2019-07-23T09:34:46" class="time">09:34</a></td></tr>
<tr id="t2019-07-23T09:36:02"><th class="nick" style="background: #854685">jmiehe</th><td class="text" style="color: #854685">with a 1581 line error log containing "Unable to install packages" and "Function failed: do_rootfs"</td><td class="time"><a href="#t2019-07-23T09:36:02" class="time">09:36</a></td></tr>
<tr id="t2019-07-23T09:36:52"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">so this is a pacakge of its own?</td><td class="time"><a href="#t2019-07-23T09:36:52" class="time">09:36</a></td></tr>
<tr id="t2019-07-23T09:38:14"><th class="nick" style="background: #854685">jmiehe</th><td class="text" style="color: #854685">yes, the idea was to quickly pull in some presets</td><td class="time"><a href="#t2019-07-23T09:38:14" class="time">09:38</a></td></tr>
<tr id="t2019-07-23T09:39:26"><th class="nick" style="background: #854685">jmiehe</th><td class="text" style="color: #854685">(and be able to switch them out as quickly)</td><td class="time"><a href="#t2019-07-23T09:39:26" class="time">09:39</a></td></tr>
<tr id="t2019-07-23T09:39:45"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">i can't put my finger on it but something is werid/wrong</td><td class="time"><a href="#t2019-07-23T09:39:45" class="time">09:39</a></td></tr>
<tr id="t2019-07-23T09:40:21"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">how is the recipe file called? and can you scroll up in the failing log, i kinda suspect some more information to be hidden in there.</td><td class="time"><a href="#t2019-07-23T09:40:21" class="time">09:40</a></td></tr>
<tr id="t2019-07-23T09:40:39"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">plus, what happens if you bitbake that package only?</td><td class="time"><a href="#t2019-07-23T09:40:39" class="time">09:40</a></td></tr>
<tr id="t2019-07-23T09:44:02"><th class="nick" style="background: #854685">jmiehe</th><td class="text" style="color: #854685">recipe is in mixin-static-ip_1.0.bb, with the files from SRC_URI in subdir "conf"</td><td class="time"><a href="#t2019-07-23T09:44:02" class="time">09:44</a></td></tr>
<tr id="t2019-07-23T09:44:38"><th class="nick" style="background: #854685">jmiehe</th><td class="text" style="color: #854685">bitbake mixin-static-ip ~ Tasks Summary: Attempted 454 tasks of which 440 didn't need to be rerun and all succeeded</td><td class="time"><a href="#t2019-07-23T09:44:38" class="time">09:44</a></td></tr>
<tr id="t2019-07-23T09:44:46"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">hm ok</td><td class="time"><a href="#t2019-07-23T09:44:46" class="time">09:44</a></td></tr>
<tr id="t2019-07-23T09:45:09"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">and inspecting the resulting package seems to be fine too?</td><td class="time"><a href="#t2019-07-23T09:45:09" class="time">09:45</a></td></tr>
<tr id="t2019-07-23T09:46:55"><th class="nick" style="background: #854685">jmiehe</th><td class="text" style="color: #854685">the work/$arch$/$pkg$/1.0-r0/image looks fine at least</td><td class="time"><a href="#t2019-07-23T09:46:55" class="time">09:46</a></td></tr>
<tr id="t2019-07-23T09:47:45"><th class="nick" style="background: #854685">jmiehe</th><td class="text" style="color: #854685">maybe it's because i'm trying to install files that are already present?</td><td class="time"><a href="#t2019-07-23T09:47:45" class="time">09:47</a></td></tr>
<tr id="t2019-07-23T09:47:45"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">no, i really mean the resulting ipk or whatever package manager you use</td><td class="time"><a href="#t2019-07-23T09:47:45" class="time">09:47</a></td></tr>
<tr id="t2019-07-23T09:49:03"><th class="nick" style="background: #854685">jmiehe</th><td class="text" style="color: #854685">actually i have no idea how to inspect those</td><td class="time"><a href="#t2019-07-23T09:49:03" class="time">09:49</a></td></tr>
<tr id="t2019-07-23T09:50:53"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">somewhere in tmp/deploy/$MACHINE/$PACKAGEMANAGER/...</td><td class="time"><a href="#t2019-07-23T09:50:53" class="time">09:50</a></td></tr>
<tr id="t2019-07-23T09:51:14"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">so if its ipk, there should be something like mixin-static-ip_1.0.ipk</td><td class="time"><a href="#t2019-07-23T09:51:14" class="time">09:51</a></td></tr>
<tr id="t2019-07-23T09:51:18"><th class="nick" style="background: #854685">jmiehe</th><td class="text" style="color: #854685">yes</td><td class="time"><a href="#t2019-07-23T09:51:18" class="time">09:51</a></td></tr>
<tr id="t2019-07-23T09:51:24"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">and you can inspect that with dpkg :)</td><td class="time"><a href="#t2019-07-23T09:51:24" class="time">09:51</a></td></tr>
<tr id="t2019-07-23T09:54:17"><th class="nick" style="background: #854685">jmiehe</th><td class="text" style="color: #854685">yes looks good</td><td class="time"><a href="#t2019-07-23T09:54:17" class="time">09:54</a></td></tr>
<tr id="t2019-07-23T09:55:48"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">then the next thing is probably really a deeper inspection of the error log.</td><td class="time"><a href="#t2019-07-23T09:55:48" class="time">09:55</a></td></tr>
<tr id="t2019-07-23T09:56:45"><th class="nick" style="background: #854685">jmiehe</th><td class="text" style="color: #854685">During installation, ${systemd_unitdir}/network/10-eth0.network is already present. Should that be the problem?</td><td class="time"><a href="#t2019-07-23T09:56:45" class="time">09:56</a></td></tr>
<tr id="t2019-07-23T09:56:51"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">bingo.</td><td class="time"><a href="#t2019-07-23T09:56:51" class="time">09:56</a></td></tr>
<tr id="t2019-07-23T10:00:22"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">if two packages provide the same file, then creating the rootfs fails. how should bitbake know which one you want?</td><td class="time"><a href="#t2019-07-23T10:00:22" class="time">10:00</a></td></tr>
<tr id="t2019-07-23T10:28:27"><th class="nick" style="background: #854685">jmiehe</th><td class="text" style="color: #854685">understood.</td><td class="time"><a href="#t2019-07-23T10:28:27" class="time">10:28</a></td></tr>
<tr id="t2019-07-23T10:28:57"><th class="nick" style="background: #854685">jmiehe</th><td class="text" style="color: #854685">Is systemd_unitdir provided by those python functions in systemd.bbclass? <a href="http://cgit.openembedded.org/openembedded-core/tree/meta/classes/systemd.bbclass?h=sumo" rel="nofollow">http://cgit.openembedded.org/openembedded-core/tree/meta/classes/systemd.bbclass?h=sumo</a></td><td class="time"><a href="#t2019-07-23T10:28:57" class="time">10:28</a></td></tr>
<tr id="t2019-07-23T10:55:08"><th class="nick" style="background: #4b904b">evaluate</th><td class="text" style="color: #4b904b">Hello.</td><td class="time"><a href="#t2019-07-23T10:55:08" class="time">10:55</a></td></tr>
<tr id="t2019-07-23T10:56:04"><th class="nick" style="background: #4b904b">evaluate</th><td class="text" style="color: #4b904b">Is it possible to run commands that require root rights (e.g. kpartx) in a class? If I run the command straight away in the class, I get a permission denied error.</td><td class="time"><a href="#t2019-07-23T10:56:04" class="time">10:56</a></td></tr>
<tr id="t2019-07-23T11:00:34"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">evaluate: well this would totally sabotage being able to build said thing as a user</td><td class="time"><a href="#t2019-07-23T11:00:34" class="time">11:00</a></td></tr>
<tr id="t2019-07-23T11:01:15"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">evaluate: so just guessing from the name, it rather sounds like something that should be done in wic or such</td><td class="time"><a href="#t2019-07-23T11:01:15" class="time">11:01</a></td></tr>
<tr id="t2019-07-23T11:02:16"><th class="nick" style="background: #4b904b">evaluate</th><td class="text" style="color: #4b904b">LetoThe2nd, what I'm actually trying to do is mount the image to run some commands in it. Not sure if that can be done in the wic...</td><td class="time"><a href="#t2019-07-23T11:02:16" class="time">11:02</a></td></tr>
<tr id="t2019-07-23T11:02:38"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">evaluate: ROOTFS_POSTPROCESS_COMMAND</td><td class="time"><a href="#t2019-07-23T11:02:38" class="time">11:02</a></td></tr>
<tr id="t2019-07-23T11:02:52"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">or ROOTFS_POSTPROCESS_CMD, something along that</td><td class="time"><a href="#t2019-07-23T11:02:52" class="time">11:02</a></td></tr>
<tr id="t2019-07-23T11:03:10"><th class="nick" style="background: #4b904b">evaluate</th><td class="text" style="color: #4b904b">LetoThe2nd, Ok, let me look that up.</td><td class="time"><a href="#t2019-07-23T11:03:10" class="time">11:03</a></td></tr>
<tr id="t2019-07-23T11:19:10"><th class="nick" style="background: #4b904b">evaluate</th><td class="text" style="color: #4b904b">LetoThe2nd, I see that the ROOTFS_POSTPROCESS_COMMAND also takes a function, and I don't see a mention of any special rights being present there. If I run e.g. kpartx in that function, will it run elevated?</td><td class="time"><a href="#t2019-07-23T11:19:10" class="time">11:19</a></td></tr>
<tr id="t2019-07-23T11:20:55"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">no</td><td class="time"><a href="#t2019-07-23T11:20:55" class="time">11:20</a></td></tr>
<tr id="t2019-07-23T11:21:13"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">it will have root rights for the content of that image, but not for the machine.</td><td class="time"><a href="#t2019-07-23T11:21:13" class="time">11:21</a></td></tr>
<tr id="t2019-07-23T11:21:28"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">my advice is: try to describe what you are *ACTUALLY* trying to do</td><td class="time"><a href="#t2019-07-23T11:21:28" class="time">11:21</a></td></tr>
<tr id="t2019-07-23T11:21:51"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">kpartx sounds totally like the Y-part of a XY-question (feel free to look that up)</td><td class="time"><a href="#t2019-07-23T11:21:51" class="time">11:21</a></td></tr>
<tr id="t2019-07-23T11:22:56"><th class="nick" style="background: #4b904b">evaluate</th><td class="text" style="color: #4b904b">LetoThe2nd, indeed. What I am actually trying to do is install grub-pc as the bootloader.</td><td class="time"><a href="#t2019-07-23T11:22:56" class="time">11:22</a></td></tr>
<tr id="t2019-07-23T11:23:38"><th class="nick" style="background: #4b904b">evaluate</th><td class="text" style="color: #4b904b">I tried replicating what grub-install does, to write the data directly to the disk image, but was unsuccessful, so now I am trying to mount the disk and run grub-install in it.</td><td class="time"><a href="#t2019-07-23T11:23:38" class="time">11:23</a></td></tr>
<tr id="t2019-07-23T11:28:42"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">sounds like something wic should do.</td><td class="time"><a href="#t2019-07-23T11:28:42" class="time">11:28</a></td></tr>
<tr id="t2019-07-23T11:31:11"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">here's the grub-efi example: <a href="https://git.yoctoproject.org/cgit.cgi/poky/tree/scripts/lib/wic/plugins/source/bootimg-efi.py" rel="nofollow">https://git.yoctoproject.org/cgit.cgi/poky/tree/scripts/lib/wic/plugins/source/bootimg-efi.py</a></td><td class="time"><a href="#t2019-07-23T11:31:11" class="time">11:31</a></td></tr>
<tr id="t2019-07-23T11:32:12"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">and the corresponding wks file <a href="https://git.yoctoproject.org/cgit.cgi/poky/tree/scripts/lib/wic/canned-wks/mkefidisk.wks" rel="nofollow">https://git.yoctoproject.org/cgit.cgi/poky/tree/scripts/lib/wic/canned-wks/mkefidisk.wks</a></td><td class="time"><a href="#t2019-07-23T11:32:12" class="time">11:32</a></td></tr>
<tr id="t2019-07-23T11:34:19"><th class="nick" style="background: #42427e">yocti</th><td class="text" style="color: #42427e">New news from stackoverflow: How to change the gcc version in Yocto Sumo? &lt;<a href="https://stackoverflow.com/questions/57162931/how-to-change-the-gcc-version-in-yocto-sumo&gt;" rel="nofollow">https://stackoverflow.com/questions/57162931/how-to-change-the-gcc-version-in-yocto-sumo&gt;</a></td><td class="time"><a href="#t2019-07-23T11:34:19" class="time">11:34</a></td></tr>
<tr id="t2019-07-23T11:36:04"><th class="nick" style="background: #4b904b">evaluate</th><td class="text" style="color: #4b904b">LetoThe2nd, yeah, I already saw the efi one, but the thing is that grub-pc requires some weird stuff (an extra partition and also it needs to write into the empty sector in the MBR and) so it's completely different from what the efi script does.</td><td class="time"><a href="#t2019-07-23T11:36:04" class="time">11:36</a></td></tr>
<tr id="t2019-07-23T11:37:00"><th class="nick" style="background: #4b904b">evaluate</th><td class="text" style="color: #4b904b">It's more similar to the syslinux one (which writes the data using dd), but unfortunately there's not a lot of documentation on how to write grub to the disk using dd, since there is the grub-install utility which does everything for yo.</td><td class="time"><a href="#t2019-07-23T11:37:00" class="time">11:37</a></td></tr>
<tr id="t2019-07-23T11:37:03"><th class="nick" style="background: #4b904b">evaluate</th><td class="text" style="color: #4b904b">you*</td><td class="time"><a href="#t2019-07-23T11:37:03" class="time">11:37</a></td></tr>
<tr id="t2019-07-23T11:37:53"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">evaluate: then you'll have to dig through the syslinux and efi examples and distill out your needed bits and pieces. going the kpartx route is definitely wrong.</td><td class="time"><a href="#t2019-07-23T11:37:53" class="time">11:37</a></td></tr>
<tr id="t2019-07-23T11:39:04"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">maybe then grub-install utility can by itself do its magic on some binary instead of raw blocks, i don't know.</td><td class="time"><a href="#t2019-07-23T11:39:04" class="time">11:39</a></td></tr>
<tr id="t2019-07-23T11:39:23"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">but anything that requires root on the build host is a total red flag.</td><td class="time"><a href="#t2019-07-23T11:39:23" class="time">11:39</a></td></tr>
<tr id="t2019-07-23T11:40:45"><th class="nick" style="background: #4b904b">evaluate</th><td class="text" style="color: #4b904b">LetoThe2nd, the information gap for this is not in yocto, it's in grub. Like I said, I theoretically know what needs to be done (write the stage1 into MBR and stage2 into a separate BIOS boot partition) but there is some more stuff that's needed (e.g. stage1 needs to contain the pointer to stage2).</td><td class="time"><a href="#t2019-07-23T11:40:45" class="time">11:40</a></td></tr>
<tr id="t2019-07-23T11:42:04"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">evaluate: i see what you mean, really. but it doesn't change the context and restrictions of using root.</td><td class="time"><a href="#t2019-07-23T11:42:04" class="time">11:42</a></td></tr>
<tr id="t2019-07-23T11:43:49"><th class="nick" style="background: #854685">jmiehe</th><td class="text" style="color: #854685">If I want to .bbappend say nginx, does it make any difference if i do that in recipes-httpd/nginx/nginx.bbappend or in recipes-foo/bar/nginx.bbappend? also, what's the difference between nginx.bbappend and nginx_%.bbappend?</td><td class="time"><a href="#t2019-07-23T11:43:49" class="time">11:43</a></td></tr>
<tr id="t2019-07-23T11:52:32"><th class="nick" style="background: #854685">jmiehe</th><td class="text" style="color: #854685">[btw] I fixed my double file installation by installing into the systemd override directory at /etc/systemd</td><td class="time"><a href="#t2019-07-23T11:52:32" class="time">11:52</a></td></tr>
<tr id="t2019-07-23T12:21:38"><th class="nick" style="background: #4d4d93">freyr69</th><td class="text" style="color: #4d4d93">If is need a custom wks, am I obliged to create a `machine` conf or there is a more simple way?</td><td class="time"><a href="#t2019-07-23T12:21:38" class="time">12:21</a></td></tr>
<tr id="t2019-07-23T12:21:47"><th class="nick" style="background: #4d4d93">freyr69</th><td class="text" style="color: #4d4d93">Like setting a variable?</td><td class="time"><a href="#t2019-07-23T12:21:47" class="time">12:21</a></td></tr>
<tr id="t2019-07-23T12:37:41"><th class="nick" style="background: #4d4d93">freyr69</th><td class="text" style="color: #4d4d93">Is there any way to inherit machine from other layers changing a couple of vars?</td><td class="time"><a href="#t2019-07-23T12:37:41" class="time">12:37</a></td></tr>
<tr id="t2019-07-23T13:18:27"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">a machine config can happily include another machine conf if it just wants to modify it slightly</td><td class="time"><a href="#t2019-07-23T13:18:27" class="time">13:18</a></td></tr>
<tr id="t2019-07-23T13:21:44"><th class="nick" style="background: #97974f">noisezone</th><td class="text" style="color: #97974f">hi</td><td class="time"><a href="#t2019-07-23T13:21:44" class="time">13:21</a></td></tr>
<tr id="t2019-07-23T13:23:37"><th class="nick" style="background: #4d4d93">freyr69</th><td class="text" style="color: #4d4d93">rburton: I've managed to simple set the wks file for wic img, and it works (since machine conf uses ?=), though I can't figure it out how to set partitioning for hddimg as well.</td><td class="time"><a href="#t2019-07-23T13:23:37" class="time">13:23</a></td></tr>
<tr id="t2019-07-23T13:24:08"><th class="nick" style="background: #4d4d93">freyr69</th><td class="text" style="color: #4d4d93">Should I set wks for hddimg as well somehow?</td><td class="time"><a href="#t2019-07-23T13:24:08" class="time">13:24</a></td></tr>
<tr id="t2019-07-23T13:30:37"><th class="nick" style="background: #4d4d93">freyr69</th><td class="text" style="color: #4d4d93">Ah, I see, it's in classes/image-live</td><td class="time"><a href="#t2019-07-23T13:30:37" class="time">13:30</a></td></tr>
<tr id="t2019-07-23T14:07:49"><th class="nick" style="background: #9b519b">nabokov</th><td class="text" style="color: #9b519b">I know it is possible to apply a custom patch in a BitBake recipe,,, now can I simply revert a commit instead of making patches ?</td><td class="time"><a href="#t2019-07-23T14:07:49" class="time">14:07</a></td></tr>
<tr id="t2019-07-23T14:18:26"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">RP: Posted a patch with some SQL optimizations for the hash server... I don't think multithreading the server should be necessary.</td><td class="time"><a href="#t2019-07-23T14:18:26" class="time">14:18</a></td></tr>
<tr id="t2019-07-23T14:19:34"><th class="nick" style="background: #a25555">RP</th><td class="text" style="color: #a25555">JPEW: ok, cool. Will have to take a look</td><td class="time"><a href="#t2019-07-23T14:19:34" class="time">14:19</a></td></tr>
<tr id="t2019-07-23T14:20:54"><th class="nick" style="background: #a25555">RP</th><td class="text" style="color: #a25555">JPEW: patch looks good, thanks</td><td class="time"><a href="#t2019-07-23T14:20:54" class="time">14:20</a></td></tr>
<tr id="t2019-07-23T14:21:31"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">Hopefully that will eliminate the linear search and drastically cut down the millions of execute ops :)</td><td class="time"><a href="#t2019-07-23T14:21:31" class="time">14:21</a></td></tr>
<tr id="t2019-07-23T14:23:42"><th class="nick" style="background: #a25555">RP</th><td class="text" style="color: #a25555">JPEW: I've a few other things I need to sort then I'll get back to figuring out how it managed that crazy number</td><td class="time"><a href="#t2019-07-23T14:23:42" class="time">14:23</a></td></tr>
<tr id="t2019-07-23T14:24:27"><th class="nick" style="background: #a25555">RP</th><td class="text" style="color: #a25555">(the ops seem to be in cooker rather than the hashserv but fixing that will help the connection issues)</td><td class="time"><a href="#t2019-07-23T14:24:27" class="time">14:24</a></td></tr>
<tr id="t2019-07-23T14:25:52"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">Hmm, ya. That could be the lookup in the cached persistDB then... but that would be strange because it also has an index on the key.</td><td class="time"><a href="#t2019-07-23T14:25:52" class="time">14:25</a></td></tr>
<tr id="t2019-07-23T14:26:40"><th class="nick" style="background: #a25555">RP</th><td class="text" style="color: #a25555">JPEW: its persistDB. The best thing I can do is remove it</td><td class="time"><a href="#t2019-07-23T14:26:40" class="time">14:26</a></td></tr>
<tr id="t2019-07-23T14:27:07"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">True</td><td class="time"><a href="#t2019-07-23T14:27:07" class="time">14:27</a></td></tr>
<tr id="t2019-07-23T14:59:39"><th class="nick" style="background: #57a657">tlwoerner_</th><td class="text" style="color: #57a657">my google calendar only has invalid meeting IDs :-(</td><td class="time"><a href="#t2019-07-23T14:59:39" class="time">14:59</a></td></tr>
<tr id="t2019-07-23T14:59:44"><th class="nick" style="background: #57a657">tlwoerner_</th><td class="text" style="color: #57a657">(zoom meetings)</td><td class="time"><a href="#t2019-07-23T14:59:44" class="time">14:59</a></td></tr>
<tr id="t2019-07-23T15:00:44"><th class="nick" style="background: #5959a9">dreyna_</th><td class="text" style="color: #5959a9">yes, what it the meeting number?</td><td class="time"><a href="#t2019-07-23T15:00:44" class="time">15:00</a></td></tr>
<tr id="t2019-07-23T15:01:15"><th class="nick" style="background: #57a657">tlwoerner_</th><td class="text" style="color: #57a657">990 892 712</td><td class="time"><a href="#t2019-07-23T15:01:15" class="time">15:01</a></td></tr>
<tr id="t2019-07-23T15:01:46"><td class="nickchange" colspan="2">*** tlwoerner_ is now known as tlwoerner</td><td><a href="#t2019-07-23T15:01:46" class="time">15:01</a></td></tr>
<tr id="t2019-07-23T15:02:09"><th class="nick" style="background: #a25555">RP</th><td class="text" style="color: #a25555"><a href="https://zoom.us/j/990892712" rel="nofollow">https://zoom.us/j/990892712</a></td><td class="time"><a href="#t2019-07-23T15:02:09" class="time">15:02</a></td></tr>
<tr id="t2019-07-23T15:05:28"><th class="nick" style="background: #57a657">tlwoerner</th><td class="text" style="color: #57a657">can anyone else hear RP?</td><td class="time"><a href="#t2019-07-23T15:05:28" class="time">15:05</a></td></tr>
<tr id="t2019-07-23T15:17:09"><th class="nick" style="background: #a25555">RP</th><td class="text" style="color: #a25555">tlwoerner: people seem to be able to</td><td class="time"><a href="#t2019-07-23T15:17:09" class="time">15:17</a></td></tr>
<tr id="t2019-07-23T15:33:07"><th class="nick" style="background: #4d4d93">freyr69</th><td class="text" style="color: #4d4d93">How to set the partition table for the default live installer?</td><td class="time"><a href="#t2019-07-23T15:33:07" class="time">15:33</a></td></tr>
<tr id="t2019-07-23T15:57:52"><th class="nick" style="background: #4d4d93">freyr69</th><td class="text" style="color: #4d4d93">Ah, it's hardcoded in install script</td><td class="time"><a href="#t2019-07-23T15:57:52" class="time">15:57</a></td></tr>
<tr id="t2019-07-23T17:39:17"><th class="nick" style="background: #adad5b">zbooth</th><td class="text" style="color: #adad5b">I'm looking at switching our internal bsp to use yocto style kernel meta data. However, I'd like to use an in-tree defconfig as the base. Setting KBUILD_DEFCONFIG appends the defconfig to the end of the merge list instead of the beginning, any suggestions?</td><td class="time"><a href="#t2019-07-23T17:39:17" class="time">17:39</a></td></tr>
<tr id="t2019-07-23T17:55:22"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">zeddii: ^</td><td class="time"><a href="#t2019-07-23T17:55:22" class="time">17:55</a></td></tr>
<tr id="t2019-07-23T17:58:34"><th class="nick" style="background: #adad5b">zbooth</th><td class="text" style="color: #adad5b">More generally, is there a way to reference in-tree defconfig/fragments from an .scc file.&nbsp;&nbsp;KBUILD_DEFCONFIG was what I found to try based on the mega manual.</td><td class="time"><a href="#t2019-07-23T17:58:34" class="time">17:58</a></td></tr>
<tr id="t2019-07-23T18:05:21"><th class="nick" style="background: #42427e">yocti</th><td class="text" style="color: #42427e">New news from stackoverflow: Overwriting Yocto Classes through meta-layer &lt;<a href="https://stackoverflow.com/questions/51002891/overwriting-yocto-classes-through-meta-layer&gt;" rel="nofollow">https://stackoverflow.com/questions/51002891/overwriting-yocto-classes-through-meta-layer&gt;</a></td><td class="time"><a href="#t2019-07-23T18:05:21" class="time">18:05</a></td></tr>
<tr id="t2019-07-23T18:17:43"><th class="nick" style="background: #407a40">puff</th><td class="text" style="color: #407a40">Good afternoon. Anyone familiar with the innards of iwlwifi?&nbsp;&nbsp;I'm trying to debug an error with an intel aero drone.&nbsp;&nbsp;iwlwifi keeps crashing.&nbsp;&nbsp;I'm not looking for a fix so much as a better idea of what is going wrong, for the inevitable arguments with intel customersupport.</td><td class="time"><a href="#t2019-07-23T18:17:43" class="time">18:17</a></td></tr>
<tr id="t2019-07-23T19:52:51"><th class="nick" style="background: #b15db1">weltling</th><td class="text" style="color: #b15db1">what is the analogue of cgroupfs-mount in poky?</td><td class="time"><a href="#t2019-07-23T19:52:51" class="time">19:52</a></td></tr>
<tr id="t2019-07-23T20:19:04"><th class="nick" style="background: #a25555">RP</th><td class="text" style="color: #a25555">JPEW: found the problem, a stupid/lazy bit of code. Brute forcing the taskhash updates was a bad idea, we need to do it carefully</td><td class="time"><a href="#t2019-07-23T20:19:04" class="time">20:19</a></td></tr>
<tr id="t2019-07-23T20:19:21"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">RP: In the runqueue?</td><td class="time"><a href="#t2019-07-23T20:19:21" class="time">20:19</a></td></tr>
<tr id="t2019-07-23T20:19:43"><th class="nick" style="background: #a25555">RP</th><td class="text" style="color: #a25555">JPEW: yes. 41k calls to get_unihash rather than 1.7 million now :)</td><td class="time"><a href="#t2019-07-23T20:19:43" class="time">20:19</a></td></tr>
<tr id="t2019-07-23T20:19:57"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">Ah, ya. That will do it :)</td><td class="time"><a href="#t2019-07-23T20:19:57" class="time">20:19</a></td></tr>
<tr id="t2019-07-23T20:20:46"><th class="nick" style="background: #a25555">RP</th><td class="text" style="color: #a25555">JPEW: fast enough I can't time it now :)</td><td class="time"><a href="#t2019-07-23T20:20:46" class="time">20:20</a></td></tr>
<tr id="t2019-07-23T20:21:34"><th class="nick" style="background: #a25555">RP</th><td class="text" style="color: #a25555">profile says a few seconds</td><td class="time"><a href="#t2019-07-23T20:21:34" class="time">20:21</a></td></tr>
<tr id="t2019-07-23T20:35:42"><th class="nick" style="background: #42427e">yocti</th><td class="text" style="color: #42427e">New news from stackoverflow: Find Codeaurora oe installation manifest &lt;<a href="https://stackoverflow.com/questions/57171719/find-codeaurora-oe-installation-manifest&gt;" rel="nofollow">https://stackoverflow.com/questions/57171719/find-codeaurora-oe-installation-manifest&gt;</a></td><td class="time"><a href="#t2019-07-23T20:35:42" class="time">20:35</a></td></tr>
<tr id="t2019-07-23T21:03:41"><th class="nick" style="background: #a25555">RP</th><td class="text" style="color: #a25555">JPEW: <a href="http://git.yoctoproject.org/cgit.cgi/poky-contrib/log/?h=rpurdie/t222" rel="nofollow">http://git.yoctoproject.org/cgit.cgi/poky-contrib/log/?h=rpurdie/t222</a> top four patches are the work in progress which now works FWIW</td><td class="time"><a href="#t2019-07-23T21:03:41" class="time">21:03</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2019-07-22.log.html">&#171; Monday, 2019-07-22</a> <a href="index.html">Index</a> <a href="%23yocto.2019-07-24.log.html">Wednesday, 2019-07-24 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.11.0 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="http://mg.pov.lt/irclog2html/">mg.pov.lt</a>!</p>
</div>
</body>
</html>
