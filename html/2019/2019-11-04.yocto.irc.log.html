<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Monday, 2019-11-04</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.11.0 by Marius Gedminas" />
  <meta name="version" content="2.11.0 - 2012-07-30" />
</head>
<body>
<h1>Monday, 2019-11-04</h1>
<div class="navigation"> <a href="%23yocto.2019-11-03.log.html">&#171; Sunday, 2019-11-03</a> <a href="index.html">Index</a> <a href="%23yocto.2019-11-05.log.html">Tuesday, 2019-11-05 &#187;</a> </div>
<table class="irclog">
<tr id="t2019-11-04T08:00:47"><th class="nick" style="background: #407a40">mckoan</th><td class="text" style="color: #407a40">good morning</td><td class="time"><a href="#t2019-11-04T08:00:47" class="time">08:00</a></td></tr>
<tr id="t2019-11-04T08:02:06"><th class="nick" style="background: #42427e">frosteyes</th><td class="text" style="color: #42427e">mckoan: morning</td><td class="time"><a href="#t2019-11-04T08:02:06" class="time">08:02</a></td></tr>
<tr id="t2019-11-04T08:23:19"><th class="nick" style="background: #818144">alessioigor</th><td class="text" style="color: #818144">good morning</td><td class="time"><a href="#t2019-11-04T08:23:19" class="time">08:23</a></td></tr>
<tr id="t2019-11-04T08:23:45"><th class="nick" style="background: #854685">kayterina</th><td class="text" style="color: #854685">hello hello</td><td class="time"><a href="#t2019-11-04T08:23:45" class="time">08:23</a></td></tr>
<tr id="t2019-11-04T09:14:06"><td class="nickchange" colspan="2">*** camus is now known as kaspter</td><td><a href="#t2019-11-04T09:14:06" class="time">09:14</a></td></tr>
<tr id="t2019-11-04T11:13:30"><th class="nick" style="background: #488888">litb</th><td class="text" style="color: #488888">hello folks</td><td class="time"><a href="#t2019-11-04T11:13:30" class="time">11:13</a></td></tr>
<tr id="t2019-11-04T11:13:44"><th class="nick" style="background: #488888">litb</th><td class="text" style="color: #488888">what is the meaning of ?= together with&nbsp;&nbsp;override statements?</td><td class="time"><a href="#t2019-11-04T11:13:44" class="time">11:13</a></td></tr>
<tr id="t2019-11-04T11:13:53"><th class="nick" style="background: #488888">litb</th><td class="text" style="color: #488888">like&nbsp;&nbsp;FOO_myoverride ?= baz</td><td class="time"><a href="#t2019-11-04T11:13:53" class="time">11:13</a></td></tr>
<tr id="t2019-11-04T11:14:09"><th class="nick" style="background: #488888">litb</th><td class="text" style="color: #488888">will it be like "if Foo is not assigned yet, then if 'myoverride' is active, assign baz" ?</td><td class="time"><a href="#t2019-11-04T11:14:09" class="time">11:14</a></td></tr>
<tr id="t2019-11-04T11:14:39"><th class="nick" style="background: #8c4a4a">mcfrisk</th><td class="text" style="color: #8c4a4a">litb: yes, allows recipe, appends and classes to override variables</td><td class="time"><a href="#t2019-11-04T11:14:39" class="time">11:14</a></td></tr>
<tr id="t2019-11-04T11:15:04"><th class="nick" style="background: #8c4a4a">mcfrisk</th><td class="text" style="color: #8c4a4a"><a href="https://www.yoctoproject.org/docs/latest/bitbake-user-manual/bitbake-user-manual.html#setting-a-default-value" rel="nofollow">https://www.yoctoproject.org/docs/latest/bitbake-user-manual/bitbake-user-manual.html#setting-a-default-value</a></td><td class="time"><a href="#t2019-11-04T11:15:04" class="time">11:15</a></td></tr>
<tr id="t2019-11-04T11:25:41"><th class="nick" style="background: #488888">litb</th><td class="text" style="color: #488888">mcfrisk, thanks!</td><td class="time"><a href="#t2019-11-04T11:25:41" class="time">11:25</a></td></tr>
<tr id="t2019-11-04T11:26:06"><th class="nick" style="background: #488888">litb</th><td class="text" style="color: #488888">what's the equivalent of a packagegroup for buildtime dependency grouping?</td><td class="time"><a href="#t2019-11-04T11:26:06" class="time">11:26</a></td></tr>
<tr id="t2019-11-04T11:27:40"><th class="nick" style="background: #488888">litb</th><td class="text" style="color: #488888">i have a "packagegroup-graphics.bb" that groups required libraries for the GUI. now I need to group build time dependencies. I would think packagegroup should be usable aswell, but I'm not sure</td><td class="time"><a href="#t2019-11-04T11:27:40" class="time">11:27</a></td></tr>
<tr id="t2019-11-04T11:30:08"><th class="nick" style="background: #4b904b">yocti</th><td class="text" style="color: #4b904b">New news from stackoverflow: In poky-tiny, why adding openssh also adds bash? &lt;<a href="https://stackoverflow.com/questions/58692461/in-poky-tiny-why-adding-openssh-also-adds-bash&gt;" rel="nofollow">https://stackoverflow.com/questions/58692461/in-poky-tiny-why-adding-openssh-also-adds-bash&gt;</a></td><td class="time"><a href="#t2019-11-04T11:30:08" class="time">11:30</a></td></tr>
<tr id="t2019-11-04T11:34:03"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">litb: ?= with overrides is meaningless</td><td class="time"><a href="#t2019-11-04T11:34:03" class="time">11:34</a></td></tr>
<tr id="t2019-11-04T11:34:31"><th class="nick" style="background: #488888">litb</th><td class="text" style="color: #488888">rburton, oh</td><td class="time"><a href="#t2019-11-04T11:34:31" class="time">11:34</a></td></tr>
<tr id="t2019-11-04T11:35:25"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">at least, thats my understanding of how overrides are parsed.</td><td class="time"><a href="#t2019-11-04T11:35:25" class="time">11:35</a></td></tr>
<tr id="t2019-11-04T11:35:27"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">RP: ^</td><td class="time"><a href="#t2019-11-04T11:35:27" class="time">11:35</a></td></tr>
<tr id="t2019-11-04T11:35:47"><th class="nick" style="background: #488888">litb</th><td class="text" style="color: #488888">rburton, I found instances in the manual that combine them both</td><td class="time"><a href="#t2019-11-04T11:35:47" class="time">11:35</a></td></tr>
<tr id="t2019-11-04T11:36:08"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">lets get RPs statement then we can either fix the docs or i've learnt something new already</td><td class="time"><a href="#t2019-11-04T11:36:08" class="time">11:36</a></td></tr>
<tr id="t2019-11-04T11:36:34"><th class="nick" style="background: #488888">litb</th><td class="text" style="color: #488888">SRCREV_pn-matchbox-panel-2 ?= "${AUTOREV}"</td><td class="time"><a href="#t2019-11-04T11:36:34" class="time">11:36</a></td></tr>
<tr id="t2019-11-04T11:37:24"><td class="action" colspan="2">* rburton tests</td><td><a href="#t2019-11-04T11:37:24" class="time">11:37</a></td></tr>
<tr id="t2019-11-04T11:37:48"><th class="nick" style="background: #488888">litb</th><td class="text" style="color: #488888">ah at least that thing with SRCREV makes intuitive sense!</td><td class="time"><a href="#t2019-11-04T11:37:48" class="time">11:37</a></td></tr>
<tr id="t2019-11-04T11:38:10"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">right so i did PV_pn-m4 ?= "1.2.3"</td><td class="time"><a href="#t2019-11-04T11:38:10" class="time">11:38</a></td></tr>
<tr id="t2019-11-04T11:38:16"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">where bitbake.conf has PV=</td><td class="time"><a href="#t2019-11-04T11:38:16" class="time">11:38</a></td></tr>
<tr id="t2019-11-04T11:38:38"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">and the override took</td><td class="time"><a href="#t2019-11-04T11:38:38" class="time">11:38</a></td></tr>
<tr id="t2019-11-04T11:39:16"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">which you'd expect, no value already to it i assigned</td><td class="time"><a href="#t2019-11-04T11:39:16" class="time">11:39</a></td></tr>
<tr id="t2019-11-04T11:39:16"><th class="nick" style="background: #488888">litb</th><td class="text" style="color: #488888">at first I was confused because it could also check whether there was already an override-assignment with that exact override flags, rather than only checking for the "base" variable</td><td class="time"><a href="#t2019-11-04T11:39:16" class="time">11:39</a></td></tr>
<tr id="t2019-11-04T11:39:37"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">ok looks like it does what you'd expect, but that behaviour isn't really useful?</td><td class="time"><a href="#t2019-11-04T11:39:37" class="time">11:39</a></td></tr>
<tr id="t2019-11-04T11:40:33"><th class="nick" style="background: #488888">litb</th><td class="text" style="color: #488888">makes sense to me now</td><td class="time"><a href="#t2019-11-04T11:40:33" class="time">11:40</a></td></tr>
<tr id="t2019-11-04T11:40:37"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">in that you can't have conditional overrides.&nbsp;&nbsp;the override *will* happen</td><td class="time"><a href="#t2019-11-04T11:40:37" class="time">11:40</a></td></tr>
<tr id="t2019-11-04T11:40:58"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">if you have multiple overrides set with ?= then they do chain in that the second ?= doesn't happen</td><td class="time"><a href="#t2019-11-04T11:40:58" class="time">11:40</a></td></tr>
<tr id="t2019-11-04T11:41:08"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">i guess that could be useful if you're layering pieces together</td><td class="time"><a href="#t2019-11-04T11:41:08" class="time">11:41</a></td></tr>
<tr id="t2019-11-04T11:42:08"><th class="nick" style="background: #488888">litb</th><td class="text" style="color: #488888">oh I see now. it checks for a previous assignment of the base-variable combined with the exact combination of overrides?</td><td class="time"><a href="#t2019-11-04T11:42:08" class="time">11:42</a></td></tr>
<tr id="t2019-11-04T11:42:22"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">no</td><td class="time"><a href="#t2019-11-04T11:42:22" class="time">11:42</a></td></tr>
<tr id="t2019-11-04T11:42:38"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">bitbake.conf does PV={take version from filename}</td><td class="time"><a href="#t2019-11-04T11:42:38" class="time">11:42</a></td></tr>
<tr id="t2019-11-04T11:42:55"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">if you do PV_override ?= "2" then if the override is triggered, that happens.</td><td class="time"><a href="#t2019-11-04T11:42:55" class="time">11:42</a></td></tr>
<tr id="t2019-11-04T11:43:07"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">another PV_override ?= "3" doesn't override 2 to 3</td><td class="time"><a href="#t2019-11-04T11:43:07" class="time">11:43</a></td></tr>
<tr id="t2019-11-04T11:43:36"><th class="nick" style="background: #488888">litb</th><td class="text" style="color: #488888">with potentially a different override even</td><td class="time"><a href="#t2019-11-04T11:43:36" class="time">11:43</a></td></tr>
<tr id="t2019-11-04T11:44:32"><th class="nick" style="background: #488888">litb</th><td class="text" style="color: #488888">not sure whether I expect&nbsp;&nbsp;PV=...&nbsp;&nbsp; PV_override ?= ,,,&nbsp;&nbsp; to override the value set with "=". I guess I wouldn't</td><td class="time"><a href="#t2019-11-04T11:44:32" class="time">11:44</a></td></tr>
<tr id="t2019-11-04T11:44:52"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">the entire point of an override is that it overrides the value</td><td class="time"><a href="#t2019-11-04T11:44:52" class="time">11:44</a></td></tr>
<tr id="t2019-11-04T11:45:34"><th class="nick" style="background: #488888">litb</th><td class="text" style="color: #488888">hm, I see</td><td class="time"><a href="#t2019-11-04T11:45:34" class="time">11:45</a></td></tr>
<tr id="t2019-11-04T11:54:24"><th class="nick" style="background: #8c4a4a">mcfrisk</th><td class="text" style="color: #8c4a4a">After all the BSP bashing in Lyon, nice to be back at $work and start bashing BSP layer crap. BBMASK += "meta-*bsp*"</td><td class="time"><a href="#t2019-11-04T11:54:24" class="time">11:54</a></td></tr>
<tr id="t2019-11-04T11:55:00"><th class="nick" style="background: #97974f">letothe2nd</th><td class="text" style="color: #97974f">mcfrisk: :)</td><td class="time"><a href="#t2019-11-04T11:55:00" class="time">11:55</a></td></tr>
<tr id="t2019-11-04T11:55:30"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">rburton: its not exactly useful</td><td class="time"><a href="#t2019-11-04T11:55:30" class="time">11:55</a></td></tr>
<tr id="t2019-11-04T12:13:21"><th class="nick" style="background: #97974f">letothe2nd</th><td class="text" style="color: #97974f">mcfrisk: but, there certainly was no bashing. just very polite, gentle reminders. with a sledge hammer.</td><td class="time"><a href="#t2019-11-04T12:13:21" class="time">12:13</a></td></tr>
<tr id="t2019-11-04T12:51:38"><th class="nick" style="background: #488888">litb</th><td class="text" style="color: #488888">my package has a config "debug=0|1", "context=release|develop" and a GUI can be included or not (which will add "gui" at compile time and "install-gui" at install time).</td><td class="time"><a href="#t2019-11-04T12:51:38" class="time">12:51</a></td></tr>
<tr id="t2019-11-04T12:53:23"><th class="nick" style="background: #488888">litb</th><td class="text" style="color: #488888">is it a bad idea to "abuse" PACKAGECONFIG for this? the individual groups will then be empty like "PACKAGECONFIG[debug] = ",,". individual variables will query PACKAGECONFIG, like&nbsp;&nbsp;&nbsp;&nbsp;GUI_INSTALLFLAG = "${@oe.utils.contains('PACKAGECONFIG', 'gui', 'install-gui', '')}"</td><td class="time"><a href="#t2019-11-04T12:53:23" class="time">12:53</a></td></tr>
<tr id="t2019-11-04T12:54:17"><th class="nick" style="background: #488888">litb</th><td class="text" style="color: #488888">and they will be passed in do_compile and do_install such as&nbsp;&nbsp;&nbsp;&nbsp;"./buildscript&nbsp;&nbsp;${GUI_INSTALLFLAG} dest=${D}"&nbsp;&nbsp;in do_install</td><td class="time"><a href="#t2019-11-04T12:54:17" class="time">12:54</a></td></tr>
<tr id="t2019-11-04T13:01:47"><th class="nick" style="background: #97974f">letothe2nd</th><td class="text" style="color: #97974f">litb: its certainly a way of getting it done. one would probably not do this in a public upstream layer but if it suits your usecase, why not</td><td class="time"><a href="#t2019-11-04T13:01:47" class="time">13:01</a></td></tr>
<tr id="t2019-11-04T13:03:15"><th class="nick" style="background: #97974f">letothe2nd</th><td class="text" style="color: #97974f">litb: i'd add that it depends a bit on if you have more packages behaving like that, and if you need to be able to tune them independently. otherwise it might be simpler to add a distro flag like "mycompany-debugtweaks"</td><td class="time"><a href="#t2019-11-04T13:03:15" class="time">13:03</a></td></tr>
<tr id="t2019-11-04T13:03:33"><th class="nick" style="background: #488888">litb</th><td class="text" style="color: #488888">hm, I see.</td><td class="time"><a href="#t2019-11-04T13:03:33" class="time">13:03</a></td></tr>
<tr id="t2019-11-04T13:03:51"><th class="nick" style="background: #97974f">letothe2nd</th><td class="text" style="color: #97974f">so, "it depends" (TM)</td><td class="time"><a href="#t2019-11-04T13:03:51" class="time">13:03</a></td></tr>
<tr id="t2019-11-04T13:07:59"><td class="action" colspan="2">* mcfrisk rants: why would a BSP layer set GCCVERSION?!</td><td><a href="#t2019-11-04T13:07:59" class="time">13:07</a></td></tr>
<tr id="t2019-11-04T13:09:10"><td class="action" colspan="2">* mcfrisk rants: it only results in a huge list of: NOTE: preferred version 8.2% of gcc-runtime not available (for item gcc-runtime)</td><td><a href="#t2019-11-04T13:09:10" class="time">13:09</a></td></tr>
<tr id="t2019-11-04T13:09:27"><th class="nick" style="background: #97974f">letothe2nd</th><td class="text" style="color: #97974f">mcfrisk: because $VENDORKERNEL or $VERNDORBOOTLOADER need $OLDGCC to even build</td><td class="time"><a href="#t2019-11-04T13:09:27" class="time">13:09</a></td></tr>
<tr id="t2019-11-04T13:09:43"><th class="nick" style="background: #97974f">letothe2nd</th><td class="text" style="color: #97974f">a true classic</td><td class="time"><a href="#t2019-11-04T13:09:43" class="time">13:09</a></td></tr>
<tr id="t2019-11-04T13:10:19"><th class="nick" style="background: #8c4a4a">mcfrisk</th><td class="text" style="color: #8c4a4a">except that they dont :)</td><td class="time"><a href="#t2019-11-04T13:10:19" class="time">13:10</a></td></tr>
<tr id="t2019-11-04T13:10:51"><th class="nick" style="background: #97974f">letothe2nd</th><td class="text" style="color: #97974f">there's always the possibility that its just a crappy bsp</td><td class="time"><a href="#t2019-11-04T13:10:51" class="time">13:10</a></td></tr>
<tr id="t2019-11-04T13:11:45"><th class="nick" style="background: #8c4a4a">mcfrisk</th><td class="text" style="color: #8c4a4a">and I need to explain why mixing clang and gcc for kernel and external kernel modules is "a bad idea (TM)"</td><td class="time"><a href="#t2019-11-04T13:11:45" class="time">13:11</a></td></tr>
<tr id="t2019-11-04T13:12:04"><th class="nick" style="background: #97974f">letothe2nd</th><td class="text" style="color: #97974f">(TM)</td><td class="time"><a href="#t2019-11-04T13:12:04" class="time">13:12</a></td></tr>
<tr id="t2019-11-04T13:13:15"><th class="nick" style="background: #539e9e">nayfe</th><td class="text" style="color: #539e9e">Hi any meta-java maintainer here or news about Richard Leitner? or maybe openjre is not embedded jre choice now? ;)</td><td class="time"><a href="#t2019-11-04T13:13:15" class="time">13:13</a></td></tr>
<tr id="t2019-11-04T13:14:02"><th class="nick" style="background: #a25555">qschulz</th><td class="text" style="color: #a25555">mcfrisk: can I ask how this clang+gcc mixing is handled in your Yocto? I'm interested in having IRL examples on how people implemented this to find the best way to do it</td><td class="time"><a href="#t2019-11-04T13:14:02" class="time">13:14</a></td></tr>
<tr id="t2019-11-04T13:14:28"><th class="nick" style="background: #97974f">letothe2nd</th><td class="text" style="color: #97974f">nayfe: did you reach out for him by mail? thats usually his favorite way of interaction, IIRC</td><td class="time"><a href="#t2019-11-04T13:14:28" class="time">13:14</a></td></tr>
<tr id="t2019-11-04T13:16:09"><th class="nick" style="background: #8c4a4a">mcfrisk</th><td class="text" style="color: #8c4a4a">qschulz: inherit clang in recipes, meta-clang as layers. switch from default toolchain gcc to clang using that inherit.</td><td class="time"><a href="#t2019-11-04T13:16:09" class="time">13:16</a></td></tr>
<tr id="t2019-11-04T13:18:01"><th class="nick" style="background: #8c4a4a">mcfrisk</th><td class="text" style="color: #8c4a4a">oh, TOOLCHAIN = "clang" is needed too in the recipes.</td><td class="time"><a href="#t2019-11-04T13:18:01" class="time">13:18</a></td></tr>
<tr id="t2019-11-04T13:19:20"><th class="nick" style="background: #539e9e">nayfe</th><td class="text" style="color: #539e9e">letothe2nd&gt; mails on openembedded-devel with meta-java prefix and maintainers in CC do not get answers, it's been a while layer had no activity</td><td class="time"><a href="#t2019-11-04T13:19:20" class="time">13:19</a></td></tr>
<tr id="t2019-11-04T13:21:48"><th class="nick" style="background: #97974f">letothe2nd</th><td class="text" style="color: #97974f">nayfe: hm i'm quite sure i readhim in the last couple of weeks</td><td class="time"><a href="#t2019-11-04T13:21:48" class="time">13:21</a></td></tr>
<tr id="t2019-11-04T13:22:30"><th class="nick" style="background: #97974f">letothe2nd</th><td class="text" style="color: #97974f">bu tno time to go searching right now, sorry.</td><td class="time"><a href="#t2019-11-04T13:22:30" class="time">13:22</a></td></tr>
<tr id="t2019-11-04T13:24:35"><th class="nick" style="background: #a25555">qschulz</th><td class="text" style="color: #a25555">mcfrisk: ok thanks</td><td class="time"><a href="#t2019-11-04T13:24:35" class="time">13:24</a></td></tr>
<tr id="t2019-11-04T13:28:47"><th class="nick" style="background: #488888">litb</th><td class="text" style="color: #488888">having the paragraph-character available helps quite a lot when searching in the manual</td><td class="time"><a href="#t2019-11-04T13:28:47" class="time">13:28</a></td></tr>
<tr id="t2019-11-04T13:29:09"><th class="nick" style="background: #488888">litb</th><td class="text" style="color: #488888">often I have to copy the paragraph character out of the manual and paste it into the firefox search field.</td><td class="time"><a href="#t2019-11-04T13:29:09" class="time">13:29</a></td></tr>
<tr id="t2019-11-04T13:29:21"><th class="nick" style="background: #488888">litb</th><td class="text" style="color: #488888">I guess I&nbsp;&nbsp;should install some "enter unicode character" plugin for this</td><td class="time"><a href="#t2019-11-04T13:29:21" class="time">13:29</a></td></tr>
<tr id="t2019-11-04T13:33:08"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">litb: most environments have a character picker hidden away</td><td class="time"><a href="#t2019-11-04T13:33:08" class="time">13:33</a></td></tr>
<tr id="t2019-11-04T13:44:41"><th class="nick" style="background: #488888">litb</th><td class="text" style="color: #488888">is it a good idea to use weak default assignments "??=" in classes, and normal default assignments "?=" in .bb files?&nbsp;&nbsp;That way, bb files can override choices of classes, but&nbsp;&nbsp;distribs/local.confs can override choices of recipes</td><td class="time"><a href="#t2019-11-04T13:44:41" class="time">13:44</a></td></tr>
<tr id="t2019-11-04T13:52:43"><th class="nick" style="background: #8c4a4a">mcfrisk</th><td class="text" style="color: #8c4a4a">litb: sounds good to me</td><td class="time"><a href="#t2019-11-04T13:52:43" class="time">13:52</a></td></tr>
<tr id="t2019-11-04T14:12:36"><th class="nick" style="background: #488888">litb</th><td class="text" style="color: #488888">sorry, another question! I see class names that contain dashes, but also underscores over the place in the oe-core layer</td><td class="time"><a href="#t2019-11-04T14:12:36" class="time">14:12</a></td></tr>
<tr id="t2019-11-04T14:13:16"><th class="nick" style="background: #488888">litb</th><td class="text" style="color: #488888">what's the guideline? I wish to use EXPORT_FUNCTIONS, and I suspect it requires the class name to not contain dashes. but beyond that?</td><td class="time"><a href="#t2019-11-04T14:13:16" class="time">14:13</a></td></tr>
<tr id="t2019-11-04T14:15:41"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">why do you want to use EXPORT_FUNCTIONS?</td><td class="time"><a href="#t2019-11-04T14:15:41" class="time">14:15</a></td></tr>
<tr id="t2019-11-04T14:18:41"><th class="nick" style="background: #488888">litb</th><td class="text" style="color: #488888">rburton, i wrote a class company_scons.bbclass&nbsp;&nbsp;that executes scons with a defined set of targets at compile time and install tim</td><td class="time"><a href="#t2019-11-04T14:18:41" class="time">14:18</a></td></tr>
<tr id="t2019-11-04T14:18:49"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">thats good</td><td class="time"><a href="#t2019-11-04T14:18:49" class="time">14:18</a></td></tr>
<tr id="t2019-11-04T14:18:54"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">so why do you want to use EXPORT_FUNCTIONS?</td><td class="time"><a href="#t2019-11-04T14:18:54" class="time">14:18</a></td></tr>
<tr id="t2019-11-04T14:19:32"><th class="nick" style="background: #488888">litb</th><td class="text" style="color: #488888">the set of targets can be defined as&nbsp;&nbsp;SCONS_COMPANY_TARGETS&nbsp;&nbsp;and do_install&nbsp;&nbsp; takes the targets and prefixes them with 'install-' and passes those as targets</td><td class="time"><a href="#t2019-11-04T14:19:32" class="time">14:19</a></td></tr>
<tr id="t2019-11-04T14:19:45"><th class="nick" style="background: #488888">litb</th><td class="text" style="color: #488888">rburton, i wanna provide them as default implementations</td><td class="time"><a href="#t2019-11-04T14:19:45" class="time">14:19</a></td></tr>
<tr id="t2019-11-04T14:20:52"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">as in so a recipe can do do_install() { something; company_scons_do_install ; somethingelse}</td><td class="time"><a href="#t2019-11-04T14:20:52" class="time">14:20</a></td></tr>
<tr id="t2019-11-04T14:20:53"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">?</td><td class="time"><a href="#t2019-11-04T14:20:53" class="time">14:20</a></td></tr>
<tr id="t2019-11-04T14:21:13"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">99% of people who write export_functions in a class don't know what it actually does you see</td><td class="time"><a href="#t2019-11-04T14:21:13" class="time">14:21</a></td></tr>
<tr id="t2019-11-04T14:21:43"><th class="nick" style="background: #488888">litb</th><td class="text" style="color: #488888">hm, maybe it's not worth it. I suspect I can just define do_install()&nbsp;&nbsp;and if the user overrides it, they can just use my&nbsp;&nbsp; scons_company_runscons &lt;myowntargets&gt;</td><td class="time"><a href="#t2019-11-04T14:21:43" class="time">14:21</a></td></tr>
<tr id="t2019-11-04T14:22:42"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">use it if you want, i just wanted to check that you understood what it does</td><td class="time"><a href="#t2019-11-04T14:22:42" class="time">14:22</a></td></tr>
<tr id="t2019-11-04T14:22:53"><th class="nick" style="background: #488888">litb</th><td class="text" style="color: #488888">rburton, I think of it as providing a&nbsp;&nbsp;do_install() { company_scons_do_install; }&nbsp;&nbsp;. but now I see I don't really need it</td><td class="time"><a href="#t2019-11-04T14:22:53" class="time">14:22</a></td></tr>
<tr id="t2019-11-04T14:23:04"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">some people think it means 'make this function public' and to be honest given the name that makes sense</td><td class="time"><a href="#t2019-11-04T14:23:04" class="time">14:23</a></td></tr>
<tr id="t2019-11-04T14:24:04"><th class="nick" style="background: #488888">litb</th><td class="text" style="color: #488888">hm, I see. I think I fell into this trap before</td><td class="time"><a href="#t2019-11-04T14:24:04" class="time">14:24</a></td></tr>
<tr id="t2019-11-04T14:27:24"><th class="nick" style="background: #488888">litb</th><td class="text" style="color: #488888">rburton, I think this task of providing default implementations of do_install that call a classes' function cannot be provided by another class, i.e "exportfunctions.bbclass" ?</td><td class="time"><a href="#t2019-11-04T14:27:24" class="time">14:27</a></td></tr>
<tr id="t2019-11-04T14:27:33"><th class="nick" style="background: #818144">alessioigor</th><td class="text" style="color: #818144">Has someone idea why few BSP (e.g. meta-ti) seems to ignore the .cfg snippets to change Linux kernel configuration?</td><td class="time"><a href="#t2019-11-04T14:27:33" class="time">14:27</a></td></tr>
<tr id="t2019-11-04T14:27:56"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">alessioigor: because the maintainers of those kernels use a defconfig instead of the kernel fragments framework</td><td class="time"><a href="#t2019-11-04T14:27:56" class="time">14:27</a></td></tr>
<tr id="t2019-11-04T14:28:01"><th class="nick" style="background: #97974f">letothe2nd</th><td class="text" style="color: #97974f">alessioigor: IIRC that happens if a kernel is not yocto-ized</td><td class="time"><a href="#t2019-11-04T14:28:01" class="time">14:28</a></td></tr>
<tr id="t2019-11-04T14:28:03"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">as to why they do that, ask them</td><td class="time"><a href="#t2019-11-04T14:28:03" class="time">14:28</a></td></tr>
<tr id="t2019-11-04T14:29:02"><th class="nick" style="background: #818144">alessioigor</th><td class="text" style="color: #818144">Also meta-intel does it :-(</td><td class="time"><a href="#t2019-11-04T14:29:02" class="time">14:29</a></td></tr>
<tr id="t2019-11-04T14:29:16"><th class="nick" style="background: #818144">alessioigor</th><td class="text" style="color: #818144">rburton, letothe2nd: Thanks</td><td class="time"><a href="#t2019-11-04T14:29:16" class="time">14:29</a></td></tr>
<tr id="t2019-11-04T14:34:09"><th class="nick" style="background: #a25555">qschulz</th><td class="text" style="color: #a25555">rburton: two included fragments can collide and disable one another, while defconfig guarantees it works well with Kconfig.</td><td class="time"><a href="#t2019-11-04T14:34:09" class="time">14:34</a></td></tr>
<tr id="t2019-11-04T14:36:07"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">why not ship a known good configuration using fragments and then say if you fiddle the config then obviously its your problem</td><td class="time"><a href="#t2019-11-04T14:36:07" class="time">14:36</a></td></tr>
<tr id="t2019-11-04T14:36:19"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">i doubt they'll support someone fiddling the defconfig randomly either</td><td class="time"><a href="#t2019-11-04T14:36:19" class="time">14:36</a></td></tr>
<tr id="t2019-11-04T14:36:36"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">anyway, because they wanted to use a defconfig is the answer.</td><td class="time"><a href="#t2019-11-04T14:36:36" class="time">14:36</a></td></tr>
<tr id="t2019-11-04T14:36:58"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">alessioigor: what kernel in meta-intel uses defconfig?</td><td class="time"><a href="#t2019-11-04T14:36:58" class="time">14:36</a></td></tr>
<tr id="t2019-11-04T14:39:04"><th class="nick" style="background: #818144">alessioigor</th><td class="text" style="color: #818144">rburton: Seems none</td><td class="time"><a href="#t2019-11-04T14:39:04" class="time">14:39</a></td></tr>
<tr id="t2019-11-04T14:42:56"><th class="nick" style="background: #818144">alessioigor</th><td class="text" style="color: #818144">rburton: linux-ti-staging (meta-ti) uses defconfig whereas linux-intel (meta-intel) my cfg snippet collides with ERNEL_EXTRA_FEATURES ?= "features/netfilter/netfilter.scc features/security/security.scc"</td><td class="time"><a href="#t2019-11-04T14:42:56" class="time">14:42</a></td></tr>
<tr id="t2019-11-04T14:43:27"><th class="nick" style="background: #818144">alessioigor</th><td class="text" style="color: #818144">Infact I'm trying to turn off netfilter.</td><td class="time"><a href="#t2019-11-04T14:43:27" class="time">14:43</a></td></tr>
<tr id="t2019-11-04T14:45:51"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">alessioigor: unset extra-features?</td><td class="time"><a href="#t2019-11-04T14:45:51" class="time">14:45</a></td></tr>
<tr id="t2019-11-04T14:46:42"><th class="nick" style="background: #818144">alessioigor</th><td class="text" style="color: #818144">rburton: Yes but I don't know how do the same for linux-ti-staging... Do you have any hint?</td><td class="time"><a href="#t2019-11-04T14:46:42" class="time">14:46</a></td></tr>
<tr id="t2019-11-04T14:47:05"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">alessioigor: for meta-ti, write your own defconfig</td><td class="time"><a href="#t2019-11-04T14:47:05" class="time">14:47</a></td></tr>
<tr id="t2019-11-04T14:48:36"><th class="nick" style="background: #818144">alessioigor</th><td class="text" style="color: #818144">ouch</td><td class="time"><a href="#t2019-11-04T14:48:36" class="time">14:48</a></td></tr>
<tr id="t2019-11-04T14:49:33"><th class="nick" style="background: #a25555">qschulz</th><td class="text" style="color: #a25555">alessioigor: it's fine. run a build without your changes. then run bitbake -c menuconfig linux-ti-staging</td><td class="time"><a href="#t2019-11-04T14:49:33" class="time">14:49</a></td></tr>
<tr id="t2019-11-04T14:50:04"><th class="nick" style="background: #a25555">qschulz</th><td class="text" style="color: #a25555">disable what you need, bitbake -c savedefconfig linux-ti-staging, go to the workdir, get the defconfig in the root of ${S} (usually)</td><td class="time"><a href="#t2019-11-04T14:50:04" class="time">14:50</a></td></tr>
<tr id="t2019-11-04T14:50:27"><th class="nick" style="background: #818144">alessioigor</th><td class="text" style="color: #818144">qschulz: Ok thanks</td><td class="time"><a href="#t2019-11-04T14:50:27" class="time">14:50</a></td></tr>
<tr id="t2019-11-04T14:50:53"><th class="nick" style="background: #a25555">qschulz</th><td class="text" style="color: #a25555">put this defconfig where the recipe expects it (or in a bbappend which adds the required logic of loading a defconfig)</td><td class="time"><a href="#t2019-11-04T14:50:53" class="time">14:50</a></td></tr>
<tr id="t2019-11-04T14:53:00"><th class="nick" style="background: #57a657">d_thomas</th><td class="text" style="color: #57a657">Hello, I'm trying to upgrade the version of u-boot Yocto is building by using a recipe in my own custom layer.&nbsp;&nbsp;I have verified the recipe builds v2019.04 when placed in the meta-atmel layer.&nbsp;&nbsp;When I put the recipe in my own layer, the meta-atmel layer version of v2018.07 is built.&nbsp;&nbsp;I think the problem is the "require" statement.&nbsp;&nbsp;How do I proper</td><td class="time"><a href="#t2019-11-04T14:53:00" class="time">14:53</a></td></tr>
<tr id="t2019-11-04T14:53:00"><th class="nick" style="background: #57a657">d_thomas</th><td class="text" style="color: #57a657">require/include a file from meta-atmel in my own layer?</td><td class="time"><a href="#t2019-11-04T14:53:00" class="time">14:53</a></td></tr>
<tr id="t2019-11-04T14:53:55"><th class="nick" style="background: #97974f">letothe2nd</th><td class="text" style="color: #97974f">d_thomas: require and put the full path in. if it doesn't give you an error, it was successful</td><td class="time"><a href="#t2019-11-04T14:53:55" class="time">14:53</a></td></tr>
<tr id="t2019-11-04T14:54:11"><th class="nick" style="background: #97974f">letothe2nd</th><td class="text" style="color: #97974f">d_thomas: include is the same, but will fail silently</td><td class="time"><a href="#t2019-11-04T14:54:11" class="time">14:54</a></td></tr>
<tr id="t2019-11-04T14:54:18"><th class="nick" style="background: #97974f">letothe2nd</th><td class="text" style="color: #97974f">(which is usually not what you want)</td><td class="time"><a href="#t2019-11-04T14:54:18" class="time">14:54</a></td></tr>
<tr id="t2019-11-04T14:54:21"><th class="nick" style="background: #a25555">qschulz</th><td class="text" style="color: #a25555">d_thomas: shouldn't this be part of a bbappend?</td><td class="time"><a href="#t2019-11-04T14:54:21" class="time">14:54</a></td></tr>
<tr id="t2019-11-04T14:55:16"><th class="nick" style="background: #57a657">d_thomas</th><td class="text" style="color: #57a657">I'm seeing "Could not include required file meta-atmel/recipes-bsp/u-boot/u-boot-atmel.inc".&nbsp;&nbsp;If I remove the meta-atmel part it silently uses the old version.</td><td class="time"><a href="#t2019-11-04T14:55:16" class="time">14:55</a></td></tr>
<tr id="t2019-11-04T14:56:04"><th class="nick" style="background: #57a657">d_thomas</th><td class="text" style="color: #57a657">I went with a bb file since it is a new version, based on a different git commit.&nbsp;&nbsp;Seemed cleaner that way.&nbsp;&nbsp;Otherwise the bbappend name wouldn't match the actual version</td><td class="time"><a href="#t2019-11-04T14:56:04" class="time">14:56</a></td></tr>
<tr id="t2019-11-04T14:57:03"><th class="nick" style="background: #a25555">qschulz</th><td class="text" style="color: #a25555">yup, understood. That's what you should do indeed</td><td class="time"><a href="#t2019-11-04T14:57:03" class="time">14:57</a></td></tr>
<tr id="t2019-11-04T14:57:44"><th class="nick" style="background: #a25555">qschulz</th><td class="text" style="color: #a25555">you cannot put the name of a layer in the path, Yocto looks from the root of every layer, not elsewhere</td><td class="time"><a href="#t2019-11-04T14:57:44" class="time">14:57</a></td></tr>
<tr id="t2019-11-04T14:57:49"><th class="nick" style="background: #97974f">letothe2nd</th><td class="text" style="color: #97974f">yeah, and the version without the meta-atmel is correct. but, this means you have the file twice, under the exact same path?</td><td class="time"><a href="#t2019-11-04T14:57:49" class="time">14:57</a></td></tr>
<tr id="t2019-11-04T14:57:59"><th class="nick" style="background: #a25555">qschulz</th><td class="text" style="color: #a25555">require recipes-bsp/u-boot/u-boot-atmel.inc is ok</td><td class="time"><a href="#t2019-11-04T14:57:59" class="time">14:57</a></td></tr>
<tr id="t2019-11-04T14:57:59"><th class="nick" style="background: #97974f">letothe2nd</th><td class="text" style="color: #97974f">inside the layers, that is?</td><td class="time"><a href="#t2019-11-04T14:57:59" class="time">14:57</a></td></tr>
<tr id="t2019-11-04T14:58:39"><th class="nick" style="background: #57a657">d_thomas</th><td class="text" style="color: #57a657">My intention is that u-boot-at91_2019.04.bb will only be in my layer (2018.07 is currently in the meta-atmel layer)</td><td class="time"><a href="#t2019-11-04T14:58:39" class="time">14:58</a></td></tr>
<tr id="t2019-11-04T14:59:01"><th class="nick" style="background: #a25555">qschulz</th><td class="text" style="color: #a25555">letothe2nd: I suspect a PREFERRED_VERSION somewhere?</td><td class="time"><a href="#t2019-11-04T14:59:01" class="time">14:59</a></td></tr>
<tr id="t2019-11-04T14:59:35"><th class="nick" style="background: #57a657">d_thomas</th><td class="text" style="color: #57a657">I put u-boot-at91_2019.04.bb in the meta-atmel layer only temporarily to verify that the recipe was correct and that nothing was forcing a preferred version</td><td class="time"><a href="#t2019-11-04T14:59:35" class="time">14:59</a></td></tr>
<tr id="t2019-11-04T14:59:35"><th class="nick" style="background: #97974f">letothe2nd</th><td class="text" style="color: #97974f">qschulz: i did the same, but $ASKER claims there is none</td><td class="time"><a href="#t2019-11-04T14:59:35" class="time">14:59</a></td></tr>
<tr id="t2019-11-04T15:00:02"><th class="nick" style="background: #57a657">d_thomas</th><td class="text" style="color: #57a657">Correct, so far I can't find anything forcing a version</td><td class="time"><a href="#t2019-11-04T15:00:02" class="time">15:00</a></td></tr>
<tr id="t2019-11-04T15:01:16"><th class="nick" style="background: #97974f">letothe2nd</th><td class="text" style="color: #97974f">like i said last time, i'm sure it is something rather stupid/weird, but i can't put my finger on it at the moment</td><td class="time"><a href="#t2019-11-04T15:01:16" class="time">15:01</a></td></tr>
<tr id="t2019-11-04T15:01:37"><th class="nick" style="background: #97974f">letothe2nd</th><td class="text" style="color: #97974f">why do you need meta-atmel then anyways?</td><td class="time"><a href="#t2019-11-04T15:01:37" class="time">15:01</a></td></tr>
<tr id="t2019-11-04T15:02:01"><th class="nick" style="background: #57a657">d_thomas</th><td class="text" style="color: #57a657">Same here :).&nbsp;&nbsp;As soon as I switch to "require recipes-bsp/u-boot/u-boot-atmel.inc", the build proceeds without complaint but ignores v2019.07</td><td class="time"><a href="#t2019-11-04T15:02:01" class="time">15:02</a></td></tr>
<tr id="t2019-11-04T15:02:13"><th class="nick" style="background: #57a657">d_thomas</th><td class="text" style="color: #57a657">I need meta-atmel for the development kit I'm building the image for</td><td class="time"><a href="#t2019-11-04T15:02:13" class="time">15:02</a></td></tr>
<tr id="t2019-11-04T15:02:45"><th class="nick" style="background: #a25555">qschulz</th><td class="text" style="color: #a25555">d_thomas: that is normal, all recipes are parsed even if they are not to be compiled or used in any way.</td><td class="time"><a href="#t2019-11-04T15:02:45" class="time">15:02</a></td></tr>
<tr id="t2019-11-04T15:03:37"><th class="nick" style="background: #a25555">qschulz</th><td class="text" style="color: #a25555">d_thomas: debug with bitbake u-boot-at91 -DDDDDDDDDDDDDDDDDDDDDDDDDDDDD and maybe that'll help find out something?</td><td class="time"><a href="#t2019-11-04T15:03:37" class="time">15:03</a></td></tr>
<tr id="t2019-11-04T15:04:02"><th class="nick" style="background: #a25555">qschulz</th><td class="text" style="color: #a25555">(I never remember how many D's are needed, so I just put as many as my patience let me</td><td class="time"><a href="#t2019-11-04T15:04:02" class="time">15:04</a></td></tr>
<tr id="t2019-11-04T15:05:20"><th class="nick" style="background: #57a657">d_thomas</th><td class="text" style="color: #57a657">wow, that's verbose turned up to 11</td><td class="time"><a href="#t2019-11-04T15:05:20" class="time">15:05</a></td></tr>
<tr id="t2019-11-04T15:12:44"><th class="nick" style="background: #57a657">d_thomas</th><td class="text" style="color: #57a657">That's disappointing.&nbsp;&nbsp;The log just shows the sorted providers for u-boot are just the latest one from meta-atmel</td><td class="time"><a href="#t2019-11-04T15:12:44" class="time">15:12</a></td></tr>
<tr id="t2019-11-04T15:13:17"><th class="nick" style="background: #97974f">letothe2nd</th><td class="text" style="color: #97974f">d_thomas: can you just put your layer on github or such?</td><td class="time"><a href="#t2019-11-04T15:13:17" class="time">15:13</a></td></tr>
<tr id="t2019-11-04T15:15:22"><th class="nick" style="background: #57a657">d_thomas</th><td class="text" style="color: #57a657"><a href="https://pastebin.com/CzuAKY7X" rel="nofollow">https://pastebin.com/CzuAKY7X</a></td><td class="time"><a href="#t2019-11-04T15:15:22" class="time">15:15</a></td></tr>
<tr id="t2019-11-04T15:15:26"><th class="nick" style="background: #57a657">d_thomas</th><td class="text" style="color: #57a657">That's the recipe</td><td class="time"><a href="#t2019-11-04T15:15:26" class="time">15:15</a></td></tr>
<tr id="t2019-11-04T15:16:09"><th class="nick" style="background: #97974f">letothe2nd</th><td class="text" style="color: #97974f">i don't think that the recipe in itself is the problem</td><td class="time"><a href="#t2019-11-04T15:16:09" class="time">15:16</a></td></tr>
<tr id="t2019-11-04T15:16:10"><th class="nick" style="background: #57a657">d_thomas</th><td class="text" style="color: #57a657">in a meta-my-custom-layer/recipes-bsp/u-boot directory</td><td class="time"><a href="#t2019-11-04T15:16:10" class="time">15:16</a></td></tr>
<tr id="t2019-11-04T15:17:03"><th class="nick" style="background: #97974f">letothe2nd</th><td class="text" style="color: #97974f">i have no better advice at the moment other to make a fresh layer, add just the u-boot and start out testing from there. remove your other custom layer for the build, see if it works or breals.</td><td class="time"><a href="#t2019-11-04T15:17:03" class="time">15:17</a></td></tr>
<tr id="t2019-11-04T15:17:09"><th class="nick" style="background: #57a657">d_thomas</th><td class="text" style="color: #57a657">I know my custom layer is getting used, because I had to modify the AT91Bootstrap bootloader to build the way I wanted in Yocto.&nbsp;&nbsp;So that bbappend file is working</td><td class="time"><a href="#t2019-11-04T15:17:09" class="time">15:17</a></td></tr>
<tr id="t2019-11-04T15:17:27"><th class="nick" style="background: #97974f">letothe2nd</th><td class="text" style="color: #97974f">and if it breaks, show the whole minimized layer</td><td class="time"><a href="#t2019-11-04T15:17:27" class="time">15:17</a></td></tr>
<tr id="t2019-11-04T15:18:30"><th class="nick" style="background: #57a657">d_thomas</th><td class="text" style="color: #57a657">there just isn't much else in the layer..... the bootloader bbappend, a hello world program, and u-boot</td><td class="time"><a href="#t2019-11-04T15:18:30" class="time">15:18</a></td></tr>
<tr id="t2019-11-04T15:18:57"><th class="nick" style="background: #97974f">letothe2nd</th><td class="text" style="color: #97974f">then, put it on github.</td><td class="time"><a href="#t2019-11-04T15:18:57" class="time">15:18</a></td></tr>
<tr id="t2019-11-04T15:19:03"><th class="nick" style="background: #97974f">letothe2nd</th><td class="text" style="color: #97974f">if there's nothing magic inside</td><td class="time"><a href="#t2019-11-04T15:19:03" class="time">15:19</a></td></tr>
<tr id="t2019-11-04T15:32:37"><th class="nick" style="background: #57a657">d_thomas</th><td class="text" style="color: #57a657">Is it possible I just need to rebuild the entire image and not just u-boot?</td><td class="time"><a href="#t2019-11-04T15:32:37" class="time">15:32</a></td></tr>
<tr id="t2019-11-04T15:34:27"><th class="nick" style="background: #97974f">letothe2nd</th><td class="text" style="color: #97974f">no</td><td class="time"><a href="#t2019-11-04T15:34:27" class="time">15:34</a></td></tr>
<tr id="t2019-11-04T15:38:47"><th class="nick" style="background: #57a657">d_thomas</th><td class="text" style="color: #57a657">Before posting the repo to github, I'd need to scrub out my ssh configuration.&nbsp;&nbsp;But it's just a basic layer I'm building that I don't see how that would be breaking anything.&nbsp;&nbsp;Seemed like I just needed to get the directory and filename convention correct and this should have worked.</td><td class="time"><a href="#t2019-11-04T15:38:47" class="time">15:38</a></td></tr>
<tr id="t2019-11-04T15:39:01"><th class="nick" style="background: #5959a9">denix</th><td class="text" style="color: #5959a9">rburton: meta-ti uses config fragments</td><td class="time"><a href="#t2019-11-04T15:39:01" class="time">15:39</a></td></tr>
<tr id="t2019-11-04T15:39:47"><th class="nick" style="background: #5959a9">denix</th><td class="text" style="color: #5959a9">but not linux-yocto specific "scc"</td><td class="time"><a href="#t2019-11-04T15:39:47" class="time">15:39</a></td></tr>
<tr id="t2019-11-04T15:40:44"><th class="nick" style="background: #97974f">letothe2nd</th><td class="text" style="color: #97974f">d_thomas: if you keep ssh configuretion inside the layer its a bad idea anyways :P</td><td class="time"><a href="#t2019-11-04T15:40:44" class="time">15:40</a></td></tr>
<tr id="t2019-11-04T15:41:30"><th class="nick" style="background: #57a657">d_thomas</th><td class="text" style="color: #57a657">Moving it is on the list of things to do.&nbsp;&nbsp;This was just to get an image going that was usable for others</td><td class="time"><a href="#t2019-11-04T15:41:30" class="time">15:41</a></td></tr>
<tr id="t2019-11-04T15:42:04"><th class="nick" style="background: #57a657">d_thomas</th><td class="text" style="color: #57a657">Getting Yocto to build u-boot, kernel, etc is just for my own sanity. :]</td><td class="time"><a href="#t2019-11-04T15:42:04" class="time">15:42</a></td></tr>
<tr id="t2019-11-04T15:42:22"><th class="nick" style="background: #97974f">letothe2nd</th><td class="text" style="color: #97974f">d_thomas: whatever. i already invested a substantial amount of time trying to help you, which is fine. but my patience is used up by now - either i can see the whole thing, or' i'm just out.</td><td class="time"><a href="#t2019-11-04T15:42:22" class="time">15:42</a></td></tr>
<tr id="t2019-11-04T15:42:54"><th class="nick" style="background: #a25555">qschulz</th><td class="text" style="color: #a25555">letothe2nd: I'm new to this but... what's the impact of layer priorities in figuring out which recipe to pick?</td><td class="time"><a href="#t2019-11-04T15:42:54" class="time">15:42</a></td></tr>
<tr id="t2019-11-04T15:43:26"><th class="nick" style="background: #a25555">qschulz</th><td class="text" style="color: #a25555">because that might explain why an older version gets picked up?</td><td class="time"><a href="#t2019-11-04T15:43:26" class="time">15:43</a></td></tr>
<tr id="t2019-11-04T15:43:32"><th class="nick" style="background: #a25555">qschulz</th><td class="text" style="color: #a25555">just throwing ideas</td><td class="time"><a href="#t2019-11-04T15:43:32" class="time">15:43</a></td></tr>
<tr id="t2019-11-04T15:44:11"><th class="nick" style="background: #97974f">letothe2nd</th><td class="text" style="color: #97974f">qschulz: AFAIK none, it should just kick in if things collide, but i might be wrong. yet, with a complete layer i can try and reproduce. which i am also willing to do, but no more poking.</td><td class="time"><a href="#t2019-11-04T15:44:11" class="time">15:44</a></td></tr>
<tr id="t2019-11-04T15:45:32"><th class="nick" style="background: #a25555">qschulz</th><td class="text" style="color: #a25555">letothe2nd: <a href="https://www.yoctoproject.org/docs/2.6/bitbake-user-manual/bitbake-user-manual.html#var-BBFILE_PRIORITY" rel="nofollow">https://www.yoctoproject.org/docs/2.6/bitbake-user-manual/bitbake-user-manual.html#var-BBFILE_PRIORITY</a> ah found it!</td><td class="time"><a href="#t2019-11-04T15:45:32" class="time">15:45</a></td></tr>
<tr id="t2019-11-04T15:45:56"><th class="nick" style="background: #a25555">qschulz</th><td class="text" style="color: #a25555">"The precedence established through this variable stands regardless of a recipe's version (PV variable)"</td><td class="time"><a href="#t2019-11-04T15:45:56" class="time">15:45</a></td></tr>
<tr id="t2019-11-04T15:46:00"><th class="nick" style="background: #a25555">qschulz</th><td class="text" style="color: #a25555">d_thomas: ^</td><td class="time"><a href="#t2019-11-04T15:46:00" class="time">15:46</a></td></tr>
<tr id="t2019-11-04T15:46:37"><th class="nick" style="background: #57a657">d_thomas</th><td class="text" style="color: #57a657">Ah, so my layer needs to be on the same priority level as meta-atmel?&nbsp;&nbsp;Thanks, I'll give that a try</td><td class="time"><a href="#t2019-11-04T15:46:37" class="time">15:46</a></td></tr>
<tr id="t2019-11-04T15:47:54"><th class="nick" style="background: #57a657">d_thomas</th><td class="text" style="color: #57a657">oh weird, meta-atmel is 10 and I'm at 6</td><td class="time"><a href="#t2019-11-04T15:47:54" class="time">15:47</a></td></tr>
<tr id="t2019-11-04T15:48:17"><th class="nick" style="background: #97974f">letothe2nd</th><td class="text" style="color: #97974f">(we could easily have looked at it if the layer was up)</td><td class="time"><a href="#t2019-11-04T15:48:17" class="time">15:48</a></td></tr>
<tr id="t2019-11-04T15:51:45"><th class="nick" style="background: #57a657">d_thomas</th><td class="text" style="color: #57a657">It was the priority</td><td class="time"><a href="#t2019-11-04T15:51:45" class="time">15:51</a></td></tr>
<tr id="t2019-11-04T15:52:07"><th class="nick" style="background: #97974f">letothe2nd</th><td class="text" style="color: #97974f">*sighs*</td><td class="time"><a href="#t2019-11-04T15:52:07" class="time">15:52</a></td></tr>
<tr id="t2019-11-04T15:52:18"><th class="nick" style="background: #57a657">d_thomas</th><td class="text" style="color: #57a657">Sorry letothe2nd.&nbsp;&nbsp;I think long term I could put my changes into a meta-atmel into a public layer and the secret sauce into a private layer</td><td class="time"><a href="#t2019-11-04T15:52:18" class="time">15:52</a></td></tr>
<tr id="t2019-11-04T15:57:23"><th class="nick" style="background: #a25555">qschulz</th><td class="text" style="color: #a25555">d_thomas: maybe worth noting that, IIRC, this does not apply to bbclasses, where the first occurence of the bbclass in BBLAYERS to be found is the one taken</td><td class="time"><a href="#t2019-11-04T15:57:23" class="time">15:57</a></td></tr>
<tr id="t2019-11-04T15:57:37"><th class="nick" style="background: #a25555">qschulz</th><td class="text" style="color: #a25555">to be taken with a grain of salt and experimentation :)</td><td class="time"><a href="#t2019-11-04T15:57:37" class="time">15:57</a></td></tr>
<tr id="t2019-11-04T16:00:15"><th class="nick" style="background: #57a657">d_thomas</th><td class="text" style="color: #57a657">qschulz: interesting, good to know</td><td class="time"><a href="#t2019-11-04T16:00:15" class="time">16:00</a></td></tr>
<tr id="t2019-11-04T16:03:38"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">qschulz: pretty sure classes are searched for using BBPATH</td><td class="time"><a href="#t2019-11-04T16:03:38" class="time">16:03</a></td></tr>
<tr id="t2019-11-04T16:11:11"><th class="nick" style="background: #488888">litb</th><td class="text" style="color: #488888">qschulz, at least if metadata that comes before yours in BBLAYERS inherits a class that you want to override in yours, then the "wrong" bbclass is taken</td><td class="time"><a href="#t2019-11-04T16:11:11" class="time">16:11</a></td></tr>
<tr id="t2019-11-04T16:11:19"><th class="nick" style="background: #488888">litb</th><td class="text" style="color: #488888">that happened for me</td><td class="time"><a href="#t2019-11-04T16:11:19" class="time">16:11</a></td></tr>
<tr id="t2019-11-04T16:11:58"><th class="nick" style="background: #488888">litb</th><td class="text" style="color: #488888">RP, ah, for classes the priority it completely ignored?</td><td class="time"><a href="#t2019-11-04T16:11:58" class="time">16:11</a></td></tr>
<tr id="t2019-11-04T16:13:22"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">litb: not sure priority makes sense for classes</td><td class="time"><a href="#t2019-11-04T16:13:22" class="time">16:13</a></td></tr>
<tr id="t2019-11-04T16:13:56"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">ah the old 'bblayers order' vs bbfile priority thing pops up again :)</td><td class="time"><a href="#t2019-11-04T16:13:56" class="time">16:13</a></td></tr>
<tr id="t2019-11-04T16:14:12"><th class="nick" style="background: #488888">litb</th><td class="text" style="color: #488888">lulz</td><td class="time"><a href="#t2019-11-04T16:14:12" class="time">16:14</a></td></tr>
<tr id="t2019-11-04T16:14:15"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">kergoth: part of me wants to delete a load of these variables</td><td class="time"><a href="#t2019-11-04T16:14:15" class="time">16:14</a></td></tr>
<tr id="t2019-11-04T16:14:35"><th class="nick" style="background: #97974f">letothe2nd</th><td class="text" style="color: #97974f">RP: gogogo!</td><td class="time"><a href="#t2019-11-04T16:14:35" class="time">16:14</a></td></tr>
<tr id="t2019-11-04T16:14:39"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">it's tempting for sure. we have so much legacy stuff in all of this. i can't imagine many folks use bbpath+bbfiles to set up anymore</td><td class="time"><a href="#t2019-11-04T16:14:39" class="time">16:14</a></td></tr>
<tr id="t2019-11-04T16:15:14"><th class="nick" style="background: #488888">litb</th><td class="text" style="color: #488888">BTW sometimes I write&nbsp;&nbsp;bb.build.inherits_class('foo'):&nbsp;&nbsp;and i have seen others that do that</td><td class="time"><a href="#t2019-11-04T16:15:14" class="time">16:15</a></td></tr>
<tr id="t2019-11-04T16:15:29"><th class="nick" style="background: #97974f">letothe2nd</th><td class="text" style="color: #97974f">RP: here something to get you started: <a href="https://www.youtube.com/watch?v=ZpUYjpKg9KY" rel="nofollow">https://www.youtube.com/watch?v=ZpUYjpKg9KY</a></td><td class="time"><a href="#t2019-11-04T16:15:29" class="time">16:15</a></td></tr>
<tr id="t2019-11-04T16:15:37"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">only the metadata knows what's been inherited, not the global bb.build python module :)</td><td class="time"><a href="#t2019-11-04T16:15:37" class="time">16:15</a></td></tr>
<tr id="t2019-11-04T16:15:45"><th class="nick" style="background: #adad5b">kergoth</th><td class="text" style="color: #adad5b">globals aren't nice</td><td class="time"><a href="#t2019-11-04T16:15:45" class="time">16:15</a></td></tr>
<tr id="t2019-11-04T16:15:46"><th class="nick" style="background: #488888">litb</th><td class="text" style="color: #488888">maybe it would be cool if there is a&nbsp;&nbsp; _bbclass-&lt;name&gt;&nbsp;&nbsp;override for each class inherited.&nbsp;&nbsp;then some of those checks could go</td><td class="time"><a href="#t2019-11-04T16:15:46" class="time">16:15</a></td></tr>
<tr id="t2019-11-04T16:19:11"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">litb: each override slows down parsing. Are you sure you'd want to do that?</td><td class="time"><a href="#t2019-11-04T16:19:11" class="time">16:19</a></td></tr>
<tr id="t2019-11-04T16:19:22"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">better would be d.inherits()</td><td class="time"><a href="#t2019-11-04T16:19:22" class="time">16:19</a></td></tr>
<tr id="t2019-11-04T16:19:49"><th class="nick" style="background: #488888">litb</th><td class="text" style="color: #488888">in fact, it would be natural if the&nbsp;&nbsp;override&nbsp;&nbsp;was&nbsp;&nbsp;_class-&lt;name&gt;&nbsp;&nbsp;because it would be compatible with the BBCLASSEXTEND names, afaics</td><td class="time"><a href="#t2019-11-04T16:19:49" class="time">16:19</a></td></tr>
<tr id="t2019-11-04T16:20:01"><th class="nick" style="background: #488888">litb</th><td class="text" style="color: #488888">RP, hm, I see</td><td class="time"><a href="#t2019-11-04T16:20:01" class="time">16:20</a></td></tr>
<tr id="t2019-11-04T16:24:12"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">inherits() is fairly common</td><td class="time"><a href="#t2019-11-04T16:24:12" class="time">16:24</a></td></tr>
<tr id="t2019-11-04T16:31:52"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">I mused at the OE meeting about a) fixing bitbake memres b) making it default c) making some kind of layer setup support in bitbake d) requiring it for eSDK e) replacing eSDK with that simpler mechanism (and simplifying selftests to use it )</td><td class="time"><a href="#t2019-11-04T16:31:52" class="time">16:31</a></td></tr>
<tr id="t2019-11-04T17:02:28"><th class="nick" style="background: #b15db1">kanavin</th><td class="text" style="color: #b15db1">rburton, RP - a colleague wrote a tool that would print 'critical paths' of Yocto builds: <a href="https://github.com/oesse/find-critical-path" rel="nofollow">https://github.com/oesse/find-critical-path</a></td><td class="time"><a href="#t2019-11-04T17:02:28" class="time">17:02</a></td></tr>
<tr id="t2019-11-04T17:02:48"><th class="nick" style="background: #b15db1">kanavin</th><td class="text" style="color: #b15db1">I am now convincing them to rewrite it in python, so it can be merged into buildstats directly</td><td class="time"><a href="#t2019-11-04T17:02:48" class="time">17:02</a></td></tr>
<tr id="t2019-11-04T17:03:05"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">nice</td><td class="time"><a href="#t2019-11-04T17:03:05" class="time">17:03</a></td></tr>
<tr id="t2019-11-04T17:03:16"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">i've something here somewhere that probably isn't as good :)</td><td class="time"><a href="#t2019-11-04T17:03:16" class="time">17:03</a></td></tr>
<tr id="t2019-11-04T17:03:25"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">c++!</td><td class="time"><a href="#t2019-11-04T17:03:25" class="time">17:03</a></td></tr>
<tr id="t2019-11-04T17:03:26"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">cik</td><td class="time"><a href="#t2019-11-04T17:03:26" class="time">17:03</a></td></tr>
<tr id="t2019-11-04T17:03:50"><th class="nick" style="background: #b15db1">kanavin</th><td class="text" style="color: #b15db1">rburton, they didn't ask me about the unfortunate choice of implementation language :(</td><td class="time"><a href="#t2019-11-04T17:03:50" class="time">17:03</a></td></tr>
<tr id="t2019-11-04T17:03:53"><th class="nick" style="background: #b15db1">kanavin</th><td class="text" style="color: #b15db1">boost as well!</td><td class="time"><a href="#t2019-11-04T17:03:53" class="time">17:03</a></td></tr>
<tr id="t2019-11-04T17:04:47"><th class="nick" style="background: #b15db1">kanavin</th><td class="text" style="color: #b15db1">but their approch is based on computer science: they implement a well proven algorithm</td><td class="time"><a href="#t2019-11-04T17:04:47" class="time">17:04</a></td></tr>
<tr id="t2019-11-04T17:06:58"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">kanavin: nice, I've always just looked at the graph :)</td><td class="time"><a href="#t2019-11-04T17:06:58" class="time">17:06</a></td></tr>
<tr id="t2019-11-04T17:17:39"><th class="nick" style="background: #5fb4b4">lpapp</th><td class="text" style="color: #5fb4b4">hi, modutils.sh is supposed to run on boot from meta?</td><td class="time"><a href="#t2019-11-04T17:17:39" class="time">17:17</a></td></tr>
<tr id="t2019-11-04T17:17:48"><th class="nick" style="background: #5fb4b4">lpapp</th><td class="text" style="color: #5fb4b4">it seems that it fails at this condition in our case: [ -f /etc/modules ] || [ -d /etc/modules-load.d ] || exit 0</td><td class="time"><a href="#t2019-11-04T17:17:48" class="time">17:17</a></td></tr>
<tr id="t2019-11-04T17:17:55"><th class="nick" style="background: #5fb4b4">lpapp</th><td class="text" style="color: #5fb4b4">so it skips the rest, like important depmod, etc.</td><td class="time"><a href="#t2019-11-04T17:17:55" class="time">17:17</a></td></tr>
<tr id="t2019-11-04T17:18:23"><th class="nick" style="background: #5fb4b4">lpapp</th><td class="text" style="color: #5fb4b4">is it reasonable my&nbsp;&nbsp;board has neither /etc/modules, nor /etc/modules-load.d</td><td class="time"><a href="#t2019-11-04T17:18:23" class="time">17:18</a></td></tr>
<tr id="t2019-11-04T17:24:40"><td class="nickchange" colspan="2">*** mckoan is now known as mckoan|away</td><td><a href="#t2019-11-04T17:24:40" class="time">17:24</a></td></tr>
<tr id="t2019-11-04T17:34:13"><th class="nick" style="background: #b86161">mabnhdev</th><td class="text" style="color: #b86161">I'm upgrading my work to Zeus.&nbsp;&nbsp;I have a custom kernel which has to remain at 4.14 for the time being.&nbsp;&nbsp;I've defined my own Linux recipe modeled after linux-yocto.&nbsp;&nbsp;This has been working fine for me since Sumo.&nbsp;&nbsp;However, I'm now seeing failures in my perf build.&nbsp;&nbsp;My failure log is here -</td><td class="time"><a href="#t2019-11-04T17:34:13" class="time">17:34</a></td></tr>
<tr id="t2019-11-04T17:34:14"><th class="nick" style="background: #b86161">mabnhdev</th><td class="text" style="color: #b86161"><a href="https://gist.github.com/mabnhdev/50ee5408ce9c291e036321395f470492." rel="nofollow">https://gist.github.com/mabnhdev/50ee5408ce9c291e036321395f470492.</a>&nbsp;&nbsp;Any guidance on addressing this issue would be appreciated.</td><td class="time"><a href="#t2019-11-04T17:34:14" class="time">17:34</a></td></tr>
<tr id="t2019-11-04T17:42:42"><th class="nick" style="background: #488888">litb</th><td class="text" style="color: #488888">mabnhdev, not sure, but it appears that it doesn't like your python version?</td><td class="time"><a href="#t2019-11-04T17:42:42" class="time">17:42</a></td></tr>
<tr id="t2019-11-04T17:45:20"><td class="nickchange" colspan="2">*** JaMa is now known as Guest58471</td><td><a href="#t2019-11-04T17:45:20" class="time">17:45</a></td></tr>
<tr id="t2019-11-04T17:45:56"><th class="nick" style="background: #b86161">mabnhdev</th><td class="text" style="color: #b86161">litb Yes, I added NO_LIBPERL=1 NO_LIBPYTHON=1 to EXTRA_OEMAKE and it complains less.&nbsp;&nbsp;But those warnings are still there and it now fails in do_install.&nbsp;&nbsp;I'm not sure that's the right way to go, though.</td><td class="time"><a href="#t2019-11-04T17:45:56" class="time">17:45</a></td></tr>
<tr id="t2019-11-04T17:51:17"><th class="nick" style="background: #b86161">mabnhdev</th><td class="text" style="color: #b86161">Here's the failure with NO_LIBPERL=1 NO_LIBPYTHON=1: <a href="https://gist.github.com/mabnhdev/54fa39a756fcebadce1c49f888493b03" rel="nofollow">https://gist.github.com/mabnhdev/54fa39a756fcebadce1c49f888493b03</a></td><td class="time"><a href="#t2019-11-04T17:51:17" class="time">17:51</a></td></tr>
<tr id="t2019-11-04T17:57:16"><th class="nick" style="background: #488888">litb</th><td class="text" style="color: #488888">mabnhdev, another parameter says PYTHON=python3 . dunno whether or not that contradicts NO_LIBPYTHON=1</td><td class="time"><a href="#t2019-11-04T17:57:16" class="time">17:57</a></td></tr>
<tr id="t2019-11-04T18:02:02"><th class="nick" style="background: #488888">litb</th><td class="text" style="color: #488888">mabnhdev, maybe the shebang line in that setup.py script is too long for your kernel to interpret. I once read some code in yocto that tried to minimize this path length</td><td class="time"><a href="#t2019-11-04T18:02:02" class="time">18:02</a></td></tr>
<tr id="t2019-11-04T18:02:37"><th class="nick" style="background: #488888">litb</th><td class="text" style="color: #488888">ideally it would rely on PATH, instead of having an absolute pathname. maybe do_devshell could help</td><td class="time"><a href="#t2019-11-04T18:02:37" class="time">18:02</a></td></tr>
<tr id="t2019-11-04T18:13:49"><th class="nick" style="background: #62bb62">zeddii</th><td class="text" style="color: #62bb62">mabnhdev: it would be interesting to hear if some of the mismatched header file warnings go away if you cherry-pick a commit on master to your branch. might not help, but you never know.</td><td class="time"><a href="#t2019-11-04T18:13:49" class="time">18:13</a></td></tr>
<tr id="t2019-11-04T18:14:02"><th class="nick" style="background: #62bb62">zeddii</th><td class="text" style="color: #62bb62">see: perf: drop 'include' copy</td><td class="time"><a href="#t2019-11-04T18:14:02" class="time">18:14</a></td></tr>
<tr id="t2019-11-04T18:14:28"><th class="nick" style="background: #62bb62">zeddii</th><td class="text" style="color: #62bb62">also, it might be possible that 4.14 is just to old to support the python3 only build, Id have to double check when that transition was made.</td><td class="time"><a href="#t2019-11-04T18:14:28" class="time">18:14</a></td></tr>
<tr id="t2019-11-04T18:14:57"><th class="nick" style="background: #62bb62">zeddii</th><td class="text" style="color: #62bb62">in that case, you might have to revert the python3 changes in zeus and take your chances with the python 2.7 EOL</td><td class="time"><a href="#t2019-11-04T18:14:57" class="time">18:14</a></td></tr>
<tr id="t2019-11-04T18:16:34"><th class="nick" style="background: #b86161">mabnhdev</th><td class="text" style="color: #b86161">@zeddii - I should have both python 2.7 and python3 defined.&nbsp;&nbsp;I'll have to check that.&nbsp;&nbsp;I actually only need python 2.7, but including python3 was always the path of least resistence.</td><td class="time"><a href="#t2019-11-04T18:16:34" class="time">18:16</a></td></tr>
<tr id="t2019-11-04T18:37:55"><th class="nick" style="background: #62bb62">zeddii</th><td class="text" style="color: #62bb62">the point is that we integrated patches in zeus to go to python3 only for the kernel bits, towards the goal of not having python3 in the release.</td><td class="time"><a href="#t2019-11-04T18:37:55" class="time">18:37</a></td></tr>
<tr id="t2019-11-04T18:38:16"><th class="nick" style="background: #62bb62">zeddii</th><td class="text" style="color: #62bb62">but if the kernel is too old to fully support python3 perf, youd have to revert those, or come up with your own patches, etc.</td><td class="time"><a href="#t2019-11-04T18:38:16" class="time">18:38</a></td></tr>
<tr id="t2019-11-04T18:50:43"><th class="nick" style="background: #b86161">mabnhdev</th><td class="text" style="color: #b86161">zeddii Ah.&nbsp;&nbsp;Understood.&nbsp;&nbsp;Is perf a "required" package?&nbsp;&nbsp;Can I just get rid of it to move forward?</td><td class="time"><a href="#t2019-11-04T18:50:43" class="time">18:50</a></td></tr>
<tr id="t2019-11-04T18:51:15"><th class="nick" style="background: #62bb62">zeddii</th><td class="text" style="color: #62bb62">yep. you definitely can.</td><td class="time"><a href="#t2019-11-04T18:51:15" class="time">18:51</a></td></tr>
<tr id="t2019-11-04T18:51:15"><th class="nick" style="background: #6464bf">JaMa</th><td class="text" style="color: #6464bf">mabnhdev: do you have <a href="https://www.mail-archive.com/openembedded-core@lists.openembedded.org/msg127705.html" rel="nofollow">https://www.mail-archive.com/openembedded-core@lists.openembedded.org/msg127705.html</a> in your build?</td><td class="time"><a href="#t2019-11-04T18:51:15" class="time">18:51</a></td></tr>
<tr id="t2019-11-04T18:54:34"><th class="nick" style="background: #b86161">mabnhdev</th><td class="text" style="color: #b86161">JaMa: Yes, I do have that patch in my build.</td><td class="time"><a href="#t2019-11-04T18:54:34" class="time">18:54</a></td></tr>
<tr id="t2019-11-04T20:19:22"><th class="nick" style="background: #97974f">letothe2nd</th><td class="text" style="color: #97974f">qschulz: you around? did you get to talk to khem?</td><td class="time"><a href="#t2019-11-04T20:19:22" class="time">20:19</a></td></tr>
<tr id="t2019-11-04T20:21:43"><td class="nickchange" colspan="2">*** florian_kc is now known as florian</td><td><a href="#t2019-11-04T20:21:43" class="time">20:21</a></td></tr>
<tr id="t2019-11-04T22:23:35"><th class="nick" style="background: #c3c366">marler8997</th><td class="text" style="color: #c3c366">I'm not sure what I'm missing here</td><td class="time"><a href="#t2019-11-04T22:23:35" class="time">22:23</a></td></tr>
<tr id="t2019-11-04T22:23:52"><th class="nick" style="background: #c3c366">marler8997</th><td class="text" style="color: #c3c366">I'm creating a recipe meant to be used as a tool during the build</td><td class="time"><a href="#t2019-11-04T22:23:52" class="time">22:23</a></td></tr>
<tr id="t2019-11-04T22:24:05"><th class="nick" style="background: #c3c366">marler8997</th><td class="text" style="color: #c3c366">it depends on openssl, so I add it as an RDEPENDS</td><td class="time"><a href="#t2019-11-04T22:24:05" class="time">22:24</a></td></tr>
<tr id="t2019-11-04T22:24:18"><th class="nick" style="background: #c3c366">marler8997</th><td class="text" style="color: #c3c366">but openssl doesn't get installed to the sysroot when I build mytool-native</td><td class="time"><a href="#t2019-11-04T22:24:18" class="time">22:24</a></td></tr>
<tr id="t2019-11-04T22:36:08"><th class="nick" style="background: #c3c366">marler8997</th><td class="text" style="color: #c3c366">I've minimized what I'm trying to do into these to small recipes: <a href="https://gist.github.com/marler8997/f8ceeeff80a0e1cb03e9c223654d0fc2" rel="nofollow">https://gist.github.com/marler8997/f8ceeeff80a0e1cb03e9c223654d0fc2</a></td><td class="time"><a href="#t2019-11-04T22:36:08" class="time">22:36</a></td></tr>
<tr id="t2019-11-04T22:37:02"><th class="nick" style="background: #c3c366">marler8997</th><td class="text" style="color: #c3c366">I would think that if you added RDEPENDS to a recipe, that it would install those dependencies into the sysroot?</td><td class="time"><a href="#t2019-11-04T22:37:02" class="time">22:37</a></td></tr>
<tr id="t2019-11-04T22:37:29"><th class="nick" style="background: #c3c366">marler8997</th><td class="text" style="color: #c3c366">if you are building the "*-native" version of the recipe</td><td class="time"><a href="#t2019-11-04T22:37:29" class="time">22:37</a></td></tr>
<tr id="t2019-11-04T22:39:27"><th class="nick" style="background: #c668c6">khem</th><td class="text" style="color: #c668c6">rdeps are used when building images or doing package installs</td><td class="time"><a href="#t2019-11-04T22:39:27" class="time">22:39</a></td></tr>
<tr id="t2019-11-04T22:39:40"><th class="nick" style="background: #c668c6">khem</th><td class="text" style="color: #c668c6">if something is needed during build then use depends = ...</td><td class="time"><a href="#t2019-11-04T22:39:40" class="time">22:39</a></td></tr>
<tr id="t2019-11-04T22:39:48"><th class="nick" style="background: #c3c366">marler8997</th><td class="text" style="color: #c3c366">right</td><td class="time"><a href="#t2019-11-04T22:39:48" class="time">22:39</a></td></tr>
<tr id="t2019-11-04T22:39:52"><th class="nick" style="background: #c3c366">marler8997</th><td class="text" style="color: #c3c366">but this is an indirect dependency</td><td class="time"><a href="#t2019-11-04T22:39:52" class="time">22:39</a></td></tr>
<tr id="t2019-11-04T22:40:00"><th class="nick" style="background: #c3c366">marler8997</th><td class="text" style="color: #c3c366">A DEPENDS on B</td><td class="time"><a href="#t2019-11-04T22:40:00" class="time">22:40</a></td></tr>
<tr id="t2019-11-04T22:40:19"><th class="nick" style="background: #c3c366">marler8997</th><td class="text" style="color: #c3c366">well, A DEPENDS on B-native</td><td class="time"><a href="#t2019-11-04T22:40:19" class="time">22:40</a></td></tr>
<tr id="t2019-11-04T22:40:31"><th class="nick" style="background: #c3c366">marler8997</th><td class="text" style="color: #c3c366">and B has RDEPENDS</td><td class="time"><a href="#t2019-11-04T22:40:31" class="time">22:40</a></td></tr>
<tr id="t2019-11-04T22:41:04"><th class="nick" style="background: #c3c366">marler8997</th><td class="text" style="color: #c3c366">so, I would think that if you want to use B-native, which gets installed to the sysroot, then you would need the RDPENDS of B</td><td class="time"><a href="#t2019-11-04T22:41:04" class="time">22:41</a></td></tr>
<tr id="t2019-11-04T22:41:29"><th class="nick" style="background: #c3c366">marler8997</th><td class="text" style="color: #c3c366">Otherwise, you would need to write a different recipe for both B and B-native right?</td><td class="time"><a href="#t2019-11-04T22:41:29" class="time">22:41</a></td></tr>
<tr id="t2019-11-04T22:42:05"><th class="nick" style="background: #c668c6">khem</th><td class="text" style="color: #c668c6">not really you can use class-native override</td><td class="time"><a href="#t2019-11-04T22:42:05" class="time">22:42</a></td></tr>
<tr id="t2019-11-04T22:42:40"><th class="nick" style="background: #c3c366">marler8997</th><td class="text" style="color: #c3c366">so you're saying I should do this:</td><td class="time"><a href="#t2019-11-04T22:42:40" class="time">22:42</a></td></tr>
<tr id="t2019-11-04T22:42:50"><th class="nick" style="background: #c3c366">marler8997</th><td class="text" style="color: #c3c366">DEPENDS_class-native = "bash coreutils openssl"</td><td class="time"><a href="#t2019-11-04T22:42:50" class="time">22:42</a></td></tr>
<tr id="t2019-11-04T22:43:01"><th class="nick" style="background: #c3c366">marler8997</th><td class="text" style="color: #c3c366">RDEPENDS_${PN} = "bash coreutils openssl"?</td><td class="time"><a href="#t2019-11-04T22:43:01" class="time">22:43</a></td></tr>
<tr id="t2019-11-04T22:45:48"><th class="nick" style="background: #c668c6">khem</th><td class="text" style="color: #c668c6">rdeps are encoded into packages ( rpms, ipk etx metadata) since there are no output packages for native packages rdeps might go unnotices</td><td class="time"><a href="#t2019-11-04T22:45:48" class="time">22:45</a></td></tr>
<tr id="t2019-11-04T22:45:48"><th class="nick" style="background: #c3c366">marler8997</th><td class="text" style="color: #c3c366">Actually, it would be: DEPENDS_class-native = "bash-native coreutils-native openssl-native"</td><td class="time"><a href="#t2019-11-04T22:45:48" class="time">22:45</a></td></tr>
<tr id="t2019-11-04T22:46:18"><th class="nick" style="background: #c3c366">marler8997</th><td class="text" style="color: #c3c366">right, I understand what's goin on, I just don't understand the right way to do this</td><td class="time"><a href="#t2019-11-04T22:46:18" class="time">22:46</a></td></tr>
<tr id="t2019-11-04T22:46:43"><th class="nick" style="background: #c3c366">marler8997</th><td class="text" style="color: #c3c366">I want to write a recipe that works both with "-native" and without "-native".&nbsp;&nbsp; I would think I could configure the same dependencies for both</td><td class="time"><a href="#t2019-11-04T22:46:43" class="time">22:46</a></td></tr>
<tr id="t2019-11-04T22:46:45"><th class="nick" style="background: #c668c6">khem</th><td class="text" style="color: #c668c6">DEPENDS_class-native = "bash-native coreutils-native openssl-native" seems fine</td><td class="time"><a href="#t2019-11-04T22:46:45" class="time">22:46</a></td></tr>
<tr id="t2019-11-04T22:46:54"><th class="nick" style="background: #c3c366">marler8997</th><td class="text" style="color: #c3c366">but that doesn't seem right does it?</td><td class="time"><a href="#t2019-11-04T22:46:54" class="time">22:46</a></td></tr>
<tr id="t2019-11-04T22:47:04"><th class="nick" style="background: #c3c366">marler8997</th><td class="text" style="color: #c3c366">Now I have to code the same dependencies twice</td><td class="time"><a href="#t2019-11-04T22:47:04" class="time">22:47</a></td></tr>
<tr id="t2019-11-04T22:47:44"><th class="nick" style="background: #c3c366">marler8997</th><td class="text" style="color: #c3c366">DEPENDS_class-native = "bash-native coreutils-native openssl-native" and then RDEPENDS_${PN} = "bash coreutils openssl"</td><td class="time"><a href="#t2019-11-04T22:47:44" class="time">22:47</a></td></tr>
<tr id="t2019-11-04T22:47:53"><th class="nick" style="background: #c3c366">marler8997</th><td class="text" style="color: #c3c366">is that really the right way to do this?</td><td class="time"><a href="#t2019-11-04T22:47:53" class="time">22:47</a></td></tr>
<tr id="t2019-11-04T22:49:15"><th class="nick" style="background: #c668c6">khem</th><td class="text" style="color: #c668c6">usually rdeps are built too so I am sure it should be building the rdeps but it might not be staging them for native package sysroots</td><td class="time"><a href="#t2019-11-04T22:49:15" class="time">22:49</a></td></tr>
<tr id="t2019-11-04T22:49:57"><th class="nick" style="background: #c3c366">marler8997</th><td class="text" style="color: #c3c366">the RDEPS are not availible in the sysroot so my recipe that depends on openssl-wrapper-native fails because openssl isn't installed to the sysroot</td><td class="time"><a href="#t2019-11-04T22:49:57" class="time">22:49</a></td></tr>
<tr id="t2019-11-04T22:50:12"><th class="nick" style="background: #c3c366">marler8997</th><td class="text" style="color: #c3c366">I know I can add DEPENDS += "openssl"</td><td class="time"><a href="#t2019-11-04T22:50:12" class="time">22:50</a></td></tr>
<tr id="t2019-11-04T22:50:17"><th class="nick" style="background: #c3c366">marler8997</th><td class="text" style="color: #c3c366">but that doesn't seem correct</td><td class="time"><a href="#t2019-11-04T22:50:17" class="time">22:50</a></td></tr>
<tr id="t2019-11-04T22:50:34"><th class="nick" style="background: #c3c366">marler8997</th><td class="text" style="color: #c3c366">I mean DEPENDS += "openssl-native"</td><td class="time"><a href="#t2019-11-04T22:50:34" class="time">22:50</a></td></tr>
<tr id="t2019-11-04T22:51:05"><th class="nick" style="background: #c3c366">marler8997</th><td class="text" style="color: #c3c366">am I really supposed to configure the same dependencies twice...once for when it is installed to the sysroot and one for when it is installed to the target rootfs?</td><td class="time"><a href="#t2019-11-04T22:51:05" class="time">22:51</a></td></tr>
<tr id="t2019-11-04T22:54:57"><th class="nick" style="background: #c668c6">khem</th><td class="text" style="color: #c668c6">rdeps are target specific</td><td class="time"><a href="#t2019-11-04T22:54:57" class="time">22:54</a></td></tr>
<tr id="t2019-11-04T22:55:14"><th class="nick" style="background: #c3c366">marler8997</th><td class="text" style="color: #c3c366">right, I understand what RDEPENDS does</td><td class="time"><a href="#t2019-11-04T22:55:14" class="time">22:55</a></td></tr>
<tr id="t2019-11-04T22:55:42"><th class="nick" style="background: #c3c366">marler8997</th><td class="text" style="color: #c3c366">it causes the packages listed to be installed when you install the PN from RDEPENDS_PN</td><td class="time"><a href="#t2019-11-04T22:55:42" class="time">22:55</a></td></tr>
<tr id="t2019-11-04T22:56:21"><th class="nick" style="background: #c3c366">marler8997</th><td class="text" style="color: #c3c366">in the example I posted, what is the right way to configure openssl-wrapper.bb so it works both natively and on the target</td><td class="time"><a href="#t2019-11-04T22:56:21" class="time">22:56</a></td></tr>
<tr id="t2019-11-04T22:56:28"><th class="nick" style="background: #c3c366">marler8997</th><td class="text" style="color: #c3c366">openssl-wrapper is just creating a bash script that called openssl</td><td class="time"><a href="#t2019-11-04T22:56:28" class="time">22:56</a></td></tr>
<tr id="t2019-11-04T22:56:40"><th class="nick" style="background: #c3c366">marler8997</th><td class="text" style="color: #c3c366">so it requires both bash and openssl to be installed</td><td class="time"><a href="#t2019-11-04T22:56:40" class="time">22:56</a></td></tr>
<tr id="t2019-11-04T22:57:24"><th class="nick" style="background: #c3c366">marler8997</th><td class="text" style="color: #c3c366">the only way I know how to make that work both natively and on the target is to use DEPENDS += "bash-native openssl-native" and RDEPENDS_${PN} += "bash openssl"</td><td class="time"><a href="#t2019-11-04T22:57:24" class="time">22:57</a></td></tr>
<tr id="t2019-11-04T22:57:31"><th class="nick" style="background: #c668c6">khem</th><td class="text" style="color: #c668c6">rdeps should get mapped to native as well</td><td class="time"><a href="#t2019-11-04T22:57:31" class="time">22:57</a></td></tr>
<tr id="t2019-11-04T22:57:33"><th class="nick" style="background: #c3c366">marler8997</th><td class="text" style="color: #c3c366">but that doesn't seem right</td><td class="time"><a href="#t2019-11-04T22:57:33" class="time">22:57</a></td></tr>
<tr id="t2019-11-04T22:57:33"><th class="nick" style="background: #c668c6">khem</th><td class="text" style="color: #c668c6">hmm</td><td class="time"><a href="#t2019-11-04T22:57:33" class="time">22:57</a></td></tr>
<tr id="t2019-11-04T22:58:17"><th class="nick" style="background: #c3c366">marler8997</th><td class="text" style="color: #c3c366">right, it would get mapped to native</td><td class="time"><a href="#t2019-11-04T22:58:17" class="time">22:58</a></td></tr>
<tr id="t2019-11-04T22:58:23"><th class="nick" style="background: #c3c366">marler8997</th><td class="text" style="color: #c3c366">but sysroot doesn't use packages</td><td class="time"><a href="#t2019-11-04T22:58:23" class="time">22:58</a></td></tr>
<tr id="t2019-11-04T22:58:52"><th class="nick" style="background: #c3c366">marler8997</th><td class="text" style="color: #c3c366">it uses SYSROOT_DIRS for normal recipes and SYSROOT_DIRS_NATIVE for "*-native" recipes</td><td class="time"><a href="#t2019-11-04T22:58:52" class="time">22:58</a></td></tr>
<tr id="t2019-11-04T22:59:15"><th class="nick" style="background: #c3c366">marler8997</th><td class="text" style="color: #c3c366">SYSROOT_DIRS uses common library directories and SYSROOT_DIRS_NATIVE uses common bin/config directories</td><td class="time"><a href="#t2019-11-04T22:59:15" class="time">22:59</a></td></tr>
<tr id="t2019-11-04T22:59:53"><th class="nick" style="background: #c3c366">marler8997</th><td class="text" style="color: #c3c366">it took me a while to realize that the sysroot is populated completely differently from the packages</td><td class="time"><a href="#t2019-11-04T22:59:53" class="time">22:59</a></td></tr>
<tr id="t2019-11-04T23:00:13"><th class="nick" style="background: #c3c366">marler8997</th><td class="text" style="color: #c3c366">and that sysroot uses DEPENDS and the packages use RDEPENDS</td><td class="time"><a href="#t2019-11-04T23:00:13" class="time">23:00</a></td></tr>
<tr id="t2019-11-04T23:01:44"><th class="nick" style="background: #c3c366">marler8997</th><td class="text" style="color: #c3c366">at least that's how I understand it, when I think about it more, it seems like "*-native" packages should actualy be using RDEPENDS to know which "*-native" packages it depends on...but that doesn't seem to be the case in my example</td><td class="time"><a href="#t2019-11-04T23:01:44" class="time">23:01</a></td></tr>
<tr id="t2019-11-04T23:12:23"><th class="nick" style="background: #c3c366">marler8997</th><td class="text" style="color: #c3c366">it seems very odd to me that there are 2 different systems for "native runtime dependencies" and "target runtime dependencies"</td><td class="time"><a href="#t2019-11-04T23:12:23" class="time">23:12</a></td></tr>
<tr id="t2019-11-04T23:12:51"><th class="nick" style="background: #c3c366">marler8997</th><td class="text" style="color: #c3c366">as I see it, this comes from the fact that the sysroot is populated differently from the target rootfs</td><td class="time"><a href="#t2019-11-04T23:12:51" class="time">23:12</a></td></tr>
<tr id="t2019-11-04T23:13:16"><th class="nick" style="background: #c3c366">marler8997</th><td class="text" style="color: #c3c366">if sysroot was populated from the packages, then this would work as expected</td><td class="time"><a href="#t2019-11-04T23:13:16" class="time">23:13</a></td></tr>
<tr id="t2019-11-04T23:20:12"><th class="nick" style="background: #c668c6">khem</th><td class="text" style="color: #c668c6">openssl seems to not have option -v so maybe you want to use something like 'help'</td><td class="time"><a href="#t2019-11-04T23:20:12" class="time">23:20</a></td></tr>
<tr id="t2019-11-04T23:20:42"><th class="nick" style="background: #c668c6">khem</th><td class="text" style="color: #c668c6">and perhaps thats what the problem is</td><td class="time"><a href="#t2019-11-04T23:20:42" class="time">23:20</a></td></tr>
<tr id="t2019-11-04T23:33:14"><th class="nick" style="background: #c3c366">marler8997</th><td class="text" style="color: #c3c366">the problem is it can't find openssl</td><td class="time"><a href="#t2019-11-04T23:33:14" class="time">23:33</a></td></tr>
<tr id="t2019-11-04T23:33:18"><th class="nick" style="background: #c3c366">marler8997</th><td class="text" style="color: #c3c366">because it's not being installed to the sysroot</td><td class="time"><a href="#t2019-11-04T23:33:18" class="time">23:33</a></td></tr>
<tr id="t2019-11-04T23:33:37"><th class="nick" style="background: #c3c366">marler8997</th><td class="text" style="color: #c3c366">but when I add DEPENDS_class-native += "openssl-native", then it does get installed to the sysroot</td><td class="time"><a href="#t2019-11-04T23:33:37" class="time">23:33</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2019-11-03.log.html">&#171; Sunday, 2019-11-03</a> <a href="index.html">Index</a> <a href="%23yocto.2019-11-05.log.html">Tuesday, 2019-11-05 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.11.0 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="http://mg.pov.lt/irclog2html/">mg.pov.lt</a>!</p>
</div>
</body>
</html>
