<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Friday, 2021-02-05</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.17.2 by Marius Gedminas" />
  <meta name="version" content="2.17.2 - 2019-04-23" />
</head>
<body>
<h1>Friday, 2021-02-05</h1>
<div class="navigation"> <a href="%23yocto.2021-02-04.log.html">&#171; Thursday, 2021-02-04</a> <a href="index.html">Index</a> <a href="%23yocto.2021-02-06.log.html">Saturday, 2021-02-06 &#187;</a> </div>
<table class="irclog">
<tr id="t2021-02-05T00:05:49"><td class="part" colspan="2">*** beneth &lt;beneth!~beneth@irc.beneth.fr&gt; has left #yocto</td><td><a href="#t2021-02-05T00:05:49" class="time">00:05</a></td></tr>
<tr id="t2021-02-05T06:55:29"><td class="nickchange" colspan="2">*** minimaxw1ll is now known as minimaxwell</td><td><a href="#t2021-02-05T06:55:29" class="time">06:55</a></td></tr>
<tr id="t2021-02-05T07:38:56"><th class="nick" style="background: #407a40">thekappe</th><td class="text" style="color: #407a40">Hello guys ! In my kernel recipe folder I have two subfolders: files (with patches) and configs (with .cfg), how can I add both of them to FILESEXTRAPATHS_prepend ?</td><td class="time"><a href="#t2021-02-05T07:38:56" class="time">07:38</a></td></tr>
<tr id="t2021-02-05T07:39:11"><td class="nickchange" colspan="2">*** mckoan|away is now known as mckoan</td><td><a href="#t2021-02-05T07:39:11" class="time">07:39</a></td></tr>
<tr id="t2021-02-05T07:50:56"><th class="nick" style="background: #42427e">LetoThe2nd</th><td class="text" style="color: #42427e">yo dudX</td><td class="time"><a href="#t2021-02-05T07:50:56" class="time">07:50</a></td></tr>
<tr id="t2021-02-05T07:56:30"><th class="nick" style="background: #818144">mckoan</th><td class="text" style="color: #818144">hi LetoThe2nd</td><td class="time"><a href="#t2021-02-05T07:56:30" class="time">07:56</a></td></tr>
<tr id="t2021-02-05T07:56:54"><th class="nick" style="background: #42427e">LetoThe2nd</th><td class="text" style="color: #42427e">howdy mckoan</td><td class="time"><a href="#t2021-02-05T07:56:54" class="time">07:56</a></td></tr>
<tr id="t2021-02-05T08:16:04"><td class="nickchange" colspan="2">*** rperier_ is now known as rperier</td><td><a href="#t2021-02-05T08:16:04" class="time">08:16</a></td></tr>
<tr id="t2021-02-05T08:17:30"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">thekappe: add each one separated by a &quot;:&quot; ?</td><td class="time"><a href="#t2021-02-05T08:17:30" class="time">08:17</a></td></tr>
<tr id="t2021-02-05T08:18:42"><th class="nick" style="background: #407a40">thekappe</th><td class="text" style="color: #407a40">RP, thanks !</td><td class="time"><a href="#t2021-02-05T08:18:42" class="time">08:18</a></td></tr>
<tr id="t2021-02-05T08:21:40"><th class="nick" style="background: #488888">dvorkindmitry</th><td class="text" style="color: #488888">is there -native recipe example? can't find the good one.</td><td class="time"><a href="#t2021-02-05T08:21:40" class="time">08:21</a></td></tr>
<tr id="t2021-02-05T08:26:45"><th class="nick" style="background: #42427e">LetoThe2nd</th><td class="text" style="color: #42427e">dvorkindmitry: one that is explicitly -native, or one that is native enabled?</td><td class="time"><a href="#t2021-02-05T08:26:45" class="time">08:26</a></td></tr>
<tr id="t2021-02-05T08:28:18"><th class="nick" style="background: #488888">dvorkindmitry</th><td class="text" style="color: #488888">LetoThe2nd, I don't really know. I need the script from recipe A to be used while building recipe B binary.</td><td class="time"><a href="#t2021-02-05T08:28:18" class="time">08:28</a></td></tr>
<tr id="t2021-02-05T08:29:01"><th class="nick" style="background: #42427e">LetoThe2nd</th><td class="text" style="color: #42427e">dvorkindmitry: if A is technically also buildable for the target, then its probably enough to jsut add BBCLASSEXTEND = &quot;native&quot;.</td><td class="time"><a href="#t2021-02-05T08:29:01" class="time">08:29</a></td></tr>
<tr id="t2021-02-05T08:29:08"><th class="nick" style="background: #42427e">LetoThe2nd</th><td class="text" style="color: #42427e">dvorkindmitry: look at bc, for example.</td><td class="time"><a href="#t2021-02-05T08:29:08" class="time">08:29</a></td></tr>
<tr id="t2021-02-05T08:30:36"><td class="nickchange" colspan="2">*** lpoulain| is now known as lpoulain</td><td><a href="#t2021-02-05T08:30:36" class="time">08:30</a></td></tr>
<tr id="t2021-02-05T08:31:15"><th class="nick" style="background: #488888">dvorkindmitry</th><td class="text" style="color: #488888">LetoThe2nd, I added BBCLASSEXTEND = &quot;native&quot; to recipe A. But I can't find the script installed into {D} from recipe A do_install() in the work directories of recipe B.</td><td class="time"><a href="#t2021-02-05T08:31:15" class="time">08:31</a></td></tr>
<tr id="t2021-02-05T08:31:53"><th class="nick" style="background: #42427e">LetoThe2nd</th><td class="text" style="color: #42427e">dvorkindmitry: well did you add DEPENDS = &quot;A-native&quot;?</td><td class="time"><a href="#t2021-02-05T08:31:53" class="time">08:31</a></td></tr>
<tr id="t2021-02-05T08:32:04"><th class="nick" style="background: #488888">dvorkindmitry</th><td class="text" style="color: #488888">LetoThe2nd, I did</td><td class="time"><a href="#t2021-02-05T08:32:04" class="time">08:32</a></td></tr>
<tr id="t2021-02-05T08:33:31"><th class="nick" style="background: #488888">dvorkindmitry</th><td class="text" style="color: #488888">I have no FILES... section in recipe A, but it doesn't give me any error messages and looks like it doesn't do packaging!</td><td class="time"><a href="#t2021-02-05T08:33:31" class="time">08:33</a></td></tr>
<tr id="t2021-02-05T08:35:16"><th class="nick" style="background: #488888">dvorkindmitry</th><td class="text" style="color: #488888">it does ... install and deploy (used in DEPLOYdir too). no packaging. I suspect, I forgot to add some property to the A recipe</td><td class="time"><a href="#t2021-02-05T08:35:16" class="time">08:35</a></td></tr>
<tr id="t2021-02-05T08:35:43"><th class="nick" style="background: #42427e">LetoThe2nd</th><td class="text" style="color: #42427e">i would try cleaning A-native, rebuild B and see what happens. if nothing shows up then you have to dig deeper, yes.</td><td class="time"><a href="#t2021-02-05T08:35:43" class="time">08:35</a></td></tr>
<tr id="t2021-02-05T08:36:05"><th class="nick" style="background: #488888">dvorkindmitry</th><td class="text" style="color: #488888">I already did. No effect</td><td class="time"><a href="#t2021-02-05T08:36:05" class="time">08:36</a></td></tr>
<tr id="t2021-02-05T08:36:48"><th class="nick" style="background: #488888">dvorkindmitry</th><td class="text" style="color: #488888">recipe B rally depends on A, A looks instaled. But no files from it in B recipe dirs</td><td class="time"><a href="#t2021-02-05T08:36:48" class="time">08:36</a></td></tr>
<tr id="t2021-02-05T08:36:58"><th class="nick" style="background: #488888">dvorkindmitry</th><td class="text" style="color: #488888">rally-&gt;really</td><td class="time"><a href="#t2021-02-05T08:36:58" class="time">08:36</a></td></tr>
<tr id="t2021-02-05T08:37:49"><th class="nick" style="background: #42427e">LetoThe2nd</th><td class="text" style="color: #42427e">dvorkindmitry: ah. they should not show up in the recipe dir, but in the sysroots that B uses. you hopefully looked in the right places?</td><td class="time"><a href="#t2021-02-05T08:37:49" class="time">08:37</a></td></tr>
<tr id="t2021-02-05T08:40:43"><th class="nick" style="background: #488888">dvorkindmitry</th><td class="text" style="color: #488888">I did find &lt;recipeAdir&gt; -name &quot;filenamefromB&quot; - nothing</td><td class="time"><a href="#t2021-02-05T08:40:43" class="time">08:40</a></td></tr>
<tr id="t2021-02-05T08:41:34"><th class="nick" style="background: #488888">dvorkindmitry</th><td class="text" style="color: #488888">sorry, vise-versa... :)</td><td class="time"><a href="#t2021-02-05T08:41:34" class="time">08:41</a></td></tr>
<tr id="t2021-02-05T08:42:55"><th class="nick" style="background: #488888">dvorkindmitry</th><td class="text" style="color: #488888">what looks suspitious for me is that I have do_install() { install myscript } and have image/...myscript, but no packaging dir for this A recipe</td><td class="time"><a href="#t2021-02-05T08:42:55" class="time">08:42</a></td></tr>
<tr id="t2021-02-05T08:43:40"><th class="nick" style="background: #42427e">LetoThe2nd</th><td class="text" style="color: #42427e">without seeing the recipe i personally can't guess more, sorry. others probably can, but its beyond my knowledge.</td><td class="time"><a href="#t2021-02-05T08:43:40" class="time">08:43</a></td></tr>
<tr id="t2021-02-05T08:47:31"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">dvorkindmitry: you can see what the recipe installed to the sysroot by looking in tmp/sysroot-components/(host arch)/A-native/</td><td class="time"><a href="#t2021-02-05T08:47:31" class="time">08:47</a></td></tr>
<tr id="t2021-02-05T09:09:27"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">khem: do you plan on merging my meta-py fixes? our CI is broken.</td><td class="time"><a href="#t2021-02-05T09:09:27" class="time">09:09</a></td></tr>
<tr id="t2021-02-05T09:09:54"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">hm i forgot to [meta-python] tag them</td><td class="time"><a href="#t2021-02-05T09:09:54" class="time">09:09</a></td></tr>
<tr id="t2021-02-05T09:27:03"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">dvorkindmitry: not sure there's packaging for native recipes?</td><td class="time"><a href="#t2021-02-05T09:27:03" class="time">09:27</a></td></tr>
<tr id="t2021-02-05T09:54:25"><th class="nick" style="background: #4d4d93">marex</th><td class="text" style="color: #4d4d93">Hi, there is one thing I am curious about</td><td class="time"><a href="#t2021-02-05T09:54:25" class="time">09:54</a></td></tr>
<tr id="t2021-02-05T09:54:37"><th class="nick" style="background: #4d4d93">marex</th><td class="text" style="color: #4d4d93">if I track kernel patches in a metalayer</td><td class="time"><a href="#t2021-02-05T09:54:37" class="time">09:54</a></td></tr>
<tr id="t2021-02-05T09:55:21"><th class="nick" style="background: #4d4d93">marex</th><td class="text" style="color: #4d4d93">assume I have foo-patches.scc which lists the patchset and then matching patches in the same directory, 000*-whatever.patch</td><td class="time"><a href="#t2021-02-05T09:55:21" class="time">09:55</a></td></tr>
<tr id="t2021-02-05T09:55:37"><th class="nick" style="background: #4d4d93">marex</th><td class="text" style="color: #4d4d93">now, a new kernel version is rolled out, I generate those patches with git format-patch</td><td class="time"><a href="#t2021-02-05T09:55:37" class="time">09:55</a></td></tr>
<tr id="t2021-02-05T09:56:20"><th class="nick" style="background: #4d4d93">marex</th><td class="text" style="color: #4d4d93">I end up with a diff full of +- lines for From with a different hash, possibly Subject where [PATCH nn/mm] is modified, and also some index ... entries</td><td class="time"><a href="#t2021-02-05T09:56:20" class="time">09:56</a></td></tr>
<tr id="t2021-02-05T09:56:39"><th class="nick" style="background: #4d4d93">marex</th><td class="text" style="color: #4d4d93">I wonder, is there a tool to scrub those useless changes to clean up the sync diff ?</td><td class="time"><a href="#t2021-02-05T09:56:39" class="time">09:56</a></td></tr>
<tr id="t2021-02-05T09:57:50"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">marex: hard part is deciding which bits are useless</td><td class="time"><a href="#t2021-02-05T09:57:50" class="time">09:57</a></td></tr>
<tr id="t2021-02-05T09:58:24"><th class="nick" style="background: #4d4d93">marex</th><td class="text" style="color: #4d4d93">RP: the patch context is generally useless, since its text unrelated to the patch content</td><td class="time"><a href="#t2021-02-05T09:58:24" class="time">09:58</a></td></tr>
<tr id="t2021-02-05T09:58:28"><th class="nick" style="background: #4d4d93">marex</th><td class="text" style="color: #4d4d93">right ?</td><td class="time"><a href="#t2021-02-05T09:58:28" class="time">09:58</a></td></tr>
<tr id="t2021-02-05T09:59:41"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">marex: it has a use in that it helps the system understand where the patch content needs to go. Its noise in that it obscures what you happen to want in this case.</td><td class="time"><a href="#t2021-02-05T09:59:41" class="time">09:59</a></td></tr>
<tr id="t2021-02-05T10:00:08"><th class="nick" style="background: #4d4d93">marex</th><td class="text" style="color: #4d4d93">RP: I mean things like 'From b7cefab79b977ec289a3254b1f5135af6e98d4da Mon Sep 17 00:00:00 2001'</td><td class="time"><a href="#t2021-02-05T10:00:08" class="time">10:00</a></td></tr>
<tr id="t2021-02-05T10:00:21"><th class="nick" style="background: #4d4d93">marex</th><td class="text" style="color: #4d4d93">that is just noise and doesnt help anything, really</td><td class="time"><a href="#t2021-02-05T10:00:21" class="time">10:00</a></td></tr>
<tr id="t2021-02-05T10:00:46"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">marex: is there something in diffutills which would strip things down to bare patches?</td><td class="time"><a href="#t2021-02-05T10:00:46" class="time">10:00</a></td></tr>
<tr id="t2021-02-05T10:01:11"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">marex: git adds these things as it can help it apply the patches under some circumstances</td><td class="time"><a href="#t2021-02-05T10:01:11" class="time">10:01</a></td></tr>
<tr id="t2021-02-05T10:01:52"><th class="nick" style="background: #4d4d93">marex</th><td class="text" style="color: #4d4d93">RP: I was looking for such a thing for a while, I can't seem to find anything</td><td class="time"><a href="#t2021-02-05T10:01:52" class="time">10:01</a></td></tr>
<tr id="t2021-02-05T10:02:19"><th class="nick" style="background: #4d4d93">marex</th><td class="text" style="color: #4d4d93">I guess I can somehow tweak git config to generate patches without some of that stuff, or filter it manually with sed</td><td class="time"><a href="#t2021-02-05T10:02:19" class="time">10:02</a></td></tr>
<tr id="t2021-02-05T11:22:50"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">is there a way to get a sysroot of one recipe with all debug symbols (basically all -dbg packages of everything in DEPENDS of said recipe)?</td><td class="time"><a href="#t2021-02-05T11:22:50" class="time">11:22</a></td></tr>
<tr id="t2021-02-05T11:26:45"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">qschulz: the debug info is only packaged, not put into sysroots so you'd need an image recipe with debug image enabled installing that one recipe</td><td class="time"><a href="#t2021-02-05T11:26:45" class="time">11:26</a></td></tr>
<tr id="t2021-02-05T11:31:59"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">you can turn off stripping of the sysroot if you really need it though</td><td class="time"><a href="#t2021-02-05T11:31:59" class="time">11:31</a></td></tr>
<tr id="t2021-02-05T11:32:17"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">when i was digging at pseudo I had INHIBIT_SYSROOT_STRIP_pn-pseudo-native = &quot;1&quot;</td><td class="time"><a href="#t2021-02-05T11:32:17" class="time">11:32</a></td></tr>
<tr id="t2021-02-05T11:33:01"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">sounds like what you want is a debug image though, generated like an image but with all symbols for gdb to ues</td><td class="time"><a href="#t2021-02-05T11:33:01" class="time">11:33</a></td></tr>
<tr id="t2021-02-05T11:33:16"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">or, the debuginfod stuff dorinda is working on :)</td><td class="time"><a href="#t2021-02-05T11:33:16" class="time">11:33</a></td></tr>
<tr id="t2021-02-05T11:34:36"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">the debug image is the fastest way I know of to get it with the existing code</td><td class="time"><a href="#t2021-02-05T11:34:36" class="time">11:34</a></td></tr>
<tr id="t2021-02-05T11:38:50"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">rburton: this INHIBIT_SYSROOT_STRIP_pn-pseudo-native applies to sysroot-destdir dir of pseudo-native right?</td><td class="time"><a href="#t2021-02-05T11:38:50" class="time">11:38</a></td></tr>
<tr id="t2021-02-05T11:41:55"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">qschulz: yes</td><td class="time"><a href="#t2021-02-05T11:41:55" class="time">11:41</a></td></tr>
<tr id="t2021-02-05T11:46:57"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">ok so that's not really what I wanted but that is interesting to know. (in the end we went for a debug image enabled &quot;rootfs&quot;)</td><td class="time"><a href="#t2021-02-05T11:46:57" class="time">11:46</a></td></tr>
<tr id="t2021-02-05T11:47:41"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">oh new uboot</td><td class="time"><a href="#t2021-02-05T11:47:41" class="time">11:47</a></td></tr>
<tr id="t2021-02-05T11:49:58"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">marex: any plans to upgrade uboot in oe-core?</td><td class="time"><a href="#t2021-02-05T11:49:58" class="time">11:49</a></td></tr>
<tr id="t2021-02-05T11:55:44"><th class="nick" style="background: #97974f">lxc</th><td class="text" style="color: #97974f">how to specify a dependency to a native compiler? DEPENDS = &quot;gcc-native&quot;?</td><td class="time"><a href="#t2021-02-05T11:55:44" class="time">11:55</a></td></tr>
<tr id="t2021-02-05T11:57:55"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">the native compiler is assumed to exist</td><td class="time"><a href="#t2021-02-05T11:57:55" class="time">11:57</a></td></tr>
<tr id="t2021-02-05T11:58:25"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">(on the host)</td><td class="time"><a href="#t2021-02-05T11:58:25" class="time">11:58</a></td></tr>
<tr id="t2021-02-05T11:59:59"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">hmm, one ltp run on the arm server 3.75 hours, the other was nearly 7 :/</td><td class="time"><a href="#t2021-02-05T11:59:59" class="time">11:59</a></td></tr>
<tr id="t2021-02-05T12:00:17"><td class="action" colspan="2">* RP is going to merge glibc 2.33, looks like it builds cleanly</td><td><a href="#t2021-02-05T12:00:17" class="time">12:00</a></td></tr>
<tr id="t2021-02-05T12:03:12"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">jonmason: I reran the failing ltps and they went green FWIW</td><td class="time"><a href="#t2021-02-05T12:03:12" class="time">12:03</a></td></tr>
<tr id="t2021-02-05T12:04:31"><th class="nick" style="background: #9b519b">jonmason</th><td class="text" style="color: #9b519b">Cool, so it's not occuring every time</td><td class="time"><a href="#t2021-02-05T12:04:31" class="time">12:04</a></td></tr>
<tr id="t2021-02-05T12:04:51"><th class="nick" style="background: #4d4d93">marex</th><td class="text" style="color: #4d4d93">rburton: doesnt AUH do that ?</td><td class="time"><a href="#t2021-02-05T12:04:51" class="time">12:04</a></td></tr>
<tr id="t2021-02-05T12:05:21"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">marex: uboot is on my list of things that should likely be tested before pushing :)</td><td class="time"><a href="#t2021-02-05T12:05:21" class="time">12:05</a></td></tr>
<tr id="t2021-02-05T12:05:40"><th class="nick" style="background: #4d4d93">marex</th><td class="text" style="color: #4d4d93">rburton: tested in what way ? :)</td><td class="time"><a href="#t2021-02-05T12:05:40" class="time">12:05</a></td></tr>
<tr id="t2021-02-05T12:05:53"><th class="nick" style="background: #4d4d93">marex</th><td class="text" style="color: #4d4d93">rburton: I am running it on the boards I care about already</td><td class="time"><a href="#t2021-02-05T12:05:53" class="time">12:05</a></td></tr>
<tr id="t2021-02-05T12:06:12"><th class="nick" style="background: #4d4d93">marex</th><td class="text" style="color: #4d4d93">rburton: switching the SRC_URI is enough</td><td class="time"><a href="#t2021-02-05T12:06:12" class="time">12:06</a></td></tr>
<tr id="t2021-02-05T12:06:26"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">marex: can you send the patch :)</td><td class="time"><a href="#t2021-02-05T12:06:26" class="time">12:06</a></td></tr>
<tr id="t2021-02-05T12:06:40"><th class="nick" style="background: #4d4d93">marex</th><td class="text" style="color: #4d4d93">rburton: doesnt AUH do that ?</td><td class="time"><a href="#t2021-02-05T12:06:40" class="time">12:06</a></td></tr>
<tr id="t2021-02-05T12:06:49"><th class="nick" style="background: #4d4d93">marex</th><td class="text" style="color: #4d4d93">I was hoping this automation should do it</td><td class="time"><a href="#t2021-02-05T12:06:49" class="time">12:06</a></td></tr>
<tr id="t2021-02-05T12:07:34"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">marex: the AUH can prepare the patches but we do ask that a human does check and confirm its a good idea</td><td class="time"><a href="#t2021-02-05T12:07:34" class="time">12:07</a></td></tr>
<tr id="t2021-02-05T12:07:57"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">marex: you can replicate the work of the AUH by using devtool upgrade locally iirc</td><td class="time"><a href="#t2021-02-05T12:07:57" class="time">12:07</a></td></tr>
<tr id="t2021-02-05T12:08:00"><th class="nick" style="background: #4d4d93">marex</th><td class="text" style="color: #4d4d93">RP: ah, was the patch posted ?</td><td class="time"><a href="#t2021-02-05T12:08:00" class="time">12:08</a></td></tr>
<tr id="t2021-02-05T12:08:11"><th class="nick" style="background: #4d4d93">marex</th><td class="text" style="color: #4d4d93">oh</td><td class="time"><a href="#t2021-02-05T12:08:11" class="time">12:08</a></td></tr>
<tr id="t2021-02-05T12:20:48"><th class="nick" style="background: #4d4d93">marex</th><td class="text" style="color: #4d4d93">RP: rburton: btw Im tracking a local layer with linux 5.10.y and mesa 20.3.y for dunfell here, is there some better place to put it, so its useful for others that want LTS version of core, but more up to date kernel and graphics stack ?</td><td class="time"><a href="#t2021-02-05T12:20:48" class="time">12:20</a></td></tr>
<tr id="t2021-02-05T12:24:15"><th class="nick" style="background: #539e9e">JaMa</th><td class="text" style="color: #539e9e">anyone noticed icu build failing in dunfell like this?</td><td class="time"><a href="#t2021-02-05T12:24:15" class="time">12:24</a></td></tr>
<tr id="t2021-02-05T12:24:17"><th class="nick" style="background: #539e9e">JaMa</th><td class="text" style="color: #539e9e">../data/rules.mk:744: recipe for target 'out/build/icudt66l/windowsZones.res' failed</td><td class="time"><a href="#t2021-02-05T12:24:17" class="time">12:24</a></td></tr>
<tr id="t2021-02-05T12:24:21"><th class="nick" style="background: #539e9e">JaMa</th><td class="text" style="color: #539e9e">make[1]: *** [out/build/icudt66l/windowsZones.res] Segmentation fault</td><td class="time"><a href="#t2021-02-05T12:24:21" class="time">12:24</a></td></tr>
<tr id="t2021-02-05T12:24:32"><th class="nick" style="background: #539e9e">JaMa</th><td class="text" style="color: #539e9e">sometimes there is &quot;Bus error&quot; instead of segmentation fault</td><td class="time"><a href="#t2021-02-05T12:24:32" class="time">12:24</a></td></tr>
<tr id="t2021-02-05T12:31:04"><th class="nick" style="background: #4d4d93">marex</th><td class="text" style="color: #4d4d93">JaMa: I am just building it, in previous builds I didnt see it</td><td class="time"><a href="#t2021-02-05T12:31:04" class="time">12:31</a></td></tr>
<tr id="t2021-02-05T12:31:23"><th class="nick" style="background: #4d4d93">marex</th><td class="text" style="color: #4d4d93">JaMa: could it be HW error on the build box ?</td><td class="time"><a href="#t2021-02-05T12:31:23" class="time">12:31</a></td></tr>
<tr id="t2021-02-05T12:32:53"><th class="nick" style="background: #539e9e">JaMa</th><td class="text" style="color: #539e9e">it might, but I'm seeing it only in icu (3 times since last dunfell update yesterday)</td><td class="time"><a href="#t2021-02-05T12:32:53" class="time">12:32</a></td></tr>
<tr id="t2021-02-05T12:33:32"><th class="nick" style="background: #4d4d93">marex</th><td class="text" style="color: #4d4d93">JaMa: is that native or target build ?</td><td class="time"><a href="#t2021-02-05T12:33:32" class="time">12:33</a></td></tr>
<tr id="t2021-02-05T12:33:42"><th class="nick" style="background: #539e9e">JaMa</th><td class="text" style="color: #539e9e">target</td><td class="time"><a href="#t2021-02-05T12:33:42" class="time">12:33</a></td></tr>
<tr id="t2021-02-05T12:33:58"><th class="nick" style="background: #539e9e">JaMa</th><td class="text" style="color: #539e9e">seen it for qemuarm and rpi4</td><td class="time"><a href="#t2021-02-05T12:33:58" class="time">12:33</a></td></tr>
<tr id="t2021-02-05T12:34:11"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">marex: poky-contrib under stable/&lt;something&gt; ?</td><td class="time"><a href="#t2021-02-05T12:34:11" class="time">12:34</a></td></tr>
<tr id="t2021-02-05T12:34:13"><th class="nick" style="background: #4d4d93">marex</th><td class="text" style="color: #4d4d93">JaMa: I'm just building arm32, so lets see</td><td class="time"><a href="#t2021-02-05T12:34:13" class="time">12:34</a></td></tr>
<tr id="t2021-02-05T12:34:37"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">JaMa: not seen that</td><td class="time"><a href="#t2021-02-05T12:34:37" class="time">12:34</a></td></tr>
<tr id="t2021-02-05T12:34:49"><th class="nick" style="background: #539e9e">JaMa</th><td class="text" style="color: #539e9e">but it's relatively rare as it failed 3 times in 100+ builds here and I haven't reproduced it locally yet (only on jenkins)</td><td class="time"><a href="#t2021-02-05T12:34:49" class="time">12:34</a></td></tr>
<tr id="t2021-02-05T12:35:07"><th class="nick" style="background: #4d4d93">marex</th><td class="text" style="color: #4d4d93">RP: meta-stable ? :)</td><td class="time"><a href="#t2021-02-05T12:35:07" class="time">12:35</a></td></tr>
<tr id="t2021-02-05T12:35:34"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">marex: absolutely not</td><td class="time"><a href="#t2021-02-05T12:35:34" class="time">12:35</a></td></tr>
<tr id="t2021-02-05T12:38:33"><th class="nick" style="background: #4d4d93">marex</th><td class="text" style="color: #4d4d93">hehehe :-)</td><td class="time"><a href="#t2021-02-05T12:38:33" class="time">12:38</a></td></tr>
<tr id="t2021-02-05T12:39:39"><th class="nick" style="background: #4d4d93">marex</th><td class="text" style="color: #4d4d93">RP: in fact, I have to wonder, is there still any need for linux-yocto ? wouldn't it make more sense to just pull plain linux-stable ?</td><td class="time"><a href="#t2021-02-05T12:39:39" class="time">12:39</a></td></tr>
<tr id="t2021-02-05T12:42:33"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">marex: that somewhat undervalues the work that goes into testing and maintaining the config data and patches in linux-yocto</td><td class="time"><a href="#t2021-02-05T12:42:33" class="time">12:42</a></td></tr>
<tr id="t2021-02-05T12:44:51"><th class="nick" style="background: #539e9e">JaMa</th><td class="text" style="color: #539e9e">RP: looks like posix format will be the default in newer tar versions, but the docs also say &quot;This format is quite recent, so not all tar implementations are able to handle it properly.&quot; so maybe the centos7 might still handle it differently :/</td><td class="time"><a href="#t2021-02-05T12:44:51" class="time">12:44</a></td></tr>
<tr id="t2021-02-05T12:45:18"><th class="nick" style="background: #4d4d93">marex</th><td class="text" style="color: #4d4d93">RP: cant those extras be applied on linux-stable all the same ?</td><td class="time"><a href="#t2021-02-05T12:45:18" class="time">12:45</a></td></tr>
<tr id="t2021-02-05T12:45:30"><th class="nick" style="background: #a25555">paulbarker</th><td class="text" style="color: #a25555">marex: <a href="https://gitlab.com/openembedded/community/meta-linux-mainline" rel="nofollow">https://gitlab.com/openembedded/community/meta-linux-mainline</a></td><td class="time"><a href="#t2021-02-05T12:45:30" class="time">12:45</a></td></tr>
<tr id="t2021-02-05T12:46:14"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">paulbarker: thanks</td><td class="time"><a href="#t2021-02-05T12:46:14" class="time">12:46</a></td></tr>
<tr id="t2021-02-05T12:47:00"><th class="nick" style="background: #a25555">paulbarker</th><td class="text" style="color: #a25555">marex: linux-yocto is better tested but if you want a vanilla kernel and are happy to do any necessary testing yourself then that layer may save you the time of maintaining the recipes</td><td class="time"><a href="#t2021-02-05T12:47:00" class="time">12:47</a></td></tr>
<tr id="t2021-02-05T12:47:10"><th class="nick" style="background: #4d4d93">marex</th><td class="text" style="color: #4d4d93">paulbarker: <a href="https://gitlab.denx.de/denx/meta-mainline-common" rel="nofollow">https://gitlab.denx.de/denx/meta-mainline-common</a></td><td class="time"><a href="#t2021-02-05T12:47:10" class="time">12:47</a></td></tr>
<tr id="t2021-02-05T12:48:21"><th class="nick" style="background: #a25555">paulbarker</th><td class="text" style="color: #a25555">marex: Let's chat after FOSDEM, perhaps we can consolidate those layers</td><td class="time"><a href="#t2021-02-05T12:48:21" class="time">12:48</a></td></tr>
<tr id="t2021-02-05T12:49:24"><th class="nick" style="background: #a25555">paulbarker</th><td class="text" style="color: #a25555">I'm a bit too busy today and this weekend but after that will have a look around that layer</td><td class="time"><a href="#t2021-02-05T12:49:24" class="time">12:49</a></td></tr>
<tr id="t2021-02-05T12:49:29"><th class="nick" style="background: #4d4d93">marex</th><td class="text" style="color: #4d4d93">paulbarker: ideally into something which gets updated often</td><td class="time"><a href="#t2021-02-05T12:49:29" class="time">12:49</a></td></tr>
<tr id="t2021-02-05T12:49:34"><th class="nick" style="background: #4d4d93">marex</th><td class="text" style="color: #4d4d93">and automatically</td><td class="time"><a href="#t2021-02-05T12:49:34" class="time">12:49</a></td></tr>
<tr id="t2021-02-05T12:49:45"><th class="nick" style="background: #a25555">paulbarker</th><td class="text" style="color: #a25555">marex: <a href="https://gitlab.com/openembedded/community/meta-linux-mainline/-/blob/master/scripts/update-layer" rel="nofollow">https://gitlab.com/openembedded/community/meta-linux-mainline/-/blob/master/scripts/update-layer</a></td><td class="time"><a href="#t2021-02-05T12:49:45" class="time">12:49</a></td></tr>
<tr id="t2021-02-05T12:49:55"><th class="nick" style="background: #4d4d93">marex</th><td class="text" style="color: #4d4d93">paulbarker: I have my own update script too</td><td class="time"><a href="#t2021-02-05T12:49:55" class="time">12:49</a></td></tr>
<tr id="t2021-02-05T12:50:33"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">I have talked about getting linux-yocto-dev running on the autobuilder fwiw</td><td class="time"><a href="#t2021-02-05T12:50:33" class="time">12:50</a></td></tr>
<tr id="t2021-02-05T12:51:05"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">JaMa: that sounds problematic :(</td><td class="time"><a href="#t2021-02-05T12:51:05" class="time">12:51</a></td></tr>
<tr id="t2021-02-05T12:51:29"><th class="nick" style="background: #a25555">paulbarker</th><td class="text" style="color: #a25555">RP: Unless we want to carry linux-yocto recipes for everything as far back as 4.4.y then I don't think it'll address what I need</td><td class="time"><a href="#t2021-02-05T12:51:29" class="time">12:51</a></td></tr>
<tr id="t2021-02-05T12:52:00"><th class="nick" style="background: #a25555">paulbarker</th><td class="text" style="color: #a25555">Definitely helpful to have that tested on the AB though, don't get me wrong</td><td class="time"><a href="#t2021-02-05T12:52:00" class="time">12:52</a></td></tr>
<tr id="t2021-02-05T12:52:18"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">JaMa: I guess we need to establish if centos7 tar supports posix archives</td><td class="time"><a href="#t2021-02-05T12:52:18" class="time">12:52</a></td></tr>
<tr id="t2021-02-05T12:52:21"><th class="nick" style="background: #4d4d93">marex</th><td class="text" style="color: #4d4d93">paulbarker: if we can put some linux-stable into poky-contrib and keep it updated as soon as new version is out, great</td><td class="time"><a href="#t2021-02-05T12:52:21" class="time">12:52</a></td></tr>
<tr id="t2021-02-05T12:52:39"><th class="nick" style="background: #4d4d93">marex</th><td class="text" style="color: #4d4d93">that should be possible to automate with auh</td><td class="time"><a href="#t2021-02-05T12:52:39" class="time">12:52</a></td></tr>
<tr id="t2021-02-05T12:52:48"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">paulbarker: right, it won't solve every need but for cutting edge it might help some cases</td><td class="time"><a href="#t2021-02-05T12:52:48" class="time">12:52</a></td></tr>
<tr id="t2021-02-05T12:52:51"><th class="nick" style="background: #a25555">paulbarker</th><td class="text" style="color: #a25555">marex: poky-contrib is absolutely not the place to put this, it needs to be a layer we can add</td><td class="time"><a href="#t2021-02-05T12:52:51" class="time">12:52</a></td></tr>
<tr id="t2021-02-05T12:52:57"><th class="nick" style="background: #57a657">manuel_</th><td class="text" style="color: #57a657">Is anyone building with yocto on Alpine Linux?</td><td class="time"><a href="#t2021-02-05T12:52:57" class="time">12:52</a></td></tr>
<tr id="t2021-02-05T12:53:02"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">paulbarker: I want to get better about handling upstream changes more quickly</td><td class="time"><a href="#t2021-02-05T12:53:02" class="time">12:53</a></td></tr>
<tr id="t2021-02-05T12:53:25"><th class="nick" style="background: #a25555">paulbarker</th><td class="text" style="color: #a25555">manuel_: I tried building on Alpine once but had various issues with musl incompatibilities</td><td class="time"><a href="#t2021-02-05T12:53:25" class="time">12:53</a></td></tr>
<tr id="t2021-02-05T12:53:47"><th class="nick" style="background: #4d4d93">marex</th><td class="text" style="color: #4d4d93">RP: dont we already have devupstream bbclass for that ?</td><td class="time"><a href="#t2021-02-05T12:53:47" class="time">12:53</a></td></tr>
<tr id="t2021-02-05T12:54:14"><th class="nick" style="background: #57a657">manuel_</th><td class="text" style="color: #57a657">paulbarker: I see, thanks. Would love to see Crops be based on Alpine instead ?Ubuntu?. :)</td><td class="time"><a href="#t2021-02-05T12:54:14" class="time">12:54</a></td></tr>
<tr id="t2021-02-05T12:54:57"><th class="nick" style="background: #a25555">paulbarker</th><td class="text" style="color: #a25555">manuel_: I don't understand your question there sorry. CROPS needs to use a distro which we know can handle Yocto Project builds</td><td class="time"><a href="#t2021-02-05T12:54:57" class="time">12:54</a></td></tr>
<tr id="t2021-02-05T12:55:11"><th class="nick" style="background: #4d4d93">marex</th><td class="text" style="color: #4d4d93">paulbarker: if we can keep in maintained, separate layer is fine</td><td class="time"><a href="#t2021-02-05T12:55:11" class="time">12:55</a></td></tr>
<tr id="t2021-02-05T12:55:56"><th class="nick" style="background: #a25555">paulbarker</th><td class="text" style="color: #a25555">marex: My limiting factor is a machine to do CI builds on. I should have that addressed within a month or so and then will be able to fully automate updating &amp; test building the layer</td><td class="time"><a href="#t2021-02-05T12:55:56" class="time">12:55</a></td></tr>
<tr id="t2021-02-05T12:57:25"><th class="nick" style="background: #57a657">manuel_</th><td class="text" style="color: #57a657">paulbarker: Yes, having Yocto projects build successfully on Alpine would of course be a requirement for basing CROPS on Alpine.</td><td class="time"><a href="#t2021-02-05T12:57:25" class="time">12:57</a></td></tr>
<tr id="t2021-02-05T12:58:01"><th class="nick" style="background: #4d4d93">marex</th><td class="text" style="color: #4d4d93">paulbarker: lets revisit that later</td><td class="time"><a href="#t2021-02-05T12:58:01" class="time">12:58</a></td></tr>
<tr id="t2021-02-05T12:58:15"><th class="nick" style="background: #a25555">paulbarker</th><td class="text" style="color: #a25555">marex: Sounds like a good plan</td><td class="time"><a href="#t2021-02-05T12:58:15" class="time">12:58</a></td></tr>
<tr id="t2021-02-05T13:01:11"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">marex: that only works to a point but yes, it could be part of it</td><td class="time"><a href="#t2021-02-05T13:01:11" class="time">13:01</a></td></tr>
<tr id="t2021-02-05T13:19:32"><th class="nick" style="background: #97974f">lxc</th><td class="text" style="color: #97974f">when I run devtool I get the following;</td><td class="time"><a href="#t2021-02-05T13:19:32" class="time">13:19</a></td></tr>
<tr id="t2021-02-05T13:19:32-2"><th class="nick" style="background: #97974f">lxc</th><td class="text" style="color: #97974f">Exception: ModuleNotFoundError: No module named '_sysconfigdata'</td><td class="time"><a href="#t2021-02-05T13:19:32-2" class="time">13:19</a></td></tr>
<tr id="t2021-02-05T13:48:40"><th class="nick" style="background: #539e9e">JaMa</th><td class="text" style="color: #539e9e">lxc: it's known issue already fixed in newer oe, I assume you used dunfell, see the patches on ML</td><td class="time"><a href="#t2021-02-05T13:48:40" class="time">13:48</a></td></tr>
<tr id="t2021-02-05T13:49:12"><th class="nick" style="background: #539e9e">JaMa</th><td class="text" style="color: #539e9e">RP: I'll try with some container/VM with centos7</td><td class="time"><a href="#t2021-02-05T13:49:12" class="time">13:49</a></td></tr>
<tr id="t2021-02-05T14:25:16"><th class="nick" style="background: #5959a9">GeneralStupid</th><td class="text" style="color: #5959a9">Hi, i recently installed the avahi-daemon on my yocto package. It is not starting automatically via systemd (startup fails) if i try it manually i get fcntl(F_SETLKW) failed: Permission denied</td><td class="time"><a href="#t2021-02-05T14:25:16" class="time">14:25</a></td></tr>
<tr id="t2021-02-05T14:36:33"><th class="nick" style="background: #488888">dvorkindmitry</th><td class="text" style="color: #488888">I gave up trying to understand why this recipe A required for build recipe B does not install anything into B's root: <a href="https://pastebin.com/GeiVNFWm" rel="nofollow">https://pastebin.com/GeiVNFWm</a></td><td class="time"><a href="#t2021-02-05T14:36:33" class="time">14:36</a></td></tr>
<tr id="t2021-02-05T14:37:43"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">paulbarker: The patches all look good except for the logging one which breaks the standalone bitbake server</td><td class="time"><a href="#t2021-02-05T14:37:43" class="time">14:37</a></td></tr>
<tr id="t2021-02-05T14:39:55"><th class="nick" style="background: #97974f">lxc</th><td class="text" style="color: #97974f">JaMa yes running dunfell.</td><td class="time"><a href="#t2021-02-05T14:39:55" class="time">14:39</a></td></tr>
<tr id="t2021-02-05T14:40:15"><th class="nick" style="background: #a25555">paulbarker</th><td class="text" style="color: #a25555">JPEW: I get backtraces without that patch so something is wrong</td><td class="time"><a href="#t2021-02-05T14:40:15" class="time">14:40</a></td></tr>
<tr id="t2021-02-05T14:40:49"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">dvorkindmitry: why are you manually deploying?</td><td class="time"><a href="#t2021-02-05T14:40:49" class="time">14:40</a></td></tr>
<tr id="t2021-02-05T14:41:18"><th class="nick" style="background: #488888">dvorkindmitry</th><td class="text" style="color: #488888">rburton, what you mean &quot;manually&quot; ?</td><td class="time"><a href="#t2021-02-05T14:41:18" class="time">14:41</a></td></tr>
<tr id="t2021-02-05T14:42:45"><th class="nick" style="background: #488888">dvorkindmitry</th><td class="text" style="color: #488888">is there are something that could be ommited?</td><td class="time"><a href="#t2021-02-05T14:42:45" class="time">14:42</a></td></tr>
<tr id="t2021-02-05T14:42:46"><th class="nick" style="background: #8c4a4a">rburton</th><td class="text" style="color: #8c4a4a">why do you have a do_deploy at all</td><td class="time"><a href="#t2021-02-05T14:42:46" class="time">14:42</a></td></tr>
<tr id="t2021-02-05T14:43:34"><th class="nick" style="background: #488888">dvorkindmitry</th><td class="text" style="color: #488888">rburton, case I need exact directory structure. some installed cripts rely on relative paths</td><td class="time"><a href="#t2021-02-05T14:43:34" class="time">14:43</a></td></tr>
<tr id="t2021-02-05T14:44:07"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">paulbarker, JPEW: sounds like in one case we get the python logger, in the other its a bitbake logger where debug is different</td><td class="time"><a href="#t2021-02-05T14:44:07" class="time">14:44</a></td></tr>
<tr id="t2021-02-05T14:50:22"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">RP: Ya... it's a bit unfortunate that bitbake overrides logging.debug with a different signature :/</td><td class="time"><a href="#t2021-02-05T14:50:22" class="time">14:50</a></td></tr>
<tr id="t2021-02-05T14:50:28"><th class="nick" style="background: #97974f">lxc</th><td class="text" style="color: #97974f">can bitbake deploy a recipe on target with scp? or am I required to use devtool?</td><td class="time"><a href="#t2021-02-05T14:50:28" class="time">14:50</a></td></tr>
<tr id="t2021-02-05T14:54:04"><th class="nick" style="background: #488888">dvorkindmitry</th><td class="text" style="color: #488888">rburton, so... do you have any ideas? I have rA/image/sp_tools/add_uhdr.sh file, but this file is not installed into rB/* during the recipe B build process. Although I have DEPENDS += &quot;A-native&quot; in recipe B</td><td class="time"><a href="#t2021-02-05T14:54:04" class="time">14:54</a></td></tr>
<tr id="t2021-02-05T14:54:10"><th class="nick" style="background: #5959a9">GeneralStupid</th><td class="text" style="color: #5959a9">lxc: you usually flash that image, e.g. you could use rauc for update</td><td class="time"><a href="#t2021-02-05T14:54:10" class="time">14:54</a></td></tr>
<tr id="t2021-02-05T14:55:36"><th class="nick" style="background: #539e9e">JaMa</th><td class="text" style="color: #539e9e">RP: marex: the icu failure seems to be related to <a href="https://unicode-org.atlassian.net/browse/ICU-21175" rel="nofollow">https://unicode-org.atlassian.net/browse/ICU-21175</a> from rburton :)</td><td class="time"><a href="#t2021-02-05T14:55:36" class="time">14:55</a></td></tr>
<tr id="t2021-02-05T14:55:39"><th class="nick" style="background: #97974f">lxc</th><td class="text" style="color: #97974f">In devtool I can do this;</td><td class="time"><a href="#t2021-02-05T14:55:39" class="time">14:55</a></td></tr>
<tr id="t2021-02-05T14:55:40"><th class="nick" style="background: #97974f">lxc</th><td class="text" style="color: #97974f">devtool deploy-target &lt;recipe&gt; &lt;target&gt;</td><td class="time"><a href="#t2021-02-05T14:55:40" class="time">14:55</a></td></tr>
<tr id="t2021-02-05T14:55:40-2"><th class="nick" style="background: #97974f">lxc</th><td class="text" style="color: #97974f">Is there something similar in bitbake? Or I need to use devtool as frontend to bitbake?</td><td class="time"><a href="#t2021-02-05T14:55:40-2" class="time">14:55</a></td></tr>
<tr id="t2021-02-05T15:01:03"><th class="nick" style="background: #5959a9">GeneralStupid</th><td class="text" style="color: #5959a9">lxc:&nbsp;&nbsp;you can create a custom image via bitbake recipe. One which is predefined (i guess?) is core-image-basic</td><td class="time"><a href="#t2021-02-05T15:01:03" class="time">15:01</a></td></tr>
<tr id="t2021-02-05T15:01:55"><th class="nick" style="background: #97974f">lxc</th><td class="text" style="color: #97974f">I know how to create image. I am running an image on target, and during development want to upgrade a certain package.</td><td class="time"><a href="#t2021-02-05T15:01:55" class="time">15:01</a></td></tr>
<tr id="t2021-02-05T15:02:43"><th class="nick" style="background: #5959a9">GeneralStupid</th><td class="text" style="color: #5959a9">lxc: ah i see. afaik you could create an rpm file of that application</td><td class="time"><a href="#t2021-02-05T15:02:43" class="time">15:02</a></td></tr>
<tr id="t2021-02-05T15:03:18"><th class="nick" style="background: #97974f">lxc</th><td class="text" style="color: #97974f">ok, but that require me to have the package manager as well then</td><td class="time"><a href="#t2021-02-05T15:03:18" class="time">15:03</a></td></tr>
<tr id="t2021-02-05T15:03:25"><th class="nick" style="background: #5959a9">GeneralStupid</th><td class="text" style="color: #5959a9">i compile the application(s) with the generated SDK and use scp. But i deploy images on my jenkins after merging</td><td class="time"><a href="#t2021-02-05T15:03:25" class="time">15:03</a></td></tr>
<tr id="t2021-02-05T15:03:48"><th class="nick" style="background: #5959a9">GeneralStupid</th><td class="text" style="color: #5959a9">lxc: exactly... I want that... But i want to get other stuff working first :)</td><td class="time"><a href="#t2021-02-05T15:03:48" class="time">15:03</a></td></tr>
<tr id="t2021-02-05T15:05:19"><th class="nick" style="background: #5959a9">GeneralStupid</th><td class="text" style="color: #5959a9">lxc: iam planning to put FPGA bitstreams in a package, to be able to upgrade it simply via rpm... But i dont have a connection for it right now...</td><td class="time"><a href="#t2021-02-05T15:05:19" class="time">15:05</a></td></tr>
<tr id="t2021-02-05T15:09:09"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">dvorkindmitry: your script is not part of SYSROOTDIRS</td><td class="time"><a href="#t2021-02-05T15:09:09" class="time">15:09</a></td></tr>
<tr id="t2021-02-05T15:10:11"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">and I'm guessing you want this script to be run at build time and not runtime, then you need a native recipe which is installing this script and in recipe B have DEPENDS = &quot;A-native&quot;</td><td class="time"><a href="#t2021-02-05T15:10:11" class="time">15:10</a></td></tr>
<tr id="t2021-02-05T15:10:42"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">dvorkindmitry: <a href="https://docs.yoctoproject.org/ref-manual/variables.html#term-SYSROOT_DIRS" rel="nofollow">https://docs.yoctoproject.org/ref-manual/variables.html#term-SYSROOT_DIRS</a></td><td class="time"><a href="#t2021-02-05T15:10:42" class="time">15:10</a></td></tr>
<tr id="t2021-02-05T15:11:09"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">well, technically on your case it'll be SYSROOT_DIRS_NATIVE but still your script won't be part of it</td><td class="time"><a href="#t2021-02-05T15:11:09" class="time">15:11</a></td></tr>
<tr id="t2021-02-05T15:11:32"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">(ah, forgot to read your message to rburton, so you got the native part right already)</td><td class="time"><a href="#t2021-02-05T15:11:32" class="time">15:11</a></td></tr>
<tr id="t2021-02-05T15:12:24"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">dvorkindmitry: your justification for using do_deploy is still dubiuous, care to explain a bit more why you need so many files in your deploydir?</td><td class="time"><a href="#t2021-02-05T15:12:24" class="time">15:12</a></td></tr>
<tr id="t2021-02-05T15:12:26"><th class="nick" style="background: #488888">dvorkindmitry</th><td class="text" style="color: #488888">qschulz, so you mean I just have to install add_uhdr.sh into traditional dir, like /usr/... or something?</td><td class="time"><a href="#t2021-02-05T15:12:26" class="time">15:12</a></td></tr>
<tr id="t2021-02-05T15:12:41"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">dvorkindmitry: that, or add your path to SYSROOT_DIRS_NATIVE</td><td class="time"><a href="#t2021-02-05T15:12:41" class="time">15:12</a></td></tr>
<tr id="t2021-02-05T15:14:21"><th class="nick" style="background: #488888">dvorkindmitry</th><td class="text" style="color: #488888">qschulz, the scripts are written by another company, they are using it in they projects. some of them are Too much related to relative pathes. Instead of making patches for all this scripts (that is updated from time to time) I prefer to keep directory structure</td><td class="time"><a href="#t2021-02-05T15:14:21" class="time">15:14</a></td></tr>
<tr id="t2021-02-05T15:20:16"><th class="nick" style="background: #5959a9">GeneralStupid</th><td class="text" style="color: #5959a9">Do i have to take another avahi-deamon package if i use systemd?</td><td class="time"><a href="#t2021-02-05T15:20:16" class="time">15:20</a></td></tr>
<tr id="t2021-02-05T15:29:00"><th class="nick" style="background: #488888">dvorkindmitry</th><td class="text" style="color: #488888">qschulz, may I add my special dir into SYSROOT_DIRS_NATIVE directly in the recipe?</td><td class="time"><a href="#t2021-02-05T15:29:00" class="time">15:29</a></td></tr>
<tr id="t2021-02-05T15:30:43"><th class="nick" style="background: #b15db1">zeddii</th><td class="text" style="color: #b15db1">anyone else seeing the latest binutils bump in master inexplicably not find bison during the binutils-cross build ?</td><td class="time"><a href="#t2021-02-05T15:30:43" class="time">15:30</a></td></tr>
<tr id="t2021-02-05T15:30:54"><td class="action" colspan="2">* zeddii tries to hack it</td><td><a href="#t2021-02-05T15:30:54" class="time">15:30</a></td></tr>
<tr id="t2021-02-05T15:51:33"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">zeddii: I did not see that</td><td class="time"><a href="#t2021-02-05T15:51:33" class="time">15:51</a></td></tr>
<tr id="t2021-02-05T15:53:06"><th class="nick" style="background: #b15db1">zeddii</th><td class="text" style="color: #b15db1">RP: yah, it has to be my re-used tmp/build somehow, since obviously it wouldn't be in master if it was triggering everywhere.</td><td class="time"><a href="#t2021-02-05T15:53:06" class="time">15:53</a></td></tr>
<tr id="t2021-02-05T15:53:20"><th class="nick" style="background: #b15db1">zeddii</th><td class="text" style="color: #b15db1">but I've now cleanalled on everything I can think of, and just keep hitting</td><td class="time"><a href="#t2021-02-05T15:53:20" class="time">15:53</a></td></tr>
<tr id="t2021-02-05T15:53:21"><th class="nick" style="background: #b15db1">zeddii</th><td class="text" style="color: #b15db1"><a href="https://pastebin.com/u6HPGPSW" rel="nofollow">https://pastebin.com/u6HPGPSW</a></td><td class="time"><a href="#t2021-02-05T15:53:21" class="time">15:53</a></td></tr>
<tr id="t2021-02-05T15:54:11"><th class="nick" style="background: #b15db1">zeddii</th><td class="text" style="color: #b15db1">bison-native is in the depends, but when I search the recipe sysroot, it isn't in the native dirs, so something is off the rails. I'll rm -rf and see if that helps</td><td class="time"><a href="#t2021-02-05T15:54:11" class="time">15:54</a></td></tr>
<tr id="t2021-02-05T15:54:48"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">zeddii: you could have tried a bitbake bison-native binutils-cross-XXX -c clean</td><td class="time"><a href="#t2021-02-05T15:54:48" class="time">15:54</a></td></tr>
<tr id="t2021-02-05T15:55:29"><th class="nick" style="background: #b15db1">zeddii</th><td class="text" style="color: #b15db1">did that, but actually, I didn't do the binutils-cross-x86_64 clean in my case, so I just tried that before the rm -rf</td><td class="time"><a href="#t2021-02-05T15:55:29" class="time">15:55</a></td></tr>
<tr id="t2021-02-05T15:55:44"><th class="nick" style="background: #b15db1">zeddii</th><td class="text" style="color: #b15db1">will see what bison-cross thinks of that!</td><td class="time"><a href="#t2021-02-05T15:55:44" class="time">15:55</a></td></tr>
<tr id="t2021-02-05T15:56:16"><th class="nick" style="background: #b15db1">zeddii</th><td class="text" style="color: #b15db1">(I just did the cleanall on binutils-cross, didn't realize the variant)</td><td class="time"><a href="#t2021-02-05T15:56:16" class="time">15:56</a></td></tr>
<tr id="t2021-02-05T15:57:52"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">zeddii: binutils-cross would just error wouldn't it?</td><td class="time"><a href="#t2021-02-05T15:57:52" class="time">15:57</a></td></tr>
<tr id="t2021-02-05T15:59:05"><th class="nick" style="background: #b15db1">zeddii</th><td class="text" style="color: #b15db1">yah, according to my history, was just binutils I did the cleanall. must be monday.</td><td class="time"><a href="#t2021-02-05T15:59:05" class="time">15:59</a></td></tr>
<tr id="t2021-02-05T15:59:06"><th class="nick" style="background: #b15db1">zeddii</th><td class="text" style="color: #b15db1">heh</td><td class="time"><a href="#t2021-02-05T15:59:06" class="time">15:59</a></td></tr>
<tr id="t2021-02-05T15:59:59"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">RP, paulbarker: We probably need to do a global find-and-replace to change all the places using the bitbake style logger.debug to logger.bbdebug (or similar)?</td><td class="time"><a href="#t2021-02-05T15:59:59" class="time">15:59</a></td></tr>
<tr id="t2021-02-05T16:02:58"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">dvorkindmitry: yes, in the recipe</td><td class="time"><a href="#t2021-02-05T16:02:58" class="time">16:02</a></td></tr>
<tr id="t2021-02-05T16:03:51"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">GeneralStupid: work out the permission issue first, it's probably just that that is the issue</td><td class="time"><a href="#t2021-02-05T16:03:51" class="time">16:03</a></td></tr>
<tr id="t2021-02-05T16:05:24"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">JPEW: that is going to be a lot of sites I suspect :(</td><td class="time"><a href="#t2021-02-05T16:05:24" class="time">16:05</a></td></tr>
<tr id="t2021-02-05T16:06:52"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">JPEW: also, probably better to add a debug2 and then change all the debug(1, to debug(</td><td class="time"><a href="#t2021-02-05T16:06:52" class="time">16:06</a></td></tr>
<tr id="t2021-02-05T16:08:48-2"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">RP: Ya, that works</td><td class="time"><a href="#t2021-02-05T16:08:48-2" class="time">16:08</a></td></tr>
<tr id="t2021-02-05T16:20:03"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">Looks like about 244 locations</td><td class="time"><a href="#t2021-02-05T16:20:03" class="time">16:20</a></td></tr>
<tr id="t2021-02-05T16:23:13"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">JPEW: have you a second to sanity check my logic with something in bitbake?</td><td class="time"><a href="#t2021-02-05T16:23:13" class="time">16:23</a></td></tr>
<tr id="t2021-02-05T16:27:41"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">Sure</td><td class="time"><a href="#t2021-02-05T16:27:41" class="time">16:27</a></td></tr>
<tr id="t2021-02-05T16:27:46"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">JPEW: I'm trying to understand <a href="https://autobuilder.yoctoproject.org/typhoon/#/builders/95/builds/1595/steps/12/logs/stdio" rel="nofollow">https://autobuilder.yoctoproject.org/typhoon/#/builders/95/builds/1595/steps/12/logs/stdio</a> - it shows two events being printed at once to a pipe &lt;event&gt;partial data&lt;event&gt;more full data&lt;/event&gt;</td><td class="time"><a href="#t2021-02-05T16:27:46" class="time">16:27</a></td></tr>
<tr id="t2021-02-05T16:28:00"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">JPEW: code is in bit/bitbake-worker</td><td class="time"><a href="#t2021-02-05T16:28:00" class="time">16:28</a></td></tr>
<tr id="t2021-02-05T16:28:27"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">JPEW: its hard to read as there are two queues, the one where the worker passes to the server and the one where the worker children pass to the worker</td><td class="time"><a href="#t2021-02-05T16:28:27" class="time">16:28</a></td></tr>
<tr id="t2021-02-05T16:29:27"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">worker_fire() and worker_child_fire() ?</td><td class="time"><a href="#t2021-02-05T16:29:27" class="time">16:29</a></td></tr>
<tr id="t2021-02-05T16:29:38"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">JPEW: right</td><td class="time"><a href="#t2021-02-05T16:29:38" class="time">16:29</a></td></tr>
<tr id="t2021-02-05T16:29:52"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">JPEW: I'm struggling to spot where the race is happening though</td><td class="time"><a href="#t2021-02-05T16:29:52" class="time">16:29</a></td></tr>
<tr id="t2021-02-05T16:31:01"><td class="action" colspan="2">* JPEW reads</td><td><a href="#t2021-02-05T16:31:01" class="time">16:31</a></td></tr>
<tr id="t2021-02-05T16:33:58"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">Rp: So, if I read correctly, the default behavior is to push data to a queue and a background thread will write it to the pipe</td><td class="time"><a href="#t2021-02-05T16:33:58" class="time">16:33</a></td></tr>
<tr id="t2021-02-05T16:34:14"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">JPEW: in the worker parent, yes</td><td class="time"><a href="#t2021-02-05T16:34:14" class="time">16:34</a></td></tr>
<tr id="t2021-02-05T16:34:59"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">And when a task is forked off, it changes to directly write to the pipe from the child process?</td><td class="time"><a href="#t2021-02-05T16:34:59" class="time">16:34</a></td></tr>
<tr id="t2021-02-05T16:35:24"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">Ah, a new pipe setup between the parent and the child</td><td class="time"><a href="#t2021-02-05T16:35:24" class="time">16:35</a></td></tr>
<tr id="t2021-02-05T16:36:19"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">JPEW: yes, a new pipe is setup between the child and the parent</td><td class="time"><a href="#t2021-02-05T16:36:19" class="time">16:36</a></td></tr>
<tr id="t2021-02-05T16:36:57"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">JPEW: I am noticing that the parent pipes to other children are not closed in new children</td><td class="time"><a href="#t2021-02-05T16:36:57" class="time">16:36</a></td></tr>
<tr id="t2021-02-05T16:38:50"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">Ok, an the the parent(?) selects() on all the child pipes and forwards the events through it's pipe?</td><td class="time"><a href="#t2021-02-05T16:38:50" class="time">16:38</a></td></tr>
<tr id="t2021-02-05T16:39:02"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">JPEW: yes</td><td class="time"><a href="#t2021-02-05T16:39:02" class="time">16:39</a></td></tr>
<tr id="t2021-02-05T16:39:47"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">So is the un-pickling error in the the child, the worker process, or the worker's parent?</td><td class="time"><a href="#t2021-02-05T16:39:47" class="time">16:39</a></td></tr>
<tr id="t2021-02-05T16:43:14"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">JPEW: the error message matches the line in runqueue so in the server</td><td class="time"><a href="#t2021-02-05T16:43:14" class="time">16:43</a></td></tr>
<tr id="t2021-02-05T16:43:26"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">bb.msg.fatal(&quot;RunQueue&quot;, &quot;failed load pickle '%s': '%s'&quot; % (e, self.queue[7:index]))</td><td class="time"><a href="#t2021-02-05T16:43:26" class="time">16:43</a></td></tr>
<tr id="t2021-02-05T16:44:24"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">JPEW: i.e. worker's parent</td><td class="time"><a href="#t2021-02-05T16:44:24" class="time">16:44</a></td></tr>
<tr id="t2021-02-05T16:50:24"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">Hmm, the parent uses stdout as the pipe?</td><td class="time"><a href="#t2021-02-05T16:50:24" class="time">16:50</a></td></tr>
<tr id="t2021-02-05T16:50:39"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">Err, sorry the *worker* uses stdout as the pipe</td><td class="time"><a href="#t2021-02-05T16:50:39" class="time">16:50</a></td></tr>
<tr id="t2021-02-05T16:51:53"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">JPEW: yes :/</td><td class="time"><a href="#t2021-02-05T16:51:53" class="time">16:51</a></td></tr>
<tr id="t2021-02-05T16:52:51"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">JPEW: whilst that has its risks, the logs look like multiple &lt;event&gt;&lt;/event&gt; colliding :/</td><td class="time"><a href="#t2021-02-05T16:52:51" class="time">16:52</a></td></tr>
<tr id="t2021-02-05T16:53:30"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">RP: Ya, for sure. Is there any indication in where those events would be originating from (e.g. child or worker?)</td><td class="time"><a href="#t2021-02-05T16:53:30" class="time">16:53</a></td></tr>
<tr id="t2021-02-05T16:53:39"><th class="nick" style="background: #5fb4b4">boucman_work</th><td class="text" style="color: #5fb4b4">Hello everybody</td><td class="time"><a href="#t2021-02-05T16:53:39" class="time">16:53</a></td></tr>
<tr id="t2021-02-05T16:54:05"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">JPEW: they look child to me but they could be being sent on from the worker's queue or the child</td><td class="time"><a href="#t2021-02-05T16:54:05" class="time">16:54</a></td></tr>
<tr id="t2021-02-05T16:54:24"><th class="nick" style="background: #5fb4b4">boucman_work</th><td class="text" style="color: #5fb4b4">Is there an easy way, given a package name, to know where the corresponding package is (i.e the .rpm/.deb/.ipk file ?</td><td class="time"><a href="#t2021-02-05T16:54:24" class="time">16:54</a></td></tr>
<tr id="t2021-02-05T16:54:34"><th class="nick" style="background: #5fb4b4">boucman_work</th><td class="text" style="color: #5fb4b4">extending PV etc for me</td><td class="time"><a href="#t2021-02-05T16:54:34" class="time">16:54</a></td></tr>
<tr id="t2021-02-05T16:54:53"><th class="nick" style="background: #5fb4b4">boucman_work</th><td class="text" style="color: #5fb4b4">(I want to use it in image-recipe context, so it can be a python call)</td><td class="time"><a href="#t2021-02-05T16:54:53" class="time">16:54</a></td></tr>
<tr id="t2021-02-05T16:55:05"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">RP: How reproducible is this?</td><td class="time"><a href="#t2021-02-05T16:55:05" class="time">16:55</a></td></tr>
<tr id="t2021-02-05T16:55:21"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">JPEW: not very but has happened on several ltp builds recently</td><td class="time"><a href="#t2021-02-05T16:55:21" class="time">16:55</a></td></tr>
<tr id="t2021-02-05T16:55:40"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">JPEW: I don't understand what is happening :(</td><td class="time"><a href="#t2021-02-05T16:55:40" class="time">16:55</a></td></tr>
<tr id="t2021-02-05T16:55:57"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">I don't either but we can probably narrow it down a little</td><td class="time"><a href="#t2021-02-05T16:55:57" class="time">16:55</a></td></tr>
<tr id="t2021-02-05T16:56:54"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">If we put some sanity code in the runQueueWorkerPipe() to make sure the &quot;prepickled&quot; message from the child has one and only one &quot;&lt;event&gt;&quot; at the beginning of the string it would narrow it down</td><td class="time"><a href="#t2021-02-05T16:56:54" class="time">16:56</a></td></tr>
<tr id="t2021-02-05T16:57:38"><th class="nick" style="background: #b86161">tlwoerner</th><td class="text" style="color: #b86161">lxc: yes use devtool deploy-target</td><td class="time"><a href="#t2021-02-05T16:57:38" class="time">16:57</a></td></tr>
<tr id="t2021-02-05T16:58:04"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">JPEW: that sounds reasonable</td><td class="time"><a href="#t2021-02-05T16:58:04" class="time">16:58</a></td></tr>
<tr id="t2021-02-05T16:59:31"><th class="nick" style="background: #b86161">tlwoerner</th><td class="text" style="color: #b86161">lxc: devtool deploy-target pushes whatever it finds in $TMPDIR/work/&lt;something&gt;/&lt;recipe&gt;/&lt;version&gt;/image to the target for a given recipe</td><td class="time"><a href="#t2021-02-05T16:59:31" class="time">16:59</a></td></tr>
<tr id="t2021-02-05T16:59:57"><td class="nickchange" colspan="2">*** mckoan is now known as mckoan|away</td><td><a href="#t2021-02-05T16:59:57" class="time">16:59</a></td></tr>
<tr id="t2021-02-05T17:00:09"><th class="nick" style="background: #b86161">tlwoerner</th><td class="text" style="color: #b86161">and it's smart enough to keep track of what was pushed &quot;the last time&quot; so it can know what to unload before the next &quot;devtool deploy-target&quot; or &quot;devtool undeploy-target&quot;</td><td class="time"><a href="#t2021-02-05T17:00:09" class="time">17:00</a></td></tr>
<tr id="t2021-02-05T17:00:15"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">RP: something like: assert msg.startswith(&quot;&lt;event&gt;&quot;) and msg.count(&quot;&lt;event&gt;&quot;) == 1</td><td class="time"><a href="#t2021-02-05T17:00:15" class="time">17:00</a></td></tr>
<tr id="t2021-02-05T17:01:32"><th class="nick" style="background: #b86161">tlwoerner</th><td class="text" style="color: #b86161">lxc: so it's like building a package, scp'ing the package to the target, and installing the package but without having to go through the package mgmt system (and it's smart enough to know how to uninstall too)</td><td class="time"><a href="#t2021-02-05T17:01:32" class="time">17:01</a></td></tr>
<tr id="t2021-02-05T17:02:20"><th class="nick" style="background: #b86161">tlwoerner</th><td class="text" style="color: #b86161">lxc: see <a href="https://twoerner.blogspot.com/2020/10/writing-software-for-your-embedded.html" rel="nofollow">https://twoerner.blogspot.com/2020/10/writing-software-for-your-embedded.html</a> perhaps?</td><td class="time"><a href="#t2021-02-05T17:02:20" class="time">17:02</a></td></tr>
<tr id="t2021-02-05T17:03:12"><th class="nick" style="background: #b86161">tlwoerner</th><td class="text" style="color: #b86161">lxc: the only downside with &quot;devtool deploy-target&quot; is that it installs *everything* in &lt;recipe&gt;//image, including documentation etc</td><td class="time"><a href="#t2021-02-05T17:03:12" class="time">17:03</a></td></tr>
<tr id="t2021-02-05T17:03:59"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">JPEW: right, that makes sense</td><td class="time"><a href="#t2021-02-05T17:03:59" class="time">17:03</a></td></tr>
<tr id="t2021-02-05T17:04:53"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">JPEW: fwiw one of the call sites triggering this is meta/lib/oeqa/core/target/ssh.py:SSHCall:run(), the logger.debug('Partial data from SSH call...)</td><td class="time"><a href="#t2021-02-05T17:04:53" class="time">17:04</a></td></tr>
<tr id="t2021-02-05T17:09:34"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">Hmm, could be a CLOEXEC error</td><td class="time"><a href="#t2021-02-05T17:09:34" class="time">17:09</a></td></tr>
<tr id="t2021-02-05T17:12:44"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">JPEW: I just found the other message is coming from make_logger_bitbake_compatible in lib/oeqa/utils/__init__ which seems apt given the discussion earlier</td><td class="time"><a href="#t2021-02-05T17:12:44" class="time">17:12</a></td></tr>
<tr id="t2021-02-05T17:13:58"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">Err, ya... how fun!</td><td class="time"><a href="#t2021-02-05T17:13:58" class="time">17:13</a></td></tr>
<tr id="t2021-02-05T17:16:03"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">JPEW: the other message it was colliding with is&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; logger.debug('time: %s, endtime: %s' % (time.time(), endtime)) from a few lines above the Partial data line</td><td class="time"><a href="#t2021-02-05T17:16:03" class="time">17:16</a></td></tr>
<tr id="t2021-02-05T17:17:44"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">RP: Would that be in the child process&gt;?</td><td class="time"><a href="#t2021-02-05T17:17:44" class="time">17:17</a></td></tr>
<tr id="t2021-02-05T17:18:27"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">JPEW: Yes, these would be in the child. Given they're in the same function and logically follow each other it probably rules out a few things too</td><td class="time"><a href="#t2021-02-05T17:18:27" class="time">17:18</a></td></tr>
<tr id="t2021-02-05T17:20:54"><th class="nick" style="background: #539e9e">JaMa</th><td class="text" style="color: #539e9e">RP: I'm testing the tar in centos7 and I think autobuilder is already using different tar implementation, isn't it? Because with the default tar 1.26 (included in centos:centos7 docker image) it fails with tar: unrecognized option '--sort=name'</td><td class="time"><a href="#t2021-02-05T17:20:54" class="time">17:20</a></td></tr>
<tr id="t2021-02-05T17:22:55"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">JaMa: ah. Then what did I test with? :/</td><td class="time"><a href="#t2021-02-05T17:22:55" class="time">17:22</a></td></tr>
<tr id="t2021-02-05T17:23:02"><td class="action" colspan="2">* JPEW gets some food</td><td><a href="#t2021-02-05T17:23:02" class="time">17:23</a></td></tr>
<tr id="t2021-02-05T17:24:20"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">RP: I wonder if the InterruptedError is interrupting the write to the pipe</td><td class="time"><a href="#t2021-02-05T17:24:20" class="time">17:24</a></td></tr>
<tr id="t2021-02-05T17:28:52"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">JPEW: <a href="https://www.python.org/dev/peps/pep-0475/" rel="nofollow">https://www.python.org/dev/peps/pep-0475/</a></td><td class="time"><a href="#t2021-02-05T17:28:52" class="time">17:28</a></td></tr>
<tr id="t2021-02-05T17:29:33"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">JPEW: would having an exception handler there change the behaviour of a write call. Surely the write() calls autoretry?</td><td class="time"><a href="#t2021-02-05T17:29:33" class="time">17:29</a></td></tr>
<tr id="t2021-02-05T17:31:45"><th class="nick" style="background: #539e9e">JaMa</th><td class="text" style="color: #539e9e"><a href="https://git.openembedded.org/openembedded-core/commit/?id=f19e43dec63a86c200e04ba14393583588550380" rel="nofollow">https://git.openembedded.org/openembedded-core/commit/?id=f19e43dec63a86c200e04ba14393583588550380</a> from rburton also says &quot;We now depend on tar 1.28, so talking about older tar versions is just confusing.&quot; so maybe it's already upgraded on centos7 builder somehow</td><td class="time"><a href="#t2021-02-05T17:31:45" class="time">17:31</a></td></tr>
<tr id="t2021-02-05T17:32:57"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">RP: Ah, but it *can't* if it's already partially written</td><td class="time"><a href="#t2021-02-05T17:32:57" class="time">17:32</a></td></tr>
<tr id="t2021-02-05T17:33:05"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">*written some of the data</td><td class="time"><a href="#t2021-02-05T17:33:05" class="time">17:33</a></td></tr>
<tr id="t2021-02-05T17:33:05-2"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">JaMa: centos7 uses buildtools</td><td class="time"><a href="#t2021-02-05T17:33:05-2" class="time">17:33</a></td></tr>
<tr id="t2021-02-05T17:33:16"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">It has to just return with how much has been written</td><td class="time"><a href="#t2021-02-05T17:33:16" class="time">17:33</a></td></tr>
<tr id="t2021-02-05T17:33:26"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">JaMa: I'm now very puzzled as to how I came across the issue though</td><td class="time"><a href="#t2021-02-05T17:33:26" class="time">17:33</a></td></tr>
<tr id="t2021-02-05T17:33:44"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">worker_child_fire() needs to loop to make sure all the data gets written, even though it's non -blocking</td><td class="time"><a href="#t2021-02-05T17:33:44" class="time">17:33</a></td></tr>
<tr id="t2021-02-05T17:33:49"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">Err, blocking</td><td class="time"><a href="#t2021-02-05T17:33:49" class="time">17:33</a></td></tr>
<tr id="t2021-02-05T17:34:20"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">Because you can get a short write on a pipe even with a blocking FD, if you had a partial write and then a signal occurred</td><td class="time"><a href="#t2021-02-05T17:34:20" class="time">17:34</a></td></tr>
<tr id="t2021-02-05T17:34:20-2"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">JPEW: ah, right. If it can make short writes, that would explain it</td><td class="time"><a href="#t2021-02-05T17:34:20-2" class="time">17:34</a></td></tr>
<tr id="t2021-02-05T17:34:39"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">JPEW: well deduced :)</td><td class="time"><a href="#t2021-02-05T17:34:39" class="time">17:34</a></td></tr>
<tr id="t2021-02-05T17:35:04"><th class="nick" style="background: #539e9e">JaMa</th><td class="text" style="color: #539e9e">RP: me too :)</td><td class="time"><a href="#t2021-02-05T17:35:04" class="time">17:35</a></td></tr>
<tr id="t2021-02-05T17:35:12"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">Which, is a lot more likely to happen when running the LTP test on QEMU and the system because of a lot of output CPU load making the pipe more likely to fill(?)</td><td class="time"><a href="#t2021-02-05T17:35:12" class="time">17:35</a></td></tr>
<tr id="t2021-02-05T17:36:30"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">JaMa: do you know which version of tar changed the default format?</td><td class="time"><a href="#t2021-02-05T17:36:30" class="time">17:36</a></td></tr>
<tr id="t2021-02-05T17:38:34"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">JaMa: is there a way to see which format tar is using by default? I just checked and I did also test what I was working on with a tumbleweed autobuilder worker</td><td class="time"><a href="#t2021-02-05T17:38:34" class="time">17:38</a></td></tr>
<tr id="t2021-02-05T17:38:41"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">which has tar 1.32</td><td class="time"><a href="#t2021-02-05T17:38:41" class="time">17:38</a></td></tr>
<tr id="t2021-02-05T17:39:04"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">JPEW: the ltp tests do seem to chuck more data around</td><td class="time"><a href="#t2021-02-05T17:39:04" class="time">17:39</a></td></tr>
<tr id="t2021-02-05T17:39:26"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">RP: Cool, I bet that's it. Probably still worth having the sanity check</td><td class="time"><a href="#t2021-02-05T17:39:26" class="time">17:39</a></td></tr>
<tr id="t2021-02-05T17:41:04"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">JPEW: you never see python .write() calls checking length or a retry write() loop or helper</td><td class="time"><a href="#t2021-02-05T17:41:04" class="time">17:41</a></td></tr>
<tr id="t2021-02-05T17:46:53"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">JPEW: I guess you don't see fdopen used much</td><td class="time"><a href="#t2021-02-05T17:46:53" class="time">17:46</a></td></tr>
<tr id="t2021-02-05T17:47:44"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">RP: Ya. I don't think signal come up much either... most are fatal by default anyway</td><td class="time"><a href="#t2021-02-05T17:47:44" class="time">17:47</a></td></tr>
<tr id="t2021-02-05T17:48:51"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">I'll write a little PoC after lunch</td><td class="time"><a href="#t2021-02-05T17:48:51" class="time">17:48</a></td></tr>
<tr id="t2021-02-05T17:50:17"><th class="nick" style="background: #539e9e">JaMa</th><td class="text" style="color: #539e9e">RP: the default is still gnu (since long time), the default wasn't changed to posix even in 20.10 ubuntu yet, the build-time configured default is shown at the end of tar --help</td><td class="time"><a href="#t2021-02-05T17:50:17" class="time">17:50</a></td></tr>
<tr id="t2021-02-05T17:51:41"><th class="nick" style="background: #539e9e">JaMa</th><td class="text" style="color: #539e9e">20.10 ubuntu is still on 1.30, so 1.32 in tumbleweed might already have posix</td><td class="time"><a href="#t2021-02-05T17:51:41" class="time">17:51</a></td></tr>
<tr id="t2021-02-05T17:54:16-2"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">JaMa: that might be how we got here</td><td class="time"><a href="#t2021-02-05T17:54:16-2" class="time">17:54</a></td></tr>
<tr id="t2021-02-05T17:54:47"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">JaMa: sorry for the misinformation, I could have sworn I used centos7</td><td class="time"><a href="#t2021-02-05T17:54:47" class="time">17:54</a></td></tr>
<tr id="t2021-02-05T17:58:17"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">JPEW: <a href="http://git.yoctoproject.org/cgit.cgi/poky-contrib/commit/?h=rpurdie/t222&amp;id=992d15973ce13cad80730b51645c4748ff91ef1c" rel="nofollow">http://git.yoctoproject.org/cgit.cgi/poky-contrib/commit/?h=rpurdie/t222&amp;id=992d15973ce13cad80730b51645c4748ff91ef1c</a> :)</td><td class="time"><a href="#t2021-02-05T17:58:17" class="time">17:58</a></td></tr>
<tr id="t2021-02-05T18:02:16"><th class="nick" style="background: #539e9e">JaMa</th><td class="text" style="color: #539e9e">RP: so can I try to submit change from gnu to posix? I already have a patch</td><td class="time"><a href="#t2021-02-05T18:02:16" class="time">18:02</a></td></tr>
<tr id="t2021-02-05T18:02:56"><th class="nick" style="background: #539e9e">JaMa</th><td class="text" style="color: #539e9e">I'm checking the default in tumbeweed docker</td><td class="time"><a href="#t2021-02-05T18:02:56" class="time">18:02</a></td></tr>
<tr id="t2021-02-05T18:03:41"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">JaMa: which version of tar added posix support?</td><td class="time"><a href="#t2021-02-05T18:03:41" class="time">18:03</a></td></tr>
<tr id="t2021-02-05T18:04:08"><th class="nick" style="background: #539e9e">JaMa</th><td class="text" style="color: #539e9e">it was already in 1.26 in centos7, only the --sort=name was missing</td><td class="time"><a href="#t2021-02-05T18:04:08" class="time">18:04</a></td></tr>
<tr id="t2021-02-05T18:04:41"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">JaMa: ok, in that case we're good</td><td class="time"><a href="#t2021-02-05T18:04:41" class="time">18:04</a></td></tr>
<tr id="t2021-02-05T18:04:50"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">JaMa: we should be able to change it</td><td class="time"><a href="#t2021-02-05T18:04:50" class="time">18:04</a></td></tr>
<tr id="t2021-02-05T18:14:21"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">jonmason: need to get ross to fix that esdk2 error that happened again on meta-arm ;-)</td><td class="time"><a href="#t2021-02-05T18:14:21" class="time">18:14</a></td></tr>
<tr id="t2021-02-05T18:20:49"><th class="nick" style="background: #9b519b">jonmason</th><td class="text" style="color: #9b519b">edk2 is such a PITA</td><td class="time"><a href="#t2021-02-05T18:20:49" class="time">18:20</a></td></tr>
<tr id="t2021-02-05T18:21:34"><th class="nick" style="background: #9b519b">jonmason</th><td class="text" style="color: #9b519b">even worse, we never see issues when compiling in our CI</td><td class="time"><a href="#t2021-02-05T18:21:34" class="time">18:21</a></td></tr>
<tr id="t2021-02-05T18:23:25"><th class="nick" style="background: #62bb62">Agent13</th><td class="text" style="color: #62bb62">Anyone here a devtools user/guru?</td><td class="time"><a href="#t2021-02-05T18:23:25" class="time">18:23</a></td></tr>
<tr id="t2021-02-05T18:43:16"><th class="nick" style="background: #6464bf">jordemort</th><td class="text" style="color: #6464bf">don't know if this is the best place to ask or if i should find a freescale-specific place, but i'm trying to change my UBOOT_CONFIG to &quot;nand&quot; as seen in <a href="https://github.com/Freescale/meta-freescale/blob/master/conf/machine/imx7dsabresd.conf#L36" rel="nofollow">https://github.com/Freescale/meta-freescale/blob/master/conf/machine/imx7dsabresd.conf#L36</a> and u-boot is failing to build because it can't find &quot;mx7dsabresd_nand_config&quot; - which seems understandable, because i can't find it or anything that appears to generate it in the</td><td class="time"><a href="#t2021-02-05T18:43:16" class="time">18:43</a></td></tr>
<tr id="t2021-02-05T18:43:16-2"><th class="nick" style="background: #6464bf">jordemort</th><td class="text" style="color: #6464bf">tree either</td><td class="time"><a href="#t2021-02-05T18:43:16-2" class="time">18:43</a></td></tr>
<tr id="t2021-02-05T18:43:41"><th class="nick" style="background: #6464bf">jordemort</th><td class="text" style="color: #6464bf">neither in that nor in the sources it pulls</td><td class="time"><a href="#t2021-02-05T18:43:41" class="time">18:43</a></td></tr>
<tr id="t2021-02-05T18:44:19"><th class="nick" style="background: #6464bf">jordemort</th><td class="text" style="color: #6464bf">any clues on where that file is supposed to be coming from would be appreciated; i can't find many of the other variants it seems to reference there either</td><td class="time"><a href="#t2021-02-05T18:44:19" class="time">18:44</a></td></tr>
<tr id="t2021-02-05T19:00:53"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">RP: Ah ok. It is a problem with short writes, but only when you make big writes. It's a combination of the kernel and python collaborating in a strange way: <a href="https://gist.github.com/JPEWdev/c9206cf531a38ee71476ca3c94af3386" rel="nofollow">https://gist.github.com/JPEWdev/c9206cf531a38ee71476ca3c94af3386</a></td><td class="time"><a href="#t2021-02-05T19:00:53" class="time">19:00</a></td></tr>
<tr id="t2021-02-05T19:10:35"><th class="nick" style="background: #c3c366">emrius</th><td class="text" style="color: #c3c366">Hey there, I need to toggle a flag in linux in gpio.h `GPIO_V2_LINE_FLAG_EVENT_CLOCK_REALTIME`. See this line:</td><td class="time"><a href="#t2021-02-05T19:10:35" class="time">19:10</a></td></tr>
<tr id="t2021-02-05T19:10:48"><th class="nick" style="background: #c3c366">emrius</th><td class="text" style="color: #c3c366"><a href="https://github.com/torvalds/linux/blob/a409ed156a90093a03fe6a93721ddf4c591eac87/include/uapi/linux/gpio.h#L287" rel="nofollow">https://github.com/torvalds/linux/blob/a409ed156a90093a03fe6a93721ddf4c591eac87/include/uapi/linux/gpio.h#L287</a></td><td class="time"><a href="#t2021-02-05T19:10:48" class="time">19:10</a></td></tr>
<tr id="t2021-02-05T19:11:39"><th class="nick" style="background: #c3c366">emrius</th><td class="text" style="color: #c3c366">I already have a bbappend where I configure linux kernel configs. Thus, I guess this also belongs in there.</td><td class="time"><a href="#t2021-02-05T19:11:39" class="time">19:11</a></td></tr>
<tr id="t2021-02-05T19:12:32"><th class="nick" style="background: #c3c366">emrius</th><td class="text" style="color: #c3c366">Do I need to set some env variable such as `LINUX_KERNEL_EXTRA_ARGS` or so? I remember something similar to that but can't seem to find the exact point where to toggle that flag.</td><td class="time"><a href="#t2021-02-05T19:12:32" class="time">19:12</a></td></tr>
<tr id="t2021-02-05T19:12:55"><th class="nick" style="background: #c3c366">emrius</th><td class="text" style="color: #c3c366">`KERNEL_EXTRA_ARGS`</td><td class="time"><a href="#t2021-02-05T19:12:55" class="time">19:12</a></td></tr>
<tr id="t2021-02-05T19:13:26"><th class="nick" style="background: #c3c366">emrius</th><td class="text" style="color: #c3c366">That's the one I meant. Is that the right place to put that? I guess there should rather be a CC compiler extra args variable or so</td><td class="time"><a href="#t2021-02-05T19:13:26" class="time">19:13</a></td></tr>
<tr id="t2021-02-05T20:03:36"><th class="nick" style="background: #c668c6">kergoth</th><td class="text" style="color: #c668c6">okay this is weird. if i set DEBUG_PREFIX_MAP_class-target to -fdebug-prefix-map=${B}=/foo, the work-shared path to a gcc binary gets truncated.. or rather, gets TMPDIR removed</td><td class="time"><a href="#t2021-02-05T20:03:36" class="time">20:03</a></td></tr>
<tr id="t2021-02-05T20:03:46"><th class="nick" style="background: #c668c6">kergoth</th><td class="text" style="color: #c668c6">i.e. /work-shared/gcc-9.3.0-r0/gcc-9.3.0/libatomic/gload.c rather than /mel/kergoth/mel/cb-toolchain/its-790/build/tmp-glibc/work-shared/gcc-9.3.0-r0/gcc-9.3.0/libatomic/gload.c</td><td class="time"><a href="#t2021-02-05T20:03:46" class="time">20:03</a></td></tr>
<tr id="t2021-02-05T20:03:53"><th class="nick" style="background: #c668c6">kergoth</th><td class="text" style="color: #c668c6">even though that path doesn't include ${B} at all.</td><td class="time"><a href="#t2021-02-05T20:03:53" class="time">20:03</a></td></tr>
<tr id="t2021-02-05T20:04:09"><th class="nick" style="background: #c668c6">kergoth</th><td class="text" style="color: #c668c6">and the replacement string, /foo, isn't in the result. yet still the path changes</td><td class="time"><a href="#t2021-02-05T20:04:09" class="time">20:04</a></td></tr>
<tr id="t2021-02-05T20:04:19"><th class="nick" style="background: #c668c6">kergoth</th><td class="text" style="color: #c668c6">Anyone have any ideas?</td><td class="time"><a href="#t2021-02-05T20:04:19" class="time">20:04</a></td></tr>
<tr id="t2021-02-05T20:37:19"><td class="nickchange" colspan="2">*** mprokos is now known as rabbit9911</td><td><a href="#t2021-02-05T20:37:19" class="time">20:37</a></td></tr>
<tr id="t2021-02-05T20:37:54"><th class="nick" style="background: #6acaca">rabbit9911</th><td class="text" style="color: #6acaca">I have been looking at nix a little. Any thoughts about adding nixpkg support along side ipk/deb/rpm?</td><td class="time"><a href="#t2021-02-05T20:37:54" class="time">20:37</a></td></tr>
<tr id="t2021-02-05T20:56:37"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">rabbit9911: I think someone was recently looking at making the packaging system more pluggable so that you could maintain such a thing on your own more easily</td><td class="time"><a href="#t2021-02-05T20:56:37" class="time">20:56</a></td></tr>
<tr id="t2021-02-05T20:56:43"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">I think their goal was APK</td><td class="time"><a href="#t2021-02-05T20:56:43" class="time">20:56</a></td></tr>
<tr id="t2021-02-05T20:57:30"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">I suspect the core project necessarily needs to keep the number of package formats it support to a minimum.... we have a hard enough time with deb as it is</td><td class="time"><a href="#t2021-02-05T20:57:30" class="time">20:57</a></td></tr>
<tr id="t2021-02-05T20:57:35"><th class="nick" style="background: #ce6c6c">boucman</th><td class="text" style="color: #ce6c6c">Hello everybody</td><td class="time"><a href="#t2021-02-05T20:57:35" class="time">20:57</a></td></tr>
<tr id="t2021-02-05T20:57:53"><th class="nick" style="background: #ce6c6c">boucman</th><td class="text" style="color: #ce6c6c">Is there an easy way, given a package name, to know where the corresponding package is (i.e the .rpm/.deb/.ipk file ?</td><td class="time"><a href="#t2021-02-05T20:57:53" class="time">20:57</a></td></tr>
<tr id="t2021-02-05T20:57:53-2"><th class="nick" style="background: #ce6c6c">boucman</th><td class="text" style="color: #ce6c6c">extending PV etc for me</td><td class="time"><a href="#t2021-02-05T20:57:53-2" class="time">20:57</a></td></tr>
<tr id="t2021-02-05T20:58:04"><th class="nick" style="background: #ce6c6c">boucman</th><td class="text" style="color: #ce6c6c">(I want to use it in image-recipe context, so it can be a python call)</td><td class="time"><a href="#t2021-02-05T20:58:04" class="time">20:58</a></td></tr>
<tr id="t2021-02-05T20:58:26"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">boucman: Maybe.... why?</td><td class="time"><a href="#t2021-02-05T20:58:26" class="time">20:58</a></td></tr>
<tr id="t2021-02-05T20:58:45"><th class="nick" style="background: #ce6c6c">boucman</th><td class="text" style="color: #ce6c6c">I want to add partial update to meta-swupdate</td><td class="time"><a href="#t2021-02-05T20:58:45" class="time">20:58</a></td></tr>
<tr id="t2021-02-05T20:59:02"><th class="nick" style="background: #ce6c6c">boucman</th><td class="text" style="color: #ce6c6c">swupdate itself has already what I need, so i'm adding the yocto part</td><td class="time"><a href="#t2021-02-05T20:59:02" class="time">20:59</a></td></tr>
<tr id="t2021-02-05T20:59:14"><th class="nick" style="background: #6acaca">rabbit9911</th><td class="text" style="color: #6acaca">JPEW: That makes sense. I will dwell on it. I was thinking of using it similar to what the yocto SDK is used for.</td><td class="time"><a href="#t2021-02-05T20:59:14" class="time">20:59</a></td></tr>
<tr id="t2021-02-05T20:59:21"><th class="nick" style="background: #ce6c6c">boucman</th><td class="text" style="color: #ce6c6c">basically, I want to embedd a package in a .swu image then deploy on the target</td><td class="time"><a href="#t2021-02-05T20:59:21" class="time">20:59</a></td></tr>
<tr id="t2021-02-05T20:59:40"><th class="nick" style="background: #ce6c6c">boucman</th><td class="text" style="color: #ce6c6c">(most of the time it will be a .tar package, since that's what makes most sense in this case)</td><td class="time"><a href="#t2021-02-05T20:59:40" class="time">20:59</a></td></tr>
<tr id="t2021-02-05T21:00:36"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">boucman: If you dig through package.bbclass you might find something useful</td><td class="time"><a href="#t2021-02-05T21:00:36" class="time">21:00</a></td></tr>
<tr id="t2021-02-05T21:01:27"><th class="nick" style="background: #ce6c6c">boucman</th><td class="text" style="color: #ce6c6c">I have been trying to dig through the do_rootfs logic to try to figure out how packages are found (in particular wrt PREFERRED_VERSION) but no luck</td><td class="time"><a href="#t2021-02-05T21:01:27" class="time">21:01</a></td></tr>
<tr id="t2021-02-05T21:01:36"><th class="nick" style="background: #ce6c6c">boucman</th><td class="text" style="color: #ce6c6c">i'll look into package.bbclass</td><td class="time"><a href="#t2021-02-05T21:01:36" class="time">21:01</a></td></tr>
<tr id="t2021-02-05T21:02:02"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">boucman: The package manager handle that (e.g. opkg, dnf, apt)</td><td class="time"><a href="#t2021-02-05T21:02:02" class="time">21:02</a></td></tr>
<tr id="t2021-02-05T21:02:23"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">Basically, OE just creates a package repository</td><td class="time"><a href="#t2021-02-05T21:02:23" class="time">21:02</a></td></tr>
<tr id="t2021-02-05T21:02:44"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">(e.g. a feed) and tells the underlying tool to install a bunch of packages</td><td class="time"><a href="#t2021-02-05T21:02:44" class="time">21:02</a></td></tr>
<tr id="t2021-02-05T21:02:47"><th class="nick" style="background: #ce6c6c">boucman</th><td class="text" style="color: #ce6c6c">yes and no... at some point oe needs to &quot;force&quot; version, so PREFERRED_VERSION is obeyed, right ?</td><td class="time"><a href="#t2021-02-05T21:02:47" class="time">21:02</a></td></tr>
<tr id="t2021-02-05T21:03:12"><th class="nick" style="background: #ce6c6c">boucman</th><td class="text" style="color: #ce6c6c">but yeah, unfortunately you might be right... so no where to look for that</td><td class="time"><a href="#t2021-02-05T21:03:12" class="time">21:03</a></td></tr>
<tr id="t2021-02-05T21:03:19"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">boucman: Ya... I don't exactly know were that happens</td><td class="time"><a href="#t2021-02-05T21:03:19" class="time">21:03</a></td></tr>
<tr id="t2021-02-05T21:03:47"><th class="nick" style="background: #ce6c6c">boucman</th><td class="text" style="color: #ce6c6c">maybe I'll dig in the package_tar logic... since there is no package manager, I might have more luck</td><td class="time"><a href="#t2021-02-05T21:03:47" class="time">21:03</a></td></tr>
<tr id="t2021-02-05T21:04:22"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">boucman: Right, I think the problem you are likely to run into is that you'll always be second guessing what the package file names are</td><td class="time"><a href="#t2021-02-05T21:04:22" class="time">21:04</a></td></tr>
<tr id="t2021-02-05T21:04:43"><th class="nick" style="background: #ce6c6c">boucman</th><td class="text" style="color: #ce6c6c">i'm a bit afraid of that, yes</td><td class="time"><a href="#t2021-02-05T21:04:43" class="time">21:04</a></td></tr>
<tr id="t2021-02-05T21:05:22"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">boucman: But... perhaps there is a way to get that information from the package manager itself when you build the swu file?</td><td class="time"><a href="#t2021-02-05T21:05:22" class="time">21:05</a></td></tr>
<tr id="t2021-02-05T21:05:40"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">e.g. &quot;give me the exact file name of the 'busybox' package&quot;</td><td class="time"><a href="#t2021-02-05T21:05:40" class="time">21:05</a></td></tr>
<tr id="t2021-02-05T21:06:24"><th class="nick" style="background: #ce6c6c">boucman</th><td class="text" style="color: #ce6c6c">maybe, I havn't looked into using the PM itself yet... and that would be different for each PM</td><td class="time"><a href="#t2021-02-05T21:06:24" class="time">21:06</a></td></tr>
<tr id="t2021-02-05T21:06:43"><th class="nick" style="background: #ce6c6c">boucman</th><td class="text" style="color: #ce6c6c">(unless there is a generic wrapper, but I would have stumbled onto it at this point, I think...)</td><td class="time"><a href="#t2021-02-05T21:06:43" class="time">21:06</a></td></tr>
<tr id="t2021-02-05T21:06:46"><th class="nick" style="background: #5959a9">GeneralStupid</th><td class="text" style="color: #5959a9">I have an issue, that is that systemd-sysusers is telling me during startup that he cant lock /etc/passwd . Does anyone have a suggestion for me? Is it ok to use yocto useradd class with systemd?</td><td class="time"><a href="#t2021-02-05T21:06:46" class="time">21:06</a></td></tr>
<tr id="t2021-02-05T21:20:42"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">GeneralStupid: Should be fine. I'm doing it and it works OK</td><td class="time"><a href="#t2021-02-05T21:20:42" class="time">21:20</a></td></tr>
<tr id="t2021-02-05T21:20:46"><th class="nick" style="background: #6ed16e">khem</th><td class="text" style="color: #6ed16e">rburton:&nbsp;&nbsp;should be in today</td><td class="time"><a href="#t2021-02-05T21:20:46" class="time">21:20</a></td></tr>
<tr id="t2021-02-05T21:22:12"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">JPEW: it is a rather odd combination of things. hopefully the patch I've added will help</td><td class="time"><a href="#t2021-02-05T21:22:12" class="time">21:22</a></td></tr>
<tr id="t2021-02-05T21:22:35"><th class="nick" style="background: #6ed16e">khem</th><td class="text" style="color: #6ed16e">kergoth:&nbsp;&nbsp;what issue do you run into with DEBUG_PREFIX_MAP</td><td class="time"><a href="#t2021-02-05T21:22:35" class="time">21:22</a></td></tr>
<tr id="t2021-02-05T21:23:22"><th class="nick" style="background: #c668c6">kergoth</th><td class="text" style="color: #c668c6">khem: if you were in this channel earlier i elaborated. its' really strange behavior.</td><td class="time"><a href="#t2021-02-05T21:23:22" class="time">21:23</a></td></tr>
<tr id="t2021-02-05T21:23:25"><th class="nick" style="background: #6ed16e">khem</th><td class="text" style="color: #6ed16e">heh <a href="https://lists.gnu.org/archive/html/info-gnu/2021-02/msg00001.html" rel="nofollow">https://lists.gnu.org/archive/html/info-gnu/2021-02/msg00001.html</a></td><td class="time"><a href="#t2021-02-05T21:23:25" class="time">21:23</a></td></tr>
<tr id="t2021-02-05T21:23:30"><th class="nick" style="background: #c668c6">kergoth</th><td class="text" style="color: #c668c6">khem: if i set DEBUG_PREFIX_MAP_class-target to -fdebug-prefix-map=${B}=/foo, the work-shared path to a gcc binary gets truncated.. or rather, gets TMPDIR removed</td><td class="time"><a href="#t2021-02-05T21:23:30" class="time">21:23</a></td></tr>
<tr id="t2021-02-05T21:23:31"><th class="nick" style="background: #c668c6">kergoth</th><td class="text" style="color: #c668c6">i.e. /work-shared/gcc-9.3.0-r0/gcc-9.3.0/libatomic/gload.c rather than /mel/kergoth/mel/cb-toolchain/its-790/build/tmp-glibc/work-shared/gcc-9.3.0-r0/gcc-9.3.0/libatomic/gload.c</td><td class="time"><a href="#t2021-02-05T21:23:31" class="time">21:23</a></td></tr>
<tr id="t2021-02-05T21:23:31-2"><th class="nick" style="background: #c668c6">kergoth</th><td class="text" style="color: #c668c6">even though that path doesn't include ${B} at all.</td><td class="time"><a href="#t2021-02-05T21:23:31-2" class="time">21:23</a></td></tr>
<tr id="t2021-02-05T21:23:35"><th class="nick" style="background: #6ed16e">khem</th><td class="text" style="color: #6ed16e">a release after perhaps 10 years ?</td><td class="time"><a href="#t2021-02-05T21:23:35" class="time">21:23</a></td></tr>
<tr id="t2021-02-05T21:23:46"><th class="nick" style="background: #c668c6">kergoth</th><td class="text" style="color: #c668c6">and the replacement string doesn't show up in those entries at all</td><td class="time"><a href="#t2021-02-05T21:23:46" class="time">21:23</a></td></tr>
<tr id="t2021-02-05T21:23:58"><th class="nick" style="background: #c668c6">kergoth</th><td class="text" style="color: #c668c6">now, that replacement *does* correctly apply to other source files</td><td class="time"><a href="#t2021-02-05T21:23:58" class="time">21:23</a></td></tr>
<tr id="t2021-02-05T21:24:08"><th class="nick" style="background: #c668c6">kergoth</th><td class="text" style="color: #c668c6">just not these.. which it shouldn't, but why are they affected at all?</td><td class="time"><a href="#t2021-02-05T21:24:08" class="time">21:24</a></td></tr>
<tr id="t2021-02-05T21:24:54"><th class="nick" style="background: #6ed16e">khem</th><td class="text" style="color: #6ed16e">kergoth:&nbsp;&nbsp;I think it operates on WORKDIR</td><td class="time"><a href="#t2021-02-05T21:24:54" class="time">21:24</a></td></tr>
<tr id="t2021-02-05T21:25:07"><th class="nick" style="background: #c668c6">kergoth</th><td class="text" style="color: #c668c6">khem: i'm directly printing the paths coming out of dwarfsrcfiles</td><td class="time"><a href="#t2021-02-05T21:25:07" class="time">21:25</a></td></tr>
<tr id="t2021-02-05T21:25:12"><th class="nick" style="background: #c668c6">kergoth</th><td class="text" style="color: #c668c6">not looking at the resulting installed files</td><td class="time"><a href="#t2021-02-05T21:25:12" class="time">21:25</a></td></tr>
<tr id="t2021-02-05T21:25:37"><th class="nick" style="background: #c668c6">kergoth</th><td class="text" style="color: #c668c6">so why would the stored source file paths in the binary be altered like that? it's weird</td><td class="time"><a href="#t2021-02-05T21:25:37" class="time">21:25</a></td></tr>
<tr id="t2021-02-05T21:26:03"><th class="nick" style="background: #c668c6">kergoth</th><td class="text" style="color: #c668c6">unless package.bbclass is doing something else funky that i'm missing, but the parsing of the output of that tool is straightforward..</td><td class="time"><a href="#t2021-02-05T21:26:03" class="time">21:26</a></td></tr>
<tr id="t2021-02-05T21:26:11"><th class="nick" style="background: #6ed16e">khem</th><td class="text" style="color: #6ed16e">see meta/recipes-devtools/gcc/gcc-runtime.inc</td><td class="time"><a href="#t2021-02-05T21:26:11" class="time">21:26</a></td></tr>
<tr id="t2021-02-05T21:26:25"><th class="nick" style="background: #c668c6">kergoth</th><td class="text" style="color: #c668c6">i know, that's what i'm working on</td><td class="time"><a href="#t2021-02-05T21:26:25" class="time">21:26</a></td></tr>
<tr id="t2021-02-05T21:26:41"><th class="nick" style="background: #c668c6">kergoth</th><td class="text" style="color: #c668c6">i overrode DEBUG_PREFIX_MAP to only include that one entry, yet paths that don't contain the specified path are being altered somehow</td><td class="time"><a href="#t2021-02-05T21:26:41" class="time">21:26</a></td></tr>
<tr id="t2021-02-05T21:27:12"><th class="nick" style="background: #c668c6">kergoth</th><td class="text" style="color: #c668c6">i'm working on fixing the issue where gcc sources are not being included in the debug packages, but i can't fix the gcc paths from work-shared because they end up &quot;/work-shared/gcc....&quot;</td><td class="time"><a href="#t2021-02-05T21:27:12" class="time">21:27</a></td></tr>
<tr id="t2021-02-05T21:27:20"><th class="nick" style="background: #c668c6">kergoth</th><td class="text" style="color: #c668c6">even though none of the mapping specify that</td><td class="time"><a href="#t2021-02-05T21:27:20" class="time">21:27</a></td></tr>
<tr id="t2021-02-05T21:27:36"><th class="nick" style="background: #c668c6">kergoth</th><td class="text" style="color: #c668c6">I dunno, I might have to call it a day and try again tomorrow</td><td class="time"><a href="#t2021-02-05T21:27:36" class="time">21:27</a></td></tr>
<tr id="t2021-02-05T21:27:47"><th class="nick" style="background: #6464bf">jordemort</th><td class="text" style="color: #6464bf">figured out my u-boot thing, i was using the wrong u-boot sources</td><td class="time"><a href="#t2021-02-05T21:27:47" class="time">21:27</a></td></tr>
<tr id="t2021-02-05T21:27:49"><th class="nick" style="background: #6464bf">jordemort</th><td class="text" style="color: #6464bf">but now this is driving me insane <a href="https://gist.github.com/jordemort/b8b322522053cd7d0553d788c40cb746" rel="nofollow">https://gist.github.com/jordemort/b8b322522053cd7d0553d788c40cb746</a></td><td class="time"><a href="#t2021-02-05T21:27:49" class="time">21:27</a></td></tr>
<tr id="t2021-02-05T21:28:28"><th class="nick" style="background: #6464bf">jordemort</th><td class="text" style="color: #6464bf">i am getting a KeyError from sstate_report_unihash for my build user's UID, for a package i have not touched</td><td class="time"><a href="#t2021-02-05T21:28:28" class="time">21:28</a></td></tr>
<tr id="t2021-02-05T21:28:42"><th class="nick" style="background: #6464bf">jordemort</th><td class="text" style="color: #6464bf">every once in a while this happens and the only answer i've found is &quot;blow away your sstate&quot; but i would really really like to figure out how to prevent it from happening</td><td class="time"><a href="#t2021-02-05T21:28:42" class="time">21:28</a></td></tr>
<tr id="t2021-02-05T21:29:28"><th class="nick" style="background: #6464bf">jordemort</th><td class="text" style="color: #6464bf">again, this an untouched unmodified recipe, i haven't screwed up in do_install or anything, my build has just decided to randomly start choking on it for no discernible reason</td><td class="time"><a href="#t2021-02-05T21:29:28" class="time">21:29</a></td></tr>
<tr id="t2021-02-05T21:30:22"><th class="nick" style="background: #c668c6">kergoth</th><td class="text" style="color: #c668c6">jordemort: what release/branch?</td><td class="time"><a href="#t2021-02-05T21:30:22" class="time">21:30</a></td></tr>
<tr id="t2021-02-05T21:30:42"><th class="nick" style="background: #6464bf">jordemort</th><td class="text" style="color: #6464bf">kergoth: dunfell</td><td class="time"><a href="#t2021-02-05T21:30:42" class="time">21:30</a></td></tr>
<tr id="t2021-02-05T21:32:12"><th class="nick" style="background: #6464bf">jordemort</th><td class="text" style="color: #6464bf">i have a theory that it's related to RPM signing? because sometimes GPG dies in the middle of signing a package, also for unknown reasons; perhaps if that happens it leaves behind something with a bad UID maybe?</td><td class="time"><a href="#t2021-02-05T21:32:12" class="time">21:32</a></td></tr>
<tr id="t2021-02-05T21:34:34"><th class="nick" style="background: #6ed16e">khem</th><td class="text" style="color: #6ed16e">kergoth:&nbsp;&nbsp;I think I dont yet fully grasp the problem</td><td class="time"><a href="#t2021-02-05T21:34:34" class="time">21:34</a></td></tr>
<tr id="t2021-02-05T21:37:12"><th class="nick" style="background: #c668c6">kergoth</th><td class="text" style="color: #c668c6">I'll post a gist. I'm building gcc-runtime with package.bbclass adjusted to dump the source paths referenced by the binaries the build produces, and these paths are being modified in ways inconsistent with the specified debug-prefix-map</td><td class="time"><a href="#t2021-02-05T21:37:12" class="time">21:37</a></td></tr>
<tr id="t2021-02-05T21:37:13"><th class="nick" style="background: #c668c6">kergoth</th><td class="text" style="color: #c668c6">to sum up</td><td class="time"><a href="#t2021-02-05T21:37:13" class="time">21:37</a></td></tr>
<tr id="t2021-02-05T21:42:08"><th class="nick" style="background: #c668c6">kergoth</th><td class="text" style="color: #c668c6">khem: <a href="https://gist.github.com/kergoth/d2f4057717daf8794ac8a54055c944df" rel="nofollow">https://gist.github.com/kergoth/d2f4057717daf8794ac8a54055c944df</a></td><td class="time"><a href="#t2021-02-05T21:42:08" class="time">21:42</a></td></tr>
<tr id="t2021-02-05T21:42:42"><th class="nick" style="background: #c668c6">kergoth</th><td class="text" style="color: #c668c6">khem: there you can see the changed paths resulting from setting the map this way, but the first two entries shouldn't have changed at all, as they didn't contain the paths specified in the prefix map!</td><td class="time"><a href="#t2021-02-05T21:42:42" class="time">21:42</a></td></tr>
<tr id="t2021-02-05T21:58:10"><th class="nick" style="background: #7070d5">vdl</th><td class="text" style="color: #7070d5">is it bad to define WKS_FILE in the image recipe?</td><td class="time"><a href="#t2021-02-05T21:58:10" class="time">21:58</a></td></tr>
<tr id="t2021-02-05T22:05:09"><th class="nick" style="background: #c668c6">kergoth</th><td class="text" style="color: #c668c6">vdl: generally yes, as it makes the image machine specific, whereas any combination of distro/machine/image are supposed to work</td><td class="time"><a href="#t2021-02-05T22:05:09" class="time">22:05</a></td></tr>
<tr id="t2021-02-05T22:06:16"><th class="nick" style="background: #7070d5">vdl</th><td class="text" style="color: #7070d5">kergoth: I see. but it seems weird to me to defined different machines for my board's SD card, flash, and e.g. usb stick. isn't it?</td><td class="time"><a href="#t2021-02-05T22:06:16" class="time">22:06</a></td></tr>
<tr id="t2021-02-05T22:22:14"><td class="part" colspan="2">*** beneth &lt;beneth!~beneth@irc.beneth.fr&gt; has left #yocto</td><td><a href="#t2021-02-05T22:22:14" class="time">22:22</a></td></tr>
<tr id="t2021-02-05T22:33:54"><td class="nickchange" colspan="2">*** RzR is now known as rZr</td><td><a href="#t2021-02-05T22:33:54" class="time">22:33</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2021-02-04.log.html">&#171; Thursday, 2021-02-04</a> <a href="index.html">Index</a> <a href="%23yocto.2021-02-06.log.html">Saturday, 2021-02-06 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.17.2 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="https://mg.pov.lt/irclog2html/">https://mg.pov.lt/irclog2html/</a>!</p>
</div>
</body>
</html>
