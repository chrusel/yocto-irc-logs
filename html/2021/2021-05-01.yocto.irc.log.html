<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Saturday, 2021-05-01</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.17.2 by Marius Gedminas" />
  <meta name="version" content="2.17.2 - 2019-04-23" />
</head>
<body>
<h1>Saturday, 2021-05-01</h1>
<div class="navigation"> <a href="%23yocto.2021-04-30.log.html">&#171; Friday, 2021-04-30</a> <a href="index.html">Index</a> <a href="%23yocto.2021-05-02.log.html">Sunday, 2021-05-02 &#187;</a> </div>
<table class="irclog">
<tr id="t2021-05-01T00:22:16"><th class="nick" style="background: #407a40">resoum</th><td class="text" style="color: #407a40">If I pass in an environment variable with BB_ENV_EXTRAWHITE that should _not_ invalidate the cache when it changes, do I add that variable name to BB_HASHBASE_WHITELIST or BB_HASHCONFIG_WHITELIST? Or both?</td><td class="time"><a href="#t2021-05-01T00:22:16" class="time">00:22</a></td></tr>
<tr id="t2021-05-01T00:23:17"><th class="nick" style="background: #407a40">resoum</th><td class="text" style="color: #407a40">(I am also exporting the passed in variables in my distro conf so I can use them as recipe variables)</td><td class="time"><a href="#t2021-05-01T00:23:17" class="time">00:23</a></td></tr>
<tr id="t2021-05-01T00:28:40"><th class="nick" style="background: #407a40">resoum</th><td class="text" style="color: #407a40">Also, is there a reliable way to avoid forcing a re-parsing of the base metadata for those variables as well?</td><td class="time"><a href="#t2021-05-01T00:28:40" class="time">00:28</a></td></tr>
<tr id="t2021-05-01T00:46:41"><th class="nick" style="background: #407a40">resoum</th><td class="text" style="color: #407a40">From reading the docs, I _believe_ I do want both, but poky/meta/conf/bitbake.conf seems to indicate that BB_HASHCONFIG_WHITELIST ?= ${BB_HASHBASE_WHITELIST}, so there appears to be at least some desire to only need one.</td><td class="time"><a href="#t2021-05-01T00:46:41" class="time">00:46</a></td></tr>
<tr id="t2021-05-01T01:03:58"><td class="action" colspan="2">* jonesv[m] &lt; <a href="https://matrix.org/_matrix/media/r0/download/matrix.org/cNDJTctEfmfRtBPQktdPuPCB/message.txt" rel="nofollow">https://matrix.org/_matrix/media/r0/download/matrix.org/cNDJTctEfmfRtBPQktdPuPCB/message.txt</a> &gt;</td><td><a href="#t2021-05-01T01:03:58" class="time">01:03</a></td></tr>
<tr id="t2021-05-01T03:06:15"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">jonesv: how powerful is the cpu ?</td><td class="time"><a href="#t2021-05-01T03:06:15" class="time">03:06</a></td></tr>
<tr id="t2021-05-01T05:08:32"><td class="nickchange" colspan="2">*** quijote is now known as Guest25792</td><td><a href="#t2021-05-01T05:08:32" class="time">05:08</a></td></tr>
<tr id="t2021-05-01T07:04:51"><th class="nick" style="background: #818144">mrqwertz</th><td class="text" style="color: #818144">I have a question about the release process of meta-openembedded. I saw that a recipe for yaml-cpp exists on the master branch, but not for dunfell or others. Are new recipes still ported back for dunfell or do you have to upgrade the build system to a newer release?</td><td class="time"><a href="#t2021-05-01T07:04:51" class="time">07:04</a></td></tr>
<tr id="t2021-05-01T09:40:03"><td class="nickchange" colspan="2">*** creich_ is now known as creich</td><td><a href="#t2021-05-01T09:40:03" class="time">09:40</a></td></tr>
<tr id="t2021-05-01T11:31:30"><th class="nick" style="background: #854685">jonesv[m]</th><td class="text" style="color: #854685">&lt;khem &quot;jonesv: how powerful is the cpu &quot;&gt; it's an apq8009... do you think that it may be too slow to boot yocto? ðŸ¤”</td><td class="time"><a href="#t2021-05-01T11:31:30" class="time">11:31</a></td></tr>
<tr id="t2021-05-01T11:33:42"><th class="nick" style="background: #854685">jonesv[m]</th><td class="text" style="color: #854685">The thing is that I replaced the `system` by the one I built with yocto, and I kept `boot` intact. So my understanding is that I kept the downstream kernel but just changed the rootfs. Now I'm not sure if `Starting udev` means that the kernel did recognize my rootfs at all or not... it's an ubi system and maybe I screwed up the setup. I just don't know what to do from here, I'd like to see more output from the kernel to</td><td class="time"><a href="#t2021-05-01T11:33:42" class="time">11:33</a></td></tr>
<tr id="t2021-05-01T11:33:42-2"><th class="nick" style="background: #854685">jonesv[m]</th><td class="text" style="color: #854685">understand maybe what is wrong</td><td class="time"><a href="#t2021-05-01T11:33:42-2" class="time">11:33</a></td></tr>
<tr id="t2021-05-01T14:17:25"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">jonesv: can you change kernel cmdline parameters ?</td><td class="time"><a href="#t2021-05-01T14:17:25" class="time">14:17</a></td></tr>
<tr id="t2021-05-01T14:17:43"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">if so you might add printk to it</td><td class="time"><a href="#t2021-05-01T14:17:43" class="time">14:17</a></td></tr>
<tr id="t2021-05-01T14:18:41"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">your CPU is powerful enough that it should finish udev quickly enough</td><td class="time"><a href="#t2021-05-01T14:18:41" class="time">14:18</a></td></tr>
<tr id="t2021-05-01T15:17:41"><th class="nick" style="background: #854685">jonesv[m]</th><td class="text" style="color: #854685">khem: I'll try, I'm now reading to see where the cmdline is stored (like does it go on the bootloader partition `aboot`, the kernel partition `boot` or the rootfs partition `system`? Because if I change it in the bootloader but only flash the kernel partition, that's useless :D</td><td class="time"><a href="#t2021-05-01T15:17:41" class="time">15:17</a></td></tr>
<tr id="t2021-05-01T15:18:09"><th class="nick" style="background: #854685">jonesv[m]</th><td class="text" style="color: #854685">I'm just scared of flashing anything at all on `aboot`, because if that fails, I won't be able to flash anything anymore</td><td class="time"><a href="#t2021-05-01T15:18:09" class="time">15:18</a></td></tr>
<tr id="t2021-05-01T16:15:09"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">khem: do you have enough knowledge of elf to tell if <a href="http://git.yoctoproject.org/cgit.cgi/poky-contrib/patch/?id=9b4812f8b51fc5ffd1c22981fcdd7426e035c556" rel="nofollow">http://git.yoctoproject.org/cgit.cgi/poky-contrib/patch/?id=9b4812f8b51fc5ffd1c22981fcdd7426e035c556</a> is right?</td><td class="time"><a href="#t2021-05-01T16:15:09" class="time">16:15</a></td></tr>
<tr id="t2021-05-01T16:39:37"><th class="nick" style="background: #8c4a4a">v2d</th><td class="text" style="color: #8c4a4a">hi all -- what should I add in my recipe to have the (native) fallocate tool available?</td><td class="time"><a href="#t2021-05-01T16:39:37" class="time">16:39</a></td></tr>
<tr id="t2021-05-01T16:45:16"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">v2d: looks like it is part of util-linux</td><td class="time"><a href="#t2021-05-01T16:45:16" class="time">16:45</a></td></tr>
<tr id="t2021-05-01T16:49:51"><th class="nick" style="background: #8c4a4a">v2d</th><td class="text" style="color: #8c4a4a">RP: util-linux-native then? :s</td><td class="time"><a href="#t2021-05-01T16:49:51" class="time">16:49</a></td></tr>
<tr id="t2021-05-01T16:49:59"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">v2d: yes</td><td class="time"><a href="#t2021-05-01T16:49:59" class="time">16:49</a></td></tr>
<tr id="t2021-05-01T16:50:04"><th class="nick" style="background: #8c4a4a">v2d</th><td class="text" style="color: #8c4a4a">I meant DEPENDS = &quot;util-linux-native&quot;</td><td class="time"><a href="#t2021-05-01T16:50:04" class="time">16:50</a></td></tr>
<tr id="t2021-05-01T16:51:13-2"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">v2d: that is where I'd start...</td><td class="time"><a href="#t2021-05-01T16:51:13-2" class="time">16:51</a></td></tr>
<tr id="t2021-05-01T16:51:19"><th class="nick" style="background: #8c4a4a">v2d</th><td class="text" style="color: #8c4a4a">RP: I'm writing a simple recipe to generate a .vfat partition. Ideally we need a &quot;vfat&quot; IMAGE_FSTYPES imo. Would you be interested in that?</td><td class="time"><a href="#t2021-05-01T16:51:19" class="time">16:51</a></td></tr>
<tr id="t2021-05-01T16:57:53"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">v2d: raw partition copies often aren't as useful as you'd think as they tend to need to be combined into varying sized discs so maybe but I'd want to understand the way it could be used</td><td class="time"><a href="#t2021-05-01T16:57:53" class="time">16:57</a></td></tr>
<tr id="t2021-05-01T17:01:15"><th class="nick" style="background: #8c4a4a">v2d</th><td class="text" style="color: #8c4a4a">RP: for a concrete scenario, the RAUC update utility can upgrade redundant bootable MBR partition, by copying the raw partition and tweaking the MBR active flag atomically to the updated boot partition.</td><td class="time"><a href="#t2021-05-01T17:01:15" class="time">17:01</a></td></tr>
<tr id="t2021-05-01T17:02:00"><th class="nick" style="background: #8c4a4a">v2d</th><td class="text" style="color: #8c4a4a">So one could imagine doing a recipe like this: IMAGE_INSTALL = &quot;virtual/bootloader&quot; IMAGE_FSTYPES = &quot;vfat&quot;</td><td class="time"><a href="#t2021-05-01T17:02:00" class="time">17:02</a></td></tr>
<tr id="t2021-05-01T17:05:27"><th class="nick" style="background: #8c4a4a">v2d</th><td class="text" style="color: #8c4a4a">If a &quot;vfat&quot; image type is not acceptable, one can still write a recipe doing mkfs.vfat and such, or we can imagine the &quot;bundle.bbclass&quot; from meta-rauc to do it for us.</td><td class="time"><a href="#t2021-05-01T17:05:27" class="time">17:05</a></td></tr>
<tr id="t2021-05-01T17:06:57"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">v2d: if there is a user for it, we can probably add it, I doubt it costs us much to maintain</td><td class="time"><a href="#t2021-05-01T17:06:57" class="time">17:06</a></td></tr>
<tr id="t2021-05-01T17:08:39"><th class="nick" style="background: #8c4a4a">v2d</th><td class="text" style="color: #8c4a4a">WIC may use it for part --fstype vfat as well</td><td class="time"><a href="#t2021-05-01T17:08:39" class="time">17:08</a></td></tr>
<tr id="t2021-05-01T17:18:07"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">RP:&nbsp;&nbsp;you should get multiple SHT_NOTE one for each alignment e.g. 4. and 8</td><td class="time"><a href="#t2021-05-01T17:18:07" class="time">17:18</a></td></tr>
<tr id="t2021-05-01T17:18:55"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">which is what I am seeing in comment in your patch</td><td class="time"><a href="#t2021-05-01T17:18:55" class="time">17:18</a></td></tr>
<tr id="t2021-05-01T17:20:31"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">so all .note.XXX sections which are aligned to 4 bytes will go to Second SHT_NOTE and 8bytes one go to first one</td><td class="time"><a href="#t2021-05-01T17:20:31" class="time">17:20</a></td></tr>
<tr id="t2021-05-01T17:23:34"><th class="nick" style="background: #8c4a4a">v2d</th><td class="text" style="color: #8c4a4a">RP: this is my recipes-core/partitions/boot.bb recipe: <a href="http://ix.io/3lvR" rel="nofollow">http://ix.io/3lvR</a> (unfortunately I have no mean to abstract the barebox image names)</td><td class="time"><a href="#t2021-05-01T17:23:34" class="time">17:23</a></td></tr>
<tr id="t2021-05-01T17:25:03"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">RP:&nbsp;&nbsp;most probably patchelf should just ignore checking section to segment checks for notes</td><td class="time"><a href="#t2021-05-01T17:25:03" class="time">17:25</a></td></tr>
<tr id="t2021-05-01T17:28:20"><th class="nick" style="background: #8c4a4a">v2d</th><td class="text" style="color: #8c4a4a">Does adding a task as a dependency like do_foo[depends] += &quot;recipe:do_bar&quot; is enough to pull in &quot;recipe&quot;, or does &quot;recipe&quot; need to be added to *DEPENDS as well?</td><td class="time"><a href="#t2021-05-01T17:28:20" class="time">17:28</a></td></tr>
<tr id="t2021-05-01T17:30:59"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">RP: Just looked into lld which does the section clubbing and I think your patch is right too, so either we can ignore or if we want to resync then your patch improves the situation,</td><td class="time"><a href="#t2021-05-01T17:30:59" class="time">17:30</a></td></tr>
<tr id="t2021-05-01T17:32:06"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">jonesv: I think rootfs should be able to boot ok unless your kernel depends on modules from rootfs and now you would have newer/different modules than the kernel in /boot so it might not be loading them</td><td class="time"><a href="#t2021-05-01T17:32:06" class="time">17:32</a></td></tr>
<tr id="t2021-05-01T19:15:05"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">khem: <a href="https://autobuilder.yoctoproject.org/typhoon/#/builders/89/builds/3373/steps/16/logs/stdio" rel="nofollow">https://autobuilder.yoctoproject.org/typhoon/#/builders/89/builds/3373/steps/16/logs/stdio</a> - different mingw issue with gcc 11</td><td class="time"><a href="#t2021-05-01T19:15:05" class="time">19:15</a></td></tr>
<tr id="t2021-05-01T19:19:19"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">hmm I did build core-image-mingw-sdktest -cpopulate_sdk yesterday for qemux86 and SDKMACHINE = i686-mingw32</td><td class="time"><a href="#t2021-05-01T19:19:19" class="time">19:19</a></td></tr>
<tr id="t2021-05-01T19:19:53"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">I see here you have SDKMACHINE = &quot;x86_64-mingw32&quot;</td><td class="time"><a href="#t2021-05-01T19:19:53" class="time">19:19</a></td></tr>
<tr id="t2021-05-01T19:20:06"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">who uses mingw stuff ?</td><td class="time"><a href="#t2021-05-01T19:20:06" class="time">19:20</a></td></tr>
<tr id="t2021-05-01T19:25:10"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">I have zero use of it and it always needs fixing, Feels like waste of time I wish there was a way to keep it broken and let interesting parties fix it</td><td class="time"><a href="#t2021-05-01T19:25:10" class="time">19:25</a></td></tr>
<tr id="t2021-05-01T19:27:19"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">I have seen such free labor goes unnoticed</td><td class="time"><a href="#t2021-05-01T19:27:19" class="time">19:27</a></td></tr>
<tr id="t2021-05-01T19:40:55"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">khem: JPEW does</td><td class="time"><a href="#t2021-05-01T19:40:55" class="time">19:40</a></td></tr>
<tr id="t2021-05-01T20:22:48"><td class="nickchange" colspan="2">*** rcallicotte is now known as c4t3l_home</td><td><a href="#t2021-05-01T20:22:48" class="time">20:22</a></td></tr>
<tr id="t2021-05-01T21:12:45"><th class="nick" style="background: #42427e">khem</th><td class="text" style="color: #42427e">RP: sent a fix please try it out</td><td class="time"><a href="#t2021-05-01T21:12:45" class="time">21:12</a></td></tr>
<tr id="t2021-05-01T21:38:34"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">khem: thanks, will test</td><td class="time"><a href="#t2021-05-01T21:38:34" class="time">21:38</a></td></tr>
<tr id="t2021-05-01T21:39:00"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">khem: I think we need to rethink how we're handling meta-mingw and meta-gplv2 as they cause us both trouble :/</td><td class="time"><a href="#t2021-05-01T21:39:00" class="time">21:39</a></td></tr>
<tr id="t2021-05-01T21:47:36"><th class="nick" style="background: #8c4a4a">v2d</th><td class="text" style="color: #8c4a4a">I still have &quot;fallocate: not found&quot; from my recipe while I DEPENDS = &quot;util-linux-native&quot;... Am I missing something?</td><td class="time"><a href="#t2021-05-01T21:47:36" class="time">21:47</a></td></tr>
<tr id="t2021-05-01T21:48:42"><th class="nick" style="background: #8c4a4a">v2d</th><td class="text" style="color: #8c4a4a">I also can see build/tmp/sysroots-components/x86_64/util-linux-native/usr/bin/fallocate, so what's the issue here?</td><td class="time"><a href="#t2021-05-01T21:48:42" class="time">21:48</a></td></tr>
<tr id="t2021-05-01T21:59:06"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">v2d: in the recipe that is missing it, is it in recipe-sysroot-native?</td><td class="time"><a href="#t2021-05-01T21:59:06" class="time">21:59</a></td></tr>
<tr id="t2021-05-01T22:01:22"><th class="nick" style="background: #8c4a4a">v2d</th><td class="text" style="color: #8c4a4a">RP: I am not sure to understand</td><td class="time"><a href="#t2021-05-01T22:01:22" class="time">22:01</a></td></tr>
<tr id="t2021-05-01T22:04:19"><th class="nick" style="background: #8c4a4a">v2d</th><td class="text" style="color: #8c4a4a">RP: I have no such thing like */my-boot-part-recipe/*/recipe-sysroot-native/usr/bin/fallocate</td><td class="time"><a href="#t2021-05-01T22:04:19" class="time">22:04</a></td></tr>
<tr id="t2021-05-01T22:04:29"><th class="nick" style="background: #8c4a4a">v2d</th><td class="text" style="color: #8c4a4a">but I do for other image recipes</td><td class="time"><a href="#t2021-05-01T22:04:29" class="time">22:04</a></td></tr>
<tr id="t2021-05-01T22:12:27"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">v2d: you added DEPENDS = &quot;util-linux-native&quot; to my-boot-part-recipe but you don't see fallocate there?</td><td class="time"><a href="#t2021-05-01T22:12:27" class="time">22:12</a></td></tr>
<tr id="t2021-05-01T22:12:47"><th class="nick" style="background: #8c4a4a">v2d</th><td class="text" style="color: #8c4a4a">RP: exact</td><td class="time"><a href="#t2021-05-01T22:12:47" class="time">22:12</a></td></tr>
<tr id="t2021-05-01T22:12:52"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">v2d: that seems strange and I'd check with bitbake -e that DEPENDS is set to what you think it should be</td><td class="time"><a href="#t2021-05-01T22:12:52" class="time">22:12</a></td></tr>
<tr id="t2021-05-01T22:13:31"><th class="nick" style="background: #8c4a4a">v2d</th><td class="text" style="color: #8c4a4a">ok</td><td class="time"><a href="#t2021-05-01T22:13:31" class="time">22:13</a></td></tr>
<tr id="t2021-05-01T22:14:02"><th class="nick" style="background: #8c4a4a">v2d</th><td class="text" style="color: #8c4a4a">It used to work until I added this recipe as a dependency from another (wic) image recipe.</td><td class="time"><a href="#t2021-05-01T22:14:02" class="time">22:14</a></td></tr>
<tr id="t2021-05-01T22:17:31"><th class="nick" style="background: #8c4a4a">v2d</th><td class="text" style="color: #8c4a4a">RP: I've added the recipe to EXTRA_IMAGEDEPENDS and do_image_wic[depends], do somehow it messes around with task ordering. I've changed the add_task statement to specify &quot;after do_prepare_recipe_sysroot&quot; and it works now. Normal?</td><td class="time"><a href="#t2021-05-01T22:17:31" class="time">22:17</a></td></tr>
<tr id="t2021-05-01T22:17:45"><th class="nick" style="background: #8c4a4a">v2d</th><td class="text" style="color: #8c4a4a">s/do/but/</td><td class="time"><a href="#t2021-05-01T22:17:45" class="time">22:17</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2021-04-30.log.html">&#171; Friday, 2021-04-30</a> <a href="index.html">Index</a> <a href="%23yocto.2021-05-02.log.html">Sunday, 2021-05-02 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.17.2 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="https://mg.pov.lt/irclog2html/">https://mg.pov.lt/irclog2html/</a>!</p>
</div>
</body>
</html>
