<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Tuesday, 2021-04-20</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.17.2 by Marius Gedminas" />
  <meta name="version" content="2.17.2 - 2019-04-23" />
</head>
<body>
<h1>Tuesday, 2021-04-20</h1>
<div class="navigation"> <a href="%23yocto.2021-04-19.log.html">&#171; Monday, 2021-04-19</a> <a href="index.html">Index</a> <a href="%23yocto.2021-04-21.log.html">Wednesday, 2021-04-21 &#187;</a> </div>
<table class="irclog">
<tr id="t2021-04-20T01:42:25"><td class="nickchange" colspan="2">*** vmesons is now known as vmeson</td><td><a href="#t2021-04-20T01:42:25" class="time">01:42</a></td></tr>
<tr id="t2021-04-20T02:23:15"><td class="nickchange" colspan="2">*** camus is now known as kaspter</td><td><a href="#t2021-04-20T02:23:15" class="time">02:23</a></td></tr>
<tr id="t2021-04-20T06:14:33"><th class="nick" style="background: #407a40">beginner</th><td class="text" style="color: #407a40">Why does _append / _prepend not work properly with Python functions that are not a task?</td><td class="time"><a href="#t2021-04-20T06:14:33" class="time">06:14</a></td></tr>
<tr id="t2021-04-20T06:14:34"><th class="nick" style="background: #407a40">beginner</th><td class="text" style="color: #407a40">python my_func_prepend () {</td><td class="time"><a href="#t2021-04-20T06:14:34" class="time">06:14</a></td></tr>
<tr id="t2021-04-20T06:14:34-2"><th class="nick" style="background: #407a40">beginner</th><td class="text" style="color: #407a40">    bb.warn ('do sth fancy')</td><td class="time"><a href="#t2021-04-20T06:14:34-2" class="time">06:14</a></td></tr>
<tr id="t2021-04-20T06:14:35"><th class="nick" style="background: #407a40">beginner</th><td class="text" style="color: #407a40">}</td><td class="time"><a href="#t2021-04-20T06:14:35" class="time">06:14</a></td></tr>
<tr id="t2021-04-20T06:14:35-2"><th class="nick" style="background: #407a40">beginner</th><td class="text" style="color: #407a40">becomes</td><td class="time"><a href="#t2021-04-20T06:14:35-2" class="time">06:14</a></td></tr>
<tr id="t2021-04-20T06:14:36"><th class="nick" style="background: #407a40">beginner</th><td class="text" style="color: #407a40">python my_func () {</td><td class="time"><a href="#t2021-04-20T06:14:36" class="time">06:14</a></td></tr>
<tr id="t2021-04-20T06:14:36-2"><th class="nick" style="background: #407a40">beginner</th><td class="text" style="color: #407a40">    bb.warn ('do sth fancy')</td><td class="time"><a href="#t2021-04-20T06:14:36-2" class="time">06:14</a></td></tr>
<tr id="t2021-04-20T06:14:37"><th class="nick" style="background: #407a40">beginner</th><td class="text" style="color: #407a40">def my_func ():</td><td class="time"><a href="#t2021-04-20T06:14:37" class="time">06:14</a></td></tr>
<tr id="t2021-04-20T06:14:37-2"><th class="nick" style="background: #407a40">beginner</th><td class="text" style="color: #407a40">    pass</td><td class="time"><a href="#t2021-04-20T06:14:37-2" class="time">06:14</a></td></tr>
<tr id="t2021-04-20T06:14:38"><th class="nick" style="background: #407a40">beginner</th><td class="text" style="color: #407a40">}</td><td class="time"><a href="#t2021-04-20T06:14:38" class="time">06:14</a></td></tr>
<tr id="t2021-04-20T06:14:38-2"><th class="nick" style="background: #407a40">beginner</th><td class="text" style="color: #407a40">python my_func_prepend () {</td><td class="time"><a href="#t2021-04-20T06:14:38-2" class="time">06:14</a></td></tr>
<tr id="t2021-04-20T06:14:39"><th class="nick" style="background: #407a40">beginner</th><td class="text" style="color: #407a40">None}</td><td class="time"><a href="#t2021-04-20T06:14:39" class="time">06:14</a></td></tr>
<tr id="t2021-04-20T06:15:15"><th class="nick" style="background: #407a40">beginner</th><td class="text" style="color: #407a40">bb.warn ('do sth fancy') is never called</td><td class="time"><a href="#t2021-04-20T06:15:15" class="time">06:15</a></td></tr>
<tr id="t2021-04-20T06:52:42"><td class="nickchange" colspan="2">*** camus is now known as kaspter</td><td><a href="#t2021-04-20T06:52:42" class="time">06:52</a></td></tr>
<tr id="t2021-04-20T07:51:23"><td class="nickchange" colspan="2">*** mckoan|away is now known as mckoan</td><td><a href="#t2021-04-20T07:51:23" class="time">07:51</a></td></tr>
<tr id="t2021-04-20T08:05:15-2"><td class="nickchange" colspan="2">*** camus is now known as kaspter</td><td><a href="#t2021-04-20T08:05:15-2" class="time">08:05</a></td></tr>
<tr id="t2021-04-20T08:20:10"><th class="nick" style="background: #42427e">qschulz</th><td class="text" style="color: #42427e">RP: I meant the timestamp issues :) (too many topics at once :D)</td><td class="time"><a href="#t2021-04-20T08:20:10" class="time">08:20</a></td></tr>
<tr id="t2021-04-20T08:20:24"><th class="nick" style="background: #42427e">qschulz</th><td class="text" style="color: #42427e">(timestamp in log.do_&lt;task&gt;)</td><td class="time"><a href="#t2021-04-20T08:20:24" class="time">08:20</a></td></tr>
<tr id="t2021-04-20T08:22:30"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">qschulz: I know, that is harder than you'd think :/</td><td class="time"><a href="#t2021-04-20T08:22:30" class="time">08:22</a></td></tr>
<tr id="t2021-04-20T08:25:54"><th class="nick" style="background: #42427e">qschulz</th><td class="text" style="color: #42427e">RP: I'm not saying it's easy, I just wanted to know if there was any specific issue or just so many small issues that makes it impractical/impossible to implement?</td><td class="time"><a href="#t2021-04-20T08:25:54" class="time">08:25</a></td></tr>
<tr id="t2021-04-20T08:26:37"><th class="nick" style="background: #42427e">qschulz</th><td class="text" style="color: #42427e">RP: just being curious</td><td class="time"><a href="#t2021-04-20T08:26:37" class="time">08:26</a></td></tr>
<tr id="t2021-04-20T08:31:06"><th class="nick" style="background: #854685">yann</th><td class="text" style="color: #854685">rburton: damned, I'm touching insane.class, I can check that the results do appear in `bitbake optee-os -c package_qa -e`, and none of those change ever trigger a package_qa task run, it's always using the setscene - that could be a lead for why it did not break testing ?</td><td class="time"><a href="#t2021-04-20T08:31:06" class="time">08:31</a></td></tr>
<tr id="t2021-04-20T08:31:39"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">yann: maybe your distro doesn't make that check a warning</td><td class="time"><a href="#t2021-04-20T08:31:39" class="time">08:31</a></td></tr>
<tr id="t2021-04-20T08:31:42"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">or error</td><td class="time"><a href="#t2021-04-20T08:31:42" class="time">08:31</a></td></tr>
<tr id="t2021-04-20T08:32:21"><th class="nick" style="background: #854685">yann</th><td class="text" style="color: #854685">it is in WARN_QA, I even tried to promote it to ERROR_QA, still no package_qa rerun</td><td class="time"><a href="#t2021-04-20T08:32:21" class="time">08:32</a></td></tr>
<tr id="t2021-04-20T08:33:44"><th class="nick" style="background: #854685">yann</th><td class="text" style="color: #854685">that part of our distro matches poky</td><td class="time"><a href="#t2021-04-20T08:33:44" class="time">08:33</a></td></tr>
<tr id="t2021-04-20T08:37:48"><th class="nick" style="background: #854685">yann</th><td class="text" style="color: #854685">rburton: the _package_qa.tgz in my sstate is strange, it is 10240 null bytes, gzipped - tar seems to accept this input, but still...</td><td class="time"><a href="#t2021-04-20T08:37:48" class="time">08:37</a></td></tr>
<tr id="t2021-04-20T08:38:51"><th class="nick" style="background: #854685">yann</th><td class="text" style="color: #854685">45-bytes tgz, which file even reports as &quot;gzip compressed data, from Unix, truncated&quot; (though perhaps abusingly)</td><td class="time"><a href="#t2021-04-20T08:38:51" class="time">08:38</a></td></tr>
<tr id="t2021-04-20T08:40:52"><th class="nick" style="background: #854685">yann</th><td class="text" style="color: #854685">ah dumpsigs says WARN_QA and friends are whitelisted, that can explay why changing them does not trigger the job, but then is that reasonable ?</td><td class="time"><a href="#t2021-04-20T08:40:52" class="time">08:40</a></td></tr>
<tr id="t2021-04-20T08:41:15"><th class="nick" style="background: #854685">yann</th><td class="text" style="color: #854685">and &quot;textrel&quot; simply does not appear in the siginfo</td><td class="time"><a href="#t2021-04-20T08:41:15" class="time">08:41</a></td></tr>
<tr id="t2021-04-20T08:46:56"><th class="nick" style="background: #854685">yann</th><td class="text" style="color: #854685">it does not seem that easy to remove those vars from a single task or a single recipe :/</td><td class="time"><a href="#t2021-04-20T08:46:56" class="time">08:46</a></td></tr>
<tr id="t2021-04-20T09:43:17"><th class="nick" style="background: #8c4a4a">thekappe</th><td class="text" style="color: #8c4a4a">hello guys !</td><td class="time"><a href="#t2021-04-20T09:43:17" class="time">09:43</a></td></tr>
<tr id="t2021-04-20T09:44:06"><th class="nick" style="background: #8c4a4a">thekappe</th><td class="text" style="color: #8c4a4a">I'm using the devicetree class to build the DT. After the build I got my dtb listed in build/tmp/work/machine/device-tree/rev/image/boot/devicetree</td><td class="time"><a href="#t2021-04-20T09:44:06" class="time">09:44</a></td></tr>
<tr id="t2021-04-20T09:45:10"><th class="nick" style="background: #8c4a4a">thekappe</th><td class="text" style="color: #8c4a4a">BY the way the devicetree folder with the dtbs is not in tmp/work/machine/my-image-recipe/version/rootfs/boot</td><td class="time"><a href="#t2021-04-20T09:45:10" class="time">09:45</a></td></tr>
<tr id="t2021-04-20T09:49:03"><th class="nick" style="background: #4b904b">mckoan</th><td class="text" style="color: #4b904b">thekappe: do you have KERNEL_DEVICETREE in the machine file ?</td><td class="time"><a href="#t2021-04-20T09:49:03" class="time">09:49</a></td></tr>
<tr id="t2021-04-20T09:50:41"><th class="nick" style="background: #8c4a4a">thekappe</th><td class="text" style="color: #8c4a4a">mckoan, my dts file is not in kernel's directory</td><td class="time"><a href="#t2021-04-20T09:50:41" class="time">09:50</a></td></tr>
<tr id="t2021-04-20T09:50:59"><th class="nick" style="background: #8c4a4a">thekappe</th><td class="text" style="color: #8c4a4a">is built outside inheriting the devicetree.bbclaa</td><td class="time"><a href="#t2021-04-20T09:50:59" class="time">09:50</a></td></tr>
<tr id="t2021-04-20T09:51:23"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">qschulz: I can't remember what the issue was, just that I tried it and it wasn't as simple as I'd thought</td><td class="time"><a href="#t2021-04-20T09:51:23" class="time">09:51</a></td></tr>
<tr id="t2021-04-20T09:51:32"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">qschulz: I think there is a patch somewhere</td><td class="time"><a href="#t2021-04-20T09:51:32" class="time">09:51</a></td></tr>
<tr id="t2021-04-20T09:52:29"><th class="nick" style="background: #8c4a4a">thekappe</th><td class="text" style="color: #8c4a4a">the devicetree class install the dtbs in /boot/device tree, and I can see that beacuase the dtbs are in build/tmp/work/machine/device-tree/rev/image/boot/devicetree</td><td class="time"><a href="#t2021-04-20T09:52:29" class="time">09:52</a></td></tr>
<tr id="t2021-04-20T09:52:44"><th class="nick" style="background: #8c4a4a">thekappe</th><td class="text" style="color: #8c4a4a">but they are not in the rootfs boot folder</td><td class="time"><a href="#t2021-04-20T09:52:44" class="time">09:52</a></td></tr>
<tr id="t2021-04-20T09:53:08"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">qschulz: I think <a href="http://git.yoctoproject.org/cgit.cgi/poky-contrib/commit/?h=rpurdie/wipqueue7&amp;id=9a88d64f788ee3036869e8ca65fdde485c383798" rel="nofollow">http://git.yoctoproject.org/cgit.cgi/poky-contrib/commit/?h=rpurdie/wipqueue7&amp;id=9a88d64f788ee3036869e8ca65fdde485c383798</a> was it</td><td class="time"><a href="#t2021-04-20T09:53:08" class="time">09:53</a></td></tr>
<tr id="t2021-04-20T09:53:10"><th class="nick" style="background: #42427e">qschulz</th><td class="text" style="color: #42427e">thekappe: how did you make sure the device tree was pulled in by the image or when building your machine?</td><td class="time"><a href="#t2021-04-20T09:53:10" class="time">09:53</a></td></tr>
<tr id="t2021-04-20T09:54:10"><th class="nick" style="background: #8c4a4a">thekappe</th><td class="text" style="color: #8c4a4a">probably that's the issue</td><td class="time"><a href="#t2021-04-20T09:54:10" class="time">09:54</a></td></tr>
<tr id="t2021-04-20T09:54:59"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">hmm, 2015.</td><td class="time"><a href="#t2021-04-20T09:54:59" class="time">09:54</a></td></tr>
<tr id="t2021-04-20T09:56:04"><th class="nick" style="background: #42427e">qschulz</th><td class="text" style="color: #42427e">RP: I'm quite impressed how quick you were to find a commit that was pushed 4 years ago :D</td><td class="time"><a href="#t2021-04-20T09:56:04" class="time">09:56</a></td></tr>
<tr id="t2021-04-20T09:57:36"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">qschulz: I'm just happy my memory kind of works :)</td><td class="time"><a href="#t2021-04-20T09:57:36" class="time">09:57</a></td></tr>
<tr id="t2021-04-20T09:57:54"><th class="nick" style="background: #42427e">qschulz</th><td class="text" style="color: #42427e">thekappe: it's a package, you need to add it to your IMAGE_INSTALL one way or the other, the proper way IMO is probably to add it to MACHINE_ESSENTIAL_EXTRA_RDEPENDS in your machine configuration file</td><td class="time"><a href="#t2021-04-20T09:57:54" class="time">09:57</a></td></tr>
<tr id="t2021-04-20T10:04:10"><th class="nick" style="background: #8c4a4a">thekappe</th><td class="text" style="color: #8c4a4a">qschulz, yah, you were right</td><td class="time"><a href="#t2021-04-20T10:04:10" class="time">10:04</a></td></tr>
<tr id="t2021-04-20T10:04:19"><th class="nick" style="background: #8c4a4a">thekappe</th><td class="text" style="color: #8c4a4a">thanks</td><td class="time"><a href="#t2021-04-20T10:04:19" class="time">10:04</a></td></tr>
<tr id="t2021-04-20T10:20:11"><th class="nick" style="background: #42427e">qschulz</th><td class="text" style="color: #42427e">👍</td><td class="time"><a href="#t2021-04-20T10:20:11" class="time">10:20</a></td></tr>
<tr id="t2021-04-20T10:39:58"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">&quot;patchelf: cannot normalize PT_NOTE segment: non-contiguous SHT_NOTE sections&quot; - the kind of error that I want to run away and hide from :/</td><td class="time"><a href="#t2021-04-20T10:39:58" class="time">10:39</a></td></tr>
<tr id="t2021-04-20T10:45:10"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">yann: can you send a v2 with the insane skip or shall I send it on your behalf</td><td class="time"><a href="#t2021-04-20T10:45:10" class="time">10:45</a></td></tr>
<tr id="t2021-04-20T11:33:13"><th class="nick" style="background: #854685">yann</th><td class="text" style="color: #854685">rburton: it's v3 and sent already</td><td class="time"><a href="#t2021-04-20T11:33:13" class="time">11:33</a></td></tr>
<tr id="t2021-04-20T11:33:56"><th class="nick" style="background: #854685">yann</th><td class="text" style="color: #854685">or so I thought, you apparently did not get it :)</td><td class="time"><a href="#t2021-04-20T11:33:56" class="time">11:33</a></td></tr>
<tr id="t2021-04-20T11:34:41"><th class="nick" style="background: #854685">yann</th><td class="text" style="color: #854685">rburton: maybe it's held in moderation, I probably did not subscribe to meta-arm ml yet</td><td class="time"><a href="#t2021-04-20T11:34:41" class="time">11:34</a></td></tr>
<tr id="t2021-04-20T11:36:57"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">ah there it is</td><td class="time"><a href="#t2021-04-20T11:36:57" class="time">11:36</a></td></tr>
<tr id="t2021-04-20T11:46:37"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">yann: what machine were you building for?</td><td class="time"><a href="#t2021-04-20T11:46:37" class="time">11:46</a></td></tr>
<tr id="t2021-04-20T11:46:51"><th class="nick" style="background: #854685">yann</th><td class="text" style="color: #854685">nanopi-m4, aarch64</td><td class="time"><a href="#t2021-04-20T11:46:51" class="time">11:46</a></td></tr>
<tr id="t2021-04-20T11:47:02"><th class="nick" style="background: #854685">yann</th><td class="text" style="color: #854685">rk3399</td><td class="time"><a href="#t2021-04-20T11:47:02" class="time">11:47</a></td></tr>
<tr id="t2021-04-20T11:48:59"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">replicates for me on demand with qemuarm64</td><td class="time"><a href="#t2021-04-20T11:48:59" class="time">11:48</a></td></tr>
<tr id="t2021-04-20T11:49:05"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">curious if that's the difference</td><td class="time"><a href="#t2021-04-20T11:49:05" class="time">11:49</a></td></tr>
<tr id="t2021-04-20T12:58:40"><th class="nick" style="background: #854685">yann</th><td class="text" style="color: #854685">rburton: the cpu tunes maybe ?</td><td class="time"><a href="#t2021-04-20T12:58:40" class="time">12:58</a></td></tr>
<tr id="t2021-04-20T13:03:43"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">right</td><td class="time"><a href="#t2021-04-20T13:03:43" class="time">13:03</a></td></tr>
<tr id="t2021-04-20T14:09:50"><th class="nick" style="background: #4d4d93">JaMa</th><td class="text" style="color: #4d4d93">fray: are you still interested in prelink-cross?</td><td class="time"><a href="#t2021-04-20T14:09:50" class="time">14:09</a></td></tr>
<tr id="t2021-04-20T14:11:45"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">JaMa: you ran into issues again?</td><td class="time"><a href="#t2021-04-20T14:11:45" class="time">14:11</a></td></tr>
<tr id="t2021-04-20T14:12:14"><th class="nick" style="background: #97974f">fray</th><td class="text" style="color: #97974f">I think it's still useful to many people, however I just havn't had the time with other commitments..</td><td class="time"><a href="#t2021-04-20T14:12:14" class="time">14:12</a></td></tr>
<tr id="t2021-04-20T14:12:42"><td class="nickchange" colspan="2">*** camus is now known as kaspter</td><td><a href="#t2021-04-20T14:12:42" class="time">14:12</a></td></tr>
<tr id="t2021-04-20T14:13:22"><th class="nick" style="background: #97974f">fray</th><td class="text" style="color: #97974f">From a technical &quot;it doesn't work due to XYZ&quot;, I've never been the right person to work on that stuff.&nbsp;&nbsp;Luckily I've had support from Mentor and others in the past.</td><td class="time"><a href="#t2021-04-20T14:13:22" class="time">14:13</a></td></tr>
<tr id="t2021-04-20T14:13:58"><th class="nick" style="background: #4d4d93">JaMa</th><td class="text" style="color: #4d4d93">RP: it's still the same issue I mentioned yesterday, now I have simple reproducer but don't understand what's different in this binary which causes double free in prelink</td><td class="time"><a href="#t2021-04-20T14:13:58" class="time">14:13</a></td></tr>
<tr id="t2021-04-20T14:14:24"><th class="nick" style="background: #97974f">fray</th><td class="text" style="color: #97974f">the double free itself is in the prelinker?</td><td class="time"><a href="#t2021-04-20T14:14:24" class="time">14:14</a></td></tr>
<tr id="t2021-04-20T14:14:33"><th class="nick" style="background: #4d4d93">JaMa</th><td class="text" style="color: #4d4d93">yes, in dso_close_1</td><td class="time"><a href="#t2021-04-20T14:14:33" class="time">14:14</a></td></tr>
<tr id="t2021-04-20T14:15:48"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">JaMa: might be a worth a bug report with the problematic binary if its easily reproduced?</td><td class="time"><a href="#t2021-04-20T14:15:48" class="time">14:15</a></td></tr>
<tr id="t2021-04-20T14:15:50"><th class="nick" style="background: #4d4d93">JaMa</th><td class="text" style="color: #4d4d93">This is the &quot;working&quot; binary <a href="http://paste.ubuntu.com/p/n4W8nwghkB/" rel="nofollow">http://paste.ubuntu.com/p/n4W8nwghkB/</a> (notice 'Could not create .gnu.conflict')</td><td class="time"><a href="#t2021-04-20T14:15:50" class="time">14:15</a></td></tr>
<tr id="t2021-04-20T14:16:12"><th class="nick" style="background: #97974f">fray</th><td class="text" style="color: #97974f">where is dso_close_1?</td><td class="time"><a href="#t2021-04-20T14:16:12" class="time">14:16</a></td></tr>
<tr id="t2021-04-20T14:16:18"><th class="nick" style="background: #97974f">fray</th><td class="text" style="color: #97974f">(which file)</td><td class="time"><a href="#t2021-04-20T14:16:18" class="time">14:16</a></td></tr>
<tr id="t2021-04-20T14:16:29"><th class="nick" style="background: #4d4d93">JaMa</th><td class="text" style="color: #4d4d93">and this is the same binary (but built with dunfell instead of gatesgarth where it fails <a href="http://paste.ubuntu.com/p/mfWfb2X4PX/" rel="nofollow">http://paste.ubuntu.com/p/mfWfb2X4PX/</a></td><td class="time"><a href="#t2021-04-20T14:16:29" class="time">14:16</a></td></tr>
<tr id="t2021-04-20T14:17:14"><th class="nick" style="background: #4d4d93">JaMa</th><td class="text" style="color: #4d4d93"><a href="https://git.yoctoproject.org/cgit/cgit.cgi/prelink-cross/tree/src/dso.c?h=cross_prelink_staging#n1702" rel="nofollow">https://git.yoctoproject.org/cgit/cgit.cgi/prelink-cross/tree/src/dso.c?h=cross_prelink_staging#n1702</a></td><td class="time"><a href="#t2021-04-20T14:17:14" class="time">14:17</a></td></tr>
<tr id="t2021-04-20T14:18:43"><th class="nick" style="background: #97974f">fray</th><td class="text" style="color: #97974f">ok.. it's close_dso_1 got it</td><td class="time"><a href="#t2021-04-20T14:18:43" class="time">14:18</a></td></tr>
<tr id="t2021-04-20T14:20:42"><th class="nick" style="background: #97974f">fray</th><td class="text" style="color: #97974f">for each header in the index, set scn to the section.&nbsp;&nbsp;Call elf_getdata to load the section.&nbsp;&nbsp;If it returns NULL we're out of data to load..&nbsp;&nbsp;we then free what we just loaded</td><td class="time"><a href="#t2021-04-20T14:20:42" class="time">14:20</a></td></tr>
<tr id="t2021-04-20T14:21:12"><th class="nick" style="background: #97974f">fray</th><td class="text" style="color: #97974f">sorry, we free the d_buf.. I assume the data buffer</td><td class="time"><a href="#t2021-04-20T14:21:12" class="time">14:21</a></td></tr>
<tr id="t2021-04-20T14:21:32"><th class="nick" style="background: #97974f">fray</th><td class="text" style="color: #97974f">so my sugegstion is put in a check before the free(data-&gt;d_buf) to find that value.</td><td class="time"><a href="#t2021-04-20T14:21:32" class="time">14:21</a></td></tr>
<tr id="t2021-04-20T14:21:49"><th class="nick" style="background: #97974f">fray</th><td class="text" style="color: #97974f">In the past we've seen sections added that become place holders and don't end up having data in them triggering a failure like this.</td><td class="time"><a href="#t2021-04-20T14:21:49" class="time">14:21</a></td></tr>
<tr id="t2021-04-20T14:22:13"><th class="nick" style="background: #4d4d93">JaMa</th><td class="text" style="color: #4d4d93">yes, that's what was somehow lost in that pastabin, let me paste it directly from terminal</td><td class="time"><a href="#t2021-04-20T14:22:13" class="time">14:22</a></td></tr>
<tr id="t2021-04-20T14:22:48"><th class="nick" style="background: #4d4d93">JaMa</th><td class="text" style="color: #4d4d93"><a href="https://paste.ubuntu.com/p/c5XyKXBnNS/" rel="nofollow">https://paste.ubuntu.com/p/c5XyKXBnNS/</a></td><td class="time"><a href="#t2021-04-20T14:22:48" class="time">14:22</a></td></tr>
<tr id="t2021-04-20T14:23:35"><th class="nick" style="background: #4d4d93">JaMa</th><td class="text" style="color: #4d4d93">it's when freeing data from section 16 .dynstr, which is also mentioned, because of the overlap with section 17 before:</td><td class="time"><a href="#t2021-04-20T14:23:35" class="time">14:23</a></td></tr>
<tr id="t2021-04-20T14:23:51"><th class="nick" style="background: #4d4d93">JaMa</th><td class="text" style="color: #4d4d93">prelink-debug/prelink: /usr/lib/image_transport/list_transports-bad: section [16 and 17] file offsets [00050315 and 00043000] not monotonically increasing</td><td class="time"><a href="#t2021-04-20T14:23:51" class="time">14:23</a></td></tr>
<tr id="t2021-04-20T14:24:31"><th class="nick" style="background: #97974f">fray</th><td class="text" style="color: #97974f">does it overlap in the original?&nbsp;&nbsp;or did it overlap after the prelink?</td><td class="time"><a href="#t2021-04-20T14:24:31" class="time">14:24</a></td></tr>
<tr id="t2021-04-20T14:25:21"><td class="part" colspan="2">*** MJCD &lt;MJCD!uid193337@gateway/web/irccloud.com/x-azgyfsyxjudjwouf&gt; has left #yocto</td><td><a href="#t2021-04-20T14:25:21" class="time">14:25</a></td></tr>
<tr id="t2021-04-20T14:25:38"><th class="nick" style="background: #4d4d93">JaMa</th><td class="text" style="color: #4d4d93">let me check, but this overlap doesn't seem to be the only difference, because I see 83 binaries with this issue even in rootfs which doesn't trigger this corrupted free</td><td class="time"><a href="#t2021-04-20T14:25:38" class="time">14:25</a></td></tr>
<tr id="t2021-04-20T14:26:13"><th class="nick" style="background: #97974f">fray</th><td class="text" style="color: #97974f">corrupted free is &quot;mythical&quot; in behavior.. it's not going to be consistent cause it's not absolute addresses like this.&nbsp;&nbsp;You got lucky to trigger it..</td><td class="time"><a href="#t2021-04-20T14:26:13" class="time">14:26</a></td></tr>
<tr id="t2021-04-20T14:26:29"><th class="nick" style="background: #97974f">fray</th><td class="text" style="color: #97974f">Focus on the not monotonically increasing issue.&nbsp;&nbsp;That is the real failure point</td><td class="time"><a href="#t2021-04-20T14:26:29" class="time">14:26</a></td></tr>
<tr id="t2021-04-20T14:26:47"><th class="nick" style="background: #97974f">fray</th><td class="text" style="color: #97974f">If the original file is like that, then there is either a bug in the linker or someone has changed something that is no longer compatible</td><td class="time"><a href="#t2021-04-20T14:26:47" class="time">14:26</a></td></tr>
<tr id="t2021-04-20T14:26:49"><th class="nick" style="background: #4d4d93">JaMa</th><td class="text" style="color: #4d4d93">but it seems to be always on this binary even when I rebuild whole image from scratch</td><td class="time"><a href="#t2021-04-20T14:26:49" class="time">14:26</a></td></tr>
<tr id="t2021-04-20T14:26:58"><th class="nick" style="background: #97974f">fray</th><td class="text" style="color: #97974f">if it's only after prelinking then prelink resizing broke</td><td class="time"><a href="#t2021-04-20T14:26:58" class="time">14:26</a></td></tr>
<tr id="t2021-04-20T14:27:09"><th class="nick" style="background: #4d4d93">JaMa</th><td class="text" style="color: #4d4d93">interestingly it fails like this only with dunfell and only with qemux86-64</td><td class="time"><a href="#t2021-04-20T14:27:09" class="time">14:27</a></td></tr>
<tr id="t2021-04-20T14:27:46"><th class="nick" style="background: #97974f">fray</th><td class="text" style="color: #97974f">Can you try a newer (or older) binutils with dunfell?&nbsp;&nbsp;It really could be a bug in the linker</td><td class="time"><a href="#t2021-04-20T14:27:46" class="time">14:27</a></td></tr>
<tr id="t2021-04-20T14:28:06"><th class="nick" style="background: #4d4d93">JaMa</th><td class="text" style="color: #4d4d93">and it's somehow related to spdlog library <a href="https://github.com/ros/meta-ros/commit/f08c9a3a51bf27a63a22ec39725a463d438723c3" rel="nofollow">https://github.com/ros/meta-ros/commit/f08c9a3a51bf27a63a22ec39725a463d438723c3</a> <a href="https://github.com/ros/meta-ros/commit/f08c9a3a51bf27a63a22ec39725a463d438723c3" rel="nofollow">https://github.com/ros/meta-ros/commit/f08c9a3a51bf27a63a22ec39725a463d438723c3</a> as previously it was enough to upgrade/downgrade spdlog to preven this prelink issue from happening</td><td class="time"><a href="#t2021-04-20T14:28:06" class="time">14:28</a></td></tr>
<tr id="t2021-04-20T14:28:17"><th class="nick" style="background: #97974f">fray</th><td class="text" style="color: #97974f">(these are the steps I usually take to diagnose this stuff.. I've learned I don't have the ELF knowledge otherwise)</td><td class="time"><a href="#t2021-04-20T14:28:17" class="time">14:28</a></td></tr>
<tr id="t2021-04-20T14:28:47"><th class="nick" style="background: #4d4d93">JaMa</th><td class="text" style="color: #4d4d93">yes, I'm building the same image with gold instead of bfd now (as it doesn't fail in other DISTRO with ld-is-gold)</td><td class="time"><a href="#t2021-04-20T14:28:47" class="time">14:28</a></td></tr>
<tr id="t2021-04-20T14:29:06"><th class="nick" style="background: #4d4d93">JaMa</th><td class="text" style="color: #4d4d93">then will try newer binutils</td><td class="time"><a href="#t2021-04-20T14:29:06" class="time">14:29</a></td></tr>
<tr id="t2021-04-20T14:32:04"><th class="nick" style="background: #4d4d93">JaMa</th><td class="text" style="color: #4d4d93">is prelink expected to re-order the sections? the output from readelf --all/objdump -x shows them in very different order</td><td class="time"><a href="#t2021-04-20T14:32:04" class="time">14:32</a></td></tr>
<tr id="t2021-04-20T14:54:44"><th class="nick" style="background: #97974f">fray</th><td class="text" style="color: #97974f">JaMa, it MIGHT reorder..</td><td class="time"><a href="#t2021-04-20T14:54:44" class="time">14:54</a></td></tr>
<tr id="t2021-04-20T14:55:07"><th class="nick" style="background: #97974f">fray</th><td class="text" style="color: #97974f">The reorder isn't &quot;intentional&quot;.. it's based on finding openings in the map to insert the prelink information</td><td class="time"><a href="#t2021-04-20T14:55:07" class="time">14:55</a></td></tr>
<tr id="t2021-04-20T15:24:42"><td class="nickchange" colspan="2">*** mckoan is now known as mckoan|away</td><td><a href="#t2021-04-20T15:24:42" class="time">15:24</a></td></tr>
<tr id="t2021-04-20T15:33:00"><th class="nick" style="background: #9b519b">renegade</th><td class="text" style="color: #9b519b">Hi, newbie question. In meta-raspberrypi, UBOOT_MACHINE for raspberrypi4 is defined as rpi_4_32b_config. But when i look under U-Boot sources I see the file is name rpi_4_32b_defconfig. Where is the machine getting this file?</td><td class="time"><a href="#t2021-04-20T15:33:00" class="time">15:33</a></td></tr>
<tr id="t2021-04-20T15:33:09"><th class="nick" style="background: #9b519b">renegade</th><td class="text" style="color: #9b519b">_defconfig vs _config</td><td class="time"><a href="#t2021-04-20T15:33:09" class="time">15:33</a></td></tr>
<tr id="t2021-04-20T15:36:58"><th class="nick" style="background: #4d4d93">JaMa</th><td class="text" style="color: #4d4d93">fray: looks like in this case it moved .dynstr from section 6 to section 16 between .fini and .rodata where wasn't enough space for it, will continue to debug why, here are headers before and after <a href="http://paste.ubuntu.com/p/7fTHn72sM5/" rel="nofollow">http://paste.ubuntu.com/p/7fTHn72sM5/</a></td><td class="time"><a href="#t2021-04-20T15:36:58" class="time">15:36</a></td></tr>
<tr id="t2021-04-20T15:39:10"><th class="nick" style="background: #97974f">fray</th><td class="text" style="color: #97974f">JaMa ya if things move and there isn't enough space it SHOULD detect it and stop..</td><td class="time"><a href="#t2021-04-20T15:39:10" class="time">15:39</a></td></tr>
<tr id="t2021-04-20T15:40:13"><th class="nick" style="background: #4d4d93">JaMa</th><td class="text" style="color: #4d4d93">it seems to happen very often for various binaries, but without this free failing in the end :/</td><td class="time"><a href="#t2021-04-20T15:40:13" class="time">15:40</a></td></tr>
<tr id="t2021-04-20T15:40:43"><th class="nick" style="background: #97974f">fray</th><td class="text" style="color: #97974f">ya, that is broken then.&nbsp;&nbsp;Overlapping sections should have been detered and triggered a failure.. (besides the whole &quot;don't move things where there isn't space for them)</td><td class="time"><a href="#t2021-04-20T15:40:43" class="time">15:40</a></td></tr>
<tr id="t2021-04-20T15:41:18"><th class="nick" style="background: #97974f">fray</th><td class="text" style="color: #97974f">about 6 or so years ago we saw this same behavior and had to fix it..&nbsp;&nbsp;but I don't remember where.&nbsp;&nbsp;git history might give you a clue if you havn't found the code yet</td><td class="time"><a href="#t2021-04-20T15:41:18" class="time">15:41</a></td></tr>
<tr id="t2021-04-20T15:41:22"><th class="nick" style="background: #4d4d93">JaMa</th><td class="text" style="color: #4d4d93">systemd and dbus-deamon have this overlap as well, will check in oe-core only build</td><td class="time"><a href="#t2021-04-20T15:41:22" class="time">15:41</a></td></tr>
<tr id="t2021-04-20T15:43:20"><th class="nick" style="background: #4d4d93">JaMa</th><td class="text" style="color: #4d4d93">I think this part works OK, it's detected dorrectly in check_dso and then it prevents prepare_write_dso/write_dso</td><td class="time"><a href="#t2021-04-20T15:43:20" class="time">15:43</a></td></tr>
<tr id="t2021-04-20T15:46:26"><th class="nick" style="background: #4d4d93">JaMa</th><td class="text" style="color: #4d4d93"><a href="https://git.yoctoproject.org/cgit/cgit.cgi/prelink-cross/commit/?h=cross_prelink_staging&amp;id=f9975537dbfd9ade0fc813bd5cf5fcbe41753a37" rel="nofollow">https://git.yoctoproject.org/cgit/cgit.cgi/prelink-cross/commit/?h=cross_prelink_staging&amp;id=f9975537dbfd9ade0fc813bd5cf5fcbe41753a37</a></td><td class="time"><a href="#t2021-04-20T15:46:26" class="time">15:46</a></td></tr>
<tr id="t2021-04-20T15:46:42"><th class="nick" style="background: #97974f">fray</th><td class="text" style="color: #97974f">the other thing to look at is libelf.. long ago we definitely found problems with that</td><td class="time"><a href="#t2021-04-20T15:46:42" class="time">15:46</a></td></tr>
<tr id="t2021-04-20T15:47:22"><th class="nick" style="background: #97974f">fray</th><td class="text" style="color: #97974f">ya, thats what I was remembering</td><td class="time"><a href="#t2021-04-20T15:47:22" class="time">15:47</a></td></tr>
<tr id="t2021-04-20T15:53:26"><th class="nick" style="background: #539e9e">manuel1985</th><td class="text" style="color: #539e9e">I would like to have my yocto-created distribution connect to the internet through a LTE modem. Is there some software package which provides an interface to set, change PIN, PUK and such?</td><td class="time"><a href="#t2021-04-20T15:53:26" class="time">15:53</a></td></tr>
<tr id="t2021-04-20T15:53:54"><th class="nick" style="background: #97974f">fray</th><td class="text" style="color: #97974f">connman used to be able to do some or all of that, but I've not tried it in a few years</td><td class="time"><a href="#t2021-04-20T15:53:54" class="time">15:53</a></td></tr>
<tr id="t2021-04-20T15:54:20"><th class="nick" style="background: #539e9e">manuel1985</th><td class="text" style="color: #539e9e">I know about mmcli (ModemManager) and nmcli (NetworkManager) but I thought there might be some abstraction layer making things easier.</td><td class="time"><a href="#t2021-04-20T15:54:20" class="time">15:54</a></td></tr>
<tr id="t2021-04-20T15:54:46"><th class="nick" style="background: #97974f">fray</th><td class="text" style="color: #97974f">that is what connman does.. abstracts.. like like networkmanager can do</td><td class="time"><a href="#t2021-04-20T15:54:46" class="time">15:54</a></td></tr>
<tr id="t2021-04-20T15:55:02"><th class="nick" style="background: #539e9e">manuel1985</th><td class="text" style="color: #539e9e">fray: Is connman still active? <a href="https://01.org/connman" rel="nofollow">https://01.org/connman</a> looks pretty dead to me. &quot;You are not authorized to access this page.&quot;</td><td class="time"><a href="#t2021-04-20T15:55:02" class="time">15:55</a></td></tr>
<tr id="t2021-04-20T15:55:23"><th class="nick" style="background: #97974f">fray</th><td class="text" style="color: #97974f">like I said, I've not used it in a few years.. I don't know</td><td class="time"><a href="#t2021-04-20T15:55:23" class="time">15:55</a></td></tr>
<tr id="t2021-04-20T15:55:28"><th class="nick" style="background: #539e9e">manuel1985</th><td class="text" style="color: #539e9e">ok thx</td><td class="time"><a href="#t2021-04-20T15:55:28" class="time">15:55</a></td></tr>
<tr id="t2021-04-20T16:00:12"><th class="nick" style="background: #a25555">shoragan</th><td class="text" style="color: #a25555">manuel1985, there is <a href="https://git.kernel.org/pub/scm/network/connman/connman.git/" rel="nofollow">https://git.kernel.org/pub/scm/network/connman/connman.git/</a></td><td class="time"><a href="#t2021-04-20T16:00:12" class="time">16:00</a></td></tr>
<tr id="t2021-04-20T16:00:21"><th class="nick" style="background: #a25555">shoragan</th><td class="text" style="color: #a25555">they keep making release</td><td class="time"><a href="#t2021-04-20T16:00:21" class="time">16:00</a></td></tr>
<tr id="t2021-04-20T16:04:21"><th class="nick" style="background: #539e9e">manuel1985</th><td class="text" style="color: #539e9e">Has anyone some recommendations on network managers? Our product is using NetworkManager, but tbh I don't like it much. Yes fray you said you were using connman a few years ago, but due to reasons?</td><td class="time"><a href="#t2021-04-20T16:04:21" class="time">16:04</a></td></tr>
<tr id="t2021-04-20T16:09:23"><th class="nick" style="background: #57a657">khem</th><td class="text" style="color: #57a657">systemd-networkd is good if you live in systemd land</td><td class="time"><a href="#t2021-04-20T16:09:23" class="time">16:09</a></td></tr>
<tr id="t2021-04-20T16:10:49"><th class="nick" style="background: #4d4d93">JaMa</th><td class="text" style="color: #4d4d93">fray: this is interesting <a href="https://sourceware.org/legacy-ml/elfutils-devel/2018-q3/msg00092.html" rel="nofollow">https://sourceware.org/legacy-ml/elfutils-devel/2018-q3/msg00092.html</a> this is from <a href="https://git.openembedded.org/openembedded-core/tree/meta/recipes-devtools/elfutils/files/0001-libelf-elf_end.c-check-data_list.data.d.d_buf-before.patch" rel="nofollow">https://git.openembedded.org/openembedded-core/tree/meta/recipes-devtools/elfutils/files/0001-libelf-elf_end.c-check-data_list.data.d.d_buf-before.patch</a></td><td class="time"><a href="#t2021-04-20T16:10:49" class="time">16:10</a></td></tr>
<tr id="t2021-04-20T16:13:39"><th class="nick" style="background: #4d4d93">JaMa</th><td class="text" style="color: #4d4d93">removing the free() on data from elf_getdata definitely fixes the issue I'm seeing</td><td class="time"><a href="#t2021-04-20T16:13:39" class="time">16:13</a></td></tr>
<tr id="t2021-04-20T16:15:12"><th class="nick" style="background: #97974f">fray</th><td class="text" style="color: #97974f">Robert Yang (one of the repliers) would have a good understanding of what might be happening.&nbsp;&nbsp;So ther eis a good chance his analysis is good</td><td class="time"><a href="#t2021-04-20T16:15:12" class="time">16:15</a></td></tr>
<tr id="t2021-04-20T16:15:57"><th class="nick" style="background: #97974f">fray</th><td class="text" style="color: #97974f">the question is.. how (in prelink) do we identify if the d_buf is owned by &quot;us&quot; or readelf.. etc</td><td class="time"><a href="#t2021-04-20T16:15:57" class="time">16:15</a></td></tr>
<tr id="t2021-04-20T16:16:31"><th class="nick" style="background: #97974f">fray</th><td class="text" style="color: #97974f">but the same sort of check might be reasonable in prelink</td><td class="time"><a href="#t2021-04-20T16:16:31" class="time">16:16</a></td></tr>
<tr id="t2021-04-20T16:17:53"><th class="nick" style="background: #97974f">fray</th><td class="text" style="color: #97974f">(btw I probably wouldn't have found that reference.. good job finding it!)&nbsp;&nbsp;Your google foo is strong</td><td class="time"><a href="#t2021-04-20T16:17:53" class="time">16:17</a></td></tr>
<tr id="t2021-04-20T16:24:29"><th class="nick" style="background: #4d4d93">JaMa</th><td class="text" style="color: #4d4d93">I've sent Robert an e-mail</td><td class="time"><a href="#t2021-04-20T16:24:29" class="time">16:24</a></td></tr>
<tr id="t2021-04-20T16:24:57"><th class="nick" style="background: #4d4d93">JaMa</th><td class="text" style="color: #4d4d93">I've noticed that patch when comparing elfutils in dunfell and gatesgarth, the rest was easy even without foo</td><td class="time"><a href="#t2021-04-20T16:24:57" class="time">16:24</a></td></tr>
<tr id="t2021-04-20T16:25:52"><th class="nick" style="background: #97974f">fray</th><td class="text" style="color: #97974f">he's in Beijing.&nbsp;&nbsp;So he's likely offline by now..</td><td class="time"><a href="#t2021-04-20T16:25:52" class="time">16:25</a></td></tr>
<tr id="t2021-04-20T16:27:07"><th class="nick" style="background: #4d4d93">JaMa</th><td class="text" style="color: #4d4d93">still doesn't explain why prelink decides to move .dynstr section on one binary (and causes non.monotonic error message) and on another it refuses to create .gnu.conflict stright away, when the space between .fini and .rodata seems to be almost the same in both binaries, will investigate further</td><td class="time"><a href="#t2021-04-20T16:27:07" class="time">16:27</a></td></tr>
<tr id="t2021-04-20T16:27:41"><th class="nick" style="background: #4d4d93">JaMa</th><td class="text" style="color: #4d4d93">no rush, we can disable prelink in this build as well (as we did in other builds already long time ago)</td><td class="time"><a href="#t2021-04-20T16:27:41" class="time">16:27</a></td></tr>
<tr id="t2021-04-20T16:29:42"><th class="nick" style="background: #4d4d93">JaMa</th><td class="text" style="color: #4d4d93">I just wanted to finally figure out what spdlog does to trigger this (as I refuse to try finding &quot;compatible&quot; version of spdlog again, like I did 2 times before just to work around this)</td><td class="time"><a href="#t2021-04-20T16:29:42" class="time">16:29</a></td></tr>
<tr id="t2021-04-20T16:35:10"><th class="nick" style="background: #97974f">fray</th><td class="text" style="color: #97974f">ya..&nbsp;&nbsp;the moving it isn't unexpected..&nbsp;&nbsp;but the non.monotonic is a bug of some kind</td><td class="time"><a href="#t2021-04-20T16:35:10" class="time">16:35</a></td></tr>
<tr id="t2021-04-20T16:35:30"><th class="nick" style="background: #97974f">fray</th><td class="text" style="color: #97974f">when we added/updated the check it was determined something in the linker changed, but we could never figure out &quot;what&quot;</td><td class="time"><a href="#t2021-04-20T16:35:30" class="time">16:35</a></td></tr>
<tr id="t2021-04-20T16:39:06"><th class="nick" style="background: #5959a9">vdl</th><td class="text" style="color: #5959a9">what should I do to avoid the do_package_write_ipk tasks? I do not use a package manager.</td><td class="time"><a href="#t2021-04-20T16:39:06" class="time">16:39</a></td></tr>
<tr id="t2021-04-20T16:48:36"><th class="nick" style="background: #97974f">fray</th><td class="text" style="color: #97974f">packages are the intermediate format for creating a rootfs.&nbsp;&nbsp;If the file(s) end up in a rootfs, you need a package manager -- but then never have to use the package manager or packages on the target itself.&nbsp;&nbsp;they're just intermediate archives w/ dependency metadata</td><td class="time"><a href="#t2021-04-20T16:48:36" class="time">16:48</a></td></tr>
<tr id="t2021-04-20T17:06:05"><th class="nick" style="background: #adad5b">yates</th><td class="text" style="color: #adad5b">RUNTIMELIBITM is a variable defined in poky/meta/recipes-devtools/gcc/gcc-runtime.inc. There is also a variable RUNTIMELIBITM_riscv32. Is this called an &quot;override&quot;?</td><td class="time"><a href="#t2021-04-20T17:06:05" class="time">17:06</a></td></tr>
<tr id="t2021-04-20T17:06:15"><th class="nick" style="background: #adad5b">yates</th><td class="text" style="color: #adad5b">an architecture-specific override, in this case?</td><td class="time"><a href="#t2021-04-20T17:06:15" class="time">17:06</a></td></tr>
<tr id="t2021-04-20T17:07:05"><th class="nick" style="background: #adad5b">yates</th><td class="text" style="color: #adad5b">just looking to clarify terminology</td><td class="time"><a href="#t2021-04-20T17:07:05" class="time">17:07</a></td></tr>
<tr id="t2021-04-20T17:56:02"><td class="action" colspan="2">* sgw1 is trying to understand why running oe-selftest -r runtime_test.TestImage.test_testimage_virgl_gtk_sdl vs then using the created build dir to run the same via do_testimage is giving different results from different tests !</td><td><a href="#t2021-04-20T17:56:02" class="time">17:56</a></td></tr>
<tr id="t2021-04-20T17:56:22"><th class="nick" style="background: #b15db1">sgw1</th><td class="text" style="color: #b15db1">RP: rburton: ^^^ ???</td><td class="time"><a href="#t2021-04-20T17:56:22" class="time">17:56</a></td></tr>
<tr id="t2021-04-20T18:02:45"><th class="nick" style="background: #5959a9">vdl</th><td class="text" style="color: #5959a9">to configure the ssh server (change the default port, etc.) should I bbappend the openssh recipe, or is there something fancy that I'm not aware of?</td><td class="time"><a href="#t2021-04-20T18:02:45" class="time">18:02</a></td></tr>
<tr id="t2021-04-20T18:14:48"><td class="nickchange" colspan="2">*** matteo| is now known as matteo</td><td><a href="#t2021-04-20T18:14:48" class="time">18:14</a></td></tr>
<tr id="t2021-04-20T18:41:19"><th class="nick" style="background: #57a657">khem</th><td class="text" style="color: #57a657">yates: yes its the way to do overrides</td><td class="time"><a href="#t2021-04-20T18:41:19" class="time">18:41</a></td></tr>
<tr id="t2021-04-20T19:04:49"><th class="nick" style="background: #57a657">khem</th><td class="text" style="color: #57a657">vdl: yes you can just override sshd_config via a bbappend</td><td class="time"><a href="#t2021-04-20T19:04:49" class="time">19:04</a></td></tr>
<tr id="t2021-04-20T19:06:43"><th class="nick" style="background: #5959a9">vdl</th><td class="text" style="color: #5959a9">khem: thanks. Should I bbappend openssh, or openssh-sshd?</td><td class="time"><a href="#t2021-04-20T19:06:43" class="time">19:06</a></td></tr>
<tr id="t2021-04-20T21:16:53-2"><td class="nickchange" colspan="2">*** aidanh_ is now known as aidanh</td><td><a href="#t2021-04-20T21:16:53-2" class="time">21:16</a></td></tr>
<tr id="t2021-04-20T21:47:38"><th class="nick" style="background: #5959a9">vdl</th><td class="text" style="color: #5959a9">I have a simple recipe to package an mnt-data.mount unit file, but I get this:</td><td class="time"><a href="#t2021-04-20T21:47:38" class="time">21:47</a></td></tr>
<tr id="t2021-04-20T21:47:43"><th class="nick" style="background: #5959a9">vdl</th><td class="text" style="color: #5959a9">ERROR: mnt-data-1.0-r0 do_package: Didn't find service unit 'mnt-data.mount', specified in SYSTEMD_SERVICE_mnt-data.</td><td class="time"><a href="#t2021-04-20T21:47:43" class="time">21:47</a></td></tr>
<tr id="t2021-04-20T21:48:30"><th class="nick" style="background: #5959a9">vdl</th><td class="text" style="color: #5959a9">even though I properly add FILESEXTRAPATHS_preprend := &quot;${THISDIR}/files:&quot; and SRC_URI += &quot;file://${PN}.mount&quot;</td><td class="time"><a href="#t2021-04-20T21:48:30" class="time">21:48</a></td></tr>
<tr id="t2021-04-20T21:49:17"><th class="nick" style="background: #5959a9">vdl</th><td class="text" style="color: #5959a9">And my recipe resides in recipes-core/mnt-data/mnt-data.bb and the unit in recipes-core/mnt-data/files/mnt-data.mount</td><td class="time"><a href="#t2021-04-20T21:49:17" class="time">21:49</a></td></tr>
<tr id="t2021-04-20T21:53:48"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">sgw1: I suspect there is configuration being added which you're not adding back when you run it manually?</td><td class="time"><a href="#t2021-04-20T21:53:48" class="time">21:53</a></td></tr>
<tr id="t2021-04-20T21:57:54"><th class="nick" style="background: #5959a9">vdl</th><td class="text" style="color: #5959a9">OK found it, systemd.bbclass is very strict regarding where the unit is installed.</td><td class="time"><a href="#t2021-04-20T21:57:54" class="time">21:57</a></td></tr>
<tr id="t2021-04-20T21:58:20"><th class="nick" style="background: #b15db1">sgw1</th><td class="text" style="color: #b15db1">RP: I have been trying to figure that out for sure.&nbsp;&nbsp;It only happens on the centos machines which is really frustrating.&nbsp;&nbsp;halstead might be creating me an oe-selftest with only the virgl test enabled.</td><td class="time"><a href="#t2021-04-20T21:58:20" class="time">21:58</a></td></tr>
<tr id="t2021-04-20T21:58:51"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">sgw1: you can do that by pushing a helper contrib branch just doing that</td><td class="time"><a href="#t2021-04-20T21:58:51" class="time">21:58</a></td></tr>
<tr id="t2021-04-20T22:08:00"><th class="nick" style="background: #b15db1">sgw1</th><td class="text" style="color: #b15db1">Yeah, I think he was looking into that, I will if is not able.&nbsp;&nbsp;Finally made some ceph/cmake progress today also. (removed a sanity check, which did not have all the settings propagating correctly).</td><td class="time"><a href="#t2021-04-20T22:08:00" class="time">22:08</a></td></tr>
<tr id="t2021-04-20T22:36:29"><th class="nick" style="background: #5fb4b4">resoum</th><td class="text" style="color: #5fb4b4">For a given repository that contains multiple meta-layers with image recipes in more than one meta-layer, is multiconfig and BBMASK the best practice for enabling images in certain meta-layers to exclude other meta-layers?</td><td class="time"><a href="#t2021-04-20T22:36:29" class="time">22:36</a></td></tr>
<tr id="t2021-04-20T22:37:11"><th class="nick" style="background: #5fb4b4">resoum</th><td class="text" style="color: #5fb4b4">It seems like it is, but I was also wondering if there is a simpler way to maintain a consistent build, but to allow certain meta-layers to be excluded for certain images.</td><td class="time"><a href="#t2021-04-20T22:37:11" class="time">22:37</a></td></tr>
<tr id="t2021-04-20T22:44:49"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">sgw1: if you want me to sort a helper branch let me know</td><td class="time"><a href="#t2021-04-20T22:44:49" class="time">22:44</a></td></tr>
<tr id="t2021-04-20T22:50:35"><th class="nick" style="background: #b15db1">sgw1</th><td class="text" style="color: #b15db1">RP: you have enough on your plate, I will work it out, probably good for me to refresh my memory on doing it.</td><td class="time"><a href="#t2021-04-20T22:50:35" class="time">22:50</a></td></tr>
<tr id="t2021-04-20T22:51:04"><th class="nick" style="background: #b15db1">sgw1</th><td class="text" style="color: #b15db1">You might remember I had an AB instance running here at home at one point.</td><td class="time"><a href="#t2021-04-20T22:51:04" class="time">22:51</a></td></tr>
<tr id="t2021-04-20T22:58:50"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">sgw1: offer is there of you need it (planning to sleep now though!)</td><td class="time"><a href="#t2021-04-20T22:58:50" class="time">22:58</a></td></tr>
<tr id="t2021-04-20T22:58:55"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">if</td><td class="time"><a href="#t2021-04-20T22:58:55" class="time">22:58</a></td></tr>
<tr id="t2021-04-20T23:10:04"><th class="nick" style="background: #57a657">khem</th><td class="text" style="color: #57a657">resoum: usually, its achieved with different distro configs, you can also thing of creating a workspace setup where layers are included only if they exist in a checkout tree. But I think its best to maintain consistent metadata set so fixed layers for your distro goes long way in maintaining it properly</td><td class="time"><a href="#t2021-04-20T23:10:04" class="time">23:10</a></td></tr>
<tr id="t2021-04-20T23:11:27"><th class="nick" style="background: #57a657">khem</th><td class="text" style="color: #57a657">BBLAYERS =+ &quot;${@'${TOPDIR}/meta-xxx' if os.path.isfile('${TOPDIR}/meta-xxx/conf/layer.conf') else ''}&quot;</td><td class="time"><a href="#t2021-04-20T23:11:27" class="time">23:11</a></td></tr>
<tr id="t2021-04-20T23:11:31"><th class="nick" style="background: #57a657">khem</th><td class="text" style="color: #57a657">something like thisi</td><td class="time"><a href="#t2021-04-20T23:11:31" class="time">23:11</a></td></tr>
<tr id="t2021-04-20T23:11:50"><th class="nick" style="background: #57a657">khem</th><td class="text" style="color: #57a657">then you can control what layers get checked out for given project</td><td class="time"><a href="#t2021-04-20T23:11:50" class="time">23:11</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2021-04-19.log.html">&#171; Monday, 2021-04-19</a> <a href="index.html">Index</a> <a href="%23yocto.2021-04-21.log.html">Wednesday, 2021-04-21 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.17.2 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="https://mg.pov.lt/irclog2html/">https://mg.pov.lt/irclog2html/</a>!</p>
</div>
</body>
</html>
