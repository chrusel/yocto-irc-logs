<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Tuesday, 2021-07-20</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.17.2 by Marius Gedminas" />
  <meta name="version" content="2.17.2 - 2019-04-23" />
</head>
<body>
<h1>Tuesday, 2021-07-20</h1>
<div class="navigation"> <a href="%23yocto.2021-07-19.log.html">&#171; Monday, 2021-07-19</a> <a href="index.html">Index</a> <a href="%23yocto.2021-07-21.log.html">Wednesday, 2021-07-21 &#187;</a> </div>
<table class="irclog">
<tr id="t2021-07-20T00:12:18"><th class="nick" style="background: #407a40">whuang</th><td class="text" style="color: #407a40">is there a variable I can use to refer to python version? for example python3.8, python3.9</td><td class="time"><a href="#t2021-07-20T00:12:18" class="time">00:12</a></td></tr>
<tr id="t2021-07-20T00:12:44"><th class="nick" style="background: #407a40">whuang</th><td class="text" style="color: #407a40">there's a recipe that hard codes the python version (export NUMPY_INCLUDE_PATH = &quot;${STAGING_DIR_TARGET}/usr/lib/python3.9/site-packages/numpy/core/include&quot;)</td><td class="time"><a href="#t2021-07-20T00:12:44" class="time">00:12</a></td></tr>
<tr id="t2021-07-20T01:44:22"><th class="nick" style="background: #42427e">OutBackDingo</th><td class="text" style="color: #42427e">@zeddii ping</td><td class="time"><a href="#t2021-07-20T01:44:22" class="time">01:44</a></td></tr>
<tr id="t2021-07-20T02:55:40-2"><td class="nickchange" colspan="2">*** camus1 is now known as camus</td><td><a href="#t2021-07-20T02:55:40-2" class="time">02:55</a></td></tr>
<tr id="t2021-07-20T06:42:05"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">yo dudX</td><td class="time"><a href="#t2021-07-20T06:42:05" class="time">06:42</a></td></tr>
<tr id="t2021-07-20T06:42:13"><td class="nickchange" colspan="2">*** mckoan|away is now known as mckoan</td><td><a href="#t2021-07-20T06:42:13" class="time">06:42</a></td></tr>
<tr id="t2021-07-20T06:42:18"><th class="nick" style="background: #854685">mckoan</th><td class="text" style="color: #854685">good morning</td><td class="time"><a href="#t2021-07-20T06:42:18" class="time">06:42</a></td></tr>
<tr id="t2021-07-20T06:42:45"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">mostly indeed.</td><td class="time"><a href="#t2021-07-20T06:42:45" class="time">06:42</a></td></tr>
<tr id="t2021-07-20T06:43:56"><th class="nick" style="background: #854685">mckoan</th><td class="text" style="color: #854685">LetoThe2nd: :-D</td><td class="time"><a href="#t2021-07-20T06:43:56" class="time">06:43</a></td></tr>
<tr id="t2021-07-20T06:44:52"><th class="nick" style="background: #854685">mckoan</th><td class="text" style="color: #854685">LetoThe2nd: summer holidays are approaching \o/</td><td class="time"><a href="#t2021-07-20T06:44:52" class="time">06:44</a></td></tr>
<tr id="t2021-07-20T06:45:12"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">mckoan: somewhat, yes.</td><td class="time"><a href="#t2021-07-20T06:45:12" class="time">06:45</a></td></tr>
<tr id="t2021-07-20T08:01:31"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">morning</td><td class="time"><a href="#t2021-07-20T08:01:31" class="time">08:01</a></td></tr>
<tr id="t2021-07-20T08:04:58"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">JPEW: I'm not sure your PR works for local builds?</td><td class="time"><a href="#t2021-07-20T08:04:58" class="time">08:04</a></td></tr>
<tr id="t2021-07-20T08:07:24"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">I think at best your local build will be prefixed with the registry name (which, if it works, is confusing)</td><td class="time"><a href="#t2021-07-20T08:07:24" class="time">08:07</a></td></tr>
<tr id="t2021-07-20T08:08:28"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">On podman, I think local images are available with the localhost &quot;registry&quot;, so if the same can be said for docker, we can just set registry to localhost when doing a local build?</td><td class="time"><a href="#t2021-07-20T08:08:28" class="time">08:08</a></td></tr>
<tr id="t2021-07-20T10:11:47"><th class="nick" style="background: #8c4a4a">fleg</th><td class="text" style="color: #8c4a4a">hi, I am making a recipe for a CMake-based project, and for some reason while /usr/lib/libmylibrary.so.1.2.3 is packaged correctly, symlink to that file in /usr/lib/libmylibrary.so is split into the -dev package. Is it supposed to work this way, or am I doing something wrong? Thanks in advance for help!</td><td class="time"><a href="#t2021-07-20T10:11:47" class="time">10:11</a></td></tr>
<tr id="t2021-07-20T10:12:00"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">fleg: that</td><td class="time"><a href="#t2021-07-20T10:12:00" class="time">10:12</a></td></tr>
<tr id="t2021-07-20T10:12:06"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">'s expected</td><td class="time"><a href="#t2021-07-20T10:12:06" class="time">10:12</a></td></tr>
<tr id="t2021-07-20T10:12:51"><th class="nick" style="background: #8c4a4a">fleg</th><td class="text" style="color: #8c4a4a">oh, thanks. Is there anything I can do to put those symlinks into the main package, or should I just install the -dev as well on the resulting image?</td><td class="time"><a href="#t2021-07-20T10:12:51" class="time">10:12</a></td></tr>
<tr id="t2021-07-20T10:13:22"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">fleg: why do you want the .so in your rootfs?</td><td class="time"><a href="#t2021-07-20T10:13:22" class="time">10:13</a></td></tr>
<tr id="t2021-07-20T10:13:47"><th class="nick" style="background: #8c4a4a">fleg</th><td class="text" style="color: #8c4a4a">the application that I'm packaging depends on the .so</td><td class="time"><a href="#t2021-07-20T10:13:47" class="time">10:13</a></td></tr>
<tr id="t2021-07-20T10:14:49"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">make it depend on the versioned lib if possible (only exception would be if you receive precompiled binaries/libraries)</td><td class="time"><a href="#t2021-07-20T10:14:49" class="time">10:14</a></td></tr>
<tr id="t2021-07-20T10:15:20"><th class="nick" style="background: #8c4a4a">fleg</th><td class="text" style="color: #8c4a4a">I will try to do that then, thanks!</td><td class="time"><a href="#t2021-07-20T10:15:20" class="time">10:15</a></td></tr>
<tr id="t2021-07-20T10:15:29"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">that's the cleanest way to do it</td><td class="time"><a href="#t2021-07-20T10:15:29" class="time">10:15</a></td></tr>
<tr id="t2021-07-20T10:17:32"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">otherwise, you need to remove the *.so from FILES_${PN}-dev and add it to FILES_${PN} (or another package) IIRC, setting FILES_SOLIBSDEV to &quot;&quot; and adding the two default paths to FILES_${PN} should be enough?</td><td class="time"><a href="#t2021-07-20T10:17:32" class="time">10:17</a></td></tr>
<tr id="t2021-07-20T10:17:56"><th class="nick" style="background: #4b904b">eFfeM</th><td class="text" style="color: #4b904b">Hi, can I enforce that in a specific conf users cannot build a specific image recipe?</td><td class="time"><a href="#t2021-07-20T10:17:56" class="time">10:17</a></td></tr>
<tr id="t2021-07-20T10:17:56-2"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">or add the -dev but I don't know what exactly the consequences are</td><td class="time"><a href="#t2021-07-20T10:17:56-2" class="time">10:17</a></td></tr>
<tr id="t2021-07-20T10:19:16"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">eFfeM: you could always have a python anonymous function in the image recipe that looks for the current user and fail the parsing</td><td class="time"><a href="#t2021-07-20T10:19:16" class="time">10:19</a></td></tr>
<tr id="t2021-07-20T10:19:32"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">though, if your user have write access to said image recipe, they can remove it</td><td class="time"><a href="#t2021-07-20T10:19:32" class="time">10:19</a></td></tr>
<tr id="t2021-07-20T10:19:43"><th class="nick" style="background: #4b904b">eFfeM</th><td class="text" style="color: #4b904b">What I want to achieve is that in a conf that allows GPLv3 code it is not possible to accidently buiild a release image (I have a different conf for release images)</td><td class="time"><a href="#t2021-07-20T10:19:43" class="time">10:19</a></td></tr>
<tr id="t2021-07-20T10:21:12"><th class="nick" style="background: #4b904b">eFfeM</th><td class="text" style="color: #4b904b">qschulz: we have a different conf to build release images, but I want to make very sure that things do not get wrong. GPLv3 is to some extend a p.i.t.a.</td><td class="time"><a href="#t2021-07-20T10:21:12" class="time">10:21</a></td></tr>
<tr id="t2021-07-20T10:21:48"><th class="nick" style="background: #4b904b">eFfeM</th><td class="text" style="color: #4b904b">I would love to go without it, but for dev purposes we need gdb</td><td class="time"><a href="#t2021-07-20T10:21:48" class="time">10:21</a></td></tr>
<tr id="t2021-07-20T10:24:23"><td class="nickchange" colspan="2">*** camus1 is now known as camus</td><td><a href="#t2021-07-20T10:24:23" class="time">10:24</a></td></tr>
<tr id="t2021-07-20T10:24:28"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">eFfeM: check the content of INCOMPATIBLE_LICENSE from the image recipe?</td><td class="time"><a href="#t2021-07-20T10:24:28" class="time">10:24</a></td></tr>
<tr id="t2021-07-20T10:24:33"><th class="nick" style="background: #8c4a4a">fleg</th><td class="text" style="color: #8c4a4a">qschulz, I'll try to go the &quot;depend on the versioned .so instead&quot; route first, if I get stuck there then I'll try the other suggestions. Fortunately I build both the libraries and the application, so it should not be an issue</td><td class="time"><a href="#t2021-07-20T10:24:33" class="time">10:24</a></td></tr>
<tr id="t2021-07-20T10:26:45"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">fleg: :+1:</td><td class="time"><a href="#t2021-07-20T10:26:45" class="time">10:26</a></td></tr>
<tr id="t2021-07-20T10:27:45"><th class="nick" style="background: #4b904b">eFfeM</th><td class="text" style="color: #4b904b">qschulz: hmm yes that is an idea</td><td class="time"><a href="#t2021-07-20T10:27:45" class="time">10:27</a></td></tr>
<tr id="t2021-07-20T10:28:03"><th class="nick" style="background: #4b904b">eFfeM</th><td class="text" style="color: #4b904b">I'll explore after lunch</td><td class="time"><a href="#t2021-07-20T10:28:03" class="time">10:28</a></td></tr>
<tr id="t2021-07-20T10:29:47"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">eFfeM: but it's not bulletproof, because you can unset the INCOMPATIBLE_LICENSE per recipe in your conf file or have a package in the whitelist</td><td class="time"><a href="#t2021-07-20T10:29:47" class="time">10:29</a></td></tr>
<tr id="t2021-07-20T10:30:15"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">best option would be to check into the final manifest with the license of all software included in your image and check if there is a GPLv3 in there</td><td class="time"><a href="#t2021-07-20T10:30:15" class="time">10:30</a></td></tr>
<tr id="t2021-07-20T10:30:59"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">you might need to enable buildhistory for that, I don't remember</td><td class="time"><a href="#t2021-07-20T10:30:59" class="time">10:30</a></td></tr>
<tr id="t2021-07-20T10:31:12"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">maybe there's even something built in Yocto/bitbake but I'm not aware of it</td><td class="time"><a href="#t2021-07-20T10:31:12" class="time">10:31</a></td></tr>
<tr id="t2021-07-20T11:07:49"><th class="nick" style="background: #4d4d93">linums</th><td class="text" style="color: #4d4d93">hi</td><td class="time"><a href="#t2021-07-20T11:07:49" class="time">11:07</a></td></tr>
<tr id="t2021-07-20T11:08:45"><th class="nick" style="background: #4d4d93">linums</th><td class="text" style="color: #4d4d93">I see that every branch brings it's own kernel version + the lts, like hardknott comes with 5.10 and 5.4</td><td class="time"><a href="#t2021-07-20T11:08:45" class="time">11:08</a></td></tr>
<tr id="t2021-07-20T11:08:50-2"><td class="nickchange" colspan="2">*** camus1 is now known as camus</td><td><a href="#t2021-07-20T11:08:50-2" class="time">11:08</a></td></tr>
<tr id="t2021-07-20T11:09:31"><th class="nick" style="background: #4d4d93">linums</th><td class="text" style="color: #4d4d93">but the libc headers are only present with the version 5.10 on hardknott</td><td class="time"><a href="#t2021-07-20T11:09:31" class="time">11:09</a></td></tr>
<tr id="t2021-07-20T11:10:14"><th class="nick" style="background: #4d4d93">linums</th><td class="text" style="color: #4d4d93">is it right, or should I not use hardknott for 5.4 kernel?</td><td class="time"><a href="#t2021-07-20T11:10:14" class="time">11:10</a></td></tr>
<tr id="t2021-07-20T11:12:15"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">linums: in most cases, you can use newer kernel release headers with an older kernel release</td><td class="time"><a href="#t2021-07-20T11:12:15" class="time">11:12</a></td></tr>
<tr id="t2021-07-20T11:12:44"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">linums: bruce might probably shed more light on this, but once there is no version selection available you will get the latest of a package, hence run 5.4 kernel and use the 5.10 libc headers.</td><td class="time"><a href="#t2021-07-20T11:12:44" class="time">11:12</a></td></tr>
<tr id="t2021-07-20T11:31:15"><th class="nick" style="background: #4d4d93">linums</th><td class="text" style="color: #4d4d93">thanks, so it is intentional, so I'll select the kernel version, and nothing more</td><td class="time"><a href="#t2021-07-20T11:31:15" class="time">11:31</a></td></tr>
<tr id="t2021-07-20T11:32:50"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">linums: thats what i woould guess.</td><td class="time"><a href="#t2021-07-20T11:32:50" class="time">11:32</a></td></tr>
<tr id="t2021-07-20T11:41:14"><th class="nick" style="background: #4b904b">eFfeM</th><td class="text" style="color: #4b904b">qschulz: yeah I know one can override INCOMPATIBLE_LICENSE, I also considered whitelisting gdb and then exclude it from the release image, but the pain is that gdb requires a newer readine than the one in meta-gplv2 and I cannot select a different version of readline in an image</td><td class="time"><a href="#t2021-07-20T11:41:14" class="time">11:41</a></td></tr>
<tr id="t2021-07-20T11:50:08"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">eFfeM: i personally would probably try BBMASK in the distro combined with an automated test on the resulting artifacts.</td><td class="time"><a href="#t2021-07-20T11:50:08" class="time">11:50</a></td></tr>
<tr id="t2021-07-20T11:50:09"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144"><a href="https://docs.yoctoproject.org/ref-manual/variables.html?highlight=bbmask#term-BBMASK" rel="nofollow">https://docs.yoctoproject.org/ref-manual/variables.html?highlight=bbmask#term-BBMASK</a></td><td class="time"><a href="#t2021-07-20T11:50:09" class="time">11:50</a></td></tr>
<tr id="t2021-07-20T11:57:06"><th class="nick" style="background: #4b904b">eFfeM</th><td class="text" style="color: #4b904b">LetoThe2nd: I'm not sure if that would help, I think INCOMPATIBLE_LICENSE is a better mechanism</td><td class="time"><a href="#t2021-07-20T11:57:06" class="time">11:57</a></td></tr>
<tr id="t2021-07-20T11:59:15"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">eFfeM: sure, it always depends.</td><td class="time"><a href="#t2021-07-20T11:59:15" class="time">11:59</a></td></tr>
<tr id="t2021-07-20T12:55:32-2"><td class="nickchange" colspan="2">*** camus1 is now known as camus</td><td><a href="#t2021-07-20T12:55:32-2" class="time">12:55</a></td></tr>
<tr id="t2021-07-20T13:36:02"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">t</td><td class="time"><a href="#t2021-07-20T13:36:02" class="time">13:36</a></td></tr>
<tr id="t2021-07-20T13:36:07"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">exit</td><td class="time"><a href="#t2021-07-20T13:36:07" class="time">13:36</a></td></tr>
<tr id="t2021-07-20T13:40:46"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">so the byte for byte image type would be ext3?</td><td class="time"><a href="#t2021-07-20T13:40:46" class="time">13:40</a></td></tr>
<tr id="t2021-07-20T13:41:18"><th class="nick" style="background: #9b519b">whuang0389</th><td class="text" style="color: #9b519b">Hi I'm trying to create a recipe that depends on llvm</td><td class="time"><a href="#t2021-07-20T13:41:18" class="time">13:41</a></td></tr>
<tr id="t2021-07-20T13:41:32"><th class="nick" style="background: #9b519b">whuang0389</th><td class="text" style="color: #9b519b">Im guessing it needs to be llvm-lite but it's looking for a llvm-config file</td><td class="time"><a href="#t2021-07-20T13:41:32" class="time">13:41</a></td></tr>
<tr id="t2021-07-20T13:41:58"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">override: Ya, any of those file systemd formats (ext3, ext4, etc.) will produce an image you could directly dd into a partition</td><td class="time"><a href="#t2021-07-20T13:41:58" class="time">13:41</a></td></tr>
<tr id="t2021-07-20T13:42:07"><th class="nick" style="background: #9b519b">whuang0389</th><td class="text" style="color: #9b519b">so I have a DEPENDS += &quot;llvm-native&quot;, but the llvm-native doesn't get compiled... am I missing something?</td><td class="time"><a href="#t2021-07-20T13:42:07" class="time">13:42</a></td></tr>
<tr id="t2021-07-20T13:42:20"><th class="nick" style="background: #9b519b">whuang0389</th><td class="text" style="color: #9b519b">or should DEPENDS be enough?</td><td class="time"><a href="#t2021-07-20T13:42:20" class="time">13:42</a></td></tr>
<tr id="t2021-07-20T13:42:41"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">override: If you need a whole disk images (i.e. all the partitions w/ partition table, you need to use wic)</td><td class="time"><a href="#t2021-07-20T13:42:41" class="time">13:42</a></td></tr>
<tr id="t2021-07-20T13:44:55"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">whuang0389: you could check if its a run time or a build time dependency (RDEPENDS vs DEPENDS). and use oe-pkgdata-util to check youve got the right packages in your build..</td><td class="time"><a href="#t2021-07-20T13:44:55" class="time">13:44</a></td></tr>
<tr id="t2021-07-20T13:46:55"><th class="nick" style="background: #9b519b">whuang0389</th><td class="text" style="color: #9b519b">maybe my understanding of run tim dependency is wrong.. but I believe that it means they are packages that are required to be pulled in when the source is runned on target?</td><td class="time"><a href="#t2021-07-20T13:46:55" class="time">13:46</a></td></tr>
<tr id="t2021-07-20T13:47:10"><th class="nick" style="background: #9b519b">whuang0389</th><td class="text" style="color: #9b519b">if that's the case, I think it'sa build time dependency</td><td class="time"><a href="#t2021-07-20T13:47:10" class="time">13:47</a></td></tr>
<tr id="t2021-07-20T13:49:32"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">whuang0389: yeah then just make sure the recipe the package added as a depends and just maybe add the llvm-config depency to your recipe too. use the oe-pkagdata-util to find the name for whatever dependency you recipe needs...</td><td class="time"><a href="#t2021-07-20T13:49:32" class="time">13:49</a></td></tr>
<tr id="t2021-07-20T13:50:12"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">thats just how I was told to do things.. not a yocto know it all by any standard</td><td class="time"><a href="#t2021-07-20T13:50:12" class="time">13:50</a></td></tr>
<tr id="t2021-07-20T13:50:36"><th class="nick" style="background: #9b519b">whuang0389</th><td class="text" style="color: #9b519b">no worries! thanks for some tips!</td><td class="time"><a href="#t2021-07-20T13:50:36" class="time">13:50</a></td></tr>
<tr id="t2021-07-20T13:55:08"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">prolly a dumb question do distro/machine conf includes from different layers require absolute paths, or is YOCTO smart about them?</td><td class="time"><a href="#t2021-07-20T13:55:08" class="time">13:55</a></td></tr>
<tr id="t2021-07-20T13:55:30"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">override: relative to (any) layer root dir</td><td class="time"><a href="#t2021-07-20T13:55:30" class="time">13:55</a></td></tr>
<tr id="t2021-07-20T13:56:39"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">well, relative to the root dir of the layer with the distro/machine conf file</td><td class="time"><a href="#t2021-07-20T13:56:39" class="time">13:56</a></td></tr>
<tr id="t2021-07-20T13:58:34"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">ok, think thats what I got</td><td class="time"><a href="#t2021-07-20T13:58:34" class="time">13:58</a></td></tr>
<tr id="t2021-07-20T14:08:09"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">the manual reads The IMAGE_FSTYPES variable's default value now specifies ext4 instead of ext3. I dont see any of these being made for my builds</td><td class="time"><a href="#t2021-07-20T14:08:09" class="time">14:08</a></td></tr>
<tr id="t2021-07-20T14:08:39"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">are they not made when I have something like IMAGE_FSTYPES += &quot;teziimg&quot; in my machine config?</td><td class="time"><a href="#t2021-07-20T14:08:39" class="time">14:08</a></td></tr>
<tr id="t2021-07-20T14:09:14"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">im just appending to the IMAGE_FSTYPES varaible, I was expecting this would add fstypes on top of the defaults.. ?</td><td class="time"><a href="#t2021-07-20T14:09:14" class="time">14:09</a></td></tr>
<tr id="t2021-07-20T14:09:42"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">override: The defaults are probably &quot;weak&quot; so the += might be overriding them</td><td class="time"><a href="#t2021-07-20T14:09:42" class="time">14:09</a></td></tr>
<tr id="t2021-07-20T14:10:25"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">and since ext4 is supposedly the default would it require something IMAGE_CLASSES_append &quot; image_type_tezi ext5&quot; in my case?</td><td class="time"><a href="#t2021-07-20T14:10:25" class="time">14:10</a></td></tr>
<tr id="t2021-07-20T14:11:09"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">JPEW: when a varaible is &quot;weak&quot; does _append also overrides it, or just +=</td><td class="time"><a href="#t2021-07-20T14:11:09" class="time">14:11</a></td></tr>
<tr id="t2021-07-20T14:11:14"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">override: I'm not sure if ext4 is the default</td><td class="time"><a href="#t2021-07-20T14:11:14" class="time">14:11</a></td></tr>
<tr id="t2021-07-20T14:11:31"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">ive always been curious why we have _append and +=</td><td class="time"><a href="#t2021-07-20T14:11:31" class="time">14:11</a></td></tr>
<tr id="t2021-07-20T14:11:53"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">override: _append is deferred until the end of parsing, += is immediate</td><td class="time"><a href="#t2021-07-20T14:11:53" class="time">14:11</a></td></tr>
<tr id="t2021-07-20T14:12:12"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">override: <a href="https://pretalx.com/media/yocto-project-summit-2021/submissions/WTT3UV/resources/Demystifying_the_OVERRIDES_mechan_no6J6fb.pdf" rel="nofollow">https://pretalx.com/media/yocto-project-summit-2021/submissions/WTT3UV/resources/Demystifying_the_OVERRIDES_mechan_no6J6fb.pdf</a></td><td class="time"><a href="#t2021-07-20T14:12:12" class="time">14:12</a></td></tr>
<tr id="t2021-07-20T14:13:49"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">override: You should explictly set the IMAGE_FSTYPES you want instead of relying on the defaults</td><td class="time"><a href="#t2021-07-20T14:13:49" class="time">14:13</a></td></tr>
<tr id="t2021-07-20T14:14:37"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">override: If you are curious about how a variable gets it's value `bitbake -e &lt;image&gt;` will tell you</td><td class="time"><a href="#t2021-07-20T14:14:37" class="time">14:14</a></td></tr>
<tr id="t2021-07-20T14:15:11"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">JPEW: would I need to do an IMAGE_CLASSES_append =&quot; ext5&quot; ? I have that in, but Im still just seeing the texiimg..</td><td class="time"><a href="#t2021-07-20T14:15:11" class="time">14:15</a></td></tr>
<tr id="t2021-07-20T14:15:16"><th class="nick" style="background: #a25555">Xagen</th><td class="text" style="color: #a25555">does anyone know why you would be able to build an image recipe, but `bitbake &lt;recipe&gt; -c populate_sdk` errors out?</td><td class="time"><a href="#t2021-07-20T14:15:16" class="time">14:15</a></td></tr>
<tr id="t2021-07-20T14:15:40"><th class="nick" style="background: #57a657">rburton</th><td class="text" style="color: #57a657">Xagen: can you pastebin the error?</td><td class="time"><a href="#t2021-07-20T14:15:40" class="time">14:15</a></td></tr>
<tr id="t2021-07-20T14:15:51"><th class="nick" style="background: #a25555">Xagen</th><td class="text" style="color: #a25555">sure, one moment</td><td class="time"><a href="#t2021-07-20T14:15:51" class="time">14:15</a></td></tr>
<tr id="t2021-07-20T14:16:22"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">override: I don't think you need that for any of the normal image types. If you are doing other things you might need something</td><td class="time"><a href="#t2021-07-20T14:16:22" class="time">14:16</a></td></tr>
<tr id="t2021-07-20T14:17:16"><th class="nick" style="background: #a25555">Xagen</th><td class="text" style="color: #a25555">rburton: i'm going to have to rerun the command, so it will be a couple minutes</td><td class="time"><a href="#t2021-07-20T14:17:16" class="time">14:17</a></td></tr>
<tr id="t2021-07-20T14:30:27"><th class="nick" style="background: #a25555">Xagen</th><td class="text" style="color: #a25555">rburton: <a href="https://pastebin.com/KHutJ9yc" rel="nofollow">https://pastebin.com/KHutJ9yc</a></td><td class="time"><a href="#t2021-07-20T14:30:27" class="time">14:30</a></td></tr>
<tr id="t2021-07-20T14:31:22"><th class="nick" style="background: #a25555">Xagen</th><td class="text" style="color: #a25555">i can see in toaster that json-c, libevent, libsodium, python, and python3 all built</td><td class="time"><a href="#t2021-07-20T14:31:22" class="time">14:31</a></td></tr>
<tr id="t2021-07-20T14:33:25"><th class="nick" style="background: #a25555">Xagen</th><td class="text" style="color: #a25555">the only thing i could think of is that i need to have toaster run the populate_sdk itself, and that it wouldn't work from the cli, but i couldn't find any place to explicitly run populate_sdk</td><td class="time"><a href="#t2021-07-20T14:33:25" class="time">14:33</a></td></tr>
<tr id="t2021-07-20T14:35:43"><th class="nick" style="background: #5959a9">vd</th><td class="text" style="color: #5959a9">hi all -- after systemd switches root from the initrd, I get a bench of FAILED service, for hardware RNG, network manager, user login management, etc. My guess is an issue with /var. Anyone with a clue?</td><td class="time"><a href="#t2021-07-20T14:35:43" class="time">14:35</a></td></tr>
<tr id="t2021-07-20T14:50:27"><th class="nick" style="background: #9b519b">whuang0389</th><td class="text" style="color: #9b519b">ok so, it turns out I do have llvm-config executable pulled in</td><td class="time"><a href="#t2021-07-20T14:50:27" class="time">14:50</a></td></tr>
<tr id="t2021-07-20T14:50:42"><th class="nick" style="background: #9b519b">whuang0389</th><td class="text" style="color: #9b519b">I think the setup.py file executes llvm-config to determine the llvm version</td><td class="time"><a href="#t2021-07-20T14:50:42" class="time">14:50</a></td></tr>
<tr id="t2021-07-20T14:51:04"><th class="nick" style="background: #9b519b">whuang0389</th><td class="text" style="color: #9b519b">but the setup fails with permission denied...</td><td class="time"><a href="#t2021-07-20T14:51:04" class="time">14:51</a></td></tr>
<tr id="t2021-07-20T14:51:36"><th class="nick" style="background: #9b519b">whuang0389</th><td class="text" style="color: #9b519b">is there something I need to do allow the setup file to execute the llvm-config? I can execute it manually myself</td><td class="time"><a href="#t2021-07-20T14:51:36" class="time">14:51</a></td></tr>
<tr id="t2021-07-20T15:02:30"><td class="action" colspan="2">* RP is pondering an addlayer directive: <a href="http://git.yoctoproject.org/cgit.cgi/poky-contrib/commit/?h=rpurdie/t222&amp;id=9aa43a88d9ad9178f8ec4e5cec56662352a72c37" rel="nofollow">http://git.yoctoproject.org/cgit.cgi/poky-contrib/commit/?h=rpurdie/t222&amp;id=9aa43a88d9ad9178f8ec4e5cec56662352a72c37</a>  <a href="http://git.yoctoproject.org/cgit.cgi/poky-contrib/commit/?h=rpurdie/t222&amp;id=0216deadff94f565fb880c17d0654606fe82ea65" rel="nofollow">http://git.yoctoproject.org/cgit.cgi/poky-contrib/commit/?h=rpurdie/t222&amp;id=0216deadff94f565fb880c17d0654606fe82ea65</a> </td><td><a href="#t2021-07-20T15:02:30" class="time">15:02</a></td></tr>
<tr id="t2021-07-20T15:04:43"><th class="nick" style="background: #a25555">Xagen</th><td class="text" style="color: #a25555">so i found a post saying that i could do the populate_sdk from toaster, but that it doesn't prepend the do_</td><td class="time"><a href="#t2021-07-20T15:04:43" class="time">15:04</a></td></tr>
<tr id="t2021-07-20T15:04:59"><th class="nick" style="background: #a25555">Xagen</th><td class="text" style="color: #a25555">so i ran it from inside toaster, and it had the same error as what i posted in the paste</td><td class="time"><a href="#t2021-07-20T15:04:59" class="time">15:04</a></td></tr>
<tr id="t2021-07-20T15:11:10"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">whuang0389: try S = &quot;${WORKDIR}/git&quot;</td><td class="time"><a href="#t2021-07-20T15:11:10" class="time">15:11</a></td></tr>
<tr id="t2021-07-20T15:11:32"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">where are you pulling the source from?</td><td class="time"><a href="#t2021-07-20T15:11:32" class="time">15:11</a></td></tr>
<tr id="t2021-07-20T15:11:55"><th class="nick" style="background: #9b519b">whuang0389</th><td class="text" style="color: #9b519b">git</td><td class="time"><a href="#t2021-07-20T15:11:55" class="time">15:11</a></td></tr>
<tr id="t2021-07-20T15:12:01"><th class="nick" style="background: #9b519b">whuang0389</th><td class="text" style="color: #9b519b">yea I do have that line</td><td class="time"><a href="#t2021-07-20T15:12:01" class="time">15:12</a></td></tr>
<tr id="t2021-07-20T15:12:24"><th class="nick" style="background: #9b519b">whuang0389</th><td class="text" style="color: #9b519b">btw I've used devtool. should i be doing devtool build recipe or bitbake recipe?</td><td class="time"><a href="#t2021-07-20T15:12:24" class="time">15:12</a></td></tr>
<tr id="t2021-07-20T15:12:45"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">to test it out? bitbake recipe</td><td class="time"><a href="#t2021-07-20T15:12:45" class="time">15:12</a></td></tr>
<tr id="t2021-07-20T15:13:05"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">devtool gives you a template for the recipe youre trying to put together</td><td class="time"><a href="#t2021-07-20T15:13:05" class="time">15:13</a></td></tr>
<tr id="t2021-07-20T15:13:25"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">whuang0389: both work just fine</td><td class="time"><a href="#t2021-07-20T15:13:25" class="time">15:13</a></td></tr>
<tr id="t2021-07-20T15:13:43"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">oh, lol I didnt know that..</td><td class="time"><a href="#t2021-07-20T15:13:43" class="time">15:13</a></td></tr>
<tr id="t2021-07-20T15:13:57"><th class="nick" style="background: #9b519b">whuang0389</th><td class="text" style="color: #9b519b">ive been using bitbake, wondering if devtool build would fix that permission denied</td><td class="time"><a href="#t2021-07-20T15:13:57" class="time">15:13</a></td></tr>
<tr id="t2021-07-20T15:13:59"><th class="nick" style="background: #9b519b">whuang0389</th><td class="text" style="color: #9b519b">lol</td><td class="time"><a href="#t2021-07-20T15:13:59" class="time">15:13</a></td></tr>
<tr id="t2021-07-20T15:14:30"><th class="nick" style="background: #9b519b">whuang0389</th><td class="text" style="color: #9b519b">so generally, if a recipe depends on an executable to get information, yocto should be able to run that executable correct?</td><td class="time"><a href="#t2021-07-20T15:14:30" class="time">15:14</a></td></tr>
<tr id="t2021-07-20T15:14:38"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">pastebin your recipe or just share a repo or something. sure someone would help you out</td><td class="time"><a href="#t2021-07-20T15:14:38" class="time">15:14</a></td></tr>
<tr id="t2021-07-20T15:15:08"><th class="nick" style="background: #9b519b">whuang0389</th><td class="text" style="color: #9b519b">thats awfully nice :)&nbsp;&nbsp;haha</td><td class="time"><a href="#t2021-07-20T15:15:08" class="time">15:15</a></td></tr>
<tr id="t2021-07-20T15:15:13"><th class="nick" style="background: #9b519b">whuang0389</th><td class="text" style="color: #9b519b">will do</td><td class="time"><a href="#t2021-07-20T15:15:13" class="time">15:15</a></td></tr>
<tr id="t2021-07-20T15:20:38"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">whuang0389: yes, otherwise we wouldn't be able to use cmake/autotools/meson and all</td><td class="time"><a href="#t2021-07-20T15:20:38" class="time">15:20</a></td></tr>
<tr id="t2021-07-20T15:21:07"><th class="nick" style="background: #57a657">rburton</th><td class="text" style="color: #57a657">whuang0389: depends *on the native recipe* that provides that binary</td><td class="time"><a href="#t2021-07-20T15:21:07" class="time">15:21</a></td></tr>
<tr id="t2021-07-20T15:21:11"><th class="nick" style="background: #57a657">rburton</th><td class="text" style="color: #57a657">you can't run target binaries</td><td class="time"><a href="#t2021-07-20T15:21:11" class="time">15:21</a></td></tr>
<tr id="t2021-07-20T15:45:44"><th class="nick" style="background: #adad5b">yates</th><td class="text" style="color: #adad5b">is there a variable which defines the cross-toolchain sysroot when cross-building the kernel?</td><td class="time"><a href="#t2021-07-20T15:45:44" class="time">15:45</a></td></tr>
<tr id="t2021-07-20T15:50:44-2"><td class="nickchange" colspan="2">*** camus1 is now known as camus</td><td><a href="#t2021-07-20T15:50:44-2" class="time">15:50</a></td></tr>
<tr id="t2021-07-20T15:51:36"><th class="nick" style="background: #adad5b">yates</th><td class="text" style="color: #adad5b">i need to specify the --sysroot path to gcc when the kernel Makefile for my architecture runs in order to setup the libgcc library</td><td class="time"><a href="#t2021-07-20T15:51:36" class="time">15:51</a></td></tr>
<tr id="t2021-07-20T15:54:26"><th class="nick" style="background: #adad5b">yates</th><td class="text" style="color: #adad5b">but wait - i just realized somewhere, between yocto and the kernel build system, that sysroot is already defined.</td><td class="time"><a href="#t2021-07-20T15:54:26" class="time">15:54</a></td></tr>
<tr id="t2021-07-20T15:54:38"><th class="nick" style="background: #57a657">rburton</th><td class="text" style="color: #57a657">well, yes</td><td class="time"><a href="#t2021-07-20T15:54:38" class="time">15:54</a></td></tr>
<tr id="t2021-07-20T15:54:45"><th class="nick" style="background: #57a657">rburton</th><td class="text" style="color: #57a657">did you try grepping oe-core for --sysroot?</td><td class="time"><a href="#t2021-07-20T15:54:45" class="time">15:54</a></td></tr>
<tr id="t2021-07-20T15:54:51"><th class="nick" style="background: #adad5b">yates</th><td class="text" style="color: #adad5b">i will</td><td class="time"><a href="#t2021-07-20T15:54:51" class="time">15:54</a></td></tr>
<tr id="t2021-07-20T15:54:55"><th class="nick" style="background: #57a657">rburton</th><td class="text" style="color: #57a657">conf/bitbake.conf:TOOLCHAIN_OPTIONS = &quot; --sysroot=${STAGING_DIR_TARGET}&quot;</td><td class="time"><a href="#t2021-07-20T15:54:55" class="time">15:54</a></td></tr>
<tr id="t2021-07-20T15:55:15"><th class="nick" style="background: #57a657">rburton</th><td class="text" style="color: #57a657">if you use ${CC} you get that included</td><td class="time"><a href="#t2021-07-20T15:55:15" class="time">15:55</a></td></tr>
<tr id="t2021-07-20T15:55:30"><th class="nick" style="background: #57a657">rburton</th><td class="text" style="color: #57a657">so, tell your kernel to use ${CC} not gcc</td><td class="time"><a href="#t2021-07-20T15:55:30" class="time">15:55</a></td></tr>
<tr id="t2021-07-20T15:55:42"><th class="nick" style="background: #57a657">rburton</th><td class="text" style="color: #57a657">obviously, the standard kernel recipe/classes do this already</td><td class="time"><a href="#t2021-07-20T15:55:42" class="time">15:55</a></td></tr>
<tr id="t2021-07-20T15:57:13"><th class="nick" style="background: #adad5b">yates</th><td class="text" style="color: #adad5b">rburton: in my arch's kernel Makefile, there is this line: libs-y += arch/csky/lib/ $(shell $(CC) $(KBUILD_CFLAGS) $(KCFLAGS) -print-libgcc-file-name)</td><td class="time"><a href="#t2021-07-20T15:57:13" class="time">15:57</a></td></tr>
<tr id="t2021-07-20T15:57:35"><th class="nick" style="background: #57a657">rburton</th><td class="text" style="color: #57a657">right, so ensure CC is passed</td><td class="time"><a href="#t2021-07-20T15:57:35" class="time">15:57</a></td></tr>
<tr id="t2021-07-20T15:57:46"><th class="nick" style="background: #57a657">rburton</th><td class="text" style="color: #57a657">or use the standard kernel classes that do this for you</td><td class="time"><a href="#t2021-07-20T15:57:46" class="time">15:57</a></td></tr>
<tr id="t2021-07-20T15:58:21"><th class="nick" style="background: #57a657">rburton</th><td class="text" style="color: #57a657">using kernel.bbclass doesn't mean using linux-yocto</td><td class="time"><a href="#t2021-07-20T15:58:21" class="time">15:58</a></td></tr>
<tr id="t2021-07-20T16:00:31"><th class="nick" style="background: #adad5b">yates</th><td class="text" style="color: #adad5b">i'm confused, but let me dig some more before I ask more stupid questions.</td><td class="time"><a href="#t2021-07-20T16:00:31" class="time">16:00</a></td></tr>
<tr id="t2021-07-20T16:00:43"><th class="nick" style="background: #adad5b">yates</th><td class="text" style="color: #adad5b">thank you, rburton</td><td class="time"><a href="#t2021-07-20T16:00:43" class="time">16:00</a></td></tr>
<tr id="t2021-07-20T16:01:28"><th class="nick" style="background: #adad5b">yates</th><td class="text" style="color: #adad5b">i guess basically i am wondering why yocto isn't already defining CC with the sysroot when this top-level Makefile is run</td><td class="time"><a href="#t2021-07-20T16:01:28" class="time">16:01</a></td></tr>
<tr id="t2021-07-20T16:01:56"><th class="nick" style="background: #57a657">rburton</th><td class="text" style="color: #57a657">it is</td><td class="time"><a href="#t2021-07-20T16:01:56" class="time">16:01</a></td></tr>
<tr id="t2021-07-20T16:02:23"><th class="nick" style="background: #57a657">rburton</th><td class="text" style="color: #57a657">export CC = &quot;${CCACHE}${HOST_PREFIX}gcc ${HOST_CC_ARCH}${TOOLCHAIN_OPTIONS}&quot;</td><td class="time"><a href="#t2021-07-20T16:02:23" class="time">16:02</a></td></tr>
<tr id="t2021-07-20T16:02:29"><td class="action" colspan="2">* rburton goes to collapse somewhere</td><td><a href="#t2021-07-20T16:02:29" class="time">16:02</a></td></tr>
<tr id="t2021-07-20T16:02:48"><th class="nick" style="background: #adad5b">yates</th><td class="text" style="color: #adad5b">then why is &quot;$(shell $(CC) $(KBUILD_CFLAGS) $(KCFLAGS) -print-libgcc-file-name)&quot; returning just &quot;libgcc.a&quot; and not &quot;&lt;some-path-in-sysroot&gt;/libgcc.a&quot;?</td><td class="time"><a href="#t2021-07-20T16:02:48" class="time">16:02</a></td></tr>
<tr id="t2021-07-20T16:03:17"><th class="nick" style="background: #57a657">rburton</th><td class="text" style="color: #57a657">because gcc doesn't always give you an absolute path if the result is in the search path</td><td class="time"><a href="#t2021-07-20T16:03:17" class="time">16:03</a></td></tr>
<tr id="t2021-07-20T16:03:52"><th class="nick" style="background: #b15db1">Guest44</th><td class="text" style="color: #b15db1">I have problem generating eSDK for my image.my image usages meta-qt layer which has dependency on python3 where as my application are dependent on python2.i am using python2-mako in my applications and same mako is used by meta-qt as well but they use python3.-mako.</td><td class="time"><a href="#t2021-07-20T16:03:52" class="time">16:03</a></td></tr>
<tr id="t2021-07-20T16:04:58"><th class="nick" style="background: #57a657">rburton</th><td class="text" style="color: #57a657">yates: this works for the standard kernels, therefore you're doing something odd or wrong.&nbsp;&nbsp;i suggest you don't write your own kernel recipe but use linux-yocto with a custom config if needed.&nbsp;&nbsp;if you *really* need to write your own recipe then at least inherit kernel.bbclass</td><td class="time"><a href="#t2021-07-20T16:04:58" class="time">16:04</a></td></tr>
<tr id="t2021-07-20T16:05:10"><th class="nick" style="background: #b15db1">Guest44</th><td class="text" style="color: #b15db1">so while generation it tries to install mako-render which is provided by both python packages.My problem is hot disable python3-mako while generation eSDK.</td><td class="time"><a href="#t2021-07-20T16:05:10" class="time">16:05</a></td></tr>
<tr id="t2021-07-20T16:06:21"><th class="nick" style="background: #adad5b">yates</th><td class="text" style="color: #adad5b">rburton: i switched to using my own instead of linux-yocto because there were several complications due to this being for a new architecture which is not fully supported in yocto (yet).</td><td class="time"><a href="#t2021-07-20T16:06:21" class="time">16:06</a></td></tr>
<tr id="t2021-07-20T16:06:37"><th class="nick" style="background: #57a657">rburton</th><td class="text" style="color: #57a657">but are you using mainline kernel?</td><td class="time"><a href="#t2021-07-20T16:06:37" class="time">16:06</a></td></tr>
<tr id="t2021-07-20T16:06:40"><th class="nick" style="background: #adad5b">yates</th><td class="text" style="color: #adad5b">yes</td><td class="time"><a href="#t2021-07-20T16:06:40" class="time">16:06</a></td></tr>
<tr id="t2021-07-20T16:06:48"><th class="nick" style="background: #57a657">rburton</th><td class="text" style="color: #57a657">so use linux-yocto as that is mainline</td><td class="time"><a href="#t2021-07-20T16:06:48" class="time">16:06</a></td></tr>
<tr id="t2021-07-20T16:06:49"><th class="nick" style="background: #adad5b">yates</th><td class="text" style="color: #adad5b">5.12</td><td class="time"><a href="#t2021-07-20T16:06:49" class="time">16:06</a></td></tr>
<tr id="t2021-07-20T16:09:44"><th class="nick" style="background: #adad5b">yates</th><td class="text" style="color: #adad5b">using linux-yocto pulls in other machinations unique to linux-yocto which do not work with the architecture i am using. i've already spent weeks tracking down those and decided it was better to based our system on mainline non-linux-yocto to remove dependencies on those machinations</td><td class="time"><a href="#t2021-07-20T16:09:44" class="time">16:09</a></td></tr>
<tr id="t2021-07-20T16:10:32"><th class="nick" style="background: #adad5b">yates</th><td class="text" style="color: #adad5b">i resolved a couple, but it was very tedious.</td><td class="time"><a href="#t2021-07-20T16:10:32" class="time">16:10</a></td></tr>
<tr id="t2021-07-20T16:20:47"><th class="nick" style="background: #adad5b">yates</th><td class="text" style="color: #adad5b">rburton: CC is not constructed with a --sysroot option when the top-level arch/&lt;arch&gt;/Makefile runs. i just instrumented it: CC = csky-poky-linux-gcc</td><td class="time"><a href="#t2021-07-20T16:20:47" class="time">16:20</a></td></tr>
<tr id="t2021-07-20T16:20:57"><th class="nick" style="background: #adad5b">yates</th><td class="text" style="color: #adad5b">neither is there a sysroot in KBUILD_CFLAGS</td><td class="time"><a href="#t2021-07-20T16:20:57" class="time">16:20</a></td></tr>
<tr id="t2021-07-20T16:21:05"><th class="nick" style="background: #adad5b">yates</th><td class="text" style="color: #adad5b">not at that time</td><td class="time"><a href="#t2021-07-20T16:21:05" class="time">16:21</a></td></tr>
<tr id="t2021-07-20T16:21:35"><th class="nick" style="background: #adad5b">yates</th><td class="text" style="color: #adad5b">i believe the only time gcc emits just the &quot;libgcc.a&quot; filename is when it can't really find it.</td><td class="time"><a href="#t2021-07-20T16:21:35" class="time">16:21</a></td></tr>
<tr id="t2021-07-20T16:23:35"><th class="nick" style="background: #adad5b">yates</th><td class="text" style="color: #adad5b">i know that a lower level submake has it defined, but that is after the libs-y has been improperly defined</td><td class="time"><a href="#t2021-07-20T16:23:35" class="time">16:23</a></td></tr>
<tr id="t2021-07-20T16:23:45"><th class="nick" style="background: #adad5b">yates</th><td class="text" style="color: #adad5b">so i guess i have to dig and find out what happens between this top-level Makefile and the myriad levels the kernel build system evokes..</td><td class="time"><a href="#t2021-07-20T16:23:45" class="time">16:23</a></td></tr>
<tr id="t2021-07-20T16:23:48"><th class="nick" style="background: #adad5b">yates</th><td class="text" style="color: #adad5b">fun!</td><td class="time"><a href="#t2021-07-20T16:23:48" class="time">16:23</a></td></tr>
<tr id="t2021-07-20T16:24:25"><td class="action" colspan="2">* yates takes a dirt nap...</td><td><a href="#t2021-07-20T16:24:25" class="time">16:24</a></td></tr>
<tr id="t2021-07-20T16:26:24"><td class="nickchange" colspan="2">*** mckoan is now known as mckoan|away</td><td><a href="#t2021-07-20T16:26:24" class="time">16:26</a></td></tr>
<tr id="t2021-07-20T16:36:09"><th class="nick" style="background: #a25555">Xagen</th><td class="text" style="color: #a25555">rburton: did you get a chance to look at my pastebin?</td><td class="time"><a href="#t2021-07-20T16:36:09" class="time">16:36</a></td></tr>
<tr id="t2021-07-20T16:41:54-2"><td class="nickchange" colspan="2">*** camus1 is now known as camus</td><td><a href="#t2021-07-20T16:41:54-2" class="time">16:41</a></td></tr>
<tr id="t2021-07-20T16:47:24"><td class="nickchange" colspan="2">*** Guest63 is now known as Xagen</td><td><a href="#t2021-07-20T16:47:24" class="time">16:47</a></td></tr>
<tr id="t2021-07-20T17:26:58"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">does anyone know what recipe is responsible for making the .json file we see under the deploy folder. its got the blockdevs (partitions and some other stuff defined in it. Not sure if this is some yocto standard way of doing things, or something the vendor pulled off. the .json files looks like this - <a href="https://pastebin.ubuntu.com/p/gtYBRqCkf7/" rel="nofollow">https://pastebin.ubuntu.com/p/gtYBRqCkf7/</a></td><td class="time"><a href="#t2021-07-20T17:26:58" class="time">17:26</a></td></tr>
<tr id="t2021-07-20T17:39:00"><th class="nick" style="background: #adad5b">yates</th><td class="text" style="color: #adad5b">override: perhaps it is an output from &quot;wic&quot;?</td><td class="time"><a href="#t2021-07-20T17:39:00" class="time">17:39</a></td></tr>
<tr id="t2021-07-20T17:39:49"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">oh, was really hoping I could just add a fs partition to that json file or something</td><td class="time"><a href="#t2021-07-20T17:39:49" class="time">17:39</a></td></tr>
<tr id="t2021-07-20T17:39:59"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">guess I gotta look up wic</td><td class="time"><a href="#t2021-07-20T17:39:59" class="time">17:39</a></td></tr>
<tr id="t2021-07-20T17:41:47"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">yates: could you link me to some wic doc or something? Ill try to figure if this is wic generated</td><td class="time"><a href="#t2021-07-20T17:41:47" class="time">17:41</a></td></tr>
<tr id="t2021-07-20T17:41:57"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">does wic generate any json?</td><td class="time"><a href="#t2021-07-20T17:41:57" class="time">17:41</a></td></tr>
<tr id="t2021-07-20T17:45:05"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">yates: so I see a image_type.bbclass in a layer, does wic require something along those lines?</td><td class="time"><a href="#t2021-07-20T17:45:05" class="time">17:45</a></td></tr>
<tr id="t2021-07-20T17:45:24"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">Im just having a hard time finding something to read for wic</td><td class="time"><a href="#t2021-07-20T17:45:24" class="time">17:45</a></td></tr>
<tr id="t2021-07-20T17:46:03"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">the manual starts talking about partion commands wic supports.. I want an overview of what the heck is it all about even</td><td class="time"><a href="#t2021-07-20T17:46:03" class="time">17:46</a></td></tr>
<tr id="t2021-07-20T18:08:07"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">override: Ya, the &quot;Getting started&quot; documentation for wic needs some help</td><td class="time"><a href="#t2021-07-20T18:08:07" class="time">18:08</a></td></tr>
<tr id="t2021-07-20T18:09:09"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">override: You need to add a &quot;.wic&quot; file system to IMAGE_TYPES as a suffix of the rootfs type you want to embed, e.g. `IMAGE_TYPES += &quot;ext4.wic&quot;`</td><td class="time"><a href="#t2021-07-20T18:09:09" class="time">18:09</a></td></tr>
<tr id="t2021-07-20T18:10:21"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">override: Ugh, sorry, that's wrong. Just add `wic` to `IMAGE_FSTYPES`</td><td class="time"><a href="#t2021-07-20T18:10:21" class="time">18:10</a></td></tr>
<tr id="t2021-07-20T18:11:01"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">JPEW: cool ok think my vendor is using something else, but while we are talking wics</td><td class="time"><a href="#t2021-07-20T18:11:01" class="time">18:11</a></td></tr>
<tr id="t2021-07-20T18:11:20"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">I get the wic to my IMAGE_FSTYPES</td><td class="time"><a href="#t2021-07-20T18:11:20" class="time">18:11</a></td></tr>
<tr id="t2021-07-20T18:11:36"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">im guessing that is in my maching.conf?</td><td class="time"><a href="#t2021-07-20T18:11:36" class="time">18:11</a></td></tr>
<tr id="t2021-07-20T18:11:49"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">override: Usually</td><td class="time"><a href="#t2021-07-20T18:11:49" class="time">18:11</a></td></tr>
<tr id="t2021-07-20T18:12:07"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">then what happens? how do the partions get defined?</td><td class="time"><a href="#t2021-07-20T18:12:07" class="time">18:12</a></td></tr>
<tr id="t2021-07-20T18:13:11"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">override: The code will search for a .wks file; default file to look for is `&quot;${IMAGE_BASENAME}.${MACHINE}.wks&quot;`</td><td class="time"><a href="#t2021-07-20T18:13:11" class="time">18:13</a></td></tr>
<tr id="t2021-07-20T18:13:23"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">You can change it by setting the `WKS_FILE` variable</td><td class="time"><a href="#t2021-07-20T18:13:23" class="time">18:13</a></td></tr>
<tr id="t2021-07-20T18:13:52"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">override: It will search in the `wic` directory of every layer</td><td class="time"><a href="#t2021-07-20T18:13:52" class="time">18:13</a></td></tr>
<tr id="t2021-07-20T18:14:22"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">ok nice, those were the extension names I was looking for</td><td class="time"><a href="#t2021-07-20T18:14:22" class="time">18:14</a></td></tr>
<tr id="t2021-07-20T18:14:49"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">Im trying to make sure if my vendor is using wic or something not so standarized..</td><td class="time"><a href="#t2021-07-20T18:14:49" class="time">18:14</a></td></tr>
<tr id="t2021-07-20T18:15:30"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">wic is pretty flexible; if they boot from eMMC you can write a wic file to make the image</td><td class="time"><a href="#t2021-07-20T18:15:30" class="time">18:15</a></td></tr>
<tr id="t2021-07-20T18:16:04"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">eMMC is sd cards and all, right</td><td class="time"><a href="#t2021-07-20T18:16:04" class="time">18:16</a></td></tr>
<tr id="t2021-07-20T18:16:12"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">Im the worst with these terms</td><td class="time"><a href="#t2021-07-20T18:16:12" class="time">18:16</a></td></tr>
<tr id="t2021-07-20T18:16:18"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">Can you share the SoC? A lot already have examples you can start with</td><td class="time"><a href="#t2021-07-20T18:16:18" class="time">18:16</a></td></tr>
<tr id="t2021-07-20T18:17:11"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">im using some som from toradex, let me get u the exact name and all one sec</td><td class="time"><a href="#t2021-07-20T18:17:11" class="time">18:17</a></td></tr>
<tr id="t2021-07-20T18:17:35"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">toradex verdin imx8m mini</td><td class="time"><a href="#t2021-07-20T18:17:35" class="time">18:17</a></td></tr>
<tr id="t2021-07-20T18:18:25"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">they have some easy installer stuff that is throwing me off / has zero docs when it comes to setting up partitions</td><td class="time"><a href="#t2021-07-20T18:18:25" class="time">18:18</a></td></tr>
<tr id="t2021-07-20T18:18:35"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">Oh, ya. That one should have pretty good support</td><td class="time"><a href="#t2021-07-20T18:18:35" class="time">18:18</a></td></tr>
<tr id="t2021-07-20T18:18:47"><th class="nick" style="background: #5fb4b4">Guest8</th><td class="text" style="color: #5fb4b4">Anyone have experience using dmalloc with c++ apps on yocto targets?</td><td class="time"><a href="#t2021-07-20T18:18:47" class="time">18:18</a></td></tr>
<tr id="t2021-07-20T18:18:59"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">override: Start here probably: <a href="https://github.com/Freescale/meta-freescale/tree/master/wic" rel="nofollow">https://github.com/Freescale/meta-freescale/tree/master/wic</a></td><td class="time"><a href="#t2021-07-20T18:18:59" class="time">18:18</a></td></tr>
<tr id="t2021-07-20T18:19:50"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">sounds good</td><td class="time"><a href="#t2021-07-20T18:19:50" class="time">18:19</a></td></tr>
<tr id="t2021-07-20T18:23:14"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">JPEW thats repo you just wanted me to look at some sample .wks files?</td><td class="time"><a href="#t2021-07-20T18:23:14" class="time">18:23</a></td></tr>
<tr id="t2021-07-20T18:24:14"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">override: Ya, that repo supports the IMX8M so one of those wks files is probably correct?</td><td class="time"><a href="#t2021-07-20T18:24:14" class="time">18:24</a></td></tr>
<tr id="t2021-07-20T18:24:22"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">override: At least as a starting point</td><td class="time"><a href="#t2021-07-20T18:24:22" class="time">18:24</a></td></tr>
<tr id="t2021-07-20T18:24:36"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">yeah, Its beginning to sink in a little</td><td class="time"><a href="#t2021-07-20T18:24:36" class="time">18:24</a></td></tr>
<tr id="t2021-07-20T18:25:33"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">like you add wic to the wic to the IMAGE_FSTYPES then you have a .wks file with the actual partion defintion youre going for..</td><td class="time"><a href="#t2021-07-20T18:25:33" class="time">18:25</a></td></tr>
<tr id="t2021-07-20T18:27:07"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">override: Correct</td><td class="time"><a href="#t2021-07-20T18:27:07" class="time">18:27</a></td></tr>
<tr id="t2021-07-20T18:27:59"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">i get what uboot is, whats uboot spl now?</td><td class="time"><a href="#t2021-07-20T18:27:59" class="time">18:27</a></td></tr>
<tr id="t2021-07-20T18:29:40"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">override: It's highly technical and related to the way that many SoC's boot: <a href="https://stackoverflow.com/questions/31244862/what-is-the-use-of-spl-secondary-program-loader" rel="nofollow">https://stackoverflow.com/questions/31244862/what-is-the-use-of-spl-secondary-program-loader</a></td><td class="time"><a href="#t2021-07-20T18:29:40" class="time">18:29</a></td></tr>
<tr id="t2021-07-20T18:30:34"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">yeah, not sure if I should be too concerned about it right now..</td><td class="time"><a href="#t2021-07-20T18:30:34" class="time">18:30</a></td></tr>
<tr id="t2021-07-20T18:30:36"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">override: Basically, u-boot is too big and SoC's can't access RAM immediately, so you need a small SPL to initialize RAM, copy u-boot into it and jump to it</td><td class="time"><a href="#t2021-07-20T18:30:36" class="time">18:30</a></td></tr>
<tr id="t2021-07-20T18:31:05"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">oh, ok. thanks JPEW:</td><td class="time"><a href="#t2021-07-20T18:31:05" class="time">18:31</a></td></tr>
<tr id="t2021-07-20T18:31:08"><th class="nick" style="background: #b86161">Tartarus</th><td class="text" style="color: #b86161">Dumb question, but wasn't there some way to make local source archives that included the githash in them?</td><td class="time"><a href="#t2021-07-20T18:31:08" class="time">18:31</a></td></tr>
<tr id="t2021-07-20T18:31:38"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">Tartarus: BB_GENERATE_MIRROR_TARBALL</td><td class="time"><a href="#t2021-07-20T18:31:38" class="time">18:31</a></td></tr>
<tr id="t2021-07-20T18:31:46"><th class="nick" style="background: #b86161">Tartarus</th><td class="text" style="color: #b86161">ie for use cases like where you have a single local source mirror that you use when you start building $whatever and $whichever source branch that might be, get the right glibc git hash archive</td><td class="time"><a href="#t2021-07-20T18:31:46" class="time">18:31</a></td></tr>
<tr id="t2021-07-20T18:32:13"><th class="nick" style="background: #b86161">Tartarus</th><td class="text" style="color: #b86161">JPEW: that only gives me git2_sourceware.org.git.glibc.git.tar.gz for example</td><td class="time"><a href="#t2021-07-20T18:32:13" class="time">18:32</a></td></tr>
<tr id="t2021-07-20T18:32:29"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">Ah, for a specific hash and/or branch?</td><td class="time"><a href="#t2021-07-20T18:32:29" class="time">18:32</a></td></tr>
<tr id="t2021-07-20T18:32:36"><th class="nick" style="background: #b86161">Tartarus</th><td class="text" style="color: #b86161">Yeah</td><td class="time"><a href="#t2021-07-20T18:32:36" class="time">18:32</a></td></tr>
<tr id="t2021-07-20T18:33:08"><th class="nick" style="background: #b86161">Tartarus</th><td class="text" style="color: #b86161">I have a site.conf I start with for everything and it has a own-mirror / SOURCE_MIRROR_URL in it</td><td class="time"><a href="#t2021-07-20T18:33:08" class="time">18:33</a></td></tr>
<tr id="t2021-07-20T18:33:34"><th class="nick" style="background: #b86161">Tartarus</th><td class="text" style="color: #b86161">It's great for everything that's not git, but since I might be on thud or zeus or dunfell or something modern, all of the git stuff isn't a cache hit</td><td class="time"><a href="#t2021-07-20T18:33:34" class="time">18:33</a></td></tr>
<tr id="t2021-07-20T18:33:56"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">Ya, that's not supported.... we run into the same thing all the time :/</td><td class="time"><a href="#t2021-07-20T18:33:56" class="time">18:33</a></td></tr>
<tr id="t2021-07-20T18:34:02"><th class="nick" style="background: #b86161">Tartarus</th><td class="text" style="color: #b86161">Ugh, I thought it used to be</td><td class="time"><a href="#t2021-07-20T18:34:02" class="time">18:34</a></td></tr>
<tr id="t2021-07-20T18:34:17"><th class="nick" style="background: #b86161">Tartarus</th><td class="text" style="color: #b86161">Guess it's time for plan B and directories for just the git ones</td><td class="time"><a href="#t2021-07-20T18:34:17" class="time">18:34</a></td></tr>
<tr id="t2021-07-20T18:35:09"><th class="nick" style="background: #b86161">Tartarus</th><td class="text" style="color: #b86161">I should probably double check the logic for getting uninative stuff too while I'm at it</td><td class="time"><a href="#t2021-07-20T18:35:09" class="time">18:35</a></td></tr>
<tr id="t2021-07-20T18:35:28"><th class="nick" style="background: #b86161">Tartarus</th><td class="text" style="color: #b86161">I think that's caught normally with own-mirrors</td><td class="time"><a href="#t2021-07-20T18:35:28" class="time">18:35</a></td></tr>
<tr id="t2021-07-20T18:36:06"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">JPEW: you know what WKS_FILE_DEPENDS_append is all about? I think toradex is using the wic image type but its not very out very obvious becuase they define their own image type, which extends wic</td><td class="time"><a href="#t2021-07-20T18:36:06" class="time">18:36</a></td></tr>
<tr id="t2021-07-20T18:37:12"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">override: If you need to include other items in the disk image (e.g. u-boot or other bootloader), you need to tell bitbake to build them before attempting to run wic</td><td class="time"><a href="#t2021-07-20T18:37:12" class="time">18:37</a></td></tr>
<tr id="t2021-07-20T18:37:36"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">`WKS_FILE_DEPENDS` does that.... basically &quot;Wic creation depends on these things&quot;</td><td class="time"><a href="#t2021-07-20T18:37:36" class="time">18:37</a></td></tr>
<tr id="t2021-07-20T18:41:05"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">override: Sounds like they are producing a wic file then wrapping an installer around it?</td><td class="time"><a href="#t2021-07-20T18:41:05" class="time">18:41</a></td></tr>
<tr id="t2021-07-20T18:41:37"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">so this toradex som im working with has a image_type_tezi.bbclass with WKS_FILE_DEPENDS in it. which makes me think toradex is trying to extend the wic image type ... but I cant find a .wks file .. like I see some random ones</td><td class="time"><a href="#t2021-07-20T18:41:37" class="time">18:41</a></td></tr>
<tr id="t2021-07-20T18:42:43"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">JPEW: im just trying to add another partition to the emmc or what ever the nand memory on the board is called, so I can just dd ext4 images to it, tell uboot to boot from that partion, and call this entire thing a system update</td><td class="time"><a href="#t2021-07-20T18:42:43" class="time">18:42</a></td></tr>
<tr id="t2021-07-20T18:44:10"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">override: Ya, pretty standard A/B partition stuff :)</td><td class="time"><a href="#t2021-07-20T18:44:10" class="time">18:44</a></td></tr>
<tr id="t2021-07-20T18:44:59"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">JPEW: yeah it wouldbe been simpler if I didnt have toradex in my way right now</td><td class="time"><a href="#t2021-07-20T18:44:59" class="time">18:44</a></td></tr>
<tr id="t2021-07-20T18:45:15"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">Sounds like they did their own thing instead.... to bad. But the IMX8M has pretty good support, I'm fairly certain you can get it working</td><td class="time"><a href="#t2021-07-20T18:45:15" class="time">18:45</a></td></tr>
<tr id="t2021-07-20T18:45:49"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">yeah think theyre extending the basic wic stuff tho</td><td class="time"><a href="#t2021-07-20T18:45:49" class="time">18:45</a></td></tr>
<tr id="t2021-07-20T18:46:12"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">so if I can file the correct wks file i can just add the swap partion to it</td><td class="time"><a href="#t2021-07-20T18:46:12" class="time">18:46</a></td></tr>
<tr id="t2021-07-20T18:46:32"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">right now I think it just has the one uboot and one kernel partition</td><td class="time"><a href="#t2021-07-20T18:46:32" class="time">18:46</a></td></tr>
<tr id="t2021-07-20T18:46:43"><th class="nick" style="background: #b86161">Tartarus</th><td class="text" style="color: #b86161">JPEW: OK, so locally I'm fixing this by dropping own-mirrors, and having PREMIRRORS_prepend itself in site.conf with stuff like: git://.*/.*&nbsp;&nbsp;&nbsp;&nbsp; ${SOURCE_MIRROR_URL}/${LAYERSERIES_COMPAT_core} \n which evaluates correctly at least.&nbsp;&nbsp;But please tell me if that's still a horrid idea or something :)</td><td class="time"><a href="#t2021-07-20T18:46:43" class="time">18:46</a></td></tr>
<tr id="t2021-07-20T18:46:47"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">In fact, I'm positive you can get it to work, I've got an IMX8M on my desk that I had booting with wic a few months ago :)</td><td class="time"><a href="#t2021-07-20T18:46:47" class="time">18:46</a></td></tr>
<tr id="t2021-07-20T18:47:50"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">nice think I'll ditch whatever image class toradex has setup and just add simple wic to my distro</td><td class="time"><a href="#t2021-07-20T18:47:50" class="time">18:47</a></td></tr>
<tr id="t2021-07-20T18:47:56"><th class="nick" style="background: #b86161">Tartarus</th><td class="text" style="color: #b86161">override: Modifying the tezi images is not easy, sadly.</td><td class="time"><a href="#t2021-07-20T18:47:56" class="time">18:47</a></td></tr>
<tr id="t2021-07-20T18:48:19"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">Tartarus: you know about tezi?</td><td class="time"><a href="#t2021-07-20T18:48:19" class="time">18:48</a></td></tr>
<tr id="t2021-07-20T18:48:21"><th class="nick" style="background: #b86161">Tartarus</th><td class="text" style="color: #b86161">Which is a problem if you want to use tezi to in turn flash a production run of toradex stuff</td><td class="time"><a href="#t2021-07-20T18:48:21" class="time">18:48</a></td></tr>
<tr id="t2021-07-20T18:48:42"><th class="nick" style="background: #b86161">Tartarus</th><td class="text" style="color: #b86161">I have (ab)used it before, yes.</td><td class="time"><a href="#t2021-07-20T18:48:42" class="time">18:48</a></td></tr>
<tr id="t2021-07-20T18:49:17"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">override: Here is the specific wks file we use for the IMX8MM: <a href="https://github.com/Freescale/meta-freescale/blob/master/wic/imx-imx-boot-bootpart.wks.in" rel="nofollow">https://github.com/Freescale/meta-freescale/blob/master/wic/imx-imx-boot-bootpart.wks.in</a></td><td class="time"><a href="#t2021-07-20T18:49:17" class="time">18:49</a></td></tr>
<tr id="t2021-07-20T18:49:37"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">Im just trying to see if I just went all wic right now. I do a clean wipe of my emmc, then just write a fresh uboot, and kernel partition and swap partition just sits empty for now</td><td class="time"><a href="#t2021-07-20T18:49:37" class="time">18:49</a></td></tr>
<tr id="t2021-07-20T18:49:46"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">I dont need no tezi then do i?</td><td class="time"><a href="#t2021-07-20T18:49:46" class="time">18:49</a></td></tr>
<tr id="t2021-07-20T18:50:22"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">override: Hard to say... it really depends on what else they have done</td><td class="time"><a href="#t2021-07-20T18:50:22" class="time">18:50</a></td></tr>
<tr id="t2021-07-20T18:50:34"><th class="nick" style="background: #b86161">Tartarus</th><td class="text" style="color: #b86161">It also depends on what you're trying to do, in the end</td><td class="time"><a href="#t2021-07-20T18:50:34" class="time">18:50</a></td></tr>
<tr id="t2021-07-20T18:51:35"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">if i went wic I'll still be doing everything toradex has done, just not making a tezi image? wic image instead</td><td class="time"><a href="#t2021-07-20T18:51:35" class="time">18:51</a></td></tr>
<tr id="t2021-07-20T18:51:50"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">where would i run into issues that way?</td><td class="time"><a href="#t2021-07-20T18:51:50" class="time">18:51</a></td></tr>
<tr id="t2021-07-20T18:51:57"><th class="nick" style="background: #b86161">Tartarus</th><td class="text" style="color: #b86161">Well, if you're on a toradex SOM, there's important questions</td><td class="time"><a href="#t2021-07-20T18:51:57" class="time">18:51</a></td></tr>
<tr id="t2021-07-20T18:52:29"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">what might those be</td><td class="time"><a href="#t2021-07-20T18:52:29" class="time">18:52</a></td></tr>
<tr id="t2021-07-20T18:52:36"><th class="nick" style="background: #b86161">Tartarus</th><td class="text" style="color: #b86161">Like, are you doing a one-off personal project?&nbsp;&nbsp;Or is this a company thing that'll have 1k units?</td><td class="time"><a href="#t2021-07-20T18:52:36" class="time">18:52</a></td></tr>
<tr id="t2021-07-20T18:52:56"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">there can be all the units we want for it</td><td class="time"><a href="#t2021-07-20T18:52:56" class="time">18:52</a></td></tr>
<tr id="t2021-07-20T18:53:07"><th class="nick" style="background: #b86161">Tartarus</th><td class="text" style="color: #b86161">Are you going to flash them, or is toradex?</td><td class="time"><a href="#t2021-07-20T18:53:07" class="time">18:53</a></td></tr>
<tr id="t2021-07-20T18:53:15"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">no we are</td><td class="time"><a href="#t2021-07-20T18:53:15" class="time">18:53</a></td></tr>
<tr id="t2021-07-20T18:53:23"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">like our cm people would</td><td class="time"><a href="#t2021-07-20T18:53:23" class="time">18:53</a></td></tr>
<tr id="t2021-07-20T18:53:29"><th class="nick" style="background: #b86161">Tartarus</th><td class="text" style="color: #b86161">OK</td><td class="time"><a href="#t2021-07-20T18:53:29" class="time">18:53</a></td></tr>
<tr id="t2021-07-20T18:53:43"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">they can just well I can get to that later</td><td class="time"><a href="#t2021-07-20T18:53:43" class="time">18:53</a></td></tr>
<tr id="t2021-07-20T18:53:48"><th class="nick" style="background: #b86161">Tartarus</th><td class="text" style="color: #b86161">And you're just now figuring out how they'll do the flashing?</td><td class="time"><a href="#t2021-07-20T18:53:48" class="time">18:53</a></td></tr>
<tr id="t2021-07-20T18:53:51"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">like ive use these dd scripts in the past ..</td><td class="time"><a href="#t2021-07-20T18:53:51" class="time">18:53</a></td></tr>
<tr id="t2021-07-20T18:54:18"><th class="nick" style="background: #b86161">Tartarus</th><td class="text" style="color: #b86161">There's many ways to install, yes, which is why toradex created yet another one, their 'easy installer'.</td><td class="time"><a href="#t2021-07-20T18:54:18" class="time">18:54</a></td></tr>
<tr id="t2021-07-20T18:54:18-2"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">yeah im trying to ditch that toradex easy installer stuff myself</td><td class="time"><a href="#t2021-07-20T18:54:18-2" class="time">18:54</a></td></tr>
<tr id="t2021-07-20T18:54:32"><th class="nick" style="background: #b86161">Tartarus</th><td class="text" style="color: #b86161">OK, then yeah, look at the wks that JPEW mentioned</td><td class="time"><a href="#t2021-07-20T18:54:32" class="time">18:54</a></td></tr>
<tr id="t2021-07-20T18:54:33"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">they use some library that doesnt work on osx for one thing</td><td class="time"><a href="#t2021-07-20T18:54:33" class="time">18:54</a></td></tr>
<tr id="t2021-07-20T18:55:05"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">easy installer has some universal update utility dependency which doesnt work on osx</td><td class="time"><a href="#t2021-07-20T18:55:05" class="time">18:55</a></td></tr>
<tr id="t2021-07-20T18:55:24"><th class="nick" style="background: #b86161">Tartarus</th><td class="text" style="color: #b86161">Then you can shove your product-image.wic.xz inside of installer-image.wic, and write installer-image.wic to SD card and have that boot and uncompress/dd product-image.wic.xz</td><td class="time"><a href="#t2021-07-20T18:55:24" class="time">18:55</a></td></tr>
<tr id="t2021-07-20T18:55:37"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">so I gotta freakin sit at home with where my ubuntu machines at to be able to flash boards</td><td class="time"><a href="#t2021-07-20T18:55:37" class="time">18:55</a></td></tr>
<tr id="t2021-07-20T18:56:49"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">Tartarus: yeah thats more or less what im trying to get it. still sounds quite a mouth full - given how I just figured out how wic is a file system type and wks file has the definition for wic</td><td class="time"><a href="#t2021-07-20T18:56:49" class="time">18:56</a></td></tr>
<tr id="t2021-07-20T18:57:47"><th class="nick" style="background: #b86161">Tartarus</th><td class="text" style="color: #b86161">Ah, ok.&nbsp;&nbsp;Yeah, it's all a bit tricky but there's many examples.</td><td class="time"><a href="#t2021-07-20T18:57:47" class="time">18:57</a></td></tr>
<tr id="t2021-07-20T18:57:59"><th class="nick" style="background: #b86161">Tartarus</th><td class="text" style="color: #b86161">The hard/ugly part comes when you copy image A in to image B</td><td class="time"><a href="#t2021-07-20T18:57:59" class="time">18:57</a></td></tr>
<tr id="t2021-07-20T18:58:07"><th class="nick" style="background: #b86161">Tartarus</th><td class="text" style="color: #b86161">And that's more ugly than hard.</td><td class="time"><a href="#t2021-07-20T18:58:07" class="time">18:58</a></td></tr>
<tr id="t2021-07-20T18:58:25"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">I dont think I have to take it that far tho</td><td class="time"><a href="#t2021-07-20T18:58:25" class="time">18:58</a></td></tr>
<tr id="t2021-07-20T18:58:49"><th class="nick" style="background: #b86161">Tartarus</th><td class="text" style="color: #b86161">You do, it'll suck more than not to read the product-image.wks.xz in to U-Boot and write it out</td><td class="time"><a href="#t2021-07-20T18:58:49" class="time">18:58</a></td></tr>
<tr id="t2021-07-20T18:58:57"><th class="nick" style="background: #b86161">Tartarus</th><td class="text" style="color: #b86161">It's doable, yes, but you're better off not I bet.</td><td class="time"><a href="#t2021-07-20T18:58:57" class="time">18:58</a></td></tr>
<tr id="t2021-07-20T18:59:08"><th class="nick" style="background: #b86161">Tartarus</th><td class="text" style="color: #b86161">With my U-Boot custodian hat on.</td><td class="time"><a href="#t2021-07-20T18:59:08" class="time">18:59</a></td></tr>
<tr id="t2021-07-20T18:59:14"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">I just copy to what ever partion Im not booting the kernel from and then just tell uboot to boot from this partion the kernel got copied to</td><td class="time"><a href="#t2021-07-20T18:59:14" class="time">18:59</a></td></tr>
<tr id="t2021-07-20T18:59:43"><th class="nick" style="background: #b86161">Tartarus</th><td class="text" style="color: #b86161">You may want to explore using fastboot or similar, for flashing, too.</td><td class="time"><a href="#t2021-07-20T18:59:43" class="time">18:59</a></td></tr>
<tr id="t2021-07-20T18:59:52"><th class="nick" style="background: #b86161">Tartarus</th><td class="text" style="color: #b86161">Fire up U-Boot, then write the disk image that way.</td><td class="time"><a href="#t2021-07-20T18:59:52" class="time">18:59</a></td></tr>
<tr id="t2021-07-20T19:00:06"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">oh so like dd wont cut it?</td><td class="time"><a href="#t2021-07-20T19:00:06" class="time">19:00</a></td></tr>
<tr id="t2021-07-20T19:00:49"><th class="nick" style="background: #b86161">Tartarus</th><td class="text" style="color: #b86161">Well, dd in Linux? sure</td><td class="time"><a href="#t2021-07-20T19:00:49" class="time">19:00</a></td></tr>
<tr id="t2021-07-20T19:01:00"><th class="nick" style="background: #b86161">Tartarus</th><td class="text" style="color: #b86161">That's what you can easily automate, with an installer image</td><td class="time"><a href="#t2021-07-20T19:01:00" class="time">19:01</a></td></tr>
<tr id="t2021-07-20T19:01:10"><th class="nick" style="background: #b86161">Tartarus</th><td class="text" style="color: #b86161">There's in-tree examples for that today</td><td class="time"><a href="#t2021-07-20T19:01:10" class="time">19:01</a></td></tr>
<tr id="t2021-07-20T19:01:12"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">oh crap theres no uboot dd?</td><td class="time"><a href="#t2021-07-20T19:01:12" class="time">19:01</a></td></tr>
<tr id="t2021-07-20T19:01:27"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">for now I was even then when I get that uboot interupt on boot up</td><td class="time"><a href="#t2021-07-20T19:01:27" class="time">19:01</a></td></tr>
<tr id="t2021-07-20T19:01:31"><th class="nick" style="background: #b86161">Tartarus</th><td class="text" style="color: #b86161">There's not &quot;dd&quot; but there is writing, yes</td><td class="time"><a href="#t2021-07-20T19:01:31" class="time">19:01</a></td></tr>
<tr id="t2021-07-20T19:01:38"><th class="nick" style="background: #b86161">Tartarus</th><td class="text" style="color: #b86161">but you're limited by your amount of DDR</td><td class="time"><a href="#t2021-07-20T19:01:38" class="time">19:01</a></td></tr>
<tr id="t2021-07-20T19:01:58"><th class="nick" style="background: #b86161">Tartarus</th><td class="text" style="color: #b86161">using fastboot or ums to expose the disk / device to the Linux host is probably easier</td><td class="time"><a href="#t2021-07-20T19:01:58" class="time">19:01</a></td></tr>
<tr id="t2021-07-20T19:02:19"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">fastboot is a uboot utility?</td><td class="time"><a href="#t2021-07-20T19:02:19" class="time">19:02</a></td></tr>
<tr id="t2021-07-20T19:02:42"><th class="nick" style="background: #b86161">Tartarus</th><td class="text" style="color: #b86161">fastboot is a protocol supported in a lot of ways/places.</td><td class="time"><a href="#t2021-07-20T19:02:42" class="time">19:02</a></td></tr>
<tr id="t2021-07-20T19:02:52"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">how would that do things faster with the same amount of ddR?</td><td class="time"><a href="#t2021-07-20T19:02:52" class="time">19:02</a></td></tr>
<tr id="t2021-07-20T19:03:31"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">Tartarus: side note: in german &quot;fast&quot; means &quot;almost&quot;, which makes this thing named &quot;almost-boot&quot;, essentially ;)</td><td class="time"><a href="#t2021-07-20T19:03:31" class="time">19:03</a></td></tr>
<tr id="t2021-07-20T19:03:51"><th class="nick" style="background: #b86161">Tartarus</th><td class="text" style="color: #b86161">LetoThe2nd: and in turn, very accurate description of this ;)</td><td class="time"><a href="#t2021-07-20T19:03:51" class="time">19:03</a></td></tr>
<tr id="t2021-07-20T19:04:16"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">Tartarus: hi5</td><td class="time"><a href="#t2021-07-20T19:04:16" class="time">19:04</a></td></tr>
<tr id="t2021-07-20T19:04:49"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">Tartarus: you got a repo or something that I can start looking into. I start trying out JPEW's wic/wks</td><td class="time"><a href="#t2021-07-20T19:04:49" class="time">19:04</a></td></tr>
<tr id="t2021-07-20T19:06:33"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">LetoThe2nd: thanks for linking me to that distro, machines, images youtube the other day. I still dont know the best way to like include stuff on top of vendors machine/distro, but I got a lot of stuff out of my local.conf</td><td class="time"><a href="#t2021-07-20T19:06:33" class="time">19:06</a></td></tr>
<tr id="t2021-07-20T19:07:01"><th class="nick" style="background: #b86161">Tartarus</th><td class="text" style="color: #b86161">override: No, most of the time what I need is in meta-freeescale or meta-freescale-3rdparty</td><td class="time"><a href="#t2021-07-20T19:07:01" class="time">19:07</a></td></tr>
<tr id="t2021-07-20T19:07:03"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">override: have fun then.</td><td class="time"><a href="#t2021-07-20T19:07:03" class="time">19:07</a></td></tr>
<tr id="t2021-07-20T19:07:11"><th class="nick" style="background: #b86161">Tartarus</th><td class="text" style="color: #b86161">Have you checked meta-freescale-3rdparty for the boad you're using?</td><td class="time"><a href="#t2021-07-20T19:07:11" class="time">19:07</a></td></tr>
<tr id="t2021-07-20T19:08:42"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">no, ill make sure to look there</td><td class="time"><a href="#t2021-07-20T19:08:42" class="time">19:08</a></td></tr>
<tr id="t2021-07-20T19:08:49"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">they got some interesting wks files there?</td><td class="time"><a href="#t2021-07-20T19:08:49" class="time">19:08</a></td></tr>
<tr id="t2021-07-20T19:09:08"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">LetoThe@nd: what am I having fun with again?</td><td class="time"><a href="#t2021-07-20T19:09:08" class="time">19:09</a></td></tr>
<tr id="t2021-07-20T19:09:44"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">override: life, the universe and everything, hopefully.</td><td class="time"><a href="#t2021-07-20T19:09:44" class="time">19:09</a></td></tr>
<tr id="t2021-07-20T19:10:39"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">LetoThe2nd: got it. enjoying all that is the least of my worries. Just his wic stuff and all that keeps me worried.</td><td class="time"><a href="#t2021-07-20T19:10:39" class="time">19:10</a></td></tr>
<tr id="t2021-07-20T19:33:45"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">why am i seeing .wks files in my build directory?</td><td class="time"><a href="#t2021-07-20T19:33:45" class="time">19:33</a></td></tr>
<tr id="t2021-07-20T19:34:11"><td class="nickchange" colspan="2">*** florian_kc is now known as florian</td><td><a href="#t2021-07-20T19:34:11" class="time">19:34</a></td></tr>
<tr id="t2021-07-20T19:35:17"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">override: is your input file a .wks.in file?</td><td class="time"><a href="#t2021-07-20T19:35:17" class="time">19:35</a></td></tr>
<tr id="t2021-07-20T19:36:01"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">i have a feeling ... Im still not a hundred percent</td><td class="time"><a href="#t2021-07-20T19:36:01" class="time">19:36</a></td></tr>
<tr id="t2021-07-20T19:36:07"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">The code will do variable expansion on .wks.in files, so I *think* it writes out the final .wks (with the variables expanded) for reference</td><td class="time"><a href="#t2021-07-20T19:36:07" class="time">19:36</a></td></tr>
<tr id="t2021-07-20T19:37:29"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">im trying to see what .wks would come out of this recipe.. <a href="https://pastebin.ubuntu.com/p/6f8wgTwxTy/" rel="nofollow">https://pastebin.ubuntu.com/p/6f8wgTwxTy/</a></td><td class="time"><a href="#t2021-07-20T19:37:29" class="time">19:37</a></td></tr>
<tr id="t2021-07-20T19:37:59"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">well, its a bbclass to be precise</td><td class="time"><a href="#t2021-07-20T19:37:59" class="time">19:37</a></td></tr>
<tr id="t2021-07-20T19:38:50"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">or more like what /wks file will this class be referring to</td><td class="time"><a href="#t2021-07-20T19:38:50" class="time">19:38</a></td></tr>
<tr id="t2021-07-20T19:42:39"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">override: easiest way to tell is to do `bitbake -e &lt;image&gt; | grep ^WKS_FILE`</td><td class="time"><a href="#t2021-07-20T19:42:39" class="time">19:42</a></td></tr>
<tr id="t2021-07-20T19:44:22"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">nice, forgot about that</td><td class="time"><a href="#t2021-07-20T19:44:22" class="time">19:44</a></td></tr>
<tr id="t2021-07-20T19:53:10"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">JPEW: so I can find the first wks.in but the second one doesnt seem to exist. is that just some vraible expansion or something going on?</td><td class="time"><a href="#t2021-07-20T19:53:10" class="time">19:53</a></td></tr>
<tr id="t2021-07-20T19:53:17"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">WKS_FILES=&quot;imx-imx-boot-bootpart.wks.in Reference-Minimal-Image.wks&quot;</td><td class="time"><a href="#t2021-07-20T19:53:17" class="time">19:53</a></td></tr>
<tr id="t2021-07-20T19:53:29"><th class="nick" style="background: #a25555">Xagen</th><td class="text" style="color: #a25555">is there a way, through bitbake, to show what a `do_populate_sdk` for a given image would think is available to be added to it?</td><td class="time"><a href="#t2021-07-20T19:53:29" class="time">19:53</a></td></tr>
<tr id="t2021-07-20T19:54:14"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">override: WKS_FILES is a *little* annoying because it stops as soon as it finds one</td><td class="time"><a href="#t2021-07-20T19:54:14" class="time">19:54</a></td></tr>
<tr id="t2021-07-20T19:54:34"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">It doesn't generate one of each as you might expect :)</td><td class="time"><a href="#t2021-07-20T19:54:34" class="time">19:54</a></td></tr>
<tr id="t2021-07-20T19:54:59"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">but why is it listing Reference-Minimal-Image.wks</td><td class="time"><a href="#t2021-07-20T19:54:59" class="time">19:54</a></td></tr>
<tr id="t2021-07-20T19:55:11"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">that file doesnt seem to exist anywhere</td><td class="time"><a href="#t2021-07-20T19:55:11" class="time">19:55</a></td></tr>
<tr id="t2021-07-20T19:55:17"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">override: Someone added it.... `bitbake -e` can tell you who added it</td><td class="time"><a href="#t2021-07-20T19:55:17" class="time">19:55</a></td></tr>
<tr id="t2021-07-20T19:55:29"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">override: Ya, I'm not sure?</td><td class="time"><a href="#t2021-07-20T19:55:29" class="time">19:55</a></td></tr>
<tr id="t2021-07-20T19:57:23"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">JPEW: so like bitbake -e | grep Reference-Minimal-Image should work?</td><td class="time"><a href="#t2021-07-20T19:57:23" class="time">19:57</a></td></tr>
<tr id="t2021-07-20T19:57:53"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">override: `bitbake -e &lt;image&gt; &gt; env.txt` then look through the file</td><td class="time"><a href="#t2021-07-20T19:57:53" class="time">19:57</a></td></tr>
<tr id="t2021-07-20T19:58:17"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">It will give the &quot;history&quot; of the variables in a comment above each one so you can see how each was modified</td><td class="time"><a href="#t2021-07-20T19:58:17" class="time">19:58</a></td></tr>
<tr id="t2021-07-20T19:59:26"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">JPEW: Im getting ERROR: Only one target can be used with the --environment option.</td><td class="time"><a href="#t2021-07-20T19:59:26" class="time">19:59</a></td></tr>
<tr id="t2021-07-20T19:59:43"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">when I try something like bitbake -e tdx-reference-minimal-image env.txt</td><td class="time"><a href="#t2021-07-20T19:59:43" class="time">19:59</a></td></tr>
<tr id="t2021-07-20T20:00:13"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">Right, I usually redirect to a file (`&gt; env.txt`) because it is a lot of outputy</td><td class="time"><a href="#t2021-07-20T20:00:13" class="time">20:00</a></td></tr>
<tr id="t2021-07-20T20:00:27"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">ahh ok.. thanks</td><td class="time"><a href="#t2021-07-20T20:00:27" class="time">20:00</a></td></tr>
<tr id="t2021-07-20T20:00:33"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">I can see why that might be confusing with the `&lt;&gt;` I put around `image`</td><td class="time"><a href="#t2021-07-20T20:00:33" class="time">20:00</a></td></tr>
<tr id="t2021-07-20T20:13:59"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">so wis is an image type or a file system type?</td><td class="time"><a href="#t2021-07-20T20:13:59" class="time">20:13</a></td></tr>
<tr id="t2021-07-20T20:20:20"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">window 20</td><td class="time"><a href="#t2021-07-20T20:20:20" class="time">20:20</a></td></tr>
<tr id="t2021-07-20T20:33:12"><th class="nick" style="background: #62bb62">Nullcast</th><td class="text" style="color: #62bb62">Hi all, This may be more of an opkg question but that's a Yocto repo so... What's the minimum set of options for installing packages into an offline root tree that's opkg-based?&nbsp;&nbsp;Because --offline-root and --conf still gives me a setup that doesn't see existing packages.</td><td class="time"><a href="#t2021-07-20T20:33:12" class="time">20:33</a></td></tr>
<tr id="t2021-07-20T20:36:50"><th class="nick" style="background: #62bb62">Nullcast</th><td class="text" style="color: #62bb62">Opkg version is 0.4.1 for ref</td><td class="time"><a href="#t2021-07-20T20:36:50" class="time">20:36</a></td></tr>
<tr id="t2021-07-20T20:46:18"><td class="nickchange" colspan="2">*** camus1 is now known as camus</td><td><a href="#t2021-07-20T20:46:18" class="time">20:46</a></td></tr>
<tr id="t2021-07-20T20:54:40"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">is there an image only equivalent for IMAGE_FSTYPES, or am I just terribly confused?</td><td class="time"><a href="#t2021-07-20T20:54:40" class="time">20:54</a></td></tr>
<tr id="t2021-07-20T20:55:09"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">something with just the kernel and not a complete file system image for istance</td><td class="time"><a href="#t2021-07-20T20:55:09" class="time">20:55</a></td></tr>
<tr id="t2021-07-20T20:55:11"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">instance*</td><td class="time"><a href="#t2021-07-20T20:55:11" class="time">20:55</a></td></tr>
<tr id="t2021-07-20T20:59:31"><th class="nick" style="background: #6464bf">kergoth</th><td class="text" style="color: #6464bf">override: &quot;image only&quot;? i don't know what you mean. an image fs type can be a rootfs type, i.e. ext4, or a disk image, i.e. wic. if all you want is a kernel, don't build an image recipe at all, just bitbake virtual/kernel and use the kernel image in tmp*/deploy/images/</td><td class="time"><a href="#t2021-07-20T20:59:31" class="time">20:59</a></td></tr>
<tr id="t2021-07-20T21:03:19"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">kergoth: whats the difference between a rootfs and a disk image?</td><td class="time"><a href="#t2021-07-20T21:03:19" class="time">21:03</a></td></tr>
<tr id="t2021-07-20T21:10:41"><th class="nick" style="background: #62bb62">Nullcast</th><td class="text" style="color: #62bb62">A rootfs is an image(or tree) of / with your standard packages installed on it?&nbsp;&nbsp;It should be a (mostly) complete system.</td><td class="time"><a href="#t2021-07-20T21:10:41" class="time">21:10</a></td></tr>
<tr id="t2021-07-20T21:14:38"><th class="nick" style="background: #6464bf">kergoth</th><td class="text" style="color: #6464bf">a rootfs is just the root filesystem only, no partition table, etc.</td><td class="time"><a href="#t2021-07-20T21:14:38" class="time">21:14</a></td></tr>
<tr id="t2021-07-20T21:28:38"><th class="nick" style="background: #97974f">override</th><td class="text" style="color: #97974f">kergoth, a disk image can have multiple partitions?</td><td class="time"><a href="#t2021-07-20T21:28:38" class="time">21:28</a></td></tr>
<tr id="t2021-07-20T21:33:41"><th class="nick" style="background: #c3c366">RP</th><td class="text" style="color: #c3c366">kergoth: any thoughts on <a href="http://git.yoctoproject.org/cgit.cgi/poky-contrib/commit/?h=rpurdie/t222&amp;id=9aa43a88d9ad9178f8ec4e5cec56662352a72c37" rel="nofollow">http://git.yoctoproject.org/cgit.cgi/poky-contrib/commit/?h=rpurdie/t222&amp;id=9aa43a88d9ad9178f8ec4e5cec56662352a72c37</a> ?</td><td class="time"><a href="#t2021-07-20T21:33:41" class="time">21:33</a></td></tr>
<tr id="t2021-07-20T21:35:49"><th class="nick" style="background: #62bb62">Nullcast</th><td class="text" style="color: #62bb62">I think I found my problem:&nbsp;&nbsp;The copy of opkg on my build server is one I added to my SDK.&nbsp;&nbsp;Apparently it's writing status in a local copy of the SDK sysroot path&nbsp;&nbsp;for /var/lib/opkg and I'm not sure which path option overrides that.g/</td><td class="time"><a href="#t2021-07-20T21:35:49" class="time">21:35</a></td></tr>
<tr id="t2021-07-20T21:43:22"><th class="nick" style="background: #b86161">Tartarus</th><td class="text" style="color: #b86161">So, uh, has anyone discussed rpm+zstd in general recently?&nbsp;&nbsp;I ask since I just needed to whack in a closed source rpm that was also using zstd on the inside, and rpm2cpio.sh blew up badly, and then I think since our rpm-native doesn't know zstd I had to drop in zstd -d in the pipe for do_install.</td><td class="time"><a href="#t2021-07-20T21:43:22" class="time">21:43</a></td></tr>
<tr id="t2021-07-20T21:43:32"><th class="nick" style="background: #b86161">Tartarus</th><td class="text" style="color: #b86161">Wondering what direction I should take to deal with this if at all, upstream :)</td><td class="time"><a href="#t2021-07-20T21:43:32" class="time">21:43</a></td></tr>
<tr id="t2021-07-20T21:43:48"><th class="nick" style="background: #b86161">Tartarus</th><td class="text" style="color: #b86161">(PACKAGECONFIG zstd to rpm?)</td><td class="time"><a href="#t2021-07-20T21:43:48" class="time">21:43</a></td></tr>
<tr id="t2021-07-20T21:44:08"><th class="nick" style="background: #539e9e">JPEW</th><td class="text" style="color: #539e9e">Tartarus: Someone was looking into it, I do not recall who unfortunatley</td><td class="time"><a href="#t2021-07-20T21:44:08" class="time">21:44</a></td></tr>
<tr id="t2021-07-20T21:44:32"><th class="nick" style="background: #b86161">Tartarus</th><td class="text" style="color: #b86161">I'll keep an eye on the ML then.&nbsp;&nbsp;Or if they don't show up in a while, feel free to poke me then</td><td class="time"><a href="#t2021-07-20T21:44:32" class="time">21:44</a></td></tr>
<tr id="t2021-07-20T21:44:51"><th class="nick" style="background: #c3c366">RP</th><td class="text" style="color: #c3c366">JPEW, Tartarus: was kanavin</td><td class="time"><a href="#t2021-07-20T21:44:51" class="time">21:44</a></td></tr>
<tr id="t2021-07-20T21:45:02"><th class="nick" style="background: #b86161">Tartarus</th><td class="text" style="color: #b86161">Ah, ok, so not a drive-by</td><td class="time"><a href="#t2021-07-20T21:45:02" class="time">21:45</a></td></tr>
<tr id="t2021-07-20T21:45:12"><th class="nick" style="background: #c3c366">RP</th><td class="text" style="color: #c3c366">he is on holiday for a bit</td><td class="time"><a href="#t2021-07-20T21:45:12" class="time">21:45</a></td></tr>
<tr id="t2021-07-20T21:45:39"><th class="nick" style="background: #c3c366">RP</th><td class="text" style="color: #c3c366">Tartarus: basically I think it is due in the next release at which point we might try it again. It was unstable until now</td><td class="time"><a href="#t2021-07-20T21:45:39" class="time">21:45</a></td></tr>
<tr id="t2021-07-20T21:45:47"><th class="nick" style="background: #c3c366">RP</th><td class="text" style="color: #c3c366">our plan is to switch</td><td class="time"><a href="#t2021-07-20T21:45:47" class="time">21:45</a></td></tr>
<tr id="t2021-07-20T21:45:50"><th class="nick" style="background: #b86161">Tartarus</th><td class="text" style="color: #b86161">Customer project is dunfell for now, might move up to next LTS</td><td class="time"><a href="#t2021-07-20T21:45:50" class="time">21:45</a></td></tr>
<tr id="t2021-07-20T21:46:22"><th class="nick" style="background: #b86161">Tartarus</th><td class="text" style="color: #b86161">Ah, OK.&nbsp;&nbsp;So this particular bit of closed source stuff is ahead of the RPM recommended features anyhow?</td><td class="time"><a href="#t2021-07-20T21:46:22" class="time">21:46</a></td></tr>
<tr id="t2021-07-20T21:46:32"><th class="nick" style="background: #c3c366">RP</th><td class="text" style="color: #c3c366">Tartarus: I think so</td><td class="time"><a href="#t2021-07-20T21:46:32" class="time">21:46</a></td></tr>
<tr id="t2021-07-20T21:46:55"><th class="nick" style="background: #b86161">Tartarus</th><td class="text" style="color: #b86161">Makes a bit more sense then, ok</td><td class="time"><a href="#t2021-07-20T21:46:55" class="time">21:46</a></td></tr>
<tr id="t2021-07-20T21:46:57"><th class="nick" style="background: #c3c366">RP</th><td class="text" style="color: #c3c366">Tartarus: I know kanavin did try it and it was all a bit too much of an experiment last time we looked so we were waiting</td><td class="time"><a href="#t2021-07-20T21:46:57" class="time">21:46</a></td></tr>
<tr id="t2021-07-20T21:59:13-2"><td class="nickchange" colspan="2">*** camus1 is now known as camus</td><td><a href="#t2021-07-20T21:59:13-2" class="time">21:59</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2021-07-19.log.html">&#171; Monday, 2021-07-19</a> <a href="index.html">Index</a> <a href="%23yocto.2021-07-21.log.html">Wednesday, 2021-07-21 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.17.2 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="https://mg.pov.lt/irclog2html/">https://mg.pov.lt/irclog2html/</a>!</p>
</div>
</body>
</html>
