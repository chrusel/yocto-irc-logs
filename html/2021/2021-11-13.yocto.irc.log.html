<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Saturday, 2021-11-13</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.17.2 by Marius Gedminas" />
  <meta name="version" content="2.17.2 - 2019-04-23" />
</head>
<body>
<h1>Saturday, 2021-11-13</h1>
<div class="navigation"> <a href="%23yocto.2021-11-12.log.html">&#171; Friday, 2021-11-12</a> <a href="index.html">Index</a> <a href="%23yocto.2021-11-14.log.html">Sunday, 2021-11-14 &#187;</a> </div>
<table class="irclog">
<tr id="t2021-11-13T01:07:17"><th class="nick" style="background: #407a40">fray</th><td class="text" style="color: #407a40">BTW reproduced my fetch problem from this morning.. no idea why it's happening again.. but at least I can keep digging into it</td><td class="time"><a href="#t2021-11-13T01:07:17" class="time">01:07</a></td></tr>
<tr id="t2021-11-13T01:11:15"><th class="nick" style="background: #407a40">fray</th><td class="text" style="color: #407a40">well confirmed.. it is a mirrors issue.. enters try_mirrors and doesn't seem to exit it</td><td class="time"><a href="#t2021-11-13T01:11:15" class="time">01:11</a></td></tr>
<tr id="t2021-11-13T01:37:01"><th class="nick" style="background: #407a40">fray</th><td class="text" style="color: #407a40">found it..&nbsp;&nbsp;ENAMETOOLONG in bb.utils.py triggers an endless loop</td><td class="time"><a href="#t2021-11-13T01:37:01" class="time">01:37</a></td></tr>
<tr id="t2021-11-13T04:21:31-2"><td class="nickchange" colspan="2">*** jmiehe1 is now known as jmiehe</td><td><a href="#t2021-11-13T04:21:31-2" class="time">04:21</a></td></tr>
<tr id="t2021-11-13T08:26:26"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">fray: someone was going to send me a patch related to that but never did send the v2 :(</td><td class="time"><a href="#t2021-11-13T08:26:26" class="time">08:26</a></td></tr>
<tr id="t2021-11-13T13:08:47"><td class="part" colspan="2">*** hogspeed[m] &lt;hogspeed[m]!~hogspeedm@2001:470:69fc:105::1:1e2f&gt; has left #yocto</td><td><a href="#t2021-11-13T13:08:47" class="time">13:08</a></td></tr>
<tr id="t2021-11-13T16:13:51"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">jaskij[m]: leaving separate from bitbake seems reasonable to me, I'd be happy with a standalone tool for this</td><td class="time"><a href="#t2021-11-13T16:13:51" class="time">16:13</a></td></tr>
<tr id="t2021-11-13T16:37:25"><th class="nick" style="background: #818144">jaskij[m]</th><td class="text" style="color: #818144">RP: Cool. I'm still developing this, so once I feel it's finished I'll write here again.</td><td class="time"><a href="#t2021-11-13T16:37:25" class="time">16:37</a></td></tr>
<tr id="t2021-11-13T16:45:22"><th class="nick" style="background: #818144">jaskij[m]</th><td class="text" style="color: #818144">sidenote: I tried using PyDot to get pure Python parsing (as opposed to calling libgraphviz through a wrapper). Didn't work. The parse times were too long to consider.</td><td class="time"><a href="#t2021-11-13T16:45:22" class="time">16:45</a></td></tr>
<tr id="t2021-11-13T17:33:39"><th class="nick" style="background: #407a40">fray</th><td class="text" style="color: #407a40">RP if you are still here.. I found two issues.. the lock one (which I've got a patch for), and also there are two commits in the mirror code that cause the mirror to go _nuts_ in my config..&nbsp;&nbsp;Why, I have no idea..</td><td class="time"><a href="#t2021-11-13T17:33:39" class="time">17:33</a></td></tr>
<tr id="t2021-11-13T17:33:55"><th class="nick" style="background: #407a40">fray</th><td class="text" style="color: #407a40">if I revert the two commits then suddenly it all works, but I'm sure the bug they fixed also comes back</td><td class="time"><a href="#t2021-11-13T17:33:55" class="time">17:33</a></td></tr>
<tr id="t2021-11-13T17:34:12"><th class="nick" style="background: #407a40">fray</th><td class="text" style="color: #407a40">Was going to work on the patch in a few minutes and get them sent to bitbake-devel for discussion</td><td class="time"><a href="#t2021-11-13T17:34:12" class="time">17:34</a></td></tr>
<tr id="t2021-11-13T17:34:29"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">fray: which two patches?</td><td class="time"><a href="#t2021-11-13T17:34:29" class="time">17:34</a></td></tr>
<tr id="t2021-11-13T17:36:05"><th class="nick" style="background: #407a40">fray</th><td class="text" style="color: #407a40">sec.. it's on my work VPN side, so it'll be a minute for me to find it</td><td class="time"><a href="#t2021-11-13T17:36:05" class="time">17:36</a></td></tr>
<tr id="t2021-11-13T17:36:27"><th class="nick" style="background: #407a40">fray</th><td class="text" style="color: #407a40">(poky commits)</td><td class="time"><a href="#t2021-11-13T17:36:27" class="time">17:36</a></td></tr>
<tr id="t2021-11-13T17:36:36"><th class="nick" style="background: #407a40">fray</th><td class="text" style="color: #407a40">fb2300c144bde</td><td class="time"><a href="#t2021-11-13T17:36:36" class="time">17:36</a></td></tr>
<tr id="t2021-11-13T17:36:51"><th class="nick" style="background: #407a40">fray</th><td class="text" style="color: #407a40">4939a419823</td><td class="time"><a href="#t2021-11-13T17:36:51" class="time">17:36</a></td></tr>
<tr id="t2021-11-13T17:36:58"><th class="nick" style="background: #407a40">fray</th><td class="text" style="color: #407a40">remove those two and it fixes the issue..</td><td class="time"><a href="#t2021-11-13T17:36:58" class="time">17:36</a></td></tr>
<tr id="t2021-11-13T17:37:38"><th class="nick" style="background: #407a40">fray</th><td class="text" style="color: #407a40">so what I was seeing was in the mirror config, it decided to use a filename of: (looking it up in the log)</td><td class="time"><a href="#t2021-11-13T17:37:38" class="time">17:37</a></td></tr>
<tr id="t2021-11-13T17:38:07"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">fray: I thought it would be those somehow. The first one you meantion was meant to fix the second</td><td class="time"><a href="#t2021-11-13T17:38:07" class="time">17:38</a></td></tr>
<tr id="t2021-11-13T17:39:29"><th class="nick" style="background: #407a40">fray</th><td class="text" style="color: #407a40">yup</td><td class="time"><a href="#t2021-11-13T17:39:29" class="time">17:39</a></td></tr>
<tr id="t2021-11-13T17:40:14"><th class="nick" style="background: #407a40">fray</th><td class="text" style="color: #407a40"><a href="https://pastebin.com/pvPGSBF4" rel="nofollow">https://pastebin.com/pvPGSBF4</a></td><td class="time"><a href="#t2021-11-13T17:40:14" class="time">17:40</a></td></tr>
<tr id="t2021-11-13T17:40:45"><th class="nick" style="background: #407a40">fray</th><td class="text" style="color: #407a40">it takes a url that has already been converted from &quot;git&quot; syntax to mirror syntax. then mangles the crap out of it..</td><td class="time"><a href="#t2021-11-13T17:40:45" class="time">17:40</a></td></tr>
<tr id="t2021-11-13T17:41:17"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">fray: that does look somewhat entertaining :/</td><td class="time"><a href="#t2021-11-13T17:41:17" class="time">17:41</a></td></tr>
<tr id="t2021-11-13T17:41:36"><th class="nick" style="background: #407a40">fray</th><td class="text" style="color: #407a40">What it seems to be doing is for each letter in the /git2_git.qemu.org.git.seabios.git..tar.gz it basically grabs a letter from that string and inserts it</td><td class="time"><a href="#t2021-11-13T17:41:36" class="time">17:41</a></td></tr>
<tr id="t2021-11-13T17:41:41"><th class="nick" style="background: #407a40">fray</th><td class="text" style="color: #407a40">repeat for EACH letter..</td><td class="time"><a href="#t2021-11-13T17:41:41" class="time">17:41</a></td></tr>
<tr id="t2021-11-13T17:42:08"><th class="nick" style="background: #407a40">fray</th><td class="text" style="color: #407a40">so if you take that string and do a sed s/git2_git.qemu.org.git.seabios.git..tar.gz//g on it.. you get a BLANK result</td><td class="time"><a href="#t2021-11-13T17:42:08" class="time">17:42</a></td></tr>
<tr id="t2021-11-13T17:42:22"><th class="nick" style="background: #407a40">fray</th><td class="text" style="color: #407a40">so ya.. that is what is causing the ENAMETOOLONG</td><td class="time"><a href="#t2021-11-13T17:42:22" class="time">17:42</a></td></tr>
<tr id="t2021-11-13T17:42:26"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">fray: its obviously looping uncontrolled. I don't have ideas offhand other than diving in and trying to figure out what the code is doing so a mailing list post and heopfully a way we can replicate would be good</td><td class="time"><a href="#t2021-11-13T17:42:26" class="time">17:42</a></td></tr>
<tr id="t2021-11-13T17:42:38"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">right, strings like that would just overflow the filenames</td><td class="time"><a href="#t2021-11-13T17:42:38" class="time">17:42</a></td></tr>
<tr id="t2021-11-13T17:42:41"><th class="nick" style="background: #407a40">fray</th><td class="text" style="color: #407a40">but that too long is a problem that also should be fixed.. I should have a patch to the list in about 10-15 minutes for that</td><td class="time"><a href="#t2021-11-13T17:42:41" class="time">17:42</a></td></tr>
<tr id="t2021-11-13T17:42:49"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">coll</td><td class="time"><a href="#t2021-11-13T17:42:49" class="time">17:42</a></td></tr>
<tr id="t2021-11-13T17:42:50"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">cool</td><td class="time"><a href="#t2021-11-13T17:42:50" class="time">17:42</a></td></tr>
<tr id="t2021-11-13T17:43:17"><th class="nick" style="background: #407a40">fray</th><td class="text" style="color: #407a40">ONCE I found/fixed that.. it was easy to realize it was the mirror url stuff that was the problem and then just bisect from what changed in gatesgarth (where I know this works)</td><td class="time"><a href="#t2021-11-13T17:43:17" class="time">17:43</a></td></tr>
<tr id="t2021-11-13T17:43:35"><th class="nick" style="background: #407a40">fray</th><td class="text" style="color: #407a40">the bad part of this all, it works &quot;sometimes&quot;.. i.e. if I do a bitbake -c cleanall on this recipe, it will start working.. I have NO IDEA why</td><td class="time"><a href="#t2021-11-13T17:43:35" class="time">17:43</a></td></tr>
<tr id="t2021-11-13T17:44:15"><th class="nick" style="background: #407a40">fray</th><td class="text" style="color: #407a40">it seems to only fail on a fresh build, which likely means it may even be task order related (again, I don't see any reason for that to be true, but thats the behavior I've seen)</td><td class="time"><a href="#t2021-11-13T17:44:15" class="time">17:44</a></td></tr>
<tr id="t2021-11-13T17:44:59"><th class="nick" style="background: #407a40">fray</th><td class="text" style="color: #407a40">Do you need me to send a report on those two patches to bitbake-devel?</td><td class="time"><a href="#t2021-11-13T17:44:59" class="time">17:44</a></td></tr>
<tr id="t2021-11-13T17:45:03"><th class="nick" style="background: #407a40">fray</th><td class="text" style="color: #407a40">need/want</td><td class="time"><a href="#t2021-11-13T17:45:03" class="time">17:45</a></td></tr>
<tr id="t2021-11-13T17:56:16"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">fray: yes please. Is there a way I could reproduce?</td><td class="time"><a href="#t2021-11-13T17:56:16" class="time">17:56</a></td></tr>
<tr id="t2021-11-13T17:58:27"><th class="nick" style="background: #407a40">fray</th><td class="text" style="color: #407a40">I'm not sure.. that is the biggest issue right now.. I'll see if we have stuff that is public that might be able to</td><td class="time"><a href="#t2021-11-13T17:58:27" class="time">17:58</a></td></tr>
<tr id="t2021-11-13T17:58:40"><th class="nick" style="background: #407a40">fray</th><td class="text" style="color: #407a40">(we just pushed a bunch of preliminary honister workt o the public, so there is finally a chance for it)</td><td class="time"><a href="#t2021-11-13T17:58:40" class="time">17:58</a></td></tr>
<tr id="t2021-11-13T17:59:23"><th class="nick" style="background: #407a40">fray</th><td class="text" style="color: #407a40">ok name too long sent.. if you get too copied I apologize in advance.. I've got a mail config issue (no working reverse DNS from my ISP, so sometimes the mail stops, sometimes it doesn't)</td><td class="time"><a href="#t2021-11-13T17:59:23" class="time">17:59</a></td></tr>
<tr id="t2021-11-13T17:59:35"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">fray: for the long lockfile name, I think we cna just truncate it to fit FWIW</td><td class="time"><a href="#t2021-11-13T17:59:35" class="time">17:59</a></td></tr>
<tr id="t2021-11-13T18:00:06"><th class="nick" style="background: #407a40">fray</th><td class="text" style="color: #407a40">I thought about that.. but I'm inclined to just fail.. and if it becomes a real-world problem, THEN we can truncate it</td><td class="time"><a href="#t2021-11-13T18:00:06" class="time">18:00</a></td></tr>
<tr id="t2021-11-13T18:00:19"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">fray: it is a real world issue elsewhere :/</td><td class="time"><a href="#t2021-11-13T18:00:19" class="time">18:00</a></td></tr>
<tr id="t2021-11-13T18:00:23"><th class="nick" style="background: #407a40">fray</th><td class="text" style="color: #407a40">up to this point, the code has been the way it's been since 2017 or before.. so I don't think anyone is really going to care</td><td class="time"><a href="#t2021-11-13T18:00:23" class="time">18:00</a></td></tr>
<tr id="t2021-11-13T18:00:26"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">hence the previous discussion</td><td class="time"><a href="#t2021-11-13T18:00:26" class="time">18:00</a></td></tr>
<tr id="t2021-11-13T18:00:44"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">I can try and sort something out</td><td class="time"><a href="#t2021-11-13T18:00:44" class="time">18:00</a></td></tr>
<tr id="t2021-11-13T18:01:02"><th class="nick" style="background: #407a40">fray</th><td class="text" style="color: #407a40">the other places (like sstate-cache) we've always said the caller needs to figure out the truncation strategy.. so thats what I did here.. left it to the caller..</td><td class="time"><a href="#t2021-11-13T18:01:02" class="time">18:01</a></td></tr>
<tr id="t2021-11-13T18:01:18"><th class="nick" style="background: #407a40">fray</th><td class="text" style="color: #407a40">might be cleaner if we can except out way back out.. but I followed ht example of the 'can't write to the disk'</td><td class="time"><a href="#t2021-11-13T18:01:18" class="time">18:01</a></td></tr>
<tr id="t2021-11-13T18:01:39"><th class="nick" style="background: #407a40">fray</th><td class="text" style="color: #407a40">anyway, that was my thought process here</td><td class="time"><a href="#t2021-11-13T18:01:39" class="time">18:01</a></td></tr>
<tr id="t2021-11-13T18:02:43"><th class="nick" style="background: #407a40">fray</th><td class="text" style="color: #407a40">lol got an alert &quot;motion detected at your front door&quot;.. go to the camera, don't see anyone.. replay.. squirrel running with a walnut full speed past my front door..</td><td class="time"><a href="#t2021-11-13T18:02:43" class="time">18:02</a></td></tr>
<tr id="t2021-11-13T18:04:43"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">fray: sstate is a bit different to this though and the consequences of lock overlap aren't that bad</td><td class="time"><a href="#t2021-11-13T18:04:43" class="time">18:04</a></td></tr>
<tr id="t2021-11-13T18:05:20"><th class="nick" style="background: #42427e">RP</th><td class="text" style="color: #42427e">fray: I get a lot of motion detection from raindrops rolling on camera domes :)</td><td class="time"><a href="#t2021-11-13T18:05:20" class="time">18:05</a></td></tr>
<tr id="t2021-11-13T18:10:46"><th class="nick" style="background: #407a40">fray</th><td class="text" style="color: #407a40">ok.. email sent to bitbake-devel with details on the mirror stuff.. I'll spend a bit to see if I can reproduce it, but my regular build machine is offline.. so we'll see if I can</td><td class="time"><a href="#t2021-11-13T18:10:46" class="time">18:10</a></td></tr>
<tr id="t2021-11-13T18:11:28"><th class="nick" style="background: #407a40">fray</th><td class="text" style="color: #407a40">All of my other cameras I have &quot;motion&quot; detection off, but I do have &quot;object&quot; detection on.&nbsp;&nbsp;It's pretty good for filtering out squirrels, while good at telling me someone is in my driveway (either by vehicle or walking)</td><td class="time"><a href="#t2021-11-13T18:11:28" class="time">18:11</a></td></tr>
<tr id="t2021-11-13T18:49:37"><th class="nick" style="background: #407a40">fray</th><td class="text" style="color: #407a40">RP got you a reproducer.. it's a bit sketchy, but should give you a chance to reproduce it..</td><td class="time"><a href="#t2021-11-13T18:49:37" class="time">18:49</a></td></tr>
<tr id="t2021-11-13T18:53:08"><th class="nick" style="background: #407a40">fray</th><td class="text" style="color: #407a40">ok steps have been sent</td><td class="time"><a href="#t2021-11-13T18:53:08" class="time">18:53</a></td></tr>
<tr id="t2021-11-13T20:27:23"><td class="nickchange" colspan="2">*** florian_kc is now known as florian</td><td><a href="#t2021-11-13T20:27:23" class="time">20:27</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2021-11-12.log.html">&#171; Friday, 2021-11-12</a> <a href="index.html">Index</a> <a href="%23yocto.2021-11-14.log.html">Sunday, 2021-11-14 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.17.2 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="https://mg.pov.lt/irclog2html/">https://mg.pov.lt/irclog2html/</a>!</p>
</div>
</body>
</html>
