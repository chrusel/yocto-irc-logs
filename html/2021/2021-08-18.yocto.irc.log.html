<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Wednesday, 2021-08-18</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.17.2 by Marius Gedminas" />
  <meta name="version" content="2.17.2 - 2019-04-23" />
</head>
<body>
<h1>Wednesday, 2021-08-18</h1>
<div class="navigation"> <a href="%23yocto.2021-08-17.log.html">&#171; Tuesday, 2021-08-17</a> <a href="index.html">Index</a> <a href="%23yocto.2021-08-19.log.html">Thursday, 2021-08-19 &#187;</a> </div>
<table class="irclog">
<tr id="t2021-08-18T00:00:33"><th class="nick" style="background: #407a40">khem</th><td class="text" style="color: #407a40">alimon:&nbsp;&nbsp;I see, I think some packaging files are different perhaps. We could move it to meta-oe dynamic layers perhaps would you mind creating a patch ?</td><td class="time"><a href="#t2021-08-18T00:00:33" class="time">00:00</a></td></tr>
<tr id="t2021-08-18T06:43:37"><th class="nick" style="background: #42427e">mihai</th><td class="text" style="color: #42427e">yo</td><td class="time"><a href="#t2021-08-18T06:43:37" class="time">06:43</a></td></tr>
<tr id="t2021-08-18T06:50:02"><th class="nick" style="background: #818144">cocoJoe</th><td class="text" style="color: #818144">good morning</td><td class="time"><a href="#t2021-08-18T06:50:02" class="time">06:50</a></td></tr>
<tr id="t2021-08-18T08:54:08"><th class="nick" style="background: #854685">lukma</th><td class="text" style="color: #854685">Dear Community, I do have a strange question :-)</td><td class="time"><a href="#t2021-08-18T08:54:08" class="time">08:54</a></td></tr>
<tr id="t2021-08-18T08:54:21"><th class="nick" style="background: #854685">lukma</th><td class="text" style="color: #854685">Normally I can use FOO:remove = &quot;bar&quot;</td><td class="time"><a href="#t2021-08-18T08:54:21" class="time">08:54</a></td></tr>
<tr id="t2021-08-18T08:54:45"><th class="nick" style="background: #854685">lukma</th><td class="text" style="color: #854685">but what if I do have the _bbappend file which inherites FOO with _many_ set values</td><td class="time"><a href="#t2021-08-18T08:54:45" class="time">08:54</a></td></tr>
<tr id="t2021-08-18T08:55:02"><th class="nick" style="background: #854685">lukma</th><td class="text" style="color: #854685">I need to remove the all and then set a few new ones</td><td class="time"><a href="#t2021-08-18T08:55:02" class="time">08:55</a></td></tr>
<tr id="t2021-08-18T08:55:17"><th class="nick" style="background: #854685">lukma</th><td class="text" style="color: #854685">I can do it with bitbake -e recipe | grep ^FOO</td><td class="time"><a href="#t2021-08-18T08:55:17" class="time">08:55</a></td></tr>
<tr id="t2021-08-18T08:55:34"><th class="nick" style="background: #854685">lukma</th><td class="text" style="color: #854685">and then manually call FOO:remove = on the result</td><td class="time"><a href="#t2021-08-18T08:55:34" class="time">08:55</a></td></tr>
<tr id="t2021-08-18T08:55:52"><th class="nick" style="background: #854685">lukma</th><td class="text" style="color: #854685">but I wondering if there is any better (i.e. more elegant way) to do it ?</td><td class="time"><a href="#t2021-08-18T08:55:52" class="time">08:55</a></td></tr>
<tr id="t2021-08-18T09:01:33"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">lukma: anonymous python and using setVar will reset the variable</td><td class="time"><a href="#t2021-08-18T09:01:33" class="time">09:01</a></td></tr>
<tr id="t2021-08-18T09:06:59"><th class="nick" style="background: #854685">lukma</th><td class="text" style="color: #854685">RP: Thanks :-)</td><td class="time"><a href="#t2021-08-18T09:06:59" class="time">09:06</a></td></tr>
<tr id="t2021-08-18T09:11:33"><th class="nick" style="background: #854685">lukma</th><td class="text" style="color: #854685">RP: I've found on the Internet that _anonymous is called after the recipe is parsed</td><td class="time"><a href="#t2021-08-18T09:11:33" class="time">09:11</a></td></tr>
<tr id="t2021-08-18T09:11:59"><th class="nick" style="background: #854685">lukma</th><td class="text" style="color: #854685">is it called before or after the bbappend is appended?</td><td class="time"><a href="#t2021-08-18T09:11:59" class="time">09:11</a></td></tr>
<tr id="t2021-08-18T09:14:01"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">lukma: or just FOO = &quot;new values&quot; ?</td><td class="time"><a href="#t2021-08-18T09:14:01" class="time">09:14</a></td></tr>
<tr id="t2021-08-18T09:14:43"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">provided your bbappend is the last one to be parsed (in the layer with highest priority IIRC?)</td><td class="time"><a href="#t2021-08-18T09:14:43" class="time">09:14</a></td></tr>
<tr id="t2021-08-18T09:14:53"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">lukma: after</td><td class="time"><a href="#t2021-08-18T09:14:53" class="time">09:14</a></td></tr>
<tr id="t2021-08-18T09:16:39"><th class="nick" style="background: #854685">lukma</th><td class="text" style="color: #854685">qschulz: FOO = &quot;new values&quot; is not working as I do play with already set PROVIDES and RPROVIDES</td><td class="time"><a href="#t2021-08-18T09:16:39" class="time">09:16</a></td></tr>
<tr id="t2021-08-18T09:23:19"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">not following sorry :/</td><td class="time"><a href="#t2021-08-18T09:23:19" class="time">09:23</a></td></tr>
<tr id="t2021-08-18T09:40:10"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">qschulz: the issue is the setting FOO =&nbsp;&nbsp;will not change the previous appends</td><td class="time"><a href="#t2021-08-18T09:40:10" class="time">09:40</a></td></tr>
<tr id="t2021-08-18T09:50:51"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">RP: there was no mention of _append or _prepend in the question :)</td><td class="time"><a href="#t2021-08-18T09:50:51" class="time">09:50</a></td></tr>
<tr id="t2021-08-18T10:30:13"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">qschulz: fair enough, I guess I assumed since it was the only way the question made sense to me</td><td class="time"><a href="#t2021-08-18T10:30:13" class="time">10:30</a></td></tr>
<tr id="t2021-08-18T10:31:35"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">RP: yup, I just didn't guess it but that is indeed the only way the question made sense :)</td><td class="time"><a href="#t2021-08-18T10:31:35" class="time">10:31</a></td></tr>
<tr id="t2021-08-18T12:44:55"><th class="nick" style="background: #854685">lukma</th><td class="text" style="color: #854685">Is Yocto/OE supporting '**' in FILES:${PN} ?</td><td class="time"><a href="#t2021-08-18T12:44:55" class="time">12:44</a></td></tr>
<tr id="t2021-08-18T12:47:39"><th class="nick" style="background: #854685">lukma</th><td class="text" style="color: #854685">I would need to extract files with a suffix scattered accross many different directories (Already copied to S{D})</td><td class="time"><a href="#t2021-08-18T12:47:39" class="time">12:47</a></td></tr>
<tr id="t2021-08-18T12:49:21"><th class="nick" style="background: #4b904b">smurray</th><td class="text" style="color: #4b904b">I believe you can do e.g. /usr/*/*.foo, but if you have different depths of directory you'll need multiple file globs</td><td class="time"><a href="#t2021-08-18T12:49:21" class="time">12:49</a></td></tr>
<tr id="t2021-08-18T12:52:15"><th class="nick" style="background: #854685">lukma</th><td class="text" style="color: #854685">Files with suffix are placed in many different directories</td><td class="time"><a href="#t2021-08-18T12:52:15" class="time">12:52</a></td></tr>
<tr id="t2021-08-18T12:52:24"><th class="nick" style="background: #854685">lukma</th><td class="text" style="color: #854685">the depth indeed is different</td><td class="time"><a href="#t2021-08-18T12:52:24" class="time">12:52</a></td></tr>
<tr id="t2021-08-18T12:54:38"><th class="nick" style="background: #4b904b">smurray</th><td class="text" style="color: #4b904b">the perl and go recipes do what I mentioned to handle modules, so I suspect there's not something simple to handle it</td><td class="time"><a href="#t2021-08-18T12:54:38" class="time">12:54</a></td></tr>
<tr id="t2021-08-18T12:56:28"><th class="nick" style="background: #4b904b">smurray</th><td class="text" style="color: #4b904b">there are dynamically split packages for some things which use anonymous python in the recipe to build the variables, so that might be an approach</td><td class="time"><a href="#t2021-08-18T12:56:28" class="time">12:56</a></td></tr>
<tr id="t2021-08-18T13:01:40"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">you could use the do_s[plit_packages python function indeed</td><td class="time"><a href="#t2021-08-18T13:01:40" class="time">13:01</a></td></tr>
<tr id="t2021-08-18T13:01:52"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">since by default you pass it a regexp for the filename only</td><td class="time"><a href="#t2021-08-18T13:01:52" class="time">13:01</a></td></tr>
<tr id="t2021-08-18T13:03:18"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">with do_split_packages but then it splits each file in a different package..so might not be ideal</td><td class="time"><a href="#t2021-08-18T13:03:18" class="time">13:03</a></td></tr>
<tr id="t2021-08-18T13:04:57"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">lukma: reading the code of the handling of FILES, it seems like ** could be supported</td><td class="time"><a href="#t2021-08-18T13:04:57" class="time">13:04</a></td></tr>
<tr id="t2021-08-18T13:07:40"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">see files_from_filevars in oe-core/classes/package.bbclass</td><td class="time"><a href="#t2021-08-18T13:07:40" class="time">13:07</a></td></tr>
<tr id="t2021-08-18T13:07:51"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">it uses glob.glob() which supports ** since python 3.5</td><td class="time"><a href="#t2021-08-18T13:07:51" class="time">13:07</a></td></tr>
<tr id="t2021-08-18T13:09:25"><th class="nick" style="background: #4b904b">smurray</th><td class="text" style="color: #4b904b">heh, I don't see any use of it in oe-core with grep, though</td><td class="time"><a href="#t2021-08-18T13:09:25" class="time">13:09</a></td></tr>
<tr id="t2021-08-18T13:10:08"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">smurray: I'd never seen it before! :)</td><td class="time"><a href="#t2021-08-18T13:10:08" class="time">13:10</a></td></tr>
<tr id="t2021-08-18T13:10:25"><th class="nick" style="background: #4b904b">smurray</th><td class="text" style="color: #4b904b">RP: me either ;)</td><td class="time"><a href="#t2021-08-18T13:10:25" class="time">13:10</a></td></tr>
<tr id="t2021-08-18T13:14:07"><th class="nick" style="background: #4d4d93">wCPO</th><td class="text" style="color: #4d4d93">Is there more to enabling a kernel config option than described here: <a href="https://docs.yoctoproject.org/kernel-dev/common.html#adding-recipe-space-kernel-features" rel="nofollow">https://docs.yoctoproject.org/kernel-dev/common.html#adding-recipe-space-kernel-features</a> ? I did everything as described and &quot;test.scc&quot; is copied to build/tmp/work/genericx86_64-poky-linux/linux-yocto/5.10.43+gitAUTOINC+3f38ad49cf_ab49d2db98-r0 but it isn't enabling the option.</td><td class="time"><a href="#t2021-08-18T13:14:07" class="time">13:14</a></td></tr>
<tr id="t2021-08-18T14:11:30"><th class="nick" style="background: #4d4d93">wCPO</th><td class="text" style="color: #4d4d93">oh, some smart filtering is done, so if the dependencies aren't added it is silently removed</td><td class="time"><a href="#t2021-08-18T14:11:30" class="time">14:11</a></td></tr>
<tr id="t2021-08-18T14:15:08"><th class="nick" style="background: #97974f">JPEW</th><td class="text" style="color: #97974f">RP, sakoman What layers are scanned for CVEs</td><td class="time"><a href="#t2021-08-18T14:15:08" class="time">14:15</a></td></tr>
<tr id="t2021-08-18T14:15:59"><th class="nick" style="background: #9b519b">sakoman</th><td class="text" style="color: #9b519b">JPEW: I only scan oe-core</td><td class="time"><a href="#t2021-08-18T14:15:59" class="time">14:15</a></td></tr>
<tr id="t2021-08-18T14:21:42"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">JPEW: core right now but we could extend that if there was interest/support for handling the issues</td><td class="time"><a href="#t2021-08-18T14:21:42" class="time">14:21</a></td></tr>
<tr id="t2021-08-18T14:24:30"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">wCPO: there's a tool to create config fragments in the kernel IIRC, use that one instead of writing config fragments by hand</td><td class="time"><a href="#t2021-08-18T14:24:30" class="time">14:24</a></td></tr>
<tr id="t2021-08-18T14:31:18"><th class="nick" style="background: #539e9e">tlwoerner</th><td class="text" style="color: #539e9e">is it possible for a recipe to interrogate the kernel config?</td><td class="time"><a href="#t2021-08-18T14:31:18" class="time">14:31</a></td></tr>
<tr id="t2021-08-18T14:31:46"><th class="nick" style="background: #539e9e">tlwoerner</th><td class="text" style="color: #539e9e">in other words, i want to optionally include the &quot;kmod&quot; package in my packageconfig, but only if zram is configured as a module</td><td class="time"><a href="#t2021-08-18T14:31:46" class="time">14:31</a></td></tr>
<tr id="t2021-08-18T14:31:58"><th class="nick" style="background: #539e9e">tlwoerner</th><td class="text" style="color: #539e9e">if zram is a built-in then i don't need kmod</td><td class="time"><a href="#t2021-08-18T14:31:58" class="time">14:31</a></td></tr>
<tr id="t2021-08-18T14:32:28"><th class="nick" style="background: #4d4d93">wCPO</th><td class="text" style="color: #4d4d93">qschulz: I would do that next time, but I kinda expected it to complain and not just silently remove kernel config options</td><td class="time"><a href="#t2021-08-18T14:32:28" class="time">14:32</a></td></tr>
<tr id="t2021-08-18T14:32:53"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">wCPO: the kernel does not complain IIRC, so Yocto can't do anything about it</td><td class="time"><a href="#t2021-08-18T14:32:53" class="time">14:32</a></td></tr>
<tr id="t2021-08-18T14:33:19"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">if it does complain (check log.do_compile to know), then maybe there's something we can do?</td><td class="time"><a href="#t2021-08-18T14:33:19" class="time">14:33</a></td></tr>
<tr id="t2021-08-18T14:34:18"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">tlwoerner: you would need to read the .config of the kernel recipe to know that. Except if there's some special handling somewhere... recipe data is local, so you can't access it from another recipe.</td><td class="time"><a href="#t2021-08-18T14:34:18" class="time">14:34</a></td></tr>
<tr id="t2021-08-18T14:34:28"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">Though what you could do is deploy this .config from your kernel recipe</td><td class="time"><a href="#t2021-08-18T14:34:28" class="time">14:34</a></td></tr>
<tr id="t2021-08-18T14:34:41"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">mmmmmm</td><td class="time"><a href="#t2021-08-18T14:34:41" class="time">14:34</a></td></tr>
<tr id="t2021-08-18T14:35:06"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">thinking about that, PACKAGECONFIG probably needs to be set during parsing so what I was about to suggest won't work</td><td class="time"><a href="#t2021-08-18T14:35:06" class="time">14:35</a></td></tr>
<tr id="t2021-08-18T14:35:39"><th class="nick" style="background: #a25555">zeddii</th><td class="text" style="color: #a25555">it's generally a bad idea to attempt to link packaging decisions to the .config like that. The names of the values, etc, change over time. It just needs to be explicit, with some potentially installed packages that aren't always required.</td><td class="time"><a href="#t2021-08-18T14:35:39" class="time">14:35</a></td></tr>
<tr id="t2021-08-18T14:35:51"><th class="nick" style="background: #4d4d93">wCPO</th><td class="text" style="color: #4d4d93">qschulz: I will check tomorrow. I have powered off my server for today</td><td class="time"><a href="#t2021-08-18T14:35:51" class="time">14:35</a></td></tr>
<tr id="t2021-08-18T14:35:53"><th class="nick" style="background: #539e9e">tlwoerner</th><td class="text" style="color: #539e9e">or i could just include kmod unconditionally and if it's needed it's needed, if it not it's not</td><td class="time"><a href="#t2021-08-18T14:35:53" class="time">14:35</a></td></tr>
<tr id="t2021-08-18T14:36:05"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">yup</td><td class="time"><a href="#t2021-08-18T14:36:05" class="time">14:36</a></td></tr>
<tr id="t2021-08-18T14:36:33"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">don't know exactly what are the consequences of including it, but maybe you could split the outcome of that in a different package</td><td class="time"><a href="#t2021-08-18T14:36:33" class="time">14:36</a></td></tr>
<tr id="t2021-08-18T14:37:23"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">and you could have an RDEPENDS_kernel-module-zram += &quot;your-kmod-package&quot; in a bbappend of the kernel?</td><td class="time"><a href="#t2021-08-18T14:37:23" class="time">14:37</a></td></tr>
<tr id="t2021-08-18T14:41:34"><th class="nick" style="background: #539e9e">tlwoerner</th><td class="text" style="color: #539e9e">i have a feeling module vs built-in is going to get messy</td><td class="time"><a href="#t2021-08-18T14:41:34" class="time">14:41</a></td></tr>
<tr id="t2021-08-18T14:41:35"><th class="nick" style="background: #57a657">barath</th><td class="text" style="color: #57a657">does anyone here know off-hand whether sharing the a sstate-cache directory directly is safe wrt race conditions?</td><td class="time"><a href="#t2021-08-18T14:41:35" class="time">14:41</a></td></tr>
<tr id="t2021-08-18T14:42:42"><th class="nick" style="background: #57a657">barath</th><td class="text" style="color: #57a657">ie. if I share a sstate-cache directory directly, can I end up in a situation where someone downloads a sstate-cache file while it's being written, causing the downloader to attempt to use an incomplete sstate-cache file?</td><td class="time"><a href="#t2021-08-18T14:42:42" class="time">14:42</a></td></tr>
<tr id="t2021-08-18T14:42:46"><th class="nick" style="background: #57a657">barath</th><td class="text" style="color: #57a657">sry to butt in like that</td><td class="time"><a href="#t2021-08-18T14:42:46" class="time">14:42</a></td></tr>
<tr id="t2021-08-18T14:45:05"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">barath: IIRC some servers run by YP (autobuilder?) has the sstate-cache over NFS, so I'd say yes</td><td class="time"><a href="#t2021-08-18T14:45:05" class="time">14:45</a></td></tr>
<tr id="t2021-08-18T14:45:07"><th class="nick" style="background: #97974f">JPEW</th><td class="text" style="color: #97974f">barath: It is safe. sstate is designed to be shared that way</td><td class="time"><a href="#t2021-08-18T14:45:07" class="time">14:45</a></td></tr>
<tr id="t2021-08-18T14:45:23"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">and in any case, I've had multiple builds on my local desktop reuse the same sstate-cache without any issue :)</td><td class="time"><a href="#t2021-08-18T14:45:23" class="time">14:45</a></td></tr>
<tr id="t2021-08-18T14:45:28"><th class="nick" style="background: #97974f">JPEW</th><td class="text" style="color: #97974f">You need proper file locking IIRC, so either a local file syetem or NFS</td><td class="time"><a href="#t2021-08-18T14:45:28" class="time">14:45</a></td></tr>
<tr id="t2021-08-18T14:46:00"><th class="nick" style="background: #57a657">barath</th><td class="text" style="color: #57a657">that is very nice to hear. I couldn't find anything explicit about whether that was safe or not in the docs</td><td class="time"><a href="#t2021-08-18T14:46:00" class="time">14:46</a></td></tr>
<tr id="t2021-08-18T14:46:39"><th class="nick" style="background: #57a657">barath</th><td class="text" style="color: #57a657">currently we copy the sstate-cache from several builder nodes to a central server to be served from, but it sounds like that's not even really necessary except to avoid having to query multiple sstate mirrors</td><td class="time"><a href="#t2021-08-18T14:46:39" class="time">14:46</a></td></tr>
<tr id="t2021-08-18T14:47:06"><th class="nick" style="background: #97974f">JPEW</th><td class="text" style="color: #97974f">barath: Ya, I would recommend directly sharing it over NFS for CI-type jobs</td><td class="time"><a href="#t2021-08-18T14:47:06" class="time">14:47</a></td></tr>
<tr id="t2021-08-18T14:47:14"><th class="nick" style="background: #97974f">JPEW</th><td class="text" style="color: #97974f">It's much more efficient</td><td class="time"><a href="#t2021-08-18T14:47:14" class="time">14:47</a></td></tr>
<tr id="t2021-08-18T14:48:14"><th class="nick" style="background: #97974f">JPEW</th><td class="text" style="color: #97974f">We then export the cache via HTTP, which our developers point there local builds at as a mirror, so if CI has built something before, the developers will just download it instead of building it themselves</td><td class="time"><a href="#t2021-08-18T14:48:14" class="time">14:48</a></td></tr>
<tr id="t2021-08-18T14:49:42"><th class="nick" style="background: #57a657">barath</th><td class="text" style="color: #57a657">yeah, we currently try to build everything during the night on those nodes and then we aggregate it by rsyncing it to a single http server. we've had weird issues sometimes where sstate-cache are seemingly corrupted, and it would be nice to exclude any unecessary steps and just point people directly to the sstate-cache directories...</td><td class="time"><a href="#t2021-08-18T14:49:42" class="time">14:49</a></td></tr>
<tr id="t2021-08-18T14:50:11"><th class="nick" style="background: #57a657">barath</th><td class="text" style="color: #57a657">I assume there arent really any docs on how yocto writes the sstate-cache files wrt locking/atomicity other than the code itself?</td><td class="time"><a href="#t2021-08-18T14:50:11" class="time">14:50</a></td></tr>
<tr id="t2021-08-18T14:50:39"><th class="nick" style="background: #97974f">JPEW</th><td class="text" style="color: #97974f">barath: Probably not</td><td class="time"><a href="#t2021-08-18T14:50:39" class="time">14:50</a></td></tr>
<tr id="t2021-08-18T14:51:19"><th class="nick" style="background: #539e9e">tlwoerner</th><td class="text" style="color: #539e9e">code makes good documentation ;-)</td><td class="time"><a href="#t2021-08-18T14:51:19" class="time">14:51</a></td></tr>
<tr id="t2021-08-18T14:52:25"><th class="nick" style="background: #57a657">barath</th><td class="text" style="color: #57a657">agreed :D</td><td class="time"><a href="#t2021-08-18T14:52:25" class="time">14:52</a></td></tr>
<tr id="t2021-08-18T14:52:43"><th class="nick" style="background: #57a657">barath</th><td class="text" style="color: #57a657">just more work to present to people who dont want to read it</td><td class="time"><a href="#t2021-08-18T14:52:43" class="time">14:52</a></td></tr>
<tr id="t2021-08-18T14:53:07"><th class="nick" style="background: #97974f">JPEW</th><td class="text" style="color: #97974f">barath: Ya, we really need &quot;A quick guide to setting up sstate&quot;</td><td class="time"><a href="#t2021-08-18T14:53:07" class="time">14:53</a></td></tr>
<tr id="t2021-08-18T14:54:21"><th class="nick" style="background: #57a657">barath</th><td class="text" style="color: #57a657">well it seems an easy enough concept in itself, apparently whoever first set up our yocto workflow didn't get the message of aggressively sstate-caching and premirroring everything</td><td class="time"><a href="#t2021-08-18T14:54:21" class="time">14:54</a></td></tr>
<tr id="t2021-08-18T14:55:21"><th class="nick" style="background: #97974f">JPEW</th><td class="text" style="color: #97974f">barath: I suspect that is common, it just doesn't scale well :)</td><td class="time"><a href="#t2021-08-18T14:55:21" class="time">14:55</a></td></tr>
<tr id="t2021-08-18T14:57:09"><th class="nick" style="background: #57a657">barath</th><td class="text" style="color: #57a657">:D yes</td><td class="time"><a href="#t2021-08-18T14:57:09" class="time">14:57</a></td></tr>
<tr id="t2021-08-18T14:57:20"><th class="nick" style="background: #5959a9">vd</th><td class="text" style="color: #5959a9">Is `if d.getVar('FOO') == '1':` valid?</td><td class="time"><a href="#t2021-08-18T14:57:20" class="time">14:57</a></td></tr>
<tr id="t2021-08-18T14:57:35"><th class="nick" style="background: #57a657">barath</th><td class="text" style="color: #57a657">and writing recipes without regard for how the sstate cache hashes will be calculating, leading to hash invalidation when really nothing important has changed... oh well</td><td class="time"><a href="#t2021-08-18T14:57:35" class="time">14:57</a></td></tr>
<tr id="t2021-08-18T14:57:48"><th class="nick" style="background: #57a657">barath</th><td class="text" style="color: #57a657">thanks for the quick help! :)</td><td class="time"><a href="#t2021-08-18T14:57:48" class="time">14:57</a></td></tr>
<tr id="t2021-08-18T15:00:44"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">vd: what's wrong with it?</td><td class="time"><a href="#t2021-08-18T15:00:44" class="time">15:00</a></td></tr>
<tr id="t2021-08-18T15:02:44"><th class="nick" style="background: #5959a9">vd</th><td class="text" style="color: #5959a9">just asking if it's valid bitbake/python</td><td class="time"><a href="#t2021-08-18T15:02:44" class="time">15:02</a></td></tr>
<tr id="t2021-08-18T15:09:11"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">vd: probably, depending on where that is used</td><td class="time"><a href="#t2021-08-18T15:09:11" class="time">15:09</a></td></tr>
<tr id="t2021-08-18T15:23:58"><th class="nick" style="background: #5959a9">vd</th><td class="text" style="color: #5959a9">Like BB_CURRENT_MC, is there a variable describe the bitbake target(s) being built?</td><td class="time"><a href="#t2021-08-18T15:23:58" class="time">15:23</a></td></tr>
<tr id="t2021-08-18T15:26:53"><th class="nick" style="background: #5959a9">vd</th><td class="text" style="color: #5959a9">s/describe/describing/</td><td class="time"><a href="#t2021-08-18T15:26:53" class="time">15:26</a></td></tr>
<tr id="t2021-08-18T15:37:01"><th class="nick" style="background: #539e9e">tlwoerner</th><td class="text" style="color: #539e9e">if i do a d.setVar() with a variable that doesn't exist, will it be created?</td><td class="time"><a href="#t2021-08-18T15:37:01" class="time">15:37</a></td></tr>
<tr id="t2021-08-18T15:39:14"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">tlwoerner: add it to an anonymous python function and then bitbake -e recipe to check if it does :)</td><td class="time"><a href="#t2021-08-18T15:39:14" class="time">15:39</a></td></tr>
<tr id="t2021-08-18T15:39:33"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">tlwoerner: yes</td><td class="time"><a href="#t2021-08-18T15:39:33" class="time">15:39</a></td></tr>
<tr id="t2021-08-18T15:40:12"><th class="nick" style="background: #539e9e">tlwoerner</th><td class="text" style="color: #539e9e">yes, it's working now. i was trying a bunch of stuff and it didn't seem to be working</td><td class="time"><a href="#t2021-08-18T15:40:12" class="time">15:40</a></td></tr>
<tr id="t2021-08-18T15:41:18"><th class="nick" style="background: #539e9e">tlwoerner</th><td class="text" style="color: #539e9e">but i think bitbake didn't think my changes required a respin so the output file wasn't getting updated, but after a -c cleansstate it's working</td><td class="time"><a href="#t2021-08-18T15:41:18" class="time">15:41</a></td></tr>
<tr id="t2021-08-18T15:43:01"><th class="nick" style="background: #539e9e">tlwoerner</th><td class="text" style="color: #539e9e">i was trying little incremental changes in a python __anonymous function and the output wasn't changing, but after i did a cleansstate i got the correct output</td><td class="time"><a href="#t2021-08-18T15:43:01" class="time">15:43</a></td></tr>
<tr id="t2021-08-18T15:46:16"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">tlwoerner: the hashes that represent hashes can't look into anon python so it would depend whether the variables the code is changing are already in the hash or not</td><td class="time"><a href="#t2021-08-18T15:46:16" class="time">15:46</a></td></tr>
<tr id="t2021-08-18T15:46:24"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">represent tasks</td><td class="time"><a href="#t2021-08-18T15:46:24" class="time">15:46</a></td></tr>
<tr id="t2021-08-18T15:47:39"><th class="nick" style="background: #539e9e">tlwoerner</th><td class="text" style="color: #539e9e">RP: i see. originally the variable was outside the anoymous function and could be fiddled with by the user. but then i realized that it would make more sense for the variable to be set inside the anonymous function depending on a set of criteria instead</td><td class="time"><a href="#t2021-08-18T15:47:39" class="time">15:47</a></td></tr>
<tr id="t2021-08-18T15:48:35"><th class="nick" style="background: #539e9e">tlwoerner</th><td class="text" style="color: #539e9e">so as i moved the variable inside the anonymous and fiddles with the correct python syntax (originally i was just trying to create/set the variable directly and not using d.setVar()) it wasn't getting updated</td><td class="time"><a href="#t2021-08-18T15:48:35" class="time">15:48</a></td></tr>
<tr id="t2021-08-18T15:48:55"><th class="nick" style="background: #539e9e">tlwoerner</th><td class="text" style="color: #539e9e">which prompted the question :-)</td><td class="time"><a href="#t2021-08-18T15:48:55" class="time">15:48</a></td></tr>
<tr id="t2021-08-18T15:49:08"><th class="nick" style="background: #539e9e">tlwoerner</th><td class="text" style="color: #539e9e">but i got it sorted out now, thanks! :-)</td><td class="time"><a href="#t2021-08-18T15:49:08" class="time">15:49</a></td></tr>
<tr id="t2021-08-18T16:02:27"><th class="nick" style="background: #5959a9">vd</th><td class="text" style="color: #5959a9">how can I call bb.note() from a multiconfig file?</td><td class="time"><a href="#t2021-08-18T16:02:27" class="time">16:02</a></td></tr>
<tr id="t2021-08-18T16:03:41"><th class="nick" style="background: #539e9e">tlwoerner</th><td class="text" style="color: #539e9e">so an IMAGE_FEATURE can't include a kernel module? only a MACHINE_FEATURE could do that?</td><td class="time"><a href="#t2021-08-18T16:03:41" class="time">16:03</a></td></tr>
<tr id="t2021-08-18T16:04:18"><th class="nick" style="background: #539e9e">tlwoerner</th><td class="text" style="color: #539e9e">zeddii: that's how enabling nfs includes the nfs kernel module?</td><td class="time"><a href="#t2021-08-18T16:04:18" class="time">16:04</a></td></tr>
<tr id="t2021-08-18T16:04:48"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">tlwoerner: I don't see why an IMAGE_FEATURE couldn't do that</td><td class="time"><a href="#t2021-08-18T16:04:48" class="time">16:04</a></td></tr>
<tr id="t2021-08-18T16:05:04"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">tlwoerner: or do you mean enable rather than include?</td><td class="time"><a href="#t2021-08-18T16:05:04" class="time">16:05</a></td></tr>
<tr id="t2021-08-18T16:05:17"><th class="nick" style="background: #a25555">zeddii</th><td class="text" style="color: #a25555">tlwoerner: there's a bugzilla that explains all the nuances to this.</td><td class="time"><a href="#t2021-08-18T16:05:17" class="time">16:05</a></td></tr>
<tr id="t2021-08-18T16:05:39"><th class="nick" style="background: #5959a9">vd</th><td class="text" style="color: #5959a9">how can I print a variable from a config file?</td><td class="time"><a href="#t2021-08-18T16:05:39" class="time">16:05</a></td></tr>
<tr id="t2021-08-18T16:06:22"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">vd: XX := &quot;${@bb.warn(d.getVar('Y'))}&quot; maybe ?</td><td class="time"><a href="#t2021-08-18T16:06:22" class="time">16:06</a></td></tr>
<tr id="t2021-08-18T16:06:25"><th class="nick" style="background: #539e9e">tlwoerner</th><td class="text" style="color: #539e9e">in yesterday's call i asked about having an IMAGE_FEATURE include/rrecommend a kernel config and zeddii said this is what nfs is doing, so i was trying to track down how nfs is doing this</td><td class="time"><a href="#t2021-08-18T16:06:25" class="time">16:06</a></td></tr>
<tr id="t2021-08-18T16:06:52"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">tlwoerner: you only build the kernel once so IMAGE_FEATURE is too late to change kernel config</td><td class="time"><a href="#t2021-08-18T16:06:52" class="time">16:06</a></td></tr>
<tr id="t2021-08-18T16:06:53"><th class="nick" style="background: #a25555">zeddii</th><td class="text" style="color: #a25555">tlwoerner: due to kernel versions, machine capabilities, etc, there's no universally generic way to do it. If you use kernel fragments, the closest thing is to have KERNEL_FEATURES, which error or can be checked if they aren't set. otherwise, you are binding yourself to kernel recipes, versions and mucking around.</td><td class="time"><a href="#t2021-08-18T16:06:53" class="time">16:06</a></td></tr>
<tr id="t2021-08-18T16:07:10"><th class="nick" style="background: #5959a9">vd</th><td class="text" style="color: #5959a9">RP: I see, the trick is the use a dummy variable, thanks ;)</td><td class="time"><a href="#t2021-08-18T16:07:10" class="time">16:07</a></td></tr>
<tr id="t2021-08-18T16:07:11"><th class="nick" style="background: #539e9e">tlwoerner</th><td class="text" style="color: #539e9e">there's no point enabling zram-tmpfs in IMAGE_FEATURES if the kernel isn't configured with zram enabled</td><td class="time"><a href="#t2021-08-18T16:07:11" class="time">16:07</a></td></tr>
<tr id="t2021-08-18T16:07:15"><th class="nick" style="background: #a25555">zeddii</th><td class="text" style="color: #a25555">tlwoerner: we use KERNEL_FEATURES for that, as teh decoupling mechanism.</td><td class="time"><a href="#t2021-08-18T16:07:15" class="time">16:07</a></td></tr>
<tr id="t2021-08-18T16:07:42"><th class="nick" style="background: #539e9e">tlwoerner</th><td class="text" style="color: #539e9e">zeddii: ah! of course</td><td class="time"><a href="#t2021-08-18T16:07:42" class="time">16:07</a></td></tr>
<tr id="t2021-08-18T16:08:14"><th class="nick" style="background: #a25555">zeddii</th><td class="text" style="color: #a25555">nfs isn't based on an image feature (I thought it was), sec.</td><td class="time"><a href="#t2021-08-18T16:08:14" class="time">16:08</a></td></tr>
<tr id="t2021-08-18T16:08:54"><th class="nick" style="background: #a25555">zeddii</th><td class="text" style="color: #a25555">we do plenty on distro features, but there's no reason why the same for image_features isn't valid.</td><td class="time"><a href="#t2021-08-18T16:08:54" class="time">16:08</a></td></tr>
<tr id="t2021-08-18T16:11:01"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">zeddii: there is a reason - you can't change kernel config per image</td><td class="time"><a href="#t2021-08-18T16:11:01" class="time">16:11</a></td></tr>
<tr id="t2021-08-18T16:11:17"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">just which modules are installed in the image</td><td class="time"><a href="#t2021-08-18T16:11:17" class="time">16:11</a></td></tr>
<tr id="t2021-08-18T16:11:43"><th class="nick" style="background: #a25555">zeddii</th><td class="text" style="color: #a25555">true. I was just thinking of it as a variable, that someone can set to change things. but that's distro changes in this case.</td><td class="time"><a href="#t2021-08-18T16:11:43" class="time">16:11</a></td></tr>
<tr id="t2021-08-18T16:15:49"><th class="nick" style="background: #539e9e">tlwoerner</th><td class="text" style="color: #539e9e">so maybe this suggests i should be making this a DISTRO_FEATURE instead?</td><td class="time"><a href="#t2021-08-18T16:15:49" class="time">16:15</a></td></tr>
<tr id="t2021-08-18T16:16:22"><th class="nick" style="background: #a25555">zeddii</th><td class="text" style="color: #a25555">that's what I ended up doing in meta-virt for kubernetes, etc.</td><td class="time"><a href="#t2021-08-18T16:16:22" class="time">16:16</a></td></tr>
<tr id="t2021-08-18T16:19:00"><th class="nick" style="background: #539e9e">tlwoerner</th><td class="text" style="color: #539e9e">zeddii: using a KERNEL_FEATURE means i'd have to start by submitting a .scc/.cfg option for zram to yocto-kernel-cache?</td><td class="time"><a href="#t2021-08-18T16:19:00" class="time">16:19</a></td></tr>
<tr id="t2021-08-18T16:19:57"><th class="nick" style="background: #5959a9">vd</th><td class="text" style="color: #5959a9">RP: I get ERROR: Unable to parse Var &lt;XX[:=]&gt; with the := operator and with = I don't see the message</td><td class="time"><a href="#t2021-08-18T16:19:57" class="time">16:19</a></td></tr>
<tr id="t2021-08-18T16:19:59"><th class="nick" style="background: #a25555">zeddii</th><td class="text" style="color: #a25555">unless the feature is in it's own layer, yes.</td><td class="time"><a href="#t2021-08-18T16:19:59" class="time">16:19</a></td></tr>
<tr id="t2021-08-18T16:29:02"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">vd: XX := &quot;${@bb.warn(d.getVar('Y') or '')}&quot;</td><td class="time"><a href="#t2021-08-18T16:29:02" class="time">16:29</a></td></tr>
<tr id="t2021-08-18T16:29:09"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">vd: means your variable is None ;-)</td><td class="time"><a href="#t2021-08-18T16:29:09" class="time">16:29</a></td></tr>
<tr id="t2021-08-18T16:55:47"><th class="nick" style="background: #adad5b">RobR</th><td class="text" style="color: #adad5b">I'm getting 404 with <a href="https://docs.yoctoproject.org/" rel="nofollow">https://docs.yoctoproject.org/</a> . Is there mirror anywhere?</td><td class="time"><a href="#t2021-08-18T16:55:47" class="time">16:55</a></td></tr>
<tr id="t2021-08-18T16:56:10"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">RobR: hmm, works here</td><td class="time"><a href="#t2021-08-18T16:56:10" class="time">16:56</a></td></tr>
<tr id="t2021-08-18T16:57:14"><th class="nick" style="background: #adad5b">RobR</th><td class="text" style="color: #adad5b">now it's resolving to a directory tree of /</td><td class="time"><a href="#t2021-08-18T16:57:14" class="time">16:57</a></td></tr>
<tr id="t2021-08-18T16:57:48"><th class="nick" style="background: #b15db1">abelloni</th><td class="text" style="color: #b15db1">same for me</td><td class="time"><a href="#t2021-08-18T16:57:48" class="time">16:57</a></td></tr>
<tr id="t2021-08-18T16:57:55"><th class="nick" style="background: #b15db1">abelloni</th><td class="text" style="color: #b15db1">(Index of /)</td><td class="time"><a href="#t2021-08-18T16:57:55" class="time">16:57</a></td></tr>
<tr id="t2021-08-18T17:04:29"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">RobR: the docs build failed and seems to have broken things :(</td><td class="time"><a href="#t2021-08-18T17:04:29" class="time">17:04</a></td></tr>
<tr id="t2021-08-18T17:05:36"><th class="nick" style="background: #adad5b">RobR</th><td class="text" style="color: #adad5b">some of the docs are still available (maybe cached</td><td class="time"><a href="#t2021-08-18T17:05:36" class="time">17:05</a></td></tr>
<tr id="t2021-08-18T17:06:04"><th class="nick" style="background: #adad5b">RobR</th><td class="text" style="color: #adad5b">thx for taking a look @RP</td><td class="time"><a href="#t2021-08-18T17:06:04" class="time">17:06</a></td></tr>
<tr id="t2021-08-18T17:08:38"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">RobR: I think I know how to fix it, working on it :)</td><td class="time"><a href="#t2021-08-18T17:08:38" class="time">17:08</a></td></tr>
<tr id="t2021-08-18T17:09:34"><th class="nick" style="background: #adad5b">RobR</th><td class="text" style="color: #adad5b">@RP (y)</td><td class="time"><a href="#t2021-08-18T17:09:34" class="time">17:09</a></td></tr>
<tr id="t2021-08-18T17:25:06"><td class="action" colspan="2">* RP notes meta-gplv2 broke again :(</td><td><a href="#t2021-08-18T17:25:06" class="time">17:25</a></td></tr>
<tr id="t2021-08-18T17:29:40"><th class="nick" style="background: #5fb4b4">paulg</th><td class="text" style="color: #5fb4b4">meta-goldmine-of-unfixed-CVEs</td><td class="time"><a href="#t2021-08-18T17:29:40" class="time">17:29</a></td></tr>
<tr id="t2021-08-18T17:55:00"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">paulg: meta-root-my-target :)</td><td class="time"><a href="#t2021-08-18T17:55:00" class="time">17:55</a></td></tr>
<tr id="t2021-08-18T17:55:44"><th class="nick" style="background: #b15db1">abelloni</th><td class="text" style="color: #b15db1">:)</td><td class="time"><a href="#t2021-08-18T17:55:44" class="time">17:55</a></td></tr>
<tr id="t2021-08-18T18:15:51"><th class="nick" style="background: #b86161">alimon</th><td class="text" style="color: #b86161">khem: I can but I'm OOO for the next two weeks, may be is faster if you make it, :)</td><td class="time"><a href="#t2021-08-18T18:15:51" class="time">18:15</a></td></tr>
<tr id="t2021-08-18T18:17:06"><th class="nick" style="background: #97974f">JPEW</th><td class="text" style="color: #97974f">RP: Can I get a AB test of master-next in meta-mingw?</td><td class="time"><a href="#t2021-08-18T18:17:06" class="time">18:17</a></td></tr>
<tr id="t2021-08-18T18:19:54"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">JPEW: sure</td><td class="time"><a href="#t2021-08-18T18:19:54" class="time">18:19</a></td></tr>
<tr id="t2021-08-18T18:20:42"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">JPEW: <a href="https://autobuilder.yoctoproject.org/typhoon/#/buildrequests/210741?redirect_to_build=true" rel="nofollow">https://autobuilder.yoctoproject.org/typhoon/#/buildrequests/210741?redirect_to_build=true</a> so queued</td><td class="time"><a href="#t2021-08-18T18:20:42" class="time">18:20</a></td></tr>
<tr id="t2021-08-18T18:20:54"><th class="nick" style="background: #97974f">JPEW</th><td class="text" style="color: #97974f">RP ty</td><td class="time"><a href="#t2021-08-18T18:20:54" class="time">18:20</a></td></tr>
<tr id="t2021-08-18T18:27:41"><th class="nick" style="background: #62bb62">FO3</th><td class="text" style="color: #62bb62">Question about multilib: We enabled, both lib get created, but bin seem to be randomly a mixt of 32 and 64bits executables. For recipes that have both libraries and bin in them (like systemd). Any idea on how to fix that ? (We tryed both IPK and RPM)</td><td class="time"><a href="#t2021-08-18T18:27:41" class="time">18:27</a></td></tr>
<tr id="t2021-08-18T18:30:55"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">FO3: it should be deterministic based upon policy :/</td><td class="time"><a href="#t2021-08-18T18:30:55" class="time">18:30</a></td></tr>
<tr id="t2021-08-18T18:31:10"><th class="nick" style="background: #62bb62">FO3</th><td class="text" style="color: #62bb62">policy ?</td><td class="time"><a href="#t2021-08-18T18:31:10" class="time">18:31</a></td></tr>
<tr id="t2021-08-18T18:34:47"><th class="nick" style="background: #62bb62">FO3</th><td class="text" style="color: #62bb62">poky, poky-tiny, poky-bleeding&nbsp;&nbsp;stuff like ? I will look into that.</td><td class="time"><a href="#t2021-08-18T18:34:47" class="time">18:34</a></td></tr>
<tr id="t2021-08-18T18:36:22"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">F03: if you add lib32-openssh, you should have a 32 bit openssh binary in the image</td><td class="time"><a href="#t2021-08-18T18:36:22" class="time">18:36</a></td></tr>
<tr id="t2021-08-18T18:37:03"><th class="nick" style="background: #62bb62">FO3</th><td class="text" style="color: #62bb62">yes but because we add lib32-systemd to have the lib; we get 32bit system executables</td><td class="time"><a href="#t2021-08-18T18:37:03" class="time">18:37</a></td></tr>
<tr id="t2021-08-18T18:37:41"><th class="nick" style="background: #62bb62">FO3</th><td class="text" style="color: #62bb62">because we need both 32 and 64 systemd lib.&nbsp;&nbsp;but iwould prefer to control which executable we get by default</td><td class="time"><a href="#t2021-08-18T18:37:41" class="time">18:37</a></td></tr>
<tr id="t2021-08-18T18:38:40"><th class="nick" style="background: #62bb62">FO3</th><td class="text" style="color: #62bb62">there seem to be something for recipes with ALTERNATE stuff in multilib.bbclass; but not for recipes w/o</td><td class="time"><a href="#t2021-08-18T18:38:40" class="time">18:38</a></td></tr>
<tr id="t2021-08-18T18:44:42"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">FO3: you should be able to control that by explicitly installing the one you want</td><td class="time"><a href="#t2021-08-18T18:44:42" class="time">18:44</a></td></tr>
<tr id="t2021-08-18T18:50:21"><th class="nick" style="background: #62bb62">FO3</th><td class="text" style="color: #62bb62">RP: Thnaks we will do more tests, but both systemd get installed, and the 32bit one seem to win in /bin</td><td class="time"><a href="#t2021-08-18T18:50:21" class="time">18:50</a></td></tr>
<tr id="t2021-08-18T18:54:52"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">FO3: I think it is configurable but I don't remember how/where</td><td class="time"><a href="#t2021-08-18T18:54:52" class="time">18:54</a></td></tr>
<tr id="t2021-08-18T18:57:16"><th class="nick" style="background: #62bb62">FO3</th><td class="text" style="color: #62bb62">RP: ok; i will keep looking to find how</td><td class="time"><a href="#t2021-08-18T18:57:16" class="time">18:57</a></td></tr>
<tr id="t2021-08-18T19:00:58"><th class="nick" style="background: #407a40">khem</th><td class="text" style="color: #407a40">FO3: you perhaps would need to package libs into its own package and rest of systemd binaries into separate one</td><td class="time"><a href="#t2021-08-18T19:00:58" class="time">19:00</a></td></tr>
<tr id="t2021-08-18T19:01:21"><th class="nick" style="background: #407a40">khem</th><td class="text" style="color: #407a40">32bit bins should then not be picked up if there is library-only dependency</td><td class="time"><a href="#t2021-08-18T19:01:21" class="time">19:01</a></td></tr>
<tr id="t2021-08-18T19:01:45"><th class="nick" style="background: #407a40">khem</th><td class="text" style="color: #407a40">only 32 bit libs will be pulled in</td><td class="time"><a href="#t2021-08-18T19:01:45" class="time">19:01</a></td></tr>
<tr id="t2021-08-18T19:03:06"><th class="nick" style="background: #62bb62">FO3</th><td class="text" style="color: #62bb62">ok; but i want to add lib32-systemd in my toolchain; so my old 32bit only app can link with it.</td><td class="time"><a href="#t2021-08-18T19:03:06" class="time">19:03</a></td></tr>
<tr id="t2021-08-18T19:05:12"><th class="nick" style="background: #62bb62">FO3</th><td class="text" style="color: #62bb62">so while building image; it doesnt knw about my app that required 32bit systemd.so&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; so we added lib32-systemd in IMAGE_INSTALL&nbsp;&nbsp;that bring both exe; but 32bits seem to win. I saw in the doc; that for RPM; the normal one get installed firs then the multilib ones</td><td class="time"><a href="#t2021-08-18T19:05:12" class="time">19:05</a></td></tr>
<tr id="t2021-08-18T19:06:09"><th class="nick" style="background: #62bb62">FO3</th><td class="text" style="color: #62bb62">we were using IPK; then tryed RPM in hope of better results; but did not change anything</td><td class="time"><a href="#t2021-08-18T19:06:09" class="time">19:06</a></td></tr>
<tr id="t2021-08-18T19:21:27"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">RobR: docs are fixed</td><td class="time"><a href="#t2021-08-18T19:21:27" class="time">19:21</a></td></tr>
<tr id="t2021-08-18T19:22:31"><th class="nick" style="background: #adad5b">RobR</th><td class="text" style="color: #adad5b">RP thanks</td><td class="time"><a href="#t2021-08-18T19:22:31" class="time">19:22</a></td></tr>
<tr id="t2021-08-18T19:22:37"><th class="nick" style="background: #62bb62">FO3</th><td class="text" style="color: #62bb62">Thank you both; i will try to find where the rpm choose the order</td><td class="time"><a href="#t2021-08-18T19:22:37" class="time">19:22</a></td></tr>
<tr id="t2021-08-18T19:34:21"><th class="nick" style="background: #4b904b">smurray</th><td class="text" style="color: #4b904b">RP: I think I've brute forced a solution to the asyncio loop hangs</td><td class="time"><a href="#t2021-08-18T19:34:21" class="time">19:34</a></td></tr>
<tr id="t2021-08-18T19:35:15"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">smurray: ah cool, that sounds good :)</td><td class="time"><a href="#t2021-08-18T19:35:15" class="time">19:35</a></td></tr>
<tr id="t2021-08-18T19:38:54"><th class="nick" style="background: #4b904b">smurray</th><td class="text" style="color: #4b904b">RP: I can sort of imagine something clever with a custom event loop policy (which in theory could transparently ensure a different loop per process/thread), but that seems like another can of worms wrt Python version</td><td class="time"><a href="#t2021-08-18T19:38:54" class="time">19:38</a></td></tr>
<tr id="t2021-08-18T19:40:59"><th class="nick" style="background: #97974f">JPEW</th><td class="text" style="color: #97974f">smurray: Whats the solution?</td><td class="time"><a href="#t2021-08-18T19:40:59" class="time">19:40</a></td></tr>
<tr id="t2021-08-18T19:41:25"><th class="nick" style="background: #6464bf">LetoThe2nd</th><td class="text" style="color: #6464bf">JPEW: how did the townhall go?</td><td class="time"><a href="#t2021-08-18T19:41:25" class="time">19:41</a></td></tr>
<tr id="t2021-08-18T19:41:40"><th class="nick" style="background: #97974f">JPEW</th><td class="text" style="color: #97974f">LetoThe2nd: I though it went really well</td><td class="time"><a href="#t2021-08-18T19:41:40" class="time">19:41</a></td></tr>
<tr id="t2021-08-18T19:41:58"><th class="nick" style="background: #4b904b">smurray</th><td class="text" style="color: #4b904b">JPEW: both client and server need to always call new_event_loop and then giving that loop in a call to set_event_loop</td><td class="time"><a href="#t2021-08-18T19:41:58" class="time">19:41</a></td></tr>
<tr id="t2021-08-18T19:42:21"><th class="nick" style="background: #4b904b">smurray</th><td class="text" style="color: #4b904b">JPEW: that makes both 3.7 and 3.9 happy</td><td class="time"><a href="#t2021-08-18T19:42:21" class="time">19:42</a></td></tr>
<tr id="t2021-08-18T19:42:48"><th class="nick" style="background: #6464bf">LetoThe2nd</th><td class="text" style="color: #6464bf">JPEW: nice to hear! satisfactory attendee count?</td><td class="time"><a href="#t2021-08-18T19:42:48" class="time">19:42</a></td></tr>
<tr id="t2021-08-18T19:43:51"><th class="nick" style="background: #97974f">JPEW</th><td class="text" style="color: #97974f">LetoThe2nd: It was between 70-100 + presenters</td><td class="time"><a href="#t2021-08-18T19:43:51" class="time">19:43</a></td></tr>
<tr id="t2021-08-18T19:44:06"><th class="nick" style="background: #6464bf">LetoThe2nd</th><td class="text" style="color: #6464bf">JPEW: hey i think thats pretty good!</td><td class="time"><a href="#t2021-08-18T19:44:06" class="time">19:44</a></td></tr>
<tr id="t2021-08-18T19:44:33"><th class="nick" style="background: #4b904b">smurray</th><td class="text" style="color: #4b904b">JPEW: the wrinkle that was biting with 3.7 was repeated use of new_event_loop in the client w/o set_event_loop seems to blow up eventually in the bitbake-server processes</td><td class="time"><a href="#t2021-08-18T19:44:33" class="time">19:44</a></td></tr>
<tr id="t2021-08-18T19:45:12"><th class="nick" style="background: #97974f">JPEW</th><td class="text" style="color: #97974f">LetoThe2nd: Ya. I think a lot of the attendees did have much familiarity with Yocto or OE, so it was good outreach :)</td><td class="time"><a href="#t2021-08-18T19:45:12" class="time">19:45</a></td></tr>
<tr id="t2021-08-18T19:45:28"><th class="nick" style="background: #4b904b">smurray</th><td class="text" style="color: #4b904b">JPEW: and get_event_loop isn't an answer as there's a usecase in the hashserv unit tests that will blow up</td><td class="time"><a href="#t2021-08-18T19:45:28" class="time">19:45</a></td></tr>
<tr id="t2021-08-18T19:46:23"><th class="nick" style="background: #97974f">JPEW</th><td class="text" style="color: #97974f">LetoThe2nd: Sorry, they did *not* have familiarity</td><td class="time"><a href="#t2021-08-18T19:46:23" class="time">19:46</a></td></tr>
<tr id="t2021-08-18T19:46:43"><th class="nick" style="background: #6464bf">LetoThe2nd</th><td class="text" style="color: #6464bf">JPEW: ya guessed that.</td><td class="time"><a href="#t2021-08-18T19:46:43" class="time">19:46</a></td></tr>
<tr id="t2021-08-18T19:46:49"><th class="nick" style="background: #97974f">JPEW</th><td class="text" style="color: #97974f">LetoThe2nd: I sometimes type non-linerarly and it gets me into trouble :)</td><td class="time"><a href="#t2021-08-18T19:46:49" class="time">19:46</a></td></tr>
<tr id="t2021-08-18T19:46:56"><th class="nick" style="background: #6464bf">LetoThe2nd</th><td class="text" style="color: #6464bf">JPEW: so do we all</td><td class="time"><a href="#t2021-08-18T19:46:56" class="time">19:46</a></td></tr>
<tr id="t2021-08-18T19:47:25"><th class="nick" style="background: #6464bf">LetoThe2nd</th><td class="text" style="color: #6464bf">JPEW: i'm super curious how the count for the mentorship session will turn out.</td><td class="time"><a href="#t2021-08-18T19:47:25" class="time">19:47</a></td></tr>
<tr id="t2021-08-18T19:47:59"><th class="nick" style="background: #97974f">JPEW</th><td class="text" style="color: #97974f">smurray: Ya, that test cases makes some things a little more difficult, but I think it's important to have</td><td class="time"><a href="#t2021-08-18T19:47:59" class="time">19:47</a></td></tr>
<tr id="t2021-08-18T19:51:23"><th class="nick" style="background: #4b904b">smurray</th><td class="text" style="color: #4b904b">JPEW: with my changes it'll be impossible to write code that runs the server and client or even the 2 different clients in the same process w/o some potential issues, but it no longer hangs in selftests anymore...</td><td class="time"><a href="#t2021-08-18T19:51:23" class="time">19:51</a></td></tr>
<tr id="t2021-08-18T19:52:00"><th class="nick" style="background: #97974f">JPEW</th><td class="text" style="color: #97974f">smurray: because each client has it's own loop?</td><td class="time"><a href="#t2021-08-18T19:52:00" class="time">19:52</a></td></tr>
<tr id="t2021-08-18T19:52:06"><th class="nick" style="background: #4b904b">smurray</th><td class="text" style="color: #4b904b">JPEW: right</td><td class="time"><a href="#t2021-08-18T19:52:06" class="time">19:52</a></td></tr>
<tr id="t2021-08-18T19:52:48"><th class="nick" style="background: #97974f">JPEW</th><td class="text" style="color: #97974f">hmm</td><td class="time"><a href="#t2021-08-18T19:52:48" class="time">19:52</a></td></tr>
<tr id="t2021-08-18T19:52:49"><th class="nick" style="background: #4b904b">smurray</th><td class="text" style="color: #4b904b">JPEW: but the seemingly required calls to set_event_loop to make 3.7 not explode will break trying to do that</td><td class="time"><a href="#t2021-08-18T19:52:49" class="time">19:52</a></td></tr>
<tr id="t2021-08-18T19:53:32"><th class="nick" style="background: #97974f">JPEW</th><td class="text" style="color: #97974f">smurray: That probably means you can't have more than one asyncio loop user, not just the client/server</td><td class="time"><a href="#t2021-08-18T19:53:32" class="time">19:53</a></td></tr>
<tr id="t2021-08-18T19:54:50"><th class="nick" style="background: #4b904b">smurray</th><td class="text" style="color: #4b904b">JPEW: atm there's no other users in bitbake, I think</td><td class="time"><a href="#t2021-08-18T19:54:50" class="time">19:54</a></td></tr>
<tr id="t2021-08-18T19:54:53"><th class="nick" style="background: #97974f">JPEW</th><td class="text" style="color: #97974f">Is the code for setting the loop in the Client or ASyncClient class?</td><td class="time"><a href="#t2021-08-18T19:54:53" class="time">19:54</a></td></tr>
<tr id="t2021-08-18T19:55:17"><th class="nick" style="background: #4b904b">smurray</th><td class="text" style="color: #4b904b">JPEW: Client</td><td class="time"><a href="#t2021-08-18T19:55:17" class="time">19:55</a></td></tr>
<tr id="t2021-08-18T19:56:57"><th class="nick" style="background: #97974f">JPEW</th><td class="text" style="color: #97974f">smurray: K, I don't think that one would work with multiple other asyncio users anyway... if your doing that you need to use ASyncClient (and provide your own loop) anyway</td><td class="time"><a href="#t2021-08-18T19:56:57" class="time">19:56</a></td></tr>
<tr id="t2021-08-18T19:57:13"><th class="nick" style="background: #4b904b">smurray</th><td class="text" style="color: #4b904b">JPEW: if we could force everyone to use Python 3.9 I suspect we could avoid some issues, but that's not happening anytime soon</td><td class="time"><a href="#t2021-08-18T19:57:13" class="time">19:57</a></td></tr>
<tr id="t2021-08-18T19:57:34"><th class="nick" style="background: #97974f">JPEW</th><td class="text" style="color: #97974f">smurray: Sure. Perhaps make sure thats documented for posterity?</td><td class="time"><a href="#t2021-08-18T19:57:34" class="time">19:57</a></td></tr>
<tr id="t2021-08-18T19:57:58"><th class="nick" style="background: #4b904b">smurray</th><td class="text" style="color: #4b904b">JPEW: the need to call set_event_loop seems very 3.7 specific, 3.9 worked w/o it in the client code AFAICT</td><td class="time"><a href="#t2021-08-18T19:57:58" class="time">19:57</a></td></tr>
<tr id="t2021-08-18T19:58:35"><th class="nick" style="background: #97974f">JPEW</th><td class="text" style="color: #97974f">Ya, are you making it version conditional?</td><td class="time"><a href="#t2021-08-18T19:58:35" class="time">19:58</a></td></tr>
<tr id="t2021-08-18T19:59:44"><th class="nick" style="background: #4b904b">smurray</th><td class="text" style="color: #4b904b">after spending the last 3 weeks testing I can't say I feel like doing another round of tests around that, tbh</td><td class="time"><a href="#t2021-08-18T19:59:44" class="time">19:59</a></td></tr>
<tr id="t2021-08-18T20:00:08"><th class="nick" style="background: #4b904b">smurray</th><td class="text" style="color: #4b904b">it works on both 3.7 + 3.9 atm w/o it being conditional</td><td class="time"><a href="#t2021-08-18T20:00:08" class="time">20:00</a></td></tr>
<tr id="t2021-08-18T20:00:38"><th class="nick" style="background: #97974f">JPEW</th><td class="text" style="color: #97974f"><a href="https://www.irccloud.com/pastebin/Q8F84pkT/" rel="nofollow">https://www.irccloud.com/pastebin/Q8F84pkT/</a></td><td class="time"><a href="#t2021-08-18T20:00:38" class="time">20:00</a></td></tr>
<tr id="t2021-08-18T20:01:21"><th class="nick" style="background: #4b904b">smurray</th><td class="text" style="color: #4b904b">what would be the benefit of that, exactly?</td><td class="time"><a href="#t2021-08-18T20:01:21" class="time">20:01</a></td></tr>
<tr id="t2021-08-18T20:01:34"><th class="nick" style="background: #97974f">JPEW</th><td class="text" style="color: #97974f">It would work with multiple clients</td><td class="time"><a href="#t2021-08-18T20:01:34" class="time">20:01</a></td></tr>
<tr id="t2021-08-18T20:01:40"><th class="nick" style="background: #4b904b">smurray</th><td class="text" style="color: #4b904b">all these task processes are short-lived effectively</td><td class="time"><a href="#t2021-08-18T20:01:40" class="time">20:01</a></td></tr>
<tr id="t2021-08-18T20:02:28"><th class="nick" style="background: #4b904b">smurray</th><td class="text" style="color: #4b904b">on the client side I actually don't quite understand how asyncio is particularly useful</td><td class="time"><a href="#t2021-08-18T20:02:28" class="time">20:02</a></td></tr>
<tr id="t2021-08-18T20:02:34"><th class="nick" style="background: #97974f">JPEW</th><td class="text" style="color: #97974f">smurray: Ya, fair. As long as we know what the limitations are (e.g. with a comment), we should be OK</td><td class="time"><a href="#t2021-08-18T20:02:34" class="time">20:02</a></td></tr>
<tr id="t2021-08-18T20:04:01"><th class="nick" style="background: #4b904b">smurray</th><td class="text" style="color: #4b904b">JPEW: I'll add some comments, if you want to grind on debugging it for several weeks more, you can ;)</td><td class="time"><a href="#t2021-08-18T20:04:01" class="time">20:04</a></td></tr>
<tr id="t2021-08-18T20:05:55"><th class="nick" style="background: #4b904b">smurray</th><td class="text" style="color: #4b904b">JPEW: at this point if these changes don't pass autobuilder my next step will be just dropping asyncio for PR server for now to get the read-only support in</td><td class="time"><a href="#t2021-08-18T20:05:55" class="time">20:05</a></td></tr>
<tr id="t2021-08-18T20:10:45"><th class="nick" style="background: #5959a9">vd</th><td class="text" style="color: #5959a9">Why are BUILDNAME and BBTARGETS empty?</td><td class="time"><a href="#t2021-08-18T20:10:45" class="time">20:10</a></td></tr>
<tr id="t2021-08-18T21:59:08"><th class="nick" style="background: #5959a9">vd</th><td class="text" style="color: #5959a9">I get a weird error with my .mount unit: &quot;must be superuser to use mount&quot;, but there's only root on the system...</td><td class="time"><a href="#t2021-08-18T21:59:08" class="time">21:59</a></td></tr>
<tr id="t2021-08-18T22:55:44"><th class="nick" style="background: #c3c366">tp43_</th><td class="text" style="color: #c3c366">I got a pl2303 cable only $1</td><td class="time"><a href="#t2021-08-18T22:55:44" class="time">22:55</a></td></tr>
<tr id="t2021-08-18T23:37:29"><th class="nick" style="background: #c668c6">vmeson</th><td class="text" style="color: #c668c6">vd:&nbsp;&nbsp;Do you have more context about: Why are BUILDNAME and BBTARGETS empty?</td><td class="time"><a href="#t2021-08-18T23:37:29" class="time">23:37</a></td></tr>
<tr id="t2021-08-18T23:37:44"><th class="nick" style="background: #c668c6">vmeson</th><td class="text" style="color: #c668c6">tp43_:&nbsp;&nbsp;congrats! ;-)</td><td class="time"><a href="#t2021-08-18T23:37:44" class="time">23:37</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2021-08-17.log.html">&#171; Tuesday, 2021-08-17</a> <a href="index.html">Index</a> <a href="%23yocto.2021-08-19.log.html">Thursday, 2021-08-19 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.17.2 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="https://mg.pov.lt/irclog2html/">https://mg.pov.lt/irclog2html/</a>!</p>
</div>
</body>
</html>
