<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Wednesday, 2021-09-29</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.17.2 by Marius Gedminas" />
  <meta name="version" content="2.17.2 - 2019-04-23" />
</head>
<body>
<h1>Wednesday, 2021-09-29</h1>
<div class="navigation"> <a href="%23yocto.2021-09-28.log.html">&#171; Tuesday, 2021-09-28</a> <a href="index.html">Index</a> <a href="%23yocto.2021-09-30.log.html">Thursday, 2021-09-30 &#187;</a> </div>
<table class="irclog">
<tr id="t2021-09-29T00:28:20-2"><td class="nickchange" colspan="2">*** camus1 is now known as camus</td><td><a href="#t2021-09-29T00:28:20-2" class="time">00:28</a></td></tr>
<tr id="t2021-09-29T02:00:41-2"><td class="nickchange" colspan="2">*** camus1 is now known as camus</td><td><a href="#t2021-09-29T02:00:41-2" class="time">02:00</a></td></tr>
<tr id="t2021-09-29T03:27:53-2"><td class="nickchange" colspan="2">*** jmiehe1 is now known as jmiehe</td><td><a href="#t2021-09-29T03:27:53-2" class="time">03:27</a></td></tr>
<tr id="t2021-09-29T04:16:14"><td class="nickchange" colspan="2">*** camus1 is now known as camus</td><td><a href="#t2021-09-29T04:16:14" class="time">04:16</a></td></tr>
<tr id="t2021-09-29T05:45:31-2"><td class="nickchange" colspan="2">*** camus1 is now known as camus</td><td><a href="#t2021-09-29T05:45:31-2" class="time">05:45</a></td></tr>
<tr id="t2021-09-29T06:18:41-2"><td class="nickchange" colspan="2">*** camus1 is now known as camus</td><td><a href="#t2021-09-29T06:18:41-2" class="time">06:18</a></td></tr>
<tr id="t2021-09-29T06:38:03"><th class="nick" style="background: #407a40">JosefHolzmayrThe</th><td class="text" style="color: #407a40">cyo dudX</td><td class="time"><a href="#t2021-09-29T06:38:03" class="time">06:38</a></td></tr>
<tr id="t2021-09-29T06:45:43"><td class="nickchange" colspan="2">*** mckoan|away is now known as mckoan</td><td><a href="#t2021-09-29T06:45:43" class="time">06:45</a></td></tr>
<tr id="t2021-09-29T06:45:48"><th class="nick" style="background: #42427e">mckoan</th><td class="text" style="color: #42427e">good morning</td><td class="time"><a href="#t2021-09-29T06:45:48" class="time">06:45</a></td></tr>
<tr id="t2021-09-29T08:09:04"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">o/</td><td class="time"><a href="#t2021-09-29T08:09:04" class="time">08:09</a></td></tr>
<tr id="t2021-09-29T08:15:16"><th class="nick" style="background: #854685">BuZZ-T</th><td class="text" style="color: #854685">hi.. i just started working with extensible sdk for the first time, usually i used the complete yocto system. when i used the yocto system i generated a complete sysroot with &quot;bitbake build-sysroots&quot;. Can i achieve the same in the eSDK? i'd like to prefer only one sysroot that contains everything for my development.</td><td class="time"><a href="#t2021-09-29T08:15:16" class="time">08:15</a></td></tr>
<tr id="t2021-09-29T08:24:22"><th class="nick" style="background: #488888">kanavin</th><td class="text" style="color: #488888">BuZZ-T, eSDK is basically the same yocto system with a pre-built sstate and toolchain, so yes</td><td class="time"><a href="#t2021-09-29T08:24:22" class="time">08:24</a></td></tr>
<tr id="t2021-09-29T08:27:42"><th class="nick" style="background: #854685">BuZZ-T</th><td class="text" style="color: #854685">kanavin: ok.. good to know, do have any idea how to generate the &quot;complete&quot; sysroot? like bitbake build-sysroots has done in the &quot;normal&quot; yocto system</td><td class="time"><a href="#t2021-09-29T08:27:42" class="time">08:27</a></td></tr>
<tr id="t2021-09-29T08:28:29"><th class="nick" style="background: #488888">kanavin</th><td class="text" style="color: #488888">BuZZ-T, devtool has a command to rebuild the target image it's based on</td><td class="time"><a href="#t2021-09-29T08:28:29" class="time">08:28</a></td></tr>
<tr id="t2021-09-29T08:29:46"><th class="nick" style="background: #488888">kanavin</th><td class="text" style="color: #488888">what does build-sysroots really do?</td><td class="time"><a href="#t2021-09-29T08:29:46" class="time">08:29</a></td></tr>
<tr id="t2021-09-29T08:30:49"><th class="nick" style="background: #854685">BuZZ-T</th><td class="text" style="color: #854685">kanavin: ok, thank you. i'll give it a try</td><td class="time"><a href="#t2021-09-29T08:30:49" class="time">08:30</a></td></tr>
<tr id="t2021-09-29T08:31:38"><th class="nick" style="background: #488888">kanavin</th><td class="text" style="color: #488888">BuZZ-T, the thing is, build-sysroots is not supposed to be used as a standalone target, so isn't really supported</td><td class="time"><a href="#t2021-09-29T08:31:38" class="time">08:31</a></td></tr>
<tr id="t2021-09-29T08:31:55"><th class="nick" style="background: #488888">kanavin</th><td class="text" style="color: #488888">BuZZ-T, if you want a complete sysroot, making an image is better</td><td class="time"><a href="#t2021-09-29T08:31:55" class="time">08:31</a></td></tr>
<tr id="t2021-09-29T08:33:10"><th class="nick" style="background: #488888">kanavin</th><td class="text" style="color: #488888">but I need to understand your use case. What's your development workflow?</td><td class="time"><a href="#t2021-09-29T08:33:10" class="time">08:33</a></td></tr>
<tr id="t2021-09-29T08:38:48"><th class="nick" style="background: #854685">BuZZ-T</th><td class="text" style="color: #854685">kanavin:&nbsp;&nbsp;in the past i used the complete yocto system.. i've done development in eclipse. I build the sysroot with &quot;bitbake build-sysroots&quot; and included the generated include folder (as link) to my eclipse projects. now we were running a newer version (dunfell) that doesn't have that eclipse plugin anymore. and i'm also playing arround with visual studio code.</td><td class="time"><a href="#t2021-09-29T08:38:48" class="time">08:38</a></td></tr>
<tr id="t2021-09-29T08:39:33"><th class="nick" style="background: #488888">kanavin</th><td class="text" style="color: #488888">BuZZ-T, I think you need to first study the standard devtool workflows that eSDK provides</td><td class="time"><a href="#t2021-09-29T08:39:33" class="time">08:39</a></td></tr>
<tr id="t2021-09-29T08:39:49"><th class="nick" style="background: #488888">kanavin</th><td class="text" style="color: #488888">build-sysroots isn't supported outside of internal uses of it</td><td class="time"><a href="#t2021-09-29T08:39:49" class="time">08:39</a></td></tr>
<tr id="t2021-09-29T08:40:44"><th class="nick" style="background: #488888">kanavin</th><td class="text" style="color: #488888">eclipse plugin was dropped because no one wanted to maintain it (and still no one does), so if you come up with some kind of IDE support and agree to keep it working, that'd be most welcome</td><td class="time"><a href="#t2021-09-29T08:40:44" class="time">08:40</a></td></tr>
<tr id="t2021-09-29T08:45:52"><th class="nick" style="background: #854685">BuZZ-T</th><td class="text" style="color: #854685">kanavin: eclipse is still usable without the plugin. but the workflow does change a little bit. when i use a normal sdk (-c populate_sdk), source the environment from, do ./configure $CONFIGURE_FLAGS (we use autotools based projects) and start eclipse from the shell, i can do pretty much all of my development. the only manual tweak needs to be done is setting the right debugger in the debug configuration.</td><td class="time"><a href="#t2021-09-29T08:45:52" class="time">08:45</a></td></tr>
<tr id="t2021-09-29T08:46:57"><th class="nick" style="background: #488888">kanavin</th><td class="text" style="color: #488888">BuZZ-T, you can do the same with eSDK, but eSDK adds the sstate cache, layers, devtool and bitbake (indirectly, only via devtool)</td><td class="time"><a href="#t2021-09-29T08:46:57" class="time">08:46</a></td></tr>
<tr id="t2021-09-29T08:48:57"><th class="nick" style="background: #407a40">JosefHolzmayrThe</th><td class="text" style="color: #407a40">kanavin: RP: does this ring a bell? do we have comparable data that wecould put into a chart? <a href="https://twitter.com/ReproBuilds/status/1442479184618610692" rel="nofollow">https://twitter.com/ReproBuilds/status/1442479184618610692</a></td><td class="time"><a href="#t2021-09-29T08:48:57" class="time">08:48</a></td></tr>
<tr id="t2021-09-29T08:49:51"><th class="nick" style="background: #488888">kanavin</th><td class="text" style="color: #488888">JosefHolzmayrThe, <a href="https://www.yoctoproject.org/reproducible-build-results/" rel="nofollow">https://www.yoctoproject.org/reproducible-build-results/</a></td><td class="time"><a href="#t2021-09-29T08:49:51" class="time">08:49</a></td></tr>
<tr id="t2021-09-29T08:49:52"><th class="nick" style="background: #854685">BuZZ-T</th><td class="text" style="color: #854685">kanavin: ok. thank you again.. i'll play a bit arround with eSDK :)</td><td class="time"><a href="#t2021-09-29T08:49:52" class="time">08:49</a></td></tr>
<tr id="t2021-09-29T08:51:34"><th class="nick" style="background: #488888">kanavin</th><td class="text" style="color: #488888">JosefHolzmayrThe, dare I suggest, Debian's chart is not that impressive. The amount of non-repro packages is not going down.</td><td class="time"><a href="#t2021-09-29T08:51:34" class="time">08:51</a></td></tr>
<tr id="t2021-09-29T08:52:12"><th class="nick" style="background: #407a40">JosefHolzmayrThe</th><td class="text" style="color: #407a40">kanavin: thx</td><td class="time"><a href="#t2021-09-29T08:52:12" class="time">08:52</a></td></tr>
<tr id="t2021-09-29T08:55:39"><th class="nick" style="background: #407a40">JosefHolzmayrThe</th><td class="text" style="color: #407a40">kanavin: you may suggest anything, but I will probably not pass it along. advocacy is not meant to make others look bad. ;-)</td><td class="time"><a href="#t2021-09-29T08:55:39" class="time">08:55</a></td></tr>
<tr id="t2021-09-29T08:55:53"><th class="nick" style="background: #407a40">JosefHolzmayrThe</th><td class="text" style="color: #407a40">(the question was not for me personally)</td><td class="time"><a href="#t2021-09-29T08:55:53" class="time">08:55</a></td></tr>
<tr id="t2021-09-29T09:08:10"><th class="nick" style="background: #8c4a4a">ThomasD13</th><td class="text" style="color: #8c4a4a">Hi, I have a new (hardware) machine to build my stuff with yocto. I have a bit of DDR4 memory - are there any tricks to further speedup the build-process with yocto?</td><td class="time"><a href="#t2021-09-29T09:08:10" class="time">09:08</a></td></tr>
<tr id="t2021-09-29T09:09:01"><th class="nick" style="background: #488888">kanavin</th><td class="text" style="color: #488888">ThomasD13, add CPU cores</td><td class="time"><a href="#t2021-09-29T09:09:01" class="time">09:09</a></td></tr>
<tr id="t2021-09-29T09:09:04"><th class="nick" style="background: #8c4a4a">ThomasD13</th><td class="text" style="color: #8c4a4a">I think its not possible to use DDR4 memory as ramdisk for the whole build process</td><td class="time"><a href="#t2021-09-29T09:09:04" class="time">09:09</a></td></tr>
<tr id="t2021-09-29T09:09:52"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">ThomasD13: shared sstate-cache, shared DLDIR, more CPU, more RAM, hashequiv server set correctly, etc..</td><td class="time"><a href="#t2021-09-29T09:09:52" class="time">09:09</a></td></tr>
<tr id="t2021-09-29T09:09:53"><th class="nick" style="background: #8c4a4a">ThomasD13</th><td class="text" style="color: #8c4a4a">I have 12 cores which run 24 threads. I thought maybe I could reduce the &quot;bottleneck&quot; of m2-ssd access?</td><td class="time"><a href="#t2021-09-29T09:09:53" class="time">09:09</a></td></tr>
<tr id="t2021-09-29T09:10:10"><th class="nick" style="background: #8c4a4a">ThomasD13</th><td class="text" style="color: #8c4a4a">I've got 72GB of RAM</td><td class="time"><a href="#t2021-09-29T09:10:10" class="time">09:10</a></td></tr>
<tr id="t2021-09-29T09:10:44"><th class="nick" style="background: #407a40">JosefHolzmayrThe</th><td class="text" style="color: #407a40">ThomasD13: unless you are trying really hard to avoid it, linux effectively caches everything in ram</td><td class="time"><a href="#t2021-09-29T09:10:44" class="time">09:10</a></td></tr>
<tr id="t2021-09-29T09:11:14"><th class="nick" style="background: #488888">kanavin</th><td class="text" style="color: #488888">ThomasD13, 12 cores is too little :-/</td><td class="time"><a href="#t2021-09-29T09:11:14" class="time">09:11</a></td></tr>
<tr id="t2021-09-29T09:11:31"><th class="nick" style="background: #488888">kanavin</th><td class="text" style="color: #488888">you won't nearly saturate the disk I/O with it</td><td class="time"><a href="#t2021-09-29T09:11:31" class="time">09:11</a></td></tr>
<tr id="t2021-09-29T09:11:41"><th class="nick" style="background: #8c4a4a">ThomasD13</th><td class="text" style="color: #8c4a4a">kanavin, its the fastest desktop CPU atm :(</td><td class="time"><a href="#t2021-09-29T09:11:41" class="time">09:11</a></td></tr>
<tr id="t2021-09-29T09:11:49"><th class="nick" style="background: #407a40">JosefHolzmayrThe</th><td class="text" style="color: #407a40">ThomasD13: i've tried backing DL/SSTATE on hd vs. ssd vs. tmpfs, and there was no statistically significant difference, given the assumption that the box has enough RAM to cache stuff</td><td class="time"><a href="#t2021-09-29T09:11:49" class="time">09:11</a></td></tr>
<tr id="t2021-09-29T09:11:59"><th class="nick" style="background: #488888">kanavin</th><td class="text" style="color: #488888">ThomasD13, what CPU do you have?</td><td class="time"><a href="#t2021-09-29T09:11:59" class="time">09:11</a></td></tr>
<tr id="t2021-09-29T09:12:16"><th class="nick" style="background: #8c4a4a">ThomasD13</th><td class="text" style="color: #8c4a4a">alright josef, thats sound promising</td><td class="time"><a href="#t2021-09-29T09:12:16" class="time">09:12</a></td></tr>
<tr id="t2021-09-29T09:12:25"><th class="nick" style="background: #8c4a4a">ThomasD13</th><td class="text" style="color: #8c4a4a">Ryzen 5900X</td><td class="time"><a href="#t2021-09-29T09:12:25" class="time">09:12</a></td></tr>
<tr id="t2021-09-29T09:12:27"><th class="nick" style="background: #407a40">JosefHolzmayrThe</th><td class="text" style="color: #407a40">kanavin: and on the other hand, many builds will effectively max out at ~32 cores for parallelization limits.</td><td class="time"><a href="#t2021-09-29T09:12:27" class="time">09:12</a></td></tr>
<tr id="t2021-09-29T09:13:01"><th class="nick" style="background: #488888">kanavin</th><td class="text" style="color: #488888">JosefHolzmayrThe, not if you're building several recipes at once</td><td class="time"><a href="#t2021-09-29T09:13:01" class="time">09:13</a></td></tr>
<tr id="t2021-09-29T09:13:28"><th class="nick" style="background: #488888">kanavin</th><td class="text" style="color: #488888">JosefHolzmayrThe, but yes, beyond 32 cores the returns start to diminish</td><td class="time"><a href="#t2021-09-29T09:13:28" class="time">09:13</a></td></tr>
<tr id="t2021-09-29T09:13:38"><th class="nick" style="background: #407a40">JosefHolzmayrThe</th><td class="text" style="color: #407a40">yeah but if you're tagetting images instead of recipes, the DAG will limit you</td><td class="time"><a href="#t2021-09-29T09:13:38" class="time">09:13</a></td></tr>
<tr id="t2021-09-29T09:14:00"><th class="nick" style="background: #488888">kanavin</th><td class="text" style="color: #488888">ThomasD13, there's a 16 core version of that</td><td class="time"><a href="#t2021-09-29T09:14:00" class="time">09:14</a></td></tr>
<tr id="t2021-09-29T09:14:03"><th class="nick" style="background: #8c4a4a">ThomasD13</th><td class="text" style="color: #8c4a4a">btw, with which hardware do you work with yocto?</td><td class="time"><a href="#t2021-09-29T09:14:03" class="time">09:14</a></td></tr>
<tr id="t2021-09-29T09:14:17"><th class="nick" style="background: #488888">kanavin</th><td class="text" style="color: #488888">ThomasD13, and really, you should get a threadripper</td><td class="time"><a href="#t2021-09-29T09:14:17" class="time">09:14</a></td></tr>
<tr id="t2021-09-29T09:15:17"><th class="nick" style="background: #488888">kanavin</th><td class="text" style="color: #488888">JosefHolzmayrThe, yes, so optimizing the graph and reducing the critical path is perhaps the best way to speed up builds</td><td class="time"><a href="#t2021-09-29T09:15:17" class="time">09:15</a></td></tr>
<tr id="t2021-09-29T09:15:21"><th class="nick" style="background: #8c4a4a">ThomasD13</th><td class="text" style="color: #8c4a4a">ah, you mean 5950X. I thought the higher frq would serve better in that case</td><td class="time"><a href="#t2021-09-29T09:15:21" class="time">09:15</a></td></tr>
<tr id="t2021-09-29T09:15:32"><th class="nick" style="background: #488888">kanavin</th><td class="text" style="color: #488888">ThomasD13, no, extra cores always win</td><td class="time"><a href="#t2021-09-29T09:15:32" class="time">09:15</a></td></tr>
<tr id="t2021-09-29T09:15:51"><th class="nick" style="background: #8c4a4a">ThomasD13</th><td class="text" style="color: #8c4a4a">hmmm damn it. now its to late :D</td><td class="time"><a href="#t2021-09-29T09:15:51" class="time">09:15</a></td></tr>
<tr id="t2021-09-29T09:16:35"><th class="nick" style="background: #488888">kanavin</th><td class="text" style="color: #488888">sell :)</td><td class="time"><a href="#t2021-09-29T09:16:35" class="time">09:16</a></td></tr>
<tr id="t2021-09-29T09:16:51"><th class="nick" style="background: #488888">kanavin</th><td class="text" style="color: #488888">and get a TR</td><td class="time"><a href="#t2021-09-29T09:16:51" class="time">09:16</a></td></tr>
<tr id="t2021-09-29T09:17:05"><th class="nick" style="background: #488888">kanavin</th><td class="text" style="color: #488888">or wait until zen 3 based TRs are available</td><td class="time"><a href="#t2021-09-29T09:17:05" class="time">09:17</a></td></tr>
<tr id="t2021-09-29T09:17:49"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">might also make sense to move to server-grade CPUs if you're in a company</td><td class="time"><a href="#t2021-09-29T09:17:49" class="time">09:17</a></td></tr>
<tr id="t2021-09-29T09:18:27"><th class="nick" style="background: #8c4a4a">ThomasD13</th><td class="text" style="color: #8c4a4a">So you guys work with TR CPUs?</td><td class="time"><a href="#t2021-09-29T09:18:27" class="time">09:18</a></td></tr>
<tr id="t2021-09-29T09:18:38"><th class="nick" style="background: #407a40">JosefHolzmayrThe</th><td class="text" style="color: #407a40">in the end it all depends on what you want to archieve</td><td class="time"><a href="#t2021-09-29T09:18:38" class="time">09:18</a></td></tr>
<tr id="t2021-09-29T09:18:45"><th class="nick" style="background: #854685">BuZZ-T</th><td class="text" style="color: #854685">i got an x5900 - 64GB ram and an m2 ssd (pcie4.0) and i'm pretty happy with it :) but i didn't need to rebuild everything from scratch :)</td><td class="time"><a href="#t2021-09-29T09:18:45" class="time">09:18</a></td></tr>
<tr id="t2021-09-29T09:18:52"><th class="nick" style="background: #8c4a4a">ThomasD13</th><td class="text" style="color: #8c4a4a">Yeah probably... but at least its now roughly 4times faster than before</td><td class="time"><a href="#t2021-09-29T09:18:52" class="time">09:18</a></td></tr>
<tr id="t2021-09-29T09:19:09"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">but cached/proxied DLDIR company wide and a mirrored SSTATE_CACHE (SSTATE_MIRROR) and/or nfs sstate-cache is usually a very good start (+ hashequiv server)</td><td class="time"><a href="#t2021-09-29T09:19:09" class="time">09:19</a></td></tr>
<tr id="t2021-09-29T09:19:33"><th class="nick" style="background: #8c4a4a">ThomasD13</th><td class="text" style="color: #8c4a4a">hashequiv server is new to me - I'll google for that</td><td class="time"><a href="#t2021-09-29T09:19:33" class="time">09:19</a></td></tr>
<tr id="t2021-09-29T09:19:34"><th class="nick" style="background: #407a40">JosefHolzmayrThe</th><td class="text" style="color: #407a40">our box here is a dual epyc-7-something with 256 threads, 512GB ram and 7something TB pci-nvmes</td><td class="time"><a href="#t2021-09-29T09:19:34" class="time">09:19</a></td></tr>
<tr id="t2021-09-29T09:19:50"><th class="nick" style="background: #488888">kanavin</th><td class="text" style="color: #488888">yes, but it won't help when doing custom builds when a change you want to make is early in the task dependency graph</td><td class="time"><a href="#t2021-09-29T09:19:50" class="time">09:19</a></td></tr>
<tr id="t2021-09-29T09:19:55"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">I build on a Mac Mini because I like pain</td><td class="time"><a href="#t2021-09-29T09:19:55" class="time">09:19</a></td></tr>
<tr id="t2021-09-29T09:20:06"><th class="nick" style="background: #8c4a4a">ThomasD13</th><td class="text" style="color: #8c4a4a">:D</td><td class="time"><a href="#t2021-09-29T09:20:06" class="time">09:20</a></td></tr>
<tr id="t2021-09-29T09:20:24"><th class="nick" style="background: #407a40">JosefHolzmayrThe</th><td class="text" style="color: #407a40">the real killer feature is that we can now have multiple devs kicking off builds at reasonable core counts (16-32) without competing for resources.</td><td class="time"><a href="#t2021-09-29T09:20:24" class="time">09:20</a></td></tr>
<tr id="t2021-09-29T09:21:09"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">My previous company was running icecc (icecream) comapny wide</td><td class="time"><a href="#t2021-09-29T09:21:09" class="time">09:21</a></td></tr>
<tr id="t2021-09-29T09:21:21"><th class="nick" style="background: #488888">kanavin</th><td class="text" style="color: #488888">I think the main advantage of server grade CPUs is that you can put a lot of RAM in them. threadrippers are capped at 256G.</td><td class="time"><a href="#t2021-09-29T09:21:21" class="time">09:21</a></td></tr>
<tr id="t2021-09-29T09:21:28"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">it didn't always work properly because of outdated icecc in some devs PCs</td><td class="time"><a href="#t2021-09-29T09:21:28" class="time">09:21</a></td></tr>
<tr id="t2021-09-29T09:21:40"><th class="nick" style="background: #8c4a4a">ThomasD13</th><td class="text" style="color: #8c4a4a">Yeah, that server grad CPUs have a lot of PCIe lanes - thats a big advantage</td><td class="time"><a href="#t2021-09-29T09:21:40" class="time">09:21</a></td></tr>
<tr id="t2021-09-29T09:21:50"><th class="nick" style="background: #407a40">JosefHolzmayrThe</th><td class="text" style="color: #407a40">in the end it all depends on the use case and the budget, how you put it to best use.</td><td class="time"><a href="#t2021-09-29T09:21:50" class="time">09:21</a></td></tr>
<tr id="t2021-09-29T09:21:51"><th class="nick" style="background: #488888">kanavin</th><td class="text" style="color: #488888">but they cost dearly. If you want a machine just for yourself, don't get that :)</td><td class="time"><a href="#t2021-09-29T09:21:51" class="time">09:21</a></td></tr>
<tr id="t2021-09-29T09:22:08"><th class="nick" style="background: #488888">kanavin</th><td class="text" style="color: #488888">threadrippers is the best thing that could happen to yocto</td><td class="time"><a href="#t2021-09-29T09:22:08" class="time">09:22</a></td></tr>
<tr id="t2021-09-29T09:22:26"><th class="nick" style="background: #488888">kanavin</th><td class="text" style="color: #488888">crazy core counts available for non-astronomical price</td><td class="time"><a href="#t2021-09-29T09:22:26" class="time">09:22</a></td></tr>
<tr id="t2021-09-29T09:22:27"><th class="nick" style="background: #8c4a4a">ThomasD13</th><td class="text" style="color: #8c4a4a">kanavin, exactly that is true in my case. My boss doesnt really understand WHAT i am actually doing</td><td class="time"><a href="#t2021-09-29T09:22:27" class="time">09:22</a></td></tr>
<tr id="t2021-09-29T09:24:44"><th class="nick" style="background: #407a40">JosefHolzmayrThe</th><td class="text" style="color: #407a40">at the moment i'm rather banging my head against some pecularities of using a container on said machine for gitlab-runner</td><td class="time"><a href="#t2021-09-29T09:24:44" class="time">09:24</a></td></tr>
<tr id="t2021-09-29T10:02:09-2"><td class="nickchange" colspan="2">*** camus1 is now known as camus</td><td><a href="#t2021-09-29T10:02:09-2" class="time">10:02</a></td></tr>
<tr id="t2021-09-29T10:52:53-2"><td class="nickchange" colspan="2">*** camus1 is now known as camus</td><td><a href="#t2021-09-29T10:52:53-2" class="time">10:52</a></td></tr>
<tr id="t2021-09-29T11:12:39"><td class="nickchange" colspan="2">*** camus1 is now known as camus</td><td><a href="#t2021-09-29T11:12:39" class="time">11:12</a></td></tr>
<tr id="t2021-09-29T11:33:54"><th class="nick" style="background: #4b904b">Ad0</th><td class="text" style="color: #4b904b">how do I make sure I have everything needed to make bluetooth serial work ?</td><td class="time"><a href="#t2021-09-29T11:33:54" class="time">11:33</a></td></tr>
<tr id="t2021-09-29T11:34:14"><th class="nick" style="background: #4b904b">Ad0</th><td class="text" style="color: #4b904b">it's rpi3</td><td class="time"><a href="#t2021-09-29T11:34:14" class="time">11:34</a></td></tr>
<tr id="t2021-09-29T11:37:24"><th class="nick" style="background: #4b904b">Ad0</th><td class="text" style="color: #4b904b">there's always a mix between DISTRO_FEATURES and IMAGE_INSTALL on those</td><td class="time"><a href="#t2021-09-29T11:37:24" class="time">11:37</a></td></tr>
<tr id="t2021-09-29T11:57:29"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">kanavin: I think you fixed a determinism issue with the parallelism option for zstd creeping into the output? Does that issue affect the current xz too?</td><td class="time"><a href="#t2021-09-29T11:57:29" class="time">11:57</a></td></tr>
<tr id="t2021-09-29T12:02:28"><th class="nick" style="background: #488888">kanavin</th><td class="text" style="color: #488888">RP: I am lacking context; i have not seen any determinism issues with zstd. The rpm package output is the same regardless of amount of threads or compression level,</td><td class="time"><a href="#t2021-09-29T12:02:28" class="time">12:02</a></td></tr>
<tr id="t2021-09-29T12:03:53"><th class="nick" style="background: #488888">kanavin</th><td class="text" style="color: #488888">or, is it specific to rpm?</td><td class="time"><a href="#t2021-09-29T12:03:53" class="time">12:03</a></td></tr>
<tr id="t2021-09-29T12:04:33"><th class="nick" style="background: #488888">kanavin</th><td class="text" style="color: #488888">is it ths <a href="http://git.yoctoproject.org/cgit.cgi/poky-contrib/diff/meta/recipes-devtools/rpm/files/0001-build-pack.c-do-not-insert-payloadflags-into-.rpm-me.patch?h=akanavin/package-version-updates&amp;id=9c7256a3077fa1a71cdaab5942e50053e2f6992c" rel="nofollow">http://git.yoctoproject.org/cgit.cgi/poky-contrib/diff/meta/recipes-devtools/rpm/files/0001-build-pack.c-do-not-insert-payloadflags-into-.rpm-me.patch?h=akanavin/package-version-updates&amp;id=9c7256a3077fa1a71cdaab5942e50053e2f6992c</a> ?</td><td class="time"><a href="#t2021-09-29T12:04:33" class="time">12:04</a></td></tr>
<tr id="t2021-09-29T12:05:00"><th class="nick" style="background: #488888">kanavin</th><td class="text" style="color: #488888">in that case yes, it is not specific to compressor setting</td><td class="time"><a href="#t2021-09-29T12:05:00" class="time">12:05</a></td></tr>
<tr id="t2021-09-29T12:06:09"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">kanavin: Yes, that is the patch I was thinking of. I think we need this in master to fix problems I'm seeing</td><td class="time"><a href="#t2021-09-29T12:06:09" class="time">12:06</a></td></tr>
<tr id="t2021-09-29T12:06:31"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">kanavin: I'm trying to allow reuse of the autobuilder sstate feeds but this is breaking things</td><td class="time"><a href="#t2021-09-29T12:06:31" class="time">12:06</a></td></tr>
<tr id="t2021-09-29T12:06:40"><th class="nick" style="background: #488888">kanavin</th><td class="text" style="color: #488888">RP: yes, I think it coincidentally worked because AB was setting threads to 8 across hosts</td><td class="time"><a href="#t2021-09-29T12:06:40" class="time">12:06</a></td></tr>
<tr id="t2021-09-29T12:07:01"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">kanavin: right, we've got lucky in a few cases :/</td><td class="time"><a href="#t2021-09-29T12:07:01" class="time">12:07</a></td></tr>
<tr id="t2021-09-29T12:07:22"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">kanavin: fancy sending it for master? :)</td><td class="time"><a href="#t2021-09-29T12:07:22" class="time">12:07</a></td></tr>
<tr id="t2021-09-29T12:07:25"><th class="nick" style="background: #488888">kanavin</th><td class="text" style="color: #488888">RP: meanwhile I am tackling a bigger rust fish: mozjs! :)</td><td class="time"><a href="#t2021-09-29T12:07:25" class="time">12:07</a></td></tr>
<tr id="t2021-09-29T12:07:49"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">kanavin: you do seem to enjoy 'fun' challenges ;-)</td><td class="time"><a href="#t2021-09-29T12:07:49" class="time">12:07</a></td></tr>
<tr id="t2021-09-29T12:07:57"><th class="nick" style="background: #488888">kanavin</th><td class="text" style="color: #488888">RP: I am starting to seriously consider dropping all custom targets we create and (try to) use for rust, and use upstream ones only.</td><td class="time"><a href="#t2021-09-29T12:07:57" class="time">12:07</a></td></tr>
<tr id="t2021-09-29T12:08:09"><th class="nick" style="background: #488888">kanavin</th><td class="text" style="color: #488888">RP: there's too much in the ecosystem that assumes use of standard targets</td><td class="time"><a href="#t2021-09-29T12:08:09" class="time">12:08</a></td></tr>
<tr id="t2021-09-29T12:08:33"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">kanavin: which custom targets do we create and why? I'm afraid I'm lacking context :/</td><td class="time"><a href="#t2021-09-29T12:08:33" class="time">12:08</a></td></tr>
<tr id="t2021-09-29T12:08:58"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">rburton: I think rpm is one part of the sstate reuse issue we're seeing</td><td class="time"><a href="#t2021-09-29T12:08:58" class="time">12:08</a></td></tr>
<tr id="t2021-09-29T12:09:06"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">sadly there are more</td><td class="time"><a href="#t2021-09-29T12:09:06" class="time">12:09</a></td></tr>
<tr id="t2021-09-29T12:09:37"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">kanavin: we should also probably tweak the reproducibility test to change the number of threads</td><td class="time"><a href="#t2021-09-29T12:09:37" class="time">12:09</a></td></tr>
<tr id="t2021-09-29T12:09:47"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">(add or remove one in the second run)</td><td class="time"><a href="#t2021-09-29T12:09:47" class="time">12:09</a></td></tr>
<tr id="t2021-09-29T12:10:54"><th class="nick" style="background: #488888">kanavin</th><td class="text" style="color: #488888">RP: <a href="https://doc.rust-lang.org/nightly/rustc/platform-support.html" rel="nofollow">https://doc.rust-lang.org/nightly/rustc/platform-support.html</a></td><td class="time"><a href="#t2021-09-29T12:10:54" class="time">12:10</a></td></tr>
<tr id="t2021-09-29T12:11:09"><th class="nick" style="background: #488888">kanavin</th><td class="text" style="color: #488888">RP: these are the standard ones that come out of the box with rust, and are tested upstream</td><td class="time"><a href="#t2021-09-29T12:11:09" class="time">12:11</a></td></tr>
<tr id="t2021-09-29T12:12:00"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">kanavin: ah. So you're proposing we drop mips, musl, powerpc?</td><td class="time"><a href="#t2021-09-29T12:12:00" class="time">12:12</a></td></tr>
<tr id="t2021-09-29T12:12:26"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">kanavin: this would mean we drop sato since that depends on rsvg?</td><td class="time"><a href="#t2021-09-29T12:12:26" class="time">12:12</a></td></tr>
<tr id="t2021-09-29T12:12:31"><th class="nick" style="background: #488888">kanavin</th><td class="text" style="color: #488888">RP: we on the other hand define and use custom ones (the definition is a json file), e.g. 'aarch64-poky-linux'. This is problematic, as 'the ecosystem' generally isn't expecting such custom targets, and sees them only as a way to 'bringup' new hardware.</td><td class="time"><a href="#t2021-09-29T12:12:31" class="time">12:12</a></td></tr>
<tr id="t2021-09-29T12:13:21"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">kanavin: ah, I wasn't looking far enough, there is tier 3</td><td class="time"><a href="#t2021-09-29T12:13:21" class="time">12:13</a></td></tr>
<tr id="t2021-09-29T12:13:30"><th class="nick" style="background: #488888">kanavin</th><td class="text" style="color: #488888">RP: not at all. standard targets do include mips, musl and powerpc. They're not guaranteed to be as well tested as 'tier 1'.</td><td class="time"><a href="#t2021-09-29T12:13:30" class="time">12:13</a></td></tr>
<tr id="t2021-09-29T12:13:58"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">kanavin: mapping our values to the rust preferred name does seem sensible</td><td class="time"><a href="#t2021-09-29T12:13:58" class="time">12:13</a></td></tr>
<tr id="t2021-09-29T12:14:11"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">we already do something like that in openssl iirc</td><td class="time"><a href="#t2021-09-29T12:14:11" class="time">12:14</a></td></tr>
<tr id="t2021-09-29T12:15:07"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">kanavin: I'll port that patch if you are busy btw, one way or another I'm going to need it to get any further fixing this sstate reuse issue</td><td class="time"><a href="#t2021-09-29T12:15:07" class="time">12:15</a></td></tr>
<tr id="t2021-09-29T12:15:31"><th class="nick" style="background: #488888">kanavin</th><td class="text" style="color: #488888">RP: this is where the custom stuff is defined and written out: <a href="http://git.yoctoproject.org/cgit.cgi/poky/tree/meta/recipes-devtools/rust/rust-common.inc?h=master-next#n121" rel="nofollow">http://git.yoctoproject.org/cgit.cgi/poky/tree/meta/recipes-devtools/rust/rust-common.inc?h=master-next#n121</a></td><td class="time"><a href="#t2021-09-29T12:15:31" class="time">12:15</a></td></tr>
<tr id="t2021-09-29T12:16:02"><th class="nick" style="background: #488888">kanavin</th><td class="text" style="color: #488888">I have already had to add x32 in there (a copy-tweak from rust source code), and this got me thinking that it's problematic.</td><td class="time"><a href="#t2021-09-29T12:16:02" class="time">12:16</a></td></tr>
<tr id="t2021-09-29T12:16:16"><th class="nick" style="background: #488888">kanavin</th><td class="text" style="color: #488888">Now that I've tried to build mozjs, it's even more problematic.</td><td class="time"><a href="#t2021-09-29T12:16:16" class="time">12:16</a></td></tr>
<tr id="t2021-09-29T12:16:41"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">kanavin: it does less than ideal so I'm open to trying changes</td><td class="time"><a href="#t2021-09-29T12:16:41" class="time">12:16</a></td></tr>
<tr id="t2021-09-29T12:17:02"><th class="nick" style="background: #488888">kanavin</th><td class="text" style="color: #488888">RP: yes please (the rpm patch)</td><td class="time"><a href="#t2021-09-29T12:17:02" class="time">12:17</a></td></tr>
<tr id="t2021-09-29T12:19:36"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">kanavin: it seems to apply without changes :)</td><td class="time"><a href="#t2021-09-29T12:19:36" class="time">12:19</a></td></tr>
<tr id="t2021-09-29T12:20:07"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">That means something else will go badly wrong in a minute</td><td class="time"><a href="#t2021-09-29T12:20:07" class="time">12:20</a></td></tr>
<tr id="t2021-09-29T12:22:24"><th class="nick" style="background: #488888">kanavin</th><td class="text" style="color: #488888">RP: the reason I got into mozjs upgrade is that existing mozjs (which does not use rust) won't build with python 3.10</td><td class="time"><a href="#t2021-09-29T12:22:24" class="time">12:22</a></td></tr>
<tr id="t2021-09-29T12:22:51"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">kanavin: ah. Good timing with rust then...</td><td class="time"><a href="#t2021-09-29T12:22:51" class="time">12:22</a></td></tr>
<tr id="t2021-09-29T12:24:34"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">where do I submit about wrong mailing list link in the layer index? specifically for meta-freescale</td><td class="time"><a href="#t2021-09-29T12:24:34" class="time">12:24</a></td></tr>
<tr id="t2021-09-29T12:30:04"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">jaskij[m]: to the correct ML :)</td><td class="time"><a href="#t2021-09-29T12:30:04" class="time">12:30</a></td></tr>
<tr id="t2021-09-29T12:30:15"><th class="nick" style="background: #9b519b">agherzan</th><td class="text" style="color: #9b519b">I have some layers in the layers index that I'm not maintaining anymore (old workplaces). How can I remove myself as maintainer?</td><td class="time"><a href="#t2021-09-29T12:30:15" class="time">12:30</a></td></tr>
<tr id="t2021-09-29T12:30:16"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">meta-freescale@lists.yoctoproject.org</td><td class="time"><a href="#t2021-09-29T12:30:16" class="time">12:30</a></td></tr>
<tr id="t2021-09-29T12:30:21"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">of course :D</td><td class="time"><a href="#t2021-09-29T12:30:21" class="time">12:30</a></td></tr>
<tr id="t2021-09-29T12:30:47"><th class="nick" style="background: #539e9e">mbrothers</th><td class="text" style="color: #539e9e">Question about using patches. I have created a patch using `git format-patch -1` and applying it using `SRC_URI += &quot;file://0001-...patch&quot;`. But, I am getting errors while it is applied. How can I debug this easily? Which commands are used by yocto under the hood?</td><td class="time"><a href="#t2021-09-29T12:30:47" class="time">12:30</a></td></tr>
<tr id="t2021-09-29T12:31:01"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">what errors?</td><td class="time"><a href="#t2021-09-29T12:31:01" class="time">12:31</a></td></tr>
<tr id="t2021-09-29T12:31:36"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">that's typically right, problems may be because you didn't generate the patch from the right path, or your S is set such that the prefix is wrong</td><td class="time"><a href="#t2021-09-29T12:31:36" class="time">12:31</a></td></tr>
<tr id="t2021-09-29T12:31:52"><th class="nick" style="background: #9b519b">agherzan</th><td class="text" style="color: #9b519b">Layer index: how can I query for all the layers I've submitted and for those that I'm a maintainer for?</td><td class="time"><a href="#t2021-09-29T12:31:52" class="time">12:31</a></td></tr>
<tr id="t2021-09-29T12:31:52-2"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">qschulz: I think it's more of a global issue, caused by a change in the structure of software at lists.yoctoproject.org</td><td class="time"><a href="#t2021-09-29T12:31:52-2" class="time">12:31</a></td></tr>
<tr id="t2021-09-29T12:32:50"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">even the link for Poky itself points to <a href="https://lists.yoctoproject.org/listinfo/poky" rel="nofollow">https://lists.yoctoproject.org/listinfo/poky</a> where the correct link is <a href="https://lists.yoctoproject.org/g/poky" rel="nofollow">https://lists.yoctoproject.org/g/poky</a></td><td class="time"><a href="#t2021-09-29T12:32:50" class="time">12:32</a></td></tr>
<tr id="t2021-09-29T12:33:01"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">the same is true for meta-freescale</td><td class="time"><a href="#t2021-09-29T12:33:01" class="time">12:33</a></td></tr>
<tr id="t2021-09-29T12:33:08"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">*for meta-poky</td><td class="time"><a href="#t2021-09-29T12:33:08" class="time">12:33</a></td></tr>
<tr id="t2021-09-29T12:34:09"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">jaskij[m]: please send patches :)</td><td class="time"><a href="#t2021-09-29T12:34:09" class="time">12:34</a></td></tr>
<tr id="t2021-09-29T12:34:31"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">but yes, the tool used to manage mailing list was changed about a year or two ago</td><td class="time"><a href="#t2021-09-29T12:34:31" class="time">12:34</a></td></tr>
<tr id="t2021-09-29T12:34:45"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">where? &quot;about this site&quot; on layer index throws a 404</td><td class="time"><a href="#t2021-09-29T12:34:45" class="time">12:34</a></td></tr>
<tr id="t2021-09-29T12:35:53"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">jaskij[m]: the mail address is listed in the link you gave us above (the one for poky)</td><td class="time"><a href="#t2021-09-29T12:35:53" class="time">12:35</a></td></tr>
<tr id="t2021-09-29T12:36:07"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">and you have the same for other layers</td><td class="time"><a href="#t2021-09-29T12:36:07" class="time">12:36</a></td></tr>
<tr id="t2021-09-29T12:36:53"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">So I'd have to dig through the whole index and submit about the change? Man, I need to write a crawler for that :P</td><td class="time"><a href="#t2021-09-29T12:36:53" class="time">12:36</a></td></tr>
<tr id="t2021-09-29T12:37:11"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">I don't know what the layer index &quot;about this site&quot; page should redirect to sorry</td><td class="time"><a href="#t2021-09-29T12:37:11" class="time">12:37</a></td></tr>
<tr id="t2021-09-29T12:37:20"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">halstead: michaelo: ndec_: maybe know ^</td><td class="time"><a href="#t2021-09-29T12:37:20" class="time">12:37</a></td></tr>
<tr id="t2021-09-29T12:38:06"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">jaskij[m]: only the layers hosted on git.yoctoproject.org and git.openembedded.org</td><td class="time"><a href="#t2021-09-29T12:38:06" class="time">12:38</a></td></tr>
<tr id="t2021-09-29T12:39:02"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">it's better to have a patch for a few than for none, so at least send the ones you encounter, though we would be very grateful if you did it for all repos since you're offering :)</td><td class="time"><a href="#t2021-09-29T12:39:02" class="time">12:39</a></td></tr>
<tr id="t2021-09-29T12:40:19"><th class="nick" style="background: #57a657">ndec_</th><td class="text" style="color: #57a657">qschulz: jaskij[m] : right, i can see the issue.. i can fix the index for meta-freescale.. but I am not sure if we can do a fix-all-at-once change..</td><td class="time"><a href="#t2021-09-29T12:40:19" class="time">12:40</a></td></tr>
<tr id="t2021-09-29T12:40:57"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">ndec_: I pinged you more about <a href="https://layers.openembedded.org/layerindex/about/" rel="nofollow">https://layers.openembedded.org/layerindex/about/</a> :)</td><td class="time"><a href="#t2021-09-29T12:40:57" class="time">12:40</a></td></tr>
<tr id="t2021-09-29T12:41:07"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">Might as well write an automated scanner for dead mailing list links and such. Been looking for a project to learn Rust :P although with my life as it is, no promises on timelines.</td><td class="time"><a href="#t2021-09-29T12:41:07" class="time">12:41</a></td></tr>
<tr id="t2021-09-29T12:41:50"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">aaaaaaah, jaskij[m] you were talking about the mailing list displayed on the layersindex? I thought in some layers' README or something</td><td class="time"><a href="#t2021-09-29T12:41:50" class="time">12:41</a></td></tr>
<tr id="t2021-09-29T12:41:55"><th class="nick" style="background: #57a657">ndec_</th><td class="text" style="color: #57a657">i am not sure it is a patch that we need. i think we need to make a change in the layerindex admin panel.</td><td class="time"><a href="#t2021-09-29T12:41:55" class="time">12:41</a></td></tr>
<tr id="t2021-09-29T12:42:03"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">layerindex, yes</td><td class="time"><a href="#t2021-09-29T12:42:03" class="time">12:42</a></td></tr>
<tr id="t2021-09-29T12:42:09"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">my bad if I caused confusion</td><td class="time"><a href="#t2021-09-29T12:42:09" class="time">12:42</a></td></tr>
<tr id="t2021-09-29T12:42:28"><th class="nick" style="background: #539e9e">mbrothers</th><td class="text" style="color: #539e9e">rburton: I am getting &quot;Cannot rename file without two valid file names&quot; where if I do it locally (git am 0001...patch) it works fine</td><td class="time"><a href="#t2021-09-29T12:42:28" class="time">12:42</a></td></tr>
<tr id="t2021-09-29T12:42:34"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">jaskij[m]: then I don't know where this needs to be changed, ndec_ and others will know :)</td><td class="time"><a href="#t2021-09-29T12:42:34" class="time">12:42</a></td></tr>
<tr id="t2021-09-29T12:42:42"><th class="nick" style="background: #57a657">ndec_</th><td class="text" style="color: #57a657">the README in meta-freescale is showing the right mailing list. but layerindex does not parse the mailing list from the tree. it must have been entered manually</td><td class="time"><a href="#t2021-09-29T12:42:42" class="time">12:42</a></td></tr>
<tr id="t2021-09-29T12:43:02"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">mbrothers: it usually applies using quilt</td><td class="time"><a href="#t2021-09-29T12:43:02" class="time">12:43</a></td></tr>
<tr id="t2021-09-29T12:43:28-2"><th class="nick" style="background: #539e9e">mbrothers</th><td class="text" style="color: #539e9e">alright, I'll try to reproduce it using quilt, I'll get back to you!</td><td class="time"><a href="#t2021-09-29T12:43:28-2" class="time">12:43</a></td></tr>
<tr id="t2021-09-29T12:43:30"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">you can set PATCHTOOL=git if you want, but it sounds like your patch is just a bit weird and might need a bit of love to not be a git-specific patch</td><td class="time"><a href="#t2021-09-29T12:43:30" class="time">12:43</a></td></tr>
<tr id="t2021-09-29T12:43:31"><th class="nick" style="background: #539e9e">mbrothers</th><td class="text" style="color: #539e9e">Thanks!</td><td class="time"><a href="#t2021-09-29T12:43:31" class="time">12:43</a></td></tr>
<tr id="t2021-09-29T12:43:36"><th class="nick" style="background: #57a657">ndec_</th><td class="text" style="color: #57a657">jaskij[m]: i am sure a BZ entry with the list of issues you found would be helpful</td><td class="time"><a href="#t2021-09-29T12:43:36" class="time">12:43</a></td></tr>
<tr id="t2021-09-29T12:44:22"><th class="nick" style="background: #539e9e">mbrothers</th><td class="text" style="color: #539e9e">rburton: Yes, it is renaming+modifying sources, so it may have some attention there</td><td class="time"><a href="#t2021-09-29T12:44:22" class="time">12:44</a></td></tr>
<tr id="t2021-09-29T12:45:08"><th class="nick" style="background: #539e9e">mbrothers</th><td class="text" style="color: #539e9e">rburton: just for my information, is it possible to add that PATCHTOOL directive also in the &quot;SRC_URI += file://...patch&quot; line?</td><td class="time"><a href="#t2021-09-29T12:45:08" class="time">12:45</a></td></tr>
<tr id="t2021-09-29T12:45:24"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">no, just set PATCHTOOL in the recipe</td><td class="time"><a href="#t2021-09-29T12:45:24" class="time">12:45</a></td></tr>
<tr id="t2021-09-29T12:45:35"><th class="nick" style="background: #539e9e">mbrothers</th><td class="text" style="color: #539e9e">rburton: alright, thanks!</td><td class="time"><a href="#t2021-09-29T12:45:35" class="time">12:45</a></td></tr>
<tr id="t2021-09-29T12:46:54"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">ndec_: I'll do it once I'm home, probably will try to get started on that scanner too</td><td class="time"><a href="#t2021-09-29T12:46:54" class="time">12:46</a></td></tr>
<tr id="t2021-09-29T12:48:23"><th class="nick" style="background: #57a657">ndec_</th><td class="text" style="color: #57a657">it's a property (mailing list) in the layer entry. i am not sure if the layer maintainer has permission to update the information directly, or if it should be an admin. maybe bluelightning or RP would know. in any case, it's a good finding..</td><td class="time"><a href="#t2021-09-29T12:48:23" class="time">12:48</a></td></tr>
<tr id="t2021-09-29T12:48:39"><th class="nick" style="background: #57a657">ndec_</th><td class="text" style="color: #57a657">qschulz: re: the about page which is broken, please submit a bug :)</td><td class="time"><a href="#t2021-09-29T12:48:39" class="time">12:48</a></td></tr>
<tr id="t2021-09-29T12:50:07"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">ndec_: I've got a bunch of questions, is there some docs for the layer index I could read, or a repo I could try going through?</td><td class="time"><a href="#t2021-09-29T12:50:07" class="time">12:50</a></td></tr>
<tr id="t2021-09-29T12:51:35"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">ndec_: I do not know. I think rburton did get admin access</td><td class="time"><a href="#t2021-09-29T12:51:35" class="time">12:51</a></td></tr>
<tr id="t2021-09-29T12:51:59"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">the layer owner can update it</td><td class="time"><a href="#t2021-09-29T12:51:59" class="time">12:51</a></td></tr>
<tr id="t2021-09-29T12:52:05"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">what layer?</td><td class="time"><a href="#t2021-09-29T12:52:05" class="time">12:52</a></td></tr>
<tr id="t2021-09-29T12:52:19"><th class="nick" style="background: #57a657">ndec_</th><td class="text" style="color: #57a657">i have admin access too, i can make the change. but i wanted to understand if admins should make the changes, or if we should request all maintainers to verify their entry.</td><td class="time"><a href="#t2021-09-29T12:52:19" class="time">12:52</a></td></tr>
<tr id="t2021-09-29T12:52:40"><th class="nick" style="background: #57a657">ndec_</th><td class="text" style="color: #57a657">meta-freescale mailing in the layerindex points to the old mailman, not groups.io link.</td><td class="time"><a href="#t2021-09-29T12:52:40" class="time">12:52</a></td></tr>
<tr id="t2021-09-29T12:52:46"><th class="nick" style="background: #57a657">ndec_</th><td class="text" style="color: #57a657">and probably many others.</td><td class="time"><a href="#t2021-09-29T12:52:46" class="time">12:52</a></td></tr>
<tr id="t2021-09-29T12:53:04"><th class="nick" style="background: #57a657">ndec_</th><td class="text" style="color: #57a657">ah, rburton you answered my question :)</td><td class="time"><a href="#t2021-09-29T12:53:04" class="time">12:53</a></td></tr>
<tr id="t2021-09-29T12:53:38"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">so the owner of meta-freescale is otavio</td><td class="time"><a href="#t2021-09-29T12:53:38" class="time">12:53</a></td></tr>
<tr id="t2021-09-29T12:55:33"><th class="nick" style="background: #57a657">ndec_</th><td class="text" style="color: #57a657">hmm. actually the problem might be slightly different.. <a href="https://lists.yoctoproject.org/listinfo/meta-freescale" rel="nofollow">https://lists.yoctoproject.org/listinfo/meta-freescale</a> is (I think) supposed to redirect to the new groups.io link, but it does not. while similar links for OE work.</td><td class="time"><a href="#t2021-09-29T12:55:33" class="time">12:55</a></td></tr>
<tr id="t2021-09-29T12:55:56"><th class="nick" style="background: #57a657">ndec_</th><td class="text" style="color: #57a657">e.g. <a href="http://lists.openembedded.org/mailman/listinfo/openembedded-core" rel="nofollow">http://lists.openembedded.org/mailman/listinfo/openembedded-core</a> redirects fine.</td><td class="time"><a href="#t2021-09-29T12:55:56" class="time">12:55</a></td></tr>
<tr id="t2021-09-29T12:56:21"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">ndec_: yeah definitely two problems</td><td class="time"><a href="#t2021-09-29T12:56:21" class="time">12:56</a></td></tr>
<tr id="t2021-09-29T12:56:25"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">i've updated the layer for otavio</td><td class="time"><a href="#t2021-09-29T12:56:25" class="time">12:56</a></td></tr>
<tr id="t2021-09-29T12:56:31"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">but halstead should setup that redirect</td><td class="time"><a href="#t2021-09-29T12:56:31" class="time">12:56</a></td></tr>
<tr id="t2021-09-29T12:56:54"><th class="nick" style="background: #57a657">ndec_</th><td class="text" style="color: #57a657">i am pretty sure it was there initially, but it is broken now..</td><td class="time"><a href="#t2021-09-29T12:56:54" class="time">12:56</a></td></tr>
<tr id="t2021-09-29T13:02:08"><th class="nick" style="background: #5959a9">yates</th><td class="text" style="color: #5959a9">if i have several patches in a recipe (several SRC_URI += &quot;file://patch1.patch&quot;, SRC_URI += &quot;file://patch2.patch&quot;, ...) what order will they be applied in? alphabetical?</td><td class="time"><a href="#t2021-09-29T13:02:08" class="time">13:02</a></td></tr>
<tr id="t2021-09-29T13:03:10"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">yates: order in which they are appearing in SRC_URI</td><td class="time"><a href="#t2021-09-29T13:03:10" class="time">13:03</a></td></tr>
<tr id="t2021-09-29T13:03:28"><th class="nick" style="background: #5959a9">yates</th><td class="text" style="color: #5959a9">qschulz: +1</td><td class="time"><a href="#t2021-09-29T13:03:28" class="time">13:03</a></td></tr>
<tr id="t2021-09-29T13:10:52"><th class="nick" style="background: #9b519b">agherzan</th><td class="text" style="color: #9b519b">bluelightning: Hi Paul. I have a set of layers in the layer index that I'd like to remove myself as maintainer (past work). And also, I have submitted a layer with my current work email which will create the same issue in the future. I can't make these changes as the emails differ from my current one - some of them I don't even have access to anymore.</td><td class="time"><a href="#t2021-09-29T13:10:52" class="time">13:10</a></td></tr>
<tr id="t2021-09-29T13:11:20"><th class="nick" style="background: #9b519b">agherzan</th><td class="text" style="color: #9b519b">And I think the way lindex does it, is by matching the maintainer's email to the account's email.</td><td class="time"><a href="#t2021-09-29T13:11:20" class="time">13:11</a></td></tr>
<tr id="t2021-09-29T14:06:57"><th class="nick" style="background: #adad5b">jonesv[m]</th><td class="text" style="color: #adad5b">Can somebody help me understand the syntax here? <a href="https://github.com/openembedded/meta-openembedded/blob/master/meta-networking/recipes-protocols/quagga/quagga.inc#L196-L199" rel="nofollow">https://github.com/openembedded/meta-openembedded/blob/master/meta-networking/recipes-protocols/quagga/quagga.inc#L196-L199</a>... (full message at <a href="https://libera.ems.host/_matrix/media/r0/download/libera.chat/1280bcbd875d7ea7fc29303008493aaf0550eace" rel="nofollow">https://libera.ems.host/_matrix/media/r0/download/libera.chat/1280bcbd875d7ea7fc29303008493aaf0550eace</a>)</td><td class="time"><a href="#t2021-09-29T14:06:57" class="time">14:06</a></td></tr>
<tr id="t2021-09-29T14:09:15"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">jonesv[m]: it's the marker for an override</td><td class="time"><a href="#t2021-09-29T14:09:15" class="time">14:09</a></td></tr>
<tr id="t2021-09-29T14:10:37"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">jonesv[m]: <a href="https://docs.yoctoproject.org/bitbake/bitbake-user-manual/bitbake-user-manual-metadata.html#conditional-syntax-overrides" rel="nofollow">https://docs.yoctoproject.org/bitbake/bitbake-user-manual/bitbake-user-manual-metadata.html#conditional-syntax-overrides</a></td><td class="time"><a href="#t2021-09-29T14:10:37" class="time">14:10</a></td></tr>
<tr id="t2021-09-29T14:11:05"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">it is the new syntax, previously (all current releases except master) it was an underscore</td><td class="time"><a href="#t2021-09-29T14:11:05" class="time">14:11</a></td></tr>
<tr id="t2021-09-29T14:11:40"><td class="nickchange" colspan="2">*** arca1 is now known as artri</td><td><a href="#t2021-09-29T14:11:40" class="time">14:11</a></td></tr>
<tr id="t2021-09-29T14:17:49"><th class="nick" style="background: #adad5b">jonesv[m]</th><td class="text" style="color: #adad5b">oh, right. But then that brings me to a new question: I am using the following, but it does not start the two services automatically:... (full message at <a href="https://libera.ems.host/_matrix/media/r0/download/libera.chat/15f6f483ef2fee5f85cf64105b69918fc6be7f3a" rel="nofollow">https://libera.ems.host/_matrix/media/r0/download/libera.chat/15f6f483ef2fee5f85cf64105b69918fc6be7f3a</a>)</td><td class="time"><a href="#t2021-09-29T14:17:49" class="time">14:17</a></td></tr>
<tr id="t2021-09-29T14:19:02"><th class="nick" style="background: #adad5b">jonesv[m]</th><td class="text" style="color: #adad5b">I am just trying to define two services from one recipe. Those two binaries `gpio-shutdown` and `i2c-battery` are both built by this recipe, and installed properly. I can `service gpio-shutdown start` and `service i2c-battery start` manually, but they don't start automatically</td><td class="time"><a href="#t2021-09-29T14:19:02" class="time">14:19</a></td></tr>
<tr id="t2021-09-29T14:19:56"><th class="nick" style="background: #adad5b">jonesv[m]</th><td class="text" style="color: #adad5b">I have been looking at `./meta/classes/update-rc.d.bbclass` for two hours now, and I don't really get how the &quot;multi-package&quot; way works (if it does at all). Happy to get advice there</td><td class="time"><a href="#t2021-09-29T14:19:56" class="time">14:19</a></td></tr>
<tr id="t2021-09-29T14:20:37"><th class="nick" style="background: #adad5b">jonesv[m]</th><td class="text" style="color: #adad5b">Also I don't get what they mean with &quot;package&quot;, because for me a recipe describes one package. So I actually define multiple services here, not multiple packages </td><td class="time"><a href="#t2021-09-29T14:20:37" class="time">14:20</a></td></tr>
<tr id="t2021-09-29T14:24:25"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">jonesv[m]: a recipe builds multiple packages</td><td class="time"><a href="#t2021-09-29T14:24:25" class="time">14:24</a></td></tr>
<tr id="t2021-09-29T14:24:33"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">(in the immense majority of cases)</td><td class="time"><a href="#t2021-09-29T14:24:33" class="time">14:24</a></td></tr>
<tr id="t2021-09-29T14:24:47"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">it just happens that ${PN} is both the name of the recipe and of the &quot;main&quot; package</td><td class="time"><a href="#t2021-09-29T14:24:47" class="time">14:24</a></td></tr>
<tr id="t2021-09-29T14:25:44"><th class="nick" style="background: #adad5b">jonesv[m]</th><td class="text" style="color: #adad5b">oh, I see. So it sounds like I should define those packages in my first multi-packages recipe</td><td class="time"><a href="#t2021-09-29T14:25:44" class="time">14:25</a></td></tr>
<tr id="t2021-09-29T14:26:34"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">jonesv[m]: which Yocto release are you working on currently?</td><td class="time"><a href="#t2021-09-29T14:26:34" class="time">14:26</a></td></tr>
<tr id="t2021-09-29T14:27:11"><th class="nick" style="background: #adad5b">jonesv[m]</th><td class="text" style="color: #adad5b">qschulz: 3.2.1</td><td class="time"><a href="#t2021-09-29T14:27:11" class="time">14:27</a></td></tr>
<tr id="t2021-09-29T14:29:32"><th class="nick" style="background: #adad5b">jonesv[m]</th><td class="text" style="color: #adad5b">Seems like the quagga recipe defines the multiple packages here: <a href="https://github.com/openembedded/meta-openembedded/blob/master/meta-networking/recipes-protocols/quagga/quagga.inc#L157-L172" rel="nofollow">https://github.com/openembedded/meta-openembedded/blob/master/meta-networking/recipes-protocols/quagga/quagga.inc#L157-L172</a></td><td class="time"><a href="#t2021-09-29T14:29:32" class="time">14:29</a></td></tr>
<tr id="t2021-09-29T14:30:01"><th class="nick" style="background: #adad5b">jonesv[m]</th><td class="text" style="color: #adad5b">Trying to find in the docs how to build multiple packages from one recipe, it seems like I missed that </td><td class="time"><a href="#t2021-09-29T14:30:01" class="time">14:30</a></td></tr>
<tr id="t2021-09-29T14:30:05"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">jonesv[m]: I think the entries in INITSCRIPT_PACKAGES should be present in PACKAGES too and the init script that is enabled via an INISCRIPT_PACKAGE override should be in the package</td><td class="time"><a href="#t2021-09-29T14:30:05" class="time">14:30</a></td></tr>
<tr id="t2021-09-29T14:30:26"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">don't know how to convey my thoughts better than this</td><td class="time"><a href="#t2021-09-29T14:30:26" class="time">14:30</a></td></tr>
<tr id="t2021-09-29T14:30:56"><th class="nick" style="background: #adad5b">jonesv[m]</th><td class="text" style="color: #adad5b">But that's all done in the same recipe, right? I just need to understand how to deal with multiple packages in one recipe I think</td><td class="time"><a href="#t2021-09-29T14:30:56" class="time">14:30</a></td></tr>
<tr id="t2021-09-29T14:31:04"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">basically, you need FILES_gpio-shutdown += &quot;/path/to/gpio-shutdown.service&quot; and PACKAGES =+ &quot;gpio-shutdown&quot;</td><td class="time"><a href="#t2021-09-29T14:31:04" class="time">14:31</a></td></tr>
<tr id="t2021-09-29T14:31:09"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">+- the typos and correct paths</td><td class="time"><a href="#t2021-09-29T14:31:09" class="time">14:31</a></td></tr>
<tr id="t2021-09-29T14:31:47"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">you can check if your initscript makes it to the correct package by running oe-pkgdata-util find-path '*gpio-shutdown*'</td><td class="time"><a href="#t2021-09-29T14:31:47" class="time">14:31</a></td></tr>
<tr id="t2021-09-29T14:32:23"><th class="nick" style="background: #adad5b">jonesv[m]</th><td class="text" style="color: #adad5b">Got it, let me try that</td><td class="time"><a href="#t2021-09-29T14:32:23" class="time">14:32</a></td></tr>
<tr id="t2021-09-29T14:32:33"><th class="nick" style="background: #adad5b">jonesv[m]</th><td class="text" style="color: #adad5b">Just for the record, this is my simple recipe right now: <a href="https://pastebin.com/TbNr5S5V" rel="nofollow">https://pastebin.com/TbNr5S5V</a></td><td class="time"><a href="#t2021-09-29T14:32:33" class="time">14:32</a></td></tr>
<tr id="t2021-09-29T14:33:34"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">jonesv[m]: your cmake should install the files in the correct directories already so you don't need a do_install_append</td><td class="time"><a href="#t2021-09-29T14:33:34" class="time">14:33</a></td></tr>
<tr id="t2021-09-29T14:33:44"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">but that's nitpicking</td><td class="time"><a href="#t2021-09-29T14:33:44" class="time">14:33</a></td></tr>
<tr id="t2021-09-29T14:34:00"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">but yeah, missing the PACKAGES and FILES variable for each new package</td><td class="time"><a href="#t2021-09-29T14:34:00" class="time">14:34</a></td></tr>
<tr id="t2021-09-29T14:34:05"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">why would `dnf repoquery` on the device give me empty results? any tips on where to look?</td><td class="time"><a href="#t2021-09-29T14:34:05" class="time">14:34</a></td></tr>
<tr id="t2021-09-29T14:34:34"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">in particular `dnf repoquery --list glibc-utils` is empty</td><td class="time"><a href="#t2021-09-29T14:34:34" class="time">14:34</a></td></tr>
<tr id="t2021-09-29T14:35:02"><th class="nick" style="background: #adad5b">jonesv[m]</th><td class="text" style="color: #adad5b">qschulz: but those do_install_append are for the sysvinit services, so they are not part of the project itself (only the recipe). Is that bad practice?</td><td class="time"><a href="#t2021-09-29T14:35:02" class="time">14:35</a></td></tr>
<tr id="t2021-09-29T14:35:41"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">jonesv[m]: misread the recipe, this way is fine, though probably they could be in the git repo already? but that's up to the maintainer's taste</td><td class="time"><a href="#t2021-09-29T14:35:41" class="time">14:35</a></td></tr>
<tr id="t2021-09-29T14:35:55"><th class="nick" style="background: #adad5b">jonesv[m]</th><td class="text" style="color: #adad5b">got it</td><td class="time"><a href="#t2021-09-29T14:35:55" class="time">14:35</a></td></tr>
<tr id="t2021-09-29T14:36:08"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">jaskij[m]: don't know much about dnf repoquery, but, do youa ctually have a dnf repo somewhere to query?</td><td class="time"><a href="#t2021-09-29T14:36:08" class="time">14:36</a></td></tr>
<tr id="t2021-09-29T14:36:22"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">yup, all set up</td><td class="time"><a href="#t2021-09-29T14:36:22" class="time">14:36</a></td></tr>
<tr id="t2021-09-29T14:37:03"><td class="part" colspan="2">*** artri &lt;artri!~arca@208.116.134.46&gt; has left #yocto (Leaving)</td><td><a href="#t2021-09-29T14:37:03" class="time">14:37</a></td></tr>
<tr id="t2021-09-29T14:46:34"><th class="nick" style="background: #adad5b">jonesv[m]</th><td class="text" style="color: #adad5b">qschulz: that `oe-pkgdata-util` is super cool! I have been looking for a way to list all my packages like I saw once in a debug output, e.g.:... (full message at <a href="https://libera.ems.host/_matrix/media/r0/download/libera.chat/6f6ce0758817df9d6ec863a6412e82abb43039df" rel="nofollow">https://libera.ems.host/_matrix/media/r0/download/libera.chat/6f6ce0758817df9d6ec863a6412e82abb43039df</a>)</td><td class="time"><a href="#t2021-09-29T14:46:34" class="time">14:46</a></td></tr>
<tr id="t2021-09-29T14:47:59"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">So, I've found out that postgresql's `initdb` actually depends on `locale` to find out existing locales. Adding an RRECOMNDS is probably something for the mailing list?</td><td class="time"><a href="#t2021-09-29T14:47:59" class="time">14:47</a></td></tr>
<tr id="t2021-09-29T14:48:57"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">without `locale`, you get a warning: `UTC [4118] WARNING:&nbsp;&nbsp;no usable system locales were found`</td><td class="time"><a href="#t2021-09-29T14:48:57" class="time">14:48</a></td></tr>
<tr id="t2021-09-29T14:50:14"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">jaskij[m]: I'd make that a RDEPENDS but yes, please send a patch</td><td class="time"><a href="#t2021-09-29T14:50:14" class="time">14:50</a></td></tr>
<tr id="t2021-09-29T14:51:14"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">true, working with locale is such a basic thing for a database that `RDEPENDS` is probably better</td><td class="time"><a href="#t2021-09-29T14:51:14" class="time">14:51</a></td></tr>
<tr id="t2021-09-29T14:52:02"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">just remember many people are building systems without locales, so if the component won't work in that it would be nice to identify and disable that recipe in some way..</td><td class="time"><a href="#t2021-09-29T14:52:02" class="time">14:52</a></td></tr>
<tr id="t2021-09-29T14:52:28"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">this also probably needs safeguarding for whether glibc is used</td><td class="time"><a href="#t2021-09-29T14:52:28" class="time">14:52</a></td></tr>
<tr id="t2021-09-29T14:53:07"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">jaskij[m]: there is a libc-glibc override</td><td class="time"><a href="#t2021-09-29T14:53:07" class="time">14:53</a></td></tr>
<tr id="t2021-09-29T14:53:38"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">fray: how do I detect that? by checking whether `GLIBC_GENERATE_LOCALES` is empty?</td><td class="time"><a href="#t2021-09-29T14:53:38" class="time">14:53</a></td></tr>
<tr id="t2021-09-29T14:53:52"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">jonesv[m]: enabling buildhistory feature should give you what you want</td><td class="time"><a href="#t2021-09-29T14:53:52" class="time">14:53</a></td></tr>
<tr id="t2021-09-29T14:58:51"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">I assume this needs to work in musl as well.. so I'm not sure..</td><td class="time"><a href="#t2021-09-29T14:58:51" class="time">14:58</a></td></tr>
<tr id="t2021-09-29T14:59:26"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">fray: for now I'm sending this as a glibc-only patch, I've never worked with musl</td><td class="time"><a href="#t2021-09-29T14:59:26" class="time">14:59</a></td></tr>
<tr id="t2021-09-29T14:59:49"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">hoping someone will respond with a necessary correction for musl if it's available</td><td class="time"><a href="#t2021-09-29T14:59:49" class="time">14:59</a></td></tr>
<tr id="t2021-09-29T15:00:59"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">Ya, IMAGE_LINGUAS, but that shouldn't be used as it's &quot;image&quot; specific.&nbsp;&nbsp;I thought there was a variable that said 'construct these locals'.&nbsp;&nbsp;That is the one I was thinking of, but I'm not seeing it</td><td class="time"><a href="#t2021-09-29T15:00:59" class="time">15:00</a></td></tr>
<tr id="t2021-09-29T15:02:07"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">for glibc it's GLIBC_GENERATE_LOCALES, but looking at the recipe an empty string is understood as &quot;all&quot;: <a href="http://cgit.openembedded.org/openembedded-core/tree/meta/classes/libc-package.bbclass?h=dunfell#n199" rel="nofollow">http://cgit.openembedded.org/openembedded-core/tree/meta/classes/libc-package.bbclass?h=dunfell#n199</a></td><td class="time"><a href="#t2021-09-29T15:02:07" class="time">15:02</a></td></tr>
<tr id="t2021-09-29T15:02:25"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">Ya, it's GLIBC_GENERATE_LOCALES .. 'all' is fine, other things might be.. and blank is probably &quot;won't work&quot;</td><td class="time"><a href="#t2021-09-29T15:02:25" class="time">15:02</a></td></tr>
<tr id="t2021-09-29T15:02:43"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">blank is equal to 'all', as per the source linked</td><td class="time"><a href="#t2021-09-29T15:02:43" class="time">15:02</a></td></tr>
<tr id="t2021-09-29T15:02:50"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">Hmm.. I thought there was a way to say none..</td><td class="time"><a href="#t2021-09-29T15:02:50" class="time">15:02</a></td></tr>
<tr id="t2021-09-29T15:02:54"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">Maybe &quot; &quot;</td><td class="time"><a href="#t2021-09-29T15:02:54" class="time">15:02</a></td></tr>
<tr id="t2021-09-29T15:04:08"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">maybe I'm remembering wrong and locales are always generated &quot;in some way&quot;.. then IMAGE_LINGUAS is what gets installed or not</td><td class="time"><a href="#t2021-09-29T15:04:08" class="time">15:04</a></td></tr>
<tr id="t2021-09-29T15:04:14"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">I think having glibc without locale support is not really supported. Sure, you may have those locales not installed (as is common), but glibc will have locale support either way</td><td class="time"><a href="#t2021-09-29T15:04:14" class="time">15:04</a></td></tr>
<tr id="t2021-09-29T15:04:32"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">Ya ya.. glibc locale APIs will always be present for sure</td><td class="time"><a href="#t2021-09-29T15:04:32" class="time">15:04</a></td></tr>
<tr id="t2021-09-29T15:04:45"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">it's been a very long time since we could just turn off locales at that level..</td><td class="time"><a href="#t2021-09-29T15:04:45" class="time">15:04</a></td></tr>
<tr id="t2021-09-29T15:05:11"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">so just `RDEPENDS` on `glibc-utils`, *if* `TCLIBC` is `glibc`</td><td class="time"><a href="#t2021-09-29T15:05:11" class="time">15:05</a></td></tr>
<tr id="t2021-09-29T15:05:30"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">is what I'm thinking</td><td class="time"><a href="#t2021-09-29T15:05:30" class="time">15:05</a></td></tr>
<tr id="t2021-09-29T15:06:05"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">jaskij[m]: I think there's a glibc OVERRIDES available, so an RDEPENDS:${PN}:append:glibc should probably be fine?</td><td class="time"><a href="#t2021-09-29T15:06:05" class="time">15:06</a></td></tr>
<tr id="t2021-09-29T15:08:18"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">ya.. that should work fine (and be simpler)</td><td class="time"><a href="#t2021-09-29T15:08:18" class="time">15:08</a></td></tr>
<tr id="t2021-09-29T15:08:35"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">originally I was thinking we could disable packaging of any locale stuff, but I don't see that -- so my memory was wrong</td><td class="time"><a href="#t2021-09-29T15:08:35" class="time">15:08</a></td></tr>
<tr id="t2021-09-29T15:09:11"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">If there's such an override it'll be perfect</td><td class="time"><a href="#t2021-09-29T15:09:11" class="time">15:09</a></td></tr>
<tr id="t2021-09-29T15:10:16"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">jaskij[m]: :libc-glibc</td><td class="time"><a href="#t2021-09-29T15:10:16" class="time">15:10</a></td></tr>
<tr id="t2021-09-29T15:11:05"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">How much testing is required for patches to be submitted?</td><td class="time"><a href="#t2021-09-29T15:11:05" class="time">15:11</a></td></tr>
<tr id="t2021-09-29T15:12:23"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">Locally I'm working with pgsql 13.3 backported from Hardknott to Dunfell</td><td class="time"><a href="#t2021-09-29T15:12:23" class="time">15:12</a></td></tr>
<tr id="t2021-09-29T15:14:00"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">Thanks qschulz</td><td class="time"><a href="#t2021-09-29T15:14:00" class="time">15:14</a></td></tr>
<tr id="t2021-09-29T15:47:52"><th class="nick" style="background: #adad5b">jonesv[m]</th><td class="text" style="color: #adad5b">qschulz: does not seem to work either :(. Does this look good at least? <a href="https://pastebin.com/2VLrezM5" rel="nofollow">https://pastebin.com/2VLrezM5</a></td><td class="time"><a href="#t2021-09-29T15:47:52" class="time">15:47</a></td></tr>
<tr id="t2021-09-29T15:50:10"><th class="nick" style="background: #adad5b">jonesv[m]</th><td class="text" style="color: #adad5b">I think I misunderstand how to use FILES here: <a href="https://www.yoctoproject.org/docs/3.1/ref-manual/ref-manual.html#var-FILES" rel="nofollow">https://www.yoctoproject.org/docs/3.1/ref-manual/ref-manual.html#var-FILES</a>. Sounds like I should not use the `${WORKDIR}`, but if I use the target path here, how does it know which file should go there?</td><td class="time"><a href="#t2021-09-29T15:50:10" class="time">15:50</a></td></tr>
<tr id="t2021-09-29T15:52:06"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">jonesv[m]: for sure not, it should be ${sysconfdir}/init.d/</td><td class="time"><a href="#t2021-09-29T15:52:06" class="time">15:52</a></td></tr>
<tr id="t2021-09-29T15:52:45"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">check with oe-pkgdata-util list-pkg-files gpio-shutdown does not have the file</td><td class="time"><a href="#t2021-09-29T15:52:45" class="time">15:52</a></td></tr>
<tr id="t2021-09-29T15:53:04"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">it is very likely that you also shoul dhave PACKAGES =+ and not PACKAGES +=</td><td class="time"><a href="#t2021-09-29T15:53:04" class="time">15:53</a></td></tr>
<tr id="t2021-09-29T15:54:13"><th class="nick" style="background: #adad5b">jonesv[m]</th><td class="text" style="color: #adad5b">oh, I thought `=+` was a typo </td><td class="time"><a href="#t2021-09-29T15:54:13" class="time">15:54</a></td></tr>
<tr id="t2021-09-29T15:54:29"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">and ${INIT_D_DIR} could probably replace ${sysconfdir}/init.d/ not that it matters much :)</td><td class="time"><a href="#t2021-09-29T15:54:29" class="time">15:54</a></td></tr>
<tr id="t2021-09-29T15:55:01"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">jonesv[m]: a file can only appear in one package, so the first FILES to have a regex matching the file gets it</td><td class="time"><a href="#t2021-09-29T15:55:01" class="time">15:55</a></td></tr>
<tr id="t2021-09-29T15:55:05"><th class="nick" style="background: #adad5b">jonesv[m]</th><td class="text" style="color: #adad5b">qschulz: so `FILES_gpio-shutdown += &quot;${D}${sysconfdir}/init.d/gpio-shutdown.sh&quot;`? You don't have the `${D}` above</td><td class="time"><a href="#t2021-09-29T15:55:05" class="time">15:55</a></td></tr>
<tr id="t2021-09-29T15:55:13"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">and the PACKAGES variable is read left to right</td><td class="time"><a href="#t2021-09-29T15:55:13" class="time">15:55</a></td></tr>
<tr id="t2021-09-29T15:55:21"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">jonesv[m]: no, I didn't write ${D}</td><td class="time"><a href="#t2021-09-29T15:55:21" class="time">15:55</a></td></tr>
<tr id="t2021-09-29T15:55:44"><th class="nick" style="background: #adad5b">jonesv[m]</th><td class="text" style="color: #adad5b">So for the install_append, I need `${D}`, but for the `FILES`, I don't?</td><td class="time"><a href="#t2021-09-29T15:55:44" class="time">15:55</a></td></tr>
<tr id="t2021-09-29T15:56:31"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">yes, because FILES mechanism looks into ${D} for files</td><td class="time"><a href="#t2021-09-29T15:56:31" class="time">15:56</a></td></tr>
<tr id="t2021-09-29T15:56:49"><th class="nick" style="background: #adad5b">jonesv[m]</th><td class="text" style="color: #adad5b">right, let my write that down</td><td class="time"><a href="#t2021-09-29T15:56:49" class="time">15:56</a></td></tr>
<tr id="t2021-09-29T15:56:54"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">${D} being a temporary rootfs skeleton per recipe</td><td class="time"><a href="#t2021-09-29T15:56:54" class="time">15:56</a></td></tr>
<tr id="t2021-09-29T15:59:04"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">fray: around?</td><td class="time"><a href="#t2021-09-29T15:59:04" class="time">15:59</a></td></tr>
<tr id="t2021-09-29T16:02:39"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">ya.. on an internal meeting so I might be a bit slow responding, but I'm here</td><td class="time"><a href="#t2021-09-29T16:02:39" class="time">16:02</a></td></tr>
<tr id="t2021-09-29T16:04:34"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">fray: having fun with gitsm fetcher.&nbsp;&nbsp;can i still blame you for that?</td><td class="time"><a href="#t2021-09-29T16:04:34" class="time">16:04</a></td></tr>
<tr id="t2021-09-29T16:05:26"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">lol what isn't working for you.. I can at least tell you if I know about it... :)</td><td class="time"><a href="#t2021-09-29T16:05:26" class="time">16:05</a></td></tr>
<tr id="t2021-09-29T16:05:36"><th class="nick" style="background: #5fb4b4">mbrother1</th><td class="text" style="color: #5fb4b4">rburton: turns out I had binary files in my patch which are a problem in quilt when not using the `--binary` flag when creating the patch</td><td class="time"><a href="#t2021-09-29T16:05:36" class="time">16:05</a></td></tr>
<tr id="t2021-09-29T16:05:44"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">(the one thing that people have complained about and I've so far not done anything about -- is login required for sub modules)</td><td class="time"><a href="#t2021-09-29T16:05:44" class="time">16:05</a></td></tr>
<tr id="t2021-09-29T16:06:15"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">fray: so say v1 of a gitsm repo has foo as a submodule. update to v2 changes foo to bar.&nbsp;&nbsp;on build, it doesn't go and get bar.</td><td class="time"><a href="#t2021-09-29T16:06:15" class="time">16:06</a></td></tr>
<tr id="t2021-09-29T16:06:26"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">Ohhh it should</td><td class="time"><a href="#t2021-09-29T16:06:26" class="time">16:06</a></td></tr>
<tr id="t2021-09-29T16:06:41"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">I thought there was a test case in place for that specific condition (bitbake test case)</td><td class="time"><a href="#t2021-09-29T16:06:41" class="time">16:06</a></td></tr>
<tr id="t2021-09-29T16:07:01"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">I know early on there was a bug that it wasn't doing that reload recursively.. but that was fixed..</td><td class="time"><a href="#t2021-09-29T16:07:01" class="time">16:07</a></td></tr>
<tr id="t2021-09-29T16:07:08"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">i've a reproducer, two releases of edk2-firmware where cmocka changes repo</td><td class="time"><a href="#t2021-09-29T16:07:08" class="time">16:07</a></td></tr>
<tr id="t2021-09-29T16:07:36"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">i'll see if the test case is similar or i can replicate in the same way</td><td class="time"><a href="#t2021-09-29T16:07:36" class="time">16:07</a></td></tr>
<tr id="t2021-09-29T16:07:39"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">What is changing from v1 to v2?&nbsp;&nbsp;URL only, path, and/or submodule entry name?</td><td class="time"><a href="#t2021-09-29T16:07:39" class="time">16:07</a></td></tr>
<tr id="t2021-09-29T16:07:55"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">yeah was just wondering if the tracking code looks at just the path</td><td class="time"><a href="#t2021-09-29T16:07:55" class="time">16:07</a></td></tr>
<tr id="t2021-09-29T16:07:59"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">rburton: writing a selftest would be a great thing anyway as we can then stop things regressing</td><td class="time"><a href="#t2021-09-29T16:07:59" class="time">16:07</a></td></tr>
<tr id="t2021-09-29T16:08:03"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">ya, if you can either replicate it with the existing test case, or get me a test case I can look fairly quickly.. not sure I can't fix it this week -- but it SHOULD work</td><td class="time"><a href="#t2021-09-29T16:08:03" class="time">16:08</a></td></tr>
<tr id="t2021-09-29T16:08:10"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">right</td><td class="time"><a href="#t2021-09-29T16:08:10" class="time">16:08</a></td></tr>
<tr id="t2021-09-29T16:08:46"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">fray: <a href="https://github.com/tianocore/edk2/commit/2ad22420a710dc07e3b644f91a5b55c09c39ecf3" rel="nofollow">https://github.com/tianocore/edk2/commit/2ad22420a710dc07e3b644f91a5b55c09c39ecf3</a> just the url changed</td><td class="time"><a href="#t2021-09-29T16:08:46" class="time">16:08</a></td></tr>
<tr id="t2021-09-29T16:08:55"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">rburton the tricky part with this is if you just 'scan things' you get race conditions (we had a LOT of them early in the development of the code).&nbsp;&nbsp;Moving everything to recursive with locking fixed that, but it's possible that we're not looking at the right set of values as we recurse</td><td class="time"><a href="#t2021-09-29T16:08:55" class="time">16:08</a></td></tr>
<tr id="t2021-09-29T16:09:19"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">right, as the path is the same but the tarball it expands in unpack is different</td><td class="time"><a href="#t2021-09-29T16:09:19" class="time">16:09</a></td></tr>
<tr id="t2021-09-29T16:09:22"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">Ya, it may be looking at JUST the path, but it was intended to look for both</td><td class="time"><a href="#t2021-09-29T16:09:22" class="time">16:09</a></td></tr>
<tr id="t2021-09-29T16:09:37"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">also of course this code is horrid :)</td><td class="time"><a href="#t2021-09-29T16:09:37" class="time">16:09</a></td></tr>
<tr id="t2021-09-29T16:09:42"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">yes it is</td><td class="time"><a href="#t2021-09-29T16:09:42" class="time">16:09</a></td></tr>
<tr id="t2021-09-29T16:09:53"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">it is _WAY WAY WAY WAY_ better then where I started..</td><td class="time"><a href="#t2021-09-29T16:09:53" class="time">16:09</a></td></tr>
<tr id="t2021-09-29T16:10:05"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">i think its time for fetch3 ;)</td><td class="time"><a href="#t2021-09-29T16:10:05" class="time">16:10</a></td></tr>
<tr id="t2021-09-29T16:10:07"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">but trying to replicate git submodule (and it's quarks) without running git submodule.. yikes</td><td class="time"><a href="#t2021-09-29T16:10:07" class="time">16:10</a></td></tr>
<tr id="t2021-09-29T16:12:42"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">code does:</td><td class="time"><a href="#t2021-09-29T16:12:42" class="time">16:12</a></td></tr>
<tr id="t2021-09-29T16:12:42-2"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gitmodules = runfetchcmd(&quot;%s show %s:.gitmodules&quot; % (ud.basecmd, ud.revisions[name]), d, quiet=True, workdir=workdir)</td><td class="time"><a href="#t2021-09-29T16:12:42-2" class="time">16:12</a></td></tr>
<tr id="t2021-09-29T16:13:02"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">then parses the response and uses the key of path and the value is the url (I think)</td><td class="time"><a href="#t2021-09-29T16:13:02" class="time">16:13</a></td></tr>
<tr id="t2021-09-29T16:13:31"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">iterates over each of those and verifies everything is filled out.&nbsp;&nbsp;If it is it then stores the paths, revisions, uris and any subrevisions (don't remember what this means)</td><td class="time"><a href="#t2021-09-29T16:13:31" class="time">16:13</a></td></tr>
<tr id="t2021-09-29T16:14:03"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">then for each module it processes based on the submodule entry name....</td><td class="time"><a href="#t2021-09-29T16:14:03" class="time">16:14</a></td></tr>
<tr id="t2021-09-29T16:14:33"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">builds up a URL table and calls itself (recursively) for the submodules..</td><td class="time"><a href="#t2021-09-29T16:14:33" class="time">16:14</a></td></tr>
<tr id="t2021-09-29T16:14:49"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">(thats more or less how it fetches).. so that seems fairly straight forward</td><td class="time"><a href="#t2021-09-29T16:14:49" class="time">16:14</a></td></tr>
<tr id="t2021-09-29T16:14:59"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">It's probably 'need_update' where things fall apart..</td><td class="time"><a href="#t2021-09-29T16:14:59" class="time">16:14</a></td></tr>
<tr id="t2021-09-29T16:15:29"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">Does the main SRC_URL change?&nbsp;&nbsp;no we end, otherwise we have to process the submodules..</td><td class="time"><a href="#t2021-09-29T16:15:29" class="time">16:15</a></td></tr>
<tr id="t2021-09-29T16:15:40"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">no just the srcrev</td><td class="time"><a href="#t2021-09-29T16:15:40" class="time">16:15</a></td></tr>
<tr id="t2021-09-29T16:16:01"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">which includes a change to .gitmodules which changes the url&nbsp;&nbsp;of a submodule</td><td class="time"><a href="#t2021-09-29T16:16:01" class="time">16:16</a></td></tr>
<tr id="t2021-09-29T16:16:14"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">sorry I mean main SRCREV</td><td class="time"><a href="#t2021-09-29T16:16:14" class="time">16:16</a></td></tr>
<tr id="t2021-09-29T16:16:21"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">yes</td><td class="time"><a href="#t2021-09-29T16:16:21" class="time">16:16</a></td></tr>
<tr id="t2021-09-29T16:16:23"><th class="nick" style="background: #adad5b">jonesv[m]</th><td class="text" style="color: #adad5b">qschulz: I'm really about to cry , I think I must be stupid. So this should be right?... (full message at <a href="https://libera.ems.host/_matrix/media/r0/download/libera.chat/96ffb36d486c17478beef2f2c8c265b9dcf80118" rel="nofollow">https://libera.ems.host/_matrix/media/r0/download/libera.chat/96ffb36d486c17478beef2f2c8c265b9dcf80118</a>)</td><td class="time"><a href="#t2021-09-29T16:16:23" class="time">16:16</a></td></tr>
<tr id="t2021-09-29T16:16:38"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">the idea is if the main one didn't change, then we don't need to do further evaluation as submoudles can't change by definition.. (the same happens when we recursively scan)</td><td class="time"><a href="#t2021-09-29T16:16:38" class="time">16:16</a></td></tr>
<tr id="t2021-09-29T16:17:36"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">WOOP WOOP yocto shoutout by nasa</td><td class="time"><a href="#t2021-09-29T16:17:36" class="time">16:17</a></td></tr>
<tr id="t2021-09-29T16:17:39"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">rburton: the URL changed, but did the SRCREV change?</td><td class="time"><a href="#t2021-09-29T16:17:39" class="time">16:17</a></td></tr>
<tr id="t2021-09-29T16:18:01"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">fray: so the recipe changes the SRCREV of the main recipe. that change includes a change to .gitmodules which changes the url of a submodule.</td><td class="time"><a href="#t2021-09-29T16:18:01" class="time">16:18</a></td></tr>
<tr id="t2021-09-29T16:18:16"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">ya, but does it change the SRCREV of the submodule?</td><td class="time"><a href="#t2021-09-29T16:18:16" class="time">16:18</a></td></tr>
<tr id="t2021-09-29T16:18:23"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">gotcha</td><td class="time"><a href="#t2021-09-29T16:18:23" class="time">16:18</a></td></tr>
<tr id="t2021-09-29T16:18:29"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">There _IS_ a check that if the SRCREV of the submodule is unchanged, it skips further checking</td><td class="time"><a href="#t2021-09-29T16:18:29" class="time">16:18</a></td></tr>
<tr id="t2021-09-29T16:18:46"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">no, it just switches to a different URL</td><td class="time"><a href="#t2021-09-29T16:18:46" class="time">16:18</a></td></tr>
<tr id="t2021-09-29T16:18:55"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">ok.. that is likely the issue then</td><td class="time"><a href="#t2021-09-29T16:18:55" class="time">16:18</a></td></tr>
<tr id="t2021-09-29T16:19:02"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_submodules(ud, ud.clonedir, download_submodule, d)</td><td class="time"><a href="#t2021-09-29T16:19:02" class="time">16:19</a></td></tr>
<tr id="t2021-09-29T16:19:02-2"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Drop a nugget for the srcrev we've fetched (used by need_update)</td><td class="time"><a href="#t2021-09-29T16:19:02-2" class="time">16:19</a></td></tr>
<tr id="t2021-09-29T16:19:02-3"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runfetchcmd(&quot;%s config --add bitbake.srcrev %s&quot; % \</td><td class="time"><a href="#t2021-09-29T16:19:02-3" class="time">16:19</a></td></tr>
<tr id="t2021-09-29T16:19:02-4"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(ud.basecmd, ud.revisions[ud.names[0]]), d, workdir=ud.clonedir)</td><td class="time"><a href="#t2021-09-29T16:19:02-4" class="time">16:19</a></td></tr>
<tr id="t2021-09-29T16:19:29"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">look at the top of need_update.. it looks for known srcrevs.. and then checks them skipping items it has already seen..</td><td class="time"><a href="#t2021-09-29T16:19:29" class="time">16:19</a></td></tr>
<tr id="t2021-09-29T16:19:46"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">The only thing I can think of is somehow adding the URL as well.. so it'd be:</td><td class="time"><a href="#t2021-09-29T16:19:46" class="time">16:19</a></td></tr>
<tr id="t2021-09-29T16:19:55"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">bitbake.srcurl = &lt;url&gt;</td><td class="time"><a href="#t2021-09-29T16:19:55" class="time">16:19</a></td></tr>
<tr id="t2021-09-29T16:20:02"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">bitbake.srcrev = &lt;srcrev&gt;</td><td class="time"><a href="#t2021-09-29T16:20:02" class="time">16:20</a></td></tr>
<tr id="t2021-09-29T16:20:13"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">then load them both, and compare</td><td class="time"><a href="#t2021-09-29T16:20:13" class="time">16:20</a></td></tr>
<tr id="t2021-09-29T16:20:18"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">gotcha, will try</td><td class="time"><a href="#t2021-09-29T16:20:18" class="time">16:20</a></td></tr>
<tr id="t2021-09-29T16:20:37"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">So ya, lack of SRCREV changing is your cause.. but I'm not sure the 'fix', that is just one possibility</td><td class="time"><a href="#t2021-09-29T16:20:37" class="time">16:20</a></td></tr>
<tr id="t2021-09-29T16:20:45"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">sounds feasible</td><td class="time"><a href="#t2021-09-29T16:20:45" class="time">16:20</a></td></tr>
<tr id="t2021-09-29T16:20:52"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">Somehow we need to know the url that 'last time through', so we can quickly compare and bail..</td><td class="time"><a href="#t2021-09-29T16:20:52" class="time">16:20</a></td></tr>
<tr id="t2021-09-29T16:21:58"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">anyway you have your reproducer now.&nbsp;&nbsp; Change the upstream URL w/o changing the SRCREV..</td><td class="time"><a href="#t2021-09-29T16:21:58" class="time">16:21</a></td></tr>
<tr id="t2021-09-29T16:27:47"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">(I doubt I thought of a situation where the URL changed, but the SRCREV didn't at the same time)</td><td class="time"><a href="#t2021-09-29T16:27:47" class="time">16:27</a></td></tr>
<tr id="t2021-09-29T16:30:50"><th class="nick" style="background: #b86161">barath</th><td class="text" style="color: #b86161">does anyone know if the covered/notcovered fix is being worked on for dunfell? I've tried backporting the fix from hardknott to dunfell, but we're still getting those errors</td><td class="time"><a href="#t2021-09-29T16:30:50" class="time">16:30</a></td></tr>
<tr id="t2021-09-29T16:30:57"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">how long does it take to get an account on BZ?</td><td class="time"><a href="#t2021-09-29T16:30:57" class="time">16:30</a></td></tr>
<tr id="t2021-09-29T16:31:21"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">and can I just send an e-mail to the mailing list with the bugs?</td><td class="time"><a href="#t2021-09-29T16:31:21" class="time">16:31</a></td></tr>
<tr id="t2021-09-29T16:31:27"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">*bug</td><td class="time"><a href="#t2021-09-29T16:31:27" class="time">16:31</a></td></tr>
<tr id="t2021-09-29T16:39:00"><td class="nickchange" colspan="2">*** mckoan is now known as mckoan|away</td><td><a href="#t2021-09-29T16:39:00" class="time">16:39</a></td></tr>
<tr id="t2021-09-29T16:47:26"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">jaskij[m]: we can ask halstead</td><td class="time"><a href="#t2021-09-29T16:47:26" class="time">16:47</a></td></tr>
<tr id="t2021-09-29T16:49:37"><th class="nick" style="background: #62bb62">halstead</th><td class="text" style="color: #62bb62">jaskij[m]: accounts are added within an hour usually. There isn't a way to submit bugs via email.</td><td class="time"><a href="#t2021-09-29T16:49:37" class="time">16:49</a></td></tr>
<tr id="t2021-09-29T17:11:59"><th class="nick" style="background: #6464bf">override</th><td class="text" style="color: #6464bf">how can I make an image recipe compress only the rootfs to a format bmap likes and also generate a bmap file and a hash file for ONLY the rootfs in question.</td><td class="time"><a href="#t2021-09-29T17:11:59" class="time">17:11</a></td></tr>
<tr id="t2021-09-29T17:13:26"><th class="nick" style="background: #62bb62">halstead</th><td class="text" style="color: #62bb62">jaskij[m], rburton, ndec_ , about the bad links and mailing lists. We added redirects from the old locations to the new ones as best as possible so old links would work. Especially direct links to message archives.</td><td class="time"><a href="#t2021-09-29T17:13:26" class="time">17:13</a></td></tr>
<tr id="t2021-09-29T17:14:28"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">I</td><td class="time"><a href="#t2021-09-29T17:14:28" class="time">17:14</a></td></tr>
<tr id="t2021-09-29T17:14:50"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">*I'm mostly looking to click through from layer index to actually getting the list e-mail address</td><td class="time"><a href="#t2021-09-29T17:14:50" class="time">17:14</a></td></tr>
<tr id="t2021-09-29T17:15:20"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">which, at least for meta-intel and meta-freescale, isn't possible currently</td><td class="time"><a href="#t2021-09-29T17:15:20" class="time">17:15</a></td></tr>
<tr id="t2021-09-29T17:33:13"><th class="nick" style="background: #c3c366">argonautx</th><td class="text" style="color: #c3c366">hello out there, i want to build kernel modules on the target system and I read that have to add kernel-dev to achive this</td><td class="time"><a href="#t2021-09-29T17:33:13" class="time">17:33</a></td></tr>
<tr id="t2021-09-29T17:33:39"><th class="nick" style="background: #c3c366">argonautx</th><td class="text" style="color: #c3c366">but there is no /usr/src/kernel directory on the target fs</td><td class="time"><a href="#t2021-09-29T17:33:39" class="time">17:33</a></td></tr>
<tr id="t2021-09-29T17:33:52"><th class="nick" style="background: #c3c366">argonautx</th><td class="text" style="color: #c3c366">what did I miss?</td><td class="time"><a href="#t2021-09-29T17:33:52" class="time">17:33</a></td></tr>
<tr id="t2021-09-29T17:36:00"><th class="nick" style="background: #c668c6">zeddii</th><td class="text" style="color: #c668c6">install kernel-devsrc to your image</td><td class="time"><a href="#t2021-09-29T17:36:00" class="time">17:36</a></td></tr>
<tr id="t2021-09-29T17:42:54"><th class="nick" style="background: #6acaca">nateglims</th><td class="text" style="color: #6acaca">Is there a written grammar for bb files or is it just bitbake as a reference implementation?</td><td class="time"><a href="#t2021-09-29T17:42:54" class="time">17:42</a></td></tr>
<tr id="t2021-09-29T17:44:11"><th class="nick" style="background: #6464bf">override</th><td class="text" style="color: #6464bf">zeddii: you know what I can add to image for it to give out rootfs in a format bmaplikes and also an accompanying bmap file???</td><td class="time"><a href="#t2021-09-29T17:44:11" class="time">17:44</a></td></tr>
<tr id="t2021-09-29T17:54:17"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">so gnupg is different on my system compared to the autobuilder because of /usr/bin/sendmail</td><td class="time"><a href="#t2021-09-29T17:54:17" class="time">17:54</a></td></tr>
<tr id="t2021-09-29T18:11:35"><th class="nick" style="background: #c3c366">argonautx</th><td class="text" style="color: #c3c366">zeddii: thanks</td><td class="time"><a href="#t2021-09-29T18:11:35" class="time">18:11</a></td></tr>
<tr id="t2021-09-29T18:50:21"><th class="nick" style="background: #57a657">ndec_</th><td class="text" style="color: #57a657">halstead: ok.. well, i think we need to update the links anyways to the new location!</td><td class="time"><a href="#t2021-09-29T18:50:21" class="time">18:50</a></td></tr>
<tr id="t2021-09-29T18:50:54"><th class="nick" style="background: #62bb62">halstead</th><td class="text" style="color: #62bb62">ndec_: For sure. I'm not sure why the link in question does redirect now or if it ever did.</td><td class="time"><a href="#t2021-09-29T18:50:54" class="time">18:50</a></td></tr>
<tr id="t2021-09-29T18:51:12"><th class="nick" style="background: #62bb62">halstead</th><td class="text" style="color: #62bb62">ndec_: It looks like meta-freescale layer has already updated. Maybe you did that?</td><td class="time"><a href="#t2021-09-29T18:51:12" class="time">18:51</a></td></tr>
<tr id="t2021-09-29T18:51:40"><th class="nick" style="background: #57a657">ndec_</th><td class="text" style="color: #57a657">yes, well. rburton did.</td><td class="time"><a href="#t2021-09-29T18:51:40" class="time">18:51</a></td></tr>
<tr id="t2021-09-29T18:52:03"><th class="nick" style="background: #57a657">ndec_</th><td class="text" style="color: #57a657">but given that a lot of layers need to be updated, perhaps there is a better way than doing it manually..</td><td class="time"><a href="#t2021-09-29T18:52:03" class="time">18:52</a></td></tr>
<tr id="t2021-09-29T18:56:09"><th class="nick" style="background: #ce6c6c">smurray</th><td class="text" style="color: #ce6c6c">RP: I can't seem to ssh into my setup at home this morning, but I grabbed some bits on my laptop and could get the ptest patch in meta-agl-core updated in a pinch</td><td class="time"><a href="#t2021-09-29T18:56:09" class="time">18:56</a></td></tr>
<tr id="t2021-09-29T18:58:36"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">smurray: thanks, these things always happen the most inconvenient way :/</td><td class="time"><a href="#t2021-09-29T18:58:36" class="time">18:58</a></td></tr>
<tr id="t2021-09-29T19:03:50"><th class="nick" style="background: #ce6c6c">smurray</th><td class="text" style="color: #ce6c6c">RP: when are you planning on pulling the queued master-next changes into master?</td><td class="time"><a href="#t2021-09-29T19:03:50" class="time">19:03</a></td></tr>
<tr id="t2021-09-29T19:05:18"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">smurray: I was hoping for sooner than later but if you want me to wait I can I guess</td><td class="time"><a href="#t2021-09-29T19:05:18" class="time">19:05</a></td></tr>
<tr id="t2021-09-29T19:06:25"><th class="nick" style="background: #ce6c6c">smurray</th><td class="text" style="color: #ce6c6c">RP: it's more that I'm wondering if I push an update for that if it'll break test runs before you push to master</td><td class="time"><a href="#t2021-09-29T19:06:25" class="time">19:06</a></td></tr>
<tr id="t2021-09-29T19:06:44"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">smurray: oh, I can push whenever it is ready :)</td><td class="time"><a href="#t2021-09-29T19:06:44" class="time">19:06</a></td></tr>
<tr id="t2021-09-29T19:07:53"><th class="nick" style="background: #ce6c6c">smurray</th><td class="text" style="color: #ce6c6c">RP: ah, okay.&nbsp;&nbsp;I'll do a test build of ptest-runner with the patch here ASAP then</td><td class="time"><a href="#t2021-09-29T19:07:53" class="time">19:07</a></td></tr>
<tr id="t2021-09-29T19:11:45"><th class="nick" style="background: #ce6c6c">smurray</th><td class="text" style="color: #ce6c6c">RP: tbh, I'm not sure it'll break the meta-agl-core test on the autobuilder, as I don't think AGL_FEATURES = &quot;aglcore&quot; is set for that</td><td class="time"><a href="#t2021-09-29T19:11:45" class="time">19:11</a></td></tr>
<tr id="t2021-09-29T20:03:21"><th class="nick" style="background: #6ed16e">vd</th><td class="text" style="color: #6ed16e">I'm running out of space, is it safe to create mount points on my laptop for the DL_DIR, TOPDIR and SSTATE_DIR?</td><td class="time"><a href="#t2021-09-29T20:03:21" class="time">20:03</a></td></tr>
<tr id="t2021-09-29T20:07:45"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">vd: SSTATE_DIR and DL_DIR work fine. TOPDIR should work too but I don't do that locally so slightly less sure</td><td class="time"><a href="#t2021-09-29T20:07:45" class="time">20:07</a></td></tr>
<tr id="t2021-09-29T20:33:32"><th class="nick" style="background: #ce6c6c">smurray</th><td class="text" style="color: #ce6c6c">RP: I've pushed the patch update to meta-agl's next branch, ptest-runner should build w/o warnings if you merge the master-next updates</td><td class="time"><a href="#t2021-09-29T20:33:32" class="time">20:33</a></td></tr>
<tr id="t2021-09-29T20:34:50"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">can I use overrides in recipe appends? particularly, I want different systemd-conf _bbappend files depending on the target machine</td><td class="time"><a href="#t2021-09-29T20:34:50" class="time">20:34</a></td></tr>
<tr id="t2021-09-29T20:35:28"><th class="nick" style="background: #6ed16e">vd</th><td class="text" style="color: #6ed16e">jaskij[m] sure, SOMEVAR_append_myoverride = &quot; othervalue&quot;</td><td class="time"><a href="#t2021-09-29T20:35:28" class="time">20:35</a></td></tr>
<tr id="t2021-09-29T20:35:41"><th class="nick" style="background: #6ed16e">vd</th><td class="text" style="color: #6ed16e">(s/_/:/g for the new syntax)</td><td class="time"><a href="#t2021-09-29T20:35:41" class="time">20:35</a></td></tr>
<tr id="t2021-09-29T20:35:52"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">vd: not in variables, but on the filename level</td><td class="time"><a href="#t2021-09-29T20:35:52" class="time">20:35</a></td></tr>
<tr id="t2021-09-29T20:36:27"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">sorry for badly wording it the first time</td><td class="time"><a href="#t2021-09-29T20:36:27" class="time">20:36</a></td></tr>
<tr id="t2021-09-29T20:36:40"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">does it work like this at all in filenames?</td><td class="time"><a href="#t2021-09-29T20:36:40" class="time">20:36</a></td></tr>
<tr id="t2021-09-29T20:37:24"><th class="nick" style="background: #6ed16e">vd</th><td class="text" style="color: #6ed16e">overrides aren't supported on a file basis for bbappend I think</td><td class="time"><a href="#t2021-09-29T20:37:24" class="time">20:37</a></td></tr>
<tr id="t2021-09-29T20:38:39"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">what I feared, I'll just need to separate it differently</td><td class="time"><a href="#t2021-09-29T20:38:39" class="time">20:38</a></td></tr>
<tr id="t2021-09-29T20:39:13"><th class="nick" style="background: #6ed16e">vd</th><td class="text" style="color: #6ed16e">but you can have many systemd-conf _%.bbappend files</td><td class="time"><a href="#t2021-09-29T20:39:13" class="time">20:39</a></td></tr>
<tr id="t2021-09-29T20:39:39"><th class="nick" style="background: #6ed16e">vd</th><td class="text" style="color: #6ed16e">(and the VAR_append_myoverride syntax in them for sure)</td><td class="time"><a href="#t2021-09-29T20:39:39" class="time">20:39</a></td></tr>
<tr id="t2021-09-29T20:40:15"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">vd: how, if they're all in the same directory? I have multiple machines supported in one layer, for what it's worth</td><td class="time"><a href="#t2021-09-29T20:40:15" class="time">20:40</a></td></tr>
<tr id="t2021-09-29T20:41:22"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">rn, I'm thinking more of just making an include per machine and just include them all in `systemd-conf_%.bbappend`</td><td class="time"><a href="#t2021-09-29T20:41:22" class="time">20:41</a></td></tr>
<tr id="t2021-09-29T20:42:01"><th class="nick" style="background: #6ed16e">vd</th><td class="text" style="color: #6ed16e">jaskij[m] you can place them in recipes-MACHINE1/systemd-conf/systemd-conf_%.bbappend, recipes-MACHINE2/systemd-conf/systemd-conf_%.bbappend, and so on.</td><td class="time"><a href="#t2021-09-29T20:42:01" class="time">20:42</a></td></tr>
<tr id="t2021-09-29T20:42:25"><th class="nick" style="background: #6ed16e">vd</th><td class="text" style="color: #6ed16e">jaskij[m] but you would also edit the recipe variables within the machine configuration files</td><td class="time"><a href="#t2021-09-29T20:42:25" class="time">20:42</a></td></tr>
<tr id="t2021-09-29T20:45:29"><th class="nick" style="background: #6ed16e">vd</th><td class="text" style="color: #6ed16e">but you could*</td><td class="time"><a href="#t2021-09-29T20:45:29" class="time">20:45</a></td></tr>
<tr id="t2021-09-29T20:45:38"><th class="nick" style="background: #6ed16e">vd</th><td class="text" style="color: #6ed16e">as in two different options</td><td class="time"><a href="#t2021-09-29T20:45:38" class="time">20:45</a></td></tr>
<tr id="t2021-09-29T20:46:50"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">not really, I need to add in board-specific network configuration files</td><td class="time"><a href="#t2021-09-29T20:46:50" class="time">20:46</a></td></tr>
<tr id="t2021-09-29T20:47:24"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">so that, for example, by default it boots with DHCP</td><td class="time"><a href="#t2021-09-29T20:47:24" class="time">20:47</a></td></tr>
<tr id="t2021-09-29T20:47:55"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">smurray: I merged, thanks</td><td class="time"><a href="#t2021-09-29T20:47:55" class="time">20:47</a></td></tr>
<tr id="t2021-09-29T20:49:44"><th class="nick" style="background: #ce6c6c">smurray</th><td class="text" style="color: #ce6c6c">RP: when I get home I'll send the latest version of the patch to the ml</td><td class="time"><a href="#t2021-09-29T20:49:44" class="time">20:49</a></td></tr>
<tr id="t2021-09-29T20:50:29"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">smurray: sounds good, thanks</td><td class="time"><a href="#t2021-09-29T20:50:29" class="time">20:50</a></td></tr>
<tr id="t2021-09-29T20:51:21"><th class="nick" style="background: #6ed16e">vd</th><td class="text" style="color: #6ed16e">jaskij[m] that's already the default I think, but you can just append FILESEXTRAPATHS and SRC_URI with the machines overrides in bbappend files</td><td class="time"><a href="#t2021-09-29T20:51:21" class="time">20:51</a></td></tr>
<tr id="t2021-09-29T20:51:58"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">I could. If I didn't need multiple options per machine</td><td class="time"><a href="#t2021-09-29T20:51:58" class="time">20:51</a></td></tr>
<tr id="t2021-09-29T20:52:15"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">Eg. for dual ethernet I need both an option for separate and bridged</td><td class="time"><a href="#t2021-09-29T20:52:15" class="time">20:52</a></td></tr>
<tr id="t2021-09-29T20:52:54"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">and this, in turn, is chosen per image</td><td class="time"><a href="#t2021-09-29T20:52:54" class="time">20:52</a></td></tr>
<tr id="t2021-09-29T20:56:30"><th class="nick" style="background: #7070d5">olani[m]</th><td class="text" style="color: #7070d5">jaskij: If the files are stored with the recipe you can use subpaths like recipes-X/systemd-conf/systemd-conf/MACHINE1/whatever.service and SRC_URI += &quot;whatever.service&quot; and let the recipe pick the appropriate file.&nbsp;&nbsp;This assumes they have the same name.</td><td class="time"><a href="#t2021-09-29T20:56:30" class="time">20:56</a></td></tr>
<tr id="t2021-09-29T20:57:48"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">oh, I'm doing that alright, otherwise the files subdir would be a total mess</td><td class="time"><a href="#t2021-09-29T20:57:48" class="time">20:57</a></td></tr>
<tr id="t2021-09-29T20:59:07"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">just thought someone could come up with something smarter than what I'm already doing</td><td class="time"><a href="#t2021-09-29T20:59:07" class="time">20:59</a></td></tr>
<tr id="t2021-09-29T20:59:23"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">mostly, I just have a very visceral reaction to long files</td><td class="time"><a href="#t2021-09-29T20:59:23" class="time">20:59</a></td></tr>
<tr id="t2021-09-29T20:59:36"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">so if my _bbappend would be 150 lines, I'm looking to split it</td><td class="time"><a href="#t2021-09-29T20:59:36" class="time">20:59</a></td></tr>
<tr id="t2021-09-29T21:03:18"><th class="nick" style="background: #7070d5">olani[m]</th><td class="text" style="color: #7070d5">I probably don't understand exactly what you are trying to do. For one thing I do not understand how the image interacts with the machines here.</td><td class="time"><a href="#t2021-09-29T21:03:18" class="time">21:03</a></td></tr>
<tr id="t2021-09-29T21:04:06"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">Yeah, I'd have to do a whole writeup to just explain, or mock the file structure I'm currently using.</td><td class="time"><a href="#t2021-09-29T21:04:06" class="time">21:04</a></td></tr>
<tr id="t2021-09-29T21:04:25"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">Which... I might actually do that mock and post it on the mailing list</td><td class="time"><a href="#t2021-09-29T21:04:25" class="time">21:04</a></td></tr>
<tr id="t2021-09-29T21:18:40"><td class="nickchange" colspan="2">*** jamesp_ is now known as jamestperk</td><td><a href="#t2021-09-29T21:18:40" class="time">21:18</a></td></tr>
<tr id="t2021-09-29T21:43:18"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">olani: to attempt a rundown, there's two machines, one of them has two ethernet ports. Now, those two ethernet ports can be separate or bridged, and if bridged the bridge can either be a DHCP client or server. So one of the machines has *three* possible network configurations, and I want to select among them when creating the image.</td><td class="time"><a href="#t2021-09-29T21:43:18" class="time">21:43</a></td></tr>
<tr id="t2021-09-29T21:43:24"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">that's what makes this all so complicated</td><td class="time"><a href="#t2021-09-29T21:43:24" class="time">21:43</a></td></tr>
<tr id="t2021-09-29T21:51:31"><th class="nick" style="background: #d9d972">vd44</th><td class="text" style="color: #d9d972">jaskij[m] that's not complicated. In recipes-core/systemd-conf/systemd-conf_%.bbappend, add a few SRC_URI_append_MACHINE1 = &quot; file://br0.network&quot; etc.</td><td class="time"><a href="#t2021-09-29T21:51:31" class="time">21:51</a></td></tr>
<tr id="t2021-09-29T21:52:22"><th class="nick" style="background: #d9d972">vd44</th><td class="text" style="color: #d9d972">jaskij[m] but you could also have this configuration generated by systemd</td><td class="time"><a href="#t2021-09-29T21:52:22" class="time">21:52</a></td></tr>
<tr id="t2021-09-29T21:52:29"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">That's broadly what I'm doing</td><td class="time"><a href="#t2021-09-29T21:52:29" class="time">21:52</a></td></tr>
<tr id="t2021-09-29T21:53:05"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">But I just finished refactoring one machine for bbappend into a separate include ant it's fifty lines long</td><td class="time"><a href="#t2021-09-29T21:53:05" class="time">21:53</a></td></tr>
<tr id="t2021-09-29T21:53:46"><th class="nick" style="background: #d9d972">vd44</th><td class="text" style="color: #d9d972">jaskij[m] or even always install all the files, and make the multi-interfaces unit files depends on the interfaces themselves, so that the board with a single interface won't load the configuration for non-existent interfaces</td><td class="time"><a href="#t2021-09-29T21:53:46" class="time">21:53</a></td></tr>
<tr id="t2021-09-29T21:54:12"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">That's possible?</td><td class="time"><a href="#t2021-09-29T21:54:12" class="time">21:54</a></td></tr>
<tr id="t2021-09-29T21:54:52"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">Also, what if I want to select, at image definition, between bridged and non-bridged?</td><td class="time"><a href="#t2021-09-29T21:54:52" class="time">21:54</a></td></tr>
<tr id="t2021-09-29T21:54:58"><th class="nick" style="background: #7070d5">olani[m]</th><td class="text" style="color: #7070d5">jaskij: Do you only want to install one of the files on each image, or do you want to install all of them and then use a symlink or something to select the active one?&nbsp;&nbsp;I'm not that good with systemd so do not assume I know how the .network files are used.</td><td class="time"><a href="#t2021-09-29T21:54:58" class="time">21:54</a></td></tr>
<tr id="t2021-09-29T21:56:35"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">Nah, only installing some of them. I left work just now, but I'll make a mock repo which can be public tomorrow and ping you both to show how it looks like rn, might be easier to understand.</td><td class="time"><a href="#t2021-09-29T21:56:35" class="time">21:56</a></td></tr>
<tr id="t2021-09-29T21:56:55"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">But only want the actually used files in the image</td><td class="time"><a href="#t2021-09-29T21:56:55" class="time">21:56</a></td></tr>
<tr id="t2021-09-29T21:57:33"><th class="nick" style="background: #7070d5">olani[m]</th><td class="text" style="color: #7070d5">jaskij: Then I'd install all of the files and then separate into separate packages that the image can choose from.</td><td class="time"><a href="#t2021-09-29T21:57:33" class="time">21:57</a></td></tr>
<tr id="t2021-09-29T21:58:06"><th class="nick" style="background: #d9d972">vd44</th><td class="text" style="color: #d9d972">jaskij[m] maybe ways. You can use a systemd generator reading a configuration file or a kernel command line to generate the given unit files, or you can define a variable in your image recipe used in a ROOTFS_POSTPROCESS_COMMAND function to install the unit files at image creation time. You can then edit this variable in the recipe, the machine</td><td class="time"><a href="#t2021-09-29T21:58:06" class="time">21:58</a></td></tr>
<tr id="t2021-09-29T21:58:06-2"><th class="nick" style="background: #d9d972">vd44</th><td class="text" style="color: #d9d972">configuration or somewhere else.</td><td class="time"><a href="#t2021-09-29T21:58:06-2" class="time">21:58</a></td></tr>
<tr id="t2021-09-29T21:58:39"><th class="nick" style="background: #d9d972">vd44</th><td class="text" style="color: #d9d972">s/maybe/many/</td><td class="time"><a href="#t2021-09-29T21:58:39" class="time">21:58</a></td></tr>
<tr id="t2021-09-29T21:58:59"><th class="nick" style="background: #7070d5">olani[m]</th><td class="text" style="color: #7070d5">Don't know why you put it all into the systemd-cond recipe either. It's fine to do one recipe per machine that can be selected with PREFERRED_PROVIDER.</td><td class="time"><a href="#t2021-09-29T21:58:59" class="time">21:58</a></td></tr>
<tr id="t2021-09-29T21:59:08"><th class="nick" style="background: #7070d5">olani[m]</th><td class="text" style="color: #7070d5">s/cond/conf/</td><td class="time"><a href="#t2021-09-29T21:59:08" class="time">21:59</a></td></tr>
<tr id="t2021-09-29T21:59:24"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">olani[m]: That's what I'm doing now, but what vd44 proposes seem a bit better</td><td class="time"><a href="#t2021-09-29T21:59:24" class="time">21:59</a></td></tr>
<tr id="t2021-09-29T21:59:52"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">It just occured to me that I could maybe abuse PACKAGECONFIG or create a similar mechanism</td><td class="time"><a href="#t2021-09-29T21:59:52" class="time">21:59</a></td></tr>
<tr id="t2021-09-29T22:00:34"><th class="nick" style="background: #7070d5">olani[m]</th><td class="text" style="color: #7070d5">Yes, systemd can do many wonderful things :)</td><td class="time"><a href="#t2021-09-29T22:00:34" class="time">22:00</a></td></tr>
<tr id="t2021-09-29T22:01:11"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">Why I picked it, is that it actually also supports CAN interfaces</td><td class="time"><a href="#t2021-09-29T22:01:11" class="time">22:01</a></td></tr>
<tr id="t2021-09-29T22:01:31"><th class="nick" style="background: #d9d972">vd44</th><td class="text" style="color: #d9d972">I personally prefer to have everything dynamic if possible, that makes the image recipes simpler. If you do not want all files to be present on the system (even though used given the correct After= and other conditions), then a generator can be used.</td><td class="time"><a href="#t2021-09-29T22:01:31" class="time">22:01</a></td></tr>
<tr id="t2021-09-29T22:02:40"><th class="nick" style="background: #7070d5">olani[m]</th><td class="text" style="color: #7070d5">vd44: I agree. I just don't know how to do it with systemd.</td><td class="time"><a href="#t2021-09-29T22:02:40" class="time">22:02</a></td></tr>
<tr id="t2021-09-29T22:04:44"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">vd44: For an appliance, sure. But I can't rule out we'll be selling these open, for the client to program. In that case I believe generators might be too convoluted.</td><td class="time"><a href="#t2021-09-29T22:04:44" class="time">22:04</a></td></tr>
<tr id="t2021-09-29T22:05:10"><th class="nick" style="background: #d9d972">vd44</th><td class="text" style="color: #d9d972">olani[m] 2 ways: 1) add all files, and set the correct After=sys-subsystem-net-devices-eth1.device for example so that the bridge isn't brought up if eth1 isn't present 2) write a generator which reads e.g. mynetworkmode=bridged kernel parameter and generates the unit files. See man systemd.generator</td><td class="time"><a href="#t2021-09-29T22:05:10" class="time">22:05</a></td></tr>
<tr id="t2021-09-29T22:09:06"><th class="nick" style="background: #d9d972">vd44</th><td class="text" style="color: #d9d972">jaskij[m] if you only want to keep the configuration at the image level, then ROOTFS_POSTPROCESS_COMMAND += &quot;mynetwork; &quot; mynetwork () { if [ &quot;${MYNETWORK}&quot; = &quot;bridged&quot; ] ; then echo ... &gt; ${IMAGE_ROOTFS}/usr/lib/systemd/... }</td><td class="time"><a href="#t2021-09-29T22:09:06" class="time">22:09</a></td></tr>
<tr id="t2021-09-29T22:11:30"><th class="nick" style="background: #d9d972">vd44</th><td class="text" style="color: #d9d972">or one function per setting, ROOTFS_POSTPROCESS_COMMAND += &quot;${MYNETWORKTWEAKS}&quot; and set MYNETWORKTWEAKS = &quot;bridged; &quot; in your machine configuration, you get the idea</td><td class="time"><a href="#t2021-09-29T22:11:30" class="time">22:11</a></td></tr>
<tr id="t2021-09-29T22:12:20"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">Yup</td><td class="time"><a href="#t2021-09-29T22:12:20" class="time">22:12</a></td></tr>
<tr id="t2021-09-29T22:21:57"><th class="nick" style="background: #62bb62">halstead</th><td class="text" style="color: #62bb62">moto-timo: I pulled in your patchest and the index is working fine but the rrs portion is failing so I can't take it live.</td><td class="time"><a href="#t2021-09-29T22:21:57" class="time">22:21</a></td></tr>
<tr id="t2021-09-29T22:22:46"><th class="nick" style="background: #62bb62">halstead</th><td class="text" style="color: #62bb62">moto-timo: Want to hack on the rrs code with me and get it Django 2.2 compatible?</td><td class="time"><a href="#t2021-09-29T22:22:46" class="time">22:22</a></td></tr>
<tr id="t2021-09-29T22:23:48"><th class="nick" style="background: #dc74dc">moto-timo</th><td class="text" style="color: #dc74dc">halstead: absolutely. Do you have logs? Or a reproducer? (Or give me access)</td><td class="time"><a href="#t2021-09-29T22:23:48" class="time">22:23</a></td></tr>
<tr id="t2021-09-29T22:24:12"><th class="nick" style="background: #62bb62">halstead</th><td class="text" style="color: #62bb62">moto-timo: Sure. I'll email them to you.</td><td class="time"><a href="#t2021-09-29T22:24:12" class="time">22:24</a></td></tr>
<tr id="t2021-09-29T22:24:21"><th class="nick" style="background: #dc74dc">moto-timo</th><td class="text" style="color: #dc74dc">RRS might be needing more love</td><td class="time"><a href="#t2021-09-29T22:24:21" class="time">22:24</a></td></tr>
<tr id="t2021-09-29T22:32:45"><th class="nick" style="background: #62bb62">halstead</th><td class="text" style="color: #62bb62">moto-timo: Sent to your gmail.</td><td class="time"><a href="#t2021-09-29T22:32:45" class="time">22:32</a></td></tr>
<tr id="t2021-09-29T22:33:12"><th class="nick" style="background: #62bb62">halstead</th><td class="text" style="color: #62bb62">moto-timo: Would you prefer I paste snippets here?</td><td class="time"><a href="#t2021-09-29T22:33:12" class="time">22:33</a></td></tr>
<tr id="t2021-09-29T22:33:54"><th class="nick" style="background: #dc74dc">moto-timo</th><td class="text" style="color: #dc74dc">halstead: gmail is great </td><td class="time"><a href="#t2021-09-29T22:33:54" class="time">22:33</a></td></tr>
<tr id="t2021-09-29T22:38:01"><th class="nick" style="background: #dc74dc">moto-timo</th><td class="text" style="color: #dc74dc">halstead: Ill find a way to drop the py2 deps</td><td class="time"><a href="#t2021-09-29T22:38:01" class="time">22:38</a></td></tr>
<tr id="t2021-09-29T22:38:15"><th class="nick" style="background: #dc74dc">moto-timo</th><td class="text" style="color: #dc74dc">Die die die</td><td class="time"><a href="#t2021-09-29T22:38:15" class="time">22:38</a></td></tr>
<tr id="t2021-09-29T22:41:58"><th class="nick" style="background: #c3c366">argonautx</th><td class="text" style="color: #c3c366">hi, I put a IMAGE_INSTALL += &quot;kernel-devsrc&quot; in my local.conf but got no /usr/src/kernel installation in my target image</td><td class="time"><a href="#t2021-09-29T22:41:58" class="time">22:41</a></td></tr>
<tr id="t2021-09-29T22:42:05"><th class="nick" style="background: #c3c366">argonautx</th><td class="text" style="color: #c3c366">what went wrong?</td><td class="time"><a href="#t2021-09-29T22:42:05" class="time">22:42</a></td></tr>
<tr id="t2021-09-29T22:43:10"><th class="nick" style="background: #62bb62">halstead</th><td class="text" style="color: #62bb62">moto-timo: I suppose for layers that are flagged as python2 only we can just exit immediately instead of standing up the python2 env?</td><td class="time"><a href="#t2021-09-29T22:43:10" class="time">22:43</a></td></tr>
<tr id="t2021-09-29T22:45:35"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">reproducibility issues in populate_sysroot down to &quot;just&quot; gobject-introspection, libtool-cross, mesa, perl, python3, rpm and util-linux :/</td><td class="time"><a href="#t2021-09-29T22:45:35" class="time">22:45</a></td></tr>
<tr id="t2021-09-29T22:45:47"><th class="nick" style="background: #dc74dc">moto-timo</th><td class="text" style="color: #dc74dc">&quot;just&quot;</td><td class="time"><a href="#t2021-09-29T22:45:47" class="time">22:45</a></td></tr>
<tr id="t2021-09-29T22:47:26"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">moto-timo: it was everything earlier so it is looking better, now the more painful problems are emerging from the noise :/</td><td class="time"><a href="#t2021-09-29T22:47:26" class="time">22:47</a></td></tr>
<tr id="t2021-09-29T22:47:38"><th class="nick" style="background: #62bb62">halstead</th><td class="text" style="color: #62bb62">moto-timo: Fair enough. I didn't look into how the system handles an early return.</td><td class="time"><a href="#t2021-09-29T22:47:38" class="time">22:47</a></td></tr>
<tr id="t2021-09-29T22:48:06"><th class="nick" style="background: #57a657">ndec_</th><td class="text" style="color: #57a657">thanks for whoever suggested <a href="https://venueless.org/en/" rel="nofollow">https://venueless.org/en/</a> in the BoF today.. I didn't know about it and it looks great. I will investigate a bit more about it! (Jan I think)</td><td class="time"><a href="#t2021-09-29T22:48:06" class="time">22:48</a></td></tr>
<tr id="t2021-09-29T22:48:15"><th class="nick" style="background: #dc74dc">moto-timo</th><td class="text" style="color: #dc74dc">RP: maybe we we can discuss perl and python tomorrow in triage</td><td class="time"><a href="#t2021-09-29T22:48:15" class="time">22:48</a></td></tr>
<tr id="t2021-09-29T22:49:05"><th class="nick" style="background: #dc74dc">moto-timo</th><td class="text" style="color: #dc74dc">halstead: I forgot about the &quot;layers that support python2&quot; wrinkle...</td><td class="time"><a href="#t2021-09-29T22:49:05" class="time">22:49</a></td></tr>
<tr id="t2021-09-29T22:49:15"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">moto-timo: sadly I think I'll have to dive into each one and figure out where the differences are</td><td class="time"><a href="#t2021-09-29T22:49:15" class="time">22:49</a></td></tr>
<tr id="t2021-09-29T22:49:39"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">e.g. util-linux is in setarch. No idea what beyond that</td><td class="time"><a href="#t2021-09-29T22:49:39" class="time">22:49</a></td></tr>
<tr id="t2021-09-29T22:50:33"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">moto-timo: python3 is in sysconfigdata</td><td class="time"><a href="#t2021-09-29T22:50:33" class="time">22:50</a></td></tr>
<tr id="t2021-09-29T22:51:02"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">moto-timo: perl is in config.sh and Config_heavy.pl</td><td class="time"><a href="#t2021-09-29T22:51:02" class="time">22:51</a></td></tr>
<tr id="t2021-09-29T22:51:32"><th class="nick" style="background: #dc74dc">moto-timo</th><td class="text" style="color: #dc74dc">RP: that sounds familiar with perl...</td><td class="time"><a href="#t2021-09-29T22:51:32" class="time">22:51</a></td></tr>
<tr id="t2021-09-29T22:52:14"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">moto-timo: trouble is this is the sysroot so things can have host paths :/</td><td class="time"><a href="#t2021-09-29T22:52:14" class="time">22:52</a></td></tr>
<tr id="t2021-09-29T22:52:25"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">somehow we need to remove these from the checksums</td><td class="time"><a href="#t2021-09-29T22:52:25" class="time">22:52</a></td></tr>
<tr id="t2021-09-29T22:52:50"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93"><a href="http://git.yoctoproject.org/cgit.cgi/poky/commit/?h=master-next&amp;id=fe046cc125baf3847351b6816e14bcf4e47bbcec" rel="nofollow">http://git.yoctoproject.org/cgit.cgi/poky/commit/?h=master-next&amp;id=fe046cc125baf3847351b6816e14bcf4e47bbcec</a> is horrible :(</td><td class="time"><a href="#t2021-09-29T22:52:50" class="time">22:52</a></td></tr>
<tr id="t2021-09-29T22:57:13"><th class="nick" style="background: #76e0e0">jonmason</th><td class="text" style="color: #76e0e0"><a href="https://zoom.us/j/99151508871" rel="nofollow">https://zoom.us/j/99151508871</a></td><td class="time"><a href="#t2021-09-29T22:57:13" class="time">22:57</a></td></tr>
<tr id="t2021-09-29T22:57:18"><th class="nick" style="background: #76e0e0">jonmason</th><td class="text" style="color: #76e0e0">join the OE happy hour!</td><td class="time"><a href="#t2021-09-29T22:57:18" class="time">22:57</a></td></tr>
<tr id="t2021-09-29T22:57:28"><th class="nick" style="background: #76e0e0">jonmason</th><td class="text" style="color: #76e0e0">we're actually talking about YP stuff</td><td class="time"><a href="#t2021-09-29T22:57:28" class="time">22:57</a></td></tr>
<tr id="t2021-09-29T22:58:31"><th class="nick" style="background: #d9d972">vd44</th><td class="text" style="color: #d9d972">should IMAGE_BASENAME defaults to ${BPN} instead of ${PN}?</td><td class="time"><a href="#t2021-09-29T22:58:31" class="time">22:58</a></td></tr>
<tr id="t2021-09-29T23:03:39"><td class="part" colspan="2">*** etam[m] &lt;etam[m]!~etam@user/etam&gt; has left #yocto</td><td><a href="#t2021-09-29T23:03:39" class="time">23:03</a></td></tr>
<tr id="t2021-09-29T23:03:45"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">JPEW: I'm kind of sad I had to resort to <a href="http://git.yoctoproject.org/cgit.cgi/poky/commit/?h=master-next&amp;id=1d0a3111e2f6e296dc4380525bc125034b85d8cc" rel="nofollow">http://git.yoctoproject.org/cgit.cgi/poky/commit/?h=master-next&amp;id=1d0a3111e2f6e296dc4380525bc125034b85d8cc</a></td><td class="time"><a href="#t2021-09-29T23:03:45" class="time">23:03</a></td></tr>
<tr id="t2021-09-29T23:05:43"><th class="nick" style="background: #ad5b5b">ericson2314</th><td class="text" style="color: #ad5b5b">does anyone know about newlib-nano</td><td class="time"><a href="#t2021-09-29T23:05:43" class="time">23:05</a></td></tr>
<tr id="t2021-09-29T23:05:48"><th class="nick" style="background: #ad5b5b">ericson2314</th><td class="text" style="color: #ad5b5b">internet says it is afork</td><td class="time"><a href="#t2021-09-29T23:05:48" class="time">23:05</a></td></tr>
<tr id="t2021-09-29T23:06:00"><th class="nick" style="background: #ad5b5b">ericson2314</th><td class="text" style="color: #ad5b5b">but there are nano.specs files in the newlib source</td><td class="time"><a href="#t2021-09-29T23:06:00" class="time">23:06</a></td></tr>
<tr id="t2021-09-29T23:06:05"><th class="nick" style="background: #ad5b5b">ericson2314</th><td class="text" style="color: #ad5b5b">that hint otherwise</td><td class="time"><a href="#t2021-09-29T23:06:05" class="time">23:06</a></td></tr>
<tr id="t2021-09-29T23:06:37"><th class="nick" style="background: #ad5b5b">ericson2314</th><td class="text" style="color: #ad5b5b">yet those have e.g. -lc_nano which doesn't seem to correspond to anything in the rest of newlib, so it is very unclear to me what's going on</td><td class="time"><a href="#t2021-09-29T23:06:37" class="time">23:06</a></td></tr>
<tr id="t2021-09-29T23:07:01"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">it's a fork, one that isn't directly compatible with newlib itself..</td><td class="time"><a href="#t2021-09-29T23:07:01" class="time">23:07</a></td></tr>
<tr id="t2021-09-29T23:07:07"><th class="nick" style="background: #ad5b5b">ericson2314</th><td class="text" style="color: #ad5b5b">thanks</td><td class="time"><a href="#t2021-09-29T23:07:07" class="time">23:07</a></td></tr>
<tr id="t2021-09-29T23:07:22"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">I did some looking, and it appears to pretty specialized, for MY usecase it wasn't appropriate.. and the best i found is it seemed pretty out of date..</td><td class="time"><a href="#t2021-09-29T23:07:22" class="time">23:07</a></td></tr>
<tr id="t2021-09-29T23:07:33"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">(I was/am doing some baremetal builds that require a more full featured libc)</td><td class="time"><a href="#t2021-09-29T23:07:33" class="time">23:07</a></td></tr>
<tr id="t2021-09-29T23:08:20"><th class="nick" style="background: #ad5b5b">ericson2314</th><td class="text" style="color: #ad5b5b">yeah I am trying to do get a way from a vendor's frankenstein SDK</td><td class="time"><a href="#t2021-09-29T23:08:20" class="time">23:08</a></td></tr>
<tr id="t2021-09-29T23:08:35"><th class="nick" style="background: #ad5b5b">ericson2314</th><td class="text" style="color: #ad5b5b">which grab's ARM's prebuilt toolchains among other things</td><td class="time"><a href="#t2021-09-29T23:08:35" class="time">23:08</a></td></tr>
<tr id="t2021-09-29T23:10:35"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">everything I do is based on Yocto Project SDKs.. I avoid the ARM, crosstool-ng, etc..</td><td class="time"><a href="#t2021-09-29T23:10:35" class="time">23:10</a></td></tr>
<tr id="t2021-09-29T23:10:55"><th class="nick" style="background: #76e0e0">jonmason</th><td class="text" style="color: #76e0e0">arm toolchains are great.&nbsp;&nbsp;get them from meta-arm!</td><td class="time"><a href="#t2021-09-29T23:10:55" class="time">23:10</a></td></tr>
<tr id="t2021-09-29T23:11:23"><th class="nick" style="background: #ad5b5b">ericson2314</th><td class="text" style="color: #ad5b5b">jonmason: everything I do is with Nix / Nixpkgs, but I come here because the kindred spirit :)</td><td class="time"><a href="#t2021-09-29T23:11:23" class="time">23:11</a></td></tr>
<tr id="t2021-09-29T23:11:28"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">arm toolchains are great, if you want 15 different multilibs.. ;)</td><td class="time"><a href="#t2021-09-29T23:11:28" class="time">23:11</a></td></tr>
<tr id="t2021-09-29T23:12:01"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">I've been trying to convince people since we support 3 (main) ARM CPUs.. maybe our SDK should be those three + r5... ;)</td><td class="time"><a href="#t2021-09-29T23:12:01" class="time">23:12</a></td></tr>
<tr id="t2021-09-29T23:12:04"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">not 15..</td><td class="time"><a href="#t2021-09-29T23:12:04" class="time">23:12</a></td></tr>
<tr id="t2021-09-29T23:12:05"><th class="nick" style="background: #76e0e0">jonmason</th><td class="text" style="color: #76e0e0">fray: I'm obligated by my employer to say they are perfect in every way</td><td class="time"><a href="#t2021-09-29T23:12:05" class="time">23:12</a></td></tr>
<tr id="t2021-09-29T23:12:57"><th class="nick" style="background: #ad5b5b">ericson2314</th><td class="text" style="color: #ad5b5b">jonmason: are the recipes to create the official binaries public?</td><td class="time"><a href="#t2021-09-29T23:12:57" class="time">23:12</a></td></tr>
<tr id="t2021-09-29T23:13:20"><th class="nick" style="background: #ad5b5b">ericson2314</th><td class="text" style="color: #ad5b5b">I found <a href="https://stackoverflow.com/questions/50154137/how-to-rebuild-newlib-and-newlib-nano-of-gnu-arm-embedded-toolchain" rel="nofollow">https://stackoverflow.com/questions/50154137/how-to-rebuild-newlib-and-newlib-nano-of-gnu-arm-embedded-toolchain</a> which I somehow missed before, but the launchpad stuff is abandoned</td><td class="time"><a href="#t2021-09-29T23:13:20" class="time">23:13</a></td></tr>
<tr id="t2021-09-29T23:13:58"><th class="nick" style="background: #76e0e0">jonmason</th><td class="text" style="color: #76e0e0">ericson2314: to create, no.&nbsp;&nbsp;we have recipes that use the official binaries and we have recipes that use the arm gcc source</td><td class="time"><a href="#t2021-09-29T23:13:58" class="time">23:13</a></td></tr>
<tr id="t2021-09-29T23:14:00"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">the Yocto Project can build a newlib SDK..&nbsp;&nbsp;note if you need a specifically configured libgloss or newlib you may have to adjust some things</td><td class="time"><a href="#t2021-09-29T23:14:00" class="time">23:14</a></td></tr>
<tr id="t2021-09-29T23:14:23"><th class="nick" style="background: #ad5b5b">ericson2314</th><td class="text" style="color: #ad5b5b">ok thanks both of you</td><td class="time"><a href="#t2021-09-29T23:14:23" class="time">23:14</a></td></tr>
<tr id="t2021-09-29T23:14:37"><th class="nick" style="background: #ad5b5b">ericson2314</th><td class="text" style="color: #ad5b5b">I will see if there is anything non-marketting with this arm website, heh :)</td><td class="time"><a href="#t2021-09-29T23:14:37" class="time">23:14</a></td></tr>
<tr id="t2021-09-29T23:17:04"><th class="nick" style="background: #76e0e0">jonmason</th><td class="text" style="color: #76e0e0">jsut go to the layer index and look for meta-arm-toolchain</td><td class="time"><a href="#t2021-09-29T23:17:04" class="time">23:17</a></td></tr>
<tr id="t2021-09-29T23:17:14"><th class="nick" style="background: #ad5b5b">ericson2314</th><td class="text" style="color: #ad5b5b">thanks</td><td class="time"><a href="#t2021-09-29T23:17:14" class="time">23:17</a></td></tr>
<tr id="t2021-09-29T23:30:19"><th class="nick" style="background: #ad5b5b">ericson2314</th><td class="text" style="color: #ad5b5b">per <a href="https://github.com/crosstool-ng/crosstool-ng/pull/1447/files" rel="nofollow">https://github.com/crosstool-ng/crosstool-ng/pull/1447/files</a> and <a href="https://github.com/ecbrown/guix/commit/a299a8992cb96575db397122f9e2f82cbb96286e" rel="nofollow">https://github.com/ecbrown/guix/commit/a299a8992cb96575db397122f9e2f82cbb96286e</a> it seems as of late ARM is not using a fork but just passing different flags</td><td class="time"><a href="#t2021-09-29T23:30:19" class="time">23:30</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2021-09-28.log.html">&#171; Tuesday, 2021-09-28</a> <a href="index.html">Index</a> <a href="%23yocto.2021-09-30.log.html">Thursday, 2021-09-30 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.17.2 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="https://mg.pov.lt/irclog2html/">https://mg.pov.lt/irclog2html/</a>!</p>
</div>
</body>
</html>
