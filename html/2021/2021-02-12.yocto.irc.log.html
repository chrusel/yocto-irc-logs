<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Friday, 2021-02-12</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.17.2 by Marius Gedminas" />
  <meta name="version" content="2.17.2 - 2019-04-23" />
</head>
<body>
<h1>Friday, 2021-02-12</h1>
<div class="navigation"> <a href="%23yocto.2021-02-11.log.html">&#171; Thursday, 2021-02-11</a> <a href="index.html">Index</a> <a href="%23yocto.2021-02-13.log.html">Saturday, 2021-02-13 &#187;</a> </div>
<table class="irclog">
<tr id="t2021-02-12T01:23:03"><th class="nick" style="background: #407a40">linums</th><td class="text" style="color: #407a40">Hi guys</td><td class="time"><a href="#t2021-02-12T01:23:03" class="time">01:23</a></td></tr>
<tr id="t2021-02-12T01:23:30"><th class="nick" style="background: #407a40">linums</th><td class="text" style="color: #407a40">Can you help me how to rebuild after a distro feature addition?</td><td class="time"><a href="#t2021-02-12T01:23:30" class="time">01:23</a></td></tr>
<tr id="t2021-02-12T01:23:49"><th class="nick" style="background: #407a40">linums</th><td class="text" style="color: #407a40">Is there any way not to rebuild everything?</td><td class="time"><a href="#t2021-02-12T01:23:49" class="time">01:23</a></td></tr>
<tr id="t2021-02-12T06:20:26"><th class="nick" style="background: #42427e">iceaway</th><td class="text" style="color: #42427e">Good morning everyone</td><td class="time"><a href="#t2021-02-12T06:20:26" class="time">06:20</a></td></tr>
<tr id="t2021-02-12T06:25:09"><th class="nick" style="background: #42427e">iceaway</th><td class="text" style="color: #42427e">Yesterday I tried to set up my environment for fixing our kernel patches moving from Yocto 2.5-&gt;3.1. In 2.5 I used the devtool to work on the patches, but as I upgraded to 3.1 it said it was unable to find the defconfig, and I was advised to try the &quot;traditional&quot; approach as described in the manual. I'm stuck on the &quot;yocto-kernel-cache&quot; part, as I'm using the kernel from our SoC vendor, and they have no</td><td class="time"><a href="#t2021-02-12T06:25:09" class="time">06:25</a></td></tr>
<tr id="t2021-02-12T06:25:15"><th class="nick" style="background: #42427e">iceaway</th><td class="text" style="color: #42427e">such repository. If I try skipping that step, devtool is unhappy. Is the kernel-cache stuff required?</td><td class="time"><a href="#t2021-02-12T06:25:15" class="time">06:25</a></td></tr>
<tr id="t2021-02-12T06:26:24"><th class="nick" style="background: #42427e">iceaway</th><td class="text" style="color: #42427e">by devtool I mean bitbake in the second last sentence</td><td class="time"><a href="#t2021-02-12T06:26:24" class="time">06:26</a></td></tr>
<tr id="t2021-02-12T07:28:40"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">yo dudX</td><td class="time"><a href="#t2021-02-12T07:28:40" class="time">07:28</a></td></tr>
<tr id="t2021-02-12T07:31:02"><td class="nickchange" colspan="2">*** mckoan|away is now known as mckoan</td><td><a href="#t2021-02-12T07:31:02" class="time">07:31</a></td></tr>
<tr id="t2021-02-12T07:31:10"><th class="nick" style="background: #854685">mckoan</th><td class="text" style="color: #854685">LetoThe2nd: good morning</td><td class="time"><a href="#t2021-02-12T07:31:10" class="time">07:31</a></td></tr>
<tr id="t2021-02-12T09:28:07"><th class="nick" style="background: #488888">kpo_</th><td class="text" style="color: #488888">Hello, I've got a quick question, because I can't find straightforward answer in docs: is it possible to tell gitsm fetcher to checkout to specific commit hash? As in tag, but using commit hash</td><td class="time"><a href="#t2021-02-12T09:28:07" class="time">09:28</a></td></tr>
<tr id="t2021-02-12T09:35:14"><th class="nick" style="background: #8c4a4a">JungleBoy</th><td class="text" style="color: #8c4a4a">hi I'm JungleBoy</td><td class="time"><a href="#t2021-02-12T09:35:14" class="time">09:35</a></td></tr>
<tr id="t2021-02-12T09:37:20"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">kpo_: usually SRCREV does that, no idea if it applies to gitsm too. but thats the best guess.</td><td class="time"><a href="#t2021-02-12T09:37:20" class="time">09:37</a></td></tr>
<tr id="t2021-02-12T09:42:08"><th class="nick" style="background: #4b904b">intera91</th><td class="text" style="color: #4b904b">good morning</td><td class="time"><a href="#t2021-02-12T09:42:08" class="time">09:42</a></td></tr>
<tr id="t2021-02-12T09:42:53"><th class="nick" style="background: #4b904b">intera91</th><td class="text" style="color: #4b904b">was wondering if anyone has built yocto for a ryzen platform and has met with the AMD graphics driver</td><td class="time"><a href="#t2021-02-12T09:42:53" class="time">09:42</a></td></tr>
<tr id="t2021-02-12T09:44:29"><th class="nick" style="background: #8c4a4a">JungleBoy</th><td class="text" style="color: #8c4a4a">intera91 which board?</td><td class="time"><a href="#t2021-02-12T09:44:29" class="time">09:44</a></td></tr>
<tr id="t2021-02-12T09:46:20"><th class="nick" style="background: #4b904b">intera91</th><td class="text" style="color: #4b904b">basically I have IMAGE_INSTALL_append = &quot; mosquitto libavc1394 cairo zeromq imagemagick glfw libconfig libmosquitto1 ffmpeg strace gdb mosquitto-dev boost&nbsp;&nbsp;gstream</td><td class="time"><a href="#t2021-02-12T09:46:20" class="time">09:46</a></td></tr>
<tr id="t2021-02-12T09:46:20-2"><th class="nick" style="background: #4b904b">intera91</th><td class="text" style="color: #4b904b">er1.0-libav vulkan-cts vulkan-headers glm-dev glslang rinicom mesa mesa-demos&quot; in my local.conf and trying to build a core-image-sato for a VGA compatible controller: Advanced Micro Devices, Inc. [AMD/ATI] Raven Ridge [Radeon Vega Series / Radeon Vega Mobile Series] (rev c6) (prog-if 00 [VGA controller])</td><td class="time"><a href="#t2021-02-12T09:46:20-2" class="time">09:46</a></td></tr>
<tr id="t2021-02-12T09:47:34"><th class="nick" style="background: #4b904b">intera91</th><td class="text" style="color: #4b904b">still no radeonsi gets built and glxinfo states:</td><td class="time"><a href="#t2021-02-12T09:47:34" class="time">09:47</a></td></tr>
<tr id="t2021-02-12T09:47:35"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">intera91: that sounds like a totally flawed approach.</td><td class="time"><a href="#t2021-02-12T09:47:35" class="time">09:47</a></td></tr>
<tr id="t2021-02-12T09:48:00"><th class="nick" style="background: #4b904b">intera91</th><td class="text" style="color: #4b904b">LetoThe2nd: am a newbie at that one</td><td class="time"><a href="#t2021-02-12T09:48:00" class="time">09:48</a></td></tr>
<tr id="t2021-02-12T09:48:20"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">intera91: 1) create a custom layer 2) create a custom image 3) make a somewhat sensible dependency chain that allows you to focus on one thing.</td><td class="time"><a href="#t2021-02-12T09:48:20" class="time">09:48</a></td></tr>
<tr id="t2021-02-12T09:48:37"><th class="nick" style="background: #4b904b">intera91</th><td class="text" style="color: #4b904b">LetoThe2nd: am all ears at what would be the proper way to proceed</td><td class="time"><a href="#t2021-02-12T09:48:37" class="time">09:48</a></td></tr>
<tr id="t2021-02-12T09:48:55"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">e.g., your image should INSTALL the application, and the application shall depend on the libs and whatever you need.</td><td class="time"><a href="#t2021-02-12T09:48:55" class="time">09:48</a></td></tr>
<tr id="t2021-02-12T09:49:01"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">4) get sato out of our head</td><td class="time"><a href="#t2021-02-12T09:49:01" class="time">09:49</a></td></tr>
<tr id="t2021-02-12T09:50:10"><th class="nick" style="background: #4b904b">intera91</th><td class="text" style="color: #4b904b">feels like being so close yet so far</td><td class="time"><a href="#t2021-02-12T09:50:10" class="time">09:50</a></td></tr>
<tr id="t2021-02-12T09:50:35"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">5) accept the possibility that there is no real blueprint for the amd gpu setup you want and that you probably have to invest quite a bit of effort.</td><td class="time"><a href="#t2021-02-12T09:50:35" class="time">09:50</a></td></tr>
<tr id="t2021-02-12T09:51:12"><th class="nick" style="background: #4b904b">intera91</th><td class="text" style="color: #4b904b">mmh I can see that, that's unfortunate</td><td class="time"><a href="#t2021-02-12T09:51:12" class="time">09:51</a></td></tr>
<tr id="t2021-02-12T09:51:27"><th class="nick" style="background: #4b904b">intera91</th><td class="text" style="color: #4b904b">here is the problem: glxinfo | grep -i vendor</td><td class="time"><a href="#t2021-02-12T09:51:27" class="time">09:51</a></td></tr>
<tr id="t2021-02-12T09:51:27-2"><th class="nick" style="background: #4b904b">intera91</th><td class="text" style="color: #4b904b">libGL error: MESA-LOADER: failed to open radeonsi (search paths /usr/lib/dri)</td><td class="time"><a href="#t2021-02-12T09:51:27-2" class="time">09:51</a></td></tr>
<tr id="t2021-02-12T09:51:27-3"><th class="nick" style="background: #4b904b">intera91</th><td class="text" style="color: #4b904b">libGL error: failed to load driver: radeonsi</td><td class="time"><a href="#t2021-02-12T09:51:27-3" class="time">09:51</a></td></tr>
<tr id="t2021-02-12T09:51:28"><th class="nick" style="background: #4b904b">intera91</th><td class="text" style="color: #4b904b">libGL error: MESA-LOADER: failed to open radeonsi (search paths /usr/lib/dri)</td><td class="time"><a href="#t2021-02-12T09:51:28" class="time">09:51</a></td></tr>
<tr id="t2021-02-12T09:51:28-2"><th class="nick" style="background: #4b904b">intera91</th><td class="text" style="color: #4b904b">libGL error: failed to load driver: radeonsi</td><td class="time"><a href="#t2021-02-12T09:51:28-2" class="time">09:51</a></td></tr>
<tr id="t2021-02-12T09:51:29"><th class="nick" style="background: #4b904b">intera91</th><td class="text" style="color: #4b904b">server glx vendor string: SGI</td><td class="time"><a href="#t2021-02-12T09:51:29" class="time">09:51</a></td></tr>
<tr id="t2021-02-12T09:51:29-2"><th class="nick" style="background: #4b904b">intera91</th><td class="text" style="color: #4b904b">client glx vendor string: Mesa Project and SGI</td><td class="time"><a href="#t2021-02-12T09:51:29-2" class="time">09:51</a></td></tr>
<tr id="t2021-02-12T09:51:30"><th class="nick" style="background: #4b904b">intera91</th><td class="text" style="color: #4b904b">    Vendor: VMware, Inc. (0xffffffff)</td><td class="time"><a href="#t2021-02-12T09:51:30" class="time">09:51</a></td></tr>
<tr id="t2021-02-12T09:51:30-2"><th class="nick" style="background: #4b904b">intera91</th><td class="text" style="color: #4b904b">OpenGL vendor string: VMware, Inc.</td><td class="time"><a href="#t2021-02-12T09:51:30-2" class="time">09:51</a></td></tr>
<tr id="t2021-02-12T09:51:43"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">intera91: use a pastebin next time, please.</td><td class="time"><a href="#t2021-02-12T09:51:43" class="time">09:51</a></td></tr>
<tr id="t2021-02-12T09:51:55"><th class="nick" style="background: #4b904b">intera91</th><td class="text" style="color: #4b904b">sure sorry</td><td class="time"><a href="#t2021-02-12T09:51:55" class="time">09:51</a></td></tr>
<tr id="t2021-02-12T09:52:13"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">intera91: have you enabled the correct DISTRO_FEATURES and MACHINE_FEATURES for gpu/opengl support?</td><td class="time"><a href="#t2021-02-12T09:52:13" class="time">09:52</a></td></tr>
<tr id="t2021-02-12T09:52:18"><th class="nick" style="background: #488888">kpo_</th><td class="text" style="color: #488888">@LetoThe2nd thanks, that's the thing :)</td><td class="time"><a href="#t2021-02-12T09:52:18" class="time">09:52</a></td></tr>
<tr id="t2021-02-12T09:52:50"><th class="nick" style="background: #4b904b">intera91</th><td class="text" style="color: #4b904b">qschulz: not sure how to do that</td><td class="time"><a href="#t2021-02-12T09:52:50" class="time">09:52</a></td></tr>
<tr id="t2021-02-12T09:53:07"><th class="nick" style="background: #4b904b">intera91</th><td class="text" style="color: #4b904b">is that in local.conf?</td><td class="time"><a href="#t2021-02-12T09:53:07" class="time">09:53</a></td></tr>
<tr id="t2021-02-12T09:53:12"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">intera91: probably you don't have a proper provider for virtual/gl or whatever it takes there. i'm no graphics guy, sorry, but really - stuffing everything into local.conf is a super bad practise and you should get rid of it before it forms a habit!</td><td class="time"><a href="#t2021-02-12T09:53:12" class="time">09:53</a></td></tr>
<tr id="t2021-02-12T09:53:46"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">intera91: i suggest watching the videos on creating a layer, a custom image, and the distro/machine/image one :)</td><td class="time"><a href="#t2021-02-12T09:53:46" class="time">09:53</a></td></tr>
<tr id="t2021-02-12T09:54:51"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">intera91: <a href="https://docs.yoctoproject.org/ref-manual/features.html#ref-features-distro" rel="nofollow">https://docs.yoctoproject.org/ref-manual/features.html#ref-features-distro</a></td><td class="time"><a href="#t2021-02-12T09:54:51" class="time">09:54</a></td></tr>
<tr id="t2021-02-12T10:06:51"><th class="nick" style="background: #8c4a4a">JungleBoy</th><td class="text" style="color: #8c4a4a">LetoThe2nd was searching for that video as well, do you know which # it was?</td><td class="time"><a href="#t2021-02-12T10:06:51" class="time">10:06</a></td></tr>
<tr id="t2021-02-12T10:07:26"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">distro/images/machine? not sure, 7, 8 or so.</td><td class="time"><a href="#t2021-02-12T10:07:26" class="time">10:07</a></td></tr>
<tr id="t2021-02-12T10:07:40"><th class="nick" style="background: #8c4a4a">JungleBoy</th><td class="text" style="color: #8c4a4a">ok will check it out, thanks</td><td class="time"><a href="#t2021-02-12T10:07:40" class="time">10:07</a></td></tr>
<tr id="t2021-02-12T10:18:38"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">JungleBoy: it's in the title of the Youtube video IIRC</td><td class="time"><a href="#t2021-02-12T10:18:38" class="time">10:18</a></td></tr>
<tr id="t2021-02-12T10:28:18"><th class="nick" style="background: #97974f">NiniC0c0</th><td class="text" style="color: #97974f">hello, all I have 2 metas and both need a bbappend on device-tree part. if i put one inside meta-custom-bsp an one inside meta-custom-apps. Can I build an image from meta-custom-bsp without use the bbappend inside meta-custom-apps ? I'm not sure to be clear... sorry for that :)</td><td class="time"><a href="#t2021-02-12T10:28:18" class="time">10:28</a></td></tr>
<tr id="t2021-02-12T10:30:33"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">NiniC0c0: no</td><td class="time"><a href="#t2021-02-12T10:30:33" class="time">10:30</a></td></tr>
<tr id="t2021-02-12T10:30:59"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">or maybe with dynamic layers but I've no experience with that</td><td class="time"><a href="#t2021-02-12T10:30:59" class="time">10:30</a></td></tr>
<tr id="t2021-02-12T10:31:58"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">NiniC0c0: device tree is related to hw configuration, so it is related to your machine configuration file. You should therefore have two machines or two device trees at least.</td><td class="time"><a href="#t2021-02-12T10:31:58" class="time">10:31</a></td></tr>
<tr id="t2021-02-12T10:32:16"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">in case of two machines, you can have SRC_URI_append_&lt;machine&gt; in your bbappends</td><td class="time"><a href="#t2021-02-12T10:32:16" class="time">10:32</a></td></tr>
<tr id="t2021-02-12T10:32:53"><th class="nick" style="background: #97974f">NiniC0c0</th><td class="text" style="color: #97974f">qschulz as always xD I have 2 meta folders (bsp and apps) with a device-tree_%.bbapend. When I build a bsp image i don't want to use the bbapend from apps folder. maybe BBFILE_PRIORITY is enough ?</td><td class="time"><a href="#t2021-02-12T10:32:53" class="time">10:32</a></td></tr>
<tr id="t2021-02-12T10:33:11"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">NiniC0c0: no, bbappend applies no matter what</td><td class="time"><a href="#t2021-02-12T10:33:11" class="time">10:33</a></td></tr>
<tr id="t2021-02-12T10:33:35"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">the priority will just change the order in which they are applied</td><td class="time"><a href="#t2021-02-12T10:33:35" class="time">10:33</a></td></tr>
<tr id="t2021-02-12T10:33:36"><th class="nick" style="background: #97974f">NiniC0c0</th><td class="text" style="color: #97974f">qschulz Ok. it's the same machine i need just to add a node inside</td><td class="time"><a href="#t2021-02-12T10:33:36" class="time">10:33</a></td></tr>
<tr id="t2021-02-12T10:33:50"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">NiniC0c0: what is this node for?</td><td class="time"><a href="#t2021-02-12T10:33:50" class="time">10:33</a></td></tr>
<tr id="t2021-02-12T10:33:53"><th class="nick" style="background: #97974f">NiniC0c0</th><td class="text" style="color: #97974f">ho ok thx for the info</td><td class="time"><a href="#t2021-02-12T10:33:53" class="time">10:33</a></td></tr>
<tr id="t2021-02-12T10:34:28"><th class="nick" style="background: #97974f">NiniC0c0</th><td class="text" style="color: #97974f">qschulz just to configure custom driver input</td><td class="time"><a href="#t2021-02-12T10:34:28" class="time">10:34</a></td></tr>
<tr id="t2021-02-12T10:36:53"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">NiniC0c0: you could always use device tree overlays</td><td class="time"><a href="#t2021-02-12T10:36:53" class="time">10:36</a></td></tr>
<tr id="t2021-02-12T10:37:06"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">NiniC0c0: tip: just because it is physically the same machine, it doesn't necessarily have to be the same machine configuration. or dt overlays. it &quot;depends&quot;</td><td class="time"><a href="#t2021-02-12T10:37:06" class="time">10:37</a></td></tr>
<tr id="t2021-02-12T10:37:18"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">apply the overlay in u-boot depending on a conf file that you'll set in your image recipe</td><td class="time"><a href="#t2021-02-12T10:37:18" class="time">10:37</a></td></tr>
<tr id="t2021-02-12T10:38:15"><th class="nick" style="background: #97974f">NiniC0c0</th><td class="text" style="color: #97974f">qschulz LetoThe2nd I'm stupid overlays should do the trick:)  thank you for supporting my stupidity..</td><td class="time"><a href="#t2021-02-12T10:38:15" class="time">10:38</a></td></tr>
<tr id="t2021-02-12T10:39:11"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">NiniC0c0: you can always thank us with free beers!</td><td class="time"><a href="#t2021-02-12T10:39:11" class="time">10:39</a></td></tr>
<tr id="t2021-02-12T10:39:16"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">NiniC0c0: it's not stupidity, sometimes we just forget about things. Don't worry, happy to have helped, that's hthe most important part :)</td><td class="time"><a href="#t2021-02-12T10:39:16" class="time">10:39</a></td></tr>
<tr id="t2021-02-12T10:39:41"><th class="nick" style="background: #97974f">NiniC0c0</th><td class="text" style="color: #97974f">it's a really good community guys&lt;3</td><td class="time"><a href="#t2021-02-12T10:39:41" class="time">10:39</a></td></tr>
<tr id="t2021-02-12T10:56:48"><th class="nick" style="background: #9b519b">kayterina</th><td class="text" style="color: #9b519b">hello. What could be a good practice for I ran out of free space: should I 'clean' some temporary folder before I 'rsync' whole ~/poky to another drive? Does it keep any absolute path links?</td><td class="time"><a href="#t2021-02-12T10:56:48" class="time">10:56</a></td></tr>
<tr id="t2021-02-12T11:02:28"><th class="nick" style="background: #539e9e">RobertBerger</th><td class="text" style="color: #539e9e">@NiniC0c0: If you want to solve this from a YP/OE point of view you could use dynamic layers, as qchulz pointed out. It's something like: if this layer exists than use that.</td><td class="time"><a href="#t2021-02-12T11:02:28" class="time">11:02</a></td></tr>
<tr id="t2021-02-12T11:02:57"><th class="nick" style="background: #539e9e">RobertBerger</th><td class="text" style="color: #539e9e">Only if the networking layer is in bblayers.conf apply the ntp bbappend: <a href="https://gitlab.com/meta-layers/meta-resy/-/tree/master/dynamic-layers/networking-layer/recipes-support/ntp" rel="nofollow">https://gitlab.com/meta-layers/meta-resy/-/tree/master/dynamic-layers/networking-layer/recipes-support/ntp</a></td><td class="time"><a href="#t2021-02-12T11:02:57" class="time">11:02</a></td></tr>
<tr id="t2021-02-12T11:03:06"><th class="nick" style="background: #97974f">NiniC0c0</th><td class="text" style="color: #97974f">RobertBerger Thx I will alose take a look to dynamic layers</td><td class="time"><a href="#t2021-02-12T11:03:06" class="time">11:03</a></td></tr>
<tr id="t2021-02-12T11:05:17"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">kayterina: best practise is to get a disk thats big enough. second best practise is cleaning out sstate (even if only partially). moving the build does not work as easily as you might think, at least tmp has to be recreated from scratch, and probably most of the pathes in local.conf and bblayers.conf have to be checked.</td><td class="time"><a href="#t2021-02-12T11:05:17" class="time">11:05</a></td></tr>
<tr id="t2021-02-12T11:06:58"><th class="nick" style="background: #9b519b">kayterina</th><td class="text" style="color: #9b519b">so if tmp has to be recreated then I just as easily start over in the new disk</td><td class="time"><a href="#t2021-02-12T11:06:58" class="time">11:06</a></td></tr>
<tr id="t2021-02-12T11:07:51"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">kayterina: sstate can be moved. tmp cannot.</td><td class="time"><a href="#t2021-02-12T11:07:51" class="time">11:07</a></td></tr>
<tr id="t2021-02-12T11:08:11"><th class="nick" style="background: #9b519b">kayterina</th><td class="text" style="color: #9b519b">a..ok.</td><td class="time"><a href="#t2021-02-12T11:08:11" class="time">11:08</a></td></tr>
<tr id="t2021-02-12T11:08:17"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">kayterina: you can setup a SSTATE_MIRROR too, this way it's not entirely from scratch</td><td class="time"><a href="#t2021-02-12T11:08:17" class="time">11:08</a></td></tr>
<tr id="t2021-02-12T11:08:42"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">I think some people also have the sstate cache on an NFS?</td><td class="time"><a href="#t2021-02-12T11:08:42" class="time">11:08</a></td></tr>
<tr id="t2021-02-12T11:09:09"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">qschulz: NonFunctionalStorage?</td><td class="time"><a href="#t2021-02-12T11:09:09" class="time">11:09</a></td></tr>
<tr id="t2021-02-12T11:09:22"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">kayterina: i'm not really sure why you want to rsync whole poky?</td><td class="time"><a href="#t2021-02-12T11:09:22" class="time">11:09</a></td></tr>
<tr id="t2021-02-12T11:10:30"><th class="nick" style="background: #9b519b">kayterina</th><td class="text" style="color: #9b519b">perhaps I have a wrong directory structure then. I hae my build in ~/poky/build and my layers in ~/mylayers/meta-blabla so I though I hae to move, so I move everything</td><td class="time"><a href="#t2021-02-12T11:10:30" class="time">11:10</a></td></tr>
<tr id="t2021-02-12T11:10:47"><th class="nick" style="background: #9b519b">kayterina</th><td class="text" style="color: #9b519b">rsync is just what I use to move big files</td><td class="time"><a href="#t2021-02-12T11:10:47" class="time">11:10</a></td></tr>
<tr id="t2021-02-12T11:10:47-2"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">kayterina: s/perhaps/g</td><td class="time"><a href="#t2021-02-12T11:10:47-2" class="time">11:10</a></td></tr>
<tr id="t2021-02-12T11:11:42"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">kayterina: what exactly do you want to move and for which usecase?</td><td class="time"><a href="#t2021-02-12T11:11:42" class="time">11:11</a></td></tr>
<tr id="t2021-02-12T11:11:42-2"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">kayterina: instead of wasting time with copying, watch a couple of my videos where i explain how to lay out your project. especially the kas one essentially shows it step by step.</td><td class="time"><a href="#t2021-02-12T11:11:42-2" class="time">11:11</a></td></tr>
<tr id="t2021-02-12T11:11:52"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">qschulz: low disk space.</td><td class="time"><a href="#t2021-02-12T11:11:52" class="time">11:11</a></td></tr>
<tr id="t2021-02-12T11:12:18"><th class="nick" style="background: #9b519b">kayterina</th><td class="text" style="color: #9b519b">LetoThe2nd: link please?</td><td class="time"><a href="#t2021-02-12T11:12:18" class="time">11:12</a></td></tr>
<tr id="t2021-02-12T11:12:28"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">*sigh*</td><td class="time"><a href="#t2021-02-12T11:12:28" class="time">11:12</a></td></tr>
<tr id="t2021-02-12T11:12:32"><th class="nick" style="background: #9b519b">kayterina</th><td class="text" style="color: #9b519b">I only found 3 on vimeo</td><td class="time"><a href="#t2021-02-12T11:12:32" class="time">11:12</a></td></tr>
<tr id="t2021-02-12T11:12:59"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">LetoThe2nd:&nbsp;&nbsp;then INHERIT += &quot;rm_work&quot; and some cleanup of the sstate-cache with find -atime +30 -delete?</td><td class="time"><a href="#t2021-02-12T11:12:59" class="time">11:12</a></td></tr>
<tr id="t2021-02-12T11:13:20"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">kayterina: you're really not exactly a prime example of showing initiative and effort, i have to say. <a href="https://youtu.be/KJHJlOtTdaE" rel="nofollow">https://youtu.be/KJHJlOtTdaE</a></td><td class="time"><a href="#t2021-02-12T11:13:20" class="time">11:13</a></td></tr>
<tr id="t2021-02-12T11:13:47"><th class="nick" style="background: #9b519b">kayterina</th><td class="text" style="color: #9b519b">aouch. youtube..sorry leto</td><td class="time"><a href="#t2021-02-12T11:13:47" class="time">11:13</a></td></tr>
<tr id="t2021-02-12T11:13:48"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">qschulz: i don't like rm_work. cleaning out with a carefully chose atime can make sense, yes.</td><td class="time"><a href="#t2021-02-12T11:13:48" class="time">11:13</a></td></tr>
<tr id="t2021-02-12T11:14:33"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">kayterina: we've only been using youtube for one and a half years, so yes, it comes really surprising! ;-)</td><td class="time"><a href="#t2021-02-12T11:14:33" class="time">11:14</a></td></tr>
<tr id="t2021-02-12T11:14:44"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">&lt;/SCNR&gt;</td><td class="time"><a href="#t2021-02-12T11:14:44" class="time">11:14</a></td></tr>
<tr id="t2021-02-12T11:18:27"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">LetoThe2nd: we use rm_work for years already :)</td><td class="time"><a href="#t2021-02-12T11:18:27" class="time">11:18</a></td></tr>
<tr id="t2021-02-12T11:19:14"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">qschulz: thats why i explicitly chose the wording &quot;i don't like&quot;. not claiming my POV matches all others :)</td><td class="time"><a href="#t2021-02-12T11:19:14" class="time">11:19</a></td></tr>
<tr id="t2021-02-12T11:37:57"><th class="nick" style="background: #407a40">linums</th><td class="text" style="color: #407a40">Hi</td><td class="time"><a href="#t2021-02-12T11:37:57" class="time">11:37</a></td></tr>
<tr id="t2021-02-12T11:38:43"><th class="nick" style="background: #407a40">linums</th><td class="text" style="color: #407a40">Do I have to reboild everything after I add a new distro_feature, or can i just somehow rebuild the related packages</td><td class="time"><a href="#t2021-02-12T11:38:43" class="time">11:38</a></td></tr>
<tr id="t2021-02-12T11:40:33"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">build the image and it will rebuild what is needed</td><td class="time"><a href="#t2021-02-12T11:40:33" class="time">11:40</a></td></tr>
<tr id="t2021-02-12T11:40:52"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">&quot;it's magic!&quot;</td><td class="time"><a href="#t2021-02-12T11:40:52" class="time">11:40</a></td></tr>
<tr id="t2021-02-12T11:40:53"><th class="nick" style="background: #a25555">rburton</th><td class="text" style="color: #a25555">if you'd turned on hash equiv it will rebuild less</td><td class="time"><a href="#t2021-02-12T11:40:53" class="time">11:40</a></td></tr>
<tr id="t2021-02-12T11:46:58"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">kanavin_home: I tried your patch on a -next build. Its interesting as we got numbers of 53, 53, 57, 58 as being different on the different distros</td><td class="time"><a href="#t2021-02-12T11:46:58" class="time">11:46</a></td></tr>
<tr id="t2021-02-12T11:47:13"><th class="nick" style="background: #407a40">linums</th><td class="text" style="color: #407a40">It should also work with the distro_features addition?</td><td class="time"><a href="#t2021-02-12T11:47:13" class="time">11:47</a></td></tr>
<tr id="t2021-02-12T11:47:28"><th class="nick" style="background: #407a40">linums</th><td class="text" style="color: #407a40">Then I'm in trouble :D</td><td class="time"><a href="#t2021-02-12T11:47:28" class="time">11:47</a></td></tr>
<tr id="t2021-02-12T11:48:25"><th class="nick" style="background: #407a40">linums</th><td class="text" style="color: #407a40">Because it thinks it has nothing to do</td><td class="time"><a href="#t2021-02-12T11:48:25" class="time">11:48</a></td></tr>
<tr id="t2021-02-12T11:49:02"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">linums: *guess*: you added it in the image recipe.</td><td class="time"><a href="#t2021-02-12T11:49:02" class="time">11:49</a></td></tr>
<tr id="t2021-02-12T11:49:14"><th class="nick" style="background: #407a40">linums</th><td class="text" style="color: #407a40">I did</td><td class="time"><a href="#t2021-02-12T11:49:14" class="time">11:49</a></td></tr>
<tr id="t2021-02-12T11:49:28"><th class="nick" style="background: #407a40">linums</th><td class="text" style="color: #407a40">Throug an distro_features_append list</td><td class="time"><a href="#t2021-02-12T11:49:28" class="time">11:49</a></td></tr>
<tr id="t2021-02-12T11:49:53"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">linums: distro feature is to be set in.... distro configruation file :)</td><td class="time"><a href="#t2021-02-12T11:49:53" class="time">11:49</a></td></tr>
<tr id="t2021-02-12T11:50:21"><th class="nick" style="background: #407a40">linums</th><td class="text" style="color: #407a40">Yeah, I knew, that it is not the best idea, to add it from an image recipe :D</td><td class="time"><a href="#t2021-02-12T11:50:21" class="time">11:50</a></td></tr>
<tr id="t2021-02-12T11:50:37"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">linums: well it's not that it's not the best idea, it's just that it won't work</td><td class="time"><a href="#t2021-02-12T11:50:37" class="time">11:50</a></td></tr>
<tr id="t2021-02-12T11:51:09"><th class="nick" style="background: #407a40">linums</th><td class="text" style="color: #407a40">Whatever does not work, sounds like a bad idea to me :D</td><td class="time"><a href="#t2021-02-12T11:51:09" class="time">11:51</a></td></tr>
<tr id="t2021-02-12T11:51:37"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">anybody, please sing along with yocto chant #1....</td><td class="time"><a href="#t2021-02-12T11:51:37" class="time">11:51</a></td></tr>
<tr id="t2021-02-12T11:54:00"><th class="nick" style="background: #4d4d93">qschulz</th><td class="text" style="color: #4d4d93">I think we got some people interested for a Ubuntu meta-deb (meta-rpm like) on the mailing list :D</td><td class="time"><a href="#t2021-02-12T11:54:00" class="time">11:54</a></td></tr>
<tr id="t2021-02-12T12:11:30"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">qschulz: whenever i read the closing lines there, i really wonder if its the language barrier or it such folks really think its ok to just request/demand</td><td class="time"><a href="#t2021-02-12T12:11:30" class="time">12:11</a></td></tr>
<tr id="t2021-02-12T12:15:00"><th class="nick" style="background: #407a40">linums</th><td class="text" style="color: #407a40">Heey, it moving the distro_features to it's proper place worked! Thanks :)</td><td class="time"><a href="#t2021-02-12T12:15:00" class="time">12:15</a></td></tr>
<tr id="t2021-02-12T12:21:43"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">doing something properly works? OMG!</td><td class="time"><a href="#t2021-02-12T12:21:43" class="time">12:21</a></td></tr>
<tr id="t2021-02-12T12:28:23"><th class="nick" style="background: #5959a9">cmg</th><td class="text" style="color: #5959a9">exit</td><td class="time"><a href="#t2021-02-12T12:28:23" class="time">12:28</a></td></tr>
<tr id="t2021-02-12T12:52:26"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">rburton: the answer is: &quot;i want an ubuntu but all i got from my hw vendor was this yocto bsp layer&quot; :)</td><td class="time"><a href="#t2021-02-12T12:52:26" class="time">12:52</a></td></tr>
<tr id="t2021-02-12T13:08:05"><th class="nick" style="background: #42427e">iceaway</th><td class="text" style="color: #42427e">I'm trying to build the extensible SDK, but I get some really strange error about do_prepare_recipe_sysroot failing with exit code 'setscene whitelist'. Any ideas? Google did not give me much.</td><td class="time"><a href="#t2021-02-12T13:08:05" class="time">13:08</a></td></tr>
<tr id="t2021-02-12T13:52:48"><th class="nick" style="background: #539e9e">RobertBerger</th><td class="text" style="color: #539e9e">@LetoThe2nd: and it's even worse if the one who asks is the BSP Layer vendor ;)</td><td class="time"><a href="#t2021-02-12T13:52:48" class="time">13:52</a></td></tr>
<tr id="t2021-02-12T13:53:25"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">RobertBerger: gosh didn't realize that.</td><td class="time"><a href="#t2021-02-12T13:53:25" class="time">13:53</a></td></tr>
<tr id="t2021-02-12T13:53:39"><th class="nick" style="background: #539e9e">RobertBerger</th><td class="text" style="color: #539e9e">@iceaway: Which meta-layers did you include?</td><td class="time"><a href="#t2021-02-12T13:53:39" class="time">13:53</a></td></tr>
<tr id="t2021-02-12T13:53:52"><th class="nick" style="background: #539e9e">RobertBerger</th><td class="text" style="color: #539e9e">@LetoThe2nd: I also commented on the mail ;)</td><td class="time"><a href="#t2021-02-12T13:53:52" class="time">13:53</a></td></tr>
<tr id="t2021-02-12T14:13:51"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">The top level LICENSE for gnutls is &quot;GPLv3 &amp; LGPLv2.1+&quot; because some parts are LGPL and some are GPLv3. However, some recent (dunfell?) change made this top level license the one that applies to generated -locale packages</td><td class="time"><a href="#t2021-02-12T14:13:51" class="time">14:13</a></td></tr>
<tr id="t2021-02-12T14:14:18"><th class="nick" style="background: #b15db1">marex</th><td class="text" style="color: #b15db1">LetoThe2nd: the request thing is a language nuance, it is really meant as polite way of asking for help, not in the &quot;demand&quot; sense</td><td class="time"><a href="#t2021-02-12T14:14:18" class="time">14:14</a></td></tr>
<tr id="t2021-02-12T14:14:36"><th class="nick" style="background: #b15db1">marex</th><td class="text" style="color: #b15db1">LetoThe2nd: I only figured it out when watching startrek TNG :)</td><td class="time"><a href="#t2021-02-12T14:14:36" class="time">14:14</a></td></tr>
<tr id="t2021-02-12T14:14:37"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">This makes my images fail because we don't allow GPLv3.... I'm fairly certain that the -locale files don't fall under the GPLv3, but I'm not sure how to tell bitbake that</td><td class="time"><a href="#t2021-02-12T14:14:37" class="time">14:14</a></td></tr>
<tr id="t2021-02-12T14:15:11"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">marex: thanks!</td><td class="time"><a href="#t2021-02-12T14:15:11" class="time">14:15</a></td></tr>
<tr id="t2021-02-12T14:15:14"><th class="nick" style="background: #b15db1">marex</th><td class="text" style="color: #b15db1">LetoThe2nd: I think Worf used it there a few times, to ask for a favor</td><td class="time"><a href="#t2021-02-12T14:15:14" class="time">14:15</a></td></tr>
<tr id="t2021-02-12T14:15:22"><th class="nick" style="background: #b15db1">marex</th><td class="text" style="color: #b15db1">LetoThe2nd: when talking to Picard iirc</td><td class="time"><a href="#t2021-02-12T14:15:22" class="time">14:15</a></td></tr>
<tr id="t2021-02-12T14:17:48"><th class="nick" style="background: #b15db1">marex</th><td class="text" style="color: #b15db1">RobertBerger: cant you just build custom u-boot/kernel package for ubuntu ,create a ppa , apt install it and done ?</td><td class="time"><a href="#t2021-02-12T14:17:48" class="time">14:17</a></td></tr>
<tr id="t2021-02-12T14:18:16"><th class="nick" style="background: #b15db1">marex</th><td class="text" style="color: #b15db1">the later is I think make deb in linux sources, the former ... look at the debian package for u-boot and add a patch or somesuch</td><td class="time"><a href="#t2021-02-12T14:18:16" class="time">14:18</a></td></tr>
<tr id="t2021-02-12T14:35:45"><th class="nick" style="background: #5fb4b4">yann</th><td class="text" style="color: #5fb4b4">activating ccache globally in local.conf should not trigger rebuilds by itself, right ?&nbsp;&nbsp;it does that to me in gatesgarth :(</td><td class="time"><a href="#t2021-02-12T14:35:45" class="time">14:35</a></td></tr>
<tr id="t2021-02-12T14:42:50"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">yann: It's missing some `BB_HASHBASE_WHITELIST` entries</td><td class="time"><a href="#t2021-02-12T14:42:50" class="time">14:42</a></td></tr>
<tr id="t2021-02-12T14:43:42"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">yann: Basically, since all of the CCACHE_* variables are `export` they will be include in every task hash, which is probably not what you want</td><td class="time"><a href="#t2021-02-12T14:43:42" class="time">14:43</a></td></tr>
<tr id="t2021-02-12T14:52:38"><th class="nick" style="background: #539e9e">RobertBerger</th><td class="text" style="color: #539e9e">@marex: I guess you could. Not sure if you can use it commercially after and/or call it Ubuntu. You might need to remove all the references to &quot;Ubuntu&quot;.</td><td class="time"><a href="#t2021-02-12T14:52:38" class="time">14:52</a></td></tr>
<tr id="t2021-02-12T15:00:17"><th class="nick" style="background: #b15db1">marex</th><td class="text" style="color: #b15db1">RobertBerger: you just dont distribute anything from the official images, just the PPA, that's not called ubuntu, but a custom repo</td><td class="time"><a href="#t2021-02-12T15:00:17" class="time">15:00</a></td></tr>
<tr id="t2021-02-12T15:02:20"><th class="nick" style="background: #539e9e">RobertBerger</th><td class="text" style="color: #539e9e">@marex: We need to know the use case. Even if you don't distribute anything, someone eventually will.</td><td class="time"><a href="#t2021-02-12T15:02:20" class="time">15:02</a></td></tr>
<tr id="t2021-02-12T15:06:36"><th class="nick" style="background: #b15db1">marex</th><td class="text" style="color: #b15db1">RobertBerger: so better do it the OE way, distribute the sources and let others compile them , hehe</td><td class="time"><a href="#t2021-02-12T15:06:36" class="time">15:06</a></td></tr>
<tr id="t2021-02-12T15:07:51"><th class="nick" style="background: #539e9e">RobertBerger</th><td class="text" style="color: #539e9e">@marex: Still the same problem once you ship the product. One of my customers actually wanted to compile Ubuntu sources with OE and asked Canonical. They did not allow it ;)</td><td class="time"><a href="#t2021-02-12T15:07:51" class="time">15:07</a></td></tr>
<tr id="t2021-02-12T15:09:45"><th class="nick" style="background: #b15db1">marex</th><td class="text" style="color: #b15db1">RobertBerger: as in what apt source + dpkg-buildpackage does ? how can canonical stop you from doing so with inherently free or opensource software ?</td><td class="time"><a href="#t2021-02-12T15:09:45" class="time">15:09</a></td></tr>
<tr id="t2021-02-12T15:10:06"><th class="nick" style="background: #b15db1">marex</th><td class="text" style="color: #b15db1">RobertBerger: are you sure it wasnt something something about branding ?</td><td class="time"><a href="#t2021-02-12T15:10:06" class="time">15:10</a></td></tr>
<tr id="t2021-02-12T15:10:38"><th class="nick" style="background: #b15db1">marex</th><td class="text" style="color: #b15db1">RobertBerger: it sounds like the firefox/iceweasel situation in debian</td><td class="time"><a href="#t2021-02-12T15:10:38" class="time">15:10</a></td></tr>
<tr id="t2021-02-12T15:10:44"><th class="nick" style="background: #539e9e">RobertBerger</th><td class="text" style="color: #539e9e">@marex: Trademark is for sure an issue.</td><td class="time"><a href="#t2021-02-12T15:10:44" class="time">15:10</a></td></tr>
<tr id="t2021-02-12T15:12:15"><th class="nick" style="background: #b15db1">marex</th><td class="text" style="color: #b15db1">RobertBerger: if you are compiling linux kernel, what does canonical has to do with it ?</td><td class="time"><a href="#t2021-02-12T15:12:15" class="time">15:12</a></td></tr>
<tr id="t2021-02-12T15:12:20"><th class="nick" style="background: #b15db1">marex</th><td class="text" style="color: #b15db1">*have</td><td class="time"><a href="#t2021-02-12T15:12:20" class="time">15:12</a></td></tr>
<tr id="t2021-02-12T15:12:31"><th class="nick" style="background: #b15db1">marex</th><td class="text" style="color: #b15db1">RobertBerger: dtto for u-boot</td><td class="time"><a href="#t2021-02-12T15:12:31" class="time">15:12</a></td></tr>
<tr id="t2021-02-12T15:13:01"><th class="nick" style="background: #539e9e">RobertBerger</th><td class="text" style="color: #539e9e">@marex: Nothing I would say.</td><td class="time"><a href="#t2021-02-12T15:13:01" class="time">15:13</a></td></tr>
<tr id="t2021-02-12T15:13:16"><th class="nick" style="background: #539e9e">RobertBerger</th><td class="text" style="color: #539e9e">@marex: It's more about the rootfs and all the Ubuntu strings in there ;)</td><td class="time"><a href="#t2021-02-12T15:13:16" class="time">15:13</a></td></tr>
<tr id="t2021-02-12T15:13:30"><th class="nick" style="background: #b86161">sakoman</th><td class="text" style="color: #b86161">JPEW: re: how to tell bitbake what license a package is for gnutls</td><td class="time"><a href="#t2021-02-12T15:13:30" class="time">15:13</a></td></tr>
<tr id="t2021-02-12T15:13:38"><th class="nick" style="background: #b15db1">marex</th><td class="text" style="color: #b15db1">RobertBerger: wget it from ubuntu.com</td><td class="time"><a href="#t2021-02-12T15:13:38" class="time">15:13</a></td></tr>
<tr id="t2021-02-12T15:13:49"><th class="nick" style="background: #b15db1">marex</th><td class="text" style="color: #b15db1">RobertBerger: there, no problem, canonical is distributing that part</td><td class="time"><a href="#t2021-02-12T15:13:49" class="time">15:13</a></td></tr>
<tr id="t2021-02-12T15:13:52"><th class="nick" style="background: #b86161">sakoman</th><td class="text" style="color: #b86161">JPEW: LICENSE_${PN}-xx = &quot;LGPLv2.1+&quot;</td><td class="time"><a href="#t2021-02-12T15:13:52" class="time">15:13</a></td></tr>
<tr id="t2021-02-12T15:14:14"><th class="nick" style="background: #b15db1">marex</th><td class="text" style="color: #b15db1">RobertBerger: you just installed packages from ppa into your debian-derivative distro, that's built into ubuntu, so shrug</td><td class="time"><a href="#t2021-02-12T15:14:14" class="time">15:14</a></td></tr>
<tr id="t2021-02-12T15:14:18"><th class="nick" style="background: #b86161">sakoman</th><td class="text" style="color: #b86161">See the gnutls recipe -- this is done for several packages</td><td class="time"><a href="#t2021-02-12T15:14:18" class="time">15:14</a></td></tr>
<tr id="t2021-02-12T15:14:33"><th class="nick" style="background: #b15db1">marex</th><td class="text" style="color: #b15db1">(yes, it is a workaround, and the result would be poor, obviously)</td><td class="time"><a href="#t2021-02-12T15:14:33" class="time">15:14</a></td></tr>
<tr id="t2021-02-12T15:15:25"><th class="nick" style="background: #539e9e">RobertBerger</th><td class="text" style="color: #539e9e">@marex: You mean your end customers know how to build and install packages? That's not how Embedded Systems are usually sold.</td><td class="time"><a href="#t2021-02-12T15:15:25" class="time">15:15</a></td></tr>
<tr id="t2021-02-12T15:17:37"><th class="nick" style="background: #5fb4b4">yann</th><td class="text" style="color: #5fb4b4">JPEW: so all that's needed is to list them all in `BB_HASHBASE_WHITELIST`, right ?</td><td class="time"><a href="#t2021-02-12T15:17:37" class="time">15:17</a></td></tr>
<tr id="t2021-02-12T15:17:43"><th class="nick" style="background: #b15db1">marex</th><td class="text" style="color: #b15db1">RobertBerger: we cannot assume that the original poster of that email thread plans to deliver a product</td><td class="time"><a href="#t2021-02-12T15:17:43" class="time">15:17</a></td></tr>
<tr id="t2021-02-12T15:18:01"><th class="nick" style="background: #539e9e">RobertBerger</th><td class="text" style="color: #539e9e">@marex: Oh yes we can ;)</td><td class="time"><a href="#t2021-02-12T15:18:01" class="time">15:18</a></td></tr>
<tr id="t2021-02-12T15:18:13"><th class="nick" style="background: #b15db1">marex</th><td class="text" style="color: #b15db1">RobertBerger: we can ? :)</td><td class="time"><a href="#t2021-02-12T15:18:13" class="time">15:18</a></td></tr>
<tr id="t2021-02-12T15:18:37"><th class="nick" style="background: #b15db1">marex</th><td class="text" style="color: #b15db1">RobertBerger: it could be they are just preparing the building blocks for someone else</td><td class="time"><a href="#t2021-02-12T15:18:37" class="time">15:18</a></td></tr>
<tr id="t2021-02-12T15:19:19"><th class="nick" style="background: #539e9e">RobertBerger</th><td class="text" style="color: #539e9e">@marex: Sure ;) For fun and non profit.</td><td class="time"><a href="#t2021-02-12T15:19:19" class="time">15:19</a></td></tr>
<tr id="t2021-02-12T15:19:34"><th class="nick" style="background: #539e9e">RobertBerger</th><td class="text" style="color: #539e9e">@marex: &quot;Internal use only&quot;</td><td class="time"><a href="#t2021-02-12T15:19:34" class="time">15:19</a></td></tr>
<tr id="t2021-02-12T15:23:57"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">sakoman: That doesn't appear to work though</td><td class="time"><a href="#t2021-02-12T15:23:57" class="time">15:23</a></td></tr>
<tr id="t2021-02-12T15:24:17"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">sakoman: If that's supposed to apply to the -locale packages, it appears broken</td><td class="time"><a href="#t2021-02-12T15:24:17" class="time">15:24</a></td></tr>
<tr id="t2021-02-12T15:24:54"><th class="nick" style="background: #b86161">sakoman</th><td class="text" style="color: #b86161">JPEW: Oh, no that specific line applies to the gnutls-xx package!</td><td class="time"><a href="#t2021-02-12T15:24:54" class="time">15:24</a></td></tr>
<tr id="t2021-02-12T15:25:29"><th class="nick" style="background: #b86161">sakoman</th><td class="text" style="color: #b86161">You would need to add similar -locales that you want changes</td><td class="time"><a href="#t2021-02-12T15:25:29" class="time">15:25</a></td></tr>
<tr id="t2021-02-12T15:26:27"><th class="nick" style="background: #b86161">sakoman</th><td class="text" style="color: #b86161">I was just using that as an example :-)</td><td class="time"><a href="#t2021-02-12T15:26:27" class="time">15:26</a></td></tr>
<tr id="t2021-02-12T15:27:13"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">sakoman: Ah, right... I think the specific problem is that they packages are generated based on the configured locales, so we don't know all the names a priori</td><td class="time"><a href="#t2021-02-12T15:27:13" class="time">15:27</a></td></tr>
<tr id="t2021-02-12T15:28:06"><th class="nick" style="background: #b86161">sakoman</th><td class="text" style="color: #b86161">I suspect that we really should be overriding the license on all of the locales</td><td class="time"><a href="#t2021-02-12T15:28:06" class="time">15:28</a></td></tr>
<tr id="t2021-02-12T15:28:34"><th class="nick" style="background: #b86161">sakoman</th><td class="text" style="color: #b86161">Since as you say they are probably not intended to be gplv3</td><td class="time"><a href="#t2021-02-12T15:28:34" class="time">15:28</a></td></tr>
<tr id="t2021-02-12T15:30:14"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">JPEW: we probably need some kind of locale license variable</td><td class="time"><a href="#t2021-02-12T15:30:14" class="time">15:30</a></td></tr>
<tr id="t2021-02-12T15:30:25"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">JPEW: but I do worry the locales are under GPLv3</td><td class="time"><a href="#t2021-02-12T15:30:25" class="time">15:30</a></td></tr>
<tr id="t2021-02-12T15:30:53"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">or perhaps parts of them :/</td><td class="time"><a href="#t2021-02-12T15:30:53" class="time">15:30</a></td></tr>
<tr id="t2021-02-12T15:31:20"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">RP: Ya, I wasn't sure how that would work..... would they have the license of the source file they came from? Are they considered &quot;data&quot;?</td><td class="time"><a href="#t2021-02-12T15:31:20" class="time">15:31</a></td></tr>
<tr id="t2021-02-12T15:33:38"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">JPEW: does the source actually say?</td><td class="time"><a href="#t2021-02-12T15:33:38" class="time">15:33</a></td></tr>
<tr id="t2021-02-12T15:34:15"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">Not really: <a href="https://gitlab.com/gnutls/gnutls/-/blob/master/po/POTFILES.in" rel="nofollow">https://gitlab.com/gnutls/gnutls/-/blob/master/po/POTFILES.in</a></td><td class="time"><a href="#t2021-02-12T15:34:15" class="time">15:34</a></td></tr>
<tr id="t2021-02-12T15:37:36"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">JPEW: <a href="https://translationproject.org/POT-files/gnutls-3.6.8.pot" rel="nofollow">https://translationproject.org/POT-files/gnutls-3.6.8.pot</a></td><td class="time"><a href="#t2021-02-12T15:37:36" class="time">15:37</a></td></tr>
<tr id="t2021-02-12T15:38:00"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">JPEW:&nbsp;&nbsp;in the source it has .po files with &quot;This file is distributed under the same license as the gnutls package.&quot;</td><td class="time"><a href="#t2021-02-12T15:38:00" class="time">15:38</a></td></tr>
<tr id="t2021-02-12T15:40:40"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">RP: Yep, which is a little confusing since the source code has components under difference licenses: <a href="https://gitlab.com/gnutls/gnutls/-/blob/master/LICENSE" rel="nofollow">https://gitlab.com/gnutls/gnutls/-/blob/master/LICENSE</a></td><td class="time"><a href="#t2021-02-12T15:40:40" class="time">15:40</a></td></tr>
<tr id="t2021-02-12T15:40:48"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">JPEW: right :/</td><td class="time"><a href="#t2021-02-12T15:40:48" class="time">15:40</a></td></tr>
<tr id="t2021-02-12T15:40:57"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">JPEW: I think we may have to ask them</td><td class="time"><a href="#t2021-02-12T15:40:57" class="time">15:40</a></td></tr>
<tr id="t2021-02-12T15:42:34"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">RP: Will do</td><td class="time"><a href="#t2021-02-12T15:42:34" class="time">15:42</a></td></tr>
<tr id="t2021-02-12T15:43:06"><th class="nick" style="background: #5fb4b4">yann</th><td class="text" style="color: #5fb4b4">we can't use something like `INHERIT_append_pn-linux-vanilla = &quot; ccache&quot;` in local.conf, it *has* to be += in a .bbappend, right ?</td><td class="time"><a href="#t2021-02-12T15:43:06" class="time">15:43</a></td></tr>
<tr id="t2021-02-12T15:45:31"><th class="nick" style="background: #62bb62">kergoth</th><td class="text" style="color: #62bb62">yann: INHERIT is processed globally long beroe the recipes are parsed at all</td><td class="time"><a href="#t2021-02-12T15:45:31" class="time">15:45</a></td></tr>
<tr id="t2021-02-12T15:45:38"><th class="nick" style="background: #62bb62">kergoth</th><td class="text" style="color: #62bb62">+= in a bbappend will do nothing either</td><td class="time"><a href="#t2021-02-12T15:45:38" class="time">15:45</a></td></tr>
<tr id="t2021-02-12T15:45:45"><th class="nick" style="background: #62bb62">kergoth</th><td class="text" style="color: #62bb62">'inherit foo' in a bbappend will do fine</td><td class="time"><a href="#t2021-02-12T15:45:45" class="time">15:45</a></td></tr>
<tr id="t2021-02-12T15:47:13"><th class="nick" style="background: #5fb4b4">yann</th><td class="text" style="color: #5fb4b4">yeah, looks better already, thx!</td><td class="time"><a href="#t2021-02-12T15:47:13" class="time">15:47</a></td></tr>
<tr id="t2021-02-12T15:47:54"><th class="nick" style="background: #5fb4b4">yann</th><td class="text" style="color: #5fb4b4">I've tried adding BB_HASHBASE_WHITELIST += &quot;CCACHE_TOP_DIR CCACHE_BASEDIR CCACHE_COMPILERCHECK CCACHE_CONFIGPATH CCACHE_DIR CCACHE_NOHASHDIR&quot; to my local.conf in the hope to allow reuse</td><td class="time"><a href="#t2021-02-12T15:47:54" class="time">15:47</a></td></tr>
<tr id="t2021-02-12T15:48:26"><th class="nick" style="background: #5fb4b4">yann</th><td class="text" style="color: #5fb4b4">of sstate as mentionned by JPEW , but that juste makes the task hashes unstable, can't see why</td><td class="time"><a href="#t2021-02-12T15:48:26" class="time">15:48</a></td></tr>
<tr id="t2021-02-12T15:48:52"><td class="nickchange" colspan="2">*** mckoan is now known as mckoan|away</td><td><a href="#t2021-02-12T15:48:52" class="time">15:48</a></td></tr>
<tr id="t2021-02-12T16:13:50"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">RP: I asked on their ML. I think I'll also add a &quot;nls&quot; PACKAGECONFIG to disable the translations (I don't *really* care about having them)</td><td class="time"><a href="#t2021-02-12T16:13:50" class="time">16:13</a></td></tr>
<tr id="t2021-02-12T16:14:32"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">JPEW: fair enough. Its going to become an increasing problem :/</td><td class="time"><a href="#t2021-02-12T16:14:32" class="time">16:14</a></td></tr>
<tr id="t2021-02-12T16:15:08"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">JPEW: the point of splitting them into packages is so you can ignore them</td><td class="time"><a href="#t2021-02-12T16:15:08" class="time">16:15</a></td></tr>
<tr id="t2021-02-12T16:30:29"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">RP: Hmm, ya. Weirdly, if they weren't split into separate packages, I suspect they would have defaulted to the ${PN} package...</td><td class="time"><a href="#t2021-02-12T16:30:29" class="time">16:30</a></td></tr>
<tr id="t2021-02-12T16:30:44"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">Which is LGPLv2</td><td class="time"><a href="#t2021-02-12T16:30:44" class="time">16:30</a></td></tr>
<tr id="t2021-02-12T16:31:05"><td class="action" colspan="2">* JPEW verifies that assumption</td><td><a href="#t2021-02-12T16:31:05" class="time">16:31</a></td></tr>
<tr id="t2021-02-12T16:32:13"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">Nope, I was wrong. There is a ${PN}-locale package</td><td class="time"><a href="#t2021-02-12T16:32:13" class="time">16:32</a></td></tr>
<tr id="t2021-02-12T16:34:33"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">But, perhaps the split locale packages should pick their license from LICENSE_${PN}-locale (if set), that way you can at least set the license for all of them without having to know all the generated names first</td><td class="time"><a href="#t2021-02-12T16:34:33" class="time">16:34</a></td></tr>
<tr id="t2021-02-12T16:41:17"><th class="nick" style="background: #6464bf">weltling</th><td class="text" style="color: #6464bf">is there a way to pull a dso from a foreign architecture? currently when including that, the build tries to strip it and to check symbol versions, etc., is there a way to skip it? I checked some steps and related &quot;inhibit&quot; variables but don't seem to find a good solution for that.</td><td class="time"><a href="#t2021-02-12T16:41:17" class="time">16:41</a></td></tr>
<tr id="t2021-02-12T16:41:43"><th class="nick" style="background: #6464bf">weltling</th><td class="text" style="color: #6464bf">say pull an aarch64 dso into a x86 build, etc.</td><td class="time"><a href="#t2021-02-12T16:41:43" class="time">16:41</a></td></tr>
<tr id="t2021-02-12T16:42:53"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">weltling: Ya, you have to set a few variables to prevent it from doing those things, but it's possible</td><td class="time"><a href="#t2021-02-12T16:42:53" class="time">16:42</a></td></tr>
<tr id="t2021-02-12T16:46:24"><th class="nick" style="background: #6464bf">weltling</th><td class="text" style="color: #6464bf">JPEW, could you help identify those please? my latest status i was setting INHIBIT_PACKAGE_STRIP_FILES, but then dnf tries to look into the symbol versions and obviously libc is a wrong one so it fails</td><td class="time"><a href="#t2021-02-12T16:46:24" class="time">16:46</a></td></tr>
<tr id="t2021-02-12T16:47:14"><th class="nick" style="background: #6464bf">weltling</th><td class="text" style="color: #6464bf">i was looking also at a wiki page about including binary artifacts into the build, that however concerns including artifacts of the same arch</td><td class="time"><a href="#t2021-02-12T16:47:14" class="time">16:47</a></td></tr>
<tr id="t2021-02-12T16:47:27"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">weltling: Hmm, Can you put the file somewhere other than a standard library search path?</td><td class="time"><a href="#t2021-02-12T16:47:27" class="time">16:47</a></td></tr>
<tr id="t2021-02-12T16:48:25"><th class="nick" style="background: #6464bf">weltling</th><td class="text" style="color: #6464bf">JPEW, it is in a subfolder of /usr/lib, but it wouldn't be found by default i think</td><td class="time"><a href="#t2021-02-12T16:48:25" class="time">16:48</a></td></tr>
<tr id="t2021-02-12T16:48:38"><th class="nick" style="background: #6464bf">weltling</th><td class="text" style="color: #6464bf">dfn finds it because it's listed explicitly in the spec, i think</td><td class="time"><a href="#t2021-02-12T16:48:38" class="time">16:48</a></td></tr>
<tr id="t2021-02-12T16:49:13"><th class="nick" style="background: #6464bf">weltling</th><td class="text" style="color: #6464bf">hmm, perhaps it could be put somewhere else, but i'll need to be available at the exact place then</td><td class="time"><a href="#t2021-02-12T16:49:13" class="time">16:49</a></td></tr>
<tr id="t2021-02-12T16:49:13-2"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">weltling: EXCLUDE_FROM_SHLIBS = &quot;1&quot; maybe?</td><td class="time"><a href="#t2021-02-12T16:49:13-2" class="time">16:49</a></td></tr>
<tr id="t2021-02-12T16:49:46"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">weltling: Reading through package.bbclass is helpful for these sorts of things</td><td class="time"><a href="#t2021-02-12T16:49:46" class="time">16:49</a></td></tr>
<tr id="t2021-02-12T16:51:31"><th class="nick" style="background: #6464bf">weltling</th><td class="text" style="color: #6464bf">JPEW, oh, reading teh doc, perhaps PRIVATE_LIBS could work, gonna try</td><td class="time"><a href="#t2021-02-12T16:51:31" class="time">16:51</a></td></tr>
<tr id="t2021-02-12T16:51:59"><th class="nick" style="background: #6464bf">weltling</th><td class="text" style="color: #6464bf">yeah, read the package.bbclass but obviously overseen these possibilities</td><td class="time"><a href="#t2021-02-12T16:51:59" class="time">16:51</a></td></tr>
<tr id="t2021-02-12T16:52:44"><th class="nick" style="background: #6464bf">weltling</th><td class="text" style="color: #6464bf">otherwise, it won't be possible to exclude all the dso at once, as the package produces also some libs that are from the same arch and are needed</td><td class="time"><a href="#t2021-02-12T16:52:44" class="time">16:52</a></td></tr>
<tr id="t2021-02-12T16:53:11"><th class="nick" style="background: #6464bf">weltling</th><td class="text" style="color: #6464bf">perhaps those of the foreign arch could be separated out, that might be an idea, too, then they could be excluded from shlibs</td><td class="time"><a href="#t2021-02-12T16:53:11" class="time">16:53</a></td></tr>
<tr id="t2021-02-12T16:53:24"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">weltling: You might try to split them apart if possible</td><td class="time"><a href="#t2021-02-12T16:53:24" class="time">16:53</a></td></tr>
<tr id="t2021-02-12T16:53:29"><th class="nick" style="background: #6464bf">weltling</th><td class="text" style="color: #6464bf">yeah</td><td class="time"><a href="#t2021-02-12T16:53:29" class="time">16:53</a></td></tr>
<tr id="t2021-02-12T16:53:57"><th class="nick" style="background: #6464bf">weltling</th><td class="text" style="color: #6464bf">JPEW, thanks a lot for the help!</td><td class="time"><a href="#t2021-02-12T16:53:57" class="time">16:53</a></td></tr>
<tr id="t2021-02-12T16:54:03"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">weltling: np</td><td class="time"><a href="#t2021-02-12T16:54:03" class="time">16:54</a></td></tr>
<tr id="t2021-02-12T17:05:37"><th class="nick" style="background: #c3c366">diamondman</th><td class="text" style="color: #c3c366">I am trying to make a recipe:task that will automatically run the do_test task on every recipe that inherits from a bbclass (the reason why I want this is at the bottom if anyone cares).</td><td class="time"><a href="#t2021-02-12T17:05:37" class="time">17:05</a></td></tr>
<tr id="t2021-02-12T17:05:37-2"><th class="nick" style="background: #c3c366">diamondman</th><td class="text" style="color: #c3c366">My current idea is to have the bbclass add the do_test task and then add that do_test task as a dependency to company-tests:do_test. That way, you can run</td><td class="time"><a href="#t2021-02-12T17:05:37-2" class="time">17:05</a></td></tr>
<tr id="t2021-02-12T17:05:37-3"><th class="nick" style="background: #c3c366">diamondman</th><td class="text" style="color: #c3c366">bitbake company-tests -c do_test</td><td class="time"><a href="#t2021-02-12T17:05:37-3" class="time">17:05</a></td></tr>
<tr id="t2021-02-12T17:05:37-4"><th class="nick" style="background: #c3c366">diamondman</th><td class="text" style="color: #c3c366">and that automatically executes recipe1.bb:do_test, recipe2.bb:do_test, etc.</td><td class="time"><a href="#t2021-02-12T17:05:37-4" class="time">17:05</a></td></tr>
<tr id="t2021-02-12T17:05:37-5"><th class="nick" style="background: #c3c366">diamondman</th><td class="text" style="color: #c3c366">This solution turns out to be pretty hard to do. I have been digging through the bitbake source code, and I can not find a way to add a dependency to a task from a different recipe. I am using an anonymous python function, so my code runs before tasks start being executed, but I have not figured out how to access the datastores of other tasks. Maybe there is no reliable way to do this since the recipes are not</td><td class="time"><a href="#t2021-02-12T17:05:37-5" class="time">17:05</a></td></tr>
<tr id="t2021-02-12T17:05:38"><th class="nick" style="background: #c3c366">diamondman</th><td class="text" style="color: #c3c366">necessarily parsed in any specific order.</td><td class="time"><a href="#t2021-02-12T17:05:38" class="time">17:05</a></td></tr>
<tr id="t2021-02-12T17:05:39"><th class="nick" style="background: #c3c366">diamondman</th><td class="text" style="color: #c3c366">I have several other less attractive ideas too, like in company-tests:do_test, scanning all parsed recipes to find ones that inherit from my bbclass and then dynamically those recipe''s do_test task to the scheduler (this would make the count of necessary tasks inaccurate, so I would love a better option).</td><td class="time"><a href="#t2021-02-12T17:05:39" class="time">17:05</a></td></tr>
<tr id="t2021-02-12T17:05:40"><th class="nick" style="background: #c3c366">diamondman</th><td class="text" style="color: #c3c366">Does anyone have any ideas on how to achieve my goal? I am open to all alternatives. Thanks in advance.</td><td class="time"><a href="#t2021-02-12T17:05:40" class="time">17:05</a></td></tr>
<tr id="t2021-02-12T17:45:25"><th class="nick" style="background: #c668c6">yocton</th><td class="text" style="color: #c668c6">diamondman: Do you know &quot;bitbake-layers show-recipes -i &lt;bbclass&gt;&quot; ?</td><td class="time"><a href="#t2021-02-12T17:45:25" class="time">17:45</a></td></tr>
<tr id="t2021-02-12T17:46:30"><th class="nick" style="background: #c668c6">yocton</th><td class="text" style="color: #c668c6">(This is the bitbake way of getting all recipes inheriting a class)</td><td class="time"><a href="#t2021-02-12T17:46:30" class="time">17:46</a></td></tr>
<tr id="t2021-02-12T17:46:41"><td class="nickchange" colspan="2">*** mprokos is now known as rabbit9911</td><td><a href="#t2021-02-12T17:46:41" class="time">17:46</a></td></tr>
<tr id="t2021-02-12T17:47:54"><th class="nick" style="background: #6acaca">rabbit9911</th><td class="text" style="color: #6acaca">Anyone seeing python3 core dumps with 3.1.5? Seems to only show up on our epyc server.</td><td class="time"><a href="#t2021-02-12T17:47:54" class="time">17:47</a></td></tr>
<tr id="t2021-02-12T17:48:10"><th class="nick" style="background: #c3c366">diamondman</th><td class="text" style="color: #c3c366">@yocton I can look at how that code works and try to borrow it.</td><td class="time"><a href="#t2021-02-12T17:48:10" class="time">17:48</a></td></tr>
<tr id="t2021-02-12T17:48:15"><th class="nick" style="background: #c668c6">yocton</th><td class="text" style="color: #c668c6">diamondman: I would start from that, process a little then give it to bitbake -ctest ...</td><td class="time"><a href="#t2021-02-12T17:48:15" class="time">17:48</a></td></tr>
<tr id="t2021-02-12T17:48:55"><th class="nick" style="background: #c3c366">diamondman</th><td class="text" style="color: #c3c366">@yocton are you recommending triggering a 2nd run of bitbake after determining which recipes need to be tested?</td><td class="time"><a href="#t2021-02-12T17:48:55" class="time">17:48</a></td></tr>
<tr id="t2021-02-12T17:52:35"><th class="nick" style="background: #c668c6">yocton</th><td class="text" style="color: #c668c6">&quot;recommend&quot; is a stong word ^^ For what I'm suggesting, you'll have one bitbake-layers run (getting the list of recipes) and one bitbake run (running the do_test task on all recipes)</td><td class="time"><a href="#t2021-02-12T17:52:35" class="time">17:52</a></td></tr>
<tr id="t2021-02-12T17:55:26"><th class="nick" style="background: #c668c6">yocton</th><td class="text" style="color: #c668c6">Also, I wonder if &quot;bitbake -c test world&quot; would work</td><td class="time"><a href="#t2021-02-12T17:55:26" class="time">17:55</a></td></tr>
<tr id="t2021-02-12T18:10:19"><th class="nick" style="background: #62bb62">kergoth</th><td class="text" style="color: #62bb62">yocton: you'd probably need --runall=test if you want a task run on all the dependencies of the specified target, not just the target.</td><td class="time"><a href="#t2021-02-12T18:10:19" class="time">18:10</a></td></tr>
<tr id="t2021-02-12T18:10:34"><td class="action" colspan="2">* kergoth yawns</td><td><a href="#t2021-02-12T18:10:34" class="time">18:10</a></td></tr>
<tr id="t2021-02-12T18:10:42"><th class="nick" style="background: #62bb62">kergoth</th><td class="text" style="color: #62bb62">that's only if the task exists everywhere, of course.</td><td class="time"><a href="#t2021-02-12T18:10:42" class="time">18:10</a></td></tr>
<tr id="t2021-02-12T19:25:32"><th class="nick" style="background: #ce6c6c">kanavin_home</th><td class="text" style="color: #ce6c6c">RP: I'll send a better patch in a moment</td><td class="time"><a href="#t2021-02-12T19:25:32" class="time">19:25</a></td></tr>
<tr id="t2021-02-12T19:26:25"><th class="nick" style="background: #ce6c6c">kanavin_home</th><td class="text" style="color: #ce6c6c">the one that directly prints:</td><td class="time"><a href="#t2021-02-12T19:26:25" class="time">19:26</a></td></tr>
<tr id="t2021-02-12T19:26:27"><th class="nick" style="background: #ce6c6c">kanavin_home</th><td class="text" style="color: #ce6c6c">2021-02-12 00:54:44,402 - oe-selftest - INFO - Reproducibility summary for ipk: same=11252 different=0 different_excluded=71 missing=0 total=11323</td><td class="time"><a href="#t2021-02-12T19:26:27" class="time">19:26</a></td></tr>
<tr id="t2021-02-12T19:26:27-2"><th class="nick" style="background: #ce6c6c">kanavin_home</th><td class="text" style="color: #ce6c6c">unused_exclusions={'quilt-ptest', 'valgrind-ptest', 'vim', 'meson', 'kernel-devsrc', 'git', 'groff', 'watchdog', 'ruby', 'dtc'}</td><td class="time"><a href="#t2021-02-12T19:26:27-2" class="time">19:26</a></td></tr>
<tr id="t2021-02-12T20:04:54"><th class="nick" style="background: #6acaca">rabbit9911</th><td class="text" style="color: #6acaca">It looks like python3-native is broken on 3.1.5 on epyc servers.. (still looking)</td><td class="time"><a href="#t2021-02-12T20:04:54" class="time">20:04</a></td></tr>
<tr id="t2021-02-12T22:17:13"><th class="nick" style="background: #6ed16e">vdl</th><td class="text" style="color: #6ed16e">It seems that setting VOLATILE_LOG_DIR = &quot;no&quot; recompiles everything :)</td><td class="time"><a href="#t2021-02-12T22:17:13" class="time">22:17</a></td></tr>
<tr id="t2021-02-12T22:33:51"><th class="nick" style="background: #6ed16e">vdl</th><td class="text" style="color: #6ed16e">why though :/</td><td class="time"><a href="#t2021-02-12T22:33:51" class="time">22:33</a></td></tr>
<tr id="t2021-02-12T22:50:14"><th class="nick" style="background: #7070d5">moto-timo</th><td class="text" style="color: #7070d5">JPEW: we need to have a call some day about icecream in a tekton context. It seems to me that a commodity device cluster could be running _many_ iceccd nodes. Ideally that would be containers running on k8s nodes.</td><td class="time"><a href="#t2021-02-12T22:50:14" class="time">22:50</a></td></tr>
<tr id="t2021-02-12T22:51:02"><th class="nick" style="background: #7070d5">moto-timo</th><td class="text" style="color: #7070d5">JPEW: that might also be the path to scaling in the cloud (since passing sstate around is somewhat meh).</td><td class="time"><a href="#t2021-02-12T22:51:02" class="time">22:51</a></td></tr>
<tr id="t2021-02-12T22:51:32"><th class="nick" style="background: #7070d5">moto-timo</th><td class="text" style="color: #7070d5">JPEW: also, do you have a public repo for the Dockerfiles from your docker hub images?</td><td class="time"><a href="#t2021-02-12T22:51:32" class="time">22:51</a></td></tr>
<tr id="t2021-02-12T23:07:31"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">moto-timo: Ya. Using icecream would heavily depend on your usecase... I think more parallel builds (even with meh sstate) is probably always going to beat icecream</td><td class="time"><a href="#t2021-02-12T23:07:31" class="time">23:07</a></td></tr>
<tr id="t2021-02-12T23:07:57"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">But if you have a small number of mega builds that take forever, then it would make more sense</td><td class="time"><a href="#t2021-02-12T23:07:57" class="time">23:07</a></td></tr>
<tr id="t2021-02-12T23:09:14"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">I have not published my Dockerfiles... most of them are just modifications of the upstream ones (labgrid, crops); I've been a little tardy publishing them (and, I'm not sure if upstream can really take the changes anyway)</td><td class="time"><a href="#t2021-02-12T23:09:14" class="time">23:09</a></td></tr>
<tr id="t2021-02-12T23:10:46"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">Out of curosity, what's the meh part of sstate?</td><td class="time"><a href="#t2021-02-12T23:10:46" class="time">23:10</a></td></tr>
<tr id="t2021-02-12T23:13:15"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">kanavin_home: excellent, that sound great :)</td><td class="time"><a href="#t2021-02-12T23:13:15" class="time">23:13</a></td></tr>
<tr id="t2021-02-12T23:13:37"><th class="nick" style="background: #7070d5">moto-timo</th><td class="text" style="color: #7070d5">true cloud: e.g. s3 storage of sstate has been reported to be entirely too slow to be useful. Instead people recommend passing tarballs around.</td><td class="time"><a href="#t2021-02-12T23:13:37" class="time">23:13</a></td></tr>
<tr id="t2021-02-12T23:13:49"><th class="nick" style="background: #7070d5">moto-timo</th><td class="text" style="color: #7070d5">JPEW: I have no actual experience yet.</td><td class="time"><a href="#t2021-02-12T23:13:49" class="time">23:13</a></td></tr>
<tr id="t2021-02-12T23:14:43"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">moto-timo: I think S3 is the wrong backend to use. You want an NFS server backed with a reasonable disk</td><td class="time"><a href="#t2021-02-12T23:14:43" class="time">23:14</a></td></tr>
<tr id="t2021-02-12T23:15:23"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">I think you can get away with running an NFS server in a container backed by a persistentVolumeClaim</td><td class="time"><a href="#t2021-02-12T23:15:23" class="time">23:15</a></td></tr>
<tr id="t2021-02-12T23:15:44"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">(if you don't have access to a NFS server)</td><td class="time"><a href="#t2021-02-12T23:15:44" class="time">23:15</a></td></tr>
<tr id="t2021-02-12T23:15:57"><th class="nick" style="background: #7070d5">moto-timo</th><td class="text" style="color: #7070d5">JPEW: I think NFS in the cloud starts to get us rapidly out of reasonably priced?</td><td class="time"><a href="#t2021-02-12T23:15:57" class="time">23:15</a></td></tr>
<tr id="t2021-02-12T23:16:57"><th class="nick" style="background: #7070d5">moto-timo</th><td class="text" style="color: #7070d5">JPEW: I have two goals: local cluster (including a bunch of rpi4s, AWS/GCE/Azure/DigitalOcean/CloudDuJour</td><td class="time"><a href="#t2021-02-12T23:16:57" class="time">23:16</a></td></tr>
<tr id="t2021-02-12T23:17:28"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">It depends on how you do it.... for example if you use the &quot;hosted&quot; NFS servers like AWS EFS (which is probably really fast) that can be expensive</td><td class="time"><a href="#t2021-02-12T23:17:28" class="time">23:17</a></td></tr>
<tr id="t2021-02-12T23:18:04"><th class="nick" style="background: #7070d5">moto-timo</th><td class="text" style="color: #7070d5">JPEW: that is what I meant from my limited knowledge</td><td class="time"><a href="#t2021-02-12T23:18:04" class="time">23:18</a></td></tr>
<tr id="t2021-02-12T23:18:30"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">But, if you just buy a e.g. 1TB block device and mount it as the backing to a container running an NFS server its pretty reasonable</td><td class="time"><a href="#t2021-02-12T23:18:30" class="time">23:18</a></td></tr>
<tr id="t2021-02-12T23:18:58"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">Not as cheap as S3, but not too bad</td><td class="time"><a href="#t2021-02-12T23:18:58" class="time">23:18</a></td></tr>
<tr id="t2021-02-12T23:20:52"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">I would love to actually set up an autobuilder in the cloud like that, have a set of the needed images ready on the shelf</td><td class="time"><a href="#t2021-02-12T23:20:52" class="time">23:20</a></td></tr>
<tr id="t2021-02-12T23:20:55"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">Also depends on what you classify as &quot;expensive&quot;</td><td class="time"><a href="#t2021-02-12T23:20:55" class="time">23:20</a></td></tr>
<tr id="t2021-02-12T23:21:11"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">RP: You're going to love my talk :)</td><td class="time"><a href="#t2021-02-12T23:21:11" class="time">23:21</a></td></tr>
<tr id="t2021-02-12T23:21:43"><th class="nick" style="background: #d9d972">neverpanic</th><td class="text" style="color: #d9d972">Recently ran across our colo bill. I think we could buy a reasonable chunk of cloud for that price, too.</td><td class="time"><a href="#t2021-02-12T23:21:43" class="time">23:21</a></td></tr>
<tr id="t2021-02-12T23:22:31"><th class="nick" style="background: #d9d972">neverpanic</th><td class="text" style="color: #d9d972">But yes, mounted NFS for download and sstate cache is what we use, works well.</td><td class="time"><a href="#t2021-02-12T23:22:31" class="time">23:22</a></td></tr>
<tr id="t2021-02-12T23:22:55"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">moto-timo: I priced out a 1TB sstate cache on Azure at ~$2000/yr. If you're doing cloud builds, that a pitance compared to what you pay to actually *do* any meaningful amount of builds</td><td class="time"><a href="#t2021-02-12T23:22:55" class="time">23:22</a></td></tr>
<tr id="t2021-02-12T23:24:22"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">And, that's using their hosted NFS &quot;files&quot; instead of a block device + NFS in Kubernetes... suprisingly it comes out cheaper until you start to get to larger sstate sizes</td><td class="time"><a href="#t2021-02-12T23:24:22" class="time">23:24</a></td></tr>
<tr id="t2021-02-12T23:25:15"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">And, that price assumes that your using the full 1TB for a whole year, when it's really pay-for-what-you-use</td><td class="time"><a href="#t2021-02-12T23:25:15" class="time">23:25</a></td></tr>
<tr id="t2021-02-12T23:25:38"><th class="nick" style="background: #7070d5">moto-timo</th><td class="text" style="color: #7070d5"><a href="https://github.com/madisongh/tegra-test-distro/wiki/Using-AWS-S3-for-sstate-and-downloads-mirrors" rel="nofollow">https://github.com/madisongh/tegra-test-distro/wiki/Using-AWS-S3-for-sstate-and-downloads-mirrors</a></td><td class="time"><a href="#t2021-02-12T23:25:38" class="time">23:25</a></td></tr>
<tr id="t2021-02-12T23:26:19"><th class="nick" style="background: #d9d972">neverpanic</th><td class="text" style="color: #d9d972">I doubt you need a TB of sstate. We do &quot;turn the last build's sstate cache into an sstate mirror for the next build, delete everything that's not used&quot;.</td><td class="time"><a href="#t2021-02-12T23:26:19" class="time">23:26</a></td></tr>
<tr id="t2021-02-12T23:26:32"><th class="nick" style="background: #7070d5">moto-timo</th><td class="text" style="color: #7070d5">matt had some changes to the &quot;s3&quot; fetcher... I have not tried it</td><td class="time"><a href="#t2021-02-12T23:26:32" class="time">23:26</a></td></tr>
<tr id="t2021-02-12T23:26:34"><th class="nick" style="background: #d9d972">neverpanic</th><td class="text" style="color: #d9d972">sstate is &lt; 100G</td><td class="time"><a href="#t2021-02-12T23:26:34" class="time">23:26</a></td></tr>
<tr id="t2021-02-12T23:26:45"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">neverpanic: Ah, but see if you use an NFS server, you don't need to do that</td><td class="time"><a href="#t2021-02-12T23:26:45" class="time">23:26</a></td></tr>
<tr id="t2021-02-12T23:27:04"><th class="nick" style="background: #7070d5">moto-timo</th><td class="text" style="color: #7070d5">neverpanic: my sstate is bigger than that... lots of layers and configurations and I don't flush it often?</td><td class="time"><a href="#t2021-02-12T23:27:04" class="time">23:27</a></td></tr>
<tr id="t2021-02-12T23:27:08"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">Your builds directly use NFS as the sstate cache. There is no &quot;upstream mirror&quot;</td><td class="time"><a href="#t2021-02-12T23:27:08" class="time">23:27</a></td></tr>
<tr id="t2021-02-12T23:27:39"><th class="nick" style="background: #d9d972">neverpanic</th><td class="text" style="color: #d9d972">JPEW: you eventually do, unless you want your sstate to grow unbounded. we're running a couple thousand builds a month, so really don't want every single one of those one-off builds to end up in your sstate forever.</td><td class="time"><a href="#t2021-02-12T23:27:39" class="time">23:27</a></td></tr>
<tr id="t2021-02-12T23:27:46"><th class="nick" style="background: #7070d5">moto-timo</th><td class="text" style="color: #7070d5">we need this tribal knowledge to get out of the minds of those that have done it. It is very confusing for folks new to the cloud.</td><td class="time"><a href="#t2021-02-12T23:27:46" class="time">23:27</a></td></tr>
<tr id="t2021-02-12T23:28:18"><th class="nick" style="background: #d9d972">neverpanic</th><td class="text" style="color: #d9d972">sstate-mirror on the same nfs has the advantage of creating symlinks, so its a case of replacing those symlinks with hardlinks after the build, then deleting the old mirror</td><td class="time"><a href="#t2021-02-12T23:28:18" class="time">23:28</a></td></tr>
<tr id="t2021-02-12T23:28:22"><th class="nick" style="background: #7070d5">moto-timo</th><td class="text" style="color: #7070d5">@RP: I agree, an AB in the cloud would be fantastic</td><td class="time"><a href="#t2021-02-12T23:28:22" class="time">23:28</a></td></tr>
<tr id="t2021-02-12T23:28:27"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">neverpanic: Ah, sure. But you can do that out-of-band of your actually builds</td><td class="time"><a href="#t2021-02-12T23:28:27" class="time">23:28</a></td></tr>
<tr id="t2021-02-12T23:28:35"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">neverpanic: I know the autobuilder runs sstate into multiple TBs but the autobuilder workload is unusual</td><td class="time"><a href="#t2021-02-12T23:28:35" class="time">23:28</a></td></tr>
<tr id="t2021-02-12T23:28:43"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">and we do run cleanup on that</td><td class="time"><a href="#t2021-02-12T23:28:43" class="time">23:28</a></td></tr>
<tr id="t2021-02-12T23:29:07"><th class="nick" style="background: #7070d5">moto-timo</th><td class="text" style="color: #7070d5">@RP: the AB is more sstate than I normally run, but exactly my point ;)</td><td class="time"><a href="#t2021-02-12T23:29:07" class="time">23:29</a></td></tr>
<tr id="t2021-02-12T23:29:09"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">neverpanic: And in that cause, S3 makes a lot of sense as an upstream</td><td class="time"><a href="#t2021-02-12T23:29:09" class="time">23:29</a></td></tr>
<tr id="t2021-02-12T23:29:47"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">But, you don't really want every build to have to figure out whats changed and upload it to S3... it's just slow. They should only read from it</td><td class="time"><a href="#t2021-02-12T23:29:47" class="time">23:29</a></td></tr>
<tr id="t2021-02-12T23:30:34"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">I know this because at $WORK we *don't* have NFS and have to rsync to a server at the end of every build. *sad trombone*</td><td class="time"><a href="#t2021-02-12T23:30:34" class="time">23:30</a></td></tr>
<tr id="t2021-02-12T23:31:45"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">JPEW: :(</td><td class="time"><a href="#t2021-02-12T23:31:45" class="time">23:31</a></td></tr>
<tr id="t2021-02-12T23:33:43"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">RP: I'm working on it... it just take a while</td><td class="time"><a href="#t2021-02-12T23:33:43" class="time">23:33</a></td></tr>
<tr id="t2021-02-12T23:34:19"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">JPEW: I know how companies work :/</td><td class="time"><a href="#t2021-02-12T23:34:19" class="time">23:34</a></td></tr>
<tr id="t2021-02-12T23:34:31"><th class="nick" style="background: #7070d5">moto-timo</th><td class="text" style="color: #7070d5">@RP or NOT</td><td class="time"><a href="#t2021-02-12T23:34:31" class="time">23:34</a></td></tr>
<tr id="t2021-02-12T23:35:03"><th class="nick" style="background: #d9d972">neverpanic</th><td class="text" style="color: #d9d972"><a href="https://at.projects.genivi.org/wiki/download/attachments/16027368/GENIVI_AMM_2018_Achim_Demelt.pdf?version=1&amp;modificationDate=1524099162000&amp;api=v2" rel="nofollow">https://at.projects.genivi.org/wiki/download/attachments/16027368/GENIVI_AMM_2018_Achim_Demelt.pdf?version=1&amp;modificationDate=1524099162000&amp;api=v2</a> pages 4 and 7 have some numbers. apparently we're getting by with 30G of sstate cache.</td><td class="time"><a href="#t2021-02-12T23:35:03" class="time">23:35</a></td></tr>
<tr id="t2021-02-12T23:35:23"><th class="nick" style="background: #d9d972">neverpanic</th><td class="text" style="color: #d9d972">but yeah, the autobuilder isn't exactly our use-case.</td><td class="time"><a href="#t2021-02-12T23:35:23" class="time">23:35</a></td></tr>
<tr id="t2021-02-12T23:36:18"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">moto-timo: I did a whole price breakdown a while ago for building in Azure, and you could get about 500,000 build-hours/year (with NFS sstate &amp; hash equiv) for about $100,000</td><td class="time"><a href="#t2021-02-12T23:36:18" class="time">23:36</a></td></tr>
<tr id="t2021-02-12T23:37:03"><th class="nick" style="background: #d9d972">neverpanic</th><td class="text" style="color: #d9d972">that sonuds quite cheap, actually</td><td class="time"><a href="#t2021-02-12T23:37:03" class="time">23:37</a></td></tr>
<tr id="t2021-02-12T23:37:45"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">neverpanic: the autobuilder is different as it tests a ton of weird usecases nobody probably cares about as whole, only as some subset and we build all arches/libcs whereas anybody else probably again picks a subset</td><td class="time"><a href="#t2021-02-12T23:37:45" class="time">23:37</a></td></tr>
<tr id="t2021-02-12T23:38:02"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">neverpanic: Ya, it's not as bad as I though.... it really gives you drive to make builds as fast as possible to save costs. In that regard, NFS sstate pays for itself *really* quick</td><td class="time"><a href="#t2021-02-12T23:38:02" class="time">23:38</a></td></tr>
<tr id="t2021-02-12T23:38:10"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">JPEW: any idea how many build-hours we do on the autobuilder in a year?</td><td class="time"><a href="#t2021-02-12T23:38:10" class="time">23:38</a></td></tr>
<tr id="t2021-02-12T23:38:27"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">RP: I haven't the slightest idea</td><td class="time"><a href="#t2021-02-12T23:38:27" class="time">23:38</a></td></tr>
<tr id="t2021-02-12T23:38:39"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">JPEW: what is your definition of a build-hour ?</td><td class="time"><a href="#t2021-02-12T23:38:39" class="time">23:38</a></td></tr>
<tr id="t2021-02-12T23:38:54"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">One CPU/hour of build time</td><td class="time"><a href="#t2021-02-12T23:38:54" class="time">23:38</a></td></tr>
<tr id="t2021-02-12T23:39:20"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">build-hours is a bad metric. SHould be CPU-hours</td><td class="time"><a href="#t2021-02-12T23:39:20" class="time">23:39</a></td></tr>
<tr id="t2021-02-12T23:39:29"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">JPEW: one virtual cpu core?</td><td class="time"><a href="#t2021-02-12T23:39:29" class="time">23:39</a></td></tr>
<tr id="t2021-02-12T23:39:36"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">RP: Correct</td><td class="time"><a href="#t2021-02-12T23:39:36" class="time">23:39</a></td></tr>
<tr id="t2021-02-12T23:40:03"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">halstead: how many cpu cores do we have in typhoon, roughtly?</td><td class="time"><a href="#t2021-02-12T23:40:03" class="time">23:40</a></td></tr>
<tr id="t2021-02-12T23:40:56"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">I could do with a decent illustration that the autobuilder is cost effective :)</td><td class="time"><a href="#t2021-02-12T23:40:56" class="time">23:40</a></td></tr>
<tr id="t2021-02-12T23:41:52"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">RP: Oh, ya I'm sure the AB is a lot cheaper than the cloud would be... this also doesn't factor in artifact storage which would also cost money</td><td class="time"><a href="#t2021-02-12T23:41:52" class="time">23:41</a></td></tr>
<tr id="t2021-02-12T23:42:23"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">JPEW: I'm sure it is too but I'm forever being asked why we do this when cloud is obviously the solution ;-)</td><td class="time"><a href="#t2021-02-12T23:42:23" class="time">23:42</a></td></tr>
<tr id="t2021-02-12T23:42:59"><th class="nick" style="background: #dc74dc">halstead</th><td class="text" style="color: #dc74dc">RP, On the controller? Just 2.</td><td class="time"><a href="#t2021-02-12T23:42:59" class="time">23:42</a></td></tr>
<tr id="t2021-02-12T23:43:35"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">halstead: sorry, I mean overall in the workers as in the overall infrastructure</td><td class="time"><a href="#t2021-02-12T23:43:35" class="time">23:43</a></td></tr>
<tr id="t2021-02-12T23:43:50"><th class="nick" style="background: #dc74dc">halstead</th><td class="text" style="color: #dc74dc">RP, On the cluster... I can get that quickly.</td><td class="time"><a href="#t2021-02-12T23:43:50" class="time">23:43</a></td></tr>
<tr id="t2021-02-12T23:44:15"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">halstead: 56*24 ish?</td><td class="time"><a href="#t2021-02-12T23:44:15" class="time">23:44</a></td></tr>
<tr id="t2021-02-12T23:45:22"><th class="nick" style="background: #7070d5">moto-timo</th><td class="text" style="color: #7070d5">halstead: I know you did an assessment of bare-metal vs. cloud at some point and bare-metal still one (or so I recall RP saying :)</td><td class="time"><a href="#t2021-02-12T23:45:22" class="time">23:45</a></td></tr>
<tr id="t2021-02-12T23:45:26"><th class="nick" style="background: #dc74dc">halstead</th><td class="text" style="color: #dc74dc">RP, Yes. That's about how many hyperthreaded cores</td><td class="time"><a href="#t2021-02-12T23:45:26" class="time">23:45</a></td></tr>
<tr id="t2021-02-12T23:45:41"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">JPEW: so I think we have about 11million cpu-hours/year available</td><td class="time"><a href="#t2021-02-12T23:45:41" class="time">23:45</a></td></tr>
<tr id="t2021-02-12T23:46:47"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">halstead: thanks, I was just curious on a rough number, its interesting to see the &quot;price&quot;</td><td class="time"><a href="#t2021-02-12T23:46:47" class="time">23:46</a></td></tr>
<tr id="t2021-02-12T23:47:22"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">($2,200,000 cloud cost)</td><td class="time"><a href="#t2021-02-12T23:47:22" class="time">23:47</a></td></tr>
<tr id="t2021-02-12T23:47:26"><th class="nick" style="background: #dc74dc">halstead</th><td class="text" style="color: #dc74dc">moto-timo, Yes the colo plus three year hardware refresh was about 1/3 the price of similar capacity in a major cloud provider. Going with someone like Hetzner of OVH we could come close to price parity but there were network capability issues last time I looked.</td><td class="time"><a href="#t2021-02-12T23:47:26" class="time">23:47</a></td></tr>
<tr id="t2021-02-12T23:47:36"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">RP: Ya, if you were going to go that big you can do &quot;Reserved capacity&quot; where you basically rent a virtual instance permenatly which is usually about a 40% discount, but still</td><td class="time"><a href="#t2021-02-12T23:47:36" class="time">23:47</a></td></tr>
<tr id="t2021-02-12T23:48:23"><th class="nick" style="background: #dc74dc">halstead</th><td class="text" style="color: #dc74dc">JPEW, We do look at reserved pricing. And we factor in non-profit discounts as well.</td><td class="time"><a href="#t2021-02-12T23:48:23" class="time">23:48</a></td></tr>
<tr id="t2021-02-12T23:48:39"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">Ah, ya</td><td class="time"><a href="#t2021-02-12T23:48:39" class="time">23:48</a></td></tr>
<tr id="t2021-02-12T23:51:55"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">JPEW: sorry, I didn't mean to derail your conversation. I was just curious how we compare with the numbers</td><td class="time"><a href="#t2021-02-12T23:51:55" class="time">23:51</a></td></tr>
<tr id="t2021-02-12T23:53:27"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">RP: Heh, it's ok. It's supper time anyway. Night all</td><td class="time"><a href="#t2021-02-12T23:53:27" class="time">23:53</a></td></tr>
<tr id="t2021-02-12T23:53:58"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">JPEW: 'night!</td><td class="time"><a href="#t2021-02-12T23:53:58" class="time">23:53</a></td></tr>
<tr id="t2021-02-12T23:54:41"><th class="nick" style="background: #dc74dc">halstead</th><td class="text" style="color: #dc74dc">Good night.</td><td class="time"><a href="#t2021-02-12T23:54:41" class="time">23:54</a></td></tr>
<tr id="t2021-02-12T23:56:32"><td class="action" colspan="2">* RP should sleep too </td><td><a href="#t2021-02-12T23:56:32" class="time">23:56</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2021-02-11.log.html">&#171; Thursday, 2021-02-11</a> <a href="index.html">Index</a> <a href="%23yocto.2021-02-13.log.html">Saturday, 2021-02-13 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.17.2 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="https://mg.pov.lt/irclog2html/">https://mg.pov.lt/irclog2html/</a>!</p>
</div>
</body>
</html>
