<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Wednesday, 2021-07-28</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.17.2 by Marius Gedminas" />
  <meta name="version" content="2.17.2 - 2019-04-23" />
</head>
<body>
<h1>Wednesday, 2021-07-28</h1>
<div class="navigation"> <a href="%23yocto.2021-07-27.log.html">&#171; Tuesday, 2021-07-27</a> <a href="index.html">Index</a> <a href="%23yocto.2021-07-29.log.html">Thursday, 2021-07-29 &#187;</a> </div>
<table class="irclog">
<tr id="t2021-07-28T00:22:56"><th class="nick" style="background: #407a40">Ad0</th><td class="text" style="color: #407a40">run.do_configure:&nbsp;&nbsp;&nbsp;&nbsp;# Copy defconfig to .config if .config does not exist.</td><td class="time"><a href="#t2021-07-28T00:22:56" class="time">00:22</a></td></tr>
<tr id="t2021-07-28T00:23:07"><th class="nick" style="background: #407a40">Ad0</th><td class="text" style="color: #407a40">.config exists but I have no idea where it comes from</td><td class="time"><a href="#t2021-07-28T00:23:07" class="time">00:23</a></td></tr>
<tr id="t2021-07-28T00:36:01"><th class="nick" style="background: #407a40">Ad0</th><td class="text" style="color: #407a40"><a href="https://github.com/agherzan/meta-raspberrypi/blob/dunfell/recipes-kernel/linux/linux-raspberrypi.inc#L87" rel="nofollow">https://github.com/agherzan/meta-raspberrypi/blob/dunfell/recipes-kernel/linux/linux-raspberrypi.inc#L87</a></td><td class="time"><a href="#t2021-07-28T00:36:01" class="time">00:36</a></td></tr>
<tr id="t2021-07-28T06:36:58"><td class="nickchange" colspan="2">*** tprrt is now known as tperrot</td><td><a href="#t2021-07-28T06:36:58" class="time">06:36</a></td></tr>
<tr id="t2021-07-28T07:11:27"><th class="nick" style="background: #42427e">LetoThe2nd</th><td class="text" style="color: #42427e">yo dudX</td><td class="time"><a href="#t2021-07-28T07:11:27" class="time">07:11</a></td></tr>
<tr id="t2021-07-28T07:38:17"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">o/</td><td class="time"><a href="#t2021-07-28T07:38:17" class="time">07:38</a></td></tr>
<tr id="t2021-07-28T07:48:56"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">smurray: hate to say this but with the prserv patches we have another hang: <a href="https://autobuilder.yoctoproject.org/typhoon/#/builders/56/builds/1538/steps/15/logs/stdio" rel="nofollow">https://autobuilder.yoctoproject.org/typhoon/#/builders/56/builds/1538/steps/15/logs/stdio</a> :/</td><td class="time"><a href="#t2021-07-28T07:48:56" class="time">07:48</a></td></tr>
<tr id="t2021-07-28T08:15:13"><th class="nick" style="background: #42427e">LetoThe2nd</th><td class="text" style="color: #42427e">RP: hang em higher?</td><td class="time"><a href="#t2021-07-28T08:15:13" class="time">08:15</a></td></tr>
<tr id="t2021-07-28T08:15:19"><th class="nick" style="background: #42427e">LetoThe2nd</th><td class="text" style="color: #42427e">RP: hang on sloopy?</td><td class="time"><a href="#t2021-07-28T08:15:19" class="time">08:15</a></td></tr>
<tr id="t2021-07-28T08:15:30"><th class="nick" style="background: #42427e">LetoThe2nd</th><td class="text" style="color: #42427e">RP: hangover?</td><td class="time"><a href="#t2021-07-28T08:15:30" class="time">08:15</a></td></tr>
<tr id="t2021-07-28T08:31:32"><td class="nickchange" colspan="2">*** mckoan|away is now known as mckoan</td><td><a href="#t2021-07-28T08:31:32" class="time">08:31</a></td></tr>
<tr id="t2021-07-28T08:49:48"><td class="part" colspan="2">*** Guest8493 &lt;Guest8493!~Guest84@ip58.ipnepi.uni.net&gt; has left #yocto</td><td><a href="#t2021-07-28T08:49:48" class="time">08:49</a></td></tr>
<tr id="t2021-07-28T09:15:17"><th class="nick" style="background: #488888">JM32</th><td class="text" style="color: #488888">hi all -- I've got a do_image_custom that produces an image that I'd like in the DEPLOY_DIR_IMAGE directory, but with a plain copy I get the &quot; trying to install files into a shared area when those files already exist&quot; error. My first though was to put a check in to see if the file exist or not but that might mean it never gets updated and always</td><td class="time"><a href="#t2021-07-28T09:15:17" class="time">09:15</a></td></tr>
<tr id="t2021-07-28T09:15:17-2"><th class="nick" style="background: #488888">JM32</th><td class="text" style="color: #488888">overwriting doesn't seem correct either. Anyone any suggestions?</td><td class="time"><a href="#t2021-07-28T09:15:17-2" class="time">09:15</a></td></tr>
<tr id="t2021-07-28T09:17:15"><th class="nick" style="background: #42427e">LetoThe2nd</th><td class="text" style="color: #42427e">JM32: shouldn't you copy to IMGDEPLOYDIR?</td><td class="time"><a href="#t2021-07-28T09:17:15" class="time">09:17</a></td></tr>
<tr id="t2021-07-28T09:18:31"><th class="nick" style="background: #42427e">LetoThe2nd</th><td class="text" style="color: #42427e">JM32: the forwarding from there to DEPLOY_DIR_IMAGE should be left to the internal mechanics, AIUI (but happy to be correcte)</td><td class="time"><a href="#t2021-07-28T09:18:31" class="time">09:18</a></td></tr>
<tr id="t2021-07-28T09:19:57"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">LetoThe2nd: you are correct</td><td class="time"><a href="#t2021-07-28T09:19:57" class="time">09:19</a></td></tr>
<tr id="t2021-07-28T09:20:19"><th class="nick" style="background: #42427e">LetoThe2nd</th><td class="text" style="color: #42427e">RP: i'm really sorry.</td><td class="time"><a href="#t2021-07-28T09:20:19" class="time">09:20</a></td></tr>
<tr id="t2021-07-28T09:21:40"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">LetoThe2nd: :) Just be careful, it may be habit forming</td><td class="time"><a href="#t2021-07-28T09:21:40" class="time">09:21</a></td></tr>
<tr id="t2021-07-28T09:26:18"><th class="nick" style="background: #42427e">LetoThe2nd</th><td class="text" style="color: #42427e">RP: being right? or being sorry for everything?</td><td class="time"><a href="#t2021-07-28T09:26:18" class="time">09:26</a></td></tr>
<tr id="t2021-07-28T09:27:14"><th class="nick" style="background: #488888">JM32</th><td class="text" style="color: #488888">LetoThe2nd that might indeed be the issue, thank you</td><td class="time"><a href="#t2021-07-28T09:27:14" class="time">09:27</a></td></tr>
<tr id="t2021-07-28T09:36:24"><td class="action" colspan="2">* RP swears to himself. tune-xxx is used as an override somewhere :(</td><td><a href="#t2021-07-28T09:36:24" class="time">09:36</a></td></tr>
<tr id="t2021-07-28T09:43:53"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">RP: used everywhere in tune conf files?</td><td class="time"><a href="#t2021-07-28T09:43:53" class="time">09:43</a></td></tr>
<tr id="t2021-07-28T09:43:58"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144"><a href="https://git.yoctoproject.org/cgit/cgit.cgi/poky/tree/meta/conf/machine/include/tune-cortexa15.inc" rel="nofollow">https://git.yoctoproject.org/cgit/cgit.cgi/poky/tree/meta/conf/machine/include/tune-cortexa15.inc</a></td><td class="time"><a href="#t2021-07-28T09:43:58" class="time">09:43</a></td></tr>
<tr id="t2021-07-28T09:44:34"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">qschulz: yes. I just thought we could probably avoid this particular issue for the first round, but no</td><td class="time"><a href="#t2021-07-28T09:44:34" class="time">09:44</a></td></tr>
<tr id="t2021-07-28T09:45:02"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">RP: I might have missed the discussion around &quot;this particular issue&quot; because I've no knowledge of it</td><td class="time"><a href="#t2021-07-28T09:45:02" class="time">09:45</a></td></tr>
<tr id="t2021-07-28T09:46:16"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">qschulz: It is inferred in my discussions with Mark. Is tune- an override or not?</td><td class="time"><a href="#t2021-07-28T09:46:16" class="time">09:46</a></td></tr>
<tr id="t2021-07-28T09:46:27"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">it isn't, except when it is :/</td><td class="time"><a href="#t2021-07-28T09:46:27" class="time">09:46</a></td></tr>
<tr id="t2021-07-28T10:01:06"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">hmm, that highlights I made a mistake in the bitbake changes</td><td class="time"><a href="#t2021-07-28T10:01:06" class="time">10:01</a></td></tr>
<tr id="t2021-07-28T10:01:26"><td class="action" colspan="2">* RP was hoping for a quieter day for a change</td><td><a href="#t2021-07-28T10:01:26" class="time">10:01</a></td></tr>
<tr id="t2021-07-28T10:26:42"><th class="nick" style="background: #8c4a4a">bizulk</th><td class="text" style="color: #8c4a4a">Hello. I'm trying to customize a vendor image file. I used the local conf file it works fine, but now I would like to share additions with the teams using the meta layer. I added a bb file in it : <a href="https://pastebin.com/DZ1eq0y4" rel="nofollow">https://pastebin.com/DZ1eq0y4</a></td><td class="time"><a href="#t2021-07-28T10:26:42" class="time">10:26</a></td></tr>
<tr id="t2021-07-28T10:27:29"><th class="nick" style="background: #8c4a4a">bizulk</th><td class="text" style="color: #8c4a4a">but I get a parse error : Could not include required file recipes-fsl/images/fsl-image-qt5.bb</td><td class="time"><a href="#t2021-07-28T10:27:29" class="time">10:27</a></td></tr>
<tr id="t2021-07-28T10:27:58"><th class="nick" style="background: #8c4a4a">bizulk</th><td class="text" style="color: #8c4a4a">the recipe is in another meta-layer, should I give a relative path to it ?</td><td class="time"><a href="#t2021-07-28T10:27:58" class="time">10:27</a></td></tr>
<tr id="t2021-07-28T10:30:25"><th class="nick" style="background: #8c4a4a">bizulk</th><td class="text" style="color: #8c4a4a">complete path to the image recipe from the meta is : meta-variscite-fslc/dynamic-layers/qt5-layer/recipes-fsl/images/</td><td class="time"><a href="#t2021-07-28T10:30:25" class="time">10:30</a></td></tr>
<tr id="t2021-07-28T10:31:29"><th class="nick" style="background: #42427e">LetoThe2nd</th><td class="text" style="color: #42427e">ah. no idea how the path resolution works in the dynamic layers case</td><td class="time"><a href="#t2021-07-28T10:31:29" class="time">10:31</a></td></tr>
<tr id="t2021-07-28T10:35:19"><th class="nick" style="background: #8c4a4a">bizulk</th><td class="text" style="color: #8c4a4a">so... it there a way so that whatever the image recipe could be I insert my &quot;dev&quot; package. what is I create a recipe that inherit a core-image image, will my addition be effective for any derived recipe ?</td><td class="time"><a href="#t2021-07-28T10:35:19" class="time">10:35</a></td></tr>
<tr id="t2021-07-28T10:37:31"><th class="nick" style="background: #42427e">LetoThe2nd</th><td class="text" style="color: #42427e">bizulk: unless the derived image chooses to remove it, images can be arbitrarily extended. so, yes.</td><td class="time"><a href="#t2021-07-28T10:37:31" class="time">10:37</a></td></tr>
<tr id="t2021-07-28T10:42:04"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">bizulk: you can have bbappends for image recipes too</td><td class="time"><a href="#t2021-07-28T10:42:04" class="time">10:42</a></td></tr>
<tr id="t2021-07-28T10:45:31"><th class="nick" style="background: #8c4a4a">bizulk</th><td class="text" style="color: #8c4a4a">qschulz : that's right.</td><td class="time"><a href="#t2021-07-28T10:45:31" class="time">10:45</a></td></tr>
<tr id="t2021-07-28T10:47:45"><th class="nick" style="background: #8c4a4a">bizulk</th><td class="text" style="color: #8c4a4a">I even prefer that one.</td><td class="time"><a href="#t2021-07-28T10:47:45" class="time">10:47</a></td></tr>
<tr id="t2021-07-28T10:49:30-2"><td class="nickchange" colspan="2">*** jmiehe1 is now known as jmiehe</td><td><a href="#t2021-07-28T10:49:30-2" class="time">10:49</a></td></tr>
<tr id="t2021-07-28T10:50:11"><th class="nick" style="background: #8c4a4a">bizulk</th><td class="text" style="color: #8c4a4a">the vendor already have his fsl-image-qt5.bbapend (?!), can I write mine in my layer, will bitbake join them ?</td><td class="time"><a href="#t2021-07-28T10:50:11" class="time">10:50</a></td></tr>
<tr id="t2021-07-28T10:50:45"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">bizulk: yes</td><td class="time"><a href="#t2021-07-28T10:50:45" class="time">10:50</a></td></tr>
<tr id="t2021-07-28T11:11:15"><th class="nick" style="background: #8c4a4a">bizulk</th><td class="text" style="color: #8c4a4a">thanks</td><td class="time"><a href="#t2021-07-28T11:11:15" class="time">11:11</a></td></tr>
<tr id="t2021-07-28T11:24:46"><th class="nick" style="background: #407a40">Ad0</th><td class="text" style="color: #407a40">would config fragments work in u-boot? especially if a variable is defined from before?</td><td class="time"><a href="#t2021-07-28T11:24:46" class="time">11:24</a></td></tr>
<tr id="t2021-07-28T11:25:09"><th class="nick" style="background: #407a40">Ad0</th><td class="text" style="color: #407a40">I need to enable debug logging</td><td class="time"><a href="#t2021-07-28T11:25:09" class="time">11:25</a></td></tr>
<tr id="t2021-07-28T11:33:44"><th class="nick" style="background: #42427e">LetoThe2nd</th><td class="text" style="color: #42427e">Ad0: nope, they do not.</td><td class="time"><a href="#t2021-07-28T11:33:44" class="time">11:33</a></td></tr>
<tr id="t2021-07-28T11:36:43"><th class="nick" style="background: #407a40">Ad0</th><td class="text" style="color: #407a40">ok thanks</td><td class="time"><a href="#t2021-07-28T11:36:43" class="time">11:36</a></td></tr>
<tr id="t2021-07-28T11:36:52"><th class="nick" style="background: #407a40">Ad0</th><td class="text" style="color: #407a40">I see each layer have their own solution</td><td class="time"><a href="#t2021-07-28T11:36:52" class="time">11:36</a></td></tr>
<tr id="t2021-07-28T11:36:57"><th class="nick" style="background: #407a40">Ad0</th><td class="text" style="color: #407a40">elaborate scripts and sed</td><td class="time"><a href="#t2021-07-28T11:36:57" class="time">11:36</a></td></tr>
<tr id="t2021-07-28T11:37:34"><th class="nick" style="background: #407a40">Ad0</th><td class="text" style="color: #407a40">unsure what file to modify, at what stage though</td><td class="time"><a href="#t2021-07-28T11:37:34" class="time">11:37</a></td></tr>
<tr id="t2021-07-28T11:53:50"><th class="nick" style="background: #4b904b">rburton</th><td class="text" style="color: #4b904b">pretty sure config fragments work in uboot</td><td class="time"><a href="#t2021-07-28T11:53:50" class="time">11:53</a></td></tr>
<tr id="t2021-07-28T11:54:52"><th class="nick" style="background: #4b904b">rburton</th><td class="text" style="color: #4b904b">the hint is how do_configure calls find_cfgs() to find .cfg files in SRC_URI, and then calls merge_config.sh</td><td class="time"><a href="#t2021-07-28T11:54:52" class="time">11:54</a></td></tr>
<tr id="t2021-07-28T11:55:43"><th class="nick" style="background: #4b904b">rburton</th><td class="text" style="color: #4b904b">Ad0: ^</td><td class="time"><a href="#t2021-07-28T11:55:43" class="time">11:55</a></td></tr>
<tr id="t2021-07-28T11:56:01"><th class="nick" style="background: #407a40">Ad0</th><td class="text" style="color: #407a40">thanks</td><td class="time"><a href="#t2021-07-28T11:56:01" class="time">11:56</a></td></tr>
<tr id="t2021-07-28T11:56:11"><th class="nick" style="background: #407a40">Ad0</th><td class="text" style="color: #407a40">merge_config right</td><td class="time"><a href="#t2021-07-28T11:56:11" class="time">11:56</a></td></tr>
<tr id="t2021-07-28T11:56:23"><th class="nick" style="background: #407a40">Ad0</th><td class="text" style="color: #407a40">do_configure in which recipe?</td><td class="time"><a href="#t2021-07-28T11:56:23" class="time">11:56</a></td></tr>
<tr id="t2021-07-28T11:56:41"><th class="nick" style="background: #407a40">Ad0</th><td class="text" style="color: #407a40">poky/meta/recipes-bsp/u-boot/u-boot.inc ?</td><td class="time"><a href="#t2021-07-28T11:56:41" class="time">11:56</a></td></tr>
<tr id="t2021-07-28T11:59:16"><th class="nick" style="background: #407a40">Ad0</th><td class="text" style="color: #407a40">UBOOT_CONFIG variable</td><td class="time"><a href="#t2021-07-28T11:59:16" class="time">11:59</a></td></tr>
<tr id="t2021-07-28T12:00:13"><th class="nick" style="background: #407a40">Ad0</th><td class="text" style="color: #407a40">ok that one I don't need to touch</td><td class="time"><a href="#t2021-07-28T12:00:13" class="time">12:00</a></td></tr>
<tr id="t2021-07-28T12:00:53"><th class="nick" style="background: #407a40">Ad0</th><td class="text" style="color: #407a40">cool I will try this!</td><td class="time"><a href="#t2021-07-28T12:00:53" class="time">12:00</a></td></tr>
<tr id="t2021-07-28T12:01:12"><th class="nick" style="background: #407a40">Ad0</th><td class="text" style="color: #407a40">maybe I should do the same with kernel config</td><td class="time"><a href="#t2021-07-28T12:01:12" class="time">12:01</a></td></tr>
<tr id="t2021-07-28T12:02:12"><th class="nick" style="background: #4b904b">rburton</th><td class="text" style="color: #4b904b">it uses the same logic as the kernel classes (same code), so just add a debug.cfg fragment to SRC_URI</td><td class="time"><a href="#t2021-07-28T12:02:12" class="time">12:02</a></td></tr>
<tr id="t2021-07-28T12:07:03"><th class="nick" style="background: #407a40">Ad0</th><td class="text" style="color: #407a40">thanks! that worked like a charm</td><td class="time"><a href="#t2021-07-28T12:07:03" class="time">12:07</a></td></tr>
<tr id="t2021-07-28T12:16:59"><th class="nick" style="background: #4d4d93">smurray</th><td class="text" style="color: #4d4d93">RP: any chance that hung build is still around, I'd be curious to see py-bt output of any bitbake-server processes?</td><td class="time"><a href="#t2021-07-28T12:16:59" class="time">12:16</a></td></tr>
<tr id="t2021-07-28T12:20:46"><th class="nick" style="background: #97974f">ljh</th><td class="text" style="color: #97974f">Good morning/evening/night everyone :-)</td><td class="time"><a href="#t2021-07-28T12:20:46" class="time">12:20</a></td></tr>
<tr id="t2021-07-28T12:21:04"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">smurray: <a href="https://autobuilder.yoctoproject.org/typhoon/#/builders/56/builds/1538" rel="nofollow">https://autobuilder.yoctoproject.org/typhoon/#/builders/56/builds/1538</a></td><td class="time"><a href="#t2021-07-28T12:21:04" class="time">12:21</a></td></tr>
<tr id="t2021-07-28T12:21:07"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">smurray: I left it</td><td class="time"><a href="#t2021-07-28T12:21:07" class="time">12:21</a></td></tr>
<tr id="t2021-07-28T12:22:08"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">ljh: o/</td><td class="time"><a href="#t2021-07-28T12:22:08" class="time">12:22</a></td></tr>
<tr id="t2021-07-28T12:22:24"><th class="nick" style="background: #4d4d93">smurray</th><td class="text" style="color: #4d4d93">RP: I'd need access to the builder, I guess?</td><td class="time"><a href="#t2021-07-28T12:22:24" class="time">12:22</a></td></tr>
<tr id="t2021-07-28T12:22:28"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">smurray: it is on a buildtools system so not sure how well it would backtrace</td><td class="time"><a href="#t2021-07-28T12:22:28" class="time">12:22</a></td></tr>
<tr id="t2021-07-28T12:22:37"><th class="nick" style="background: #4d4d93">smurray</th><td class="text" style="color: #4d4d93">RP: hrm</td><td class="time"><a href="#t2021-07-28T12:22:37" class="time">12:22</a></td></tr>
<tr id="t2021-07-28T12:30:26"><th class="nick" style="background: #97974f">ljh</th><td class="text" style="color: #97974f">I'm having some troubles patching a recipe (they changed the branch from master to main) with a .bbappend and a patch file. Does anyone knows an example that I can follow?</td><td class="time"><a href="#t2021-07-28T12:30:26" class="time">12:30</a></td></tr>
<tr id="t2021-07-28T12:31:14"><th class="nick" style="background: #4b904b">rburton</th><td class="text" style="color: #4b904b">in the bbappend, write a new SRC_URI which includes branch=main</td><td class="time"><a href="#t2021-07-28T12:31:14" class="time">12:31</a></td></tr>
<tr id="t2021-07-28T12:31:27"><th class="nick" style="background: #4b904b">rburton</th><td class="text" style="color: #4b904b">ideally, you'd send a patch instead of appending, as everyone else needs the same fix</td><td class="time"><a href="#t2021-07-28T12:31:27" class="time">12:31</a></td></tr>
<tr id="t2021-07-28T12:31:54"><th class="nick" style="background: #97974f">ljh</th><td class="text" style="color: #97974f">Yea, it got fixed in the upstream but I have to use this revision specifically :/</td><td class="time"><a href="#t2021-07-28T12:31:54" class="time">12:31</a></td></tr>
<tr id="t2021-07-28T12:33:43"><th class="nick" style="background: #97974f">ljh</th><td class="text" style="color: #97974f">Did something like that, but the patch doesn't seem to be applying. Pretty much like this: ```SRC_URI += &quot;file://0001-Fix-branch-naming-master-to-main.patch&quot;``` (hope it's okay to send code in the chat, apologies if it isnt!)</td><td class="time"><a href="#t2021-07-28T12:33:43" class="time">12:33</a></td></tr>
<tr id="t2021-07-28T12:34:10"><th class="nick" style="background: #4b904b">rburton</th><td class="text" style="color: #4b904b">what is that patching?</td><td class="time"><a href="#t2021-07-28T12:34:10" class="time">12:34</a></td></tr>
<tr id="t2021-07-28T12:34:43"><th class="nick" style="background: #97974f">ljh</th><td class="text" style="color: #97974f">It does this: -SRC_URI = &quot;git://${PKG_NAME}.git&quot;</td><td class="time"><a href="#t2021-07-28T12:34:43" class="time">12:34</a></td></tr>
<tr id="t2021-07-28T12:34:43-2"><th class="nick" style="background: #97974f">ljh</th><td class="text" style="color: #97974f">+SRC_URI = &quot;git://${PKG_NAME}.git;branch=main&quot;</td><td class="time"><a href="#t2021-07-28T12:34:43-2" class="time">12:34</a></td></tr>
<tr id="t2021-07-28T12:34:49"><th class="nick" style="background: #4b904b">rburton</th><td class="text" style="color: #4b904b">yeah you can't do that</td><td class="time"><a href="#t2021-07-28T12:34:49" class="time">12:34</a></td></tr>
<tr id="t2021-07-28T12:34:54"><th class="nick" style="background: #97974f">ljh</th><td class="text" style="color: #97974f">oh lol</td><td class="time"><a href="#t2021-07-28T12:34:54" class="time">12:34</a></td></tr>
<tr id="t2021-07-28T12:34:58"><th class="nick" style="background: #4b904b">rburton</th><td class="text" style="color: #4b904b">just write a new SRC_URI in the append</td><td class="time"><a href="#t2021-07-28T12:34:58" class="time">12:34</a></td></tr>
<tr id="t2021-07-28T12:35:26"><th class="nick" style="background: #407a40">Ad0</th><td class="text" style="color: #407a40">I did devtool modify u-boot but it doesn't seem to pick that when I do bitbake u-boot.</td><td class="time"><a href="#t2021-07-28T12:35:26" class="time">12:35</a></td></tr>
<tr id="t2021-07-28T12:35:33"><th class="nick" style="background: #4d4d93">smurray</th><td class="text" style="color: #4d4d93">RP: if you have time, can you pop on that builder and capture &quot;ps axf&quot;, I'd be curious to see if it's just a bitbake-server pair spinning like before</td><td class="time"><a href="#t2021-07-28T12:35:33" class="time">12:35</a></td></tr>
<tr id="t2021-07-28T12:36:13"><th class="nick" style="background: #9b519b">zeddii</th><td class="text" style="color: #9b519b">ljh: what recipe is causing the problem ?</td><td class="time"><a href="#t2021-07-28T12:36:13" class="time">12:36</a></td></tr>
<tr id="t2021-07-28T12:36:25"><th class="nick" style="background: #539e9e">wyre</th><td class="text" style="color: #539e9e">hi guys, I'm having problems with imx-lib <a href="https://bpa.st/KZSA" rel="nofollow">https://bpa.st/KZSA</a> but I'm not sure why is this, because this is apparently a problem with the freescale recipe, ain't it? <a href="https://github.com/Freescale/meta-freescale/blob/dunfell/recipes-bsp/imx-lib/imx-lib_git.bb" rel="nofollow">https://github.com/Freescale/meta-freescale/blob/dunfell/recipes-bsp/imx-lib/imx-lib_git.bb</a></td><td class="time"><a href="#t2021-07-28T12:36:25" class="time">12:36</a></td></tr>
<tr id="t2021-07-28T12:36:26"><th class="nick" style="background: #407a40">Ad0</th><td class="text" style="color: #407a40">ah now it did</td><td class="time"><a href="#t2021-07-28T12:36:26" class="time">12:36</a></td></tr>
<tr id="t2021-07-28T12:36:28"><th class="nick" style="background: #97974f">ljh</th><td class="text" style="color: #97974f">zeddii it's go-systemd.</td><td class="time"><a href="#t2021-07-28T12:36:28" class="time">12:36</a></td></tr>
<tr id="t2021-07-28T12:37:04"><th class="nick" style="background: #9b519b">zeddii</th><td class="text" style="color: #9b519b">that's in meta-virt, I maintain that. what release branch are you building ?</td><td class="time"><a href="#t2021-07-28T12:37:04" class="time">12:37</a></td></tr>
<tr id="t2021-07-28T12:37:12"><th class="nick" style="background: #9b519b">zeddii</th><td class="text" style="color: #9b519b">it's easier for me to just fix it.</td><td class="time"><a href="#t2021-07-28T12:37:12" class="time">12:37</a></td></tr>
<tr id="t2021-07-28T12:37:39"><th class="nick" style="background: #a25555">angolini</th><td class="text" style="color: #a25555">@wyre what branch and machine are you using?</td><td class="time"><a href="#t2021-07-28T12:37:39" class="time">12:37</a></td></tr>
<tr id="t2021-07-28T12:38:15"><th class="nick" style="background: #9b519b">zeddii</th><td class="text" style="color: #9b519b">ljh: I'm betting an older release, since I fixed the branch to 'main' on may 10th</td><td class="time"><a href="#t2021-07-28T12:38:15" class="time">12:38</a></td></tr>
<tr id="t2021-07-28T12:38:27"><th class="nick" style="background: #97974f">ljh</th><td class="text" style="color: #97974f">Yes, it was fixed upstream hehe</td><td class="time"><a href="#t2021-07-28T12:38:27" class="time">12:38</a></td></tr>
<tr id="t2021-07-28T12:38:28"><th class="nick" style="background: #539e9e">wyre</th><td class="text" style="color: #539e9e">angolini, dunfell branch and imx6ull-microgea machine <a href="https://github.com/engicam-stable/meta-engicam-nxp/blob/dunfell-community-bsp/conf/machine/imx6ull-microgea.conf" rel="nofollow">https://github.com/engicam-stable/meta-engicam-nxp/blob/dunfell-community-bsp/conf/machine/imx6ull-microgea.conf</a></td><td class="time"><a href="#t2021-07-28T12:38:28" class="time">12:38</a></td></tr>
<tr id="t2021-07-28T12:39:01"><th class="nick" style="background: #97974f">ljh</th><td class="text" style="color: #97974f">We're using meta-virt a lot in our embedded project, thanks a lot, btw :-)</td><td class="time"><a href="#t2021-07-28T12:39:01" class="time">12:39</a></td></tr>
<tr id="t2021-07-28T12:39:02"><th class="nick" style="background: #9b519b">zeddii</th><td class="text" style="color: #9b519b">aha. I missed that comment.</td><td class="time"><a href="#t2021-07-28T12:39:02" class="time">12:39</a></td></tr>
<tr id="t2021-07-28T12:39:13"><th class="nick" style="background: #a25555">angolini</th><td class="text" style="color: #a25555">I'm not sure my memory is right, but I don't think 6ull has pxp @wyre, why your machine is bringing it?</td><td class="time"><a href="#t2021-07-28T12:39:13" class="time">12:39</a></td></tr>
<tr id="t2021-07-28T12:39:28"><th class="nick" style="background: #4b904b">rburton</th><td class="text" style="color: #4b904b">zeddii: is there a way to use a in-tree defconfig *and* apply a config fragment on top?</td><td class="time"><a href="#t2021-07-28T12:39:28" class="time">12:39</a></td></tr>
<tr id="t2021-07-28T12:40:02"><th class="nick" style="background: #539e9e">wyre</th><td class="text" style="color: #539e9e">angolini, I don't know I pasted the .conf file for the machina and I can't see anything about pxp</td><td class="time"><a href="#t2021-07-28T12:40:02" class="time">12:40</a></td></tr>
<tr id="t2021-07-28T12:40:11"><th class="nick" style="background: #539e9e">wyre</th><td class="text" style="color: #539e9e">so ... is it maybe a dependency?</td><td class="time"><a href="#t2021-07-28T12:40:11" class="time">12:40</a></td></tr>
<tr id="t2021-07-28T12:40:37"><th class="nick" style="background: #9b519b">zeddii</th><td class="text" style="color: #9b519b">rburton: yah, just set it, and add a fragment to your SRC_URI. works fine.</td><td class="time"><a href="#t2021-07-28T12:40:37" class="time">12:40</a></td></tr>
<tr id="t2021-07-28T12:40:42"><th class="nick" style="background: #539e9e">wyre</th><td class="text" style="color: #539e9e">maybe because of the include conf/machine/include/imx-base.inc</td><td class="time"><a href="#t2021-07-28T12:40:42" class="time">12:40</a></td></tr>
<tr id="t2021-07-28T12:41:04"><th class="nick" style="background: #4b904b">rburton</th><td class="text" style="color: #4b904b">zeddii: even if we have KBUILD_DEFCONFIG = &quot;defconfig&quot; KCONFIG_MODE = &quot;--alldefconfig&quot; set?</td><td class="time"><a href="#t2021-07-28T12:41:04" class="time">12:41</a></td></tr>
<tr id="t2021-07-28T12:41:45"><th class="nick" style="background: #9b519b">zeddii</th><td class="text" style="color: #9b519b">merge_config still applies the fragments, so yah, it should work. That being said, it's probably been several years since I tried something like that.</td><td class="time"><a href="#t2021-07-28T12:41:45" class="time">12:41</a></td></tr>
<tr id="t2021-07-28T12:44:18"><th class="nick" style="background: #a25555">angolini</th><td class="text" style="color: #a25555">yes, imx-base includes pxp for imx6ull, but I don't quite know 6ull by heart... I would need to double check that. Would you mind creating an issue on meta-freescale and mention me? I'm @angolini no github as well..... <a href="https://github.com/Freescale/meta-freescale/issues" rel="nofollow">https://github.com/Freescale/meta-freescale/issues</a></td><td class="time"><a href="#t2021-07-28T12:44:18" class="time">12:44</a></td></tr>
<tr id="t2021-07-28T12:44:27"><th class="nick" style="background: #a25555">angolini</th><td class="text" style="color: #a25555">@wyre ^^</td><td class="time"><a href="#t2021-07-28T12:44:27" class="time">12:44</a></td></tr>
<tr id="t2021-07-28T12:44:38"><th class="nick" style="background: #a25555">angolini</th><td class="text" style="color: #a25555">I'll try to take a look on this today</td><td class="time"><a href="#t2021-07-28T12:44:38" class="time">12:44</a></td></tr>
<tr id="t2021-07-28T12:45:13"><td class="action" colspan="2">* zeddii steps out for a few</td><td><a href="#t2021-07-28T12:45:13" class="time">12:45</a></td></tr>
<tr id="t2021-07-28T12:45:32"><th class="nick" style="background: #a25555">angolini</th><td class="text" style="color: #a25555">and I need to learn how to mention people here and how to answer as reply.......................</td><td class="time"><a href="#t2021-07-28T12:45:32" class="time">12:45</a></td></tr>
<tr id="t2021-07-28T12:47:48"><th class="nick" style="background: #539e9e">wyre</th><td class="text" style="color: #539e9e">ok angolini 😁</td><td class="time"><a href="#t2021-07-28T12:47:48" class="time">12:47</a></td></tr>
<tr id="t2021-07-28T12:50:41"><th class="nick" style="background: #8c4a4a">bizulk</th><td class="text" style="color: #8c4a4a">@angolini : @ is the key :)</td><td class="time"><a href="#t2021-07-28T12:50:41" class="time">12:50</a></td></tr>
<tr id="t2021-07-28T12:51:41"><th class="nick" style="background: #4d4d93">smurray</th><td class="text" style="color: #4d4d93">not on irc ;)</td><td class="time"><a href="#t2021-07-28T12:51:41" class="time">12:51</a></td></tr>
<tr id="t2021-07-28T12:52:15"><th class="nick" style="background: #539e9e">wyre</th><td class="text" style="color: #539e9e">angolini, <a href="https://github.com/Freescale/meta-freescale/issues/834" rel="nofollow">https://github.com/Freescale/meta-freescale/issues/834</a> 😉</td><td class="time"><a href="#t2021-07-28T12:52:15" class="time">12:52</a></td></tr>
<tr id="t2021-07-28T12:52:34"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">smurray: mailed you some output</td><td class="time"><a href="#t2021-07-28T12:52:34" class="time">12:52</a></td></tr>
<tr id="t2021-07-28T12:53:18"><td class="part" colspan="2">*** Jari[m] &lt;Jari[m]!~jarihmatr@2001:470:69fc:105::6a7&gt; has left #yocto</td><td><a href="#t2021-07-28T12:53:18" class="time">12:53</a></td></tr>
<tr id="t2021-07-28T12:53:23"><td class="part" colspan="2">*** WadeBerrier[m] &lt;WadeBerrier[m]!~wberrierm@2001:470:69fc:105::3f0e&gt; has left #yocto</td><td><a href="#t2021-07-28T12:53:23" class="time">12:53</a></td></tr>
<tr id="t2021-07-28T12:53:46"><td class="part" colspan="2">*** janvermaete[m] &lt;janvermaete[m]!~vermaetem@2001:470:69fc:105::ee7&gt; has left #yocto</td><td><a href="#t2021-07-28T12:53:46" class="time">12:53</a></td></tr>
<tr id="t2021-07-28T12:54:33"><th class="nick" style="background: #4d4d93">smurray</th><td class="text" style="color: #4d4d93">RP: looking at it, it looks quite a bit different than the failures I was seeing, where some tests would fail due to not being able to start a new bitbake, oe-selftest would complete, then there'd be some processes left around</td><td class="time"><a href="#t2021-07-28T12:54:33" class="time">12:54</a></td></tr>
<tr id="t2021-07-28T12:56:00"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">smurray: it does look different, but this is one of the issues we saw when Paul was working on it. I've mailed you the tail end of the cooker log. Note all the parser processes hanging around not being reaped</td><td class="time"><a href="#t2021-07-28T12:56:00" class="time">12:56</a></td></tr>
<tr id="t2021-07-28T12:56:32"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">smurray: it is as if the parse shutdown never happens</td><td class="time"><a href="#t2021-07-28T12:56:32" class="time">12:56</a></td></tr>
<tr id="t2021-07-28T12:56:38"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">well, compeltes</td><td class="time"><a href="#t2021-07-28T12:56:38" class="time">12:56</a></td></tr>
<tr id="t2021-07-28T12:56:57"><th class="nick" style="background: #57a657">dl9pf</th><td class="text" style="color: #57a657">maybe similar issue like we fixed but in other place ?</td><td class="time"><a href="#t2021-07-28T12:56:57" class="time">12:56</a></td></tr>
<tr id="t2021-07-28T12:58:38"><th class="nick" style="background: #4d4d93">smurray</th><td class="text" style="color: #4d4d93">RP: is it the &quot;More than one thread left?: [&lt;_MainThread(MainThread, started 139935909099328)&gt;, &lt;Thread(asyncio_0, started 139935769843264)&gt;, &lt;Thread(asyncio_0, started 139935760250432)&gt;]&quot; that's indicative in there?</td><td class="time"><a href="#t2021-07-28T12:58:38" class="time">12:58</a></td></tr>
<tr id="t2021-07-28T12:59:22"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">smurray: that was the previous server which terminated. I included that to show &quot;normal&quot; shutdown</td><td class="time"><a href="#t2021-07-28T12:59:22" class="time">12:59</a></td></tr>
<tr id="t2021-07-28T13:00:03"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">smurray: but yes, it shows async threads hanging around at exit time :/</td><td class="time"><a href="#t2021-07-28T13:00:03" class="time">13:00</a></td></tr>
<tr id="t2021-07-28T13:01:03"><th class="nick" style="background: #4d4d93">smurray</th><td class="text" style="color: #4d4d93">RP: I wonder if that's a red herring from creating the asyncio loop in the main process and not the child</td><td class="time"><a href="#t2021-07-28T13:01:03" class="time">13:01</a></td></tr>
<tr id="t2021-07-28T13:01:14"><th class="nick" style="background: #8c4a4a">bizulk</th><td class="text" style="color: #8c4a4a">maybe a silly question, we added a bbapend to change the kernel dtp to support our display (patch list), If I want to inhibit the simplest &amp; clean way is to rename that bbapend locally. then maybe generate simultaneously the dtb so that we can select at boot time.</td><td class="time"><a href="#t2021-07-28T13:01:14" class="time">13:01</a></td></tr>
<tr id="t2021-07-28T13:01:37"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">smurray: I think it may well be related to the main loop in the server but might not be a red herring</td><td class="time"><a href="#t2021-07-28T13:01:37" class="time">13:01</a></td></tr>
<tr id="t2021-07-28T13:04:02"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">smurray: I'm suspicious that we could get the lock and exit there :/</td><td class="time"><a href="#t2021-07-28T13:04:02" class="time">13:04</a></td></tr>
<tr id="t2021-07-28T13:04:25"><th class="nick" style="background: #4d4d93">smurray</th><td class="text" style="color: #4d4d93">RP: okay, I can rework the changes I had to move it to go on top of JPEW's fix</td><td class="time"><a href="#t2021-07-28T13:04:25" class="time">13:04</a></td></tr>
<tr id="t2021-07-28T13:04:27"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">I suspect this is threading vs processes and that the threads don't have their own copy of the lock</td><td class="time"><a href="#t2021-07-28T13:04:27" class="time">13:04</a></td></tr>
<tr id="t2021-07-28T13:04:57"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">smurray: code for shutdown is in lib/bb/server/process.py</td><td class="time"><a href="#t2021-07-28T13:04:57" class="time">13:04</a></td></tr>
<tr id="t2021-07-28T13:05:18"><th class="nick" style="background: #4d4d93">smurray</th><td class="text" style="color: #4d4d93">RP: unless it's specific to Python 3.9 vs earlier, I'm surprised I'd not have seen on it on my tests last week</td><td class="time"><a href="#t2021-07-28T13:05:18" class="time">13:05</a></td></tr>
<tr id="t2021-07-28T13:05:45"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">smurray: It could well be 3.9 specific as it sounds like a lot changed</td><td class="time"><a href="#t2021-07-28T13:05:45" class="time">13:05</a></td></tr>
<tr id="t2021-07-28T13:05:59"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">I think there is a pattern here that it triggers with buildtools</td><td class="time"><a href="#t2021-07-28T13:05:59" class="time">13:05</a></td></tr>
<tr id="t2021-07-28T13:06:06"><th class="nick" style="background: #4d4d93">smurray</th><td class="text" style="color: #4d4d93">yeah</td><td class="time"><a href="#t2021-07-28T13:06:06" class="time">13:06</a></td></tr>
<tr id="t2021-07-28T13:07:54"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">bizulk: then don't patch the device tree but rather create a second one, build both, deploy both and chose from your bootloader which one should be used</td><td class="time"><a href="#t2021-07-28T13:07:54" class="time">13:07</a></td></tr>
<tr id="t2021-07-28T13:08:52"><th class="nick" style="background: #4d4d93">smurray</th><td class="text" style="color: #4d4d93">RP: I can attempt some runs with either a distro with 3.9 or the buildtools tarball, might be harder to vet locally since my build machine isn't quite big enough to handle oe-selftest with enough load w/o it blowing up</td><td class="time"><a href="#t2021-07-28T13:08:52" class="time">13:08</a></td></tr>
<tr id="t2021-07-28T13:08:54"><th class="nick" style="background: #8c4a4a">bizulk</th><td class="text" style="color: #8c4a4a">qschulz yes. That what I'm going towards,</td><td class="time"><a href="#t2021-07-28T13:08:54" class="time">13:08</a></td></tr>
<tr id="t2021-07-28T13:09:57"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">smurray: if you sort the other patch we can try that on the AB too</td><td class="time"><a href="#t2021-07-28T13:09:57" class="time">13:09</a></td></tr>
<tr id="t2021-07-28T13:10:50"><th class="nick" style="background: #4d4d93">smurray</th><td class="text" style="color: #4d4d93">RP: okay</td><td class="time"><a href="#t2021-07-28T13:10:50" class="time">13:10</a></td></tr>
<tr id="t2021-07-28T13:14:03"><td class="action" colspan="2">* RP isn't sure that working n32 mips is a good tradeoff against broken eSDK</td><td><a href="#t2021-07-28T13:14:03" class="time">13:14</a></td></tr>
<tr id="t2021-07-28T13:26:54"><th class="nick" style="background: #4d4d93">smurray</th><td class="text" style="color: #4d4d93">RP: heh</td><td class="time"><a href="#t2021-07-28T13:26:54" class="time">13:26</a></td></tr>
<tr id="t2021-07-28T13:28:36"><th class="nick" style="background: #4d4d93">smurray</th><td class="text" style="color: #4d4d93">RP: when I send the patch to move the asyncio loop creation, should I send the whole patchset again or is just that one on top fine for now?</td><td class="time"><a href="#t2021-07-28T13:28:36" class="time">13:28</a></td></tr>
<tr id="t2021-07-28T13:29:12"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">Just got caught up... is there a link to the error?</td><td class="time"><a href="#t2021-07-28T13:29:12" class="time">13:29</a></td></tr>
<tr id="t2021-07-28T13:30:51"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">smurray: on top is fine</td><td class="time"><a href="#t2021-07-28T13:30:51" class="time">13:30</a></td></tr>
<tr id="t2021-07-28T13:30:59"><th class="nick" style="background: #4d4d93">smurray</th><td class="text" style="color: #4d4d93">RP: okay</td><td class="time"><a href="#t2021-07-28T13:30:59" class="time">13:30</a></td></tr>
<tr id="t2021-07-28T13:31:21"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">JPEW: its just a hang, no error :(</td><td class="time"><a href="#t2021-07-28T13:31:21" class="time">13:31</a></td></tr>
<tr id="t2021-07-28T13:32:43"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">JPEW: I forwarded the mails I sent smurray</td><td class="time"><a href="#t2021-07-28T13:32:43" class="time">13:32</a></td></tr>
<tr id="t2021-07-28T13:33:02"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">RP: ty</td><td class="time"><a href="#t2021-07-28T13:33:02" class="time">13:33</a></td></tr>
<tr id="t2021-07-28T13:34:59"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">10100 automatic conversion changes by the script and 34 manual ones for oe-core :)</td><td class="time"><a href="#t2021-07-28T13:34:59" class="time">13:34</a></td></tr>
<tr id="t2021-07-28T13:35:39"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">RP: Nice</td><td class="time"><a href="#t2021-07-28T13:35:39" class="time">13:35</a></td></tr>
<tr id="t2021-07-28T13:36:25"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">Is the theory that the bitbake server process can't exit because it cannot get the lock?</td><td class="time"><a href="#t2021-07-28T13:36:25" class="time">13:36</a></td></tr>
<tr id="t2021-07-28T13:36:58"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">JPEW: no, theory is it exits as it can get the lock when there is still something async going on with the DB</td><td class="time"><a href="#t2021-07-28T13:36:58" class="time">13:36</a></td></tr>
<tr id="t2021-07-28T13:38:01"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">Ah, it's waiting for the PR server to exit?</td><td class="time"><a href="#t2021-07-28T13:38:01" class="time">13:38</a></td></tr>
<tr id="t2021-07-28T13:39:08"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">JPEW: I suspect something in the parser process code not getting on well with the asyncio threads and something deadlocking</td><td class="time"><a href="#t2021-07-28T13:39:08" class="time">13:39</a></td></tr>
<tr id="t2021-07-28T13:39:09"><th class="nick" style="background: #4d4d93">smurray</th><td class="text" style="color: #4d4d93">so one difference with these changes is the addition of some handling to cancel the async tasks before calling stop on the asyncio loop, that might be opening a window</td><td class="time"><a href="#t2021-07-28T13:39:09" class="time">13:39</a></td></tr>
<tr id="t2021-07-28T13:39:33"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">Ya, I was a little curious about that</td><td class="time"><a href="#t2021-07-28T13:39:33" class="time">13:39</a></td></tr>
<tr id="t2021-07-28T13:40:10"><th class="nick" style="background: #4d4d93">smurray</th><td class="text" style="color: #4d4d93">but my guess is in the main process the asyncio loop would be idle</td><td class="time"><a href="#t2021-07-28T13:40:10" class="time">13:40</a></td></tr>
<tr id="t2021-07-28T13:40:21"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">smurray: It should</td><td class="time"><a href="#t2021-07-28T13:40:21" class="time">13:40</a></td></tr>
<tr id="t2021-07-28T13:40:40"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">ostensibly, the process is going to die so I'm not sure if canceling is *really* necessary</td><td class="time"><a href="#t2021-07-28T13:40:40" class="time">13:40</a></td></tr>
<tr id="t2021-07-28T13:41:13"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">It might be worth dropping that patch just to see if the problem goes away</td><td class="time"><a href="#t2021-07-28T13:41:13" class="time">13:41</a></td></tr>
<tr id="t2021-07-28T13:41:52"><th class="nick" style="background: #4d4d93">smurray</th><td class="text" style="color: #4d4d93">yeah, that did occur to me.&nbsp;&nbsp;I guess I don't know what the potential is for breaking the db?&nbsp;&nbsp;Zero as everything is atomic?</td><td class="time"><a href="#t2021-07-28T13:41:52" class="time">13:41</a></td></tr>
<tr id="t2021-07-28T13:42:36"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">If PR server is the same as hash server, it's zero because the DB operations are not async</td><td class="time"><a href="#t2021-07-28T13:42:36" class="time">13:42</a></td></tr>
<tr id="t2021-07-28T13:43:08"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">i.e. the SQL operations on the DB are uninterruptable because they are done synchronously instead of async</td><td class="time"><a href="#t2021-07-28T13:43:08" class="time">13:43</a></td></tr>
<tr id="t2021-07-28T13:44:42"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">Double edge sword, because it means the server can't handle other clients while waiting for the SQL, but you can't do async SQL without python modules</td><td class="time"><a href="#t2021-07-28T13:44:42" class="time">13:44</a></td></tr>
<tr id="t2021-07-28T13:47:05"><th class="nick" style="background: #4d4d93">smurray</th><td class="text" style="color: #4d4d93">JPEW: I think that's the case</td><td class="time"><a href="#t2021-07-28T13:47:05" class="time">13:47</a></td></tr>
<tr id="t2021-07-28T14:29:52"><th class="nick" style="background: #539e9e">wyre</th><td class="text" style="color: #539e9e">why I can see here <a href="https://layers.openembedded.org/layerindex/branch/master/layers/" rel="nofollow">https://layers.openembedded.org/layerindex/branch/master/layers/</a> the meta-openembedded layer is listed as meta-oe? this is confusing because meta-openembedded has inside another layer/folder called also meta-oe</td><td class="time"><a href="#t2021-07-28T14:29:52" class="time">14:29</a></td></tr>
<tr id="t2021-07-28T14:31:08"><th class="nick" style="background: #539e9e">wyre</th><td class="text" style="color: #539e9e">also ... will be openembedded-core treated as a layer?</td><td class="time"><a href="#t2021-07-28T14:31:08" class="time">14:31</a></td></tr>
<tr id="t2021-07-28T14:31:15"><th class="nick" style="background: #adad5b">override</th><td class="text" style="color: #adad5b">not a yocto question but im really striggling with some github workflow yaml syntax error</td><td class="time"><a href="#t2021-07-28T14:31:15" class="time">14:31</a></td></tr>
<tr id="t2021-07-28T14:31:29"><th class="nick" style="background: #adad5b">override</th><td class="text" style="color: #adad5b">does any one use that for ci out here?</td><td class="time"><a href="#t2021-07-28T14:31:29" class="time">14:31</a></td></tr>
<tr id="t2021-07-28T14:31:35"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">wyre: because meta-openembedded is not a layer</td><td class="time"><a href="#t2021-07-28T14:31:35" class="time">14:31</a></td></tr>
<tr id="t2021-07-28T14:31:57"><th class="nick" style="background: #539e9e">wyre</th><td class="text" style="color: #539e9e">qschulz, so it's a collection of layers?</td><td class="time"><a href="#t2021-07-28T14:31:57" class="time">14:31</a></td></tr>
<tr id="t2021-07-28T14:32:03"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">meta-oe is a layer that is part of meta-openembedded collection of layers</td><td class="time"><a href="#t2021-07-28T14:32:03" class="time">14:32</a></td></tr>
<tr id="t2021-07-28T14:32:11"><th class="nick" style="background: #539e9e">wyre</th><td class="text" style="color: #539e9e">oh, I see</td><td class="time"><a href="#t2021-07-28T14:32:11" class="time">14:32</a></td></tr>
<tr id="t2021-07-28T14:32:32"><th class="nick" style="background: #539e9e">wyre</th><td class="text" style="color: #539e9e">so the link is generic and another layers which are inside of the collection will have the link, right?</td><td class="time"><a href="#t2021-07-28T14:32:32" class="time">14:32</a></td></tr>
<tr id="t2021-07-28T14:32:46"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">the link is the link to the repository</td><td class="time"><a href="#t2021-07-28T14:32:46" class="time">14:32</a></td></tr>
<tr id="t2021-07-28T14:33:10"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">type meta-openembedded in the search bar and you'll see for yourself what the results are :)</td><td class="time"><a href="#t2021-07-28T14:33:10" class="time">14:33</a></td></tr>
<tr id="t2021-07-28T14:33:55"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">openembedded-core is a layer indeed</td><td class="time"><a href="#t2021-07-28T14:33:55" class="time">14:33</a></td></tr>
<tr id="t2021-07-28T14:34:10"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">it is also poky/meta</td><td class="time"><a href="#t2021-07-28T14:34:10" class="time">14:34</a></td></tr>
<tr id="t2021-07-28T14:41:19"><th class="nick" style="background: #4d4d93">smurray</th><td class="text" style="color: #4d4d93">JPEW: the move of the forking into AsyncServer.serve_as_process makes moving the asyncio loop creation a bit more non-obvious now, any suggestions?</td><td class="time"><a href="#t2021-07-28T14:41:19" class="time">14:41</a></td></tr>
<tr id="t2021-07-28T14:42:38"><th class="nick" style="background: #539e9e">wyre</th><td class="text" style="color: #539e9e">qschulz, you mean both (openembedded-core and poky/meta) are layers or both are the same?</td><td class="time"><a href="#t2021-07-28T14:42:38" class="time">14:42</a></td></tr>
<tr id="t2021-07-28T14:42:45"><th class="nick" style="background: #818144">qschulz</th><td class="text" style="color: #818144">both are the same</td><td class="time"><a href="#t2021-07-28T14:42:45" class="time">14:42</a></td></tr>
<tr id="t2021-07-28T14:42:53"><th class="nick" style="background: #4d4d93">smurray</th><td class="text" style="color: #4d4d93">JPEW: I think I'll need to pull it out of the class and have it as a asyncrpc.serve_as_process func, would you be okay with that?</td><td class="time"><a href="#t2021-07-28T14:42:53" class="time">14:42</a></td></tr>
<tr id="t2021-07-28T14:42:56"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">smurray: Create it in run() in serve_as_process() ?</td><td class="time"><a href="#t2021-07-28T14:42:56" class="time">14:42</a></td></tr>
<tr id="t2021-07-28T14:43:07"><th class="nick" style="background: #539e9e">wyre</th><td class="text" style="color: #539e9e">so I don't need openembedded-core, I see, thank you 😁</td><td class="time"><a href="#t2021-07-28T14:43:07" class="time">14:43</a></td></tr>
<tr id="t2021-07-28T14:43:45"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">smurray: TBH having the class &quot;own&quot; the aio loop was a little strange anyway :)</td><td class="time"><a href="#t2021-07-28T14:43:45" class="time">14:43</a></td></tr>
<tr id="t2021-07-28T14:43:46"><th class="nick" style="background: #4d4d93">smurray</th><td class="text" style="color: #4d4d93">JPEW: that won't work wrt start_{tcp,unix}_server</td><td class="time"><a href="#t2021-07-28T14:43:46" class="time">14:43</a></td></tr>
<tr id="t2021-07-28T14:44:23"><th class="nick" style="background: #4d4d93">smurray</th><td class="text" style="color: #4d4d93">JPEW: but moving the loop creation out of __init__ altogether would if that seems acceptable</td><td class="time"><a href="#t2021-07-28T14:44:23" class="time">14:44</a></td></tr>
<tr id="t2021-07-28T14:46:10"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">smurray: Hmm</td><td class="time"><a href="#t2021-07-28T14:46:10" class="time">14:46</a></td></tr>
<tr id="t2021-07-28T14:46:46"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">I think the call to start_{tcp,unix}_server needs to be deferred until serve_forever() anwyay...</td><td class="time"><a href="#t2021-07-28T14:46:46" class="time">14:46</a></td></tr>
<tr id="t2021-07-28T14:47:02"><th class="nick" style="background: #4d4d93">smurray</th><td class="text" style="color: #4d4d93">JPEW: yeah, it's a bit tangled up.&nbsp;&nbsp;Previously, I just shifted the server object creation into the helper func given to Process</td><td class="time"><a href="#t2021-07-28T14:47:02" class="time">14:47</a></td></tr>
<tr id="t2021-07-28T14:47:47"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">... but, that means there could be a race where the server is slow and isn't ready when bitbake starts talking to it.... tricky</td><td class="time"><a href="#t2021-07-28T14:47:47" class="time">14:47</a></td></tr>
<tr id="t2021-07-28T14:48:59"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">smurray: Plus, you need the address in the main process</td><td class="time"><a href="#t2021-07-28T14:48:59" class="time">14:48</a></td></tr>
<tr id="t2021-07-28T14:49:34"><th class="nick" style="background: #4d4d93">smurray</th><td class="text" style="color: #4d4d93">JPEW: I was passing the port back over a Queue for prserv</td><td class="time"><a href="#t2021-07-28T14:49:34" class="time">14:49</a></td></tr>
<tr id="t2021-07-28T14:52:02"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">smurray: Ya, I think that start_{tcp,unix}_server needs to change to start the server in a deferred manner (when serve_forever is called), and then server_as_process() needs to return the address (passed over a queue)</td><td class="time"><a href="#t2021-07-28T14:52:02" class="time">14:52</a></td></tr>
<tr id="t2021-07-28T14:57:04"><th class="nick" style="background: #4d4d93">smurray</th><td class="text" style="color: #4d4d93">JPEW: does it need the address in the parent, though, I can't see where it'd be used?</td><td class="time"><a href="#t2021-07-28T14:57:04" class="time">14:57</a></td></tr>
<tr id="t2021-07-28T14:58:14"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">smurray: Ah maybe not. That makes it easier</td><td class="time"><a href="#t2021-07-28T14:58:14" class="time">14:58</a></td></tr>
<tr id="t2021-07-28T14:58:36"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">smurray: The tests use it: server.address</td><td class="time"><a href="#t2021-07-28T14:58:36" class="time">14:58</a></td></tr>
<tr id="t2021-07-28T14:58:43"><th class="nick" style="background: #4d4d93">smurray</th><td class="text" style="color: #4d4d93">JPEW: hrm</td><td class="time"><a href="#t2021-07-28T14:58:43" class="time">14:58</a></td></tr>
<tr id="t2021-07-28T15:02:06"><th class="nick" style="background: #4d4d93">smurray</th><td class="text" style="color: #4d4d93">JPEW: that looks droppable, maybe, the test specifies the address with self.get_server_addr(self.server_index) when it calls create_server, it could just save that value, I think?</td><td class="time"><a href="#t2021-07-28T15:02:06" class="time">15:02</a></td></tr>
<tr id="t2021-07-28T15:02:39"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">smurray: Maybe. I avoided that because it gets hard with multiple tests</td><td class="time"><a href="#t2021-07-28T15:02:39" class="time">15:02</a></td></tr>
<tr id="t2021-07-28T15:02:52"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">Particularly with TCP, because you need an unused ephemeral port</td><td class="time"><a href="#t2021-07-28T15:02:52" class="time">15:02</a></td></tr>
<tr id="t2021-07-28T15:03:18"><th class="nick" style="background: #4d4d93">smurray</th><td class="text" style="color: #4d4d93">JPEW: I'll poke around a bit, perhaps getting it back to the parent is doable</td><td class="time"><a href="#t2021-07-28T15:03:18" class="time">15:03</a></td></tr>
<tr id="t2021-07-28T15:18:31"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">smurray: <a href="http://git.yoctoproject.org/cgit.cgi/poky-contrib/commit/?h=jpew/bitbake-venv&amp;id=4ffc14dedb1b7f19086582e19969c71ae4f701b4" rel="nofollow">http://git.yoctoproject.org/cgit.cgi/poky-contrib/commit/?h=jpew/bitbake-venv&amp;id=4ffc14dedb1b7f19086582e19969c71ae4f701b4</a></td><td class="time"><a href="#t2021-07-28T15:18:31" class="time">15:18</a></td></tr>
<tr id="t2021-07-28T15:18:36"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">I can send to the ML if you want</td><td class="time"><a href="#t2021-07-28T15:18:36" class="time">15:18</a></td></tr>
<tr id="t2021-07-28T15:22:03"><th class="nick" style="background: #4d4d93">smurray</th><td class="text" style="color: #4d4d93">JPEW: I can grab it from there, prserv will need at least one fix on top of that</td><td class="time"><a href="#t2021-07-28T15:22:03" class="time">15:22</a></td></tr>
<tr id="t2021-07-28T15:26:26"><th class="nick" style="background: #4d4d93">smurray</th><td class="text" style="color: #4d4d93">JPEW: I think that breaks bin/bitbake-hashserv, it calls serve_forever directly</td><td class="time"><a href="#t2021-07-28T15:26:26" class="time">15:26</a></td></tr>
<tr id="t2021-07-28T15:27:14"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">smurray: Ah, good call.... I ran bitbake-selftest but forgot that :)</td><td class="time"><a href="#t2021-07-28T15:27:14" class="time">15:27</a></td></tr>
<tr id="t2021-07-28T15:27:39"><th class="nick" style="background: #adad5b">override</th><td class="text" style="color: #adad5b">curious to know what do people usually use for yocto realted CI?</td><td class="time"><a href="#t2021-07-28T15:27:39" class="time">15:27</a></td></tr>
<tr id="t2021-07-28T15:28:03"><th class="nick" style="background: #4d4d93">smurray</th><td class="text" style="color: #4d4d93">JPEW: perhaps move the server start into server_forever?</td><td class="time"><a href="#t2021-07-28T15:28:03" class="time">15:28</a></td></tr>
<tr id="t2021-07-28T15:28:16"><th class="nick" style="background: #4d4d93">smurray</th><td class="text" style="color: #4d4d93">JPEW: err, serve_forever</td><td class="time"><a href="#t2021-07-28T15:28:16" class="time">15:28</a></td></tr>
<tr id="t2021-07-28T15:28:40"><th class="nick" style="background: #4d4d93">smurray</th><td class="text" style="color: #4d4d93">JPEW: that's what I was getting started on, but you're way faster than I am ;)</td><td class="time"><a href="#t2021-07-28T15:28:40" class="time">15:28</a></td></tr>
<tr id="t2021-07-28T15:29:02"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">smurray: All the self.loop should be replaced with asyncio.get_event_loop()</td><td class="time"><a href="#t2021-07-28T15:29:02" class="time">15:29</a></td></tr>
<tr id="t2021-07-28T15:29:14"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">Which will make it agnostic to the loop</td><td class="time"><a href="#t2021-07-28T15:29:14" class="time">15:29</a></td></tr>
<tr id="t2021-07-28T15:31:36"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">smurray: Or add this to the class <a href="https://www.irccloud.com/pastebin/nbDQf46T/" rel="nofollow">https://www.irccloud.com/pastebin/nbDQf46T/</a></td><td class="time"><a href="#t2021-07-28T15:31:36" class="time">15:31</a></td></tr>
<tr id="t2021-07-28T15:32:27"><th class="nick" style="background: #4d4d93">smurray</th><td class="text" style="color: #4d4d93">JPEW: self.start would still need to be called, though, or the standalone wrapper would need to call serve_as_process, wouldn't it?</td><td class="time"><a href="#t2021-07-28T15:32:27" class="time">15:32</a></td></tr>
<tr id="t2021-07-28T15:33:06"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">... right.... OK I'll fix it quick (and actually test bitbake-hashserve :)</td><td class="time"><a href="#t2021-07-28T15:33:06" class="time">15:33</a></td></tr>
<tr id="t2021-07-28T15:44:57"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">smurray: <a href="http://git.yoctoproject.org/cgit.cgi/poky-contrib/commit/?h=jpew/bitbake-venv&amp;id=66306b7413847ecd62d16df226ff060b0b5d4262" rel="nofollow">http://git.yoctoproject.org/cgit.cgi/poky-contrib/commit/?h=jpew/bitbake-venv&amp;id=66306b7413847ecd62d16df226ff060b0b5d4262</a> should fix it</td><td class="time"><a href="#t2021-07-28T15:44:57" class="time">15:44</a></td></tr>
<tr id="t2021-07-28T15:49:15"><th class="nick" style="background: #4d4d93">smurray</th><td class="text" style="color: #4d4d93">JPEW: I'll rebase the PR server changes on top and do some basic testing.&nbsp;&nbsp;Will have to work out how to get it all together for RP to test on the autobuilder</td><td class="time"><a href="#t2021-07-28T15:49:15" class="time">15:49</a></td></tr>
<tr id="t2021-07-28T16:09:43"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">smurray: if you have a patch series on top of bitbake I can figure it out</td><td class="time"><a href="#t2021-07-28T16:09:43" class="time">16:09</a></td></tr>
<tr id="t2021-07-28T16:16:13"><th class="nick" style="background: #b15db1">vd</th><td class="text" style="color: #b15db1">Does ${IMAGE_LINK_NAME_pn-some-image} works from another recipe?</td><td class="time"><a href="#t2021-07-28T16:16:13" class="time">16:16</a></td></tr>
<tr id="t2021-07-28T16:16:24"><th class="nick" style="background: #b15db1">vd</th><td class="text" style="color: #b15db1">(looking for a generic way to get an image name)</td><td class="time"><a href="#t2021-07-28T16:16:24" class="time">16:16</a></td></tr>
<tr id="t2021-07-28T16:18:11"><td class="nickchange" colspan="2">*** fitzsim` is now known as fitzsim</td><td><a href="#t2021-07-28T16:18:11" class="time">16:18</a></td></tr>
<tr id="t2021-07-28T16:22:50"><th class="nick" style="background: #b15db1">vd</th><td class="text" style="color: #b15db1">How do you usually reference an output image file from another recipe?</td><td class="time"><a href="#t2021-07-28T16:22:50" class="time">16:22</a></td></tr>
<tr id="t2021-07-28T16:47:57"><td class="nickchange" colspan="2">*** mckoan is now known as mckoan|away</td><td><a href="#t2021-07-28T16:47:57" class="time">16:47</a></td></tr>
<tr id="t2021-07-28T17:02:11"><th class="nick" style="background: #57a657">dl9pf</th><td class="text" style="color: #57a657">OE happy hour is on !</td><td class="time"><a href="#t2021-07-28T17:02:11" class="time">17:02</a></td></tr>
<tr id="t2021-07-28T17:26:48"><th class="nick" style="background: #adad5b">override</th><td class="text" style="color: #adad5b">boot.scr are scripts run bu uboot? ive been messing around with bitbake -e and all to figure out recipe generates boot.scr for me. I still cant manage figuring out what recipe is generating it. any idea how I could go about it?</td><td class="time"><a href="#t2021-07-28T17:26:48" class="time">17:26</a></td></tr>
<tr id="t2021-07-28T17:46:34"><th class="nick" style="background: #407a40">Ad0</th><td class="text" style="color: #407a40">override, yeah it's script with some binary information in the start</td><td class="time"><a href="#t2021-07-28T17:46:34" class="time">17:46</a></td></tr>
<tr id="t2021-07-28T17:50:21"><th class="nick" style="background: #407a40">Ad0</th><td class="text" style="color: #407a40">boot.cmd is injected into it</td><td class="time"><a href="#t2021-07-28T17:50:21" class="time">17:50</a></td></tr>
<tr id="t2021-07-28T17:51:34"><th class="nick" style="background: #407a40">Ad0</th><td class="text" style="color: #407a40">./recipes-bsp/rpi-u-boot-scr/rpi-u-boot-scr.bb:&nbsp;&nbsp;&nbsp;&nbsp;mkimage -A ${UBOOT_ARCH} -T script -C none -n &quot;Boot script&quot; -d &quot;${WORKDIR}/boot.cmd&quot; boot.scr</td><td class="time"><a href="#t2021-07-28T17:51:34" class="time">17:51</a></td></tr>
<tr id="t2021-07-28T17:53:10"><th class="nick" style="background: #407a40">Ad0</th><td class="text" style="color: #407a40"><a href="https://github.com/agherzan/meta-raspberrypi/tree/master/recipes-bsp/rpi-u-boot-scr" rel="nofollow">https://github.com/agherzan/meta-raspberrypi/tree/master/recipes-bsp/rpi-u-boot-scr</a></td><td class="time"><a href="#t2021-07-28T17:53:10" class="time">17:53</a></td></tr>
<tr id="t2021-07-28T17:54:28"><th class="nick" style="background: #407a40">Ad0</th><td class="text" style="color: #407a40">then for it to run it's put in a var: ./conf/machine/include/rpi-default-providers.inc:PREFERRED_PROVIDER_u-boot-default-script ??= &quot;rpi-u-boot-scr&quot;</td><td class="time"><a href="#t2021-07-28T17:54:28" class="time">17:54</a></td></tr>
<tr id="t2021-07-28T18:07:58"><th class="nick" style="background: #5fb4b4">yates_work</th><td class="text" style="color: #5fb4b4">poky/meta/classes/meson.bbclass has a line DEPENDS_append = &quot; meson-native ninja-native&quot;, but find . -name &quot;meson-native*&quot; comes back empty.</td><td class="time"><a href="#t2021-07-28T18:07:58" class="time">18:07</a></td></tr>
<tr id="t2021-07-28T18:08:23"><th class="nick" style="background: #5fb4b4">yates_work</th><td class="text" style="color: #5fb4b4">isn't there supposed to be a recipe &quot;meson-native.bb&quot;</td><td class="time"><a href="#t2021-07-28T18:08:23" class="time">18:08</a></td></tr>
<tr id="t2021-07-28T18:09:27"><th class="nick" style="background: #5fb4b4">yates_work</th><td class="text" style="color: #5fb4b4">i'm also seeing a simiilar thing in the bitbake -g task-depends.dot output: xorgproto-native.do_prepare_recipe_sysroot&quot; -&gt; &quot;meson-native.do_populate_sysroot&quot;</td><td class="time"><a href="#t2021-07-28T18:09:27" class="time">18:09</a></td></tr>
<tr id="t2021-07-28T18:09:34"><th class="nick" style="background: #5fb4b4">yates_work</th><td class="text" style="color: #5fb4b4">but there is not meson-native recipe!</td><td class="time"><a href="#t2021-07-28T18:09:34" class="time">18:09</a></td></tr>
<tr id="t2021-07-28T18:10:26"><th class="nick" style="background: #5fb4b4">yates_work</th><td class="text" style="color: #5fb4b4">am i misinterpreting?</td><td class="time"><a href="#t2021-07-28T18:10:26" class="time">18:10</a></td></tr>
<tr id="t2021-07-28T18:13:51"><th class="nick" style="background: #4b904b">rburton</th><td class="text" style="color: #4b904b">the meson recipe uses BBCLASSEXTEND to magically turn into meson-native (and nativesdk-meson)</td><td class="time"><a href="#t2021-07-28T18:13:51" class="time">18:13</a></td></tr>
<tr id="t2021-07-28T18:14:45"><th class="nick" style="background: #4b904b">rburton</th><td class="text" style="color: #4b904b"><a href="https://docs.yoctoproject.org/ref-manual/variables.html#term-BBCLASSEXTEND" rel="nofollow">https://docs.yoctoproject.org/ref-manual/variables.html#term-BBCLASSEXTEND</a></td><td class="time"><a href="#t2021-07-28T18:14:45" class="time">18:14</a></td></tr>
<tr id="t2021-07-28T18:16:46"><th class="nick" style="background: #5fb4b4">yates_work</th><td class="text" style="color: #5fb4b4">ok thanks rburton</td><td class="time"><a href="#t2021-07-28T18:16:46" class="time">18:16</a></td></tr>
<tr id="t2021-07-28T18:18:46"><th class="nick" style="background: #5fb4b4">yates_work</th><td class="text" style="color: #5fb4b4">so if i wanted to .bbappend meson-native, i should create meson.bbappend?</td><td class="time"><a href="#t2021-07-28T18:18:46" class="time">18:18</a></td></tr>
<tr id="t2021-07-28T18:19:51"><th class="nick" style="background: #4b904b">rburton</th><td class="text" style="color: #4b904b">yes</td><td class="time"><a href="#t2021-07-28T18:19:51" class="time">18:19</a></td></tr>
<tr id="t2021-07-28T18:35:05"><td class="action" colspan="2">* zeddii is confused. I ran RP</td><td><a href="#t2021-07-28T18:35:05" class="time">18:35</a></td></tr>
<tr id="t2021-07-28T18:35:10"><th class="nick" style="background: #9b519b">zeddii</th><td class="text" style="color: #9b519b">fat finger</td><td class="time"><a href="#t2021-07-28T18:35:10" class="time">18:35</a></td></tr>
<tr id="t2021-07-28T18:35:35"><th class="nick" style="background: #9b519b">zeddii</th><td class="text" style="color: #9b519b">RP: I ran the override script on meta-virt, but am only on poky master. I thought I'd get a parse error .. but yet, it parsed</td><td class="time"><a href="#t2021-07-28T18:35:35" class="time">18:35</a></td></tr>
<tr id="t2021-07-28T18:35:41"><td class="action" colspan="2">* zeddii looks to see what stupidity he's done</td><td><a href="#t2021-07-28T18:35:41" class="time">18:35</a></td></tr>
<tr id="t2021-07-28T19:06:33"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">zeddii: recent bitbake will work with the new syntax :)</td><td class="time"><a href="#t2021-07-28T19:06:33" class="time">19:06</a></td></tr>
<tr id="t2021-07-28T19:06:49"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">zeddii: I was curious how you ran me :)</td><td class="time"><a href="#t2021-07-28T19:06:49" class="time">19:06</a></td></tr>
<tr id="t2021-07-28T19:06:58"><th class="nick" style="background: #9b519b">zeddii</th><td class="text" style="color: #9b519b">:D</td><td class="time"><a href="#t2021-07-28T19:06:58" class="time">19:06</a></td></tr>
<tr id="t2021-07-28T19:07:20"><th class="nick" style="background: #9b519b">zeddii</th><td class="text" style="color: #9b519b">I checked the history and didn't see the commit to bitbake, I'm looking again. it has to be there, it would have blow up.</td><td class="time"><a href="#t2021-07-28T19:07:20" class="time">19:07</a></td></tr>
<tr id="t2021-07-28T19:08:25"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">zeddii: <a href="http://git.yoctoproject.org/cgit.cgi/poky/commit/?id=75fad23fc06c008a03414a1fc288a8614c6af9ca" rel="nofollow">http://git.yoctoproject.org/cgit.cgi/poky/commit/?id=75fad23fc06c008a03414a1fc288a8614c6af9ca</a></td><td class="time"><a href="#t2021-07-28T19:08:25" class="time">19:08</a></td></tr>
<tr id="t2021-07-28T19:09:57"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">zeddii: that patch just allows compatibility, the pieces in master-next actually use &quot;:&quot; internally instead of &quot;_&quot;</td><td class="time"><a href="#t2021-07-28T19:09:57" class="time">19:09</a></td></tr>
<tr id="t2021-07-28T19:19:25"><th class="nick" style="background: #9b519b">zeddii</th><td class="text" style="color: #9b519b">ahah. got it. I have the parsing change. at least that explains that my inspection -&gt; commit work with the conversion is being tested (some)</td><td class="time"><a href="#t2021-07-28T19:19:25" class="time">19:19</a></td></tr>
<tr id="t2021-07-28T19:20:21"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">zeddii: It means people can start converting layers now, assuming we have the agreement on what we convert</td><td class="time"><a href="#t2021-07-28T19:20:21" class="time">19:20</a></td></tr>
<tr id="t2021-07-28T19:21:24"><th class="nick" style="background: #9b519b">zeddii</th><td class="text" style="color: #9b519b">yah. I'm doing meta-virt master, and it looks ok for the first pass. my targets all built. but there some class subtlety and other use cases that will pop out</td><td class="time"><a href="#t2021-07-28T19:21:24" class="time">19:21</a></td></tr>
<tr id="t2021-07-28T19:22:03"><th class="nick" style="background: #9b519b">zeddii</th><td class="text" style="color: #9b519b">I want to at least get it up on meta-virt master-next, so people will know I've started</td><td class="time"><a href="#t2021-07-28T19:22:03" class="time">19:22</a></td></tr>
<tr id="t2021-07-28T19:22:41"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">zeddii: I'm curious to see how things fare with other layers</td><td class="time"><a href="#t2021-07-28T19:22:41" class="time">19:22</a></td></tr>
<tr id="t2021-07-28T19:23:41"><th class="nick" style="background: #9b519b">zeddii</th><td class="text" style="color: #9b519b">yah. outside of one change to a wic file that wasn't actually overrides, so far, my inspection showed it as all good.</td><td class="time"><a href="#t2021-07-28T19:23:41" class="time">19:23</a></td></tr>
<tr id="t2021-07-28T20:02:16"><th class="nick" style="background: #854685">RP</th><td class="text" style="color: #854685">zeddii: that isn't too bad IMO :)</td><td class="time"><a href="#t2021-07-28T20:02:16" class="time">20:02</a></td></tr>
<tr id="t2021-07-28T20:27:41"><th class="nick" style="background: #4d4d93">smurray</th><td class="text" style="color: #4d4d93">JPEW: it's interesting, behavior is definitely a bit different now, seeing (somewhat harmless, I think) CancelledError's in the logs from the shutdown code</td><td class="time"><a href="#t2021-07-28T20:27:41" class="time">20:27</a></td></tr>
<tr id="t2021-07-28T20:28:33"><th class="nick" style="background: #4d4d93">smurray</th><td class="text" style="color: #4d4d93">JPEW: that suggests something wasn't working quite as expected before</td><td class="time"><a href="#t2021-07-28T20:28:33" class="time">20:28</a></td></tr>
<tr id="t2021-07-28T20:30:05"><th class="nick" style="background: #4d4d93">smurray</th><td class="text" style="color: #4d4d93">RP JPEW: I need to step out, will pick it back up again tomorrow to try to get an updated patchset I'm happy with out</td><td class="time"><a href="#t2021-07-28T20:30:05" class="time">20:30</a></td></tr>
<tr id="t2021-07-28T20:30:52"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">smurray: Are you getting the cancelled error because you dropped the patch that tries to cancel everything?</td><td class="time"><a href="#t2021-07-28T20:30:52" class="time">20:30</a></td></tr>
<tr id="t2021-07-28T20:31:00"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">smurray: Or do you still have that?</td><td class="time"><a href="#t2021-07-28T20:31:00" class="time">20:31</a></td></tr>
<tr id="t2021-07-28T20:31:25"><th class="nick" style="background: #4d4d93">smurray</th><td class="text" style="color: #4d4d93">JPEW: no, that's with it still</td><td class="time"><a href="#t2021-07-28T20:31:25" class="time">20:31</a></td></tr>
<tr id="t2021-07-28T20:32:12"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">smurray: Ya. Seems like something w.r.t. the cancelling might still be amiss then</td><td class="time"><a href="#t2021-07-28T20:32:12" class="time">20:32</a></td></tr>
<tr id="t2021-07-28T20:33:14"><th class="nick" style="background: #4d4d93">smurray</th><td class="text" style="color: #4d4d93">JPEW: I think it's fine now, maybe?&nbsp;&nbsp;The technique is discussed here: <a href="https://www.roguelynn.com/words/asyncio-graceful-shutdowns/" rel="nofollow">https://www.roguelynn.com/words/asyncio-graceful-shutdowns/</a></td><td class="time"><a href="#t2021-07-28T20:33:14" class="time">20:33</a></td></tr>
<tr id="t2021-07-28T20:34:07"><th class="nick" style="background: #4d4d93">smurray</th><td class="text" style="color: #4d4d93">JPEW: I'm definitely no expert, though.&nbsp;&nbsp;I'll bbiab, need to head out to a whisky tasting</td><td class="time"><a href="#t2021-07-28T20:34:07" class="time">20:34</a></td></tr>
<tr id="t2021-07-28T20:34:22"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">smurray: ooOOoo sounds fun!</td><td class="time"><a href="#t2021-07-28T20:34:22" class="time">20:34</a></td></tr>
<tr id="t2021-07-28T20:54:06"><th class="nick" style="background: #b15db1">vd</th><td class="text" style="color: #b15db1">JPEW does whisk download layers and bitbake for you?</td><td class="time"><a href="#t2021-07-28T20:54:06" class="time">20:54</a></td></tr>
<tr id="t2021-07-28T20:58:41"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">vd: it can if you want</td><td class="time"><a href="#t2021-07-28T20:58:41" class="time">20:58</a></td></tr>
<tr id="t2021-07-28T20:59:26"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">You can add a &quot;fetch&quot; command that gets run when you use the --fetch option</td><td class="time"><a href="#t2021-07-28T20:59:26" class="time">20:59</a></td></tr>
<tr id="t2021-07-28T21:00:02"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">A fetch command per layer set that is... We use it with submodules</td><td class="time"><a href="#t2021-07-28T21:00:02" class="time">21:00</a></td></tr>
<tr id="t2021-07-28T21:03:04"><th class="nick" style="background: #b15db1">vd</th><td class="text" style="color: #b15db1">whoops, just found that in the readme, thank you</td><td class="time"><a href="#t2021-07-28T21:03:04" class="time">21:03</a></td></tr>
<tr id="t2021-07-28T21:03:22"><th class="nick" style="background: #b15db1">vd</th><td class="text" style="color: #b15db1">I'll give it a try to see if I can easily replace kas with it</td><td class="time"><a href="#t2021-07-28T21:03:22" class="time">21:03</a></td></tr>
<tr id="t2021-07-28T21:04:50"><th class="nick" style="background: #b15db1">vd</th><td class="text" style="color: #b15db1">I was preparing my multiconfigs with custom IMAGE_LINK_NAME, TMPDIR and all, so I figure it might be better to try out whisk now instead.</td><td class="time"><a href="#t2021-07-28T21:04:50" class="time">21:04</a></td></tr>
<tr id="t2021-07-28T21:07:21"><th class="nick" style="background: #5959a9">JPEW</th><td class="text" style="color: #5959a9">Ah, nice</td><td class="time"><a href="#t2021-07-28T21:07:21" class="time">21:07</a></td></tr>
<tr id="t2021-07-28T22:26:25"><th class="nick" style="background: #b86161">jordemort</th><td class="text" style="color: #b86161">does anyone have any solid examples of building 3rd party kernel modules? i've got recipes that use ${KERNEL_VERSION} and it seems like there's something not quite right in the dependencies there; i.e. if i update the kernel it ends up with a different version string, but the old modules don't get rebuilt and so they're in the wrong directory in /lib/modules</td><td class="time"><a href="#t2021-07-28T22:26:25" class="time">22:26</a></td></tr>
<tr id="t2021-07-28T22:26:51"><th class="nick" style="background: #b86161">jordemort</th><td class="text" style="color: #b86161">and vice versa, when i update the 3rd party module it gets rebuilt but KERNEL_VERSION seems different and it ends up all by itself in a unique directory in /lib/modules that doesn't match the kernel in the image</td><td class="time"><a href="#t2021-07-28T22:26:51" class="time">22:26</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2021-07-27.log.html">&#171; Tuesday, 2021-07-27</a> <a href="index.html">Index</a> <a href="%23yocto.2021-07-29.log.html">Thursday, 2021-07-29 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.17.2 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="https://mg.pov.lt/irclog2html/">https://mg.pov.lt/irclog2html/</a>!</p>
</div>
</body>
</html>
