<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Friday, 2021-03-19</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.17.2 by Marius Gedminas" />
  <meta name="version" content="2.17.2 - 2019-04-23" />
</head>
<body>
<h1>Friday, 2021-03-19</h1>
<div class="navigation"> <a href="%23yocto.2021-03-18.log.html">&#171; Thursday, 2021-03-18</a> <a href="index.html">Index</a> <a href="%23yocto.2021-03-20.log.html">Saturday, 2021-03-20 &#187;</a> </div>
<table class="irclog">
<tr id="t2021-03-19T00:30:06"><th class="nick" style="background: #407a40">opello</th><td class="text" style="color: #407a40">hi, i'm trying to use some older layers with a newer poky release, and am having a few problems with the kernel and u-boot recipes being vendor provided and older, such that i'm trying to say RPROVIDES_u-boot-mkimage += &quot;u-boot-tools&quot; which doing that (and -native versions) complainx about virtual/kernel having an unmet dependency (nothing PROVIDES u-boot-tools-native, u-boot-mkimage-native RPROVIDES u-boot-tools-native)... but apparently ...</td><td class="time"><a href="#t2021-03-19T00:30:06" class="time">00:30</a></td></tr>
<tr id="t2021-03-19T00:30:12"><th class="nick" style="background: #407a40">opello</th><td class="text" style="color: #407a40">... that's insufficient?</td><td class="time"><a href="#t2021-03-19T00:30:12" class="time">00:30</a></td></tr>
<tr id="t2021-03-19T00:31:03"><th class="nick" style="background: #407a40">opello</th><td class="text" style="color: #407a40">complains* even</td><td class="time"><a href="#t2021-03-19T00:31:03" class="time">00:31</a></td></tr>
<tr id="t2021-03-19T04:55:40"><th class="nick" style="background: #42427e">yates</th><td class="text" style="color: #42427e">RobertBerger: you're on!</td><td class="time"><a href="#t2021-03-19T04:55:40" class="time">04:55</a></td></tr>
<tr id="t2021-03-19T07:36:08"><td class="nickchange" colspan="2">*** mckoan|away is now known as mckoan</td><td><a href="#t2021-03-19T07:36:08" class="time">07:36</a></td></tr>
<tr id="t2021-03-19T07:36:15"><th class="nick" style="background: #818144">mckoan</th><td class="text" style="color: #818144">good morning</td><td class="time"><a href="#t2021-03-19T07:36:15" class="time">07:36</a></td></tr>
<tr id="t2021-03-19T07:40:26"><th class="nick" style="background: #854685">hmw1</th><td class="text" style="color: #854685">good morning</td><td class="time"><a href="#t2021-03-19T07:40:26" class="time">07:40</a></td></tr>
<tr id="t2021-03-19T09:48:40"><th class="nick" style="background: #488888">Blackbetty</th><td class="text" style="color: #488888">hello, do you guys use kas? is there an irc channel for kas?</td><td class="time"><a href="#t2021-03-19T09:48:40" class="time">09:48</a></td></tr>
<tr id="t2021-03-19T09:50:24"><td class="action" colspan="2">* derRichard uses it from time to time</td><td><a href="#t2021-03-19T09:50:24" class="time">09:50</a></td></tr>
<tr id="t2021-03-19T09:50:32"><th class="nick" style="background: #8c4a4a">derRichard</th><td class="text" style="color: #8c4a4a">no idea whether there is an irc for it</td><td class="time"><a href="#t2021-03-19T09:50:32" class="time">09:50</a></td></tr>
<tr id="t2021-03-19T09:50:48"><th class="nick" style="background: #488888">Blackbetty</th><td class="text" style="color: #488888">couldnt find it anywhere</td><td class="time"><a href="#t2021-03-19T09:50:48" class="time">09:50</a></td></tr>
<tr id="t2021-03-19T09:50:55"><th class="nick" style="background: #8c4a4a">derRichard</th><td class="text" style="color: #8c4a4a">does it matter?</td><td class="time"><a href="#t2021-03-19T09:50:55" class="time">09:50</a></td></tr>
<tr id="t2021-03-19T09:51:26"><th class="nick" style="background: #488888">Blackbetty</th><td class="text" style="color: #488888">I wonder if there is any possibility to maintain layers order from kas.yml</td><td class="time"><a href="#t2021-03-19T09:51:26" class="time">09:51</a></td></tr>
<tr id="t2021-03-19T09:51:57"><th class="nick" style="background: #488888">Blackbetty</th><td class="text" style="color: #488888">kas team decided to stick with alphabetic ordering which kinda destroys my build</td><td class="time"><a href="#t2021-03-19T09:51:57" class="time">09:51</a></td></tr>
<tr id="t2021-03-19T09:53:10"><th class="nick" style="background: #488888">Blackbetty</th><td class="text" style="color: #488888">looking for a way to get in touch with them ;)</td><td class="time"><a href="#t2021-03-19T09:53:10" class="time">09:53</a></td></tr>
<tr id="t2021-03-19T09:54:52"><th class="nick" style="background: #8c4a4a">derRichard</th><td class="text" style="color: #8c4a4a">i'd try their github</td><td class="time"><a href="#t2021-03-19T09:54:52" class="time">09:54</a></td></tr>
<tr id="t2021-03-19T10:10:01"><th class="nick" style="background: #4b904b">simonpe^^</th><td class="text" style="color: #4b904b">I'm looking for a compatibility matrix between imx evk boards and fslc kernel/u-boot versions. Is there such a thing?</td><td class="time"><a href="#t2021-03-19T10:10:01" class="time">10:10</a></td></tr>
<tr id="t2021-03-19T10:16:06"><th class="nick" style="background: #4b904b">simonpe^^</th><td class="text" style="color: #4b904b">What I need is a u-boot with a certain commit for the u-boot patches we have for other boards to work, and the currently supported stuff by NXP is all on zeus and we run dunfell</td><td class="time"><a href="#t2021-03-19T10:16:06" class="time">10:16</a></td></tr>
<tr id="t2021-03-19T10:16:35"><th class="nick" style="background: #4b904b">simonpe^^</th><td class="text" style="color: #4b904b">And for some stupid reason there is a version dependency on u-boot from the imx kernels</td><td class="time"><a href="#t2021-03-19T10:16:35" class="time">10:16</a></td></tr>
<tr id="t2021-03-19T10:16:58"><th class="nick" style="background: #4b904b">simonpe^^</th><td class="text" style="color: #4b904b">I can't for the life of me figure out what they have messed up to end up in that situation</td><td class="time"><a href="#t2021-03-19T10:16:58" class="time">10:16</a></td></tr>
<tr id="t2021-03-19T10:43:39"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">Blackbetty: no irc for kas annoyingly, the google group is the best way</td><td class="time"><a href="#t2021-03-19T10:43:39" class="time">10:43</a></td></tr>
<tr id="t2021-03-19T10:44:11"><th class="nick" style="background: #488888">Blackbetty</th><td class="text" style="color: #488888">rburton: derRichard: thank you, I already posted in the topic.</td><td class="time"><a href="#t2021-03-19T10:44:11" class="time">10:44</a></td></tr>
<tr id="t2021-03-19T10:44:13"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">kanavin_: config.log is *huge*</td><td class="time"><a href="#t2021-03-19T10:44:13" class="time">10:44</a></td></tr>
<tr id="t2021-03-19T11:33:17"><td class="nickchange" colspan="2">*** mckoan is now known as mckoan|away</td><td><a href="#t2021-03-19T11:33:17" class="time">11:33</a></td></tr>
<tr id="t2021-03-19T11:49:15"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f"><a href="https://autobuilder.yoctoproject.org/typhoon/#/builders/87/builds/1965/steps/14/logs/stdio" rel="nofollow">https://autobuilder.yoctoproject.org/typhoon/#/builders/87/builds/1965/steps/14/logs/stdio</a> is a fun failure, its caused by my sstate cleanup patches :(</td><td class="time"><a href="#t2021-03-19T11:49:15" class="time">11:49</a></td></tr>
<tr id="t2021-03-19T11:49:24"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">I think it is exposing a race</td><td class="time"><a href="#t2021-03-19T11:49:24" class="time">11:49</a></td></tr>
<tr id="t2021-03-19T11:53:46"><th class="nick" style="background: #9b519b">lumbergeek</th><td class="text" style="color: #9b519b">Ok, my google foo apparently sucks.&nbsp;&nbsp;Is there a database of available packages out there that can be used in a build?</td><td class="time"><a href="#t2021-03-19T11:53:46" class="time">11:53</a></td></tr>
<tr id="t2021-03-19T11:56:09"><th class="nick" style="background: #539e9e">neverpanic</th><td class="text" style="color: #539e9e"><a href="http://layers.openembedded.org/layerindex/branch/master/recipes/" rel="nofollow">http://layers.openembedded.org/layerindex/branch/master/recipes/</a></td><td class="time"><a href="#t2021-03-19T11:56:09" class="time">11:56</a></td></tr>
<tr id="t2021-03-19T11:59:23"><th class="nick" style="background: #9b519b">lumbergeek</th><td class="text" style="color: #9b519b">many thanks!&nbsp;&nbsp;i feel like I was bouncing all over oe.org and never quite found my way there</td><td class="time"><a href="#t2021-03-19T11:59:23" class="time">11:59</a></td></tr>
<tr id="t2021-03-19T13:26:10"><th class="nick" style="background: #a25555">Sponge5</th><td class="text" style="color: #a25555">Hi, until now I've been using separate weston.ini files with separate .bbappends for each machine (each machine has a dedicated layer). I've now replaced those with weston.ini.patch and a base weston.ini, but I still have 5 .bbappends. How can I clean this up even further?</td><td class="time"><a href="#t2021-03-19T13:26:10" class="time">13:26</a></td></tr>
<tr id="t2021-03-19T13:27:19"><th class="nick" style="background: #a25555">Sponge5</th><td class="text" style="color: #a25555">The idea is to have 5x weston.ini.patch and just one .bbappend (or no .bbappends at all)</td><td class="time"><a href="#t2021-03-19T13:27:19" class="time">13:27</a></td></tr>
<tr id="t2021-03-19T13:42:41"><th class="nick" style="background: #8c4a4a">derRichard</th><td class="text" style="color: #8c4a4a">i'm analysing a build issue, all files in the rootfs are owned by the build users. looks like the fakeroot mechanism didn't work. and indeed, looking into the image's pseudo.log i see tons of messages such as: find_dev: select returned neither a row nor done: database disk image is malformed</td><td class="time"><a href="#t2021-03-19T13:42:41" class="time">13:42</a></td></tr>
<tr id="t2021-03-19T13:43:25"><th class="nick" style="background: #8c4a4a">derRichard</th><td class="text" style="color: #8c4a4a">can it be the case that pseudo fails silently instead of aborting the build in case of such fatal errors? :-(</td><td class="time"><a href="#t2021-03-19T13:43:25" class="time">13:43</a></td></tr>
<tr id="t2021-03-19T13:57:07"><th class="nick" style="background: #57a657">Chrys</th><td class="text" style="color: #57a657">Hello everyone :)</td><td class="time"><a href="#t2021-03-19T13:57:07" class="time">13:57</a></td></tr>
<tr id="t2021-03-19T13:57:07-2"><th class="nick" style="background: #57a657">Chrys</th><td class="text" style="color: #57a657">In my recipe, i modify u-boot env file in the &quot;${WORKDIR}&quot;.</td><td class="time"><a href="#t2021-03-19T13:57:07-2" class="time">13:57</a></td></tr>
<tr id="t2021-03-19T13:57:08"><th class="nick" style="background: #57a657">Chrys</th><td class="text" style="color: #57a657">Problem is, when using devtool modify... It prompt an error because the construction of the path for this is quite modified.</td><td class="time"><a href="#t2021-03-19T13:57:08" class="time">13:57</a></td></tr>
<tr id="t2021-03-19T13:57:08-2"><th class="nick" style="background: #57a657">Chrys</th><td class="text" style="color: #57a657">What would be the workaround?</td><td class="time"><a href="#t2021-03-19T13:57:08-2" class="time">13:57</a></td></tr>
<tr id="t2021-03-19T14:12:00"><th class="nick" style="background: #a25555">Sponge5</th><td class="text" style="color: #a25555">I found the answer to my question: <a href="https://stackoverflow.com/a/49281083/8779643" rel="nofollow">https://stackoverflow.com/a/49281083/8779643</a></td><td class="time"><a href="#t2021-03-19T14:12:00" class="time">14:12</a></td></tr>
<tr id="t2021-03-19T14:12:09"><th class="nick" style="background: #a25555">Sponge5</th><td class="text" style="color: #a25555">Kind of</td><td class="time"><a href="#t2021-03-19T14:12:09" class="time">14:12</a></td></tr>
<tr id="t2021-03-19T14:38:05"><th class="nick" style="background: #8c4a4a">derRichard</th><td class="text" style="color: #8c4a4a">hmm, yes. pseudo ignores fatal sqlite errors :-(</td><td class="time"><a href="#t2021-03-19T14:38:05" class="time">14:38</a></td></tr>
<tr id="t2021-03-19T14:49:26"><th class="nick" style="background: #5959a9">sgw</th><td class="text" style="color: #5959a9">Morning folks, swatting a couple of failures.</td><td class="time"><a href="#t2021-03-19T14:49:26" class="time">14:49</a></td></tr>
<tr id="t2021-03-19T14:50:43"><th class="nick" style="background: #5959a9">sgw</th><td class="text" style="color: #5959a9">RP: have we seen liblzma: memory allocation failed before?&nbsp;&nbsp;This smells a little like an Autobuilder intermittent I could not find any bugzilla entries</td><td class="time"><a href="#t2021-03-19T14:50:43" class="time">14:50</a></td></tr>
<tr id="t2021-03-19T14:55:37"><th class="nick" style="background: #8c4a4a">derRichard</th><td class="text" style="color: #8c4a4a">sgw: does you have many cpus?</td><td class="time"><a href="#t2021-03-19T14:55:37" class="time">14:55</a></td></tr>
<tr id="t2021-03-19T14:55:44"><th class="nick" style="background: #8c4a4a">derRichard</th><td class="text" style="color: #8c4a4a">*do you</td><td class="time"><a href="#t2021-03-19T14:55:44" class="time">14:55</a></td></tr>
<tr id="t2021-03-19T14:57:20"><th class="nick" style="background: #5959a9">sgw</th><td class="text" style="color: #5959a9">derRichard: it's has 56 cpu with 128G memory, seems 3 packages failed with memory issues</td><td class="time"><a href="#t2021-03-19T14:57:20" class="time">14:57</a></td></tr>
<tr id="t2021-03-19T14:58:38"><th class="nick" style="background: #42427e">yates</th><td class="text" style="color: #42427e">sgw: holy cow!</td><td class="time"><a href="#t2021-03-19T14:58:38" class="time">14:58</a></td></tr>
<tr id="t2021-03-19T14:59:15"><th class="nick" style="background: #5959a9">sgw</th><td class="text" style="color: #5959a9">yates:&nbsp;&nbsp;this is part of the YP Autobuilder infrastructure, not unsurprising actually</td><td class="time"><a href="#t2021-03-19T14:59:15" class="time">14:59</a></td></tr>
<tr id="t2021-03-19T14:59:29"><th class="nick" style="background: #5959a9">sgw</th><td class="text" style="color: #5959a9">The memory failure is though!</td><td class="time"><a href="#t2021-03-19T14:59:29" class="time">14:59</a></td></tr>
<tr id="t2021-03-19T14:59:30"><th class="nick" style="background: #8c4a4a">derRichard</th><td class="text" style="color: #8c4a4a">sgw: yeah, then xz might run out of memory.</td><td class="time"><a href="#t2021-03-19T14:59:30" class="time">14:59</a></td></tr>
<tr id="t2021-03-19T14:59:46"><th class="nick" style="background: #8c4a4a">derRichard</th><td class="text" style="color: #8c4a4a">i'm facing the same issues on super large build systems</td><td class="time"><a href="#t2021-03-19T14:59:46" class="time">14:59</a></td></tr>
<tr id="t2021-03-19T14:59:51"><th class="nick" style="background: #8c4a4a">derRichard</th><td class="text" style="color: #8c4a4a">let me find the fix</td><td class="time"><a href="#t2021-03-19T14:59:51" class="time">14:59</a></td></tr>
<tr id="t2021-03-19T15:01:03"><th class="nick" style="background: #8c4a4a">derRichard</th><td class="text" style="color: #8c4a4a">see in poky</td><td class="time"><a href="#t2021-03-19T15:01:03" class="time">15:01</a></td></tr>
<tr id="t2021-03-19T15:01:03-2"><th class="nick" style="background: #8c4a4a">derRichard</th><td class="text" style="color: #8c4a4a">commit 27ff81bfd880280607c79dce2f724c8bfafce02d</td><td class="time"><a href="#t2021-03-19T15:01:03-2" class="time">15:01</a></td></tr>
<tr id="t2021-03-19T15:01:03-3"><th class="nick" style="background: #8c4a4a">derRichard</th><td class="text" style="color: #8c4a4a">Author: Mike Looijmans &lt;mike.looijmans@topic.nl&gt;</td><td class="time"><a href="#t2021-03-19T15:01:03-3" class="time">15:01</a></td></tr>
<tr id="t2021-03-19T15:01:03-4"><th class="nick" style="background: #8c4a4a">derRichard</th><td class="text" style="color: #8c4a4a">Date:&nbsp;&nbsp; Fri Mar 20 15:45:20 2020 +0100</td><td class="time"><a href="#t2021-03-19T15:01:03-4" class="time">15:01</a></td></tr>
<tr id="t2021-03-19T15:01:04"><th class="nick" style="background: #8c4a4a">derRichard</th><td class="text" style="color: #8c4a4a">&nbsp;&nbsp;&nbsp;&nbsp;classes/populate_sdk_base: Implement xz compression options</td><td class="time"><a href="#t2021-03-19T15:01:04" class="time">15:01</a></td></tr>
<tr id="t2021-03-19T15:01:19"><th class="nick" style="background: #8c4a4a">derRichard</th><td class="text" style="color: #8c4a4a">maybe you hit an other place where parallel compression is done...</td><td class="time"><a href="#t2021-03-19T15:01:19" class="time">15:01</a></td></tr>
<tr id="t2021-03-19T15:01:45"><th class="nick" style="background: #5959a9">sgw</th><td class="text" style="color: #5959a9">derRichard: this is a recent master build on the autobuilder, I would think that fix is in.&nbsp;&nbsp;I have to bail for an hour, back after meeting</td><td class="time"><a href="#t2021-03-19T15:01:45" class="time">15:01</a></td></tr>
<tr id="t2021-03-19T15:02:10"><th class="nick" style="background: #8c4a4a">derRichard</th><td class="text" style="color: #8c4a4a">yeah but maybe yet another bug of the same class..</td><td class="time"><a href="#t2021-03-19T15:02:10" class="time">15:02</a></td></tr>
<tr id="t2021-03-19T15:02:24"><th class="nick" style="background: #8c4a4a">derRichard</th><td class="text" style="color: #8c4a4a">like i said, another parallel compression going one somewhere</td><td class="time"><a href="#t2021-03-19T15:02:24" class="time">15:02</a></td></tr>
<tr id="t2021-03-19T15:02:33"><th class="nick" style="background: #5959a9">sgw</th><td class="text" style="color: #5959a9">3 likely</td><td class="time"><a href="#t2021-03-19T15:02:33" class="time">15:02</a></td></tr>
<tr id="t2021-03-19T15:03:02"><th class="nick" style="background: #8c4a4a">derRichard</th><td class="text" style="color: #8c4a4a">for 56 cpus, only 128gb ram is a little too few</td><td class="time"><a href="#t2021-03-19T15:03:02" class="time">15:03</a></td></tr>
<tr id="t2021-03-19T15:03:23"><th class="nick" style="background: #8c4a4a">derRichard</th><td class="text" style="color: #8c4a4a">even on my 24 core system with 128gb ram, i'm hitting such issues</td><td class="time"><a href="#t2021-03-19T15:03:23" class="time">15:03</a></td></tr>
<tr id="t2021-03-19T15:03:31"><th class="nick" style="background: #5959a9">sgw</th><td class="text" style="color: #5959a9">derRichard: it's funny to think that's small!</td><td class="time"><a href="#t2021-03-19T15:03:31" class="time">15:03</a></td></tr>
<tr id="t2021-03-19T15:03:44"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">xz seems particularly bad about that for some reason</td><td class="time"><a href="#t2021-03-19T15:03:44" class="time">15:03</a></td></tr>
<tr id="t2021-03-19T15:03:54"><th class="nick" style="background: #42427e">yates</th><td class="text" style="color: #42427e">what is xz?</td><td class="time"><a href="#t2021-03-19T15:03:54" class="time">15:03</a></td></tr>
<tr id="t2021-03-19T15:04:00"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">A compression tool</td><td class="time"><a href="#t2021-03-19T15:04:00" class="time">15:04</a></td></tr>
<tr id="t2021-03-19T15:04:09"><th class="nick" style="background: #42427e">yates</th><td class="text" style="color: #42427e">ah</td><td class="time"><a href="#t2021-03-19T15:04:09" class="time">15:04</a></td></tr>
<tr id="t2021-03-19T15:04:23"><th class="nick" style="background: #8c4a4a">derRichard</th><td class="text" style="color: #8c4a4a">in parallel mode it wastes per core tons of memory</td><td class="time"><a href="#t2021-03-19T15:04:23" class="time">15:04</a></td></tr>
<tr id="t2021-03-19T15:05:13"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">yates: I believe it's the tool that does LZMA compression</td><td class="time"><a href="#t2021-03-19T15:05:13" class="time">15:05</a></td></tr>
<tr id="t2021-03-19T15:07:56"><th class="nick" style="background: #42427e">yates</th><td class="text" style="color: #42427e">looks like 7z does it too</td><td class="time"><a href="#t2021-03-19T15:07:56" class="time">15:07</a></td></tr>
<tr id="t2021-03-19T15:17:05"><th class="nick" style="background: #42427e">yates</th><td class="text" style="color: #42427e">kergoth: yesterday, when discussing 'do_build[recrdeptask] += &quot;do_deploy&quot;', you spoke of build-time dependencies and run-time dependencies. what is a run-time dependency?</td><td class="time"><a href="#t2021-03-19T15:17:05" class="time">15:17</a></td></tr>
<tr id="t2021-03-19T15:17:59"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">sgw: we've not seen that one for a long time. Which worker was it?</td><td class="time"><a href="#t2021-03-19T15:17:59" class="time">15:17</a></td></tr>
<tr id="t2021-03-19T15:21:47"><th class="nick" style="background: #5959a9">sgw</th><td class="text" style="color: #5959a9">RP: debian10-ty-1</td><td class="time"><a href="#t2021-03-19T15:21:47" class="time">15:21</a></td></tr>
<tr id="t2021-03-19T15:23:35"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">sgw: hmm, strange to hit that now...</td><td class="time"><a href="#t2021-03-19T15:23:35" class="time">15:23</a></td></tr>
<tr id="t2021-03-19T15:25:19"><th class="nick" style="background: #b15db1">vdl</th><td class="text" style="color: #b15db1">hi all -- I assume that it is still unsafe to build multiple distros using the same build/ directory, correct?</td><td class="time"><a href="#t2021-03-19T15:25:19" class="time">15:25</a></td></tr>
<tr id="t2021-03-19T15:26:05"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">vdl: not so much unsafe as inefficient</td><td class="time"><a href="#t2021-03-19T15:26:05" class="time">15:26</a></td></tr>
<tr id="t2021-03-19T15:26:32"><th class="nick" style="background: #5959a9">sgw</th><td class="text" style="color: #5959a9">Ok, I will file it as a AB intermittent so we can track</td><td class="time"><a href="#t2021-03-19T15:26:32" class="time">15:26</a></td></tr>
<tr id="t2021-03-19T15:28:11"><th class="nick" style="background: #b15db1">vdl</th><td class="text" style="color: #b15db1">RP: if your project includes multiple distros, how do you deal with it, simply one build-foo/ directory per distro?</td><td class="time"><a href="#t2021-03-19T15:28:11" class="time">15:28</a></td></tr>
<tr id="t2021-03-19T15:28:47"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">vdl: that or multiconfig</td><td class="time"><a href="#t2021-03-19T15:28:47" class="time">15:28</a></td></tr>
<tr id="t2021-03-19T15:29:55"><th class="nick" style="background: #b15db1">vdl</th><td class="text" style="color: #b15db1">RP: but multiconfig is useful when you can a link at build time between 2 distincts images, like embedding a dist/mach/image combination into another dist/mach/image combination, correct?</td><td class="time"><a href="#t2021-03-19T15:29:55" class="time">15:29</a></td></tr>
<tr id="t2021-03-19T15:30:39"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">vdl: multiconfig has many uses, that's one of them</td><td class="time"><a href="#t2021-03-19T15:30:39" class="time">15:30</a></td></tr>
<tr id="t2021-03-19T15:30:44"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">vdl: multiconfig would also allow you to build two different distro configs in parallel in separate tmpdirs</td><td class="time"><a href="#t2021-03-19T15:30:44" class="time">15:30</a></td></tr>
<tr id="t2021-03-19T15:31:09"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">one distro could have images including images from the other, lots of possibilities</td><td class="time"><a href="#t2021-03-19T15:31:09" class="time">15:31</a></td></tr>
<tr id="t2021-03-19T15:31:37"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">vdl: For example, we have multiple products we can choose to build, and build each on in it's own multiconfig. This allows us to choose to build one or more with a single invocation of bitbake</td><td class="time"><a href="#t2021-03-19T15:31:37" class="time">15:31</a></td></tr>
<tr id="t2021-03-19T15:32:18"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">vdl: We us this tool to wrangle it all, but at the end of the day, it's just multiconfig: <a href="https://github.com/garmin/whisk" rel="nofollow">https://github.com/garmin/whisk</a></td><td class="time"><a href="#t2021-03-19T15:32:18" class="time">15:32</a></td></tr>
<tr id="t2021-03-19T15:33:34"><th class="nick" style="background: #5fb4b4">kergoth</th><td class="text" style="color: #5fb4b4">yates: <a href="https://www.aosabook.org/en/yocto.html" rel="nofollow">https://www.aosabook.org/en/yocto.html</a> scroll down to Dependencies</td><td class="time"><a href="#t2021-03-19T15:33:34" class="time">15:33</a></td></tr>
<tr id="t2021-03-19T15:33:44"><th class="nick" style="background: #5fb4b4">kergoth</th><td class="text" style="color: #5fb4b4">as i've linked or directed you to 4 or 5 times now</td><td class="time"><a href="#t2021-03-19T15:33:44" class="time">15:33</a></td></tr>
<tr id="t2021-03-19T15:38:58"><th class="nick" style="background: #b15db1">vdl</th><td class="text" style="color: #b15db1">JPEW: RP: I understand that multiconfig is the way to go if you need to build multiple distro combinations at once, even though if they aren't packaged together (but they could)</td><td class="time"><a href="#t2021-03-19T15:38:58" class="time">15:38</a></td></tr>
<tr id="t2021-03-19T15:40:13"><th class="nick" style="background: #b15db1">vdl</th><td class="text" style="color: #b15db1">Finally I need to prepare a release archive, like &lt;customer&gt;-release-&lt;version&gt;.tar.xz including the .wic image, README and so on. Is there a way to integrate this step within the single invokation of bitbake?</td><td class="time"><a href="#t2021-03-19T15:40:13" class="time">15:40</a></td></tr>
<tr id="t2021-03-19T15:43:42"><th class="nick" style="background: #42427e">yates</th><td class="text" style="color: #42427e">kergoth: i don't appreciate being addressed in this manner. we all know yocto is a huge, sprawing tool, with multiple sources of documentation. i guarantee that i will ask another question for which i've already been directed, just because my brain (like many others) is not good at absorbing the large amount of inter-related, parallel information which yocto requires</td><td class="time"><a href="#t2021-03-19T15:43:42" class="time">15:43</a></td></tr>
<tr id="t2021-03-19T15:44:08"><th class="nick" style="background: #b86161">tlwoerner</th><td class="text" style="color: #b86161">i want to compare the boot times of various builds/tweaks. is there a way to get one of those nice kernel timestamp thingies on the console right as the login prompt is appearing?</td><td class="time"><a href="#t2021-03-19T15:44:08" class="time">15:44</a></td></tr>
<tr id="t2021-03-19T15:44:26"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">vdl: you could add a task to an image or add a recipe which does it</td><td class="time"><a href="#t2021-03-19T15:44:26" class="time">15:44</a></td></tr>
<tr id="t2021-03-19T15:46:49"><th class="nick" style="background: #42427e">yates</th><td class="text" style="color: #42427e">at least not instantly and/or perfectly</td><td class="time"><a href="#t2021-03-19T15:46:49" class="time">15:46</a></td></tr>
<tr id="t2021-03-19T15:46:56"><th class="nick" style="background: #b15db1">vdl</th><td class="text" style="color: #b15db1">RP: an image recipe with IMAGE_FSTYPES = &quot;tar.xz&quot; seems the way to go, but I fail to depends on image-a.wic being deployed. I tried do_rootfs[depends] += &quot;image-a:do_build&quot; without success</td><td class="time"><a href="#t2021-03-19T15:46:56" class="time">15:46</a></td></tr>
<tr id="t2021-03-19T15:47:46"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">vdl: personally, I'd just write a recipe with a custom task which does it</td><td class="time"><a href="#t2021-03-19T15:47:46" class="time">15:47</a></td></tr>
<tr id="t2021-03-19T15:48:04"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">trying to reuse the image code is probably going to just be a pain</td><td class="time"><a href="#t2021-03-19T15:48:04" class="time">15:48</a></td></tr>
<tr id="t2021-03-19T15:49:04"><th class="nick" style="background: #b15db1">vdl</th><td class="text" style="color: #b15db1">yates: I do not wish to step into this topic, but people in the open source community often expect you to look up for questions already answered. For example this channel is logged, so you can easily ask again your question to google with your username to retrieve your last interaction about the topic.</td><td class="time"><a href="#t2021-03-19T15:49:04" class="time">15:49</a></td></tr>
<tr id="t2021-03-19T15:50:13"><th class="nick" style="background: #b15db1">vdl</th><td class="text" style="color: #b15db1">RP: I see. How do you ensure that your recipe is called after image-a.wic has been deployed? (do you have any example in mind I could look into?)</td><td class="time"><a href="#t2021-03-19T15:50:13" class="time">15:50</a></td></tr>
<tr id="t2021-03-19T15:51:02"><th class="nick" style="background: #62bb62">RobertBerger</th><td class="text" style="color: #62bb62">Should we all attend &quot;From Yocto + Buildroot to Ubuntu core&quot; and ask some questions? <a href="https://ubuntu.com/engage/yocto-buildroot-to-ubuntu-core" rel="nofollow">https://ubuntu.com/engage/yocto-buildroot-to-ubuntu-core</a></td><td class="time"><a href="#t2021-03-19T15:51:02" class="time">15:51</a></td></tr>
<tr id="t2021-03-19T15:51:27"><th class="nick" style="background: #b86161">tlwoerner</th><td class="text" style="color: #b86161">RobertBerger: lol</td><td class="time"><a href="#t2021-03-19T15:51:27" class="time">15:51</a></td></tr>
<tr id="t2021-03-19T15:52:56"><th class="nick" style="background: #62bb62">RobertBerger</th><td class="text" style="color: #62bb62">;)</td><td class="time"><a href="#t2021-03-19T15:52:56" class="time">15:52</a></td></tr>
<tr id="t2021-03-19T15:53:15"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">vdl: you'd just do something like do_mytask[depends] = &quot;imagerecipe:do_image_complete&quot; I don't have a specific example in mind</td><td class="time"><a href="#t2021-03-19T15:53:15" class="time">15:53</a></td></tr>
<tr id="t2021-03-19T15:56:57"><th class="nick" style="background: #b15db1">vdl</th><td class="text" style="color: #b15db1">RP: so you're not even inheriting an image, correct? This way you need to handle the archiving yourself instead of relying on IMAGE_FSTYPES = &quot;tar.xz&quot; for example, am I correct?</td><td class="time"><a href="#t2021-03-19T15:56:57" class="time">15:56</a></td></tr>
<tr id="t2021-03-19T15:58:33"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">vdl: Correct, that is how I would do it</td><td class="time"><a href="#t2021-03-19T15:58:33" class="time">15:58</a></td></tr>
<tr id="t2021-03-19T15:58:42"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">vdl: tar commands aren't complex</td><td class="time"><a href="#t2021-03-19T15:58:42" class="time">15:58</a></td></tr>
<tr id="t2021-03-19T15:59:30"><th class="nick" style="background: #b15db1">vdl</th><td class="text" style="color: #b15db1">They aren't complex, but since the archiving is abstracted by yocto already, it'd be nice to re-use it.</td><td class="time"><a href="#t2021-03-19T15:59:30" class="time">15:59</a></td></tr>
<tr id="t2021-03-19T16:10:40"><th class="nick" style="background: #b15db1">vdl</th><td class="text" style="color: #b15db1">RP: it looks like a good candidate for something like a release.bbclass supporting RELEASE_FSTYPES and a file listing similar to IMAGE_BOOT_FILES (e.g. RELEASE_FILES = &quot;some-image.wic;sdcard.img some-doc.txt;README&quot; and so on)</td><td class="time"><a href="#t2021-03-19T16:10:40" class="time">16:10</a></td></tr>
<tr id="t2021-03-19T16:15:32"><th class="nick" style="background: #6464bf">linums</th><td class="text" style="color: #6464bf">Hi</td><td class="time"><a href="#t2021-03-19T16:15:32" class="time">16:15</a></td></tr>
<tr id="t2021-03-19T16:15:43"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">vdl: reuse is nice but you aren't wanting a large portion of what the image code is doing (building a rootfs from packages)</td><td class="time"><a href="#t2021-03-19T16:15:43" class="time">16:15</a></td></tr>
<tr id="t2021-03-19T16:15:48"><th class="nick" style="background: #6464bf">linums</th><td class="text" style="color: #6464bf">I'm building yocto for arm (rpi) now</td><td class="time"><a href="#t2021-03-19T16:15:48" class="time">16:15</a></td></tr>
<tr id="t2021-03-19T16:16:33"><th class="nick" style="background: #6464bf">linums</th><td class="text" style="color: #6464bf">And I regularly run into segmentation fault issues, and those are disappearing when I re-run the build</td><td class="time"><a href="#t2021-03-19T16:16:33" class="time">16:16</a></td></tr>
<tr id="t2021-03-19T16:16:34"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">vdl: What you're after to do is something like a 5 line custom task vs a ton of work with classes and variables for&nbsp;&nbsp;reusable code</td><td class="time"><a href="#t2021-03-19T16:16:34" class="time">16:16</a></td></tr>
<tr id="t2021-03-19T16:16:53"><th class="nick" style="background: #6464bf">linums</th><td class="text" style="color: #6464bf">Do anyone has a clu why can it happen?</td><td class="time"><a href="#t2021-03-19T16:16:53" class="time">16:16</a></td></tr>
<tr id="t2021-03-19T16:16:57"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">linums: checked you memory for errrors?</td><td class="time"><a href="#t2021-03-19T16:16:57" class="time">16:16</a></td></tr>
<tr id="t2021-03-19T16:17:10"><th class="nick" style="background: #6464bf">linums</th><td class="text" style="color: #6464bf">Nope</td><td class="time"><a href="#t2021-03-19T16:17:10" class="time">16:17</a></td></tr>
<tr id="t2021-03-19T16:17:19"><th class="nick" style="background: #6464bf">linums</th><td class="text" style="color: #6464bf">Thanks</td><td class="time"><a href="#t2021-03-19T16:17:19" class="time">16:17</a></td></tr>
<tr id="t2021-03-19T16:17:31"><th class="nick" style="background: #6464bf">linums</th><td class="text" style="color: #6464bf">So it might be the device</td><td class="time"><a href="#t2021-03-19T16:17:31" class="time">16:17</a></td></tr>
<tr id="t2021-03-19T16:19:56"><th class="nick" style="background: #b15db1">vdl</th><td class="text" style="color: #b15db1">RP: isn't the archiving code distinct from building a rootfs from packages? I understand what you're saying though, I'm just surprised such class doesn't exist yet. I wanted to avoid writing a custom script or recipe before making sure such infrastructure doesn't exist yet.</td><td class="time"><a href="#t2021-03-19T16:19:56" class="time">16:19</a></td></tr>
<tr id="t2021-03-19T16:21:23"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">vdl: I think you'd struggle to separate the rootfs and image archive code as it stands today</td><td class="time"><a href="#t2021-03-19T16:21:23" class="time">16:21</a></td></tr>
<tr id="t2021-03-19T16:21:56"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">linums: random segfaults which don't reproduce are usually hardware or a kernel problem, most often bad memory</td><td class="time"><a href="#t2021-03-19T16:21:56" class="time">16:21</a></td></tr>
<tr id="t2021-03-19T16:22:18"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">I have seen bad virtualisation before too</td><td class="time"><a href="#t2021-03-19T16:22:18" class="time">16:22</a></td></tr>
<tr id="t2021-03-19T16:23:21"><th class="nick" style="background: #b15db1">vdl</th><td class="text" style="color: #b15db1">RP: ho ok, so unfortunately the archiver class (or whatever it's called) is currently bound to the creation of a rootfs from packages.</td><td class="time"><a href="#t2021-03-19T16:23:21" class="time">16:23</a></td></tr>
<tr id="t2021-03-19T16:23:32"><th class="nick" style="background: #b15db1">vdl</th><td class="text" style="color: #b15db1">that's unlucky</td><td class="time"><a href="#t2021-03-19T16:23:32" class="time">16:23</a></td></tr>
<tr id="t2021-03-19T16:25:47"><th class="nick" style="background: #b15db1">vdl</th><td class="text" style="color: #b15db1">JPEW: how does whisk compare to a tool like kas? They look similar tome</td><td class="time"><a href="#t2021-03-19T16:25:47" class="time">16:25</a></td></tr>
<tr id="t2021-03-19T16:27:02"><th class="nick" style="background: #6464bf">linums</th><td class="text" style="color: #6464bf">RP: now I fear it's from the swap file, since the ram seems ok, but thanks, I guess that is the issue</td><td class="time"><a href="#t2021-03-19T16:27:02" class="time">16:27</a></td></tr>
<tr id="t2021-03-19T16:36:35"><th class="nick" style="background: #c3c366">paulg</th><td class="text" style="color: #c3c366"><a href="https://ubuntu.com/engage/yocto-buildroot-to-ubuntu-core" rel="nofollow">https://ubuntu.com/engage/yocto-buildroot-to-ubuntu-core</a></td><td class="time"><a href="#t2021-03-19T16:36:35" class="time">16:36</a></td></tr>
<tr id="t2021-03-19T16:37:18"><th class="nick" style="background: #c3c366">paulg</th><td class="text" style="color: #c3c366">Guess we should all pull up our tent pegs and go home.</td><td class="time"><a href="#t2021-03-19T16:37:18" class="time">16:37</a></td></tr>
<tr id="t2021-03-19T16:47:58"><th class="nick" style="background: #5959a9">sgw</th><td class="text" style="color: #5959a9">RP: I am digging into the other set of selftest failures in WIC, but the log files seems to have gone already, is that normal?</td><td class="time"><a href="#t2021-03-19T16:47:58" class="time">16:47</a></td></tr>
<tr id="t2021-03-19T16:52:21"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">sgw: is this the rawcopy one? I have a fix for that</td><td class="time"><a href="#t2021-03-19T16:52:21" class="time">16:52</a></td></tr>
<tr id="t2021-03-19T16:52:36"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">sgw: you probaby need a s/build/build-renamed/ in the path?</td><td class="time"><a href="#t2021-03-19T16:52:36" class="time">16:52</a></td></tr>
<tr id="t2021-03-19T16:53:48"><th class="nick" style="background: #5959a9">sgw</th><td class="text" style="color: #5959a9">There does not seem to be a build-renamed in /home/pokybuild/yocto-worker/oe-selftest-debian/build/ or /home/pokybuild/yocto-worker/oe-selftest-debian/build/build</td><td class="time"><a href="#t2021-03-19T16:53:48" class="time">16:53</a></td></tr>
<tr id="t2021-03-19T16:54:10"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">sgw: selftest will run in build-st-&lt;pid&gt;</td><td class="time"><a href="#t2021-03-19T16:54:10" class="time">16:54</a></td></tr>
<tr id="t2021-03-19T16:54:28"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">sgw: (it runs multiple in parallel)</td><td class="time"><a href="#t2021-03-19T16:54:28" class="time">16:54</a></td></tr>
<tr id="t2021-03-19T16:54:35"><th class="nick" style="background: #5959a9">sgw</th><td class="text" style="color: #5959a9">This is a file not found issue in wic looking for the .ext4</td><td class="time"><a href="#t2021-03-19T16:54:35" class="time">16:54</a></td></tr>
<tr id="t2021-03-19T16:54:52"><th class="nick" style="background: #5959a9">sgw</th><td class="text" style="color: #5959a9">Right, the -&lt;pid&gt; that I am trying to find is gone</td><td class="time"><a href="#t2021-03-19T16:54:52" class="time">16:54</a></td></tr>
<tr id="t2021-03-19T16:56:02"><th class="nick" style="background: #5959a9">sgw</th><td class="text" style="color: #5959a9">RP: I wanted to look at the build tmp/deploy dir area</td><td class="time"><a href="#t2021-03-19T16:56:02" class="time">16:56</a></td></tr>
<tr id="t2021-03-19T16:57:40"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">sgw: hmm, I thought failed builds were preserved</td><td class="time"><a href="#t2021-03-19T16:57:40" class="time">16:57</a></td></tr>
<tr id="t2021-03-19T16:58:10"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">sgw: I have a fix out for the wic/ext4 one, I spent most of the day figuring that one out. Its caused by my sstate cleanup patch</td><td class="time"><a href="#t2021-03-19T16:58:10" class="time">16:58</a></td></tr>
<tr id="t2021-03-19T16:58:40"><th class="nick" style="background: #5959a9">sgw</th><td class="text" style="color: #5959a9">RP: I thought they were also, Ok, I will swat those out as handled then.</td><td class="time"><a href="#t2021-03-19T16:58:40" class="time">16:58</a></td></tr>
<tr id="t2021-03-19T16:59:10"><th class="nick" style="background: #5959a9">sgw</th><td class="text" style="color: #5959a9">RP: thanks for that update and I hope you can break away and have a good weekend.</td><td class="time"><a href="#t2021-03-19T16:59:10" class="time">16:59</a></td></tr>
<tr id="t2021-03-19T17:07:14"><th class="nick" style="background: #c668c6">Saur</th><td class="text" style="color: #c668c6">RP: Wasn't the idea with commit 73d538f2 (bitbake.conf: Prevent pyc file generation in pseudo context) that fakeroot tasks should no longer create .pyc files? Because we are having occasional pseudo aborts after upgrading to Gatesgarth (24.0.2) when we create our final image. We use our own tool, which is similar to wic. We finally managed to get the psudo.log from one of the failed builds and found this: path mismatch [1 link]: ino 12085</td><td class="time"><a href="#t2021-03-19T17:07:14" class="time">17:07</a></td></tr>
<tr id="t2021-03-19T17:07:14-2"><th class="nick" style="background: #c668c6">Saur</th><td class="text" style="color: #c668c6">2760 db '.../poky/bitbake/lib/bb/ui/__pycache__/__init__.cpython-38.pyc' req '.../poky/bitbake/lib/bb/ui/__pycache__/uievent.cpython-38.pyc.140666647610112'. And when I check the environment the tool is running in, I cannot see PYTHONDONTWRITEBYTECODE being set.</td><td class="time"><a href="#t2021-03-19T17:07:14-2" class="time">17:07</a></td></tr>
<tr id="t2021-03-19T17:08:53"><th class="nick" style="background: #c668c6">Saur</th><td class="text" style="color: #c668c6">Or does that change only apply to fakeroot python tasks?</td><td class="time"><a href="#t2021-03-19T17:08:53" class="time">17:08</a></td></tr>
<tr id="t2021-03-19T17:11:47"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">Saur: good questions. Would need to be debugged, I don't know offhand how it should/would work out. The intent was to disable them</td><td class="time"><a href="#t2021-03-19T17:11:47" class="time">17:11</a></td></tr>
<tr id="t2021-03-19T17:12:00"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">Saur: I think the option is python version dependent</td><td class="time"><a href="#t2021-03-19T17:12:00" class="time">17:12</a></td></tr>
<tr id="t2021-03-19T17:12:23"><th class="nick" style="background: #c668c6">Saur</th><td class="text" style="color: #c668c6">When is FAKEROOTBASEENV vs FAKEROOTENV used?</td><td class="time"><a href="#t2021-03-19T17:12:23" class="time">17:12</a></td></tr>
<tr id="t2021-03-19T17:25:47"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">Saur: I'd have to grep, I don't remember</td><td class="time"><a href="#t2021-03-19T17:25:47" class="time">17:25</a></td></tr>
<tr id="t2021-03-19T17:26:16"><th class="nick" style="background: #c668c6">Saur</th><td class="text" style="color: #c668c6">RP: :) Ok, then I can just as well grep myself. ;)</td><td class="time"><a href="#t2021-03-19T17:26:16" class="time">17:26</a></td></tr>
<tr id="t2021-03-19T17:28:37"><th class="nick" style="background: #c668c6">Saur</th><td class="text" style="color: #c668c6">Ok, for fakeroot, FAKEROOTBASEENV is the environment that is used when starting bitbake-worker.</td><td class="time"><a href="#t2021-03-19T17:28:37" class="time">17:28</a></td></tr>
<tr id="t2021-03-19T17:38:43"><th class="nick" style="background: #c668c6">Saur</th><td class="text" style="color: #c668c6">And if I understand the code in bitbake-worker correctly, none of the environment that was used to start the bitbake-worker is left when it actually starts a task. Instead it is then the environment from FAKEROOTENV that is used. So this means that adding PYTHONDONTWRITEBYTECODE=1 to FAKEROOTBASEENV does in fact not affect python code started by, e.g., a fakeroot shell task. :(</td><td class="time"><a href="#t2021-03-19T17:38:43" class="time">17:38</a></td></tr>
<tr id="t2021-03-19T17:40:36"><th class="nick" style="background: #c668c6">Saur</th><td class="text" style="color: #c668c6">Thankfully this means that it should be simple to solve the problem we are seeing by just adding FAKEROOTENV += &quot;PYTHONDONTWRITEBYTECODE=1&quot; to our distro.conf.</td><td class="time"><a href="#t2021-03-19T17:40:36" class="time">17:40</a></td></tr>
<tr id="t2021-03-19T17:41:39"><th class="nick" style="background: #c668c6">Saur</th><td class="text" style="color: #c668c6">I'll send a corresponding patch for OE-Core as well.</td><td class="time"><a href="#t2021-03-19T17:41:39" class="time">17:41</a></td></tr>
<tr id="t2021-03-19T17:46:21"><th class="nick" style="background: #c668c6">Saur</th><td class="text" style="color: #c668c6">Meh, I have a strong feeling I will have to create a test case for this as well... :)</td><td class="time"><a href="#t2021-03-19T17:46:21" class="time">17:46</a></td></tr>
<tr id="t2021-03-19T18:03:57"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">Saur: sounds like good progress on figuring out the issue :)</td><td class="time"><a href="#t2021-03-19T18:03:57" class="time">18:03</a></td></tr>
<tr id="t2021-03-19T18:05:46"><th class="nick" style="background: #c668c6">Saur</th><td class="text" style="color: #c668c6">The weirdest thing is that we are only seeing this fail when building the image for one out of all the products we build images for...</td><td class="time"><a href="#t2021-03-19T18:05:46" class="time">18:05</a></td></tr>
<tr id="t2021-03-19T18:18:20"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">vdl: Ya, it overlaps with kas some</td><td class="time"><a href="#t2021-03-19T18:18:20" class="time">18:18</a></td></tr>
<tr id="t2021-03-19T18:19:09"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">Especially if you do whisk + pyrex (build in a container)</td><td class="time"><a href="#t2021-03-19T18:19:09" class="time">18:19</a></td></tr>
<tr id="t2021-03-19T18:21:34"><td class="part" colspan="2">*** jwessel &lt;jwessel!~jwessel@128.224.252.2&gt; has left #yocto</td><td><a href="#t2021-03-19T18:21:34" class="time">18:21</a></td></tr>
<tr id="t2021-03-19T19:47:05"><td class="nickchange" colspan="2">*** BCMM_ is now known as BCMM</td><td><a href="#t2021-03-19T19:47:05" class="time">19:47</a></td></tr>
<tr id="t2021-03-19T19:48:49"><th class="nick" style="background: #b15db1">vdl</th><td class="text" style="color: #b15db1">JPEW: and kas does handle multiconfig already</td><td class="time"><a href="#t2021-03-19T19:48:49" class="time">19:48</a></td></tr>
<tr id="t2021-03-19T20:33:01"><th class="nick" style="background: #6acaca">moto-timo</th><td class="text" style="color: #6acaca">kas handles multiconfig very well, it's just not well documented</td><td class="time"><a href="#t2021-03-19T20:33:01" class="time">20:33</a></td></tr>
<tr id="t2021-03-19T20:34:55"><td class="action" colspan="2">* moto-timo still needs to try whisk</td><td><a href="#t2021-03-19T20:34:55" class="time">20:34</a></td></tr>
<tr id="t2021-03-19T20:35:19"><th class="nick" style="background: #6acaca">moto-timo</th><td class="text" style="color: #6acaca">JPEW: do you run whisk/pyrex in any cloud providers?</td><td class="time"><a href="#t2021-03-19T20:35:19" class="time">20:35</a></td></tr>
<tr id="t2021-03-19T20:38:15"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">moto-timo: K8s on baremetal</td><td class="time"><a href="#t2021-03-19T20:38:15" class="time">20:38</a></td></tr>
<tr id="t2021-03-19T20:38:48"><th class="nick" style="background: #6acaca">moto-timo</th><td class="text" style="color: #6acaca">JPEW: the battlestar cluster... but at work also?</td><td class="time"><a href="#t2021-03-19T20:38:48" class="time">20:38</a></td></tr>
<tr id="t2021-03-19T20:39:00"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">OpenStack maybe? I'm not exactly sure</td><td class="time"><a href="#t2021-03-19T20:39:00" class="time">20:39</a></td></tr>
<tr id="t2021-03-19T20:39:12"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">Not &quot;in the cloud&quot; its all on-prem</td><td class="time"><a href="#t2021-03-19T20:39:12" class="time">20:39</a></td></tr>
<tr id="t2021-03-19T20:39:21"><th class="nick" style="background: #6acaca">moto-timo</th><td class="text" style="color: #6acaca">got it</td><td class="time"><a href="#t2021-03-19T20:39:21" class="time">20:39</a></td></tr>
<tr id="t2021-03-19T20:39:48"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">If someone want to fund a trial on AWS, I'd be up for it :)</td><td class="time"><a href="#t2021-03-19T20:39:48" class="time">20:39</a></td></tr>
<tr id="t2021-03-19T20:40:11"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">But I can't throw down a few $1000 to try it myself</td><td class="time"><a href="#t2021-03-19T20:40:11" class="time">20:40</a></td></tr>
<tr id="t2021-03-19T20:40:29"><th class="nick" style="background: #6acaca">moto-timo</th><td class="text" style="color: #6acaca">at some point here I'll be testing AWS/Azure/GCE... need to be agnostic to the provider</td><td class="time"><a href="#t2021-03-19T20:40:29" class="time">20:40</a></td></tr>
<tr id="t2021-03-19T20:40:48"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">moto-timo: Right, AWS was just an example</td><td class="time"><a href="#t2021-03-19T20:40:48" class="time">20:40</a></td></tr>
<tr id="t2021-03-19T20:40:51"><th class="nick" style="background: #6acaca">moto-timo</th><td class="text" style="color: #6acaca">yeah... this is mostly own money</td><td class="time"><a href="#t2021-03-19T20:40:51" class="time">20:40</a></td></tr>
<tr id="t2021-03-19T20:41:12"><th class="nick" style="background: #6acaca">moto-timo</th><td class="text" style="color: #6acaca">I can't actually tell you what providers we use internally</td><td class="time"><a href="#t2021-03-19T20:41:12" class="time">20:41</a></td></tr>
<tr id="t2021-03-19T20:41:40"><th class="nick" style="background: #6acaca">moto-timo</th><td class="text" style="color: #6acaca">so I live vicariously through open source projects that have donated compute slices</td><td class="time"><a href="#t2021-03-19T20:41:40" class="time">20:41</a></td></tr>
<tr id="t2021-03-19T20:42:19"><th class="nick" style="background: #6acaca">moto-timo</th><td class="text" style="color: #6acaca">but I have seen a cluster crash and burn, be restarted, crash and burn and then had to be taken out back and shot in the head</td><td class="time"><a href="#t2021-03-19T20:42:19" class="time">20:42</a></td></tr>
<tr id="t2021-03-19T20:42:38"><th class="nick" style="background: #6acaca">moto-timo</th><td class="text" style="color: #6acaca">no free lunch</td><td class="time"><a href="#t2021-03-19T20:42:38" class="time">20:42</a></td></tr>
<tr id="t2021-03-19T20:43:34"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">moto-timo: Right. That's why my latest expirement was to build my own cluster</td><td class="time"><a href="#t2021-03-19T20:43:34" class="time">20:43</a></td></tr>
<tr id="t2021-03-19T20:43:47"><td class="action" colspan="2">* JPEW Really needs to get labgrid working on that again</td><td><a href="#t2021-03-19T20:43:47" class="time">20:43</a></td></tr>
<tr id="t2021-03-19T20:43:52"><th class="nick" style="background: #6acaca">moto-timo</th><td class="text" style="color: #6acaca">JPEW: and why I have an rpi cluster</td><td class="time"><a href="#t2021-03-19T20:43:52" class="time">20:43</a></td></tr>
<tr id="t2021-03-19T20:44:02"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">moto-timo: What's the build time like on that?</td><td class="time"><a href="#t2021-03-19T20:44:02" class="time">20:44</a></td></tr>
<tr id="t2021-03-19T20:44:06"><td class="action" colspan="2">* moto-timo needs to get labgrid and ceph running</td><td><a href="#t2021-03-19T20:44:06" class="time">20:44</a></td></tr>
<tr id="t2021-03-19T20:44:27"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">moto-timo: Oh, I tried ceph... it's actually what took down my cluster</td><td class="time"><a href="#t2021-03-19T20:44:27" class="time">20:44</a></td></tr>
<tr id="t2021-03-19T20:44:40"><th class="nick" style="background: #6acaca">moto-timo</th><td class="text" style="color: #6acaca">JPEW: ugh... I'm not to that point yet. still working on the ansible bring up</td><td class="time"><a href="#t2021-03-19T20:44:40" class="time">20:44</a></td></tr>
<tr id="t2021-03-19T20:44:49"><th class="nick" style="background: #6acaca">moto-timo</th><td class="text" style="color: #6acaca">nooooo</td><td class="time"><a href="#t2021-03-19T20:44:49" class="time">20:44</a></td></tr>
<tr id="t2021-03-19T20:44:51"><th class="nick" style="background: #6acaca">moto-timo</th><td class="text" style="color: #6acaca">don't tell me that</td><td class="time"><a href="#t2021-03-19T20:44:51" class="time">20:44</a></td></tr>
<tr id="t2021-03-19T20:44:59"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">It's.... slower then molassas... and I have 4Gbit links (LCAP) between my servers</td><td class="time"><a href="#t2021-03-19T20:44:59" class="time">20:44</a></td></tr>
<tr id="t2021-03-19T20:45:16"><th class="nick" style="background: #6acaca">moto-timo</th><td class="text" style="color: #6acaca">there has GOT TO BE something better than NFS</td><td class="time"><a href="#t2021-03-19T20:45:16" class="time">20:45</a></td></tr>
<tr id="t2021-03-19T20:45:22"><th class="nick" style="background: #6acaca">moto-timo</th><td class="text" style="color: #6acaca">or CIFS/samba</td><td class="time"><a href="#t2021-03-19T20:45:22" class="time">20:45</a></td></tr>
<tr id="t2021-03-19T20:45:43"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">So far, my best option has been local for working dir, share sstate over NFS</td><td class="time"><a href="#t2021-03-19T20:45:43" class="time">20:45</a></td></tr>
<tr id="t2021-03-19T20:45:59"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">You could probably share sstate of CEPH and that would work fine</td><td class="time"><a href="#t2021-03-19T20:45:59" class="time">20:45</a></td></tr>
<tr id="t2021-03-19T20:46:04"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">*over CEPH</td><td class="time"><a href="#t2021-03-19T20:46:04" class="time">20:46</a></td></tr>
<tr id="t2021-03-19T20:46:12"><th class="nick" style="background: #6acaca">moto-timo</th><td class="text" style="color: #6acaca">sstate is the sticky wicket that doesn't scale well to the cloud :(</td><td class="time"><a href="#t2021-03-19T20:46:12" class="time">20:46</a></td></tr>
<tr id="t2021-03-19T20:46:31"><th class="nick" style="background: #6acaca">moto-timo</th><td class="text" style="color: #6acaca">that was my intent. sstate over ceph</td><td class="time"><a href="#t2021-03-19T20:46:31" class="time">20:46</a></td></tr>
<tr id="t2021-03-19T20:46:49"><th class="nick" style="background: #6acaca">moto-timo</th><td class="text" style="color: #6acaca">I figure hadoop would be slower than molasses</td><td class="time"><a href="#t2021-03-19T20:46:49" class="time">20:46</a></td></tr>
<tr id="t2021-03-19T20:47:10"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">Ya, that might be better. I was trying to use it for the working volume, had a build with took over 10 hours, timed out, and broke tekton somehow</td><td class="time"><a href="#t2021-03-19T20:47:10" class="time">20:47</a></td></tr>
<tr id="t2021-03-19T20:47:28"><th class="nick" style="background: #6acaca">moto-timo</th><td class="text" style="color: #6acaca">oh... no that's not how I wanted to use it</td><td class="time"><a href="#t2021-03-19T20:47:28" class="time">20:47</a></td></tr>
<tr id="t2021-03-19T20:47:30"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">It never recovered, so I had to re-image the cluster</td><td class="time"><a href="#t2021-03-19T20:47:30" class="time">20:47</a></td></tr>
<tr id="t2021-03-19T20:47:35"><th class="nick" style="background: #6acaca">moto-timo</th><td class="text" style="color: #6acaca">ugh</td><td class="time"><a href="#t2021-03-19T20:47:35" class="time">20:47</a></td></tr>
<tr id="t2021-03-19T20:47:52"><td class="action" colspan="2">* moto-timo feels slightly less panicked now</td><td><a href="#t2021-03-19T20:47:52" class="time">20:47</a></td></tr>
<tr id="t2021-03-19T20:48:37"><th class="nick" style="background: #6acaca">moto-timo</th><td class="text" style="color: #6acaca">I still need to expand the PDU drivers for labgrid and enable PXE boot</td><td class="time"><a href="#t2021-03-19T20:48:37" class="time">20:48</a></td></tr>
<tr id="t2021-03-19T20:48:54"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">you can do sstate over http to fetch and then push back through some other means post-build</td><td class="time"><a href="#t2021-03-19T20:48:54" class="time">20:48</a></td></tr>
<tr id="t2021-03-19T20:49:18"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">which removes the NFS aspect but give you bigger windows when stuff can get built twice as you don't push as often</td><td class="time"><a href="#t2021-03-19T20:49:18" class="time">20:49</a></td></tr>
<tr id="t2021-03-19T20:49:20"><th class="nick" style="background: #6acaca">moto-timo</th><td class="text" style="color: #6acaca">yeah... post build write is what I want to experiment with</td><td class="time"><a href="#t2021-03-19T20:49:20" class="time">20:49</a></td></tr>
<tr id="t2021-03-19T20:49:33"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">that's what paulbarker did</td><td class="time"><a href="#t2021-03-19T20:49:33" class="time">20:49</a></td></tr>
<tr id="t2021-03-19T20:49:35"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">We do that with rsync.... it's too slow IMHO</td><td class="time"><a href="#t2021-03-19T20:49:35" class="time">20:49</a></td></tr>
<tr id="t2021-03-19T20:49:54"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">backblaze, http to fetch and sync post-build with b2sync</td><td class="time"><a href="#t2021-03-19T20:49:54" class="time">20:49</a></td></tr>
<tr id="t2021-03-19T20:50:00"><th class="nick" style="background: #6acaca">moto-timo</th><td class="text" style="color: #6acaca">I figure if the options are &quot;might build twice&quot; or &quot;zero sstate&quot;, I'll take the first.</td><td class="time"><a href="#t2021-03-19T20:50:00" class="time">20:50</a></td></tr>
<tr id="t2021-03-19T20:50:22"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">for small clusters, i'm still happy with NFS for fast and shjared</td><td class="time"><a href="#t2021-03-19T20:50:22" class="time">20:50</a></td></tr>
<tr id="t2021-03-19T20:50:35"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">especially when i have someone i can say &quot;i want a NFS share&quot; to :)</td><td class="time"><a href="#t2021-03-19T20:50:35" class="time">20:50</a></td></tr>
<tr id="t2021-03-19T20:50:42"><th class="nick" style="background: #6acaca">moto-timo</th><td class="text" style="color: #6acaca">Konrad also commented on the slowness of rsync... instead suggested tarballs</td><td class="time"><a href="#t2021-03-19T20:50:42" class="time">20:50</a></td></tr>
<tr id="t2021-03-19T20:51:02"><td class="action" colspan="2">* moto-timo asks moto-timo for an NFS share</td><td><a href="#t2021-03-19T20:51:02" class="time">20:51</a></td></tr>
<tr id="t2021-03-19T20:51:05"><th class="nick" style="background: #6acaca">moto-timo</th><td class="text" style="color: #6acaca">nope</td><td class="time"><a href="#t2021-03-19T20:51:05" class="time">20:51</a></td></tr>
<tr id="t2021-03-19T20:51:10"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">shame</td><td class="time"><a href="#t2021-03-19T20:51:10" class="time">20:51</a></td></tr>
<tr id="t2021-03-19T20:51:20"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">you should have a word with moto-timo, he sounds like a lame admin</td><td class="time"><a href="#t2021-03-19T20:51:20" class="time">20:51</a></td></tr>
<tr id="t2021-03-19T20:51:21"><th class="nick" style="background: #6acaca">moto-timo</th><td class="text" style="color: #6acaca">it's friday and nearly beer-thirty</td><td class="time"><a href="#t2021-03-19T20:51:21" class="time">20:51</a></td></tr>
<tr id="t2021-03-19T20:51:43"><td class="action" colspan="2">* moto-timo is a lazy greedy curmudgeon sometimes</td><td><a href="#t2021-03-19T20:51:43" class="time">20:51</a></td></tr>
<tr id="t2021-03-19T20:51:57"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">moto-timo: What's the aversion to NFS?</td><td class="time"><a href="#t2021-03-19T20:51:57" class="time">20:51</a></td></tr>
<tr id="t2021-03-19T20:52:30"><th class="nick" style="background: #6acaca">moto-timo</th><td class="text" style="color: #6acaca">I've heard too many stories about brittleness and failures and weird slowdowns</td><td class="time"><a href="#t2021-03-19T20:52:30" class="time">20:52</a></td></tr>
<tr id="t2021-03-19T20:52:55"><th class="nick" style="background: #6acaca">moto-timo</th><td class="text" style="color: #6acaca">and it's old tech... feels like something should be better by now</td><td class="time"><a href="#t2021-03-19T20:52:55" class="time">20:52</a></td></tr>
<tr id="t2021-03-19T20:53:26"><th class="nick" style="background: #6acaca">moto-timo</th><td class="text" style="color: #6acaca">also... security folks have been very very &quot;NOPE&quot; about it</td><td class="time"><a href="#t2021-03-19T20:53:26" class="time">20:53</a></td></tr>
<tr id="t2021-03-19T20:53:27"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">Well.... you *do* know that if you use CEPH as a shared disk, it does so over NFS protocol :)</td><td class="time"><a href="#t2021-03-19T20:53:27" class="time">20:53</a></td></tr>
<tr id="t2021-03-19T20:53:31"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">ha!</td><td class="time"><a href="#t2021-03-19T20:53:31" class="time">20:53</a></td></tr>
<tr id="t2021-03-19T20:53:50"><th class="nick" style="background: #6acaca">moto-timo</th><td class="text" style="color: #6acaca">yeah... don't remind me.</td><td class="time"><a href="#t2021-03-19T20:53:50" class="time">20:53</a></td></tr>
<tr id="t2021-03-19T20:54:14"><th class="nick" style="background: #6acaca">moto-timo</th><td class="text" style="color: #6acaca">of course, the security folks' solution is FUSE ssh</td><td class="time"><a href="#t2021-03-19T20:54:14" class="time">20:54</a></td></tr>
<tr id="t2021-03-19T20:54:23"><td class="action" colspan="2">* JPEW belgh</td><td><a href="#t2021-03-19T20:54:23" class="time">20:54</a></td></tr>
<tr id="t2021-03-19T20:54:33"><td class="action" colspan="2">* moto-timo runs to find a bucket</td><td><a href="#t2021-03-19T20:54:33" class="time">20:54</a></td></tr>
<tr id="t2021-03-19T20:54:43"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">NFS4 is way better than NFS3</td><td class="time"><a href="#t2021-03-19T20:54:43" class="time">20:54</a></td></tr>
<tr id="t2021-03-19T20:55:08"><th class="nick" style="background: #6acaca">moto-timo</th><td class="text" style="color: #6acaca">So I've heard from multiple sources... so my data is old I think</td><td class="time"><a href="#t2021-03-19T20:55:08" class="time">20:55</a></td></tr>
<tr id="t2021-03-19T20:55:26"><td class="action" colspan="2">* JPEW Wrote an NFS4 server from scratch for an RTOS.... fun times!</td><td><a href="#t2021-03-19T20:55:26" class="time">20:55</a></td></tr>
<tr id="t2021-03-19T20:55:34"><th class="nick" style="background: #6acaca">moto-timo</th><td class="text" style="color: #6acaca">also, you can get very many Gbits over fiber these days</td><td class="time"><a href="#t2021-03-19T20:55:34" class="time">20:55</a></td></tr>
<tr id="t2021-03-19T20:55:49"><th class="nick" style="background: #6acaca">moto-timo</th><td class="text" style="color: #6acaca">JPEW is a madman</td><td class="time"><a href="#t2021-03-19T20:55:49" class="time">20:55</a></td></tr>
<tr id="t2021-03-19T20:56:27"><th class="nick" style="background: #6acaca">moto-timo</th><td class="text" style="color: #6acaca">rpi pcie is only 1x so you'd saturate it very easily with normal network</td><td class="time"><a href="#t2021-03-19T20:56:27" class="time">20:56</a></td></tr>
<tr id="t2021-03-19T20:56:53"><th class="nick" style="background: #6acaca">moto-timo</th><td class="text" style="color: #6acaca">but that might be &quot;fast enough&quot; for a home lab that cost less than a used car</td><td class="time"><a href="#t2021-03-19T20:56:53" class="time">20:56</a></td></tr>
<tr id="t2021-03-19T20:57:19"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">Right, I didn't really notice it being slow before I had 4GB LCAP links</td><td class="time"><a href="#t2021-03-19T20:57:19" class="time">20:57</a></td></tr>
<tr id="t2021-03-19T20:57:20"><th class="nick" style="background: #6acaca">moto-timo</th><td class="text" style="color: #6acaca">and doesn't need a nuclear reactor to power it</td><td class="time"><a href="#t2021-03-19T20:57:20" class="time">20:57</a></td></tr>
<tr id="t2021-03-19T20:57:27"><th class="nick" style="background: #6acaca">moto-timo</th><td class="text" style="color: #6acaca">lol</td><td class="time"><a href="#t2021-03-19T20:57:27" class="time">20:57</a></td></tr>
<tr id="t2021-03-19T20:57:48"><td class="action" colspan="2">* moto-timo dreams of 10Gbit backbone in the LAN</td><td><a href="#t2021-03-19T20:57:48" class="time">20:57</a></td></tr>
<tr id="t2021-03-19T20:58:03"><th class="nick" style="background: #6acaca">moto-timo</th><td class="text" style="color: #6acaca">stuff is starting to get affordable on eBay</td><td class="time"><a href="#t2021-03-19T20:58:03" class="time">20:58</a></td></tr>
<tr id="t2021-03-19T20:58:19"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">I bought a switch that can do 10Gbit... just need the NICs on my servers</td><td class="time"><a href="#t2021-03-19T20:58:19" class="time">20:58</a></td></tr>
<tr id="t2021-03-19T20:58:22"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">.... some day</td><td class="time"><a href="#t2021-03-19T20:58:22" class="time">20:58</a></td></tr>
<tr id="t2021-03-19T20:58:43"><th class="nick" style="background: #6acaca">moto-timo</th><td class="text" style="color: #6acaca">JPEW: there are some nics that are not expensive on eBay... take a look</td><td class="time"><a href="#t2021-03-19T20:58:43" class="time">20:58</a></td></tr>
<tr id="t2021-03-19T20:58:48"><th class="nick" style="background: #6acaca">moto-timo</th><td class="text" style="color: #6acaca">broadcom I think</td><td class="time"><a href="#t2021-03-19T20:58:48" class="time">20:58</a></td></tr>
<tr id="t2021-03-19T21:00:00"><th class="nick" style="background: #6acaca">moto-timo</th><td class="text" style="color: #6acaca">my problem is my mobos are old so the base throughput won't benefit</td><td class="time"><a href="#t2021-03-19T21:00:00" class="time">21:00</a></td></tr>
<tr id="t2021-03-19T21:00:22"><th class="nick" style="background: #6acaca">moto-timo</th><td class="text" style="color: #6acaca">not going to complain about the price I paid for the compute power though...</td><td class="time"><a href="#t2021-03-19T21:00:22" class="time">21:00</a></td></tr>
<tr id="t2021-03-19T21:02:15"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">moto-timo: Ditto... I found some pretty cheap Dell R610s</td><td class="time"><a href="#t2021-03-19T21:02:15" class="time">21:02</a></td></tr>
<tr id="t2021-03-19T21:13:34"><th class="nick" style="background: #ce6c6c">JaMa</th><td class="text" style="color: #ce6c6c">hmm python3 PACKAGECONFIG can no longer be used to disable gdbm (it worked fine in gatesgarth with 3.8) in master with 3.9 it fails with:</td><td class="time"><a href="#t2021-03-19T21:13:34" class="time">21:13</a></td></tr>
<tr id="t2021-03-19T21:13:37"><th class="nick" style="background: #ce6c6c">JaMa</th><td class="text" style="color: #ce6c6c">The necessary bits to build these optional modules were not found:</td><td class="time"><a href="#t2021-03-19T21:13:37" class="time">21:13</a></td></tr>
<tr id="t2021-03-19T21:13:40"><th class="nick" style="background: #ce6c6c">JaMa</th><td class="text" style="color: #ce6c6c">_dbm&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_gdbm</td><td class="time"><a href="#t2021-03-19T21:13:40" class="time">21:13</a></td></tr>
<tr id="t2021-03-19T21:14:20"><th class="nick" style="background: #6acaca">moto-timo</th><td class="text" style="color: #6acaca">hmmm</td><td class="time"><a href="#t2021-03-19T21:14:20" class="time">21:14</a></td></tr>
<tr id="t2021-03-19T21:14:32"><th class="nick" style="background: #6acaca">moto-timo</th><td class="text" style="color: #6acaca">just oe-core? can you file a bug?</td><td class="time"><a href="#t2021-03-19T21:14:32" class="time">21:14</a></td></tr>
<tr id="t2021-03-19T21:16:18"><th class="nick" style="background: #ce6c6c">JaMa</th><td class="text" style="color: #ce6c6c">yes, will debug a bit more and then send a fix or bug report</td><td class="time"><a href="#t2021-03-19T21:16:18" class="time">21:16</a></td></tr>
<tr id="t2021-03-19T21:21:19"><td class="nickchange" colspan="2">*** aidanh_ is now known as aidanh</td><td><a href="#t2021-03-19T21:21:19" class="time">21:21</a></td></tr>
<tr id="t2021-03-19T22:13:29"><td class="nickchange" colspan="2">*** psycor4m4 is now known as psycorama</td><td><a href="#t2021-03-19T22:13:29" class="time">22:13</a></td></tr>
<tr id="t2021-03-19T22:13:47"><td class="nickchange" colspan="2">*** fitzsim` is now known as fitzsim</td><td><a href="#t2021-03-19T22:13:47" class="time">22:13</a></td></tr>
<tr id="t2021-03-19T22:17:27"><th class="nick" style="background: #6ed16e">hackspider</th><td class="text" style="color: #6ed16e">Hi guys, is it wise to set the machine in the distro conf?</td><td class="time"><a href="#t2021-03-19T22:17:27" class="time">22:17</a></td></tr>
<tr id="t2021-03-19T22:29:57"><th class="nick" style="background: #8c4a4a">derRichard</th><td class="text" style="color: #8c4a4a">i'd not do it. actually i'm not even sure whether this is allowed</td><td class="time"><a href="#t2021-03-19T22:29:57" class="time">22:29</a></td></tr>
<tr id="t2021-03-19T22:30:25"><th class="nick" style="background: #8c4a4a">derRichard</th><td class="text" style="color: #8c4a4a">usually you have more than one machine</td><td class="time"><a href="#t2021-03-19T22:30:25" class="time">22:30</a></td></tr>
<tr id="t2021-03-19T23:00:27"><th class="nick" style="background: #6ed16e">hackspider</th><td class="text" style="color: #6ed16e">My setup is more like this: I've got a reference board with the most likely hardware config. For this hardware (machine) I've created a machine config for this. If a customer wants exactly this config he gets an own meta layer with an image recipe for his applications/sources. But if the customer needs a custom hardware with removed or added</td><td class="time"><a href="#t2021-03-19T23:00:27" class="time">23:00</a></td></tr>
<tr id="t2021-03-19T23:00:28"><th class="nick" style="background: #6ed16e">hackspider</th><td class="text" style="color: #6ed16e">peripheral he gets also an own machine config in his meta layer to adapt uboot/kernel/kernel_modules. Does this make sense so far?</td><td class="time"><a href="#t2021-03-19T23:00:28" class="time">23:00</a></td></tr>
<tr id="t2021-03-19T23:06:46"><th class="nick" style="background: #6ed16e">hackspider</th><td class="text" style="color: #6ed16e">What I then did was to create in the meta layer of the reference board a distro config where I defined what I needed in the distro (musl, systemd,etc.). But know I wonder where to set the machine config. Should I add a distro in all customer specific meta layers where I define the machine or should I add it to env variables with every build?</td><td class="time"><a href="#t2021-03-19T23:06:46" class="time">23:06</a></td></tr>
<tr id="t2021-03-19T23:17:32"><th class="nick" style="background: #62bb62">RobertBerger</th><td class="text" style="color: #62bb62">@hackspider: for your use case I would use MACHINEOVERRIDES</td><td class="time"><a href="#t2021-03-19T23:17:32" class="time">23:17</a></td></tr>
<tr id="t2021-03-19T23:25:09"><th class="nick" style="background: #8c4a4a">derRichard</th><td class="text" style="color: #8c4a4a">yes, sounds like a case for MACHINEOVERRIDES</td><td class="time"><a href="#t2021-03-19T23:25:09" class="time">23:25</a></td></tr>
<tr id="t2021-03-19T23:25:34"><th class="nick" style="background: #6ed16e">hackspider</th><td class="text" style="color: #6ed16e">I haven't known this variable yet, but this seems like the way to go. So I need a distro file in each customer layer with a require statement to the distro of the refernce distro so I can set the MACHINEOVERRIDES value? So basically each customer gets an &quot;own&quot; distro?</td><td class="time"><a href="#t2021-03-19T23:25:34" class="time">23:25</a></td></tr>
<tr id="t2021-03-19T23:29:18"><th class="nick" style="background: #62bb62">RobertBerger</th><td class="text" style="color: #62bb62">@hackspider - nope why in the distro?</td><td class="time"><a href="#t2021-03-19T23:29:18" class="time">23:29</a></td></tr>
<tr id="t2021-03-19T23:30:01"><th class="nick" style="background: #62bb62">RobertBerger</th><td class="text" style="color: #62bb62">@hackspider: you have a &quot;default&quot; machine config for all and whoever wants to make a change can extend it by an override. Let me try to find an example.</td><td class="time"><a href="#t2021-03-19T23:30:01" class="time">23:30</a></td></tr>
<tr id="t2021-03-19T23:30:42"><th class="nick" style="background: #62bb62">RobertBerger</th><td class="text" style="color: #62bb62"><a href="https://www.yoctoproject.org/pipermail/meta-xilinx/2017-August/003138.html" rel="nofollow">https://www.yoctoproject.org/pipermail/meta-xilinx/2017-August/003138.html</a></td><td class="time"><a href="#t2021-03-19T23:30:42" class="time">23:30</a></td></tr>
<tr id="t2021-03-19T23:31:16"><th class="nick" style="background: #62bb62">RobertBerger</th><td class="text" style="color: #62bb62">There he uses some eval board as the &quot;base&quot; and adds his own stuff in addition to it.</td><td class="time"><a href="#t2021-03-19T23:31:16" class="time">23:31</a></td></tr>
<tr id="t2021-03-19T23:35:08"><th class="nick" style="background: #6ed16e">hackspider</th><td class="text" style="color: #6ed16e">But where do I define the machine to use? Since something needs to point to the correct &lt;machine&gt;.conf</td><td class="time"><a href="#t2021-03-19T23:35:08" class="time">23:35</a></td></tr>
<tr id="t2021-03-19T23:38:02"><th class="nick" style="background: #6ed16e">hackspider</th><td class="text" style="color: #6ed16e">lets say in the meta-referencehardware layer I defined a &quot;referencehardware.conf&quot; and then in a customer layer lets say meta-customer I have a &quot;customhardware.conf&quot; machine file with a require statement to &quot;referencehardware.conf&quot;. But where do I specify to use &quot;referencehardware.conf&quot;</td><td class="time"><a href="#t2021-03-19T23:38:02" class="time">23:38</a></td></tr>
<tr id="t2021-03-19T23:46:04"><th class="nick" style="background: #62bb62">RobertBerger</th><td class="text" style="color: #62bb62">@hackspider: as usual in the machine.conf</td><td class="time"><a href="#t2021-03-19T23:46:04" class="time">23:46</a></td></tr>
<tr id="t2021-03-19T23:46:50"><th class="nick" style="background: #62bb62">RobertBerger</th><td class="text" style="color: #62bb62">MACHINEOVERRIDES .= &quot;:zc706-zynq7&quot; this adds to the list also zc706-zynq7</td><td class="time"><a href="#t2021-03-19T23:46:50" class="time">23:46</a></td></tr>
<tr id="t2021-03-19T23:47:30"><th class="nick" style="background: #62bb62">RobertBerger</th><td class="text" style="color: #62bb62">maybe you should also check how override lists work</td><td class="time"><a href="#t2021-03-19T23:47:30" class="time">23:47</a></td></tr>
<tr id="t2021-03-19T23:48:18"><th class="nick" style="background: #62bb62">RobertBerger</th><td class="text" style="color: #62bb62">bitbake busybox -e | grep ^OVERRIDES=</td><td class="time"><a href="#t2021-03-19T23:48:18" class="time">23:48</a></td></tr>
<tr id="t2021-03-19T23:48:49"><th class="nick" style="background: #62bb62">RobertBerger</th><td class="text" style="color: #62bb62">bitbake busybox -e | grep ^MACHINEOVERRIDES=</td><td class="time"><a href="#t2021-03-19T23:48:49" class="time">23:48</a></td></tr>
<tr id="t2021-03-19T23:49:37"><th class="nick" style="background: #62bb62">RobertBerger</th><td class="text" style="color: #62bb62">if you see the output of MACHINEOVERRIDES you could imagine like at the left it's more generic and at the right is more specific and further right overrides further left</td><td class="time"><a href="#t2021-03-19T23:49:37" class="time">23:49</a></td></tr>
<tr id="t2021-03-19T23:51:42"><th class="nick" style="background: #62bb62">RobertBerger</th><td class="text" style="color: #62bb62">BTW the machine to use you define in local.conf</td><td class="time"><a href="#t2021-03-19T23:51:42" class="time">23:51</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2021-03-18.log.html">&#171; Thursday, 2021-03-18</a> <a href="index.html">Index</a> <a href="%23yocto.2021-03-20.log.html">Saturday, 2021-03-20 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.17.2 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="https://mg.pov.lt/irclog2html/">https://mg.pov.lt/irclog2html/</a>!</p>
</div>
</body>
</html>
