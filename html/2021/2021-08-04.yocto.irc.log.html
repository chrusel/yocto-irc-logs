<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Wednesday, 2021-08-04</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.17.2 by Marius Gedminas" />
  <meta name="version" content="2.17.2 - 2019-04-23" />
</head>
<body>
<h1>Wednesday, 2021-08-04</h1>
<div class="navigation"> <a href="%23yocto.2021-08-03.log.html">&#171; Tuesday, 2021-08-03</a> <a href="index.html">Index</a> <a href="%23yocto.2021-08-05.log.html">Thursday, 2021-08-05 &#187;</a> </div>
<table class="irclog">
<tr id="t2021-08-04T01:30:37"><th class="nick" style="background: #407a40">vmeson</th><td class="text" style="color: #407a40">RP valgrind is working on fixes, I'll check on strace, elfutils tomorrow if no one gets there first.</td><td class="time"><a href="#t2021-08-04T01:30:37" class="time">01:30</a></td></tr>
<tr id="t2021-08-04T01:36:11"><th class="nick" style="background: #407a40">vmeson</th><td class="text" style="color: #407a40">actually valgrind has a few commits that aim to deal with glibc-2.34 already on master but not released yet</td><td class="time"><a href="#t2021-08-04T01:36:11" class="time">01:36</a></td></tr>
<tr id="t2021-08-04T01:40:26"><th class="nick" style="background: #407a40">vmeson</th><td class="text" style="color: #407a40">strace has a new releae: 5.13 that deals with some of the glibc-2.34 borkage so patch coming for that tomorrow/this week depending on how keen you are.</td><td class="time"><a href="#t2021-08-04T01:40:26" class="time">01:40</a></td></tr>
<tr id="t2021-08-04T03:37:09"><th class="nick" style="background: #42427e">override</th><td class="text" style="color: #42427e"><a href="https://github.com/intel/bmap-tools" rel="nofollow">https://github.com/intel/bmap-tools</a> gets installed as a command line tool, can someone help me understand how I run it in a python script by importing the bmaptools module (and using subprocess.run())</td><td class="time"><a href="#t2021-08-04T03:37:09" class="time">03:37</a></td></tr>
<tr id="t2021-08-04T03:37:25"><th class="nick" style="background: #42427e">override</th><td class="text" style="color: #42427e">let me know if that makes sense..</td><td class="time"><a href="#t2021-08-04T03:37:25" class="time">03:37</a></td></tr>
<tr id="t2021-08-04T04:24:35"><th class="nick" style="background: #818144">yates_work</th><td class="text" style="color: #818144">is there a default number of cores bitbake uses to process tasks?</td><td class="time"><a href="#t2021-08-04T04:24:35" class="time">04:24</a></td></tr>
<tr id="t2021-08-04T04:56:24"><th class="nick" style="background: #854685">mihai-</th><td class="text" style="color: #854685">yates_work: yes, all :)</td><td class="time"><a href="#t2021-08-04T04:56:24" class="time">04:56</a></td></tr>
<tr id="t2021-08-04T04:56:30"><td class="nickchange" colspan="2">*** mihai- is now known as mihai</td><td><a href="#t2021-08-04T04:56:30" class="time">04:56</a></td></tr>
<tr id="t2021-08-04T04:56:51"><th class="nick" style="background: #854685">mihai</th><td class="text" style="color: #854685">'morning</td><td class="time"><a href="#t2021-08-04T04:56:51" class="time">04:56</a></td></tr>
<tr id="t2021-08-04T07:44:08"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">michaelo: for bitbake-devel, I sent a diff on the ML as an answer to RP's original patch if that's what you were talking about? Or are you talking about yocto-docs?</td><td class="time"><a href="#t2021-08-04T07:44:08" class="time">07:44</a></td></tr>
<tr id="t2021-08-04T07:47:05"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">michaelo: <a href="https://lists.openembedded.org/g/bitbake-devel/message/12503" rel="nofollow">https://lists.openembedded.org/g/bitbake-devel/message/12503</a></td><td class="time"><a href="#t2021-08-04T07:47:05" class="time">07:47</a></td></tr>
<tr id="t2021-08-04T07:56:06"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">RP: ok this is SUPER confusing now that some are overrides and some not. I see that tlwoerner and you were talking about SRC_URI for example yesteday. What's the logic behind whether overrides are used or not?</td><td class="time"><a href="#t2021-08-04T07:56:06" class="time">07:56</a></td></tr>
<tr id="t2021-08-04T07:57:02"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">(but I guess it's going to be answered in some of the comments in the diff I sent by mail since this SRC_URI_%s SRC_URI:%s change I did was one for which I had my doubts :)</td><td class="time"><a href="#t2021-08-04T07:57:02" class="time">07:57</a></td></tr>
<tr id="t2021-08-04T08:15:40"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">yo dudX</td><td class="time"><a href="#t2021-08-04T08:15:40" class="time">08:15</a></td></tr>
<tr id="t2021-08-04T08:24:28"><th class="nick" style="background: #4b904b">florian</th><td class="text" style="color: #4b904b">hi all</td><td class="time"><a href="#t2021-08-04T08:24:28" class="time">08:24</a></td></tr>
<tr id="t2021-08-04T08:27:34"><th class="nick" style="background: #4d4d93">michaelo</th><td class="text" style="color: #4d4d93">qschulz: yes, I was talking about about yocto-docs :)</td><td class="time"><a href="#t2021-08-04T08:27:34" class="time">08:27</a></td></tr>
<tr id="t2021-08-04T08:51:39"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">michaelo: haven't started working on it. Did RP run his script on it (yocto-docs) by any chance so we don't have to start from scratch?</td><td class="time"><a href="#t2021-08-04T08:51:39" class="time">08:51</a></td></tr>
<tr id="t2021-08-04T08:55:40"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">qschulz: the script is in oe-core so anyone can run it. I did have a test run which I could share, or re-run it</td><td class="time"><a href="#t2021-08-04T08:55:40" class="time">08:55</a></td></tr>
<tr id="t2021-08-04T08:56:27"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">RP: no manual modification on top of that script run?</td><td class="time"><a href="#t2021-08-04T08:56:27" class="time">08:56</a></td></tr>
<tr id="t2021-08-04T08:58:36"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">michaelo: There are a few _&lt;something&gt; which aren't overrides and shouldn't use the new syntax (since they are not overrides). The thing is, I don't know when they are overrides and when they aren't :/</td><td class="time"><a href="#t2021-08-04T08:58:36" class="time">08:58</a></td></tr>
<tr id="t2021-08-04T08:59:03"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">So I'm not sure how to review docs patch or make them :/</td><td class="time"><a href="#t2021-08-04T08:59:03" class="time">08:59</a></td></tr>
<tr id="t2021-08-04T09:01:51"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">qschulz: I've not got to that, no</td><td class="time"><a href="#t2021-08-04T09:01:51" class="time">09:01</a></td></tr>
<tr id="t2021-08-04T09:02:15"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">qschulz: you could just mark those up and we could then check?</td><td class="time"><a href="#t2021-08-04T09:02:15" class="time">09:02</a></td></tr>
<tr id="t2021-08-04T09:30:34"><th class="nick" style="background: #4d4d93">michaelo</th><td class="text" style="color: #4d4d93">qschulz, RP: I have already run the script. That's easy but maybe you could send me a patch first (if you have time) to mark as comments the statements you're thinking about, before I run the script.</td><td class="time"><a href="#t2021-08-04T09:30:34" class="time">09:30</a></td></tr>
<tr id="t2021-08-04T09:33:17"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">We've discussedabout LAYERSERIES_COMPAT_&lt;layer-name&gt;, SRCREV_&lt;src-name&gt;, PREFERRED_VERSION_&lt;pn-name&gt;, IMAGE_TYPEDEP_&lt;img-type&gt;, etc...</td><td class="time"><a href="#t2021-08-04T09:33:17" class="time">09:33</a></td></tr>
<tr id="t2021-08-04T09:33:45"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">I won't probably send a patch first, so please go ahead :)</td><td class="time"><a href="#t2021-08-04T09:33:45" class="time">09:33</a></td></tr>
<tr id="t2021-08-04T09:36:19"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">michaelo: I guess the first step is to commit the output of the script first</td><td class="time"><a href="#t2021-08-04T09:36:19" class="time">09:36</a></td></tr>
<tr id="t2021-08-04T09:37:03"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">maybe we can share taskload by committing changes per file?</td><td class="time"><a href="#t2021-08-04T09:37:03" class="time">09:37</a></td></tr>
<tr id="t2021-08-04T09:37:13"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">using a contrib branch or something, I don't know</td><td class="time"><a href="#t2021-08-04T09:37:13" class="time">09:37</a></td></tr>
<tr id="t2021-08-04T09:39:09"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">also just so we're clear, I've just fixed a few issues in files modified by RP in his original patch for bitbake's doc but I haven't done a whole pass on the documentation to check if there's something he missed in some other files</td><td class="time"><a href="#t2021-08-04T09:39:09" class="time">09:39</a></td></tr>
<tr id="t2021-08-04T09:51:18"><th class="nick" style="background: #4d4d93">michaelo</th><td class="text" style="color: #4d4d93">qschulz: thanks, I'll do that.</td><td class="time"><a href="#t2021-08-04T09:51:18" class="time">09:51</a></td></tr>
<tr id="t2021-08-04T11:05:22"><th class="nick" style="background: #818144">yates_work</th><td class="text" style="color: #818144">mihai: truly? bitbake will auto-detect the number of cores and use them all?</td><td class="time"><a href="#t2021-08-04T11:05:22" class="time">11:05</a></td></tr>
<tr id="t2021-08-04T11:10:41"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">yates_work: yes, why wouldn't it?</td><td class="time"><a href="#t2021-08-04T11:10:41" class="time">11:10</a></td></tr>
<tr id="t2021-08-04T11:10:58"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">yates_work: you can override it (BB_NUMBER_THREADS and PARALLEL_MAKE)</td><td class="time"><a href="#t2021-08-04T11:10:58" class="time">11:10</a></td></tr>
<tr id="t2021-08-04T11:11:14"><th class="nick" style="background: #9b519b">jsandman</th><td class="text" style="color: #9b519b">Hi again. I am getting this error still: &quot;failed with exit code 'setscene whitelist'&quot; when building the extensible sdk for my target machine. I tried runing a plain core-image-minimal using MACHINE=qemuarm and it worked ok but when trying for my own MACHINE I always get that at random tasks. I tried removing al the sstate_cache dire but did not</td><td class="time"><a href="#t2021-08-04T11:11:14" class="time">11:11</a></td></tr>
<tr id="t2021-08-04T11:11:14-2"><th class="nick" style="background: #9b519b">jsandman</th><td class="text" style="color: #9b519b">work</td><td class="time"><a href="#t2021-08-04T11:11:14-2" class="time">11:11</a></td></tr>
<tr id="t2021-08-04T11:11:33"><th class="nick" style="background: #9b519b">jsandman</th><td class="text" style="color: #9b519b">I have no idea where to start looking for that error.</td><td class="time"><a href="#t2021-08-04T11:11:33" class="time">11:11</a></td></tr>
<tr id="t2021-08-04T11:12:35"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">jsandman: that error is a nightmare to debug :(</td><td class="time"><a href="#t2021-08-04T11:12:35" class="time">11:12</a></td></tr>
<tr id="t2021-08-04T11:12:38"><th class="nick" style="background: #818144">yates_work</th><td class="text" style="color: #818144">RP: i guess that's no great feat. i just feel like i must vette everything that passes the optic nerve into the brain...</td><td class="time"><a href="#t2021-08-04T11:12:38" class="time">11:12</a></td></tr>
<tr id="t2021-08-04T11:13:33"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">jsandman: it means that the computed hash in the eSDK isn't matching what it was originally locked down to during the earlier build. Sadly bitbake doesn't know why :/</td><td class="time"><a href="#t2021-08-04T11:13:33" class="time">11:13</a></td></tr>
<tr id="t2021-08-04T11:15:34"><th class="nick" style="background: #9b519b">jsandman</th><td class="text" style="color: #9b519b">RP Do yo have any ideas of what things I can try to solve it? Maybe running everything from scratch may help re-generating those hashes?</td><td class="time"><a href="#t2021-08-04T11:15:34" class="time">11:15</a></td></tr>
<tr id="t2021-08-04T11:18:55"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">jsandman: I kind of doubt that would help much. I'd try and get the sigdata files for the hashes that are changing and try and understand why they're changing. Something about the things the MACHINE is setting must not be entirely deterministic</td><td class="time"><a href="#t2021-08-04T11:18:55" class="time">11:18</a></td></tr>
<tr id="t2021-08-04T11:19:16"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">jsandman: when you build that machine normally in a build are there recipes which always rebuild?</td><td class="time"><a href="#t2021-08-04T11:19:16" class="time">11:19</a></td></tr>
<tr id="t2021-08-04T11:22:20"><th class="nick" style="background: #9b519b">jsandman</th><td class="text" style="color: #9b519b">RP No that I know of. I just tried with the image build and got &quot;Attempted 5007 tasks of which 5007 didn't need to be rerun and all succeeded.&quot; That is usually the case if nothing changes</td><td class="time"><a href="#t2021-08-04T11:22:20" class="time">11:22</a></td></tr>
<tr id="t2021-08-04T11:22:47"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">jsandman: right, it would have just been a much easier issue to debug if it were that</td><td class="time"><a href="#t2021-08-04T11:22:47" class="time">11:22</a></td></tr>
<tr id="t2021-08-04T11:23:22"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">jsandman: this issue with the eSDK really bugs me, I just wish I knew how to explain how to debug it in a sensible way :(</td><td class="time"><a href="#t2021-08-04T11:23:22" class="time">11:23</a></td></tr>
<tr id="t2021-08-04T11:25:30"><th class="nick" style="background: #9b519b">jsandman</th><td class="text" style="color: #9b519b">RP Yeah. Painful one. I have no idea where to start. I really appreciate any comment on this so thank you very much ;)</td><td class="time"><a href="#t2021-08-04T11:25:30" class="time">11:25</a></td></tr>
<tr id="t2021-08-04T11:29:13"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">jsandman: is it a public machine layer?</td><td class="time"><a href="#t2021-08-04T11:29:13" class="time">11:29</a></td></tr>
<tr id="t2021-08-04T11:30:20"><th class="nick" style="background: #9b519b">jsandman</th><td class="text" style="color: #9b519b">Nope. This Machine configuration is part of this closed layer :S</td><td class="time"><a href="#t2021-08-04T11:30:20" class="time">11:30</a></td></tr>
<tr id="t2021-08-04T11:35:50"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">jsandman: I have echos of a memory of leaving <a href="http://git.yoctoproject.org/cgit.cgi/poky/tree/bitbake/lib/bb/siggen.py#n226" rel="nofollow">http://git.yoctoproject.org/cgit.cgi/poky/tree/bitbake/lib/bb/siggen.py#n226</a> in there as it was useful for some of these cases</td><td class="time"><a href="#t2021-08-04T11:35:50" class="time">11:35</a></td></tr>
<tr id="t2021-08-04T11:36:20"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">jsandman: I think if you enable that, the stamps dir should have basehash info in it and if it is the basehash component of the hash that varies, that would help</td><td class="time"><a href="#t2021-08-04T11:36:20" class="time">11:36</a></td></tr>
<tr id="t2021-08-04T11:36:37"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">you'd have to figure out where the stamps dir esdk was using was</td><td class="time"><a href="#t2021-08-04T11:36:37" class="time">11:36</a></td></tr>
<tr id="t2021-08-04T11:36:44"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">and compare to your main stamps dir</td><td class="time"><a href="#t2021-08-04T11:36:44" class="time">11:36</a></td></tr>
<tr id="t2021-08-04T11:37:08"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">jsandman: what I can't tell is whether your base hashes are varying or whether it is the second task components that vary</td><td class="time"><a href="#t2021-08-04T11:37:08" class="time">11:37</a></td></tr>
<tr id="t2021-08-04T11:45:29"><th class="nick" style="background: #9b519b">jsandman</th><td class="text" style="color: #9b519b">Ah great. That seems helpfull. I'll try to play with that and see if I can gather some info. How am I supposed to enable that code?</td><td class="time"><a href="#t2021-08-04T11:45:29" class="time">11:45</a></td></tr>
<tr id="t2021-08-04T11:46:58"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">jsandman: uncomment it</td><td class="time"><a href="#t2021-08-04T11:46:58" class="time">11:46</a></td></tr>
<tr id="t2021-08-04T11:47:30"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">jsandman: trying to improve this is something I've wanted to do for a long time</td><td class="time"><a href="#t2021-08-04T11:47:30" class="time">11:47</a></td></tr>
<tr id="t2021-08-04T11:55:59"><th class="nick" style="background: #9b519b">jsandman</th><td class="text" style="color: #9b519b">Ah ok. Sorry I missed the line bit :D</td><td class="time"><a href="#t2021-08-04T11:55:59" class="time">11:55</a></td></tr>
<tr id="t2021-08-04T11:56:25"><th class="nick" style="background: #539e9e">wyre</th><td class="text" style="color: #539e9e">hi guys, I'm following this answer <a href="https://stackoverflow.com/a/37366507/6723042" rel="nofollow">https://stackoverflow.com/a/37366507/6723042</a> to make a custom device tree, I'm following the Option two: Manual, the problem right now is that bitbake cannot generate the wic image because it cannot stat my custom .dtb file, maybe I need to add the .dts file to the Makefile like in here <a href="https://stackoverflow.com/a/61618880/6723042" rel="nofollow">https://stackoverflow.com/a/61618880/6723042</a></td><td class="time"><a href="#t2021-08-04T11:56:25" class="time">11:56</a></td></tr>
<tr id="t2021-08-04T11:56:27"><th class="nick" style="background: #539e9e">wyre</th><td class="text" style="color: #539e9e">is this right?</td><td class="time"><a href="#t2021-08-04T11:56:27" class="time">11:56</a></td></tr>
<tr id="t2021-08-04T11:58:01"><th class="nick" style="background: #539e9e">wyre</th><td class="text" style="color: #539e9e">i.e. do I need to patch the Makefile?</td><td class="time"><a href="#t2021-08-04T11:58:01" class="time">11:58</a></td></tr>
<tr id="t2021-08-04T11:58:13"><th class="nick" style="background: #9b519b">jsandman</th><td class="text" style="color: #9b519b">RP Thank you! I'll be trying that and I'll come back with what I see.</td><td class="time"><a href="#t2021-08-04T11:58:13" class="time">11:58</a></td></tr>
<tr id="t2021-08-04T11:59:50"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">wyre: yes</td><td class="time"><a href="#t2021-08-04T11:59:50" class="time">11:59</a></td></tr>
<tr id="t2021-08-04T12:06:04"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">hmm, I think I may have figured out how to make devupstream work with native recipes. rburton might like that</td><td class="time"><a href="#t2021-08-04T12:06:04" class="time">12:06</a></td></tr>
<tr id="t2021-08-04T12:11:47"><th class="nick" style="background: #539e9e">wyre</th><td class="text" style="color: #539e9e">qschulz, where should I place the patch file? <a href="https://bpa.st/UOMA" rel="nofollow">https://bpa.st/UOMA</a> apparently I could place into linux/linux-engicam/ because this dir has prepended to FILESEXTRAPATHS, right?</td><td class="time"><a href="#t2021-08-04T12:11:47" class="time">12:11</a></td></tr>
<tr id="t2021-08-04T12:15:24"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">wyre: yes</td><td class="time"><a href="#t2021-08-04T12:15:24" class="time">12:15</a></td></tr>
<tr id="t2021-08-04T12:26:39"><th class="nick" style="background: #a25555">JaMa</th><td class="text" style="color: #a25555">RP: I see your IMAGE_TYPEDEP in master-next, thanks, next var should probably be CONVERSION_CMD to match with IMAGE_CMD behavior</td><td class="time"><a href="#t2021-08-04T12:26:39" class="time">12:26</a></td></tr>
<tr id="t2021-08-04T12:29:44"><th class="nick" style="background: #a25555">JaMa</th><td class="text" style="color: #a25555">RP: and there is a missing quote in master-next branch in imagevars = [&quot;IMAGE_CMD&quot;, &quot;EXTRA_IMAGECMD&quot;, IMAGE_TYPEDEP&quot;]</td><td class="time"><a href="#t2021-08-04T12:29:44" class="time">12:29</a></td></tr>
<tr id="t2021-08-04T12:44:18"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">JaMa: will fix, thanks</td><td class="time"><a href="#t2021-08-04T12:44:18" class="time">12:44</a></td></tr>
<tr id="t2021-08-04T12:50:10"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">JaMa: and then COMPRESS_CMD. I'll do those as well</td><td class="time"><a href="#t2021-08-04T12:50:10" class="time">12:50</a></td></tr>
<tr id="t2021-08-04T12:50:19"><th class="nick" style="background: #a25555">JaMa</th><td class="text" style="color: #a25555">RP: found another maybe interesting case, VIRTUAL-RUNTIME_com.webos.service.flowmanager_armv4 isn't replaced because of dots before the override, will adjust the script for meta-webosose where I see many cases like this, then re-run it on oe-core/meta-oe to see how common it is</td><td class="time"><a href="#t2021-08-04T12:50:19" class="time">12:50</a></td></tr>
<tr id="t2021-08-04T12:50:49"><th class="nick" style="background: #539e9e">wyre</th><td class="text" style="color: #539e9e">qschulz, apparently it's not patching the Makefile <a href="https://bpa.st/2SAQ" rel="nofollow">https://bpa.st/2SAQ</a> despite the file is fetched <a href="https://bpa.st/4RPA" rel="nofollow">https://bpa.st/4RPA</a></td><td class="time"><a href="#t2021-08-04T12:50:49" class="time">12:50</a></td></tr>
<tr id="t2021-08-04T12:50:52"><th class="nick" style="background: #539e9e">wyre</th><td class="text" style="color: #539e9e">why is this?</td><td class="time"><a href="#t2021-08-04T12:50:52" class="time">12:50</a></td></tr>
<tr id="t2021-08-04T12:58:23"><th class="nick" style="background: #539e9e">wyre</th><td class="text" style="color: #539e9e">oh, the problem was I was appending .dts instead .dtb to KERNEL_DEVICETREE var 😁</td><td class="time"><a href="#t2021-08-04T12:58:23" class="time">12:58</a></td></tr>
<tr id="t2021-08-04T13:00:44"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">JaMa: ah, interesting. I didn't know dots worked in variable names :/</td><td class="time"><a href="#t2021-08-04T13:00:44" class="time">13:00</a></td></tr>
<tr id="t2021-08-04T13:00:57"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">JaMa: I've sent a patch for CONVERSION_CMD and dropping COMPRESS_CMD</td><td class="time"><a href="#t2021-08-04T13:00:57" class="time">13:00</a></td></tr>
<tr id="t2021-08-04T13:10:43"><th class="nick" style="background: #a25555">JaMa</th><td class="text" style="color: #a25555">RP: thanks</td><td class="time"><a href="#t2021-08-04T13:10:43" class="time">13:10</a></td></tr>
<tr id="t2021-08-04T13:13:14"><th class="nick" style="background: #a25555">JaMa</th><td class="text" style="color: #a25555">RP: the dot might be also in package name, I've just noticed it in RDEPENDS:gstreamer1.0-meta-base:remove as well</td><td class="time"><a href="#t2021-08-04T13:13:14" class="time">13:13</a></td></tr>
<tr id="t2021-08-04T13:13:42"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">JaMa: ah, right, that will be why we support it</td><td class="time"><a href="#t2021-08-04T13:13:42" class="time">13:13</a></td></tr>
<tr id="t2021-08-04T13:31:48"><th class="nick" style="background: #57a657">rpcme</th><td class="text" style="color: #57a657">Is layercheck broken on master?&nbsp;&nbsp;It's weird that I'm getting an error 2 but nothing in the log itself shows there's an actual issue- maybe the commandline for layercheck is not correct but &quot;it was working&quot; before <a href="https://gist.github.com/rpcme/299249de4eb71295323a17ef4851e4ba" rel="nofollow">https://gist.github.com/rpcme/299249de4eb71295323a17ef4851e4ba</a></td><td class="time"><a href="#t2021-08-04T13:31:48" class="time">13:31</a></td></tr>
<tr id="t2021-08-04T13:34:47"><th class="nick" style="background: #57a657">rpcme</th><td class="text" style="color: #57a657">Perhaps it is buried in the log somewhere. I'm running it thru an automated build system so if I can repro local that might help</td><td class="time"><a href="#t2021-08-04T13:34:47" class="time">13:34</a></td></tr>
<tr id="t2021-08-04T13:37:16"><th class="nick" style="background: #5959a9">Alban[m]</th><td class="text" style="color: #5959a9">Is there some guidelines / best practices on how to choose a layer priority?</td><td class="time"><a href="#t2021-08-04T13:37:16" class="time">13:37</a></td></tr>
<tr id="t2021-08-04T13:38:56"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">Alban[m]: best practise: don't use priorities :)</td><td class="time"><a href="#t2021-08-04T13:38:56" class="time">13:38</a></td></tr>
<tr id="t2021-08-04T13:39:31"><th class="nick" style="background: #5959a9">Alban[m]</th><td class="text" style="color: #5959a9">But openembedded-core and most layers define one</td><td class="time"><a href="#t2021-08-04T13:39:31" class="time">13:39</a></td></tr>
<tr id="t2021-08-04T13:40:24"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">Alban[m]: and bitbake-layers create-layer will also set one for your newly created layer. but if you rely on the priorities for some dirty trick to work, it's... a not-best practise.</td><td class="time"><a href="#t2021-08-04T13:40:24" class="time">13:40</a></td></tr>
<tr id="t2021-08-04T13:40:36"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">hence, just leave as-is.</td><td class="time"><a href="#t2021-08-04T13:40:36" class="time">13:40</a></td></tr>
<tr id="t2021-08-04T13:41:33"><th class="nick" style="background: #5959a9">Alban[m]</th><td class="text" style="color: #5959a9">But if I override a file provided in one layer in another one the priority select the file used, or is that already a &quot;dirty trick&quot;?</td><td class="time"><a href="#t2021-08-04T13:41:33" class="time">13:41</a></td></tr>
<tr id="t2021-08-04T13:42:32"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">i think the standard values from poky/oe-core and layer creation will have that covered?</td><td class="time"><a href="#t2021-08-04T13:42:32" class="time">13:42</a></td></tr>
<tr id="t2021-08-04T13:43:35"><th class="nick" style="background: #5959a9">Alban[m]</th><td class="text" style="color: #5959a9">so you mean that it is recommended to always use the default value, but what is the default value?</td><td class="time"><a href="#t2021-08-04T13:43:35" class="time">13:43</a></td></tr>
<tr id="t2021-08-04T13:44:44"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">not &quot;always&quot; by defintion, but &quot;stick to it until a different need actually arises&quot;</td><td class="time"><a href="#t2021-08-04T13:44:44" class="time">13:44</a></td></tr>
<tr id="t2021-08-04T13:44:58"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">a current generated layer.conf looks like this. <a href="https://github.com/TheYoctoJester/meta-platinum/blob/master/conf/layer.conf" rel="nofollow">https://github.com/TheYoctoJester/meta-platinum/blob/master/conf/layer.conf</a></td><td class="time"><a href="#t2021-08-04T13:44:58" class="time">13:44</a></td></tr>
<tr id="t2021-08-04T13:45:14"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">Alban[m]: depends of the order in FILESEXTRAPATHS and the name of your directory and subdirectory where your file resides</td><td class="time"><a href="#t2021-08-04T13:45:14" class="time">13:45</a></td></tr>
<tr id="t2021-08-04T13:46:32"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">but yes, that could be a reason for a higher priority</td><td class="time"><a href="#t2021-08-04T13:46:32" class="time">13:46</a></td></tr>
<tr id="t2021-08-04T13:47:06"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">though there are other ways to do it, use overrides or a &quot;stronger&quot; override for example</td><td class="time"><a href="#t2021-08-04T13:47:06" class="time">13:47</a></td></tr>
<tr id="t2021-08-04T13:47:57"><th class="nick" style="background: #5959a9">Alban[m]</th><td class="text" style="color: #5959a9">right, i got confused here. What I'm hitting currently is that I need to backport psplash from dunfell to zeus. I have a layer I use for backporting but both recipe have the same version, just different revision, so here only the priority is useful.</td><td class="time"><a href="#t2021-08-04T13:47:57" class="time">13:47</a></td></tr>
<tr id="t2021-08-04T13:51:37"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">Alban[m]: PREFERRED_VERSION_psplash in one of the configuration file ;)</td><td class="time"><a href="#t2021-08-04T13:51:37" class="time">13:51</a></td></tr>
<tr id="t2021-08-04T13:51:41"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">+s</td><td class="time"><a href="#t2021-08-04T13:51:41" class="time">13:51</a></td></tr>
<tr id="t2021-08-04T13:52:55"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">rpcme: I suspect it was the new dependencies change</td><td class="time"><a href="#t2021-08-04T13:52:55" class="time">13:52</a></td></tr>
<tr id="t2021-08-04T13:53:39"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">rpcme: <a href="http://git.yoctoproject.org/cgit.cgi/poky/commit/scripts?id=356137bcf23eabaacbefddf265edb638e0f3fe1d" rel="nofollow">http://git.yoctoproject.org/cgit.cgi/poky/commit/scripts?id=356137bcf23eabaacbefddf265edb638e0f3fe1d</a></td><td class="time"><a href="#t2021-08-04T13:53:39" class="time">13:53</a></td></tr>
<tr id="t2021-08-04T13:55:26"><th class="nick" style="background: #57a657">rpcme</th><td class="text" style="color: #57a657">RP: thank you - will look to tweak the command line.</td><td class="time"><a href="#t2021-08-04T13:55:26" class="time">13:55</a></td></tr>
<tr id="t2021-08-04T13:57:14"><th class="nick" style="background: #5959a9">Alban[m]</th><td class="text" style="color: #5959a9">qschulz: That would also be a solution, although I would prefer a more generic one. I'm just surprised that the layer priorities don't seems to be clearly defined or documented.</td><td class="time"><a href="#t2021-08-04T13:57:14" class="time">13:57</a></td></tr>
<tr id="t2021-08-04T13:58:28"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">Alban[m]: <a href="https://docs.yoctoproject.org/bitbake/bitbake-user-manual/bitbake-user-manual-ref-variables.html#term-BBFILE_PRIORITY" rel="nofollow">https://docs.yoctoproject.org/bitbake/bitbake-user-manual/bitbake-user-manual-ref-variables.html#term-BBFILE_PRIORITY</a></td><td class="time"><a href="#t2021-08-04T13:58:28" class="time">13:58</a></td></tr>
<tr id="t2021-08-04T13:59:00"><th class="nick" style="background: #5959a9">Alban[m]</th><td class="text" style="color: #5959a9">@qs</td><td class="time"><a href="#t2021-08-04T13:59:00" class="time">13:59</a></td></tr>
<tr id="t2021-08-04T13:59:01"><th class="nick" style="background: #539e9e">wyre</th><td class="text" style="color: #539e9e">qschulz, I've removed this part <a href="https://github.com/engicam-stable/linux-engicam-nxp/blob/5.4.70/arch/arm/boot/dts/imx6ull-microgea-microdev.dts#L77-L117" rel="nofollow">https://github.com/engicam-stable/linux-engicam-nxp/blob/5.4.70/arch/arm/boot/dts/imx6ull-microgea-microdev.dts#L77-L117</a> in a new custom dts file (called imx6ull-joifi.dts, as you have seen in previous links I pasted) and bitbake is building it and producing its corresponding dtb file, but when I flash and boot the system ... the gpios are still requested 😞</td><td class="time"><a href="#t2021-08-04T13:59:01" class="time">13:59</a></td></tr>
<tr id="t2021-08-04T13:59:05"><th class="nick" style="background: #539e9e">wyre</th><td class="text" style="color: #539e9e">why do you think is this?</td><td class="time"><a href="#t2021-08-04T13:59:05" class="time">13:59</a></td></tr>
<tr id="t2021-08-04T13:59:19"><th class="nick" style="background: #5959a9">Alban[m]</th><td class="text" style="color: #5959a9">qschulz: I mean regarding the values to use, not what it does</td><td class="time"><a href="#t2021-08-04T13:59:19" class="time">13:59</a></td></tr>
<tr id="t2021-08-04T13:59:30"><th class="nick" style="background: #539e9e">wyre</th><td class="text" style="color: #539e9e">maybe is not enough just removing the gpio_export node 🤔</td><td class="time"><a href="#t2021-08-04T13:59:30" class="time">13:59</a></td></tr>
<tr id="t2021-08-04T14:00:23"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">Alban[m]: it's an integer so not sure to understand the question?</td><td class="time"><a href="#t2021-08-04T14:00:23" class="time">14:00</a></td></tr>
<tr id="t2021-08-04T14:00:48"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">wyre: very likely that you're still booting the old device tree</td><td class="time"><a href="#t2021-08-04T14:00:48" class="time">14:00</a></td></tr>
<tr id="t2021-08-04T14:01:00"><th class="nick" style="background: #5959a9">Alban[m]</th><td class="text" style="color: #5959a9">why has oe-core 5., what would be the recommended value for a bsp layer, for a distr layer, and so on</td><td class="time"><a href="#t2021-08-04T14:01:00" class="time">14:01</a></td></tr>
<tr id="t2021-08-04T14:01:03"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">you'll need to do modifications in your u-boot logic to boot the correct one</td><td class="time"><a href="#t2021-08-04T14:01:03" class="time">14:01</a></td></tr>
<tr id="t2021-08-04T14:01:44"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">Alban[m]: i would say &quot;usually the lowest possible&quot;, but... it depends.</td><td class="time"><a href="#t2021-08-04T14:01:44" class="time">14:01</a></td></tr>
<tr id="t2021-08-04T14:02:16"><th class="nick" style="background: #5959a9">Alban[m]</th><td class="text" style="color: #5959a9">depends on what?</td><td class="time"><a href="#t2021-08-04T14:02:16" class="time">14:02</a></td></tr>
<tr id="t2021-08-04T14:02:21"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">Alban[m]: but then, thats what i meant by: if you rely on the priorities to make your build work, you're in trouble anyways.</td><td class="time"><a href="#t2021-08-04T14:02:21" class="time">14:02</a></td></tr>
<tr id="t2021-08-04T14:02:30"><th class="nick" style="background: #539e9e">wyre</th><td class="text" style="color: #539e9e">qschulz, I've flashed the NAND with the new dtb so ... could be the old device tree being loaded?</td><td class="time"><a href="#t2021-08-04T14:02:30" class="time">14:02</a></td></tr>
<tr id="t2021-08-04T14:02:30-2"><th class="nick" style="background: #5959a9">Alban[m]</th><td class="text" style="color: #5959a9">why?</td><td class="time"><a href="#t2021-08-04T14:02:30-2" class="time">14:02</a></td></tr>
<tr id="t2021-08-04T14:02:32"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">Alban[m]: first and foremost, on your layer stack.</td><td class="time"><a href="#t2021-08-04T14:02:32" class="time">14:02</a></td></tr>
<tr id="t2021-08-04T14:03:08"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">Alban[m]: because a) layers are meant to be shared and reused b) your way of using a layer might be different from somebody elses.</td><td class="time"><a href="#t2021-08-04T14:03:08" class="time">14:03</a></td></tr>
<tr id="t2021-08-04T14:03:28"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">wyre: cat /proc/device-tree/* to check the device tree being used</td><td class="time"><a href="#t2021-08-04T14:03:28" class="time">14:03</a></td></tr>
<tr id="t2021-08-04T14:03:45"><th class="nick" style="background: #539e9e">wyre</th><td class="text" style="color: #539e9e">yes, sorry, it was my fault</td><td class="time"><a href="#t2021-08-04T14:03:45" class="time">14:03</a></td></tr>
<tr id="t2021-08-04T14:03:46"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">not directly this command but files in those dirs/subdirs</td><td class="time"><a href="#t2021-08-04T14:03:46" class="time">14:03</a></td></tr>
<tr id="t2021-08-04T14:03:58"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">so if you're imposing a hard rule on the priority structure, for example &quot;middleware takes precedence over BSP&quot;, then you define that one use case is better than the other.</td><td class="time"><a href="#t2021-08-04T14:03:58" class="time">14:03</a></td></tr>
<tr id="t2021-08-04T14:04:04"><th class="nick" style="background: #539e9e">wyre</th><td class="text" style="color: #539e9e">I was pasting the normal dtb as imx6ull-joifi.dtb in the tftp</td><td class="time"><a href="#t2021-08-04T14:04:04" class="time">14:04</a></td></tr>
<tr id="t2021-08-04T14:04:13"><th class="nick" style="background: #539e9e">wyre</th><td class="text" style="color: #539e9e">so sure, I was flashing again the very same 😥</td><td class="time"><a href="#t2021-08-04T14:04:13" class="time">14:04</a></td></tr>
<tr id="t2021-08-04T14:04:14"><th class="nick" style="background: #5959a9">Alban[m]</th><td class="text" style="color: #5959a9">LetoThe2nd: let say I have a backport layer, shouldn't it make sure that its recipes override the ones from oe-core?</td><td class="time"><a href="#t2021-08-04T14:04:14" class="time">14:04</a></td></tr>
<tr id="t2021-08-04T14:04:55"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">Alban[m]: and if you stick to the defaults, it will have right from the start, or did i get that wrong?</td><td class="time"><a href="#t2021-08-04T14:04:55" class="time">14:04</a></td></tr>
<tr id="t2021-08-04T14:05:35"><th class="nick" style="background: #5959a9">Alban[m]</th><td class="text" style="color: #5959a9">well some recipes, like psplash, didn't increased their version between oe-core releases</td><td class="time"><a href="#t2021-08-04T14:05:35" class="time">14:05</a></td></tr>
<tr id="t2021-08-04T14:06:11"><th class="nick" style="background: #5959a9">Alban[m]</th><td class="text" style="color: #5959a9">so which version is taken depend on the lexical order of git git revision, so it is basically random</td><td class="time"><a href="#t2021-08-04T14:06:11" class="time">14:06</a></td></tr>
<tr id="t2021-08-04T14:06:41"><th class="nick" style="background: #539e9e">wyre</th><td class="text" style="color: #539e9e">now its working qschulz 😁</td><td class="time"><a href="#t2021-08-04T14:06:41" class="time">14:06</a></td></tr>
<tr id="t2021-08-04T14:06:48"><th class="nick" style="background: #539e9e">wyre</th><td class="text" style="color: #539e9e">thank you</td><td class="time"><a href="#t2021-08-04T14:06:48" class="time">14:06</a></td></tr>
<tr id="t2021-08-04T14:07:13"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">Alban[m]: what is the difference then? because then a) theres either a bug (internal version change without recipe version bump) or b) backporting an unchanged version doesn't make much sense to me.</td><td class="time"><a href="#t2021-08-04T14:07:13" class="time">14:07</a></td></tr>
<tr id="t2021-08-04T14:08:27"><th class="nick" style="background: #5959a9">Alban[m]</th><td class="text" style="color: #5959a9">dunfell has version&nbsp;&nbsp;0.1+gitAUTOINC+0a902f7cd8 and zeus has 0.1+gitAUTOINC+2015f7073e</td><td class="time"><a href="#t2021-08-04T14:08:27" class="time">14:08</a></td></tr>
<tr id="t2021-08-04T14:08:39"><th class="nick" style="background: #5959a9">Alban[m]</th><td class="text" style="color: #5959a9">so on version compare the zeus version win, although it is older</td><td class="time"><a href="#t2021-08-04T14:08:39" class="time">14:08</a></td></tr>
<tr id="t2021-08-04T14:08:57"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">Alban[m]: and what is the PR, respectively?</td><td class="time"><a href="#t2021-08-04T14:08:57" class="time">14:08</a></td></tr>
<tr id="t2021-08-04T14:09:01"><th class="nick" style="background: #539e9e">wyre</th><td class="text" style="color: #539e9e">what are those fixed regulators for? 🤔</td><td class="time"><a href="#t2021-08-04T14:09:01" class="time">14:09</a></td></tr>
<tr id="t2021-08-04T14:09:20"><th class="nick" style="background: #539e9e">wyre</th><td class="text" style="color: #539e9e">I'm wondering if I could remove them also</td><td class="time"><a href="#t2021-08-04T14:09:20" class="time">14:09</a></td></tr>
<tr id="t2021-08-04T14:09:24"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">Alban[m]: not random, depends on BBFILE_PRIORITY and the order in which the layers are listed in global BBLAYERS in bblayers.conf</td><td class="time"><a href="#t2021-08-04T14:09:24" class="time">14:09</a></td></tr>
<tr id="t2021-08-04T14:09:37"><th class="nick" style="background: #5959a9">Alban[m]</th><td class="text" style="color: #5959a9">both have r15</td><td class="time"><a href="#t2021-08-04T14:09:37" class="time">14:09</a></td></tr>
<tr id="t2021-08-04T14:09:59"><th class="nick" style="background: #5959a9">Alban[m]</th><td class="text" style="color: #5959a9">random if both layer have the same priority</td><td class="time"><a href="#t2021-08-04T14:09:59" class="time">14:09</a></td></tr>
<tr id="t2021-08-04T14:10:06"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">wyre: regulators are for power, so you might disable power for some things if you do it. Sometimes (often) they are required</td><td class="time"><a href="#t2021-08-04T14:10:06" class="time">14:10</a></td></tr>
<tr id="t2021-08-04T14:10:11"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">Alban[m]: but in that case i would call that a bug: the recipe has been modified, but no PR increase.</td><td class="time"><a href="#t2021-08-04T14:10:11" class="time">14:10</a></td></tr>
<tr id="t2021-08-04T14:10:20"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">Alban[m]: no, then it depends of the order in BBLAYERS</td><td class="time"><a href="#t2021-08-04T14:10:20" class="time">14:10</a></td></tr>
<tr id="t2021-08-04T14:10:54"><th class="nick" style="background: #5959a9">Alban[m]</th><td class="text" style="color: #5959a9">random because the git revision hash is basically random</td><td class="time"><a href="#t2021-08-04T14:10:54" class="time">14:10</a></td></tr>
<tr id="t2021-08-04T14:10:54-2"><th class="nick" style="background: #539e9e">wyre</th><td class="text" style="color: #539e9e">qschulz, you mean for internal things in the SoM? or in the carrier?</td><td class="time"><a href="#t2021-08-04T14:10:54-2" class="time">14:10</a></td></tr>
<tr id="t2021-08-04T14:11:00"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">wyre: both</td><td class="time"><a href="#t2021-08-04T14:11:00" class="time">14:11</a></td></tr>
<tr id="t2021-08-04T14:11:03"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">hah well ok, git is injected into PV then... problematic.</td><td class="time"><a href="#t2021-08-04T14:11:03" class="time">14:11</a></td></tr>
<tr id="t2021-08-04T14:12:41"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">i might be wrong, but technically i would call the recipe buggy.</td><td class="time"><a href="#t2021-08-04T14:12:41" class="time">14:12</a></td></tr>
<tr id="t2021-08-04T14:15:55"><th class="nick" style="background: #5959a9">Alban[m]</th><td class="text" style="color: #5959a9">it looks like many recipe in oe-core are doing exaclty this</td><td class="time"><a href="#t2021-08-04T14:15:55" class="time">14:15</a></td></tr>
<tr id="t2021-08-04T14:16:22"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">Alban[m]: in the final packages, AUTOINC should become a number which is increased by the PR server</td><td class="time"><a href="#t2021-08-04T14:16:22" class="time">14:16</a></td></tr>
<tr id="t2021-08-04T14:17:11"><th class="nick" style="background: #5959a9">Alban[m]</th><td class="text" style="color: #5959a9">does that help if the wrong recipe is parsed?</td><td class="time"><a href="#t2021-08-04T14:17:11" class="time">14:17</a></td></tr>
<tr id="t2021-08-04T14:17:12"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">RP: but if PR isn't being incremented, then?</td><td class="time"><a href="#t2021-08-04T14:17:12" class="time">14:17</a></td></tr>
<tr id="t2021-08-04T14:17:29"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">LetoThe2nd: is the PR server enabled?</td><td class="time"><a href="#t2021-08-04T14:17:29" class="time">14:17</a></td></tr>
<tr id="t2021-08-04T14:18:17"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">RP: can that be assumed as given for any build based on oe-core?</td><td class="time"><a href="#t2021-08-04T14:18:17" class="time">14:18</a></td></tr>
<tr id="t2021-08-04T14:18:36"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">LetoThe2nd: I don't think we default to that being on by default any more</td><td class="time"><a href="#t2021-08-04T14:18:36" class="time">14:18</a></td></tr>
<tr id="t2021-08-04T14:19:09"><th class="nick" style="background: #5959a9">Alban[m]</th><td class="text" style="color: #5959a9">but wouldn't it need to build both version to then select the correct one?</td><td class="time"><a href="#t2021-08-04T14:19:09" class="time">14:19</a></td></tr>
<tr id="t2021-08-04T14:19:27"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">Alban[m]: parse, but not build.</td><td class="time"><a href="#t2021-08-04T14:19:27" class="time">14:19</a></td></tr>
<tr id="t2021-08-04T14:19:56"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">RP: but them bumping SRCREV without bumping PR shouldn't be allowed? or am i missing something stupid?</td><td class="time"><a href="#t2021-08-04T14:19:56" class="time">14:19</a></td></tr>
<tr id="t2021-08-04T14:21:52"><th class="nick" style="background: #5959a9">Alban[m]</th><td class="text" style="color: #5959a9">AUTOINC doesn't seems to come into play at parse time</td><td class="time"><a href="#t2021-08-04T14:21:52" class="time">14:21</a></td></tr>
<tr id="t2021-08-04T14:24:45"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">LetoThe2nd: it is only an issue if trying to do package manager upgrades on target</td><td class="time"><a href="#t2021-08-04T14:24:45" class="time">14:24</a></td></tr>
<tr id="t2021-08-04T14:25:44"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">RP: then we are obviously now seeing a new case - what happens if both versions happen to be present in the metadata?</td><td class="time"><a href="#t2021-08-04T14:25:44" class="time">14:25</a></td></tr>
<tr id="t2021-08-04T14:26:15"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">i *think* just slapping on a priority is going to make it fly, but it feels wrong (at least to me)</td><td class="time"><a href="#t2021-08-04T14:26:15" class="time">14:26</a></td></tr>
<tr id="t2021-08-04T14:27:11"><th class="nick" style="background: #5959a9">Alban[m]</th><td class="text" style="color: #5959a9">setting the priority works, raising PR doesn't</td><td class="time"><a href="#t2021-08-04T14:27:11" class="time">14:27</a></td></tr>
<tr id="t2021-08-04T14:27:55"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">then it's very possible that my brain has a massive misconception of things there :-(</td><td class="time"><a href="#t2021-08-04T14:27:55" class="time">14:27</a></td></tr>
<tr id="t2021-08-04T14:28:44"><th class="nick" style="background: #5959a9">Alban[m]</th><td class="text" style="color: #5959a9">all this wouldn't be a problem if psplash version had been increased between oe-core relases</td><td class="time"><a href="#t2021-08-04T14:28:44" class="time">14:28</a></td></tr>
<tr id="t2021-08-04T14:30:40"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">Alban[m]: well many problems stick to a version for a long time and only git bump, so thats not exactly a good argument for the generic case.</td><td class="time"><a href="#t2021-08-04T14:30:40" class="time">14:30</a></td></tr>
<tr id="t2021-08-04T14:30:47"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">problems = projects.</td><td class="time"><a href="#t2021-08-04T14:30:47" class="time">14:30</a></td></tr>
<tr id="t2021-08-04T14:31:18"><th class="nick" style="background: #adad5b">JPEW</th><td class="text" style="color: #adad5b">LetoThe2nd: I liked the original wording better :)</td><td class="time"><a href="#t2021-08-04T14:31:18" class="time">14:31</a></td></tr>
<tr id="t2021-08-04T14:31:47"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">JPEW: hehe</td><td class="time"><a href="#t2021-08-04T14:31:47" class="time">14:31</a></td></tr>
<tr id="t2021-08-04T14:32:00"><th class="nick" style="background: #5959a9">Alban[m]</th><td class="text" style="color: #5959a9">sure, but that's probably the reason why this didn't showed very often</td><td class="time"><a href="#t2021-08-04T14:32:00" class="time">14:32</a></td></tr>
<tr id="t2021-08-04T14:32:55"><th class="nick" style="background: #5959a9">Alban[m]</th><td class="text" style="color: #5959a9">so currently for a backport layer to work properly it need to have a priority higher than all the layer it wants to override</td><td class="time"><a href="#t2021-08-04T14:32:55" class="time">14:32</a></td></tr>
<tr id="t2021-08-04T14:33:44"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">Alban[m]: which it will already have in the vast majority of cases without even thinking about it.</td><td class="time"><a href="#t2021-08-04T14:33:44" class="time">14:33</a></td></tr>
<tr id="t2021-08-04T14:36:05"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">so from my POV: this is a corner case which seems to be handled improperly at the moment technically, but without much trouble being caused due to good choice of defaults.</td><td class="time"><a href="#t2021-08-04T14:36:05" class="time">14:36</a></td></tr>
<tr id="t2021-08-04T14:39:59"><th class="nick" style="background: #5959a9">Alban[m]</th><td class="text" style="color: #5959a9">I would be nice if these &quot;good choice of defaults&quot; were documented somewhere. The current doc is barely understandable:</td><td class="time"><a href="#t2021-08-04T14:39:59" class="time">14:39</a></td></tr>
<tr id="t2021-08-04T14:40:02"><th class="nick" style="background: #5959a9">Alban[m]</th><td class="text" style="color: #5959a9">A larger value for the BBFILE_PRIORITY variable results in a higher precedence. For example, the value 6 has a higher precedence than the value 5. If not specified, the BBFILE_PRIORITY variable is set based on layer dependencies (see the LAYERDEPENDS variable for more information. The default priority, if unspecified for a layer with no dependencies, is the lowest defined priority + 1 (or 1 if no priorities are defined).</td><td class="time"><a href="#t2021-08-04T14:40:02" class="time">14:40</a></td></tr>
<tr id="t2021-08-04T14:40:23"><th class="nick" style="background: #5959a9">Alban[m]</th><td class="text" style="color: #5959a9">This doesn't help at all in choosing a correct value</td><td class="time"><a href="#t2021-08-04T14:40:23" class="time">14:40</a></td></tr>
<tr id="t2021-08-04T14:40:34"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">Alban[m]: feel free to send improvements! :)</td><td class="time"><a href="#t2021-08-04T14:40:34" class="time">14:40</a></td></tr>
<tr id="t2021-08-04T14:41:03"><th class="nick" style="background: #5959a9">Alban[m]</th><td class="text" style="color: #5959a9">I would need, beside time, to know what the &quot;good defaults&quot; are to be able to do that</td><td class="time"><a href="#t2021-08-04T14:41:03" class="time">14:41</a></td></tr>
<tr id="t2021-08-04T14:41:40"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">Alban[m]: i told you. essentially, an hour ago.</td><td class="time"><a href="#t2021-08-04T14:41:40" class="time">14:41</a></td></tr>
<tr id="t2021-08-04T14:41:41"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">a current generated layer.conf looks like this. <a href="https://github.com/TheYoctoJester/meta-platinum/blob/master/conf/layer.conf" rel="nofollow">https://github.com/TheYoctoJester/meta-platinum/blob/master/conf/layer.conf</a></td><td class="time"><a href="#t2021-08-04T14:41:41" class="time">14:41</a></td></tr>
<tr id="t2021-08-04T14:42:03"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">generated ==&nbsp;&nbsp;uses the default value, obviously</td><td class="time"><a href="#t2021-08-04T14:42:03" class="time">14:42</a></td></tr>
<tr id="t2021-08-04T14:42:07"><th class="nick" style="background: #5959a9">Alban[m]</th><td class="text" style="color: #5959a9">So 6 is the recommended default?</td><td class="time"><a href="#t2021-08-04T14:42:07" class="time">14:42</a></td></tr>
<tr id="t2021-08-04T14:42:40"><th class="nick" style="background: #5959a9">Alban[m]</th><td class="text" style="color: #5959a9">but meta-python for example has 7</td><td class="time"><a href="#t2021-08-04T14:42:40" class="time">14:42</a></td></tr>
<tr id="t2021-08-04T14:42:57"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">Alban[m]: 6 is the default value for a newly created layer. if that qualifies as &quot;recommended&quot;, i can't judge.</td><td class="time"><a href="#t2021-08-04T14:42:57" class="time">14:42</a></td></tr>
<tr id="t2021-08-04T14:44:50"><th class="nick" style="background: #5959a9">Alban[m]</th><td class="text" style="color: #5959a9">that</td><td class="time"><a href="#t2021-08-04T14:44:50" class="time">14:44</a></td></tr>
<tr id="t2021-08-04T14:45:17"><th class="nick" style="background: #5959a9">Alban[m]</th><td class="text" style="color: #5959a9">that's why I asked for recommendation before, the answer was &quot;don't set it&quot;</td><td class="time"><a href="#t2021-08-04T14:45:17" class="time">14:45</a></td></tr>
<tr id="t2021-08-04T14:45:30"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">*sigh*</td><td class="time"><a href="#t2021-08-04T14:45:30" class="time">14:45</a></td></tr>
<tr id="t2021-08-04T14:45:52"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">no. i said, create your layer with bitbake-layer layer-create, and leave as is.</td><td class="time"><a href="#t2021-08-04T14:45:52" class="time">14:45</a></td></tr>
<tr id="t2021-08-04T14:46:03"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">(at least i'm pretty sure i did)</td><td class="time"><a href="#t2021-08-04T14:46:03" class="time">14:46</a></td></tr>
<tr id="t2021-08-04T14:47:56"><th class="nick" style="background: #8c4a4a">LetoThe2nd</th><td class="text" style="color: #8c4a4a">anyways - i think there is little more to say. we have found, identified and discussed a corner case. action needed? questionable. a hard recommandation? probably won't be. so, thats it from my side unless something really new is brought to the table now.</td><td class="time"><a href="#t2021-08-04T14:47:56" class="time">14:47</a></td></tr>
<tr id="t2021-08-04T14:49:56"><th class="nick" style="background: #5959a9">Alban[m]</th><td class="text" style="color: #5959a9">action needed would be better documentation, but that's not possible as long as there is no clear explanations on how to select a &quot;good&quot; value</td><td class="time"><a href="#t2021-08-04T14:49:56" class="time">14:49</a></td></tr>
<tr id="t2021-08-04T14:54:36"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">Alban[m]: because the good value depends on the context. what we would probably welcome in the documentation would be that bitbake-layers create-layer provides a default (and should actually be used to avoid user errors/typos). I'm not sure it makes much sense to define a &quot;good default&quot; since it depends on context and which layers you include</td><td class="time"><a href="#t2021-08-04T14:54:36" class="time">14:54</a></td></tr>
<tr id="t2021-08-04T14:56:08"><th class="nick" style="background: #5959a9">Alban[m]</th><td class="text" style="color: #5959a9">I understand that, but some general advice would be helpful. Telling ppl to just blindly use a tool doesn't help those that have to deal with existing setups or want to understand</td><td class="time"><a href="#t2021-08-04T14:56:08" class="time">14:56</a></td></tr>
<tr id="t2021-08-04T14:59:32"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">if the existing setup isn't doing what you want, you need to increase/decrease the priority as explained in the documentation of BBFILE_PRIORITY. If you want to understand what's going on, looking at the priorities of all layers and the documentation of BBFILE_PRIORITY should help. If you are creating your own layer, use bitbake-layers create-layer which provides some default. Then go back to the</td><td class="time"><a href="#t2021-08-04T14:59:32" class="time">14:59</a></td></tr>
<tr id="t2021-08-04T14:59:34"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">beginning of this message if it does not work the way you want</td><td class="time"><a href="#t2021-08-04T14:59:34" class="time">14:59</a></td></tr>
<tr id="t2021-08-04T15:00:39"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">if there could be better wording of the documentation of the variable is debattable but I'm not sure there's a way to define a 'good value'/general advice</td><td class="time"><a href="#t2021-08-04T15:00:39" class="time">15:00</a></td></tr>
<tr id="t2021-08-04T15:20:26"><th class="nick" style="background: #5959a9">Alban[m]</th><td class="text" style="color: #5959a9">qschulz: thank you</td><td class="time"><a href="#t2021-08-04T15:20:26" class="time">15:20</a></td></tr>
<tr id="t2021-08-04T17:00:41"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">vmeson: since the strace upgrade seems simple, I've queued an upgrade for testing for that</td><td class="time"><a href="#t2021-08-04T17:00:41" class="time">17:00</a></td></tr>
<tr id="t2021-08-04T17:16:41"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">vmeson: bug filed to compile info on elfutils ptest issue: <a href="https://bugzilla.yoctoproject.org/show_bug.cgi?id=14499" rel="nofollow">https://bugzilla.yoctoproject.org/show_bug.cgi?id=14499</a></td><td class="time"><a href="#t2021-08-04T17:16:41" class="time">17:16</a></td></tr>
<tr id="t2021-08-04T17:25:03"><th class="nick" style="background: #b15db1">khem</th><td class="text" style="color: #b15db1">RP:&nbsp;&nbsp;where can I find the ptest logs for strace and valgrind? IIRC valgrind issue was reported earlier too</td><td class="time"><a href="#t2021-08-04T17:25:03" class="time">17:25</a></td></tr>
<tr id="t2021-08-04T17:25:21"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">khem: here: <a href="https://autobuilder.yocto.io/pub/non-release/20210803-7/testresults/qemux86-64-ptest/" rel="nofollow">https://autobuilder.yocto.io/pub/non-release/20210803-7/testresults/qemux86-64-ptest/</a></td><td class="time"><a href="#t2021-08-04T17:25:21" class="time">17:25</a></td></tr>
<tr id="t2021-08-04T17:25:55"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">khem: I have an upgrade patch for strace in master-next to test, see if that helps. valgrind sounds like we need some backports from master</td><td class="time"><a href="#t2021-08-04T17:25:55" class="time">17:25</a></td></tr>
<tr id="t2021-08-04T17:27:17"><th class="nick" style="background: #b15db1">khem</th><td class="text" style="color: #b15db1">RP:&nbsp;&nbsp;I see use of FILES_${PN} on RHS see <a href="https://git.openembedded.org/meta-openembedded/tree/meta-oe/recipes-support/emacs/emacs_27.2.bb#n256" rel="nofollow">https://git.openembedded.org/meta-openembedded/tree/meta-oe/recipes-support/emacs/emacs_27.2.bb#n256</a></td><td class="time"><a href="#t2021-08-04T17:27:17" class="time">17:27</a></td></tr>
<tr id="t2021-08-04T17:27:27"><th class="nick" style="background: #b15db1">khem</th><td class="text" style="color: #b15db1">should new override seprate work in this case ?</td><td class="time"><a href="#t2021-08-04T17:27:27" class="time">17:27</a></td></tr>
<tr id="t2021-08-04T17:28:05"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">khem: no, that needs to be converted to :</td><td class="time"><a href="#t2021-08-04T17:28:05" class="time">17:28</a></td></tr>
<tr id="t2021-08-04T17:28:17"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">khem: well, yes, if you convert it, it will work</td><td class="time"><a href="#t2021-08-04T17:28:17" class="time">17:28</a></td></tr>
<tr id="t2021-08-04T17:28:56"><th class="nick" style="background: #b15db1">khem</th><td class="text" style="color: #b15db1">right ok</td><td class="time"><a href="#t2021-08-04T17:28:56" class="time">17:28</a></td></tr>
<tr id="t2021-08-04T17:41:38"><th class="nick" style="background: #5fb4b4">smurray</th><td class="text" style="color: #5fb4b4">RP:&nbsp;&nbsp;I seem to be having some issues getting either the python &quot;-X dev&quot; or PYTHONDEVMODE=1 env variable down into bitbake child processes w/o ending up overly invasive and ending up in target build env, any suggestions?</td><td class="time"><a href="#t2021-08-04T17:41:38" class="time">17:41</a></td></tr>
<tr id="t2021-08-04T17:45:22"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">smurray: I think the question is why bitbake processes? Things started by the server or by the worker?</td><td class="time"><a href="#t2021-08-04T17:45:22" class="time">17:45</a></td></tr>
<tr id="t2021-08-04T17:46:36"><th class="nick" style="background: #5fb4b4">smurray</th><td class="text" style="color: #5fb4b4">RP: there's some asyncio debugging enabled with it that I want to see on both the server and hashequiv/prserver children</td><td class="time"><a href="#t2021-08-04T17:46:36" class="time">17:46</a></td></tr>
<tr id="t2021-08-04T17:47:52"><th class="nick" style="background: #5fb4b4">smurray</th><td class="text" style="color: #5fb4b4">RP: there's also PYTHONASYNCIODEBUG=1 as a hook for that, but it looks like dev mode also makes debug logging the default for the logging module w/o having to hack that</td><td class="time"><a href="#t2021-08-04T17:47:52" class="time">17:47</a></td></tr>
<tr id="t2021-08-04T17:48:44"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">smurray: those are started from the server so it sounds like you want bitbake's server started with that?</td><td class="time"><a href="#t2021-08-04T17:48:44" class="time">17:48</a></td></tr>
<tr id="t2021-08-04T17:49:17"><th class="nick" style="background: #5fb4b4">smurray</th><td class="text" style="color: #5fb4b4">RP: I tried hacking it into the bitbake-server wrapper but it didn't seem to take effect that way</td><td class="time"><a href="#t2021-08-04T17:49:17" class="time">17:49</a></td></tr>
<tr id="t2021-08-04T17:50:20"><th class="nick" style="background: #5fb4b4">smurray</th><td class="text" style="color: #5fb4b4">RP: I then wrapped python3 with a script, but that ends up too invasive</td><td class="time"><a href="#t2021-08-04T17:50:20" class="time">17:50</a></td></tr>
<tr id="t2021-08-04T17:50:25"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">smurray: hmm. It should :/</td><td class="time"><a href="#t2021-08-04T17:50:25" class="time">17:50</a></td></tr>
<tr id="t2021-08-04T17:50:37"><th class="nick" style="background: #5fb4b4">smurray</th><td class="text" style="color: #5fb4b4">RP: I can try again, maybe I missed something</td><td class="time"><a href="#t2021-08-04T17:50:37" class="time">17:50</a></td></tr>
<tr id="t2021-08-04T17:51:05"><th class="nick" style="background: #5fb4b4">smurray</th><td class="text" style="color: #5fb4b4">RP: semi-related, is there a hook for changing the logging level other than passing -d to bitbake?</td><td class="time"><a href="#t2021-08-04T17:51:05" class="time">17:51</a></td></tr>
<tr id="t2021-08-04T17:52:14"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">smurray: you can pass a custom log levels definition</td><td class="time"><a href="#t2021-08-04T17:52:14" class="time">17:52</a></td></tr>
<tr id="t2021-08-04T17:53:06"><th class="nick" style="background: #5fb4b4">smurray</th><td class="text" style="color: #5fb4b4">RP: okay, I guess I'll pick apart the oe-selftest that fails and work out running it by hand so I can try that</td><td class="time"><a href="#t2021-08-04T17:53:06" class="time">17:53</a></td></tr>
<tr id="t2021-08-04T17:53:15"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">smurray: logconfig = args.builddir + &quot;/../bitbake/contrib/autobuilderlog.json&quot; os.environ[&quot;BB_LOGCONFIG&quot;] = logconfig</td><td class="time"><a href="#t2021-08-04T17:53:15" class="time">17:53</a></td></tr>
<tr id="t2021-08-04T17:53:19"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f"><a href="http://git.yoctoproject.org/cgit.cgi/yocto-autobuilder-helper/tree/scripts/run-config" rel="nofollow">http://git.yoctoproject.org/cgit.cgi/yocto-autobuilder-helper/tree/scripts/run-config</a></td><td class="time"><a href="#t2021-08-04T17:53:19" class="time">17:53</a></td></tr>
<tr id="t2021-08-04T17:54:25"><th class="nick" style="background: #5fb4b4">smurray</th><td class="text" style="color: #5fb4b4">RP: okay</td><td class="time"><a href="#t2021-08-04T17:54:25" class="time">17:54</a></td></tr>
<tr id="t2021-08-04T17:55:39"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">vmeson, khem: I pulled in a few valgrind patches and tried a build</td><td class="time"><a href="#t2021-08-04T17:55:39" class="time">17:55</a></td></tr>
<tr id="t2021-08-04T18:02:30"><th class="nick" style="background: #5fb4b4">smurray</th><td class="text" style="color: #5fb4b4">RP: do the bb.debug/note/etc. messages go through the logging module at this point, or do they use a separate mechanism altogether?</td><td class="time"><a href="#t2021-08-04T18:02:30" class="time">18:02</a></td></tr>
<tr id="t2021-08-04T18:02:49"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">smurray: they should go through it</td><td class="time"><a href="#t2021-08-04T18:02:49" class="time">18:02</a></td></tr>
<tr id="t2021-08-04T18:03:12"><th class="nick" style="background: #5fb4b4">smurray</th><td class="text" style="color: #5fb4b4">RP: okay, trying to wrap my head around where messages are ending up</td><td class="time"><a href="#t2021-08-04T18:03:12" class="time">18:03</a></td></tr>
<tr id="t2021-08-04T18:04:44"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">smurray: our logging needs work, its a mess</td><td class="time"><a href="#t2021-08-04T18:04:44" class="time">18:04</a></td></tr>
<tr id="t2021-08-04T18:05:07"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">smurray: I sometimes resort to writing things to a file</td><td class="time"><a href="#t2021-08-04T18:05:07" class="time">18:05</a></td></tr>
<tr id="t2021-08-04T18:06:39"><th class="nick" style="background: #5fb4b4">smurray</th><td class="text" style="color: #5fb4b4">RP: I've instrumented a bunch with bb.note, but I'll have to try to correlate with multiple files or hack the config json if I can get this other stuff enabled</td><td class="time"><a href="#t2021-08-04T18:06:39" class="time">18:06</a></td></tr>
<tr id="t2021-08-04T18:09:43"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">smurray: fair enough, just mentioning what I sometimes resort to</td><td class="time"><a href="#t2021-08-04T18:09:43" class="time">18:09</a></td></tr>
<tr id="t2021-08-04T18:10:00"><th class="nick" style="background: #5fb4b4">smurray</th><td class="text" style="color: #5fb4b4">RP: yeah, I might end up there ;)</td><td class="time"><a href="#t2021-08-04T18:10:00" class="time">18:10</a></td></tr>
<tr id="t2021-08-04T18:12:28"><th class="nick" style="background: #57a657">rpcme</th><td class="text" style="color: #57a657">RP: just to let you know I'm back in the green on the yocto-check-layer.&nbsp;&nbsp;It was the dependencies for sure.&nbsp;&nbsp;Takes more than 1h to run on 2 VCPU so I bumped it up to 72 VCPU to finish in 11 minutes.&nbsp;&nbsp;That might be a reasonable duration for PR checks as well.</td><td class="time"><a href="#t2021-08-04T18:12:28" class="time">18:12</a></td></tr>
<tr id="t2021-08-04T18:17:59"><th class="nick" style="background: #b86161">moto-timo</th><td class="text" style="color: #b86161">there are some commented out settings in local.conf.sample that will also need the new override syntax conversion such as PACKAGECONFIG_append_*</td><td class="time"><a href="#t2021-08-04T18:17:59" class="time">18:17</a></td></tr>
<tr id="t2021-08-04T18:26:44"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">rpcme: that code does metadata parses which can take advantage of cpu cores</td><td class="time"><a href="#t2021-08-04T18:26:44" class="time">18:26</a></td></tr>
<tr id="t2021-08-04T18:27:12"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">moto-timo: hmm, I thought I got those :(</td><td class="time"><a href="#t2021-08-04T18:27:12" class="time">18:27</a></td></tr>
<tr id="t2021-08-04T18:27:53"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">moto-timo: hmm, the extended one?</td><td class="time"><a href="#t2021-08-04T18:27:53" class="time">18:27</a></td></tr>
<tr id="t2021-08-04T18:28:31"><th class="nick" style="background: #b86161">moto-timo</th><td class="text" style="color: #b86161">RP: <a href="http://git.yoctoproject.org/cgit/cgit.cgi/poky/tree/meta-poky/conf/local.conf.sample#n245" rel="nofollow">http://git.yoctoproject.org/cgit/cgit.cgi/poky/tree/meta-poky/conf/local.conf.sample#n245</a></td><td class="time"><a href="#t2021-08-04T18:28:31" class="time">18:28</a></td></tr>
<tr id="t2021-08-04T18:28:57"><th class="nick" style="background: #b86161">moto-timo</th><td class="text" style="color: #b86161">I just noticed it because I had to upgrade my auh local.conf…</td><td class="time"><a href="#t2021-08-04T18:28:57" class="time">18:28</a></td></tr>
<tr id="t2021-08-04T18:29:19"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">moto-timo: got it, will fix</td><td class="time"><a href="#t2021-08-04T18:29:19" class="time">18:29</a></td></tr>
<tr id="t2021-08-04T18:29:44"><td class="action" colspan="2">* moto-timo being lazy</td><td><a href="#t2021-08-04T18:29:44" class="time">18:29</a></td></tr>
<tr id="t2021-08-04T18:30:31"><th class="nick" style="background: #b86161">moto-timo</th><td class="text" style="color: #b86161">Also I’m not 100% confident on the new syntax just yet</td><td class="time"><a href="#t2021-08-04T18:30:31" class="time">18:30</a></td></tr>
<tr id="t2021-08-04T18:30:54"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">moto-timo: well, I've fixed it as I can do that in the time it would take to discuss it</td><td class="time"><a href="#t2021-08-04T18:30:54" class="time">18:30</a></td></tr>
<tr id="t2021-08-04T18:30:57"><th class="nick" style="background: #b86161">moto-timo</th><td class="text" style="color: #b86161">(My own understanding needs practice)</td><td class="time"><a href="#t2021-08-04T18:30:57" class="time">18:30</a></td></tr>
<tr id="t2021-08-04T18:31:00"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">[pushed[</td><td class="time"><a href="#t2021-08-04T18:31:00" class="time">18:31</a></td></tr>
<tr id="t2021-08-04T18:31:18"><th class="nick" style="background: #b86161">moto-timo</th><td class="text" style="color: #b86161">Thank you. Apologies for being lazy</td><td class="time"><a href="#t2021-08-04T18:31:18" class="time">18:31</a></td></tr>
<tr id="t2021-08-04T19:36:12"><th class="nick" style="background: #62bb62">stwcx</th><td class="text" style="color: #62bb62">Hello. I'm trying to build an image using hardknott and running into a problem that I have no idea how to debug.&nbsp;&nbsp;Uninative vs sysroot-native is something I've not really dug enough into before.</td><td class="time"><a href="#t2021-08-04T19:36:12" class="time">19:36</a></td></tr>
<tr id="t2021-08-04T19:36:22"><th class="nick" style="background: #62bb62">stwcx</th><td class="text" style="color: #62bb62">| re2c: .../tmp/sysroots-uninative/x86_64-linux/usr/lib/libstdc++.so.6: version `GLIBCXX_3.4.29' not found (required by re2c)</td><td class="time"><a href="#t2021-08-04T19:36:22" class="time">19:36</a></td></tr>
<tr id="t2021-08-04T19:36:55"><th class="nick" style="background: #62bb62">stwcx</th><td class="text" style="color: #62bb62">My system has GCC 11, and it seems like re2c was built against my system libstdc++, but...</td><td class="time"><a href="#t2021-08-04T19:36:55" class="time">19:36</a></td></tr>
<tr id="t2021-08-04T19:37:15"><th class="nick" style="background: #62bb62">stwcx</th><td class="text" style="color: #62bb62">When it gets used during the build of `ninja` it ends up using the libstdc++.so.6 out of the uninative.</td><td class="time"><a href="#t2021-08-04T19:37:15" class="time">19:37</a></td></tr>
<tr id="t2021-08-04T19:37:25"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">stwcx: are you using the latest uninative?</td><td class="time"><a href="#t2021-08-04T19:37:25" class="time">19:37</a></td></tr>
<tr id="t2021-08-04T19:37:44"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">stwcx: it is expected it would switch to use uninative as that is how it works</td><td class="time"><a href="#t2021-08-04T19:37:44" class="time">19:37</a></td></tr>
<tr id="t2021-08-04T19:37:56"><th class="nick" style="background: #62bb62">stwcx</th><td class="text" style="color: #62bb62">RP: I think the &quot;latest&quot; that comes with hardknott, yes.</td><td class="time"><a href="#t2021-08-04T19:37:56" class="time">19:37</a></td></tr>
<tr id="t2021-08-04T19:38:20"><th class="nick" style="background: #62bb62">stwcx</th><td class="text" style="color: #62bb62">Shouldn't re2c have built with the uninative libstdc++ then too?</td><td class="time"><a href="#t2021-08-04T19:38:20" class="time">19:38</a></td></tr>
<tr id="t2021-08-04T19:38:36"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">stwcx: do you have <a href="http://git.yoctoproject.org/cgit.cgi/poky/commit/?h=hardknott&amp;id=225a30f8d2bac142ea88cd28e5f52cd061523c83" rel="nofollow">http://git.yoctoproject.org/cgit.cgi/poky/commit/?h=hardknott&amp;id=225a30f8d2bac142ea88cd28e5f52cd061523c83</a> ?</td><td class="time"><a href="#t2021-08-04T19:38:36" class="time">19:38</a></td></tr>
<tr id="t2021-08-04T19:39:08"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">stwcx: it builds against the host, then switches at install time for 'reasons'</td><td class="time"><a href="#t2021-08-04T19:39:08" class="time">19:39</a></td></tr>
<tr id="t2021-08-04T19:39:48"><th class="nick" style="background: #62bb62">stwcx</th><td class="text" style="color: #62bb62">RP: checking that I haven't messed something up with that uninative.inc.</td><td class="time"><a href="#t2021-08-04T19:39:48" class="time">19:39</a></td></tr>
<tr id="t2021-08-04T19:41:57"><th class="nick" style="background: #62bb62">stwcx</th><td class="text" style="color: #62bb62">Ah, I don't have that uninative bump.&nbsp;&nbsp;It takes me 3 hops to get subtree updates with the build that we have, so ... :(</td><td class="time"><a href="#t2021-08-04T19:41:57" class="time">19:41</a></td></tr>
<tr id="t2021-08-04T19:42:26"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">stwcx: hence my question :) that would explain it</td><td class="time"><a href="#t2021-08-04T19:42:26" class="time">19:42</a></td></tr>
<tr id="t2021-08-04T19:42:54"><th class="nick" style="background: #62bb62">stwcx</th><td class="text" style="color: #62bb62">&gt; it builds against the host, then switches at install time for 'reasons' --- this is interesting to know.&nbsp;&nbsp;For some reason I thought everything always built against the uninative libraries.</td><td class="time"><a href="#t2021-08-04T19:42:54" class="time">19:42</a></td></tr>
<tr id="t2021-08-04T19:43:39"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">stwcx: uninative doesn't ship with headers and if it did, it gets very confused with the host's headers. It is much easier to link against the host, then switch</td><td class="time"><a href="#t2021-08-04T19:43:39" class="time">19:43</a></td></tr>
<tr id="t2021-08-04T19:43:49"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">It just means the uninative needs to be equal or newer than the host</td><td class="time"><a href="#t2021-08-04T19:43:49" class="time">19:43</a></td></tr>
<tr id="t2021-08-04T19:43:59"><th class="nick" style="background: #62bb62">stwcx</th><td class="text" style="color: #62bb62">Sorry for the distraction.&nbsp;&nbsp;It is too bad the whole #freenode bifurcation happened.&nbsp;&nbsp;#openbmc went to Discord instead so I don't really log in here to IRC anymore.</td><td class="time"><a href="#t2021-08-04T19:43:59" class="time">19:43</a></td></tr>
<tr id="t2021-08-04T19:44:09"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">it is supposed to detect and error about that but detecting all the versions of gcc/glibc can be tricky</td><td class="time"><a href="#t2021-08-04T19:44:09" class="time">19:44</a></td></tr>
<tr id="t2021-08-04T19:44:32"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">stwcx: that whole business is rather sad :(</td><td class="time"><a href="#t2021-08-04T19:44:32" class="time">19:44</a></td></tr>
<tr id="t2021-08-04T19:45:35"><th class="nick" style="background: #62bb62">stwcx</th><td class="text" style="color: #62bb62">&quot;uninative needs to be equal or newer than the host&quot; ... this is partially surprising for doing ancient builds.&nbsp;&nbsp;We still have some images that we use Rocko as the base for.&nbsp;&nbsp;I've been lucky thus far that the crops/poky Docker image works for me.</td><td class="time"><a href="#t2021-08-04T19:45:35" class="time">19:45</a></td></tr>
<tr id="t2021-08-04T19:46:09"><th class="nick" style="background: #62bb62">stwcx</th><td class="text" style="color: #62bb62">Anything Rocko I use that crops/poky image but anything newish I use my host.</td><td class="time"><a href="#t2021-08-04T19:46:09" class="time">19:46</a></td></tr>
<tr id="t2021-08-04T19:46:14"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">stwcx: the nice thing is that newer uninatives tend to work fine with older releases</td><td class="time"><a href="#t2021-08-04T19:46:14" class="time">19:46</a></td></tr>
<tr id="t2021-08-04T19:46:37"><th class="nick" style="background: #62bb62">stwcx</th><td class="text" style="color: #62bb62">So in theory we could just backport a change to the checksums and pick up a new uninative?</td><td class="time"><a href="#t2021-08-04T19:46:37" class="time">19:46</a></td></tr>
<tr id="t2021-08-04T19:46:49"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">stwcx: in theory yes</td><td class="time"><a href="#t2021-08-04T19:46:49" class="time">19:46</a></td></tr>
<tr id="t2021-08-04T19:47:06"><th class="nick" style="background: #62bb62">stwcx</th><td class="text" style="color: #62bb62">Sounds good.&nbsp;&nbsp;I'll keep that in the back of my mind.</td><td class="time"><a href="#t2021-08-04T19:47:06" class="time">19:47</a></td></tr>
<tr id="t2021-08-04T19:47:22"><th class="nick" style="background: #62bb62">stwcx</th><td class="text" style="color: #62bb62">Thanks much for your help and explaination.</td><td class="time"><a href="#t2021-08-04T19:47:22" class="time">19:47</a></td></tr>
<tr id="t2021-08-04T19:48:06"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">stwcx: np, nice to have an easy answer to something :)</td><td class="time"><a href="#t2021-08-04T19:48:06" class="time">19:48</a></td></tr>
<tr id="t2021-08-04T19:52:49"><th class="nick" style="background: #5fb4b4">smurray</th><td class="text" style="color: #5fb4b4">RP: I think I have a theory now, during PR export the code in prservice.py creates a connection and caches it in the datastore.&nbsp;&nbsp;With the rework as it is ATM, this means every parsing process doing export calls uses the same asyncio loop, which eventually splodes...</td><td class="time"><a href="#t2021-08-04T19:52:49" class="time">19:52</a></td></tr>
<tr id="t2021-08-04T20:01:47"><th class="nick" style="background: #6464bf">vd</th><td class="text" style="color: #6464bf">IMAGE_INSTALL_append_pn-some-image-recipe = &quot; foo&quot; works, right?</td><td class="time"><a href="#t2021-08-04T20:01:47" class="time">20:01</a></td></tr>
<tr id="t2021-08-04T20:05:50"><th class="nick" style="background: #6464bf">vd</th><td class="text" style="color: #6464bf">if I want to add the &quot;foo&quot; package to some-image-recipe from a multiconfig</td><td class="time"><a href="#t2021-08-04T20:05:50" class="time">20:05</a></td></tr>
<tr id="t2021-08-04T20:07:00"><th class="nick" style="background: #5fb4b4">smurray</th><td class="text" style="color: #5fb4b4">yes, barring the change in override syntax in latest master</td><td class="time"><a href="#t2021-08-04T20:07:00" class="time">20:07</a></td></tr>
<tr id="t2021-08-04T20:07:30"><th class="nick" style="background: #5fb4b4">smurray</th><td class="text" style="color: #5fb4b4">it'd be IMAGE_INSTALL:append:pn-some-image-recipe now, I believe</td><td class="time"><a href="#t2021-08-04T20:07:30" class="time">20:07</a></td></tr>
<tr id="t2021-08-04T20:07:51"><th class="nick" style="background: #6464bf">vd</th><td class="text" style="color: #6464bf">sweet!</td><td class="time"><a href="#t2021-08-04T20:07:51" class="time">20:07</a></td></tr>
<tr id="t2021-08-04T20:08:08"><th class="nick" style="background: #6464bf">vd</th><td class="text" style="color: #6464bf">I guess it'll fail or warn when I'll bump, no big deal.</td><td class="time"><a href="#t2021-08-04T20:08:08" class="time">20:08</a></td></tr>
<tr id="t2021-08-04T20:09:00"><th class="nick" style="background: #6464bf">vd</th><td class="text" style="color: #6464bf">I have a complex set of stacked images, and appending packages this way to the images from the same multiconfig file is quite neat</td><td class="time"><a href="#t2021-08-04T20:09:00" class="time">20:09</a></td></tr>
<tr id="t2021-08-04T20:10:21"><th class="nick" style="background: #6464bf">vd</th><td class="text" style="color: #6464bf">it gives a complete view of the customization for a specific build</td><td class="time"><a href="#t2021-08-04T20:10:21" class="time">20:10</a></td></tr>
<tr id="t2021-08-04T20:20:28"><th class="nick" style="background: #62bb62">stwcx</th><td class="text" style="color: #62bb62">I'm learning about this new override syntax today too. :/&nbsp;&nbsp;Since there is no backwards compatibility for the old _ syntax that means it is pretty much impossible to have a single metalayer support two different branches now?</td><td class="time"><a href="#t2021-08-04T20:20:28" class="time">20:20</a></td></tr>
<tr id="t2021-08-04T20:26:06"><th class="nick" style="background: #57a657">rpcme</th><td class="text" style="color: #57a657">that's right - that is why layer maintainers had to change the layer compat</td><td class="time"><a href="#t2021-08-04T20:26:06" class="time">20:26</a></td></tr>
<tr id="t2021-08-04T20:28:10"><th class="nick" style="background: #62bb62">stwcx</th><td class="text" style="color: #62bb62">That's really ugly.</td><td class="time"><a href="#t2021-08-04T20:28:10" class="time">20:28</a></td></tr>
<tr id="t2021-08-04T20:28:18"><th class="nick" style="background: #57a657">rpcme</th><td class="text" style="color: #57a657">I was very unnerved about the change on Monday but after working with it a couple days I'm liking it a lot. Although we're maintaining 4 releases and breakfix on four more, I'm OK with it</td><td class="time"><a href="#t2021-08-04T20:28:18" class="time">20:28</a></td></tr>
<tr id="t2021-08-04T20:28:54"><th class="nick" style="background: #62bb62">stwcx</th><td class="text" style="color: #62bb62">Unfortunately we maintain a single tree and swap out the poky stuff depending on which system we're targeting.</td><td class="time"><a href="#t2021-08-04T20:28:54" class="time">20:28</a></td></tr>
<tr id="t2021-08-04T20:30:20"><th class="nick" style="background: #57a657">rpcme</th><td class="text" style="color: #57a657">Yah we tried that but there were too many nuances requiring conditions, it made it worse to maintain and hard to tell what was bitrot or not.&nbsp;&nbsp;Then I became a YP release branch convert...</td><td class="time"><a href="#t2021-08-04T20:30:20" class="time">20:30</a></td></tr>
<tr id="t2021-08-04T20:44:47"><th class="nick" style="background: #5fb4b4">smurray</th><td class="text" style="color: #5fb4b4">stwcx: there's forward compatibility in bitbake for dunfell forward, so doing the conversion in a layer that needs to support in that range forward is hopefully doable</td><td class="time"><a href="#t2021-08-04T20:44:47" class="time">20:44</a></td></tr>
<tr id="t2021-08-04T20:45:58"><th class="nick" style="background: #62bb62">stwcx</th><td class="text" style="color: #62bb62">Oooh.&nbsp;&nbsp;That sounds better.&nbsp;&nbsp;So you're saying that in theory you could convert recipes that are targeting at least Dunfell and they'll work?&nbsp;&nbsp;I assume this means there is a bitbake update for them also?</td><td class="time"><a href="#t2021-08-04T20:45:58" class="time">20:45</a></td></tr>
<tr id="t2021-08-04T20:46:08"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">stwcx: we did backport changes to dunfell/gatesgarth/hardknott which mean the new syntax works over those releases and master</td><td class="time"><a href="#t2021-08-04T20:46:08" class="time">20:46</a></td></tr>
<tr id="t2021-08-04T20:46:40"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">stwcx: just realised smurray covered it :) Yes, there was a bitbake update to do that</td><td class="time"><a href="#t2021-08-04T20:46:40" class="time">20:46</a></td></tr>
<tr id="t2021-08-04T20:47:14"><th class="nick" style="background: #5fb4b4">smurray</th><td class="text" style="color: #5fb4b4">RP: my phrasing wasn't great</td><td class="time"><a href="#t2021-08-04T20:47:14" class="time">20:47</a></td></tr>
<tr id="t2021-08-04T20:47:29"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">smurray: not sure mine is either tbh :)</td><td class="time"><a href="#t2021-08-04T20:47:29" class="time">20:47</a></td></tr>
<tr id="t2021-08-04T20:49:17"><th class="nick" style="background: #6464bf">vd</th><td class="text" style="color: #6464bf">what is the recommended way to package ${DEPLOY_DIR_IMAGE}/some-image-recipe.img into the rootfs?</td><td class="time"><a href="#t2021-08-04T20:49:17" class="time">20:49</a></td></tr>
<tr id="t2021-08-04T20:50:42"><th class="nick" style="background: #5fb4b4">smurray</th><td class="text" style="color: #5fb4b4">RP: I'm pretty sure now what I mentioned above is the issue with the prservice selftest hangs with the rework, same issue JPEW's change last week addressed but in a different context</td><td class="time"><a href="#t2021-08-04T20:50:42" class="time">20:50</a></td></tr>
<tr id="t2021-08-04T20:51:47"><th class="nick" style="background: #62bb62">stwcx</th><td class="text" style="color: #62bb62">I must be misunderstanding this:</td><td class="time"><a href="#t2021-08-04T20:51:47" class="time">20:51</a></td></tr>
<tr id="t2021-08-04T20:51:54"><th class="nick" style="background: #62bb62">stwcx</th><td class="text" style="color: #62bb62">&gt;&nbsp;&nbsp;&nbsp;&nbsp; Supporting mixed syntax isn't possible, it is only feasible to have</td><td class="time"><a href="#t2021-08-04T20:51:54" class="time">20:51</a></td></tr>
<tr id="t2021-08-04T20:51:55"><th class="nick" style="background: #62bb62">stwcx</th><td class="text" style="color: #62bb62">&gt;&nbsp;&nbsp;&nbsp;&nbsp;one internal representation of overrides.</td><td class="time"><a href="#t2021-08-04T20:51:55" class="time">20:51</a></td></tr>
<tr id="t2021-08-04T20:52:07"><th class="nick" style="background: #62bb62">stwcx</th><td class="text" style="color: #62bb62">So if you've backported the changes to bitbake, how does it know which one to use?</td><td class="time"><a href="#t2021-08-04T20:52:07" class="time">20:52</a></td></tr>
<tr id="t2021-08-04T20:52:37"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">stwcx: it just converts &quot;:&quot; into &quot;_&quot; in older bitbakes</td><td class="time"><a href="#t2021-08-04T20:52:37" class="time">20:52</a></td></tr>
<tr id="t2021-08-04T20:53:22"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">smurray: ah, I missed that comment. That sounds like a promising lead</td><td class="time"><a href="#t2021-08-04T20:53:22" class="time">20:53</a></td></tr>
<tr id="t2021-08-04T20:55:09"><th class="nick" style="background: #5fb4b4">smurray</th><td class="text" style="color: #5fb4b4">RP: the simple fix is to pull out the caching of the client connection object in meta/lib/oe/prservice.py, I'm currently debating if there's something to be gained by trying to keep that while hacking on things to delay connecting</td><td class="time"><a href="#t2021-08-04T20:55:09" class="time">20:55</a></td></tr>
<tr id="t2021-08-04T20:59:49"><th class="nick" style="background: #5fb4b4">smurray</th><td class="text" style="color: #5fb4b4">RP: there's no obvious way to open the connection once and then reuse that connection now, since the connection is done with an asyncio call.&nbsp;&nbsp;I suspect a minor diff in export performance isn't a big deal, though...</td><td class="time"><a href="#t2021-08-04T20:59:49" class="time">20:59</a></td></tr>
<tr id="t2021-08-04T21:02:17"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">smurray: I suspect it would be best to pull it out and then we can look at performance again if it is an issue</td><td class="time"><a href="#t2021-08-04T21:02:17" class="time">21:02</a></td></tr>
<tr id="t2021-08-04T21:05:40"><th class="nick" style="background: #5fb4b4">smurray</th><td class="text" style="color: #5fb4b4">RP: yeah.&nbsp;&nbsp;I don't see a way with asyncio to reuse an open socket, but I could be missing something</td><td class="time"><a href="#t2021-08-04T21:05:40" class="time">21:05</a></td></tr>
<tr id="t2021-08-04T21:15:06"><th class="nick" style="background: #5fb4b4">smurray</th><td class="text" style="color: #5fb4b4">RP: I'll bang on it in a test loop for a while before declaring victory.&nbsp;&nbsp;I start some vacation tomorrow, but I can pick at it a bit remotely and try to get an updated patch set out in the next few days</td><td class="time"><a href="#t2021-08-04T21:15:06" class="time">21:15</a></td></tr>
<tr id="t2021-08-04T21:15:25"><th class="nick" style="background: #5fb4b4">smurray</th><td class="text" style="color: #5fb4b4">RP: one of the changes in my stack ATM is from JPEW, it'll need to go in IMO</td><td class="time"><a href="#t2021-08-04T21:15:25" class="time">21:15</a></td></tr>
<tr id="t2021-08-04T21:16:04"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">smurray: it'd be great to get this in and resolved!</td><td class="time"><a href="#t2021-08-04T21:16:04" class="time">21:16</a></td></tr>
<tr id="t2021-08-04T21:16:17"><th class="nick" style="background: #5fb4b4">smurray</th><td class="text" style="color: #5fb4b4">RP: you're not alone in that thinking ;)</td><td class="time"><a href="#t2021-08-04T21:16:17" class="time">21:16</a></td></tr>
<tr id="t2021-08-04T21:17:01"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">smurray: I'm just wary as the last thing I need is another weird autobuilder intermittent issue!</td><td class="time"><a href="#t2021-08-04T21:17:01" class="time">21:17</a></td></tr>
<tr id="t2021-08-04T21:17:16"><th class="nick" style="background: #5fb4b4">smurray</th><td class="text" style="color: #5fb4b4">RP: definitely</td><td class="time"><a href="#t2021-08-04T21:17:16" class="time">21:17</a></td></tr>
<tr id="t2021-08-04T21:19:32"><th class="nick" style="background: #5fb4b4">smurray</th><td class="text" style="color: #5fb4b4">RP: I think with JPEW's change to move the loop creation for the server side and this fix it'll hopefully hold up now</td><td class="time"><a href="#t2021-08-04T21:19:32" class="time">21:19</a></td></tr>
<tr id="t2021-08-04T21:22:20"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">smurray: it sounds promising</td><td class="time"><a href="#t2021-08-04T21:22:20" class="time">21:22</a></td></tr>
<tr id="t2021-08-04T21:26:28"><th class="nick" style="background: #a25555">JaMa</th><td class="text" style="color: #a25555">RP: I've reproduced that systemd-boot issue on one of my hosts, it looks like it uses hosttools/ld.bfd when available instead of ld.bfd from binutils-cross</td><td class="time"><a href="#t2021-08-04T21:26:28" class="time">21:26</a></td></tr>
<tr id="t2021-08-04T21:28:43"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">JaMa: ah, that sounds a bit nasty but good to know the issue</td><td class="time"><a href="#t2021-08-04T21:28:43" class="time">21:28</a></td></tr>
<tr id="t2021-08-04T21:29:52"><th class="nick" style="background: #a25555">JaMa</th><td class="text" style="color: #a25555">RP: I will use ${BUILD_PREFIX}ld.bfd which should match with what ${LD}[0] has except the .bfd suffix</td><td class="time"><a href="#t2021-08-04T21:29:52" class="time">21:29</a></td></tr>
<tr id="t2021-08-04T21:33:16"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">JaMa: sounds good</td><td class="time"><a href="#t2021-08-04T21:33:16" class="time">21:33</a></td></tr>
<tr id="t2021-08-04T21:34:00"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">vmeson, khem: just to keep up to date, the list of valgrind issues with reduced with backported patches. I opened a bug to keep track from here</td><td class="time"><a href="#t2021-08-04T21:34:00" class="time">21:34</a></td></tr>
<tr id="t2021-08-04T21:34:10"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">and there is an elfutils patch available I can try testing</td><td class="time"><a href="#t2021-08-04T21:34:10" class="time">21:34</a></td></tr>
<tr id="t2021-08-04T21:39:30"><th class="nick" style="background: #b86161">moto-timo</th><td class="text" style="color: #b86161">for the python3-scons upgrade to 4.2.0 I tested a build of serf (the only component in core that inherits scons) but if anybody depends on it for other things please test</td><td class="time"><a href="#t2021-08-04T21:39:30" class="time">21:39</a></td></tr>
<tr id="t2021-08-04T21:54:11"><th class="nick" style="background: #62bb62">stwcx</th><td class="text" style="color: #62bb62">Has any issues with a high amount of &quot;pseudo aborts&quot; been reported lately?&nbsp;&nbsp;I'm seeing them pretty frequently with simple package rebuilds.</td><td class="time"><a href="#t2021-08-04T21:54:11" class="time">21:54</a></td></tr>
<tr id="t2021-08-04T21:55:57"><th class="nick" style="background: #5fb4b4">smurray</th><td class="text" style="color: #5fb4b4">it's almost always an indicator of a recipe doing untoward things: <a href="https://wiki.yoctoproject.org/wiki/Pseudo_Abort" rel="nofollow">https://wiki.yoctoproject.org/wiki/Pseudo_Abort</a></td><td class="time"><a href="#t2021-08-04T21:55:57" class="time">21:55</a></td></tr>
<tr id="t2021-08-04T22:02:21"><th class="nick" style="background: #97974f">RP</th><td class="text" style="color: #97974f">stwcx: we should have fixed the ones in core but if you have a bug in your own layer...</td><td class="time"><a href="#t2021-08-04T22:02:21" class="time">22:02</a></td></tr>
<tr id="t2021-08-04T22:30:05"><th class="nick" style="background: #62bb62">stwcx</th><td class="text" style="color: #62bb62">smurray: Yes, I'm aware of the usual cause.&nbsp;&nbsp;These are simple &quot;compiled with meson&quot; C/C++ packages that aren't doing anything odd.</td><td class="time"><a href="#t2021-08-04T22:30:05" class="time">22:30</a></td></tr>
<tr id="t2021-08-04T22:30:32"><th class="nick" style="background: #62bb62">stwcx</th><td class="text" style="color: #62bb62">RP: Hmm.&nbsp;&nbsp;Yes, I saw you had some fixes but I think I picked all those up now and am still seeing them.&nbsp;&nbsp;I'll double check.</td><td class="time"><a href="#t2021-08-04T22:30:32" class="time">22:30</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2021-08-03.log.html">&#171; Tuesday, 2021-08-03</a> <a href="index.html">Index</a> <a href="%23yocto.2021-08-05.log.html">Thursday, 2021-08-05 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.17.2 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="https://mg.pov.lt/irclog2html/">https://mg.pov.lt/irclog2html/</a>!</p>
</div>
</body>
</html>
