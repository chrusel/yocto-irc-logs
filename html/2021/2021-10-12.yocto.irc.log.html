<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Tuesday, 2021-10-12</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.17.2 by Marius Gedminas" />
  <meta name="version" content="2.17.2 - 2019-04-23" />
</head>
<body>
<h1>Tuesday, 2021-10-12</h1>
<div class="navigation"> <a href="%23yocto.2021-10-11.log.html">&#171; Monday, 2021-10-11</a> <a href="index.html">Index</a> <a href="%23yocto.2021-10-13.log.html">Wednesday, 2021-10-13 &#187;</a> </div>
<table class="irclog">
<tr id="t2021-10-12T03:05:31"><td class="nickchange" colspan="2">*** camus1 is now known as camus</td><td><a href="#t2021-10-12T03:05:31" class="time">03:05</a></td></tr>
<tr id="t2021-10-12T03:12:58-2"><td class="nickchange" colspan="2">*** jmiehe1 is now known as jmiehe</td><td><a href="#t2021-10-12T03:12:58-2" class="time">03:12</a></td></tr>
<tr id="t2021-10-12T05:27:06"><th class="nick" style="background: #407a40">iceaway</th><td class="text" style="color: #407a40">Good morning! I am in the process of migrating from Sumo to Dunfell, and when I have generated the SDK using bitbake -c populate_sdk &lt;image_name&gt;, with the Dunfell version the generated SDK toolchain claims that my CPU does not have an FPU when triyng to compile with -mfloat-abi=hard. We use both 32-bit and 64-bit applications, and this is an issue with the 32-bit toolchain. I'm a bit puzzled where to even</td><td class="time"><a href="#t2021-10-12T05:27:06" class="time">05:27</a></td></tr>
<tr id="t2021-10-12T05:27:12"><th class="nick" style="background: #407a40">iceaway</th><td class="text" style="color: #407a40">start looking.</td><td class="time"><a href="#t2021-10-12T05:27:12" class="time">05:27</a></td></tr>
<tr id="t2021-10-12T06:07:12"><th class="nick" style="background: #42427e">barath</th><td class="text" style="color: #42427e">iceaway: I hope someone else can chime in and give you the shortcut solution, but I'd grep through poky (?) and check where the error message about not having an FPU is generated and then work backwards to figure out on what basis it decides that</td><td class="time"><a href="#t2021-10-12T06:07:12" class="time">06:07</a></td></tr>
<tr id="t2021-10-12T06:15:01"><th class="nick" style="background: #407a40">iceaway</th><td class="text" style="color: #407a40">barath: The error message comes from g++, so not sure there is a way to backtrace the error message itself to the Yocto build. Feels more like the 32-bit version of the toolchain is not build with FPU support, but I'm guessing here.</td><td class="time"><a href="#t2021-10-12T06:15:01" class="time">06:15</a></td></tr>
<tr id="t2021-10-12T06:16:58"><th class="nick" style="background: #818144">Guest3644</th><td class="text" style="color: #818144">Hi folks, Is there anyway to use an externally buiit toolchain in yocto except meta-sorcery one?</td><td class="time"><a href="#t2021-10-12T06:16:58" class="time">06:16</a></td></tr>
<tr id="t2021-10-12T06:17:41"><th class="nick" style="background: #42427e">barath</th><td class="text" style="color: #42427e">Hm. Then it almost sounds like after the version bump the GCC behavior has changed and the flag mightve changed ðŸ¤” but I can't pretend to have much experience with exactly that, unfortunately</td><td class="time"><a href="#t2021-10-12T06:17:41" class="time">06:17</a></td></tr>
<tr id="t2021-10-12T06:46:33"><td class="nickchange" colspan="2">*** mckoan|away is now known as mckoan</td><td><a href="#t2021-10-12T06:46:33" class="time">06:46</a></td></tr>
<tr id="t2021-10-12T06:46:39"><th class="nick" style="background: #854685">mckoan</th><td class="text" style="color: #854685">good morning</td><td class="time"><a href="#t2021-10-12T06:46:39" class="time">06:46</a></td></tr>
<tr id="t2021-10-12T07:29:13"><th class="nick" style="background: #488888">JosefHolzmayrThe</th><td class="text" style="color: #488888">yo dudx</td><td class="time"><a href="#t2021-10-12T07:29:13" class="time">07:29</a></td></tr>
<tr id="t2021-10-12T07:33:25"><th class="nick" style="background: #854685">mckoan</th><td class="text" style="color: #854685">hey JosefHolzmayrThe</td><td class="time"><a href="#t2021-10-12T07:33:25" class="time">07:33</a></td></tr>
<tr id="t2021-10-12T08:16:25-2"><td class="nickchange" colspan="2">*** camus1 is now known as camus</td><td><a href="#t2021-10-12T08:16:25-2" class="time">08:16</a></td></tr>
<tr id="t2021-10-12T09:07:15"><th class="nick" style="background: #8c4a4a">coldspark29[m]</th><td class="text" style="color: #8c4a4a">Can anyone clarify a few things on Secure Boot for me? I am currently trying to sign images following this guide <a href="https://boundarydevices.com/high-assurance-boot-hab-i-mx8m-edition/" rel="nofollow">https://boundarydevices.com/high-assurance-boot-hab-i-mx8m-edition/</a>. It works for U-Boot but not for the uImage of the kernel. I can successfully complete the described signing process, but the image is not accepted by U-Boot. One possible reason I see is that we are using a uImage instead of a zImage. On the internet you find a</td><td class="time"><a href="#t2021-10-12T09:07:15" class="time">09:07</a></td></tr>
<tr id="t2021-10-12T09:07:15-2"><th class="nick" style="background: #8c4a4a">coldspark29[m]</th><td class="text" style="color: #8c4a4a">lot of misguiding information stating that zImages can't be booted by U-Boot, but then others say you can by adding CONFIG_CMD_BOOTZ=y to the kernel configuration. Does signing not work with uImages? A zImage can be anything from what I understand, some image or a compressed uImage with the gzip compression method. Is that correct? So do I only have to change the mkimage command to -C gzip to get a zImage?</td><td class="time"><a href="#t2021-10-12T09:07:15-2" class="time">09:07</a></td></tr>
<tr id="t2021-10-12T09:07:55"><th class="nick" style="background: #8c4a4a">coldspark29[m]</th><td class="text" style="color: #8c4a4a">s/Can anyone clarify a few things on Secure Boot for me? I am currently trying to sign images following this guide <a href="https://boundarydevices.com/high-assurance-boot-hab-i-mx8m-edition/" rel="nofollow">https://boundarydevices.com/high-assurance-boot-hab-i-mx8m-edition/</a>. It works for U-Boot but not for the uImage of the kernel. I can successfully complete the described signing process, but the image is not accepted by U-Boot. One possible reason I see is that we are using a uImage instead of a zImage. On the internet you find</td><td class="time"><a href="#t2021-10-12T09:07:55" class="time">09:07</a></td></tr>
<tr id="t2021-10-12T09:07:55-2"><th class="nick" style="background: #8c4a4a">coldspark29[m]</th><td class="text" style="color: #8c4a4a">a lot of misguiding information stating that zImages can't be booted by U-Boot, but then others say you can by adding CONFIG_CMD_BOOTZ=y to the kernel configuration. Does signing not work with uImages? A zImage can be anything from what I understand, some image or a compressed uImage with the gzip compression method. Is that correct? So do I only have to change the mkimage command to -C gzip to get a zImage?/Can anyone clarify a few things</td><td class="time"><a href="#t2021-10-12T09:07:55-2" class="time">09:07</a></td></tr>
<tr id="t2021-10-12T09:07:55-3"><th class="nick" style="background: #8c4a4a">coldspark29[m]</th><td class="text" style="color: #8c4a4a">on Secure Boot for me? I am currently trying to sign images following this guide <a href="https://boundarydevices.com/high-assurance-boot-hab-i-mx8m-edition/" rel="nofollow">https://boundarydevices.com/high-assurance-boot-hab-i-mx8m-edition/</a>. It works for U-Boot but not for the uImage of the kernel. I can successfully complete the described signing process, but the image is not accepted by U-Boot. One possible reason I see is that we are using a uImage instead of a zImage. On the internet you find a lot of misguiding information</td><td class="time"><a href="#t2021-10-12T09:07:55-3" class="time">09:07</a></td></tr>
<tr id="t2021-10-12T09:07:55-4"><th class="nick" style="background: #8c4a4a">coldspark29[m]</th><td class="text" style="color: #8c4a4a">stating that zImages can't be booted by U-Boot, but then others say you can by adding `CONFIG_CMD_BOOTZ=y` to the kernel configuration. Does signing not work with uImages? A zImage can be anything from what I understand, some image or a compressed uImage with the gzip compression method. Is that correct? So do I only have to change the `mkimage` command to `-C gzip` to get a zImage?/</td><td class="time"><a href="#t2021-10-12T09:07:55-4" class="time">09:07</a></td></tr>
<tr id="t2021-10-12T09:31:51"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">coldspark29[m]: aarch64 kernel images are named Image and they are booted with booti. You can also used fitimages which is VERY likely what you will want to do for secureboot, and fitimages are booted with bootm.</td><td class="time"><a href="#t2021-10-12T09:31:51" class="time">09:31</a></td></tr>
<tr id="t2021-10-12T09:35:48"><th class="nick" style="background: #8c4a4a">coldspark29[m]</th><td class="text" style="color: #8c4a4a">qschulz: Ah okay, currently we are booting with bootm. I am trying to convert the image to a zImage, but just adding gzip compression, which is probably not going to work. I am very new to the whole boot process in general. Been reading a lot last week.</td><td class="time"><a href="#t2021-10-12T09:35:48" class="time">09:35</a></td></tr>
<tr id="t2021-10-12T09:36:07"><th class="nick" style="background: #8c4a4a">coldspark29[m]</th><td class="text" style="color: #8c4a4a">So I guess adding the compression and booting with bootz is not going to solve my problem. Another thing I was thinking is that signing a FIT image is not going to work with the above guide, because it already contains an IVT</td><td class="time"><a href="#t2021-10-12T09:36:07" class="time">09:36</a></td></tr>
<tr id="t2021-10-12T09:37:18"><th class="nick" style="background: #8c4a4a">coldspark29[m]</th><td class="text" style="color: #8c4a4a">So I need to sign somewhere in the process I guess?</td><td class="time"><a href="#t2021-10-12T09:37:18" class="time">09:37</a></td></tr>
<tr id="t2021-10-12T09:37:23"><th class="nick" style="background: #8c4a4a">coldspark29[m]</th><td class="text" style="color: #8c4a4a">* sign somewhere earlier in the</td><td class="time"><a href="#t2021-10-12T09:37:23" class="time">09:37</a></td></tr>
<tr id="t2021-10-12T09:41:53"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">coldspark29[m]: this guide is only for secureboot up until U-Boot</td><td class="time"><a href="#t2021-10-12T09:41:53" class="time">09:41</a></td></tr>
<tr id="t2021-10-12T09:42:16"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">coldspark29[m]: you need another guide for secureboot in and after U-boot (i.e. kernel+dtb+rootfs)</td><td class="time"><a href="#t2021-10-12T09:42:16" class="time">09:42</a></td></tr>
<tr id="t2021-10-12T09:42:45"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">All I can say is that most likely nothing is specific to imx8m at that point</td><td class="time"><a href="#t2021-10-12T09:42:45" class="time">09:42</a></td></tr>
<tr id="t2021-10-12T09:43:33"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">in which case, I can suggest the following talk <a href="https://www.youtube.com/watch?v=jtLQ8SzfrDU" rel="nofollow">https://www.youtube.com/watch?v=jtLQ8SzfrDU</a> which explains the whole structure and what you're supposed to do</td><td class="time"><a href="#t2021-10-12T09:43:33" class="time">09:43</a></td></tr>
<tr id="t2021-10-12T09:43:36"><th class="nick" style="background: #8c4a4a">coldspark29[m]</th><td class="text" style="color: #8c4a4a">Signing the kernel is described here at the bottom <a href="https://boundarydevices.com/high-assurance-boot-hab-dummies/#kernel_auth" rel="nofollow">https://boundarydevices.com/high-assurance-boot-hab-dummies/#kernel_auth</a></td><td class="time"><a href="#t2021-10-12T09:43:36" class="time">09:43</a></td></tr>
<tr id="t2021-10-12T09:43:47"><th class="nick" style="background: #8c4a4a">coldspark29[m]</th><td class="text" style="color: #8c4a4a">This is the older version for the i.MX6</td><td class="time"><a href="#t2021-10-12T09:43:47" class="time">09:43</a></td></tr>
<tr id="t2021-10-12T09:43:51"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">it's not really technical but will give you an overview of which keys are doing what and stored where</td><td class="time"><a href="#t2021-10-12T09:43:51" class="time">09:43</a></td></tr>
<tr id="t2021-10-12T09:44:06"><th class="nick" style="background: #8c4a4a">coldspark29[m]</th><td class="text" style="color: #8c4a4a">They use a zImage and we have a uImage</td><td class="time"><a href="#t2021-10-12T09:44:06" class="time">09:44</a></td></tr>
<tr id="t2021-10-12T09:44:25"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">yeah no, don't use this guide</td><td class="time"><a href="#t2021-10-12T09:44:25" class="time">09:44</a></td></tr>
<tr id="t2021-10-12T09:45:06"><th class="nick" style="background: #8c4a4a">coldspark29[m]</th><td class="text" style="color: #8c4a4a">Ah I love Bootlin talks. They are usually really good</td><td class="time"><a href="#t2021-10-12T09:45:06" class="time">09:45</a></td></tr>
<tr id="t2021-10-12T09:45:19"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">just use U-Boot normal fitimages, put your Image in it, put your dtb, initramfs whatever</td><td class="time"><a href="#t2021-10-12T09:45:19" class="time">09:45</a></td></tr>
<tr id="t2021-10-12T09:45:25"><th class="nick" style="background: #8c4a4a">coldspark29[m]</th><td class="text" style="color: #8c4a4a">They make the boot process seem fun ^^</td><td class="time"><a href="#t2021-10-12T09:45:25" class="time">09:45</a></td></tr>
<tr id="t2021-10-12T09:45:29"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">then let U-Boot check the signature and all</td><td class="time"><a href="#t2021-10-12T09:45:29" class="time">09:45</a></td></tr>
<tr id="t2021-10-12T09:45:39"><th class="nick" style="background: #8c4a4a">coldspark29[m]</th><td class="text" style="color: #8c4a4a">What is wrong with the guide?</td><td class="time"><a href="#t2021-10-12T09:45:39" class="time">09:45</a></td></tr>
<tr id="t2021-10-12T09:46:00"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">they use a SoC specific mechanism while there is no need for it</td><td class="time"><a href="#t2021-10-12T09:46:00" class="time">09:46</a></td></tr>
<tr id="t2021-10-12T09:46:19"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">though it might predate the U-Boot implementation of secureboot with fitimage or use vendor BSP</td><td class="time"><a href="#t2021-10-12T09:46:19" class="time">09:46</a></td></tr>
<tr id="t2021-10-12T09:46:47"><th class="nick" style="background: #8c4a4a">coldspark29[m]</th><td class="text" style="color: #8c4a4a">So you say verification should work out of the box?</td><td class="time"><a href="#t2021-10-12T09:46:47" class="time">09:46</a></td></tr>
<tr id="t2021-10-12T09:46:59"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">anyway, in the talk you'll see, you need two sets of keys, one whose hash are in the SoC and one public key in U-Boot dtb that is used to check the fitimage signature</td><td class="time"><a href="#t2021-10-12T09:46:59" class="time">09:46</a></td></tr>
<tr id="t2021-10-12T09:47:36"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">since you validated the U-Boot with the SoC, you know you can trust the public key in it and use that one for checking the fitimage which contains the kernel and other things</td><td class="time"><a href="#t2021-10-12T09:47:36" class="time">09:47</a></td></tr>
<tr id="t2021-10-12T09:47:41"><th class="nick" style="background: #8c4a4a">coldspark29[m]</th><td class="text" style="color: #8c4a4a">Hmm well I will have a look at the video. Hopefully I'll be a bit smarter then</td><td class="time"><a href="#t2021-10-12T09:47:41" class="time">09:47</a></td></tr>
<tr id="t2021-10-12T09:48:05"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">coldspark29[m]: you might need a few kconfig options selected but yeah, bootm $addr_fit_img will do the check if correctly configured</td><td class="time"><a href="#t2021-10-12T09:48:05" class="time">09:48</a></td></tr>
<tr id="t2021-10-12T09:57:51"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">kanavin: any idea why libnewt-python would be non-reproducible due to linking to libpthread in one case and not another? :/</td><td class="time"><a href="#t2021-10-12T09:57:51" class="time">09:57</a></td></tr>
<tr id="t2021-10-12T09:58:13"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">kanavin: the empty pthread in glibc 2.34 is probably partly at fault but I don't know why we'd see this now</td><td class="time"><a href="#t2021-10-12T09:58:13" class="time">09:58</a></td></tr>
<tr id="t2021-10-12T10:01:18"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">kanavin: ah, it is building on debian11. I bet this is host leakage :(</td><td class="time"><a href="#t2021-10-12T10:01:18" class="time">10:01</a></td></tr>
<tr id="t2021-10-12T10:45:59"><th class="nick" style="background: #97974f">manuel1985</th><td class="text" style="color: #97974f">I have problems executing a self-written do_patch() function after a self-written do_fetch() function.</td><td class="time"><a href="#t2021-10-12T10:45:59" class="time">10:45</a></td></tr>
<tr id="t2021-10-12T10:46:01"><th class="nick" style="background: #97974f">manuel1985</th><td class="text" style="color: #97974f">do_fetch() mkdirs the directory and git-clones the repo, but do_patch deletes the directory</td><td class="time"><a href="#t2021-10-12T10:46:01" class="time">10:46</a></td></tr>
<tr id="t2021-10-12T10:46:58"><th class="nick" style="background: #97974f">manuel1985</th><td class="text" style="color: #97974f">( Before you have an heart attack: I'm selfcoding do_fetch and do_patch solely for explanatory purposes. )</td><td class="time"><a href="#t2021-10-12T10:46:58" class="time">10:46</a></td></tr>
<tr id="t2021-10-12T11:03:42"><th class="nick" style="background: #9b519b">kanavin</th><td class="text" style="color: #9b519b">RP: I guess this is now sorted?</td><td class="time"><a href="#t2021-10-12T11:03:42" class="time">11:03</a></td></tr>
<tr id="t2021-10-12T11:07:49"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">kanavin: I'm hoping so. I now found bootchart also fails reproduce but I think I can see why too. Why so many python failures all of a sudden :/</td><td class="time"><a href="#t2021-10-12T11:07:49" class="time">11:07</a></td></tr>
<tr id="t2021-10-12T11:09:46"><th class="nick" style="background: #9b519b">kanavin</th><td class="text" style="color: #9b519b">some new python3 items made it to master</td><td class="time"><a href="#t2021-10-12T11:09:46" class="time">11:09</a></td></tr>
<tr id="t2021-10-12T11:10:29"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">kanavin: I think its python versions changing on the stream workers</td><td class="time"><a href="#t2021-10-12T11:10:29" class="time">11:10</a></td></tr>
<tr id="t2021-10-12T11:10:57"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">kanavin: the bootchart issue looks like all of a sudden some versions could find a host python_compile.py script</td><td class="time"><a href="#t2021-10-12T11:10:57" class="time">11:10</a></td></tr>
<tr id="t2021-10-12T11:16:54"><td class="nickchange" colspan="2">*** alicef_ is now known as alicef</td><td><a href="#t2021-10-12T11:16:54" class="time">11:16</a></td></tr>
<tr id="t2021-10-12T12:19:10"><th class="nick" style="background: #8c4a4a">coldspark29[m]</th><td class="text" style="color: #8c4a4a">qschulz: So I think I got a good overview. We have successfully completed the signing of the Bootloader and my colleague told me to use the same set of keys to verify the kernel. What you are suggesting is to use another set of keys for the kernel. I don't really mind about the approach as long as it works. I guess your approach is the standard U-Boot way of verifying kernels?</td><td class="time"><a href="#t2021-10-12T12:19:10" class="time">12:19</a></td></tr>
<tr id="t2021-10-12T12:19:46"><th class="nick" style="background: #8c4a4a">coldspark29[m]</th><td class="text" style="color: #8c4a4a">I realized that you are actually the guy having given that talk :)</td><td class="time"><a href="#t2021-10-12T12:19:46" class="time">12:19</a></td></tr>
<tr id="t2021-10-12T12:20:05"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">coldspark29[m]: you could reuse the &quot;same&quot; keys in that their content is the same but they'll be duplicated in U-Boot binary too</td><td class="time"><a href="#t2021-10-12T12:20:05" class="time">12:20</a></td></tr>
<tr id="t2021-10-12T12:20:23"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">coldspark29[m]: co-presenter with MylÃ¨ne yes :)</td><td class="time"><a href="#t2021-10-12T12:20:23" class="time">12:20</a></td></tr>
<tr id="t2021-10-12T12:21:45"><th class="nick" style="background: #8c4a4a">coldspark29[m]</th><td class="text" style="color: #8c4a4a">You are based in Tolouse right? I was actually there this summer for one day. Really beautiful city!</td><td class="time"><a href="#t2021-10-12T12:21:45" class="time">12:21</a></td></tr>
<tr id="t2021-10-12T12:23:33"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">coldspark29[m]: not working at Bootlin and not in Toulouse anymore :)</td><td class="time"><a href="#t2021-10-12T12:23:33" class="time">12:23</a></td></tr>
<tr id="t2021-10-12T12:23:40"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">but yes, I was there. Too warm for me :p</td><td class="time"><a href="#t2021-10-12T12:23:40" class="time">12:23</a></td></tr>
<tr id="t2021-10-12T12:24:10"><th class="nick" style="background: #8c4a4a">coldspark29[m]</th><td class="text" style="color: #8c4a4a">My colleague says it is alright if I try your approach. Also interesting what you said about the dependency loop in in Yocto. This is for an Android image atm which usese dm-verity, but I will have to do the same thing later for Yocto. Did you write a detailed guide for this or can you recommend one?</td><td class="time"><a href="#t2021-10-12T12:24:10" class="time">12:24</a></td></tr>
<tr id="t2021-10-12T12:25:26"><th class="nick" style="background: #8c4a4a">coldspark29[m]</th><td class="text" style="color: #8c4a4a">For working it is too warm maybe. I live in Germany and like the cold days for being productive at the computer. For leisure it is better when it is warm though. Tolouse reminded me of Barcelona a lot. which I also like</td><td class="time"><a href="#t2021-10-12T12:25:26" class="time">12:25</a></td></tr>
<tr id="t2021-10-12T12:27:07"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">coldspark29[m]: I didn't upstream the custom fitimage class, nor is it publicly available somewhere and I don't have access to the sources anymore. IIRC it was really not complicated, a really stripped down version of kernel-fitimage bbclass</td><td class="time"><a href="#t2021-10-12T12:27:07" class="time">12:27</a></td></tr>
<tr id="t2021-10-12T12:27:29"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">coldspark29[m]: otherwise Bartosz from Baylibre tried to upstream something to fix this a few months ago/last year</td><td class="time"><a href="#t2021-10-12T12:27:29" class="time">12:27</a></td></tr>
<tr id="t2021-10-12T12:30:05"><th class="nick" style="background: #8c4a4a">coldspark29[m]</th><td class="text" style="color: #8c4a4a">Well I will try the approach for this Android image first. I hope your presentation will be sufficient to get this working. I am still missing a lot of parts to the puzzle, but it is really an interesting topic once you start to understand a few things.</td><td class="time"><a href="#t2021-10-12T12:30:05" class="time">12:30</a></td></tr>
<tr id="t2021-10-12T12:30:58"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">The only thing that was not tackled during this talk is if you want secureboot with RW rootfs, that we didn't investigate at all</td><td class="time"><a href="#t2021-10-12T12:30:58" class="time">12:30</a></td></tr>
<tr id="t2021-10-12T12:31:15"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">the rest, I don't think there's much more to it except some vendors oddities maybe</td><td class="time"><a href="#t2021-10-12T12:31:15" class="time">12:31</a></td></tr>
<tr id="t2021-10-12T12:32:27"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">but things might click a bit better while working on it (hopefully)</td><td class="time"><a href="#t2021-10-12T12:32:27" class="time">12:32</a></td></tr>
<tr id="t2021-10-12T12:32:29"><th class="nick" style="background: #8c4a4a">coldspark29[m]</th><td class="text" style="color: #8c4a4a">Yeah we will ignore dm-verity for now. First things first: I need to sign and verify the image</td><td class="time"><a href="#t2021-10-12T12:32:29" class="time">12:32</a></td></tr>
<tr id="t2021-10-12T12:32:39"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">U-Boot has some docs too, don't hesitate to read those</td><td class="time"><a href="#t2021-10-12T12:32:39" class="time">12:32</a></td></tr>
<tr id="t2021-10-12T12:32:52"><th class="nick" style="background: #8c4a4a">coldspark29[m]</th><td class="text" style="color: #8c4a4a">Yeah I should really do that</td><td class="time"><a href="#t2021-10-12T12:32:52" class="time">12:32</a></td></tr>
<tr id="t2021-10-12T12:33:49"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">the fitimage is signed with `mkimage` btw, that should help you look for the right guides/docs</td><td class="time"><a href="#t2021-10-12T12:33:49" class="time">12:33</a></td></tr>
<tr id="t2021-10-12T12:35:10"><th class="nick" style="background: #8c4a4a">coldspark29[m]</th><td class="text" style="color: #8c4a4a">Yeah I got that part, but how to implement it into U-Boot?</td><td class="time"><a href="#t2021-10-12T12:35:10" class="time">12:35</a></td></tr>
<tr id="t2021-10-12T12:35:22"><th class="nick" style="background: #8c4a4a">coldspark29[m]</th><td class="text" style="color: #8c4a4a">U-Boot has to know about the keys</td><td class="time"><a href="#t2021-10-12T12:35:22" class="time">12:35</a></td></tr>
<tr id="t2021-10-12T12:35:42"><th class="nick" style="background: #8c4a4a">coldspark29[m]</th><td class="text" style="color: #8c4a4a">Guess I have to read about U-Boot now</td><td class="time"><a href="#t2021-10-12T12:35:42" class="time">12:35</a></td></tr>
<tr id="t2021-10-12T12:35:48"><th class="nick" style="background: #8c4a4a">coldspark29[m]</th><td class="text" style="color: #8c4a4a">It's time</td><td class="time"><a href="#t2021-10-12T12:35:48" class="time">12:35</a></td></tr>
<tr id="t2021-10-12T12:46:09"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">it's a special device tree which points to the dev-key, then dtc will fetch the keys and include them in the dtb which is included in the U-Boot binary</td><td class="time"><a href="#t2021-10-12T12:46:09" class="time">12:46</a></td></tr>
<tr id="t2021-10-12T12:47:05"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">In recent U-Boot, a lot of ARM boards have now a dtb, so I don't know how and where it fits in the big picture, I didn't have any device tree for the aarch32 SoC back then</td><td class="time"><a href="#t2021-10-12T12:47:05" class="time">12:47</a></td></tr>
<tr id="t2021-10-12T12:51:22"><th class="nick" style="background: #8c4a4a">coldspark29[m]</th><td class="text" style="color: #8c4a4a">Yeah I already found a few things. I just wonder, when I add the CONFIG_SECURE_BOOT flag in the kernel config atm, HAB seems to try to verify the Kernel. Will this automatically be replaced if I configure this method?</td><td class="time"><a href="#t2021-10-12T12:51:22" class="time">12:51</a></td></tr>
<tr id="t2021-10-12T12:53:55"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">coldspark29[m]: all process was done with an upstream U-Boot, so if you're using a vendor one, I cannot say how it's working and if it can work</td><td class="time"><a href="#t2021-10-12T12:53:55" class="time">12:53</a></td></tr>
<tr id="t2021-10-12T12:57:29"><th class="nick" style="background: #8c4a4a">coldspark29[m]</th><td class="text" style="color: #8c4a4a">Hmm we indeed use the one from boundarydevices</td><td class="time"><a href="#t2021-10-12T12:57:29" class="time">12:57</a></td></tr>
<tr id="t2021-10-12T13:42:07"><th class="nick" style="background: #539e9e">sb27</th><td class="text" style="color: #539e9e">What is the usual way to do PDF generation with yocto? Is there a latex recipe that I can use? Seems like that would be a pretty massive footprint though.</td><td class="time"><a href="#t2021-10-12T13:42:07" class="time">13:42</a></td></tr>
<tr id="t2021-10-12T13:44:38"><th class="nick" style="background: #488888">JosefHolzmayrThe</th><td class="text" style="color: #488888">sb27: care to elaborate? pdf generation where, and when?</td><td class="time"><a href="#t2021-10-12T13:44:38" class="time">13:44</a></td></tr>
<tr id="t2021-10-12T13:46:01"><th class="nick" style="background: #539e9e">sb27</th><td class="text" style="color: #539e9e">The yocto system is running a chrome browser with a c++-python-javascript application. I basically want to be able to convert HTML to PDF and be able to print the PDF out to a printer (whenver the user desires)</td><td class="time"><a href="#t2021-10-12T13:46:01" class="time">13:46</a></td></tr>
<tr id="t2021-10-12T13:46:39"><th class="nick" style="background: #488888">JosefHolzmayrThe</th><td class="text" style="color: #488888">just pack the stuff into the webpage. js can totally do that.</td><td class="time"><a href="#t2021-10-12T13:46:39" class="time">13:46</a></td></tr>
<tr id="t2021-10-12T13:47:41"><th class="nick" style="background: #488888">JosefHolzmayrThe</th><td class="text" style="color: #488888">rendering html to pdf in anything that is not effectively a full blown browser rendering engine is basically pain.</td><td class="time"><a href="#t2021-10-12T13:47:41" class="time">13:47</a></td></tr>
<tr id="t2021-10-12T13:47:53"><th class="nick" style="background: #488888">JosefHolzmayrThe</th><td class="text" style="color: #488888">more pain than in the browser, that is.</td><td class="time"><a href="#t2021-10-12T13:47:53" class="time">13:47</a></td></tr>
<tr id="t2021-10-12T13:50:20"><th class="nick" style="background: #488888">JosefHolzmayrThe</th><td class="text" style="color: #488888">if on the other hand you're willing to leave out the &quot;html to&quot; part, then i'd go for some library that matches your needs in the backend. i'm sure there's some usable stuff in the python space.</td><td class="time"><a href="#t2021-10-12T13:50:20" class="time">13:50</a></td></tr>
<tr id="t2021-10-12T13:55:00"><th class="nick" style="background: #539e9e">sb27</th><td class="text" style="color: #539e9e">JosefHolzymayrThe: Thanks! I think the reason we like latex is because it does a lot of things out of the box like table splitting, multi-page reports, embedded images, and the output is most likely going to be prettier. In this case we would directly generate latex vs convert from html to pdf. But I'm guessing the size requirements are too large.</td><td class="time"><a href="#t2021-10-12T13:55:00" class="time">13:55</a></td></tr>
<tr id="t2021-10-12T13:58:01"><th class="nick" style="background: #488888">JosefHolzmayrThe</th><td class="text" style="color: #488888">sb27: well if your target is big enough to hold a chromium frontend then latex certainly might be doable too, in terms of resources. texlilve seems to even be cross compile aware, so trying to package it up is probably not extraordinarily crazy either: <a href="https://www.tug.org/texlive/doc/tlbuild.html#Cross-compilation" rel="nofollow">https://www.tug.org/texlive/doc/tlbuild.html#Cross-compilation</a></td><td class="time"><a href="#t2021-10-12T13:58:01" class="time">13:58</a></td></tr>
<tr id="t2021-10-12T14:03:14"><th class="nick" style="background: #539e9e">sb27</th><td class="text" style="color: #539e9e">JosefHolzmayrThe: Thank you so much! Hopefully it's not too difficult to make a recipe out of that.</td><td class="time"><a href="#t2021-10-12T14:03:14" class="time">14:03</a></td></tr>
<tr id="t2021-10-12T14:04:20"><th class="nick" style="background: #488888">JosefHolzmayrThe</th><td class="text" style="color: #488888">sb27: have fun - and if you have something, send patches!</td><td class="time"><a href="#t2021-10-12T14:04:20" class="time">14:04</a></td></tr>
<tr id="t2021-10-12T14:10:27"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">please upstream it if you manage to get this to work, depending how long it takes to build everything (browser excluded) I might actually make use of it</td><td class="time"><a href="#t2021-10-12T14:10:27" class="time">14:10</a></td></tr>
<tr id="t2021-10-12T14:10:56"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">nevermind, mixing up Buildroot and Yocto, need it for a Buildroot project :|</td><td class="time"><a href="#t2021-10-12T14:10:56" class="time">14:10</a></td></tr>
<tr id="t2021-10-12T14:11:19"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">please make it public anyway, I'm sure it can be useful to some people :)</td><td class="time"><a href="#t2021-10-12T14:11:19" class="time">14:11</a></td></tr>
<tr id="t2021-10-12T16:03:28"><td class="nickchange" colspan="2">*** Crofton_ is now known as Crofton</td><td><a href="#t2021-10-12T16:03:28" class="time">16:03</a></td></tr>
<tr id="t2021-10-12T16:03:35"><td class="nickchange" colspan="2">*** Crofton is now known as Crofton|cloud</td><td><a href="#t2021-10-12T16:03:35" class="time">16:03</a></td></tr>
<tr id="t2021-10-12T16:04:05"><td class="nickchange" colspan="2">*** Crofton|cloud is now known as Crofton</td><td><a href="#t2021-10-12T16:04:05" class="time">16:04</a></td></tr>
<tr id="t2021-10-12T16:07:26"><th class="nick" style="background: #a25555">zeddii</th><td class="text" style="color: #a25555">tlwoerner: I was most out last week, but I did get a first pass at the defconfig chopper script up and running.</td><td class="time"><a href="#t2021-10-12T16:07:26" class="time">16:07</a></td></tr>
<tr id="t2021-10-12T16:10:02"><th class="nick" style="background: #57a657">tlwoerner</th><td class="text" style="color: #57a657">zeddii: nice!</td><td class="time"><a href="#t2021-10-12T16:10:02" class="time">16:10</a></td></tr>
<tr id="t2021-10-12T16:10:36"><th class="nick" style="background: #a25555">zeddii</th><td class="text" style="color: #a25555">I'll check the initial version into the kernel-tools repo and send you some details. and we can see what it does :D</td><td class="time"><a href="#t2021-10-12T16:10:36" class="time">16:10</a></td></tr>
<tr id="t2021-10-12T16:10:55"><th class="nick" style="background: #57a657">tlwoerner</th><td class="text" style="color: #57a657">sounds fantastic! :-D</td><td class="time"><a href="#t2021-10-12T16:10:55" class="time">16:10</a></td></tr>
<tr id="t2021-10-12T16:11:51"><th class="nick" style="background: #57a657">tlwoerner</th><td class="text" style="color: #57a657">friendly remind to everyone that the CFP for YPS2021.11 closes in a week. please get your proposals in for lightning talks, talks, and hands-on classes</td><td class="time"><a href="#t2021-10-12T16:11:51" class="time">16:11</a></td></tr>
<tr id="t2021-10-12T16:12:08"><th class="nick" style="background: #57a657">tlwoerner</th><td class="text" style="color: #57a657"><a href="https://pretalx.com/yocto-project-summit-2021-11/cfp" rel="nofollow">https://pretalx.com/yocto-project-summit-2021-11/cfp</a></td><td class="time"><a href="#t2021-10-12T16:12:08" class="time">16:12</a></td></tr>
<tr id="t2021-10-12T16:21:13"><th class="nick" style="background: #a25555">zeddii</th><td class="text" style="color: #a25555">ahah. running out of time</td><td class="time"><a href="#t2021-10-12T16:21:13" class="time">16:21</a></td></tr>
<tr id="t2021-10-12T16:21:22"><td class="action" colspan="2">* zeddii makes a note to submit a few options.</td><td><a href="#t2021-10-12T16:21:22" class="time">16:21</a></td></tr>
<tr id="t2021-10-12T16:33:11"><td class="nickchange" colspan="2">*** mckoan is now known as mckoan|away</td><td><a href="#t2021-10-12T16:33:11" class="time">16:33</a></td></tr>
<tr id="t2021-10-12T19:24:34"><th class="nick" style="background: #5959a9">wCPO</th><td class="text" style="color: #5959a9">hmm, yoctoproject.org got blacklisted (<a href="https://admin.uribl.com/" rel="nofollow">https://admin.uribl.com/</a>), so that's why all the lists mail are suddenly in spam</td><td class="time"><a href="#t2021-10-12T19:24:34" class="time">19:24</a></td></tr>
<tr id="t2021-10-12T19:52:14"><th class="nick" style="background: #5959a9">wCPO</th><td class="text" style="color: #5959a9">maybe, rspamd just shouldn't use that list, hm</td><td class="time"><a href="#t2021-10-12T19:52:14" class="time">19:52</a></td></tr>
<tr id="t2021-10-12T20:12:54"><th class="nick" style="background: #adad5b">override</th><td class="text" style="color: #adad5b">whats the best way to make a recipe start referring to custom configs</td><td class="time"><a href="#t2021-10-12T20:12:54" class="time">20:12</a></td></tr>
<tr id="t2021-10-12T20:13:53"><th class="nick" style="background: #adad5b">override</th><td class="text" style="color: #adad5b">without touching the recipe itself, trying to do it using bbappend kind of mechanisms</td><td class="time"><a href="#t2021-10-12T20:13:53" class="time">20:13</a></td></tr>
<tr id="t2021-10-12T21:18:25"><th class="nick" style="background: #b15db1">khem</th><td class="text" style="color: #b15db1">override:&nbsp;&nbsp;write a bbappend and create the dropin files parallel to bbappend in a directory and hook them up into right locations via do_install:append</td><td class="time"><a href="#t2021-10-12T21:18:25" class="time">21:18</a></td></tr>
<tr id="t2021-10-12T22:32:31"><th class="nick" style="background: #4d4d93">RP</th><td class="text" style="color: #4d4d93">halstead: ^^^ ?</td><td class="time"><a href="#t2021-10-12T22:32:31" class="time">22:32</a></td></tr>
<tr id="t2021-10-12T22:46:06"><th class="nick" style="background: #5fb4b4">wberrier</th><td class="text" style="color: #5fb4b4">any suggestions about having an additional golang version where various recipes can pick which version of go to use?</td><td class="time"><a href="#t2021-10-12T22:46:06" class="time">22:46</a></td></tr>
<tr id="t2021-10-12T22:48:08"><th class="nick" style="background: #b86161">WadeBerrier[m]</th><td class="text" style="color: #b86161">any suggestions about having an additional golang version where various recipes can pick which version of go to use?</td><td class="time"><a href="#t2021-10-12T22:48:08" class="time">22:48</a></td></tr>
<tr id="t2021-10-12T23:26:45"><th class="nick" style="background: #62bb62">halstead</th><td class="text" style="color: #62bb62">wCPO:&nbsp;&nbsp;thank you for the report. I've been messing with a new mail relay today and may have caused an issue</td><td class="time"><a href="#t2021-10-12T23:26:45" class="time">23:26</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2021-10-11.log.html">&#171; Monday, 2021-10-11</a> <a href="index.html">Index</a> <a href="%23yocto.2021-10-13.log.html">Wednesday, 2021-10-13 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.17.2 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="https://mg.pov.lt/irclog2html/">https://mg.pov.lt/irclog2html/</a>!</p>
</div>
</body>
</html>
