<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Friday, 2021-10-22</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.17.2 by Marius Gedminas" />
  <meta name="version" content="2.17.2 - 2019-04-23" />
</head>
<body>
<h1>Friday, 2021-10-22</h1>
<div class="navigation"> <a href="%23yocto.2021-10-21.log.html">&#171; Thursday, 2021-10-21</a> <a href="index.html">Index</a> <a href="%23yocto.2021-10-23.log.html">Saturday, 2021-10-23 &#187;</a> </div>
<table class="irclog">
<tr id="t2021-10-22T02:22:00"><td class="nickchange" colspan="2">*** camus1 is now known as camus</td><td><a href="#t2021-10-22T02:22:00" class="time">02:22</a></td></tr>
<tr id="t2021-10-22T02:28:00-2"><td class="nickchange" colspan="2">*** JPEW_ is now known as JPEW</td><td><a href="#t2021-10-22T02:28:00-2" class="time">02:28</a></td></tr>
<tr id="t2021-10-22T02:28:35-4"><td class="nickchange" colspan="2">*** armpit_ is now known as armpit</td><td><a href="#t2021-10-22T02:28:35-4" class="time">02:28</a></td></tr>
<tr id="t2021-10-22T02:28:36"><td class="nickchange" colspan="2">*** drewfustini_ is now known as drewfustini</td><td><a href="#t2021-10-22T02:28:36" class="time">02:28</a></td></tr>
<tr id="t2021-10-22T03:03:44-2"><td class="nickchange" colspan="2">*** camus1 is now known as camus</td><td><a href="#t2021-10-22T03:03:44-2" class="time">03:03</a></td></tr>
<tr id="t2021-10-22T03:50:56"><td class="nickchange" colspan="2">*** bluelightning_ is now known as bluelightning</td><td><a href="#t2021-10-22T03:50:56" class="time">03:50</a></td></tr>
<tr id="t2021-10-22T03:59:35-2"><td class="nickchange" colspan="2">*** jmiehe1 is now known as jmiehe</td><td><a href="#t2021-10-22T03:59:35-2" class="time">03:59</a></td></tr>
<tr id="t2021-10-22T06:43:47"><th class="nick" style="background: #407a40">JosefHolzmayrThe</th><td class="text" style="color: #407a40">yo dudX</td><td class="time"><a href="#t2021-10-22T06:43:47" class="time">06:43</a></td></tr>
<tr id="t2021-10-22T06:43:58"><th class="nick" style="background: #42427e">manuel1985</th><td class="text" style="color: #42427e">hoi</td><td class="time"><a href="#t2021-10-22T06:43:58" class="time">06:43</a></td></tr>
<tr id="t2021-10-22T06:57:18-2"><td class="nickchange" colspan="2">*** camus1 is now known as camus</td><td><a href="#t2021-10-22T06:57:18-2" class="time">06:57</a></td></tr>
<tr id="t2021-10-22T07:44:54-2"><td class="nickchange" colspan="2">*** camus1 is now known as camus</td><td><a href="#t2021-10-22T07:44:54-2" class="time">07:44</a></td></tr>
<tr id="t2021-10-22T08:45:55"><th class="nick" style="background: #818144">Guest56</th><td class="text" style="color: #818144">HI! I`d like to know is there a possibility to get a recipe`s $WORKDIR value inside another recipe?</td><td class="time"><a href="#t2021-10-22T08:45:55" class="time">08:45</a></td></tr>
<tr id="t2021-10-22T08:46:08"><th class="nick" style="background: #407a40">JosefHolzmayrThe</th><td class="text" style="color: #407a40">Guest56: no.</td><td class="time"><a href="#t2021-10-22T08:46:08" class="time">08:46</a></td></tr>
<tr id="t2021-10-22T08:46:41"><th class="nick" style="background: #818144">Guest56</th><td class="text" style="color: #818144">Ok, thanks</td><td class="time"><a href="#t2021-10-22T08:46:41" class="time">08:46</a></td></tr>
<tr id="t2021-10-22T08:48:50-2"><td class="nickchange" colspan="2">*** camus1 is now known as camus</td><td><a href="#t2021-10-22T08:48:50-2" class="time">08:48</a></td></tr>
<tr id="t2021-10-22T09:21:11"><th class="nick" style="background: #854685">NiksDev</th><td class="text" style="color: #854685">I am getting a failure in fetching the ncurses git</td><td class="time"><a href="#t2021-10-22T09:21:11" class="time">09:21</a></td></tr>
<tr id="t2021-10-22T09:21:40"><th class="nick" style="background: #854685">NiksDev</th><td class="text" style="color: #854685">I tried to clone manually, and still getting failure</td><td class="time"><a href="#t2021-10-22T09:21:40" class="time">09:21</a></td></tr>
<tr id="t2021-10-22T09:21:50"><th class="nick" style="background: #854685">NiksDev</th><td class="text" style="color: #854685">**fatal: unable to access '<a href="https://salsa.debian.org/debian/ncurses.git/" rel="nofollow">https://salsa.debian.org/debian/ncurses.git/</a>': server certificate verification failed. CAfile: /etc/ssl/certs/ca-certificates.crt CRLfile: none</td><td class="time"><a href="#t2021-10-22T09:21:50" class="time">09:21</a></td></tr>
<tr id="t2021-10-22T09:21:51"><th class="nick" style="background: #854685">NiksDev</th><td class="text" style="color: #854685">**</td><td class="time"><a href="#t2021-10-22T09:21:51" class="time">09:21</a></td></tr>
<tr id="t2021-10-22T09:22:37"><th class="nick" style="background: #854685">NiksDev</th><td class="text" style="color: #854685">btw, I have a premirror where the required git objects are present in the tarball, but the bitbake tries to sync the objects after premirror step as well</td><td class="time"><a href="#t2021-10-22T09:22:37" class="time">09:22</a></td></tr>
<tr id="t2021-10-22T09:22:41"><th class="nick" style="background: #407a40">JosefHolzmayrThe</th><td class="text" style="color: #407a40">NiksDev: chances are you need to update your certificates. see <a href="https://stackoverflow.com/questions/21181231/server-certificate-verification-failed-cafile-etc-ssl-certs-ca-certificates-c/69403278#69403278" rel="nofollow">https://stackoverflow.com/questions/21181231/server-certificate-verification-failed-cafile-etc-ssl-certs-ca-certificates-c/69403278#69403278</a></td><td class="time"><a href="#t2021-10-22T09:22:41" class="time">09:22</a></td></tr>
<tr id="t2021-10-22T09:22:47"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">NiksDev: update your ca-certificates package</td><td class="time"><a href="#t2021-10-22T09:22:47" class="time">09:22</a></td></tr>
<tr id="t2021-10-22T09:23:10"><th class="nick" style="background: #407a40">JosefHolzmayrThe</th><td class="text" style="color: #407a40">and refresh the cache, thats also important :)</td><td class="time"><a href="#t2021-10-22T09:23:10" class="time">09:23</a></td></tr>
<tr id="t2021-10-22T09:23:31"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">(and if you need to update ca-certs, i suggest doing a full update, as you've not updated for ages)</td><td class="time"><a href="#t2021-10-22T09:23:31" class="time">09:23</a></td></tr>
<tr id="t2021-10-22T09:23:49"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">to be clear we mean on the host system, nothing in yocto</td><td class="time"><a href="#t2021-10-22T09:23:49" class="time">09:23</a></td></tr>
<tr id="t2021-10-22T09:24:49"><th class="nick" style="background: #854685">NiksDev</th><td class="text" style="color: #854685">I have a ubuntu VM spawned in a server and that;'s the host. I run apt-get upgrade before every build, so all packages are latest of that ubuntu version</td><td class="time"><a href="#t2021-10-22T09:24:49" class="time">09:24</a></td></tr>
<tr id="t2021-10-22T09:25:18"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">what release of ubuntu, and what's the version of ca-certificates</td><td class="time"><a href="#t2021-10-22T09:25:18" class="time">09:25</a></td></tr>
<tr id="t2021-10-22T09:25:37"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">and presumably you do apt-get update first</td><td class="time"><a href="#t2021-10-22T09:25:37" class="time">09:25</a></td></tr>
<tr id="t2021-10-22T09:25:51"><th class="nick" style="background: #407a40">JosefHolzmayrThe</th><td class="text" style="color: #407a40">just like i said, updating alone doesn't do the trick, you also need the update-ca thing.</td><td class="time"><a href="#t2021-10-22T09:25:51" class="time">09:25</a></td></tr>
<tr id="t2021-10-22T09:27:08"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">surely the postinst does that bit for you</td><td class="time"><a href="#t2021-10-22T09:27:08" class="time">09:27</a></td></tr>
<tr id="t2021-10-22T09:27:41"><th class="nick" style="background: #407a40">JosefHolzmayrThe</th><td class="text" style="color: #407a40">&quot;surely&quot;</td><td class="time"><a href="#t2021-10-22T09:27:41" class="time">09:27</a></td></tr>
<tr id="t2021-10-22T09:27:56"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888"><a href="https://salsa.debian.org/debian/ca-certificates/-/blob/master/debian/ca-certificates.postinst#L150" rel="nofollow">https://salsa.debian.org/debian/ca-certificates/-/blob/master/debian/ca-certificates.postinst#L150</a></td><td class="time"><a href="#t2021-10-22T09:27:56" class="time">09:27</a></td></tr>
<tr id="t2021-10-22T09:32:28"><th class="nick" style="background: #854685">NiksDev</th><td class="text" style="color: #854685">rburton for now, I tried with export GIT_SSL_NO_VERIFY=1 and the clone can succeed</td><td class="time"><a href="#t2021-10-22T09:32:28" class="time">09:32</a></td></tr>
<tr id="t2021-10-22T09:33:41"><th class="nick" style="background: #854685">NiksDev</th><td class="text" style="color: #854685">btw, the real question I wanted to ask was</td><td class="time"><a href="#t2021-10-22T09:33:41" class="time">09:33</a></td></tr>
<tr id="t2021-10-22T09:33:42"><th class="nick" style="background: #854685">NiksDev</th><td class="text" style="color: #854685">is there a way to disable the sync step after the git repo is downloaded from a premirrror tarball</td><td class="time"><a href="#t2021-10-22T09:33:42" class="time">09:33</a></td></tr>
<tr id="t2021-10-22T09:34:00"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">not afaik</td><td class="time"><a href="#t2021-10-22T09:34:00" class="time">09:34</a></td></tr>
<tr id="t2021-10-22T09:34:10"><th class="nick" style="background: #854685">NiksDev</th><td class="text" style="color: #854685">because if the original server fails the git sync, it defeats the purpose of the premirror</td><td class="time"><a href="#t2021-10-22T09:34:10" class="time">09:34</a></td></tr>
<tr id="t2021-10-22T09:34:36"><th class="nick" style="background: #854685">NiksDev</th><td class="text" style="color: #854685">at least a check in do_fetch to check if the sync is really required or not would help</td><td class="time"><a href="#t2021-10-22T09:34:36" class="time">09:34</a></td></tr>
<tr id="t2021-10-22T09:34:54"><th class="nick" style="background: #854685">NiksDev</th><td class="text" style="color: #854685">e.g. run git branch --contains SRCREV and then decide if sync is required</td><td class="time"><a href="#t2021-10-22T09:34:54" class="time">09:34</a></td></tr>
<tr id="t2021-10-22T09:35:01"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">right and i think it does that already</td><td class="time"><a href="#t2021-10-22T09:35:01" class="time">09:35</a></td></tr>
<tr id="t2021-10-22T09:35:14"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">a minimal reproducer and a bug report would be the next step</td><td class="time"><a href="#t2021-10-22T09:35:14" class="time">09:35</a></td></tr>
<tr id="t2021-10-22T09:35:34"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">easily done, just make a manual mirror tarball for an invalid git repo url</td><td class="time"><a href="#t2021-10-22T09:35:34" class="time">09:35</a></td></tr>
<tr id="t2021-10-22T09:37:03"><th class="nick" style="background: #854685">NiksDev</th><td class="text" style="color: #854685">oh you mean the do_fetch is looking for the commit and still syncing with the upstream mirror?</td><td class="time"><a href="#t2021-10-22T09:37:03" class="time">09:37</a></td></tr>
<tr id="t2021-10-22T09:39:06"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">need_update() is basically &quot;does this repo contain the ref asked for&quot;</td><td class="time"><a href="#t2021-10-22T09:39:06" class="time">09:39</a></td></tr>
<tr id="t2021-10-22T09:39:49"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">but the git fetcher is over 800 lines, so there might be an edge case</td><td class="time"><a href="#t2021-10-22T09:39:49" class="time">09:39</a></td></tr>
<tr id="t2021-10-22T09:39:58"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">as i said, minimal reproducer is needed</td><td class="time"><a href="#t2021-10-22T09:39:58" class="time">09:39</a></td></tr>
<tr id="t2021-10-22T09:56:11-2"><td class="nickchange" colspan="2">*** camus1 is now known as camus</td><td><a href="#t2021-10-22T09:56:11-2" class="time">09:56</a></td></tr>
<tr id="t2021-10-22T12:33:41"><td class="part" colspan="2">*** jwillikers &lt;jwillikers!~jwilliker@2604:2800:2:a403:fe91:ac3e:5153:1290&gt; has left #yocto</td><td><a href="#t2021-10-22T12:33:41" class="time">12:33</a></td></tr>
<tr id="t2021-10-22T13:59:54"><th class="nick" style="background: #8c4a4a">barath</th><td class="text" style="color: #8c4a4a"><a href="https://docs.yoctoproject.org/test-manual/intro.html" rel="nofollow">https://docs.yoctoproject.org/test-manual/intro.html</a> this give a 404, bug or has the page moved?</td><td class="time"><a href="#t2021-10-22T13:59:54" class="time">13:59</a></td></tr>
<tr id="t2021-10-22T14:01:53"><th class="nick" style="background: #8c4a4a">barath</th><td class="text" style="color: #8c4a4a">base docs.yoctoproject.org is also broken so server issues I guess</td><td class="time"><a href="#t2021-10-22T14:01:53" class="time">14:01</a></td></tr>
<tr id="t2021-10-22T14:06:46"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">add current/ after yoctoproject.org/ and that should fix it for now</td><td class="time"><a href="#t2021-10-22T14:06:46" class="time">14:06</a></td></tr>
<tr id="t2021-10-22T14:07:14"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">halstead: ^ FYI, docs.yoctoproject.org displays a file browser instead of the usual HTML page</td><td class="time"><a href="#t2021-10-22T14:07:14" class="time">14:07</a></td></tr>
<tr id="t2021-10-22T14:12:30"><td class="nickchange" colspan="2">*** Anon is now known as Guest367</td><td><a href="#t2021-10-22T14:12:30" class="time">14:12</a></td></tr>
<tr id="t2021-10-22T14:23:28"><th class="nick" style="background: #4d4d93">kriive</th><td class="text" style="color: #4d4d93">Hello there! I'm trying to split a package in two components: package-client and package-daemon. I'm installing them in ${bindir}/package and ${bindir}/packaged. I have a PACKAGES += &quot;${PN}-client ${PN}-daemon&quot; and subsequent FILES_${PN}-daemon = &quot;${bindir}/packaged&quot; and FILES_${PN}-client = &quot;${bindir}/package&quot;.</td><td class="time"><a href="#t2021-10-22T14:23:28" class="time">14:23</a></td></tr>
<tr id="t2021-10-22T14:23:49"><th class="nick" style="background: #4d4d93">kriive</th><td class="text" style="color: #4d4d93">dnf complains abount not finding package-client</td><td class="time"><a href="#t2021-10-22T14:23:49" class="time">14:23</a></td></tr>
<tr id="t2021-10-22T14:24:02"><th class="nick" style="background: #4d4d93">kriive</th><td class="text" style="color: #4d4d93">What am I doing wrong?</td><td class="time"><a href="#t2021-10-22T14:24:02" class="time">14:24</a></td></tr>
<tr id="t2021-10-22T14:28:36"><th class="nick" style="background: #97974f">rperier</th><td class="text" style="color: #97974f">o/, did anyone test yocto 3.1.x LTS on debian 11 ? (just in case...)</td><td class="time"><a href="#t2021-10-22T14:28:36" class="time">14:28</a></td></tr>
<tr id="t2021-10-22T14:39:46"><th class="nick" style="background: #9b519b">yates</th><td class="text" style="color: #9b519b">there seems to be a problem with docs.yoctoproject.org</td><td class="time"><a href="#t2021-10-22T14:39:46" class="time">14:39</a></td></tr>
<tr id="t2021-10-22T14:40:35"><th class="nick" style="background: #9b519b">yates</th><td class="text" style="color: #9b519b">this has been working for&nbsp;&nbsp;months. <a href="https://docs.yoctoproject.org/ref-manual/variables.html" rel="nofollow">https://docs.yoctoproject.org/ref-manual/variables.html</a></td><td class="time"><a href="#t2021-10-22T14:40:35" class="time">14:40</a></td></tr>
<tr id="t2021-10-22T14:40:35-2"><th class="nick" style="background: #539e9e">vmeson</th><td class="text" style="color: #539e9e">yates: yikes, it's gone back to the 1990s and just showing us a directory tree !!</td><td class="time"><a href="#t2021-10-22T14:40:35-2" class="time">14:40</a></td></tr>
<tr id="t2021-10-22T14:40:49"><th class="nick" style="background: #539e9e">vmeson</th><td class="text" style="color: #539e9e">halstead:&nbsp;&nbsp;^^^</td><td class="time"><a href="#t2021-10-22T14:40:49" class="time">14:40</a></td></tr>
<tr id="t2021-10-22T14:42:01"><th class="nick" style="background: #539e9e">vmeson</th><td class="text" style="color: #539e9e">yates: a branch such as hardknott works: <a href="https://docs.yoctoproject.org/hardknott/ref-manual/variables.html" rel="nofollow">https://docs.yoctoproject.org/hardknott/ref-manual/variables.html</a></td><td class="time"><a href="#t2021-10-22T14:42:01" class="time">14:42</a></td></tr>
<tr id="t2021-10-22T14:43:05"><th class="nick" style="background: #9b519b">yates</th><td class="text" style="color: #9b519b">ok, that will suffice in the interim</td><td class="time"><a href="#t2021-10-22T14:43:05" class="time">14:43</a></td></tr>
<tr id="t2021-10-22T14:43:50"><th class="nick" style="background: #9b519b">yates</th><td class="text" style="color: #9b519b">or is this a policy change?</td><td class="time"><a href="#t2021-10-22T14:43:50" class="time">14:43</a></td></tr>
<tr id="t2021-10-22T14:44:24"><th class="nick" style="background: #539e9e">vmeson</th><td class="text" style="color: #539e9e">yates: I don't think so. halstead is in PST so give him a while to be awake and we'll see what's busted.</td><td class="time"><a href="#t2021-10-22T14:44:24" class="time">14:44</a></td></tr>
<tr id="t2021-10-22T14:44:26"><th class="nick" style="background: #9b519b">yates</th><td class="text" style="color: #9b519b">i.e., is the latest version no longer maintained at <a href="https://docs.yoctoproject.org/ref-manual/" rel="nofollow">https://docs.yoctoproject.org/ref-manual/</a></td><td class="time"><a href="#t2021-10-22T14:44:26" class="time">14:44</a></td></tr>
<tr id="t2021-10-22T14:45:01"><th class="nick" style="background: #9b519b">yates</th><td class="text" style="color: #9b519b">roger that!</td><td class="time"><a href="#t2021-10-22T14:45:01" class="time">14:45</a></td></tr>
<tr id="t2021-10-22T14:45:06"><th class="nick" style="background: #539e9e">vmeson</th><td class="text" style="color: #539e9e">I suspect this is just an error as the 3.4 release is prepped.</td><td class="time"><a href="#t2021-10-22T14:45:06" class="time">14:45</a></td></tr>
<tr id="t2021-10-22T15:01:52"><th class="nick" style="background: #a25555">halstead</th><td class="text" style="color: #a25555">yates: I've put it back to normal. The docs builds aren't working correctly.</td><td class="time"><a href="#t2021-10-22T15:01:52" class="time">15:01</a></td></tr>
<tr id="t2021-10-22T15:02:49"><th class="nick" style="background: #9b519b">yates</th><td class="text" style="color: #9b519b">halstead: thank you</td><td class="time"><a href="#t2021-10-22T15:02:49" class="time">15:02</a></td></tr>
<tr id="t2021-10-22T15:03:06"><th class="nick" style="background: #a25555">halstead</th><td class="text" style="color: #a25555">qschulz: Something is wrong with the docs builds&nbsp;&nbsp;not putting files at the root.</td><td class="time"><a href="#t2021-10-22T15:03:06" class="time">15:03</a></td></tr>
<tr id="t2021-10-22T15:14:09"><th class="nick" style="background: #57a657">whuang0389</th><td class="text" style="color: #57a657">Hi, I have a bbappend that applies patches to the linux kernel. When I do devtool modify virtual/kernel, those patches aren't applied/copied over. Is there a way to apply the patches when modifyign the recipe via devtool?</td><td class="time"><a href="#t2021-10-22T15:14:09" class="time">15:14</a></td></tr>
<tr id="t2021-10-22T15:17:03"><th class="nick" style="background: #5959a9">sakoman</th><td class="text" style="color: #5959a9">rperier: dunfell 3.1.12 will support debian 11 (and fedora 34)</td><td class="time"><a href="#t2021-10-22T15:17:03" class="time">15:17</a></td></tr>
<tr id="t2021-10-22T15:18:37"><th class="nick" style="background: #5959a9">sakoman</th><td class="text" style="color: #5959a9">scheduled to be out 26 Nov</td><td class="time"><a href="#t2021-10-22T15:18:37" class="time">15:18</a></td></tr>
<tr id="t2021-10-22T15:22:11"><th class="nick" style="background: #adad5b">abelloni</th><td class="text" style="color: #adad5b">sakoman: what about fedora35? :)</td><td class="time"><a href="#t2021-10-22T15:22:11" class="time">15:22</a></td></tr>
<tr id="t2021-10-22T15:25:01"><th class="nick" style="background: #5959a9">sakoman</th><td class="text" style="color: #5959a9">abelloni: I'll get right on that :P</td><td class="time"><a href="#t2021-10-22T15:25:01" class="time">15:25</a></td></tr>
<tr id="t2021-10-22T15:25:24"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">halstead: yeah I figured, is there any error printed in some log to help with that?</td><td class="time"><a href="#t2021-10-22T15:25:24" class="time">15:25</a></td></tr>
<tr id="t2021-10-22T15:26:17"><th class="nick" style="background: #b15db1">vd</th><td class="text" style="color: #b15db1">hi all -- bb.data.inherits_class() checks is the given class is currently inherited in a recipe, right?</td><td class="time"><a href="#t2021-10-22T15:26:17" class="time">15:26</a></td></tr>
<tr id="t2021-10-22T15:26:36"><th class="nick" style="background: #b15db1">vd</th><td class="text" style="color: #b15db1">or if it simply exists?</td><td class="time"><a href="#t2021-10-22T15:26:36" class="time">15:26</a></td></tr>
<tr id="t2021-10-22T15:38:15"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">vd: if the datastore you pass inherits the class</td><td class="time"><a href="#t2021-10-22T15:38:15" class="time">15:38</a></td></tr>
<tr id="t2021-10-22T15:40:12"><th class="nick" style="background: #b15db1">vd</th><td class="text" style="color: #b15db1">rburton: what does a datastore refers to in this context, a recipe being build or the whole bitbake instance?</td><td class="time"><a href="#t2021-10-22T15:40:12" class="time">15:40</a></td></tr>
<tr id="t2021-10-22T15:40:25"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">the recipe's datastore, you'll encounter is as 'd'</td><td class="time"><a href="#t2021-10-22T15:40:25" class="time">15:40</a></td></tr>
<tr id="t2021-10-22T15:41:28"><th class="nick" style="background: #97974f">rperier</th><td class="text" style="color: #97974f">sakoman: super, thanks for the feeback</td><td class="time"><a href="#t2021-10-22T15:41:28" class="time">15:41</a></td></tr>
<tr id="t2021-10-22T15:46:58"><th class="nick" style="background: #b15db1">vd</th><td class="text" style="color: #b15db1">rburton: ho ok so it is safe to use bb.data.inherits_class() to check if the current recipe has a specific class inherited or not</td><td class="time"><a href="#t2021-10-22T15:46:58" class="time">15:46</a></td></tr>
<tr id="t2021-10-22T15:55:42"><th class="nick" style="background: #5fb4b4">kergoth</th><td class="text" style="color: #5fb4b4">hmm time for my first swat triage, swatbot seems handy</td><td class="time"><a href="#t2021-10-22T15:55:42" class="time">15:55</a></td></tr>
<tr id="t2021-10-22T15:57:01"><th class="nick" style="background: #b15db1">vd</th><td class="text" style="color: #b15db1">is there a way to inherit a class programmatically via python or does one need to do d.setVar('FOO', 'class') then inherit ${FOO}?</td><td class="time"><a href="#t2021-10-22T15:57:01" class="time">15:57</a></td></tr>
<tr id="t2021-10-22T16:07:12"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">vd: you can do inherit ${@} or whatever the correct syntax is (inline python)</td><td class="time"><a href="#t2021-10-22T16:07:12" class="time">16:07</a></td></tr>
<tr id="t2021-10-22T16:10:21"><th class="nick" style="background: #b15db1">vd</th><td class="text" style="color: #b15db1">I'm wondering if it's a good or bad idea to have a &quot;smart&quot; class to INHERIT which inherit subclasses conditionally, or if it's better to let users explicitly inherit the correct classes</td><td class="time"><a href="#t2021-10-22T16:10:21" class="time">16:10</a></td></tr>
<tr id="t2021-10-22T16:14:23"><th class="nick" style="background: #b15db1">vd</th><td class="text" style="color: #b15db1">one convenient scenario is to have core-image-minimal to work &quot;out of the box&quot; since it needs to inherit some classes to work with my layer, stuffs like that.</td><td class="time"><a href="#t2021-10-22T16:14:23" class="time">16:14</a></td></tr>
<tr id="t2021-10-22T16:31:21"><th class="nick" style="background: #5fb4b4">kergoth</th><td class="text" style="color: #5fb4b4">vd: It's a tough balance, ease of use vs too much implicit / magic behavior</td><td class="time"><a href="#t2021-10-22T16:31:21" class="time">16:31</a></td></tr>
<tr id="t2021-10-22T16:31:38"><th class="nick" style="background: #b86161">khem</th><td class="text" style="color: #b86161">vd:&nbsp;&nbsp;convenience classes serve purpose but are bad if overused</td><td class="time"><a href="#t2021-10-22T16:31:38" class="time">16:31</a></td></tr>
<tr id="t2021-10-22T16:31:45"><th class="nick" style="background: #b86161">khem</th><td class="text" style="color: #b86161">oh hey kergoth</td><td class="time"><a href="#t2021-10-22T16:31:45" class="time">16:31</a></td></tr>
<tr id="t2021-10-22T16:38:40"><th class="nick" style="background: #62bb62">zeddii</th><td class="text" style="color: #62bb62">online FOSDEM in 2022. :(</td><td class="time"><a href="#t2021-10-22T16:38:40" class="time">16:38</a></td></tr>
<tr id="t2021-10-22T16:53:52"><th class="nick" style="background: #6464bf">moto-timo</th><td class="text" style="color: #6464bf">:(</td><td class="time"><a href="#t2021-10-22T16:53:52" class="time">16:53</a></td></tr>
<tr id="t2021-10-22T16:57:30"><th class="nick" style="background: #b15db1">vd</th><td class="text" style="color: #b15db1">kergoth: khem: I agree with you, too much explicit makes it harder to maintain et evolve. A good documentation suggesting to add INHERIT in your local.conf would be better.</td><td class="time"><a href="#t2021-10-22T16:57:30" class="time">16:57</a></td></tr>
<tr id="t2021-10-22T16:59:18"><td class="action" colspan="2">* zeddii curses gmail for hiding email that I'm directly copied on</td><td><a href="#t2021-10-22T16:59:18" class="time">16:59</a></td></tr>
<tr id="t2021-10-22T17:10:45"><th class="nick" style="background: #9b519b">yates</th><td class="text" style="color: #9b519b">i've read this and am still confused what uninative means: <a href="https://docs.yoctoproject.org/ref-manual/classes.html?highlight=uninative#uninative-bbclass" rel="nofollow">https://docs.yoctoproject.org/ref-manual/classes.html?highlight=uninative#uninative-bbclass</a></td><td class="time"><a href="#t2021-10-22T17:10:45" class="time">17:10</a></td></tr>
<tr id="t2021-10-22T17:11:04"><th class="nick" style="background: #9b519b">yates</th><td class="text" style="color: #9b519b">s/confused/unsure/</td><td class="time"><a href="#t2021-10-22T17:11:04" class="time">17:11</a></td></tr>
<tr id="t2021-10-22T17:11:54"><th class="nick" style="background: #9b519b">yates</th><td class="text" style="color: #9b519b">by &quot;host distribution&quot; are you referring to the host computer (i.e., the build computer) ?</td><td class="time"><a href="#t2021-10-22T17:11:54" class="time">17:11</a></td></tr>
<tr id="t2021-10-22T17:13:00"><th class="nick" style="background: #9b519b">yates</th><td class="text" style="color: #9b519b">also the second part of the sentence &quot;make re-use of native shared state artifacts ACROSS DIFFERENT HOST DISTRIBUTIONS practical&quot; confuses me.</td><td class="time"><a href="#t2021-10-22T17:13:00" class="time">17:13</a></td></tr>
<tr id="t2021-10-22T17:13:40"><th class="nick" style="background: #9b519b">yates</th><td class="text" style="color: #9b519b">when is an entire build directory picked up from on host computer/os and dropped onto another host computer/os?!?</td><td class="time"><a href="#t2021-10-22T17:13:40" class="time">17:13</a></td></tr>
<tr id="t2021-10-22T17:14:03"><th class="nick" style="background: #9b519b">yates</th><td class="text" style="color: #9b519b">or is that not what you mean?</td><td class="time"><a href="#t2021-10-22T17:14:03" class="time">17:14</a></td></tr>
<tr id="t2021-10-22T17:30:56"><th class="nick" style="background: #9b519b">yates</th><td class="text" style="color: #9b519b">zeddii: don't you know that google/microsoft know better what you want than you do?!?</td><td class="time"><a href="#t2021-10-22T17:30:56" class="time">17:30</a></td></tr>
<tr id="t2021-10-22T17:31:27"><th class="nick" style="background: #9b519b">yates</th><td class="text" style="color: #9b519b">a large reason why i switched (at home, all my home computers) to linux back in 2006</td><td class="time"><a href="#t2021-10-22T17:31:27" class="time">17:31</a></td></tr>
<tr id="t2021-10-22T17:33:26"><th class="nick" style="background: #9b519b">yates</th><td class="text" style="color: #9b519b">all i need windoze for is doing Garmin updates...</td><td class="time"><a href="#t2021-10-22T17:33:26" class="time">17:33</a></td></tr>
<tr id="t2021-10-22T17:34:29"><th class="nick" style="background: #5fb4b4">kergoth</th><td class="text" style="color: #5fb4b4">yates: build directory and sstate are two completely different things</td><td class="time"><a href="#t2021-10-22T17:34:29" class="time">17:34</a></td></tr>
<tr id="t2021-10-22T17:34:35"><th class="nick" style="background: #5fb4b4">kergoth</th><td class="text" style="color: #5fb4b4">we share sstate artifacts across different hosts every day</td><td class="time"><a href="#t2021-10-22T17:34:35" class="time">17:34</a></td></tr>
<tr id="t2021-10-22T17:34:41"><th class="nick" style="background: #c3c366">tlwoerner</th><td class="text" style="color: #c3c366">(online fosdem) w00T! now i can participate</td><td class="time"><a href="#t2021-10-22T17:34:41" class="time">17:34</a></td></tr>
<tr id="t2021-10-22T17:35:36"><th class="nick" style="background: #6464bf">moto-timo</th><td class="text" style="color: #6464bf">tlwoerner: you too can wake up extra early to pretend you’re in Europe</td><td class="time"><a href="#t2021-10-22T17:35:36" class="time">17:35</a></td></tr>
<tr id="t2021-10-22T17:36:43"><th class="nick" style="background: #c3c366">tlwoerner</th><td class="text" style="color: #c3c366">moto-timo: central europe is only &quot;early&quot; for me, not &quot;extra&quot; ;-)</td><td class="time"><a href="#t2021-10-22T17:36:43" class="time">17:36</a></td></tr>
<tr id="t2021-10-22T17:37:21"><th class="nick" style="background: #6464bf">moto-timo</th><td class="text" style="color: #6464bf">tlwoerner: true… the benefits of being on the “east coast”</td><td class="time"><a href="#t2021-10-22T17:37:21" class="time">17:37</a></td></tr>
<tr id="t2021-10-22T17:44:15"><th class="nick" style="background: #9b519b">yates</th><td class="text" style="color: #9b519b">kergoth: isn't &quot;sstate&quot; held in the build/sstate-cache?</td><td class="time"><a href="#t2021-10-22T17:44:15" class="time">17:44</a></td></tr>
<tr id="t2021-10-22T18:12:07"><th class="nick" style="background: #c668c6">JPEW</th><td class="text" style="color: #c668c6">Does anyone know why image.bbclass does `do_packegedata[noexec] = &quot;1&quot;` instead of `deltask do_packagedata` ?</td><td class="time"><a href="#t2021-10-22T18:12:07" class="time">18:12</a></td></tr>
<tr id="t2021-10-22T18:13:27"><th class="nick" style="background: #6464bf">moto-timo</th><td class="text" style="color: #6464bf">yates: <a href="https://git.yoctoproject.org/cgit/cgit.cgi/poky/tree/meta-poky/conf/local.conf.sample#n221" rel="nofollow">https://git.yoctoproject.org/cgit/cgit.cgi/poky/tree/meta-poky/conf/local.conf.sample#n221</a></td><td class="time"><a href="#t2021-10-22T18:13:27" class="time">18:13</a></td></tr>
<tr id="t2021-10-22T18:14:22"><th class="nick" style="background: #9b519b">yates</th><td class="text" style="color: #9b519b">moto-timo: thank you</td><td class="time"><a href="#t2021-10-22T18:14:22" class="time">18:14</a></td></tr>
<tr id="t2021-10-22T19:18:40"><th class="nick" style="background: #b15db1">vd</th><td class="text" style="color: #b15db1">an image feature can cause a class to be inherited, correct?</td><td class="time"><a href="#t2021-10-22T19:18:40" class="time">19:18</a></td></tr>
<tr id="t2021-10-22T19:21:17"><th class="nick" style="background: #b15db1">vd</th><td class="text" style="color: #b15db1">like a common image class doing inherit ${@bb.utils.contains('IMAGE_FEATURES', 'foo', 'some-foo-class', '', d)}</td><td class="time"><a href="#t2021-10-22T19:21:17" class="time">19:21</a></td></tr>
<tr id="t2021-10-22T19:46:49"><th class="nick" style="background: #b15db1">vd</th><td class="text" style="color: #b15db1">same topic, can a feature set IMAGE_FSTYPES?</td><td class="time"><a href="#t2021-10-22T19:46:49" class="time">19:46</a></td></tr>
<tr id="t2021-10-22T20:24:51"><th class="nick" style="background: #6acaca">smurray</th><td class="text" style="color: #6acaca">vd: that's likely possible, whether it's a good idea or not is hard to say.&nbsp;&nbsp;IMO you really want to avoid using IMAGE_FEATURES outside of image recipes</td><td class="time"><a href="#t2021-10-22T20:24:51" class="time">20:24</a></td></tr>
<tr id="t2021-10-22T20:26:01"><th class="nick" style="background: #b15db1">vd</th><td class="text" style="color: #b15db1">smurray: that'd be from inside a recipe. In other words, IMAGE_FEATURES += &quot;foo&quot; would implicitly make the image recipe inherit some-foo-class</td><td class="time"><a href="#t2021-10-22T20:26:01" class="time">20:26</a></td></tr>
<tr id="t2021-10-22T20:28:42"><th class="nick" style="background: #6acaca">smurray</th><td class="text" style="color: #6acaca">vd: I'd have to think on that a bit more, but it doesn't seem unreasonable.&nbsp;&nbsp;Generally IMAGE_FEATURES is just pulling in packages via FEATURE_PACKAGES definitions, but there's no hard rules that I know of</td><td class="time"><a href="#t2021-10-22T20:28:42" class="time">20:28</a></td></tr>
<tr id="t2021-10-22T20:36:53"><th class="nick" style="background: #b15db1">vd</th><td class="text" style="color: #b15db1">as a concrete example, I would like to factorize code for systemd-based initramfs recipes, which involves: setting IMAGE_FSTYPES = &quot;${INITRAMFS_FSTYPES}&quot;, adding the systemd-initramfs package and adding a ROOTFS_POSTPROCESS_COMMAND function to link /etc/initrd-release. This could be a systemd-initramfs.bbclass, or an systemd-initramfs image feature</td><td class="time"><a href="#t2021-10-22T20:36:53" class="time">20:36</a></td></tr>
<tr id="t2021-10-22T20:57:01"><th class="nick" style="background: #6464bf">moto-timo</th><td class="text" style="color: #6464bf">FYI, the crops containers have been updated and pushed. Catch them all!</td><td class="time"><a href="#t2021-10-22T20:57:01" class="time">20:57</a></td></tr>
<tr id="t2021-10-22T21:13:41"><th class="nick" style="background: #ce6c6c">RP</th><td class="text" style="color: #ce6c6c">JPEW: I think we needed the task dependency chains for something</td><td class="time"><a href="#t2021-10-22T21:13:41" class="time">21:13</a></td></tr>
<tr id="t2021-10-22T21:14:56"><th class="nick" style="background: #c668c6">JPEW</th><td class="text" style="color: #c668c6">RP: but I really want my images in sstate! :)</td><td class="time"><a href="#t2021-10-22T21:14:56" class="time">21:14</a></td></tr>
<tr id="t2021-10-22T21:17:18"><th class="nick" style="background: #ce6c6c">RP</th><td class="text" style="color: #ce6c6c">JPEW: you're trying to enable the sstate bypass code?</td><td class="time"><a href="#t2021-10-22T21:17:18" class="time">21:17</a></td></tr>
<tr id="t2021-10-22T21:17:51"><th class="nick" style="background: #c668c6">JPEW</th><td class="text" style="color: #c668c6">RP: SSTATE_SKIP_CREATION_task-image-complete = &quot;0&quot;</td><td class="time"><a href="#t2021-10-22T21:17:51" class="time">21:17</a></td></tr>
<tr id="t2021-10-22T21:18:06"><th class="nick" style="background: #ce6c6c">RP</th><td class="text" style="color: #ce6c6c">JPEW: I know people complain whenever I remove image tasks :/</td><td class="time"><a href="#t2021-10-22T21:18:06" class="time">21:18</a></td></tr>
<tr id="t2021-10-22T21:18:36"><th class="nick" style="background: #ce6c6c">RP</th><td class="text" style="color: #ce6c6c">JPEW: Not convinced about images from sstate (hence that code)</td><td class="time"><a href="#t2021-10-22T21:18:36" class="time">21:18</a></td></tr>
<tr id="t2021-10-22T21:19:12"><th class="nick" style="background: #c668c6">JPEW</th><td class="text" style="color: #c668c6">RP: Ya, that's fair; I'm trying to see if I can optimize our CI builds to restore everything (images included) from sstate when nothing changes</td><td class="time"><a href="#t2021-10-22T21:19:12" class="time">21:19</a></td></tr>
<tr id="t2021-10-22T21:19:31"><th class="nick" style="background: #c668c6">JPEW</th><td class="text" style="color: #c668c6">Basically, trade sstate size for trivial rebuild speed</td><td class="time"><a href="#t2021-10-22T21:19:31" class="time">21:19</a></td></tr>
<tr id="t2021-10-22T21:24:15"><th class="nick" style="background: #6ed16e">fray</th><td class="text" style="color: #6ed16e">I get a lot of complaints from people about images from sstate-cache.. they thought it would rebuild the image..</td><td class="time"><a href="#t2021-10-22T21:24:15" class="time">21:24</a></td></tr>
<tr id="t2021-10-22T21:24:32"><th class="nick" style="background: #6ed16e">fray</th><td class="text" style="color: #6ed16e">equally I've gotten complaints about NOT reusing it from sstate-cache..</td><td class="time"><a href="#t2021-10-22T21:24:32" class="time">21:24</a></td></tr>
<tr id="t2021-10-22T21:24:52"><th class="nick" style="background: #6ed16e">fray</th><td class="text" style="color: #6ed16e">so I'm not sure we can in.. :P</td><td class="time"><a href="#t2021-10-22T21:24:52" class="time">21:24</a></td></tr>
<tr id="t2021-10-22T21:41:07"><th class="nick" style="background: #ce6c6c">RP</th><td class="text" style="color: #ce6c6c">we probably can't. I know a lot of people aren't happy about the UI task numbers :/</td><td class="time"><a href="#t2021-10-22T21:41:07" class="time">21:41</a></td></tr>
<tr id="t2021-10-22T21:45:42"><th class="nick" style="background: #c668c6">JPEW</th><td class="text" style="color: #c668c6">RP, fray: Ya, fair enough. It would be nice if users could enable it by overriding SSTATE_SKIP_CREATION. Anyway, my more egregious problem is that we have an image that depends on an SDK being built (... ya... it's *great*</td><td class="time"><a href="#t2021-10-22T21:45:42" class="time">21:45</a></td></tr>
<tr id="t2021-10-22T21:46:02"><th class="nick" style="background: #c668c6">JPEW</th><td class="text" style="color: #c668c6">so we *really* need that SDK in sstate or it takes forever. Fortunately, that fix seems easy</td><td class="time"><a href="#t2021-10-22T21:46:02" class="time">21:46</a></td></tr>
<tr id="t2021-10-22T21:53:14"><th class="nick" style="background: #b15db1">vd</th><td class="text" style="color: #b15db1">We agree that PREFERRED_PROVIDER_virtual/kernel = &quot;linux-dummy&quot; cannot be set in an image recipe, right?</td><td class="time"><a href="#t2021-10-22T21:53:14" class="time">21:53</a></td></tr>
<tr id="t2021-10-22T21:59:05"><td class="action" colspan="2">* moto-timo ❤️ sstate and UI task numbers</td><td><a href="#t2021-10-22T21:59:05" class="time">21:59</a></td></tr>
<tr id="t2021-10-22T22:25:20"><th class="nick" style="background: #6acaca">smurray</th><td class="text" style="color: #6acaca">vd: yes</td><td class="time"><a href="#t2021-10-22T22:25:20" class="time">22:25</a></td></tr>
<tr id="t2021-10-22T22:26:37"><th class="nick" style="background: #6acaca">smurray</th><td class="text" style="color: #6acaca">vd: there's perhaps a chance it'd work if nothing else DEPENDed on virtual/kernel, but that's not true in practice</td><td class="time"><a href="#t2021-10-22T22:26:37" class="time">22:26</a></td></tr>
<tr id="t2021-10-22T22:29:46"><th class="nick" style="background: #b15db1">vd</th><td class="text" style="color: #b15db1">that's really inconvenient, it would be sooo simpler to set the linux-dummy from the image rather than forcing us to use a multiconfig or something</td><td class="time"><a href="#t2021-10-22T22:29:46" class="time">22:29</a></td></tr>
<tr id="t2021-10-22T22:30:26"><th class="nick" style="background: #6acaca">smurray</th><td class="text" style="color: #6acaca">PROVIDES affects build dependencies, so it has to be in global scope</td><td class="time"><a href="#t2021-10-22T22:30:26" class="time">22:30</a></td></tr>
<tr id="t2021-10-22T22:33:11"><th class="nick" style="background: #6acaca">smurray</th><td class="text" style="color: #6acaca">I can maybe imagine rigging up an image that gets no kernel bits with NO_RECOMMENDATIONS and overriding a bunch of variables</td><td class="time"><a href="#t2021-10-22T22:33:11" class="time">22:33</a></td></tr>
<tr id="t2021-10-22T22:35:17"><th class="nick" style="background: #b15db1">vd</th><td class="text" style="color: #b15db1">smurray do you mean it's possible ?</td><td class="time"><a href="#t2021-10-22T22:35:17" class="time">22:35</a></td></tr>
<tr id="t2021-10-22T22:39:46"><th class="nick" style="background: #6acaca">smurray</th><td class="text" style="color: #6acaca">vd: what's your usecase?&nbsp;&nbsp;In theory, you can tweak a bunch of things to prune IMAGE_INSTALL, but if you need to use core-image as a base with a bunch of DISTRO_FEATURES, it might be not straightforward</td><td class="time"><a href="#t2021-10-22T22:39:46" class="time">22:39</a></td></tr>
<tr id="t2021-10-22T22:40:28"><th class="nick" style="background: #6464bf">moto-timo</th><td class="text" style="color: #6464bf">Global as in distro.conf, site.conf, auto.conf, local.conf etc</td><td class="time"><a href="#t2021-10-22T22:40:28" class="time">22:40</a></td></tr>
<tr id="t2021-10-22T22:58:08"><th class="nick" style="background: #b15db1">vd</th><td class="text" style="color: #b15db1">smurray my use case is that I'm creating rootfs images which include container images that I had in ${IMAGE_ROOTFS}/var/lib/machines with a ROOTFS_POSTPROCESS_COMMAND</td><td class="time"><a href="#t2021-10-22T22:58:08" class="time">22:58</a></td></tr>
<tr id="t2021-10-22T22:58:37"><th class="nick" style="background: #b15db1">vd</th><td class="text" style="color: #b15db1">and in theory, it shouldn't require to use a multiconfig to acheive this if your using the same distro/libc</td><td class="time"><a href="#t2021-10-22T22:58:37" class="time">22:58</a></td></tr>
<tr id="t2021-10-22T22:59:16"><th class="nick" style="background: #b15db1">vd</th><td class="text" style="color: #b15db1">it's just a rootfs image without kernel or machine specific artifacts</td><td class="time"><a href="#t2021-10-22T22:59:16" class="time">22:59</a></td></tr>
<tr id="t2021-10-22T22:59:38"><th class="nick" style="background: #6acaca">smurray</th><td class="text" style="color: #6acaca">vd: that's essentially how I install system containers in one of the types of AGL images, but we do use a multiconfig with linux-dummy for the guest image builds</td><td class="time"><a href="#t2021-10-22T22:59:38" class="time">22:59</a></td></tr>
<tr id="t2021-10-22T23:00:50"><th class="nick" style="background: #6acaca">smurray</th><td class="text" style="color: #6acaca">vd: w/o linux-dummy you run into fun things like systemd RRECOMMENDing kernel modules, it's been a topic of recent discussion in AGL</td><td class="time"><a href="#t2021-10-22T23:00:50" class="time">23:00</a></td></tr>
<tr id="t2021-10-22T23:02:41"><th class="nick" style="background: #6acaca">smurray</th><td class="text" style="color: #6acaca">vd: if you're doing app containers, I can imagine trying what you say, but it might take a bunch of tinkering</td><td class="time"><a href="#t2021-10-22T23:02:41" class="time">23:02</a></td></tr>
<tr id="t2021-10-22T23:05:05"><th class="nick" style="background: #6acaca">smurray</th><td class="text" style="color: #6acaca">vd: system containers might get fun since NO_RECOMMENDATIONS might turn off a bunch of stuff you do want, so then you need to work through that for every image</td><td class="time"><a href="#t2021-10-22T23:05:05" class="time">23:05</a></td></tr>
<tr id="t2021-10-22T23:16:14"><th class="nick" style="background: #b15db1">vd</th><td class="text" style="color: #b15db1">smurray: I'm ok with a multiconfig but the problem is that then, you need to specify your container image with mc: and mcdepends, it fucks all your recipes</td><td class="time"><a href="#t2021-10-22T23:16:14" class="time">23:16</a></td></tr>
<tr id="t2021-10-22T23:16:44"><th class="nick" style="background: #b15db1">vd</th><td class="text" style="color: #b15db1">I wish bitbake was smart enough to accept mc:foo:recipe:task from do_task[depends] directory</td><td class="time"><a href="#t2021-10-22T23:16:44" class="time">23:16</a></td></tr>
<tr id="t2021-10-22T23:17:28"><th class="nick" style="background: #6acaca">smurray</th><td class="text" style="color: #6acaca">I just wrote a class for images that are going to pull in the guest containers so the mcdepends is really only in that one place</td><td class="time"><a href="#t2021-10-22T23:17:28" class="time">23:17</a></td></tr>
<tr id="t2021-10-22T23:18:49"><th class="nick" style="background: #6acaca">smurray</th><td class="text" style="color: #6acaca">well, a base image, but it could be done with a class: <a href="https://git.automotivelinux.org/AGL/meta-agl-devel/tree/meta-agl-lxc/recipes-platform/images/lxc-host-image-minimal.bb" rel="nofollow">https://git.automotivelinux.org/AGL/meta-agl-devel/tree/meta-agl-lxc/recipes-platform/images/lxc-host-image-minimal.bb</a></td><td class="time"><a href="#t2021-10-22T23:18:49" class="time">23:18</a></td></tr>
<tr id="t2021-10-22T23:19:26"><th class="nick" style="background: #6acaca">smurray</th><td class="text" style="color: #6acaca">it's still early days for it in AGL, we'll probably evolve it some</td><td class="time"><a href="#t2021-10-22T23:19:26" class="time">23:19</a></td></tr>
<tr id="t2021-10-22T23:19:52"><th class="nick" style="background: #6acaca">smurray</th><td class="text" style="color: #6acaca">and it's for a specific usecase that the instrument cluster expert group have come up with</td><td class="time"><a href="#t2021-10-22T23:19:52" class="time">23:19</a></td></tr>
<tr id="t2021-10-22T23:21:26"><th class="nick" style="background: #6acaca">smurray</th><td class="text" style="color: #6acaca">note there's a bug in there wrt handling multiple guest images (need to add a space when appending to mcdepends), I was only testing with one when I cooked that up</td><td class="time"><a href="#t2021-10-22T23:21:26" class="time">23:21</a></td></tr>
<tr id="t2021-10-22T23:22:38"><th class="nick" style="background: #6acaca">smurray</th><td class="text" style="color: #6acaca">vd: wrt to making depends handle mc dependencies, probably need RP to weigh in on why that's difficult</td><td class="time"><a href="#t2021-10-22T23:22:38" class="time">23:22</a></td></tr>
<tr id="t2021-10-22T23:26:51"><th class="nick" style="background: #b15db1">vd</th><td class="text" style="color: #b15db1">smurray: you can write all your code with mcdepends and use mc:::recipe:task to use BB_CURRENT_MC, but again you have to adapt your code.</td><td class="time"><a href="#t2021-10-22T23:26:51" class="time">23:26</a></td></tr>
<tr id="t2021-10-22T23:28:10"><th class="nick" style="background: #6acaca">smurray</th><td class="text" style="color: #6acaca">vd: if it's specifically for pulling one image into another I've not really found that to be a problem, tbh</td><td class="time"><a href="#t2021-10-22T23:28:10" class="time">23:28</a></td></tr>
<tr id="t2021-10-22T23:32:19"><th class="nick" style="background: #b15db1">vd</th><td class="text" style="color: #b15db1">yep, I'll convert all my code to use this mcdepends syntax, but you have to add some smartness to prefix the image if it doesn't start with mc:: etc. Not really handy</td><td class="time"><a href="#t2021-10-22T23:32:19" class="time">23:32</a></td></tr>
<tr id="t2021-10-22T23:32:33"><th class="nick" style="background: #b15db1">vd</th><td class="text" style="color: #b15db1">I meant, there's a bit of work to do here.</td><td class="time"><a href="#t2021-10-22T23:32:33" class="time">23:32</a></td></tr>
<tr id="t2021-10-22T23:35:00"><th class="nick" style="background: #6acaca">smurray</th><td class="text" style="color: #6acaca">in my uses of multiconfig so far I've only ended up with one or two mcdepends required in the host, so I guess your usecase is a lot more involved</td><td class="time"><a href="#t2021-10-22T23:35:00" class="time">23:35</a></td></tr>
<tr id="t2021-10-22T23:36:58"><th class="nick" style="background: #6acaca">smurray</th><td class="text" style="color: #6acaca">vd: if you ask again on Monday, some of the other folks that use mc like JPEW or somone from Xlilinx might have more ideas</td><td class="time"><a href="#t2021-10-22T23:36:58" class="time">23:36</a></td></tr>
<tr id="t2021-10-22T23:45:40"><th class="nick" style="background: #b15db1">vd</th><td class="text" style="color: #b15db1">I'm wondering if [mcdepends] = mc:::recipe:task is the same as [depends] = recipe:task, performance wise. If it is, it'd be nice to patch depends to add this fallback before ultimately having just one dependency declaration mechanism</td><td class="time"><a href="#t2021-10-22T23:45:40" class="time">23:45</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2021-10-21.log.html">&#171; Thursday, 2021-10-21</a> <a href="index.html">Index</a> <a href="%23yocto.2021-10-23.log.html">Saturday, 2021-10-23 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.17.2 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="https://mg.pov.lt/irclog2html/">https://mg.pov.lt/irclog2html/</a>!</p>
</div>
</body>
</html>
