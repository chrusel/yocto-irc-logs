<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Thursday, 2021-09-23</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.17.2 by Marius Gedminas" />
  <meta name="version" content="2.17.2 - 2019-04-23" />
</head>
<body>
<h1>Thursday, 2021-09-23</h1>
<div class="navigation"> <a href="%23yocto.2021-09-22.log.html">&#171; Wednesday, 2021-09-22</a> <a href="index.html">Index</a> <a href="%23yocto.2021-09-24.log.html">Friday, 2021-09-24 &#187;</a> </div>
<table class="irclog">
<tr id="t2021-09-23T00:52:03-2"><td class="nickchange" colspan="2">*** camus1 is now known as camus</td><td><a href="#t2021-09-23T00:52:03-2" class="time">00:52</a></td></tr>
<tr id="t2021-09-23T01:01:03"><th class="nick" style="background: #407a40">tlwoerner</th><td class="text" style="color: #407a40">ndec_: on the dragonboard-410c, is it possible to stop the boot in the bootloader (lk?) and modify a variable? i'd like to change the kernel's cmdline args</td><td class="time"><a href="#t2021-09-23T01:01:03" class="time">01:01</a></td></tr>
<tr id="t2021-09-23T02:19:08"><th class="nick" style="background: #42427e">zeddii</th><td class="text" style="color: #42427e">tlwoerner: was it you that had the bsp config question ? If so, I'll dig something up tomorrow. I was buried in trying to get 5.14 out for review.</td><td class="time"><a href="#t2021-09-23T02:19:08" class="time">02:19</a></td></tr>
<tr id="t2021-09-23T02:19:46"><th class="nick" style="background: #407a40">tlwoerner</th><td class="text" style="color: #407a40">zeddii: yes that was me, sorry. i knew you were busy and asked anyway :-(</td><td class="time"><a href="#t2021-09-23T02:19:46" class="time">02:19</a></td></tr>
<tr id="t2021-09-23T06:45:42"><td class="nickchange" colspan="2">*** mckoan|away is now known as mckoan</td><td><a href="#t2021-09-23T06:45:42" class="time">06:45</a></td></tr>
<tr id="t2021-09-23T06:45:50"><th class="nick" style="background: #818144">mckoan</th><td class="text" style="color: #818144">good morning</td><td class="time"><a href="#t2021-09-23T06:45:50" class="time">06:45</a></td></tr>
<tr id="t2021-09-23T06:46:07"><th class="nick" style="background: #854685">JosefHolzmayr[m]</th><td class="text" style="color: #854685">yo dudX and mckoans</td><td class="time"><a href="#t2021-09-23T06:46:07" class="time">06:46</a></td></tr>
<tr id="t2021-09-23T06:52:49"><th class="nick" style="background: #488888">ndec_</th><td class="text" style="color: #488888">tlwoerner: there is no 'shell' in lk. so you can't do that at run time, you need to update the boot image on the host. the bootargs are in the boot image, so you don't need to rebuild anything, abootimg can do it.</td><td class="time"><a href="#t2021-09-23T06:52:49" class="time">06:52</a></td></tr>
<tr id="t2021-09-23T07:33:27"><td class="nickchange" colspan="2">*** camus1 is now known as camus</td><td><a href="#t2021-09-23T07:33:27" class="time">07:33</a></td></tr>
<tr id="t2021-09-23T07:59:13"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">tlwoerner: re meta-rockchip and the mmc interface ordering, it's just a patch or two to apply to the device tree. Basically you need mmc aliases in the dts/dtsis</td><td class="time"><a href="#t2021-09-23T07:59:13" class="time">07:59</a></td></tr>
<tr id="t2021-09-23T07:59:37"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">tlwoerner: <a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=221c6c042fa004b73b10780fa2aaf177085e2f3f" rel="nofollow">https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=221c6c042fa004b73b10780fa2aaf177085e2f3f</a></td><td class="time"><a href="#t2021-09-23T07:59:37" class="time">07:59</a></td></tr>
<tr id="t2021-09-23T07:59:57"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">tlwoerner: <a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=28869aa53506a12d98f6e5ff54b051400be1c2bf" rel="nofollow">https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=28869aa53506a12d98f6e5ff54b051400be1c2bf</a></td><td class="time"><a href="#t2021-09-23T07:59:57" class="time">07:59</a></td></tr>
<tr id="t2021-09-23T08:30:17"><th class="nick" style="background: #4b904b">ThomasD13</th><td class="text" style="color: #4b904b">Hi guys. I have a lot of machine configuration appends scattered in recipes. I've added now a second machine. Is there a mechnizm by yocto supplied to apply all these appends &quot;j7-evm&quot; also to my new machine configuration?</td><td class="time"><a href="#t2021-09-23T08:30:17" class="time">08:30</a></td></tr>
<tr id="t2021-09-23T08:30:18"><th class="nick" style="background: #4b904b">ThomasD13</th><td class="text" style="color: #4b904b"><a href="https://hastebin.com/qafokomimu.makefile" rel="nofollow">https://hastebin.com/qafokomimu.makefile</a></td><td class="time"><a href="#t2021-09-23T08:30:18" class="time">08:30</a></td></tr>
<tr id="t2021-09-23T08:30:58"><th class="nick" style="background: #4b904b">ThomasD13</th><td class="text" style="color: #4b904b">Without copying and replace these appends with the new machine configuration</td><td class="time"><a href="#t2021-09-23T08:30:58" class="time">08:30</a></td></tr>
<tr id="t2021-09-23T08:31:05"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">ThomasD13: MACHINEOVERRIDES</td><td class="time"><a href="#t2021-09-23T08:31:05" class="time">08:31</a></td></tr>
<tr id="t2021-09-23T08:32:38"><th class="nick" style="background: #4b904b">ThomasD13</th><td class="text" style="color: #4b904b">thanks qschulz I ll investigate :)</td><td class="time"><a href="#t2021-09-23T08:32:38" class="time">08:32</a></td></tr>
<tr id="t2021-09-23T08:33:57"><th class="nick" style="background: #4b904b">ThomasD13</th><td class="text" style="color: #4b904b">I've read this term, but didn't fully understand what it does exactly</td><td class="time"><a href="#t2021-09-23T08:33:57" class="time">08:33</a></td></tr>
<tr id="t2021-09-23T08:35:29"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">ThomasD13: <a href="https://pretalx.com/media/yocto-project-summit-2021/submissions/WTT3UV/resources/Demystifying_the_OVERRIDES_mechan_no6J6fb.pdf" rel="nofollow">https://pretalx.com/media/yocto-project-summit-2021/submissions/WTT3UV/resources/Demystifying_the_OVERRIDES_mechan_no6J6fb.pdf</a></td><td class="time"><a href="#t2021-09-23T08:35:29" class="time">08:35</a></td></tr>
<tr id="t2021-09-23T08:38:10"><th class="nick" style="background: #4b904b">ThomasD13</th><td class="text" style="color: #4b904b">Lets assume I have a variable SRC_URI_j7-evm = &quot;github&quot;. When I start the build for machine j7-evm, the variable SRC_URI is set to &quot;github&quot;. When I start the build for machine j7-paradise it is not.</td><td class="time"><a href="#t2021-09-23T08:38:10" class="time">08:38</a></td></tr>
<tr id="t2021-09-23T08:38:49"><th class="nick" style="background: #4d4d93">fbre</th><td class="text" style="color: #4d4d93">Hi! Is there a command line call which outputs the used yocto linux version?</td><td class="time"><a href="#t2021-09-23T08:38:49" class="time">08:38</a></td></tr>
<tr id="t2021-09-23T08:38:51"><th class="nick" style="background: #4b904b">ThomasD13</th><td class="text" style="color: #4b904b">Adding in j7-paradise machine configuration MACHINEOVERRIDE = &quot;j7-evm&quot; will set SRC_URI to &quot;github&quot; when I execute the build for j7-paradise?</td><td class="time"><a href="#t2021-09-23T08:38:51" class="time">08:38</a></td></tr>
<tr id="t2021-09-23T08:39:50"><th class="nick" style="background: #4d4d93">fbre</th><td class="text" style="color: #4d4d93">...on my target device which is running yocto Linux</td><td class="time"><a href="#t2021-09-23T08:39:50" class="time">08:39</a></td></tr>
<tr id="t2021-09-23T08:39:54"><th class="nick" style="background: #97974f">dwagenk</th><td class="text" style="color: #97974f">theyoctojester: I send those patches regarding the license implications of INITRAMFS_IMAGE_BUNDLE. Another possibly mistaken interpretation I have got: Adding the kernel and the initramfs to a combined FIT image does NOT make the kernel+initramfs a derivative work in the sense of GPLv2. Thus the initramfs may contain proprietary (GPL incompatible) programms. Any take (or pointers to documentation saying otherwise?)</td><td class="time"><a href="#t2021-09-23T08:39:54" class="time">08:39</a></td></tr>
<tr id="t2021-09-23T08:40:08"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">ThomasD13: yes, except you should use MACHINEOVERRIDES =. &quot;j7-evm&quot; before any include in your machine configuration file</td><td class="time"><a href="#t2021-09-23T08:40:08" class="time">08:40</a></td></tr>
<tr id="t2021-09-23T08:40:10"><th class="nick" style="background: #97974f">dwagenk</th><td class="text" style="color: #97974f">on that?</td><td class="time"><a href="#t2021-09-23T08:40:10" class="time">08:40</a></td></tr>
<tr id="t2021-09-23T08:40:50"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">dwagenk: fitimage is just a container for artifacts</td><td class="time"><a href="#t2021-09-23T08:40:50" class="time">08:40</a></td></tr>
<tr id="t2021-09-23T08:41:28"><th class="nick" style="background: #854685">JosefHolzmayr[m]</th><td class="text" style="color: #854685">dwagenk: nothing that i can comment on, sorry.</td><td class="time"><a href="#t2021-09-23T08:41:28" class="time">08:41</a></td></tr>
<tr id="t2021-09-23T08:41:38"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">so yes, to me this is just fine (and the industry would sweat big time if that wasn't the case as many use initramfs for RO rootfs), but no lawyer again</td><td class="time"><a href="#t2021-09-23T08:41:38" class="time">08:41</a></td></tr>
<tr id="t2021-09-23T08:41:57"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">s/RO/non-persistent/</td><td class="time"><a href="#t2021-09-23T08:41:57" class="time">08:41</a></td></tr>
<tr id="t2021-09-23T08:42:55"><th class="nick" style="background: #4b904b">ThomasD13</th><td class="text" style="color: #4b904b">Thank you very much qschulz :)</td><td class="time"><a href="#t2021-09-23T08:42:55" class="time">08:42</a></td></tr>
<tr id="t2021-09-23T08:43:02"><th class="nick" style="background: #97974f">dwagenk</th><td class="text" style="color: #97974f">Thanks for the comments anyhow. Just trying to get a grasp of what is considered industry-standard and OK in this context.</td><td class="time"><a href="#t2021-09-23T08:43:02" class="time">08:43</a></td></tr>
<tr id="t2021-09-23T08:44:03"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">dwagenk: I would say that initrd should be pretty rare since it means you need to recompile (and reflash) the kernel every time you do a rootfs change</td><td class="time"><a href="#t2021-09-23T08:44:03" class="time">08:44</a></td></tr>
<tr id="t2021-09-23T08:47:15"><th class="nick" style="background: #97974f">dwagenk</th><td class="text" style="color: #97974f">Before diving deeper into INITRAMFS_IMAGE_BUNDLE and theyoctojester s pointer to the kernel docs I was not aware of the initramfs actually being passed into the kernel build and thus beeing affected by the GPL. I hope the proposed note in the yocto manual makes this potential problem obvious to users.</td><td class="time"><a href="#t2021-09-23T08:47:15" class="time">08:47</a></td></tr>
<tr id="t2021-09-23T08:49:52"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">I didn't know either tbf :)</td><td class="time"><a href="#t2021-09-23T08:49:52" class="time">08:49</a></td></tr>
<tr id="t2021-09-23T09:00:49-2"><td class="nickchange" colspan="2">*** camus1 is now known as camus</td><td><a href="#t2021-09-23T09:00:49-2" class="time">09:00</a></td></tr>
<tr id="t2021-09-23T09:27:20"><td class="nickchange" colspan="2">*** camus1 is now known as camus</td><td><a href="#t2021-09-23T09:27:20" class="time">09:27</a></td></tr>
<tr id="t2021-09-23T09:38:59"><th class="nick" style="background: #854685">JosefHolzmayr[m]</th><td class="text" style="color: #854685">i guess i'm missing something super obvious, but why does this recipe err out during parsing? <a href="https://hastebin.com/ipaxuvojed.nginx" rel="nofollow">https://hastebin.com/ipaxuvojed.nginx</a></td><td class="time"><a href="#t2021-09-23T09:38:59" class="time">09:38</a></td></tr>
<tr id="t2021-09-23T09:39:42"><th class="nick" style="background: #854685">JosefHolzmayr[m]</th><td class="text" style="color: #854685">override syntax biting me?</td><td class="time"><a href="#t2021-09-23T09:39:42" class="time">09:39</a></td></tr>
<tr id="t2021-09-23T09:40:45"><th class="nick" style="background: #854685">JosefHolzmayr[m]</th><td class="text" style="color: #854685">yup. needs. :${PN}</td><td class="time"><a href="#t2021-09-23T09:40:45" class="time">09:40</a></td></tr>
<tr id="t2021-09-23T09:42:50"><th class="nick" style="background: #4b904b">ThomasD13</th><td class="text" style="color: #4b904b">MACHINE=j7-paradise bitbake image gives me an build error at specific package. MACHINE=j7-paradise bitbake specific-image however says &quot;package specific-package was skipped: incompatible with with machine j7-paradise&quot;.</td><td class="time"><a href="#t2021-09-23T09:42:50" class="time">09:42</a></td></tr>
<tr id="t2021-09-23T09:43:09"><th class="nick" style="background: #9b519b">guid</th><td class="text" style="color: #9b519b">Hi. I have a recipe A that installs a file foo.cert in /usr/local/share/ca-certificates. Now, I've got a recipe B that install a file bar.sh and I need to inject the foo.cert of the recipe A into my bar.sh (via sed). I added A as a dependency of B (DEPENDS = &quot;A&quot;) but I don't know what task I should use for the injection. Can I do it in the</td><td class="time"><a href="#t2021-09-23T09:43:09" class="time">09:43</a></td></tr>
<tr id="t2021-09-23T09:43:10"><th class="nick" style="background: #9b519b">guid</th><td class="text" style="color: #9b519b">do_install task?</td><td class="time"><a href="#t2021-09-23T09:43:10" class="time">09:43</a></td></tr>
<tr id="t2021-09-23T09:43:19"><th class="nick" style="background: #4b904b">ThomasD13</th><td class="text" style="color: #4b904b">How does this make sense? Why is this package build for the image, even it is not compatible to the machine?</td><td class="time"><a href="#t2021-09-23T09:43:19" class="time">09:43</a></td></tr>
<tr id="t2021-09-23T09:44:04"><th class="nick" style="background: #818144">mckoan</th><td class="text" style="color: #818144">JosefHolzmayr[m]: that will be a frequent error in the future :-(</td><td class="time"><a href="#t2021-09-23T09:44:04" class="time">09:44</a></td></tr>
<tr id="t2021-09-23T09:44:23"><th class="nick" style="background: #854685">JosefHolzmayr[m]</th><td class="text" style="color: #854685">yup</td><td class="time"><a href="#t2021-09-23T09:44:23" class="time">09:44</a></td></tr>
<tr id="t2021-09-23T10:03:58"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">ThomasD13: because something pulls it in for you</td><td class="time"><a href="#t2021-09-23T10:03:58" class="time">10:03</a></td></tr>
<tr id="t2021-09-23T10:26:33"><th class="nick" style="background: #539e9e">barath</th><td class="text" style="color: #539e9e">is there documentation on what could cause something like `ERROR: Setscene task /var/jenkins/persistent_environment/layers/poky/meta/recipes-core/packagegroups/packagegroup-core-boot.bb:do_package in both covered and notcovered.` ?</td><td class="time"><a href="#t2021-09-23T10:26:33" class="time">10:26</a></td></tr>
<tr id="t2021-09-23T10:26:45"><th class="nick" style="background: #539e9e">barath</th><td class="text" style="color: #539e9e">I assume it has something to do with dependencies, run-order and the sstate cache...</td><td class="time"><a href="#t2021-09-23T10:26:45" class="time">10:26</a></td></tr>
<tr id="t2021-09-23T10:32:17"><th class="nick" style="background: #a25555">kanavin</th><td class="text" style="color: #a25555">moto-timo, how's your progress with phosh?</td><td class="time"><a href="#t2021-09-23T10:32:17" class="time">10:32</a></td></tr>
<tr id="t2021-09-23T10:34:30-2"><td class="nickchange" colspan="2">*** camus1 is now known as camus</td><td><a href="#t2021-09-23T10:34:30-2" class="time">10:34</a></td></tr>
<tr id="t2021-09-23T10:38:37"><td class="nickchange" colspan="2">*** mckoan is now known as mckoan|away</td><td><a href="#t2021-09-23T10:38:37" class="time">10:38</a></td></tr>
<tr id="t2021-09-23T10:41:08"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">barath: there was a bug open for that and it had fixes in master recently. Which version of the project is that?</td><td class="time"><a href="#t2021-09-23T10:41:08" class="time">10:41</a></td></tr>
<tr id="t2021-09-23T10:41:30"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657"><a href="https://bugzilla.yoctoproject.org/show_bug.cgi?id=14342" rel="nofollow">https://bugzilla.yoctoproject.org/show_bug.cgi?id=14342</a></td><td class="time"><a href="#t2021-09-23T10:41:30" class="time">10:41</a></td></tr>
<tr id="t2021-09-23T10:43:55"><th class="nick" style="background: #539e9e">barath</th><td class="text" style="color: #539e9e">yeah just found that one, but we're not seeing any warnings about &quot;Runqeueue deadlocked on deferred tasks&quot;</td><td class="time"><a href="#t2021-09-23T10:43:55" class="time">10:43</a></td></tr>
<tr id="t2021-09-23T10:44:27"><th class="nick" style="background: #539e9e">barath</th><td class="text" style="color: #539e9e">it's dunfell</td><td class="time"><a href="#t2021-09-23T10:44:27" class="time">10:44</a></td></tr>
<tr id="t2021-09-23T10:45:07"><th class="nick" style="background: #539e9e">barath</th><td class="text" style="color: #539e9e">we've never consciously seen this before. I'm trying to read the runqueue.py but I haven't fully grokked what covered and notcovered actually mean in this context</td><td class="time"><a href="#t2021-09-23T10:45:07" class="time">10:45</a></td></tr>
<tr id="t2021-09-23T10:45:39"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">barath: the same task should never be on both so there is a bug somewhere :(</td><td class="time"><a href="#t2021-09-23T10:45:39" class="time">10:45</a></td></tr>
<tr id="t2021-09-23T10:46:08"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">barath: I think dunfell and hardknott are getting some of these fixes queued up for them and they might help your case too</td><td class="time"><a href="#t2021-09-23T10:46:08" class="time">10:46</a></td></tr>
<tr id="t2021-09-23T10:46:58"><th class="nick" style="background: #539e9e">barath</th><td class="text" style="color: #539e9e">RP: alright, thanks. so at least we're not alone. but does it make sense that we're not seeing the warnings about deferred tasks? form the issue ticket it seems like that's an indication</td><td class="time"><a href="#t2021-09-23T10:46:58" class="time">10:46</a></td></tr>
<tr id="t2021-09-23T10:47:09"><th class="nick" style="background: #539e9e">barath</th><td class="text" style="color: #539e9e">and what's notcovered/covered? stuff &quot;already run&quot;?</td><td class="time"><a href="#t2021-09-23T10:47:09" class="time">10:47</a></td></tr>
<tr id="t2021-09-23T10:47:21"><th class="nick" style="background: #539e9e">barath</th><td class="text" style="color: #539e9e">or already parsed?</td><td class="time"><a href="#t2021-09-23T10:47:21" class="time">10:47</a></td></tr>
<tr id="t2021-09-23T10:48:48"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">barath: there are two stages to execution of tasks, &quot;from sstate&quot; and &quot;real&quot;. covered and notcovered are two lists that real tasks get put into depending on whether the sstate was available and meant they weren't needed or not. One task should never be both</td><td class="time"><a href="#t2021-09-23T10:48:48" class="time">10:48</a></td></tr>
<tr id="t2021-09-23T10:49:40"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">That check was added as a sanity check to find problems and give a warning before bad things happen</td><td class="time"><a href="#t2021-09-23T10:49:40" class="time">10:49</a></td></tr>
<tr id="t2021-09-23T10:51:00"><th class="nick" style="background: #539e9e">barath</th><td class="text" style="color: #539e9e">hm okay. so &quot;real&quot; tasks get put into &quot;notcovered&quot; when no sstate cache is available for them?</td><td class="time"><a href="#t2021-09-23T10:51:00" class="time">10:51</a></td></tr>
<tr id="t2021-09-23T10:51:35"><th class="nick" style="background: #539e9e">barath</th><td class="text" style="color: #539e9e">we've recently changed our build setup to hopefully reuse previously generated sstate cache files more, so maybe it's a symptom of that</td><td class="time"><a href="#t2021-09-23T10:51:35" class="time">10:51</a></td></tr>
<tr id="t2021-09-23T10:51:42"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">barath: effectively but real and sstate tasks aren't one to one mappings</td><td class="time"><a href="#t2021-09-23T10:51:42" class="time">10:51</a></td></tr>
<tr id="t2021-09-23T10:51:53"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">barath: that would make this worse, yes</td><td class="time"><a href="#t2021-09-23T10:51:53" class="time">10:51</a></td></tr>
<tr id="t2021-09-23T10:55:03"><th class="nick" style="background: #539e9e">barath</th><td class="text" style="color: #539e9e">RP: alright, thanks! then we have something to go on. if necessary I'll try backporting the fixes for us locally and otherwise I'll keep a watch out for any fixes that trickle down to dunfell</td><td class="time"><a href="#t2021-09-23T10:55:03" class="time">10:55</a></td></tr>
<tr id="t2021-09-23T10:57:09"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">barath: it was a pain to track down and debug but I'm hoping it is at least fixed in master</td><td class="time"><a href="#t2021-09-23T10:57:09" class="time">10:57</a></td></tr>
<tr id="t2021-09-23T10:57:26"><th class="nick" style="background: #5959a9">jorschulko</th><td class="text" style="color: #5959a9">Hi, we are currently in the process of reworking the google repo fetcher and have the following problem: We need to run repo sync every time, as checking for SRCREV changes within the manifest repo is not enough. That's because the manifest itself might reference a branch within the sources repo and thus the sources can still change. The easiest way to accomplish this that we could think about is adding</td><td class="time"><a href="#t2021-09-23T10:57:26" class="time">10:57</a></td></tr>
<tr id="t2021-09-23T10:57:30"><th class="nick" style="background: #539e9e">barath</th><td class="text" style="color: #539e9e">sounds like it</td><td class="time"><a href="#t2021-09-23T10:57:30" class="time">10:57</a></td></tr>
<tr id="t2021-09-23T10:57:33"><th class="nick" style="background: #5959a9">jorschulko</th><td class="text" style="color: #5959a9">a timestamp to the latest revision. That would force yocto to rerun do_fetch every time. However, this would also make offline builds impossible. Any ideas on how we could implement this in a smart way?</td><td class="time"><a href="#t2021-09-23T10:57:33" class="time">10:57</a></td></tr>
<tr id="t2021-09-23T11:02:26"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">jorschulko: could we detect the manifest referencing a branch and make that an error?</td><td class="time"><a href="#t2021-09-23T11:02:26" class="time">11:02</a></td></tr>
<tr id="t2021-09-23T11:05:30"><th class="nick" style="background: #9b519b">guid</th><td class="text" style="color: #9b519b">Hi. I have a recipe A that installs a file foo.cert in /usr/local/share/ca-certificates. Now, I've got a recipe B that install a file bar.sh and I need to inject the foo.cert of the recipe A into my bar.sh (via sed). I added A as a dependency of B (DEPENDS = &quot;A&quot;) but I don't know what task I should use for the injection. Can I do it in the</td><td class="time"><a href="#t2021-09-23T11:05:30" class="time">11:05</a></td></tr>
<tr id="t2021-09-23T11:05:31"><th class="nick" style="background: #9b519b">guid</th><td class="text" style="color: #9b519b">do_install task? What path can I use to access the foo.crt file from the B recipe?</td><td class="time"><a href="#t2021-09-23T11:05:31" class="time">11:05</a></td></tr>
<tr id="t2021-09-23T11:05:59"><th class="nick" style="background: #5959a9">jorschulko</th><td class="text" style="color: #5959a9">that wouldn't really be useful, as referencing a branch during the development process ist vital. However, you just gave me an idea. Say, we could detect, if the manifest is referencing a branch, then we could use a timestamp to force a do_fetch. If we do not detect a reference to a branch, we could just return the manifest SRCREV and therefore support offline builds for fixed refspecs. What do you</td><td class="time"><a href="#t2021-09-23T11:05:59" class="time">11:05</a></td></tr>
<tr id="t2021-09-23T11:06:05"><th class="nick" style="background: #5959a9">jorschulko</th><td class="text" style="color: #5959a9">think?</td><td class="time"><a href="#t2021-09-23T11:06:05" class="time">11:06</a></td></tr>
<tr id="t2021-09-23T11:07:05"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">jorschulko: wouldn't you just add the head revision of the branch rather than a timestamp?</td><td class="time"><a href="#t2021-09-23T11:07:05" class="time">11:07</a></td></tr>
<tr id="t2021-09-23T11:07:37"><th class="nick" style="background: #5959a9">jorschulko</th><td class="text" style="color: #5959a9">ah, that's an option? :D</td><td class="time"><a href="#t2021-09-23T11:07:37" class="time">11:07</a></td></tr>
<tr id="t2021-09-23T11:08:17"><th class="nick" style="background: #5959a9">jorschulko</th><td class="text" style="color: #5959a9">that would cause yocto to run do_fetch every time right?</td><td class="time"><a href="#t2021-09-23T11:08:17" class="time">11:08</a></td></tr>
<tr id="t2021-09-23T11:08:56"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">jorschulko: the idea is the configuration is meant to be deterministic so if gitsm is referring to floating stuff, the configuration should either be pinning it down or explictly floating</td><td class="time"><a href="#t2021-09-23T11:08:56" class="time">11:08</a></td></tr>
<tr id="t2021-09-23T11:09:45"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">jorschulko: i.e. either you set SRCREVS which match the branches, or it is configured to be floating. You'd not want to run do_fetch unless it changes, which you'd see if the branch revision changes</td><td class="time"><a href="#t2021-09-23T11:09:45" class="time">11:09</a></td></tr>
<tr id="t2021-09-23T11:21:41"><th class="nick" style="background: #adad5b">martin31821</th><td class="text" style="color: #adad5b">RP: I'm working with jorschulko on that and want to add my thoughts. Basically, the repo fetcher takes the src URL of the git repository where the XML manifest for google repo lives. That manifest can reference branches, tags or specific revisions for every sub-git-repository. When having something like branch=master specified for the</td><td class="time"><a href="#t2021-09-23T11:21:41" class="time">11:21</a></td></tr>
<tr id="t2021-09-23T11:21:41-2"><th class="nick" style="background: #adad5b">martin31821</th><td class="text" style="color: #adad5b">main-repository, we would then need to do an lsremote, resolve the revision, inspect the XML at that revision and for each referenced repository do an lsremote again to do it correctly. then we could return a revision key that contains *all* git hashes of all referenced repositories.</td><td class="time"><a href="#t2021-09-23T11:21:41-2" class="time">11:21</a></td></tr>
<tr id="t2021-09-23T11:22:26"><th class="nick" style="background: #adad5b">martin31821</th><td class="text" style="color: #adad5b">the border between pinned down SRCREVS and floating is very unclear in google repo, since the branches are so decoupled</td><td class="time"><a href="#t2021-09-23T11:22:26" class="time">11:22</a></td></tr>
<tr id="t2021-09-23T11:22:39"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">martin31821: right, I think you will have to do something like that</td><td class="time"><a href="#t2021-09-23T11:22:39" class="time">11:22</a></td></tr>
<tr id="t2021-09-23T11:23:54"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">martin31821: the fetcher does have&nbsp;&nbsp;the concept of multiple revisions against a git repository so you may be able to use that here too. The hard part is creating a sensible user facing revision but as you say, you could create a hash of the values for that</td><td class="time"><a href="#t2021-09-23T11:23:54" class="time">11:23</a></td></tr>
<tr id="t2021-09-23T11:24:02"><th class="nick" style="background: #adad5b">martin31821</th><td class="text" style="color: #adad5b">RP: in your thoughts, what would be the best option for offline builds, e.g. having a specific SRCREV or tag set for the main-repository? I still would somehow need to enforce that the XML manifest is completely pinned down in order to enforce reprodcability</td><td class="time"><a href="#t2021-09-23T11:24:02" class="time">11:24</a></td></tr>
<tr id="t2021-09-23T11:24:54"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">martin31821: I'm thinking that you'd want multiple SRCREV values set as you'd do with a git repo where you use multiple branches</td><td class="time"><a href="#t2021-09-23T11:24:54" class="time">11:24</a></td></tr>
<tr id="t2021-09-23T11:25:16"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">That way it would be totally pinned down and reproducible</td><td class="time"><a href="#t2021-09-23T11:25:16" class="time">11:25</a></td></tr>
<tr id="t2021-09-23T11:25:16-2"><th class="nick" style="background: #adad5b">martin31821</th><td class="text" style="color: #adad5b">one for each referenced repository in the xml manifest?</td><td class="time"><a href="#t2021-09-23T11:25:16-2" class="time">11:25</a></td></tr>
<tr id="t2021-09-23T11:25:27"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">martin31821: each one that can change</td><td class="time"><a href="#t2021-09-23T11:25:27" class="time">11:25</a></td></tr>
<tr id="t2021-09-23T11:25:46"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">martin31821: so I guess each &quot;unpinned&quot; repository in the xml manifest</td><td class="time"><a href="#t2021-09-23T11:25:46" class="time">11:25</a></td></tr>
<tr id="t2021-09-23T11:26:36"><th class="nick" style="background: #adad5b">martin31821</th><td class="text" style="color: #adad5b">that makes sense, although is kinda hard to implement</td><td class="time"><a href="#t2021-09-23T11:26:36" class="time">11:26</a></td></tr>
<tr id="t2021-09-23T11:27:20"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">martin31821: I didn't say it would be easy! :)</td><td class="time"><a href="#t2021-09-23T11:27:20" class="time">11:27</a></td></tr>
<tr id="t2021-09-23T11:27:44"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">I'm not sure I see another way though</td><td class="time"><a href="#t2021-09-23T11:27:44" class="time">11:27</a></td></tr>
<tr id="t2021-09-23T11:27:50"><th class="nick" style="background: #5959a9">jorschulko</th><td class="text" style="color: #5959a9">Another issue remains when combining google repo with git submodules. Or is it possible to get the revision of submodules during a lsremote?</td><td class="time"><a href="#t2021-09-23T11:27:50" class="time">11:27</a></td></tr>
<tr id="t2021-09-23T11:28:14"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">jorschulko: I'm afraid I don't know</td><td class="time"><a href="#t2021-09-23T11:28:14" class="time">11:28</a></td></tr>
<tr id="t2021-09-23T11:29:47"><th class="nick" style="background: #5959a9">jorschulko</th><td class="text" style="color: #5959a9">ok, stike the submodule question. Changing the submodule revision would change the main repo revision as well. so no issue here :)</td><td class="time"><a href="#t2021-09-23T11:29:47" class="time">11:29</a></td></tr>
<tr id="t2021-09-23T11:30:31"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">jordemort: submodules have their own issues with ensuring all the submodules are in the fetcher cache</td><td class="time"><a href="#t2021-09-23T11:30:31" class="time">11:30</a></td></tr>
<tr id="t2021-09-23T11:30:52"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">jordemort: the fetcher does know how to handle that but that in itself isn't simple</td><td class="time"><a href="#t2021-09-23T11:30:52" class="time">11:30</a></td></tr>
<tr id="t2021-09-23T11:31:27"><th class="nick" style="background: #5959a9">jorschulko</th><td class="text" style="color: #5959a9">RP: could you kindly point us to an example for the multiple SRCREVS part?</td><td class="time"><a href="#t2021-09-23T11:31:27" class="time">11:31</a></td></tr>
<tr id="t2021-09-23T11:32:01"><th class="nick" style="background: #b15db1">jaskij[m]</th><td class="text" style="color: #b15db1">Something that always bugged me: why does Google repo exist? What is wrong with making a git repo and pulling layers as submodules?</td><td class="time"><a href="#t2021-09-23T11:32:01" class="time">11:32</a></td></tr>
<tr id="t2021-09-23T11:32:45"><th class="nick" style="background: #407a40">tlwoerner</th><td class="text" style="color: #407a40">qschulz: the strange thing is, we already were carrying a patch to add those aliases, specifically for the rk3328-based devices</td><td class="time"><a href="#t2021-09-23T11:32:45" class="time">11:32</a></td></tr>
<tr id="t2021-09-23T11:33:01"><th class="nick" style="background: #407a40">tlwoerner</th><td class="text" style="color: #407a40">qschulz: and it was on my rk3328-based device (rock64) that i noticed the problem</td><td class="time"><a href="#t2021-09-23T11:33:01" class="time">11:33</a></td></tr>
<tr id="t2021-09-23T11:33:17"><th class="nick" style="background: #407a40">tlwoerner</th><td class="text" style="color: #407a40">qschulz: <a href="http://git.yoctoproject.org/cgit/cgit.cgi/meta-rockchip/tree/recipes-kernel/linux/files/0001-ayufan-dtsi-rk3328-add-mmc0-mmc1-aliases.patch" rel="nofollow">http://git.yoctoproject.org/cgit/cgit.cgi/meta-rockchip/tree/recipes-kernel/linux/files/0001-ayufan-dtsi-rk3328-add-mmc0-mmc1-aliases.patch</a></td><td class="time"><a href="#t2021-09-23T11:33:17" class="time">11:33</a></td></tr>
<tr id="t2021-09-23T11:33:36"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">jorschulko: SRC_URI = &quot;git://git.yoctoproject.org/linux-yocto.git;name=machine;branch=${KBRANCH}; \</td><td class="time"><a href="#t2021-09-23T11:33:36" class="time">11:33</a></td></tr>
<tr id="t2021-09-23T11:33:36-2"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; git://git.yoctoproject.org/yocto-kernel-cache;type=kmeta;name=meta;branch=yocto-5.10;destsuffix=${KMETA}&quot; from meta/recipes-kernel/linux/linux-yocto_5.10.bb</td><td class="time"><a href="#t2021-09-23T11:33:36-2" class="time">11:33</a></td></tr>
<tr id="t2021-09-23T11:33:48"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">jorschulko: there is a bbclass which sets SRCREV_FORMAT too</td><td class="time"><a href="#t2021-09-23T11:33:48" class="time">11:33</a></td></tr>
<tr id="t2021-09-23T11:34:38"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">jorschulko: the kernel did used to use one url for two different branches</td><td class="time"><a href="#t2021-09-23T11:34:38" class="time">11:34</a></td></tr>
<tr id="t2021-09-23T11:34:58"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">jorschulko: if you go back in history you should find that version which is still supported by the fetcher too</td><td class="time"><a href="#t2021-09-23T11:34:58" class="time">11:34</a></td></tr>
<tr id="t2021-09-23T11:35:27"><th class="nick" style="background: #407a40">tlwoerner</th><td class="text" style="color: #407a40">qschulz: the patch we have and the patch you link to are different, but simply booting up the board x times in a row would still show the devices enumerate in different orders on each boot</td><td class="time"><a href="#t2021-09-23T11:35:27" class="time">11:35</a></td></tr>
<tr id="t2021-09-23T11:51:00"><th class="nick" style="background: #5959a9">jorschulko</th><td class="text" style="color: #5959a9">@jaskij[m]: In our case we want to be able to easily combine some couple dozen repositories in various versions. Also, changes within one of the repos during development might require changes in multiple other repos. In repo this can easily be done by starting a topic, using submodules the developer (AFAIK) would have to separately clone these submodule repos in order to make changes and then update</td><td class="time"><a href="#t2021-09-23T11:51:00" class="time">11:51</a></td></tr>
<tr id="t2021-09-23T11:51:06"><th class="nick" style="background: #5959a9">jorschulko</th><td class="text" style="color: #5959a9">each of the affected refspecs in the main repo. So it is just a matter of management overhead</td><td class="time"><a href="#t2021-09-23T11:51:06" class="time">11:51</a></td></tr>
<tr id="t2021-09-23T12:17:51"><td class="nickchange" colspan="2">*** camus1 is now known as camus</td><td><a href="#t2021-09-23T12:17:51" class="time">12:17</a></td></tr>
<tr id="t2021-09-23T12:26:54"><th class="nick" style="background: #5959a9">jorschulko</th><td class="text" style="color: #5959a9">RP: thanks for your input, it helped a lot! :)</td><td class="time"><a href="#t2021-09-23T12:26:54" class="time">12:26</a></td></tr>
<tr id="t2021-09-23T12:30:24"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">tlwoerner: probing order isn't deterministic so it's not a surprise that without it sometimes does not work as expected. But the fact that there are (supposedly, need to be checked at runtime) aliases defined for it and it's still non-deterministic is an issue</td><td class="time"><a href="#t2021-09-23T12:30:24" class="time">12:30</a></td></tr>
<tr id="t2021-09-23T12:30:35"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">and I'm surprised this is happening with the patch you sent</td><td class="time"><a href="#t2021-09-23T12:30:35" class="time">12:30</a></td></tr>
<tr id="t2021-09-23T12:33:55"><th class="nick" style="background: #b15db1">jaskij[m]</th><td class="text" style="color: #b15db1">&lt;jorschulko&gt; &quot;@jaskij[m]: In our case we...&quot; &lt;- That's not true. By default submodules check out as detached head, that's true, but you can then manually check out the submodule you're working on to a branch, work on it and push normally. When done you just add and commit the refspec change in parent repo.</td><td class="time"><a href="#t2021-09-23T12:33:55" class="time">12:33</a></td></tr>
<tr id="t2021-09-23T12:42:28"><th class="nick" style="background: #b15db1">jaskij[m]</th><td class="text" style="color: #b15db1">But I didn't ask it to disagree with you. I just have this nagging feeling I'm missing something by using submodules instead of repo. Because if one solution is vastly more popular there must be reasons. But I have yet to find that reason, except submodules being widely misunderstood and misused. And having clunky UX.</td><td class="time"><a href="#t2021-09-23T12:42:28" class="time">12:42</a></td></tr>
<tr id="t2021-09-23T12:49:55"><th class="nick" style="background: #407a40">tlwoerner</th><td class="text" style="color: #407a40">qschulz: do you have rockchip boards to test?</td><td class="time"><a href="#t2021-09-23T12:49:55" class="time">12:49</a></td></tr>
<tr id="t2021-09-23T12:50:36"><th class="nick" style="background: #407a40">tlwoerner</th><td class="text" style="color: #407a40">incidentally i'm also seeing the same issue on my dragonboard-410c, hence why i poked ndec_ about editing the kernel cmdline</td><td class="time"><a href="#t2021-09-23T12:50:36" class="time">12:50</a></td></tr>
<tr id="t2021-09-23T12:51:19"><th class="nick" style="background: #407a40">tlwoerner</th><td class="text" style="color: #407a40">the tricky thing is, you can boot the same image 5 times in a row and it'll work so you think the problem is solved, but then the 6th boot shows the problem</td><td class="time"><a href="#t2021-09-23T12:51:19" class="time">12:51</a></td></tr>
<tr id="t2021-09-23T12:51:31"><th class="nick" style="background: #488888">ndec_</th><td class="text" style="color: #488888">which problem?</td><td class="time"><a href="#t2021-09-23T12:51:31" class="time">12:51</a></td></tr>
<tr id="t2021-09-23T12:51:58"><th class="nick" style="background: #407a40">tlwoerner</th><td class="text" style="color: #407a40">hilariously, i was trying to bisect the kernel to figure out the bad commit and ended up landing on a patch that did nothing but fix a spelling mistake!!! hahah</td><td class="time"><a href="#t2021-09-23T12:51:58" class="time">12:51</a></td></tr>
<tr id="t2021-09-23T12:52:18"><th class="nick" style="background: #407a40">tlwoerner</th><td class="text" style="color: #407a40">i almost lost faith in my ability to git bisect (lol)</td><td class="time"><a href="#t2021-09-23T12:52:18" class="time">12:52</a></td></tr>
<tr id="t2021-09-23T12:52:55"><th class="nick" style="background: #42427e">zeddii</th><td class="text" style="color: #42427e">RP: I if wanted to see if there were those pkg-config inherit issues in meta-virt.&nbsp;&nbsp;Is building against poky master-next enough ? or did you turf some fo the proposed patches ?</td><td class="time"><a href="#t2021-09-23T12:52:55" class="time">12:52</a></td></tr>
<tr id="t2021-09-23T12:53:11"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">zeddii: the patch in question is still in master-next</td><td class="time"><a href="#t2021-09-23T12:53:11" class="time">12:53</a></td></tr>
<tr id="t2021-09-23T12:53:14"><th class="nick" style="background: #407a40">tlwoerner</th><td class="text" style="color: #407a40">ndec_: the 5.13 kernel doesn't probe mmc devices in a deterministic way, so if you hardcode your image to boot, say, mmcblk1 then it'll only boot successfully roughly half the time</td><td class="time"><a href="#t2021-09-23T12:53:14" class="time">12:53</a></td></tr>
<tr id="t2021-09-23T12:53:27"><th class="nick" style="background: #42427e">zeddii</th><td class="text" style="color: #42427e">ack'd. I'll have a test spin just to see then!</td><td class="time"><a href="#t2021-09-23T12:53:27" class="time">12:53</a></td></tr>
<tr id="t2021-09-23T12:53:45"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">zeddii: I am unlikely to take it for 3.4 as it does cause too many complaints. I merged the other do_build dependency changes though</td><td class="time"><a href="#t2021-09-23T12:53:45" class="time">12:53</a></td></tr>
<tr id="t2021-09-23T12:53:54"><th class="nick" style="background: #488888">ndec_</th><td class="text" style="color: #488888">tlwoerner: was it ever done in a deterministic way?</td><td class="time"><a href="#t2021-09-23T12:53:54" class="time">12:53</a></td></tr>
<tr id="t2021-09-23T12:54:06"><th class="nick" style="background: #407a40">tlwoerner</th><td class="text" style="color: #407a40">ndec_: in meta-rockchip i had to switch to using UUIDs (but apparently some are seeing issues with my recent patch)</td><td class="time"><a href="#t2021-09-23T12:54:06" class="time">12:54</a></td></tr>
<tr id="t2021-09-23T12:54:23"><th class="nick" style="background: #42427e">zeddii</th><td class="text" style="color: #42427e">RP: gotcha. I'll just see if I can get ahead of it eventually landing and already have the layer in shape, if it needs anything that is.</td><td class="time"><a href="#t2021-09-23T12:54:23" class="time">12:54</a></td></tr>
<tr id="t2021-09-23T12:54:28"><th class="nick" style="background: #488888">ndec_</th><td class="text" style="color: #488888">i thought we had been using PARTLABEL for quite some time.</td><td class="time"><a href="#t2021-09-23T12:54:28" class="time">12:54</a></td></tr>
<tr id="t2021-09-23T12:54:45"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">zeddii: I thought we cleaned things up a while ago but looks like things regressed :/</td><td class="time"><a href="#t2021-09-23T12:54:45" class="time">12:54</a></td></tr>
<tr id="t2021-09-23T12:55:31"><th class="nick" style="background: #42427e">zeddii</th><td class="text" style="color: #42427e">indeed. I remember doing a bunch of changes adding inherit pkgconfig .. so I don't expect much. Just looking at the stream of changes in meta-oe, made me wonder.</td><td class="time"><a href="#t2021-09-23T12:55:31" class="time">12:55</a></td></tr>
<tr id="t2021-09-23T12:55:42"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">zeddii: I ran a build with the kernel uprev last night and it seemed fine. I have another running now with Kevin's change</td><td class="time"><a href="#t2021-09-23T12:55:42" class="time">12:55</a></td></tr>
<tr id="t2021-09-23T12:55:48"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">zeddii: if those pass, are we good?</td><td class="time"><a href="#t2021-09-23T12:55:48" class="time">12:55</a></td></tr>
<tr id="t2021-09-23T12:55:49"><th class="nick" style="background: #488888">ndec_</th><td class="text" style="color: #488888">tlwoerner: hmm. no we stopped using hardcoded block device in our debian builds.. not in meta-qcom. but i think we should.</td><td class="time"><a href="#t2021-09-23T12:55:49" class="time">12:55</a></td></tr>
<tr id="t2021-09-23T12:56:03"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">zeddii: the changes in core surprised me too :/</td><td class="time"><a href="#t2021-09-23T12:56:03" class="time">12:56</a></td></tr>
<tr id="t2021-09-23T12:56:04"><th class="nick" style="background: #407a40">tlwoerner</th><td class="text" style="color: #407a40">ndec_: yes</td><td class="time"><a href="#t2021-09-23T12:56:04" class="time">12:56</a></td></tr>
<tr id="t2021-09-23T12:56:08"><th class="nick" style="background: #407a40">tlwoerner</th><td class="text" style="color: #407a40">conf/machine/dragonboard-410c.conf:SD_QCOM_BOOTIMG_ROOTFS ?= &quot;/dev/mmcblk1p7&quot;</td><td class="time"><a href="#t2021-09-23T12:56:08" class="time">12:56</a></td></tr>
<tr id="t2021-09-23T12:56:18"><th class="nick" style="background: #42427e">zeddii</th><td class="text" style="color: #42427e">RP: yup. that's all we'd need. and I can follow up and purge, or you could during the merge. whatever is easiest.</td><td class="time"><a href="#t2021-09-23T12:56:18" class="time">12:56</a></td></tr>
<tr id="t2021-09-23T12:56:58"><th class="nick" style="background: #407a40">tlwoerner</th><td class="text" style="color: #407a40">ndec_: but then i got lost in recipes-kernel/linux/linux-qcom-bootimg.inc</td><td class="time"><a href="#t2021-09-23T12:56:58" class="time">12:56</a></td></tr>
<tr id="t2021-09-23T12:57:10"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">zeddii: I'll let you followup :)</td><td class="time"><a href="#t2021-09-23T12:57:10" class="time">12:57</a></td></tr>
<tr id="t2021-09-23T12:57:16"><th class="nick" style="background: #5959a9">jorschulko</th><td class="text" style="color: #5959a9">jaskij[m] huh... cool I didn't know that you could checkout within the submodule. However, you would still have to manually step into each of the submodules, create a branch, make your changes and push them. With repo you can e.g. create / push branches on all desired repos with one command</td><td class="time"><a href="#t2021-09-23T12:57:16" class="time">12:57</a></td></tr>
<tr id="t2021-09-23T12:57:22"><th class="nick" style="background: #488888">ndec_</th><td class="text" style="color: #488888">tlwoerner: change QCOM_BOOTIMG_ROOTFS</td><td class="time"><a href="#t2021-09-23T12:57:22" class="time">12:57</a></td></tr>
<tr id="t2021-09-23T12:57:31"><th class="nick" style="background: #407a40">tlwoerner</th><td class="text" style="color: #407a40">ndec_: using a UUID requires the removal of the &quot;root=&quot; kernel cmdline arg, hence my question earlier</td><td class="time"><a href="#t2021-09-23T12:57:31" class="time">12:57</a></td></tr>
<tr id="t2021-09-23T12:58:34"><th class="nick" style="background: #407a40">tlwoerner</th><td class="text" style="color: #407a40">ndec_: oops, not the removal of root=, but modifying it to use UUID too</td><td class="time"><a href="#t2021-09-23T12:58:34" class="time">12:58</a></td></tr>
<tr id="t2021-09-23T12:58:43"><th class="nick" style="background: #407a40">tlwoerner</th><td class="text" style="color: #407a40">hmm, not sure that's going to work on the dragonboard-410c</td><td class="time"><a href="#t2021-09-23T12:58:43" class="time">12:58</a></td></tr>
<tr id="t2021-09-23T12:59:25"><th class="nick" style="background: #488888">ndec_</th><td class="text" style="color: #488888">i don't think you can use UUID, since you don't know the value, no?</td><td class="time"><a href="#t2021-09-23T12:59:25" class="time">12:59</a></td></tr>
<tr id="t2021-09-23T12:59:38"><th class="nick" style="background: #488888">ndec_</th><td class="text" style="color: #488888">i was thinking about root=PARTLABEL=rootfs</td><td class="time"><a href="#t2021-09-23T12:59:38" class="time">12:59</a></td></tr>
<tr id="t2021-09-23T12:59:40"><th class="nick" style="background: #407a40">tlwoerner</th><td class="text" style="color: #407a40">ndec_: i've switched to booting off the uSD card on my dragonboard-410c, it avoids all that messy android stuff ;-)</td><td class="time"><a href="#t2021-09-23T12:59:40" class="time">12:59</a></td></tr>
<tr id="t2021-09-23T12:59:47"><th class="nick" style="background: #5959a9">jorschulko</th><td class="text" style="color: #5959a9">jaskij[m]: e.g.: repo start feature/foo $(repo list -n -r &quot;&lt;SOME_REGEX_TO_IDENTIFY_BRANCHES&gt;&quot;)</td><td class="time"><a href="#t2021-09-23T12:59:47" class="time">12:59</a></td></tr>
<tr id="t2021-09-23T13:00:08"><th class="nick" style="background: #407a40">tlwoerner</th><td class="text" style="color: #407a40">ndec_: ah yes! let me try that</td><td class="time"><a href="#t2021-09-23T13:00:08" class="time">13:00</a></td></tr>
<tr id="t2021-09-23T13:01:33"><th class="nick" style="background: #488888">ndec_</th><td class="text" style="color: #488888">tlwoerner: well, 'rootfs' here is the partition name. so you need to make sure you don't have the same name on emmc and sd, otherwise it won't work well :)</td><td class="time"><a href="#t2021-09-23T13:01:33" class="time">13:01</a></td></tr>
<tr id="t2021-09-23T13:11:35"><th class="nick" style="background: #407a40">tlwoerner</th><td class="text" style="color: #407a40">ndec_: i don't think any of the android partitions (i.e. on the emmc) have that name (fingers crossed)</td><td class="time"><a href="#t2021-09-23T13:11:35" class="time">13:11</a></td></tr>
<tr id="t2021-09-23T13:14:03"><th class="nick" style="background: #b15db1">jaskij[m]</th><td class="text" style="color: #b15db1">&lt;jorschulko&gt; &quot;jaskij huh... cool I didn't know...&quot; &lt;- Huh, okay, yes, that can be useful if you're working on multiple layers at once.</td><td class="time"><a href="#t2021-09-23T13:14:03" class="time">13:14</a></td></tr>
<tr id="t2021-09-23T13:18:36"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">tlwoerner: I have some rk3399-puma-haiku available</td><td class="time"><a href="#t2021-09-23T13:18:36" class="time">13:18</a></td></tr>
<tr id="t2021-09-23T13:19:56"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">tlwoerner: do you have mmc0/mmc1 entries in /sys/firmware/devicetree/base/aliases/ directory?</td><td class="time"><a href="#t2021-09-23T13:19:56" class="time">13:19</a></td></tr>
<tr id="t2021-09-23T13:28:27"><th class="nick" style="background: #407a40">tlwoerner</th><td class="text" style="color: #407a40">a bb.error() in an anonymous python doesn't seem to stop the build?</td><td class="time"><a href="#t2021-09-23T13:28:27" class="time">13:28</a></td></tr>
<tr id="t2021-09-23T13:29:50"><th class="nick" style="background: #407a40">tlwoerner</th><td class="text" style="color: #407a40">the message does get printed, and the build returns failure, eventually, but subsequent tasks keep running</td><td class="time"><a href="#t2021-09-23T13:29:50" class="time">13:29</a></td></tr>
<tr id="t2021-09-23T13:33:23"><th class="nick" style="background: #407a40">tlwoerner</th><td class="text" style="color: #407a40">qschulz: (i'm investigating, i'll do a clean build for my rock64 with my patch removed and just the alias patch, the build will take a bit)</td><td class="time"><a href="#t2021-09-23T13:33:23" class="time">13:33</a></td></tr>
<tr id="t2021-09-23T13:39:35"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">tlwoerner: you want bb.fatal maybe?</td><td class="time"><a href="#t2021-09-23T13:39:35" class="time">13:39</a></td></tr>
<tr id="t2021-09-23T13:40:27"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">tlwoerner: you want bb.fatal() to stop the build</td><td class="time"><a href="#t2021-09-23T13:40:27" class="time">13:40</a></td></tr>
<tr id="t2021-09-23T13:40:42"><th class="nick" style="background: #407a40">tlwoerner</th><td class="text" style="color: #407a40">qschulz: RP: ahh, thanks! :-)</td><td class="time"><a href="#t2021-09-23T13:40:42" class="time">13:40</a></td></tr>
<tr id="t2021-09-23T14:00:22-2"><td class="nickchange" colspan="2">*** camus1 is now known as camus</td><td><a href="#t2021-09-23T14:00:22-2" class="time">14:00</a></td></tr>
<tr id="t2021-09-23T14:05:57"><th class="nick" style="background: #407a40">tlwoerner</th><td class="text" style="color: #407a40">qschulz: sweet! the rk3399-puma-haikou has upstream support, i'll expect a patch adding it to meta-rockchip? ;-)</td><td class="time"><a href="#t2021-09-23T14:05:57" class="time">14:05</a></td></tr>
<tr id="t2021-09-23T14:09:25"><th class="nick" style="background: #5fb4b4">moto-timo</th><td class="text" style="color: #5fb4b4">kanavin: I've got it building and properly setting the PIN to get past the login screen, but it immediately fails after that and I haven't gotten back to diagnosing why... looks like gsettings-daemon issue</td><td class="time"><a href="#t2021-09-23T14:09:25" class="time">14:09</a></td></tr>
<tr id="t2021-09-23T14:10:10"><th class="nick" style="background: #4b904b">ThomasD13</th><td class="text" style="color: #4b904b">Hmmm.. qschulz your suggestion with MACHINEOVERRIDES worked well, apart for that: SYSFW_PREFIX_j7-evm-k3r5 = &quot;ti-fs-firmware&quot;</td><td class="time"><a href="#t2021-09-23T14:10:10" class="time">14:10</a></td></tr>
<tr id="t2021-09-23T14:10:26"><th class="nick" style="background: #a25555">kanavin</th><td class="text" style="color: #a25555">moto-timo, right, hope you find time to push it further</td><td class="time"><a href="#t2021-09-23T14:10:26" class="time">14:10</a></td></tr>
<tr id="t2021-09-23T14:10:48"><th class="nick" style="background: #4b904b">ThomasD13</th><td class="text" style="color: #4b904b">j7-evm has multiconfig &quot;k3r5&quot;</td><td class="time"><a href="#t2021-09-23T14:10:48" class="time">14:10</a></td></tr>
<tr id="t2021-09-23T14:10:50"><th class="nick" style="background: #5fb4b4">moto-timo</th><td class="text" style="color: #5fb4b4">kanavin: probably tomorrow</td><td class="time"><a href="#t2021-09-23T14:10:50" class="time">14:10</a></td></tr>
<tr id="t2021-09-23T14:11:18"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">ThomasD13: j7-evm-k3r5 is an OVERRIDES, so you need another one in MACHINEOVERRIDES</td><td class="time"><a href="#t2021-09-23T14:11:18" class="time">14:11</a></td></tr>
<tr id="t2021-09-23T14:11:43"><th class="nick" style="background: #4b904b">ThomasD13</th><td class="text" style="color: #4b904b">My added machine-config &quot;j7-paradise&quot; with the MACHINEOVERRIDES = &quot;j7-evm&quot; seems not to pickup on that</td><td class="time"><a href="#t2021-09-23T14:11:43" class="time">14:11</a></td></tr>
<tr id="t2021-09-23T14:11:54"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">might make sense to have it in the multiconfig file but I know very little about multiconfig unfortunately :/</td><td class="time"><a href="#t2021-09-23T14:11:54" class="time">14:11</a></td></tr>
<tr id="t2021-09-23T14:12:16-2"><th class="nick" style="background: #4b904b">ThomasD13</th><td class="text" style="color: #4b904b">Yeah, my guess is that this multiconfig crap is kind of a &quot;special case&quot;</td><td class="time"><a href="#t2021-09-23T14:12:16-2" class="time">14:12</a></td></tr>
<tr id="t2021-09-23T14:12:50"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">ThomasD13: that's TI crap :) I don't think it has anything to do with &quot;usual&quot;/Yocto multiconfig setup?</td><td class="time"><a href="#t2021-09-23T14:12:50" class="time">14:12</a></td></tr>
<tr id="t2021-09-23T14:13:13"><th class="nick" style="background: #4b904b">ThomasD13</th><td class="text" style="color: #4b904b">yeah sorry, thats probably more true :)</td><td class="time"><a href="#t2021-09-23T14:13:13" class="time">14:13</a></td></tr>
<tr id="t2021-09-23T14:13:39"><th class="nick" style="background: #4b904b">ThomasD13</th><td class="text" style="color: #4b904b">So I have a machine configuration, and can work there with MACHINEOVERRIDES</td><td class="time"><a href="#t2021-09-23T14:13:39" class="time">14:13</a></td></tr>
<tr id="t2021-09-23T14:14:07"><th class="nick" style="background: #4b904b">ThomasD13</th><td class="text" style="color: #4b904b">that makes sense to me - and this machine configuration is used for a second &quot;config&quot; (k3r5)</td><td class="time"><a href="#t2021-09-23T14:14:07" class="time">14:14</a></td></tr>
<tr id="t2021-09-23T14:14:52"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">ThomasD13: dig into TI configuration file and you'll see they are adding this to MACHINEOVERRIDES somehwere (probably&nbsp;&nbsp;a ${MACHINE}-k3r5 or something similar?)</td><td class="time"><a href="#t2021-09-23T14:14:52" class="time">14:14</a></td></tr>
<tr id="t2021-09-23T14:15:05"><th class="nick" style="background: #4b904b">ThomasD13</th><td class="text" style="color: #4b904b">But why worked the MACHINEOVERRIDES not in that case?</td><td class="time"><a href="#t2021-09-23T14:15:05" class="time">14:15</a></td></tr>
<tr id="t2021-09-23T14:15:10"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">might be using the name of the other machine in the multiconfig setup but I don't know</td><td class="time"><a href="#t2021-09-23T14:15:10" class="time">14:15</a></td></tr>
<tr id="t2021-09-23T14:15:27"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">ThomasD13: because OVERRIDES works on full strings</td><td class="time"><a href="#t2021-09-23T14:15:27" class="time">14:15</a></td></tr>
<tr id="t2021-09-23T14:15:33"><th class="nick" style="background: #b86161">vd</th><td class="text" style="color: #b86161">what is the best way to provide a .nspawn configuration file? its own package, systemd-conf, or systemd-container?</td><td class="time"><a href="#t2021-09-23T14:15:33" class="time">14:15</a></td></tr>
<tr id="t2021-09-23T14:15:38"><th class="nick" style="background: #4b904b">ThomasD13</th><td class="text" style="color: #4b904b">ahhh</td><td class="time"><a href="#t2021-09-23T14:15:38" class="time">14:15</a></td></tr>
<tr id="t2021-09-23T14:15:55"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">so _j7-evm is matched by j7-evm only, _j7-evm-k3r5 won't match unless you have j7-evm-k3r5 in OVERRIDES somewhere</td><td class="time"><a href="#t2021-09-23T14:15:55" class="time">14:15</a></td></tr>
<tr id="t2021-09-23T14:16:43"><th class="nick" style="background: #4b904b">ThomasD13</th><td class="text" style="color: #4b904b">ahhhhh alright. I thought yocto does know about j7-evm is machine of that string. Ok, makes sense now :)</td><td class="time"><a href="#t2021-09-23T14:16:43" class="time">14:16</a></td></tr>
<tr id="t2021-09-23T14:16:45"><th class="nick" style="background: #4b904b">ThomasD13</th><td class="text" style="color: #4b904b">thank you</td><td class="time"><a href="#t2021-09-23T14:16:45" class="time">14:16</a></td></tr>
<tr id="t2021-09-23T14:19:13"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">tlwoerner: that would be possible indeed. Have to figure out how the defconfigs are working on arm64 upstream. I only remember there's a default defconfig and we usually have our own next to that one for our machines</td><td class="time"><a href="#t2021-09-23T14:19:13" class="time">14:19</a></td></tr>
<tr id="t2021-09-23T14:19:17"><th class="nick" style="background: #4b904b">ThomasD13</th><td class="text" style="color: #4b904b">They have a multiconfig &quot;k3r5.conf&quot; with this: MACHINE_append = &quot;-k3r5&quot;. Does this make the trick?</td><td class="time"><a href="#t2021-09-23T14:19:17" class="time">14:19</a></td></tr>
<tr id="t2021-09-23T14:19:33"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">ThomasD13: oof</td><td class="time"><a href="#t2021-09-23T14:19:33" class="time">14:19</a></td></tr>
<tr id="t2021-09-23T14:20:22"><th class="nick" style="background: #407a40">tlwoerner</th><td class="text" style="color: #407a40">qschulz: i'm working on a &quot;best practices&quot; config for rockchip, i've noticed things missing from the defconfig that hurt rockchip</td><td class="time"><a href="#t2021-09-23T14:20:22" class="time">14:20</a></td></tr>
<tr id="t2021-09-23T14:20:50"><th class="nick" style="background: #407a40">tlwoerner</th><td class="text" style="color: #407a40">i.e. working with the linux-yocto tooling from zeddii :-)</td><td class="time"><a href="#t2021-09-23T14:20:50" class="time">14:20</a></td></tr>
<tr id="t2021-09-23T14:21:01"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">tlwoerner: the concern now is where the defconfigs mentioned in the machine config file are :D</td><td class="time"><a href="#t2021-09-23T14:21:01" class="time">14:21</a></td></tr>
<tr id="t2021-09-23T14:21:57"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">ThomasD13: so, basically the issue right now is that they are renaming the machine completely</td><td class="time"><a href="#t2021-09-23T14:21:57" class="time">14:21</a></td></tr>
<tr id="t2021-09-23T14:22:07"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">so... j7-evm never exists anymore</td><td class="time"><a href="#t2021-09-23T14:22:07" class="time">14:22</a></td></tr>
<tr id="t2021-09-23T14:22:18"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">in the context of a multiconf build obviously</td><td class="time"><a href="#t2021-09-23T14:22:18" class="time">14:22</a></td></tr>
<tr id="t2021-09-23T14:22:36"><th class="nick" style="background: #407a40">tlwoerner</th><td class="text" style="color: #407a40">btw, Amit Kucheria is currently giving a talk discussing &quot;yocto&quot; @ plumbers</td><td class="time"><a href="#t2021-09-23T14:22:36" class="time">14:22</a></td></tr>
<tr id="t2021-09-23T14:22:41"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">so your MACHINEOVERRIDES is technically incorrect if we follow tht &quot;logic&quot;</td><td class="time"><a href="#t2021-09-23T14:22:41" class="time">14:22</a></td></tr>
<tr id="t2021-09-23T14:22:51"><th class="nick" style="background: #62bb62">rburton</th><td class="text" style="color: #62bb62">tlwoerner: is that the huawai allscenario one?</td><td class="time"><a href="#t2021-09-23T14:22:51" class="time">14:22</a></td></tr>
<tr id="t2021-09-23T14:23:15"><th class="nick" style="background: #4b904b">ThomasD13</th><td class="text" style="color: #4b904b">lol - okay. That sounds like a bad practise</td><td class="time"><a href="#t2021-09-23T14:23:15" class="time">14:23</a></td></tr>
<tr id="t2021-09-23T14:23:24"><th class="nick" style="background: #407a40">tlwoerner</th><td class="text" style="color: #407a40">rburton: it's a zephyr talk</td><td class="time"><a href="#t2021-09-23T14:23:24" class="time">14:23</a></td></tr>
<tr id="t2021-09-23T14:23:31"><th class="nick" style="background: #407a40">tlwoerner</th><td class="text" style="color: #407a40">i think <a href="https://www.youtube.com/watch?v=KDEn63x36Tg" rel="nofollow">https://www.youtube.com/watch?v=KDEn63x36Tg</a> should work</td><td class="time"><a href="#t2021-09-23T14:23:31" class="time">14:23</a></td></tr>
<tr id="t2021-09-23T14:24:30"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">ThomasD13: if this does not break (it'll silently break/misconfigure/enable/disable stuff) your builds, then a simple MACHINEOVERRIDES .= &quot;:j7-evm-k3r5&quot; in your multiconf file might be enough</td><td class="time"><a href="#t2021-09-23T14:24:30" class="time">14:24</a></td></tr>
<tr id="t2021-09-23T14:24:40"><th class="nick" style="background: #5fb4b4">moto-timo</th><td class="text" style="color: #5fb4b4">Interesting talk so far… the slides are sparse</td><td class="time"><a href="#t2021-09-23T14:24:40" class="time">14:24</a></td></tr>
<tr id="t2021-09-23T14:25:01"><th class="nick" style="background: #5fb4b4">moto-timo</th><td class="text" style="color: #5fb4b4">So video watching will be required</td><td class="time"><a href="#t2021-09-23T14:25:01" class="time">14:25</a></td></tr>
<tr id="t2021-09-23T14:25:47"><th class="nick" style="background: #4b904b">ThomasD13</th><td class="text" style="color: #4b904b">qschulz, got it. I give it a try. thank you so much. I even have a testcase for this :)</td><td class="time"><a href="#t2021-09-23T14:25:47" class="time">14:25</a></td></tr>
<tr id="t2021-09-23T14:35:21"><th class="nick" style="background: #407a40">tlwoerner</th><td class="text" style="color: #407a40">karim expresses an odd sentiment</td><td class="time"><a href="#t2021-09-23T14:35:21" class="time">14:35</a></td></tr>
<tr id="t2021-09-23T14:50:15"><th class="nick" style="background: #854685">JosefHolzmayr[m]</th><td class="text" style="color: #854685">does nodejs on master really compile for 1h+x on a mid-size box? (like, 16cores)</td><td class="time"><a href="#t2021-09-23T14:50:15" class="time">14:50</a></td></tr>
<tr id="t2021-09-23T15:21:18"><th class="nick" style="background: #6464bf">Tartarus</th><td class="text" style="color: #6464bf">moto-timo: Hey, smurray said perhaps I should poke you about poking some of the crops folks to update the containers, lz4c, pzstd and zstd are missing from cropy/poky:ubuntu-20.04 (and all the rest I assume) which master requires now</td><td class="time"><a href="#t2021-09-23T15:21:18" class="time">15:21</a></td></tr>
<tr id="t2021-09-23T15:22:56"><th class="nick" style="background: #c3c366">moto_timo[m]</th><td class="text" style="color: #c3c366">Tartarus: right... rewitt has been maintaining things on a best-effort basis</td><td class="time"><a href="#t2021-09-23T15:22:56" class="time">15:22</a></td></tr>
<tr id="t2021-09-23T15:23:18"><th class="nick" style="background: #62bb62">rburton</th><td class="text" style="color: #62bb62">moto_timo[m]: maybe he needs to open up the repo to a co-maintainer</td><td class="time"><a href="#t2021-09-23T15:23:18" class="time">15:23</a></td></tr>
<tr id="t2021-09-23T15:23:21"><th class="nick" style="background: #62bb62">rburton</th><td class="text" style="color: #62bb62">maybe called Tim</td><td class="time"><a href="#t2021-09-23T15:23:21" class="time">15:23</a></td></tr>
<tr id="t2021-09-23T15:24:10"><th class="nick" style="background: #c3c366">moto_timo[m]</th><td class="text" style="color: #c3c366">rburton: I have write privileges, but I have been respecting his final word</td><td class="time"><a href="#t2021-09-23T15:24:10" class="time">15:24</a></td></tr>
<tr id="t2021-09-23T15:24:32"><th class="nick" style="background: #62bb62">rburton</th><td class="text" style="color: #62bb62">you could be a co-maintainer so you can push the aarch64 image</td><td class="time"><a href="#t2021-09-23T15:24:32" class="time">15:24</a></td></tr>
<tr id="t2021-09-23T15:24:47"><th class="nick" style="background: #62bb62">rburton</th><td class="text" style="color: #62bb62">because right now, i'm telling people who want arm build containers to use the kas container</td><td class="time"><a href="#t2021-09-23T15:24:47" class="time">15:24</a></td></tr>
<tr id="t2021-09-23T15:24:48"><th class="nick" style="background: #6464bf">Tartarus</th><td class="text" style="color: #6464bf">I mean, is crops open to pull requests?&nbsp;&nbsp;I should update my build system to something a tiny bit less old, but I've also found just firing off crops and building in that fairly handy</td><td class="time"><a href="#t2021-09-23T15:24:48" class="time">15:24</a></td></tr>
<tr id="t2021-09-23T15:26:21"><th class="nick" style="background: #5fb4b4">moto-timo</th><td class="text" style="color: #5fb4b4">Tartarus: crops is open to pull requests. the place to put the change is in yocto-dockerfiles</td><td class="time"><a href="#t2021-09-23T15:26:21" class="time">15:26</a></td></tr>
<tr id="t2021-09-23T15:26:59"><th class="nick" style="background: #6464bf">Tartarus</th><td class="text" style="color: #6464bf">moto-timo: OK, yeah, thanks.&nbsp;&nbsp;I'll do a PR if things don't get updated by the time I'm needing to poke this again. :)</td><td class="time"><a href="#t2021-09-23T15:26:59" class="time">15:26</a></td></tr>
<tr id="t2021-09-23T15:27:06"><th class="nick" style="background: #5fb4b4">moto-timo</th><td class="text" style="color: #5fb4b4">most of my daily usage is now kas based, so I haven't been using crops as much recently</td><td class="time"><a href="#t2021-09-23T15:27:06" class="time">15:27</a></td></tr>
<tr id="t2021-09-23T15:28:44"><th class="nick" style="background: #c668c6">whuang0389</th><td class="text" style="color: #c668c6">Is there a way to unmask a service in a recipe??</td><td class="time"><a href="#t2021-09-23T15:28:44" class="time">15:28</a></td></tr>
<tr id="t2021-09-23T15:28:57"><th class="nick" style="background: #c668c6">whuang0389</th><td class="text" style="color: #c668c6">(I want it unmasked, but not enabled)</td><td class="time"><a href="#t2021-09-23T15:28:57" class="time">15:28</a></td></tr>
<tr id="t2021-09-23T15:59:05-2"><td class="nickchange" colspan="2">*** camus1 is now known as camus</td><td><a href="#t2021-09-23T15:59:05-2" class="time">15:59</a></td></tr>
<tr id="t2021-09-23T16:02:23"><th class="nick" style="background: #a25555">kanavin</th><td class="text" style="color: #a25555">alimon, are you aware of ptest-runner patches floating about?</td><td class="time"><a href="#t2021-09-23T16:02:23" class="time">16:02</a></td></tr>
<tr id="t2021-09-23T16:05:32"><th class="nick" style="background: #6acaca">alimon</th><td class="text" style="color: #6acaca">kanavin: not yet, i will review it, thanks for notice me,&nbsp;&nbsp;these days i'm returning from OOO</td><td class="time"><a href="#t2021-09-23T16:05:32" class="time">16:05</a></td></tr>
<tr id="t2021-09-23T16:06:09"><th class="nick" style="background: #a25555">kanavin</th><td class="text" style="color: #a25555">alimon, thanks. Hope you're ok.</td><td class="time"><a href="#t2021-09-23T16:06:09" class="time">16:06</a></td></tr>
<tr id="t2021-09-23T16:07:02-2"><th class="nick" style="background: #6acaca">alimon</th><td class="text" style="color: #6acaca">kanavin: i'm fine thanks, regarding the patch that counts the errors so we should return 0 when success and 1 when fails without count. the proposed patch didn't return 0 when succeed.</td><td class="time"><a href="#t2021-09-23T16:07:02-2" class="time">16:07</a></td></tr>
<tr id="t2021-09-23T16:09:41"><th class="nick" style="background: #6acaca">alimon</th><td class="text" style="color: #6acaca">kanavin: i see there is a new patch</td><td class="time"><a href="#t2021-09-23T16:09:41" class="time">16:09</a></td></tr>
<tr id="t2021-09-23T16:12:22"><th class="nick" style="background: #a25555">kanavin</th><td class="text" style="color: #a25555">alimon, yes, and some patches from me</td><td class="time"><a href="#t2021-09-23T16:12:22" class="time">16:12</a></td></tr>
<tr id="t2021-09-23T16:21:16"><th class="nick" style="background: #6acaca">alimon</th><td class="text" style="color: #6acaca">kanavin: yes i find this one, [ptest-runner][PATCH 3/3] utils.c: add system data collection when a test gets stuck</td><td class="time"><a href="#t2021-09-23T16:21:16" class="time">16:21</a></td></tr>
<tr id="t2021-09-23T16:21:36"><th class="nick" style="background: #6acaca">alimon</th><td class="text" style="color: #6acaca">kanavin: do you have a repo/branch for this patches, for some reason git am is failing to apply</td><td class="time"><a href="#t2021-09-23T16:21:36" class="time">16:21</a></td></tr>
<tr id="t2021-09-23T16:23:22"><th class="nick" style="background: #407a40">tlwoerner</th><td class="text" style="color: #407a40">qschulz: so a completely fresh/clean build of 5.13.y doesn't find the sdcard even with the patch i pointed you to earlier that explicitly sets mmcblk1 to the sdmmc (in the DT)</td><td class="time"><a href="#t2021-09-23T16:23:22" class="time">16:23</a></td></tr>
<tr id="t2021-09-23T16:23:40"><th class="nick" style="background: #407a40">tlwoerner</th><td class="text" style="color: #407a40">and i can't verify what's in /sys/firmware/… because it doesn't get to a prompt ;-)</td><td class="time"><a href="#t2021-09-23T16:23:40" class="time">16:23</a></td></tr>
<tr id="t2021-09-23T16:24:52"><th class="nick" style="background: #6acaca">alimon</th><td class="text" style="color: #6acaca">kanavin: is unable to build an ancestor, i'm using git version 2.33.0</td><td class="time"><a href="#t2021-09-23T16:24:52" class="time">16:24</a></td></tr>
<tr id="t2021-09-23T16:27:48"><th class="nick" style="background: #8c4a4a">qschulz</th><td class="text" style="color: #8c4a4a">tlwoerner: or use dtc -I dtb -O dts on the output dtb</td><td class="time"><a href="#t2021-09-23T16:27:48" class="time">16:27</a></td></tr>
<tr id="t2021-09-23T16:34:39"><th class="nick" style="background: #a25555">kanavin</th><td class="text" style="color: #a25555">alimon, <a href="https://github.com/kanavin/ptest-runner2" rel="nofollow">https://github.com/kanavin/ptest-runner2</a></td><td class="time"><a href="#t2021-09-23T16:34:39" class="time">16:34</a></td></tr>
<tr id="t2021-09-23T16:34:58"><th class="nick" style="background: #6acaca">alimon</th><td class="text" style="color: #6acaca">kanavin: thx</td><td class="time"><a href="#t2021-09-23T16:34:58" class="time">16:34</a></td></tr>
<tr id="t2021-09-23T16:35:22"><th class="nick" style="background: #6acaca">alimon</th><td class="text" style="color: #6acaca">kanavin: did you see that issue before with git am?, i wonder if is because of the version, i'm running debian sid</td><td class="time"><a href="#t2021-09-23T16:35:22" class="time">16:35</a></td></tr>
<tr id="t2021-09-23T16:35:28"><th class="nick" style="background: #6acaca">alimon</th><td class="text" style="color: #6acaca">git version*</td><td class="time"><a href="#t2021-09-23T16:35:28" class="time">16:35</a></td></tr>
<tr id="t2021-09-23T16:35:49"><th class="nick" style="background: #a25555">kanavin</th><td class="text" style="color: #a25555">alimon, I really don't know, I used standard git send-email with debian testing</td><td class="time"><a href="#t2021-09-23T16:35:49" class="time">16:35</a></td></tr>
<tr id="t2021-09-23T16:45:55"><th class="nick" style="background: #5fb4b4">moto-timo</th><td class="text" style="color: #5fb4b4">kanavin: JPEW: actually phoc might be unhappy because the virtual keyboard (squeakboard) isn't present... that's the &quot;Fatal server error:&quot; &quot;(EE) Failed to activate virtual core keyboard&quot;</td><td class="time"><a href="#t2021-09-23T16:45:55" class="time">16:45</a></td></tr>
<tr id="t2021-09-23T16:46:36"><th class="nick" style="background: #5fb4b4">moto-timo</th><td class="text" style="color: #5fb4b4">kanavin: JPEW: squeakboard requires Rust... hacking at the recipe now</td><td class="time"><a href="#t2021-09-23T16:46:36" class="time">16:46</a></td></tr>
<tr id="t2021-09-23T16:56:54"><th class="nick" style="background: #a25555">kanavin</th><td class="text" style="color: #a25555">moto-timo, I tried to play with phosh on latest fedora and it didn't go far, crashes on startup</td><td class="time"><a href="#t2021-09-23T16:56:54" class="time">16:56</a></td></tr>
<tr id="t2021-09-23T16:57:26"><th class="nick" style="background: #5fb4b4">moto-timo</th><td class="text" style="color: #5fb4b4">kanavin: :(</td><td class="time"><a href="#t2021-09-23T16:57:26" class="time">16:57</a></td></tr>
<tr id="t2021-09-23T16:57:26-2"><th class="nick" style="background: #a25555">kanavin</th><td class="text" style="color: #a25555">and squeakboard is fairly obtrusive, it pops up on screen every time an input widget gets focus - even when there is no touchscreen, and there is a physical keyboard</td><td class="time"><a href="#t2021-09-23T16:57:26-2" class="time">16:57</a></td></tr>
<tr id="t2021-09-23T16:57:56"><th class="nick" style="background: #a25555">kanavin</th><td class="text" style="color: #a25555">but fedora carries fairly outdated versions</td><td class="time"><a href="#t2021-09-23T16:57:56" class="time">16:57</a></td></tr>
<tr id="t2021-09-23T16:58:45"><th class="nick" style="background: #5fb4b4">moto-timo</th><td class="text" style="color: #5fb4b4">kanavin: ah, good to know. phosh is certainly targeting a phone/handset user experience. so it might need hacking to be a generic tablet/kiosk interface</td><td class="time"><a href="#t2021-09-23T16:58:45" class="time">16:58</a></td></tr>
<tr id="t2021-09-23T16:59:07"><th class="nick" style="background: #a25555">kanavin</th><td class="text" style="color: #a25555">moto-timo, we certainly don't want squeakboard to take half the window in qemu</td><td class="time"><a href="#t2021-09-23T16:59:07" class="time">16:59</a></td></tr>
<tr id="t2021-09-23T16:59:19"><th class="nick" style="background: #5fb4b4">moto-timo</th><td class="text" style="color: #5fb4b4">kanavin: absolutely not!</td><td class="time"><a href="#t2021-09-23T16:59:19" class="time">16:59</a></td></tr>
<tr id="t2021-09-23T16:59:39"><td class="action" colspan="2">* moto-timo stops working on squeekboard recipe</td><td><a href="#t2021-09-23T16:59:39" class="time">16:59</a></td></tr>
<tr id="t2021-09-23T17:00:30"><th class="nick" style="background: #5fb4b4">moto-timo</th><td class="text" style="color: #5fb4b4">It would be ok if it had a &quot;keyboard&quot; icon on screen that you could hit to bring up the virtual keyboard, but if it automatically shows up just because there is a user input... nope</td><td class="time"><a href="#t2021-09-23T17:00:30" class="time">17:00</a></td></tr>
<tr id="t2021-09-23T17:01:28"><th class="nick" style="background: #a25555">kanavin</th><td class="text" style="color: #a25555">moto-timo, again, this is what is in fedora, it may work better with latest code</td><td class="time"><a href="#t2021-09-23T17:01:28" class="time">17:01</a></td></tr>
<tr id="t2021-09-23T17:01:32"><th class="nick" style="background: #5fb4b4">moto-timo</th><td class="text" style="color: #5fb4b4">I'm starting to wonder if rburton's idea to port matchbox might be better ... sigh</td><td class="time"><a href="#t2021-09-23T17:01:32" class="time">17:01</a></td></tr>
<tr id="t2021-09-23T17:01:43"><th class="nick" style="background: #5fb4b4">moto-timo</th><td class="text" style="color: #5fb4b4">kanavin: ok. I'll keep poking at it</td><td class="time"><a href="#t2021-09-23T17:01:43" class="time">17:01</a></td></tr>
<tr id="t2021-09-23T17:02:15"><th class="nick" style="background: #a25555">kanavin</th><td class="text" style="color: #a25555">moto-timo, yes please</td><td class="time"><a href="#t2021-09-23T17:02:15" class="time">17:02</a></td></tr>
<tr id="t2021-09-23T17:02:24"><th class="nick" style="background: #5fb4b4">moto-timo</th><td class="text" style="color: #5fb4b4">kanavin: also, we haven't tried interacting with upstream yet, so who knows what is possible</td><td class="time"><a href="#t2021-09-23T17:02:24" class="time">17:02</a></td></tr>
<tr id="t2021-09-23T17:14:14"><th class="nick" style="background: #ce6c6c">ad__</th><td class="text" style="color: #ce6c6c">on gatesgarth, seems there is not way i can generate a zImage (tried KERNEL_IMAGETYPE = &quot;zImage&quot;)</td><td class="time"><a href="#t2021-09-23T17:14:14" class="time">17:14</a></td></tr>
<tr id="t2021-09-23T17:14:35"><th class="nick" style="background: #ce6c6c">ad__</th><td class="text" style="color: #ce6c6c">i always find a Image as output</td><td class="time"><a href="#t2021-09-23T17:14:35" class="time">17:14</a></td></tr>
<tr id="t2021-09-23T17:18:12"><th class="nick" style="background: #ce6c6c">ad__</th><td class="text" style="color: #ce6c6c">oooh, ok, cannot have zImage for imx8mp</td><td class="time"><a href="#t2021-09-23T17:18:12" class="time">17:18</a></td></tr>
<tr id="t2021-09-23T17:28:00"><th class="nick" style="background: #6ed16e">sethfoster</th><td class="text" style="color: #6ed16e">Hey folks. I have a kconfig fragment that I've added to a .bbappend for my (bsp's) kernel recipe via SRC_URI that appears to get loaded - it's in the work dir for the kernel - but not actually applied to .config. Does anybody know why that might happen?</td><td class="time"><a href="#t2021-09-23T17:28:00" class="time">17:28</a></td></tr>
<tr id="t2021-09-23T17:29:25"><th class="nick" style="background: #6ed16e">sethfoster</th><td class="text" style="color: #6ed16e">Do kconfig fragments _have_ to be in a directory named ${PN}? i have mine in one just called &quot;defconfigs&quot; (to differentiate from another with dtree fragments)</td><td class="time"><a href="#t2021-09-23T17:29:25" class="time">17:29</a></td></tr>
<tr id="t2021-09-23T17:31:08"><th class="nick" style="background: #6464bf">Tartarus</th><td class="text" style="color: #6464bf">Is there a packagegroup for &quot;I want to build the kernel, on device&quot; today?</td><td class="time"><a href="#t2021-09-23T17:31:08" class="time">17:31</a></td></tr>
<tr id="t2021-09-23T17:42:39"><th class="nick" style="background: #b86161">vd</th><td class="text" style="color: #b86161">When is planned Honister?</td><td class="time"><a href="#t2021-09-23T17:42:39" class="time">17:42</a></td></tr>
<tr id="t2021-09-23T17:50:08"><th class="nick" style="background: #407a40">tlwoerner</th><td class="text" style="color: #407a40">Tartarus: adding &quot;tools-sdk&quot; to EXTRA_IMAGE_FEATURES will add gcc, make, pkgconfig etc to your image</td><td class="time"><a href="#t2021-09-23T17:50:08" class="time">17:50</a></td></tr>
<tr id="t2021-09-23T17:50:30"><th class="nick" style="background: #6464bf">Tartarus</th><td class="text" style="color: #6464bf">tlwoerner: Yes, that's missing several packages for 5.14.x and arm64 defconfig</td><td class="time"><a href="#t2021-09-23T17:50:30" class="time">17:50</a></td></tr>
<tr id="t2021-09-23T17:50:55"><th class="nick" style="background: #6464bf">Tartarus</th><td class="text" style="color: #6464bf">I knew to add bison/flex before firing this off, and bc was easy enough to manually whack in.&nbsp;&nbsp;Rebuilding for perl stuff</td><td class="time"><a href="#t2021-09-23T17:50:55" class="time">17:50</a></td></tr>
<tr id="t2021-09-23T18:17:56"><th class="nick" style="background: #6acaca">alimon</th><td class="text" style="color: #6acaca">kanavin: just pushed your changes, i think is ready to bump to v2.4.2</td><td class="time"><a href="#t2021-09-23T18:17:56" class="time">18:17</a></td></tr>
<tr id="t2021-09-23T18:18:23"><th class="nick" style="background: #a25555">kanavin</th><td class="text" style="color: #a25555">alimon, thanks! we've been seeing lttng-ptest lockups and this would help figure out where and what</td><td class="time"><a href="#t2021-09-23T18:18:23" class="time">18:18</a></td></tr>
<tr id="t2021-09-23T18:25:33"><th class="nick" style="background: #b86161">vd</th><td class="text" style="color: #b86161">RP: do depends and mcdepends really need to be separated? supporting both forces us to duplicate lot of code to determine if the dependency is from a multiconfig or from BB_CURRENT_MC</td><td class="time"><a href="#t2021-09-23T18:25:33" class="time">18:25</a></td></tr>
<tr id="t2021-09-23T19:20:12"><th class="nick" style="background: #7070d5">abelloni</th><td class="text" style="color: #7070d5">kanavin: should I try your librsvg update ? ;)</td><td class="time"><a href="#t2021-09-23T19:20:12" class="time">19:20</a></td></tr>
<tr id="t2021-09-23T19:39:41"><th class="nick" style="background: #b86161">vd</th><td class="text" style="color: #b86161">Do we agree that do_thistask[depends] += &quot;foobar:thattask&quot; is equivalent to do_thistask[mcdepends] += &quot;mc:${BB_CURRENT_MC}:${BB_CURRENT_MC}:foobar:thattask&quot; ? Cc: abelloni RP</td><td class="time"><a href="#t2021-09-23T19:39:41" class="time">19:39</a></td></tr>
<tr id="t2021-09-23T19:54:21"><th class="nick" style="background: #6ed16e">sethfoster</th><td class="text" style="color: #6ed16e">Does anybody know why a kconfig snippet file might not apply properly? it seems to be detected but not applied</td><td class="time"><a href="#t2021-09-23T19:54:21" class="time">19:54</a></td></tr>
<tr id="t2021-09-23T19:55:00"><th class="nick" style="background: #b86161">vd</th><td class="text" style="color: #b86161">sethfoster: what kernel recipe are you using?</td><td class="time"><a href="#t2021-09-23T19:55:00" class="time">19:55</a></td></tr>
<tr id="t2021-09-23T19:55:42"><th class="nick" style="background: #6ed16e">sethfoster</th><td class="text" style="color: #6ed16e">vd: <a href="http://git.toradex.com/cgit/meta-toradex-nxp.git/tree/recipes-kernel/linux/linux-toradex_5.4-2.3.x.bb?h=dunfell-5.x.y" rel="nofollow">http://git.toradex.com/cgit/meta-toradex-nxp.git/tree/recipes-kernel/linux/linux-toradex_5.4-2.3.x.bb?h=dunfell-5.x.y</a></td><td class="time"><a href="#t2021-09-23T19:55:42" class="time">19:55</a></td></tr>
<tr id="t2021-09-23T19:55:50"><th class="nick" style="background: #6ed16e">sethfoster</th><td class="text" style="color: #6ed16e">vendor downstream</td><td class="time"><a href="#t2021-09-23T19:55:50" class="time">19:55</a></td></tr>
<tr id="t2021-09-23T19:56:12"><th class="nick" style="background: #6ed16e">sethfoster</th><td class="text" style="color: #6ed16e">they're using KBUILD_DEFCONFIGs it would appear</td><td class="time"><a href="#t2021-09-23T19:56:12" class="time">19:56</a></td></tr>
<tr id="t2021-09-23T19:57:11"><th class="nick" style="background: #6ed16e">sethfoster</th><td class="text" style="color: #6ed16e">i made a .bbappend for that kernel recipe, which adds a touchscreen-goodix.cfg file containing CONFIG_TOUCHSCREEN_GOODIX=m</td><td class="time"><a href="#t2021-09-23T19:57:11" class="time">19:57</a></td></tr>
<tr id="t2021-09-23T19:57:40"><th class="nick" style="background: #6ed16e">sethfoster</th><td class="text" style="color: #6ed16e">when i build the linux-toradex recipe, the touchscreen-goodix.cfg shows up in WORKDIR, but does not get applied to .config</td><td class="time"><a href="#t2021-09-23T19:57:40" class="time">19:57</a></td></tr>
<tr id="t2021-09-23T20:03:16"><th class="nick" style="background: #6ed16e">sethfoster</th><td class="text" style="color: #6ed16e">i'm on dunfell and following the guide here: <a href="https://www.yoctoproject.org/docs/2.5/kernel-dev/kernel-dev.html#configuring-the-kernel" rel="nofollow">https://www.yoctoproject.org/docs/2.5/kernel-dev/kernel-dev.html#configuring-the-kernel</a></td><td class="time"><a href="#t2021-09-23T20:03:16" class="time">20:03</a></td></tr>
<tr id="t2021-09-23T20:03:24"><th class="nick" style="background: #6ed16e">sethfoster</th><td class="text" style="color: #6ed16e">specifically the &quot;config fragment&quot; approach</td><td class="time"><a href="#t2021-09-23T20:03:24" class="time">20:03</a></td></tr>
<tr id="t2021-09-23T20:29:01"><th class="nick" style="background: #6ed16e">sethfoster</th><td class="text" style="color: #6ed16e">vd: oh you know what i think i did not properly read the big warning about .config not containing config fragment overrides</td><td class="time"><a href="#t2021-09-23T20:29:01" class="time">20:29</a></td></tr>
<tr id="t2021-09-23T20:48:22"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">vd: they probably don't have to be separated in hindsight. At the time they were implemented that wasn't very clear</td><td class="time"><a href="#t2021-09-23T20:48:22" class="time">20:48</a></td></tr>
<tr id="t2021-09-23T20:48:48"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">and yes, that looks about right to be equivalent</td><td class="time"><a href="#t2021-09-23T20:48:48" class="time">20:48</a></td></tr>
<tr id="t2021-09-23T20:49:26"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">mcdepends does mean bitbake can know relatively easily if it is dealing with cross multiconfigs or not</td><td class="time"><a href="#t2021-09-23T20:49:26" class="time">20:49</a></td></tr>
<tr id="t2021-09-23T20:49:38"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">there are other ways to do that but it makes it harder on bitbake</td><td class="time"><a href="#t2021-09-23T20:49:38" class="time">20:49</a></td></tr>
<tr id="t2021-09-23T20:54:46"><th class="nick" style="background: #b86161">vd</th><td class="text" style="color: #b86161">RP: OK so one might simply stick with mcdepends (with a fallback to mc:::pn:task) instead of dealing with both. In which case would you use a multiconfig_from different than BB_CURRENT_MC (e.g. mc:NOTCURRENT:foo:bar:baz)?</td><td class="time"><a href="#t2021-09-23T20:54:46" class="time">20:54</a></td></tr>
<tr id="t2021-09-23T20:56:03"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">vd: I don't remember, I'd have to go and look at what that code is doing.</td><td class="time"><a href="#t2021-09-23T20:56:03" class="time">20:56</a></td></tr>
<tr id="t2021-09-23T20:56:15"><th class="nick" style="background: #c668c6">whuang0389</th><td class="text" style="color: #c668c6">does anyone know how I can find which recipe is installing the weston.ini file?</td><td class="time"><a href="#t2021-09-23T20:56:15" class="time">20:56</a></td></tr>
<tr id="t2021-09-23T20:56:17"><td class="action" colspan="2">* RP doesn't have all this on instant recall :(</td><td><a href="#t2021-09-23T20:56:17" class="time">20:56</a></td></tr>
<tr id="t2021-09-23T20:57:10"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">whuang0389: I think oe-pkgdata-util can tell you</td><td class="time"><a href="#t2021-09-23T20:57:10" class="time">20:57</a></td></tr>
<tr id="t2021-09-23T20:59:19"><th class="nick" style="background: #c668c6">whuang0389</th><td class="text" style="color: #c668c6">RP thanks so much!</td><td class="time"><a href="#t2021-09-23T20:59:19" class="time">20:59</a></td></tr>
<tr id="t2021-09-23T20:59:38"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">vd: When you write an mcdepends in a recipe, you want to be able to say which mc it should apply within</td><td class="time"><a href="#t2021-09-23T20:59:38" class="time">20:59</a></td></tr>
<tr id="t2021-09-23T21:00:38"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">so X[mcdepends] += &quot;mc:A:B:C:D&quot; will only apply in the A mc space even if the mcdepends was defined in all the different mcs</td><td class="time"><a href="#t2021-09-23T21:00:38" class="time">21:00</a></td></tr>
<tr id="t2021-09-23T21:02:30"><th class="nick" style="background: #b86161">vd</th><td class="text" style="color: #b86161">RP: so building mc:E:pn won't pull in B:C as a dependency for X?</td><td class="time"><a href="#t2021-09-23T21:02:30" class="time">21:02</a></td></tr>
<tr id="t2021-09-23T21:03:18"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">vd: that is what I understand</td><td class="time"><a href="#t2021-09-23T21:03:18" class="time">21:03</a></td></tr>
<tr id="t2021-09-23T21:04:41"><th class="nick" style="background: #b86161">vd</th><td class="text" style="color: #b86161">so multiconfig_from would act as an implicit condition against BB_CURRENT_MC</td><td class="time"><a href="#t2021-09-23T21:04:41" class="time">21:04</a></td></tr>
<tr id="t2021-09-23T21:05:14"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">vd: I think so</td><td class="time"><a href="#t2021-09-23T21:05:14" class="time">21:05</a></td></tr>
<tr id="t2021-09-23T21:08:19"><th class="nick" style="background: #b86161">vd</th><td class="text" style="color: #b86161">I'm trying to find a valid usecase for that</td><td class="time"><a href="#t2021-09-23T21:08:19" class="time">21:08</a></td></tr>
<tr id="t2021-09-23T21:10:01"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">vd: if you're trying to write flat configuration files, it was necessary iirc</td><td class="time"><a href="#t2021-09-23T21:10:01" class="time">21:10</a></td></tr>
<tr id="t2021-09-23T21:10:42"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">people expect mutliconfig to be useful and usable in different ways</td><td class="time"><a href="#t2021-09-23T21:10:42" class="time">21:10</a></td></tr>
<tr id="t2021-09-23T21:11:02"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">One of the reasons for putting mcdepends separately was so we could change details like this if we needed to</td><td class="time"><a href="#t2021-09-23T21:11:02" class="time">21:11</a></td></tr>
<tr id="t2021-09-23T21:11:07"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">(iirc)</td><td class="time"><a href="#t2021-09-23T21:11:07" class="time">21:11</a></td></tr>
<tr id="t2021-09-23T21:11:39"><th class="nick" style="background: #b86161">vd</th><td class="text" style="color: #b86161">RP: is there a way to know the DEPLOY_DIR_IMAGE path of an mcdepends? or one should guess it? It's tricky if the multiconfig changed TMPDIR for example.</td><td class="time"><a href="#t2021-09-23T21:11:39" class="time">21:11</a></td></tr>
<tr id="t2021-09-23T21:14:28"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">vd: there is not a way to know, no</td><td class="time"><a href="#t2021-09-23T21:14:28" class="time">21:14</a></td></tr>
<tr id="t2021-09-23T21:14:53"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">it is assumed the multiconfig knows how it sets up the individual configs</td><td class="time"><a href="#t2021-09-23T21:14:53" class="time">21:14</a></td></tr>
<tr id="t2021-09-23T21:15:35"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">zeddii, khem: Looks like 5.14 is passing on the autobuilder apart from the meta-oe failure. Not sure what to do now :/</td><td class="time"><a href="#t2021-09-23T21:15:35" class="time">21:15</a></td></tr>
<tr id="t2021-09-23T21:38:02"><th class="nick" style="background: #c668c6">whuang0389</th><td class="text" style="color: #c668c6">uhm is there a way to bitbake a recipe without clearing work after it's done?</td><td class="time"><a href="#t2021-09-23T21:38:02" class="time">21:38</a></td></tr>
<tr id="t2021-09-23T21:41:02"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">whuang0389: turn off rm_work?</td><td class="time"><a href="#t2021-09-23T21:41:02" class="time">21:41</a></td></tr>
<tr id="t2021-09-23T21:42:39"><th class="nick" style="background: #c668c6">whuang0389</th><td class="text" style="color: #c668c6">RP thanks again haha</td><td class="time"><a href="#t2021-09-23T21:42:39" class="time">21:42</a></td></tr>
<tr id="t2021-09-23T21:43:05"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">Saur: I opened your email with some trepidation, glad it helped :)</td><td class="time"><a href="#t2021-09-23T21:43:05" class="time">21:43</a></td></tr>
<tr id="t2021-09-23T21:44:26"><th class="nick" style="background: #42427e">zeddii</th><td class="text" style="color: #42427e">RP: I was cleaning up some -dev loose ends, and was looking at the vbox build here. no fix yet. but will poke at it more later.</td><td class="time"><a href="#t2021-09-23T21:44:26" class="time">21:44</a></td></tr>
<tr id="t2021-09-23T21:44:53"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">zeddii: I don't know if we block on that, I do feel bad I've given meta-oe a rough week</td><td class="time"><a href="#t2021-09-23T21:44:53" class="time">21:44</a></td></tr>
<tr id="t2021-09-23T21:45:16"><th class="nick" style="background: #57a657">RP</th><td class="text" style="color: #57a657">zeddii: I've not had a chance to look at it. Maybe tomorrow if nobody else beats me to it</td><td class="time"><a href="#t2021-09-23T21:45:16" class="time">21:45</a></td></tr>
<tr id="t2021-09-23T21:45:41"><th class="nick" style="background: #42427e">zeddii</th><td class="text" style="color: #42427e">I'll leave a message here in IRC with whatever I sort out, if I fix it, there will be a patch to meta-oe</td><td class="time"><a href="#t2021-09-23T21:45:41" class="time">21:45</a></td></tr>
<tr id="t2021-09-23T21:52:51"><td class="action" colspan="2">* zeddii sees what the kernel changed to break the build</td><td><a href="#t2021-09-23T21:52:51" class="time">21:52</a></td></tr>
<tr id="t2021-09-23T22:20:55"><th class="nick" style="background: #b86161">vd</th><td class="text" style="color: #b86161">should I use distro feature &quot;vulkan&quot; or &quot;opengl&quot; to run chromium-ozone-wayland (from meta-browser/meta-chromium) on a beaglebone black?</td><td class="time"><a href="#t2021-09-23T22:20:55" class="time">22:20</a></td></tr>
<tr id="t2021-09-23T22:27:43"><td class="nickchange" colspan="2">*** camus1 is now known as camus</td><td><a href="#t2021-09-23T22:27:43" class="time">22:27</a></td></tr>
<tr id="t2021-09-23T22:32:52"><th class="nick" style="background: #d9d972">smurray</th><td class="text" style="color: #d9d972">vd: I'd be somewhat surprised if vulkan is supported with the PowerVR stuff for BBB</td><td class="time"><a href="#t2021-09-23T22:32:52" class="time">22:32</a></td></tr>
<tr id="t2021-09-23T22:55:44"><th class="nick" style="background: #b86161">vd</th><td class="text" style="color: #b86161">smurray: should I remove vulkan from the distro features then? I'm not sure to understand what the recipe chooses to build with the two specified</td><td class="time"><a href="#t2021-09-23T22:55:44" class="time">22:55</a></td></tr>
<tr id="t2021-09-23T22:56:27"><th class="nick" style="background: #d9d972">smurray</th><td class="text" style="color: #d9d972">vd: I probably would</td><td class="time"><a href="#t2021-09-23T22:56:27" class="time">22:56</a></td></tr>
<tr id="t2021-09-23T23:27:15"><th class="nick" style="background: #b86161">vd</th><td class="text" style="color: #b86161">smurray: I kept only opengl as a distro feature and restarted the build from scratch. I'm using meta-ti's linux-ti-staging kernel, I hope it'll be enough for a functional chromium.</td><td class="time"><a href="#t2021-09-23T23:27:15" class="time">23:27</a></td></tr>
<tr id="t2021-09-23T23:28:29"><th class="nick" style="background: #b86161">vd</th><td class="text" style="color: #b86161">too bad there's no reliable web browser for embedded devices, ideally using the framebuffer directly... some exist and work well but are really rudimentary, most websites won't work.</td><td class="time"><a href="#t2021-09-23T23:28:29" class="time">23:28</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2021-09-22.log.html">&#171; Wednesday, 2021-09-22</a> <a href="index.html">Index</a> <a href="%23yocto.2021-09-24.log.html">Friday, 2021-09-24 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.17.2 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="https://mg.pov.lt/irclog2html/">https://mg.pov.lt/irclog2html/</a>!</p>
</div>
</body>
</html>
