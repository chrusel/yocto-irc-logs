<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Wednesday, 2021-03-24</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.17.2 by Marius Gedminas" />
  <meta name="version" content="2.17.2 - 2019-04-23" />
</head>
<body>
<h1>Wednesday, 2021-03-24</h1>
<div class="navigation"> <a href="%23yocto.2021-03-23.log.html">&#171; Tuesday, 2021-03-23</a> <a href="index.html">Index</a> <a href="%23yocto.2021-03-25.log.html">Thursday, 2021-03-25 &#187;</a> </div>
<table class="irclog">
<tr id="t2021-03-24T00:34:12-2"><td class="nickchange" colspan="2">*** camus is now known as kaspter</td><td><a href="#t2021-03-24T00:34:12-2" class="time">00:34</a></td></tr>
<tr id="t2021-03-24T06:19:02"><th class="nick" style="background: #407a40">mcfrisk</th><td class="text" style="color: #407a40">hmm pseudo related trouble in dunfell, nativesdk recipes are failing at do_package with &quot;Cannot change ownership to uid 0, gid 0: Operation not permitted&quot; after applying poky updates from the past 6 weeks</td><td class="time"><a href="#t2021-03-24T06:19:02" class="time">06:19</a></td></tr>
<tr id="t2021-03-24T07:09:18"><th class="nick" style="background: #407a40">mcfrisk</th><td class="text" style="color: #407a40">so turns out S is now ignored by pseudo. So if anything sets S and expects permissions to be preserved from there will fail. As workaround don't use S to the path where files are but set S to WORKDIR and in do_install append the other paths. Not sure I follow this..</td><td class="time"><a href="#t2021-03-24T07:09:18" class="time">07:09</a></td></tr>
<tr id="t2021-03-24T07:32:29"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">Hmmm, question - why does NodeJS always fail twice or thrice on a fresh compile on dunfell? If I compile again, it is no problem.</td><td class="time"><a href="#t2021-03-24T07:32:29" class="time">07:32</a></td></tr>
<tr id="t2021-03-24T07:34:14"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">Build system is a Ryzen 3400G, 2x8 GB 3200 MHz DDR4 non-ecc memory, and an ssd SATA drive.</td><td class="time"><a href="#t2021-03-24T07:34:14" class="time">07:34</a></td></tr>
<tr id="t2021-03-24T07:35:21"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">Could it be that I run out of RAM or CPU cores?</td><td class="time"><a href="#t2021-03-24T07:35:21" class="time">07:35</a></td></tr>
<tr id="t2021-03-24T07:59:50"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">As far as I can tell, my only nodejs recipes come from meta-oe.</td><td class="time"><a href="#t2021-03-24T07:59:50" class="time">07:59</a></td></tr>
<tr id="t2021-03-24T08:12:33"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">Am I the only one seeing this consistently? :o</td><td class="time"><a href="#t2021-03-24T08:12:33" class="time">08:12</a></td></tr>
<tr id="t2021-03-24T08:19:04"><td class="nickchange" colspan="2">*** mckoan|away is now known as mckoan</td><td><a href="#t2021-03-24T08:19:04" class="time">08:19</a></td></tr>
<tr id="t2021-03-24T08:40:29"><th class="nick" style="background: #818144">resoum</th><td class="text" style="color: #818144">I see this happen on thud occasionally.</td><td class="time"><a href="#t2021-03-24T08:40:29" class="time">08:40</a></td></tr>
<tr id="t2021-03-24T08:41:07"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">I think something is borked in the build instructions, like internally it is building stuff out-of-order</td><td class="time"><a href="#t2021-03-24T08:41:07" class="time">08:41</a></td></tr>
<tr id="t2021-03-24T08:41:43"><th class="nick" style="background: #818144">resoum</th><td class="text" style="color: #818144">I bumped up the RAM on our build VM and it went away.</td><td class="time"><a href="#t2021-03-24T08:41:43" class="time">08:41</a></td></tr>
<tr id="t2021-03-24T08:42:05"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">resoum: Did you do a full rebuild?</td><td class="time"><a href="#t2021-03-24T08:42:05" class="time">08:42</a></td></tr>
<tr id="t2021-03-24T08:42:18"><th class="nick" style="background: #818144">resoum</th><td class="text" style="color: #818144">Yup, had to do a -c cleansstate</td><td class="time"><a href="#t2021-03-24T08:42:18" class="time">08:42</a></td></tr>
<tr id="t2021-03-24T08:42:25"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">Ok, that explains it</td><td class="time"><a href="#t2021-03-24T08:42:25" class="time">08:42</a></td></tr>
<tr id="t2021-03-24T08:42:26"><th class="nick" style="background: #818144">resoum</th><td class="text" style="color: #818144">Otherwise it just kept on failing.</td><td class="time"><a href="#t2021-03-24T08:42:26" class="time">08:42</a></td></tr>
<tr id="t2021-03-24T08:42:49"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">Then yes, the explanation is that 14 GB of memory is probably not enough for building this</td><td class="time"><a href="#t2021-03-24T08:42:49" class="time">08:42</a></td></tr>
<tr id="t2021-03-24T08:42:51"><th class="nick" style="background: #854685">medaliyou</th><td class="text" style="color: #854685">hey guys</td><td class="time"><a href="#t2021-03-24T08:42:51" class="time">08:42</a></td></tr>
<tr id="t2021-03-24T08:43:25"><th class="nick" style="background: #854685">medaliyou</th><td class="text" style="color: #854685">what is the correct way to tell bitbake to build all QT5 libraires and my QT5 App statically ?</td><td class="time"><a href="#t2021-03-24T08:43:25" class="time">08:43</a></td></tr>
<tr id="t2021-03-24T08:43:30"><th class="nick" style="background: #818144">resoum</th><td class="text" style="color: #818144">wertigon: 2 Gig of RAM per CPU seemed to be about where the build failures stopped.</td><td class="time"><a href="#t2021-03-24T08:43:30" class="time">08:43</a></td></tr>
<tr id="t2021-03-24T08:43:51"><th class="nick" style="background: #818144">resoum</th><td class="text" style="color: #818144">YMMV of course...</td><td class="time"><a href="#t2021-03-24T08:43:51" class="time">08:43</a></td></tr>
<tr id="t2021-03-24T08:44:10"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">resoum: Aha, I have only 1.75 GB per thread :/</td><td class="time"><a href="#t2021-03-24T08:44:10" class="time">08:44</a></td></tr>
<tr id="t2021-03-24T08:44:39"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">2 is reserved for the APU on my CPU</td><td class="time"><a href="#t2021-03-24T08:44:39" class="time">08:44</a></td></tr>
<tr id="t2021-03-24T08:44:56"><th class="nick" style="background: #818144">resoum</th><td class="text" style="color: #818144">It feels like a bug somewhere, but I really do not have the time to dig in to it if RAM solves it.</td><td class="time"><a href="#t2021-03-24T08:44:56" class="time">08:44</a></td></tr>
<tr id="t2021-03-24T08:45:14"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">I can get around this with multiple compiles</td><td class="time"><a href="#t2021-03-24T08:45:14" class="time">08:45</a></td></tr>
<tr id="t2021-03-24T08:45:30"><th class="nick" style="background: #818144">resoum</th><td class="text" style="color: #818144">Yeah, that is how I generally do it too.</td><td class="time"><a href="#t2021-03-24T08:45:30" class="time">08:45</a></td></tr>
<tr id="t2021-03-24T08:45:54"><th class="nick" style="background: #818144">resoum</th><td class="text" style="color: #818144">bitbake nodejs and boost, and then fire off the full image builds.</td><td class="time"><a href="#t2021-03-24T08:45:54" class="time">08:45</a></td></tr>
<tr id="t2021-03-24T08:46:24"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">I just do full image like, 3 or 4 times :)</td><td class="time"><a href="#t2021-03-24T08:46:24" class="time">08:46</a></td></tr>
<tr id="t2021-03-24T08:46:36"><th class="nick" style="background: #818144">resoum</th><td class="text" style="color: #818144">Yuck</td><td class="time"><a href="#t2021-03-24T08:46:36" class="time">08:46</a></td></tr>
<tr id="t2021-03-24T08:46:48"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">-k option</td><td class="time"><a href="#t2021-03-24T08:46:48" class="time">08:46</a></td></tr>
<tr id="t2021-03-24T08:46:49"><th class="nick" style="background: #818144">resoum</th><td class="text" style="color: #818144">Whenever I get a failure like that, I cleansstate the offender, build it manually, and go back to the image build.</td><td class="time"><a href="#t2021-03-24T08:46:49" class="time">08:46</a></td></tr>
<tr id="t2021-03-24T08:47:10"><th class="nick" style="background: #818144">resoum</th><td class="text" style="color: #818144">Our build server is much more beefy and does not seem to encounter the problem.</td><td class="time"><a href="#t2021-03-24T08:47:10" class="time">08:47</a></td></tr>
<tr id="t2021-03-24T08:48:05"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">Ok so if I cleansstate and check logs I get this, only two rebuilds necessary this time, but...</td><td class="time"><a href="#t2021-03-24T08:48:05" class="time">08:48</a></td></tr>
<tr id="t2021-03-24T08:48:29"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">Pastebin coming up</td><td class="time"><a href="#t2021-03-24T08:48:29" class="time">08:48</a></td></tr>
<tr id="t2021-03-24T08:53:37"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e"><a href="https://pastebin.com/qJnS9ui0" rel="nofollow">https://pastebin.com/qJnS9ui0</a></td><td class="time"><a href="#t2021-03-24T08:53:37" class="time">08:53</a></td></tr>
<tr id="t2021-03-24T08:54:02"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">obviously slightly censored :)</td><td class="time"><a href="#t2021-03-24T08:54:02" class="time">08:54</a></td></tr>
<tr id="t2021-03-24T08:54:40-2"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">The people paying me want as little info to leak as possible</td><td class="time"><a href="#t2021-03-24T08:54:40-2" class="time">08:54</a></td></tr>
<tr id="t2021-03-24T08:58:39"><td class="nickchange" colspan="2">*** camus is now known as kaspter</td><td><a href="#t2021-03-24T08:58:39" class="time">08:58</a></td></tr>
<tr id="t2021-03-24T09:14:59"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">So what is interesting here is that it consistently fails on the same things.</td><td class="time"><a href="#t2021-03-24T09:14:59" class="time">09:14</a></td></tr>
<tr id="t2021-03-24T09:16:27"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">1st run: Release/node, Release/cctest, Release/mkcodecache, Release/embedtest</td><td class="time"><a href="#t2021-03-24T09:16:27" class="time">09:16</a></td></tr>
<tr id="t2021-03-24T09:16:39"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">2nd run: Release/node, Release/cctest, Release/mkcodecache</td><td class="time"><a href="#t2021-03-24T09:16:39" class="time">09:16</a></td></tr>
<tr id="t2021-03-24T09:16:52"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">3rd run: Release/node</td><td class="time"><a href="#t2021-03-24T09:16:52" class="time">09:16</a></td></tr>
<tr id="t2021-03-24T09:16:58"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">4th run: Success</td><td class="time"><a href="#t2021-03-24T09:16:58" class="time">09:16</a></td></tr>
<tr id="t2021-03-24T09:17:34"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">Running again with a cleansstate I get:</td><td class="time"><a href="#t2021-03-24T09:17:34" class="time">09:17</a></td></tr>
<tr id="t2021-03-24T09:18:01"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">1st run: Release/node, Release/cctest, Release/mkcodecache</td><td class="time"><a href="#t2021-03-24T09:18:01" class="time">09:18</a></td></tr>
<tr id="t2021-03-24T09:18:09"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">2nd run: Release/node</td><td class="time"><a href="#t2021-03-24T09:18:09" class="time">09:18</a></td></tr>
<tr id="t2021-03-24T09:18:20"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">3rd run: Success</td><td class="time"><a href="#t2021-03-24T09:18:20" class="time">09:18</a></td></tr>
<tr id="t2021-03-24T09:24:32"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">So it is the same steps I'm always failing on and the reason is either OOM or tests/targets are performed in the wrong order</td><td class="time"><a href="#t2021-03-24T09:24:32" class="time">09:24</a></td></tr>
<tr id="t2021-03-24T09:24:52"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">Good to know atleast :)</td><td class="time"><a href="#t2021-03-24T09:24:52" class="time">09:24</a></td></tr>
<tr id="t2021-03-24T10:26:39"><th class="nick" style="background: #407a40">mcfrisk</th><td class="text" style="color: #407a40">bitbake parallel options which only take into account avalaible cores/threads is just wrong, amount of RAM is more often the limiting factor. One needs find out what the limits for RAM are, and tweak BB_NUMBER_THREADS and PARALLEL_MAKE down.</td><td class="time"><a href="#t2021-03-24T10:26:39" class="time">10:26</a></td></tr>
<tr id="t2021-03-24T10:33:48"><th class="nick" style="background: #488888">timemaster</th><td class="text" style="color: #488888">Hi, just checking, variable or conditional in DISTRO_VERSION is a bad idea, correct? I wanted to distinguish between our dev and release, but this variable has proven to be difficult with conditionals :)</td><td class="time"><a href="#t2021-03-24T10:33:48" class="time">10:33</a></td></tr>
<tr id="t2021-03-24T10:35:10"><th class="nick" style="background: #488888">timemaster</th><td class="text" style="color: #488888">I saw some other projects changing their image names, i.e adding version or datestamp in the image name instead of fiddling with DISTRO_VERSION</td><td class="time"><a href="#t2021-03-24T10:35:10" class="time">10:35</a></td></tr>
<tr id="t2021-03-24T10:36:40"><th class="nick" style="background: #8c4a4a">creich</th><td class="text" style="color: #8c4a4a">hi there, i am trying to verify a current HAB setup on an imx6 board. for that i wanted to use the u-boot hab_status command. to get that we enabled IMX_HAB in the u-boot config. but the command still isn't available. any ideas what else we might be missing?</td><td class="time"><a href="#t2021-03-24T10:36:40" class="time">10:36</a></td></tr>
<tr id="t2021-03-24T10:37:28-2"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">creich: how did you enable IMX_HAB option?</td><td class="time"><a href="#t2021-03-24T10:37:28-2" class="time">10:37</a></td></tr>
<tr id="t2021-03-24T10:38:24"><td class="nickchange" colspan="2">*** camus is now known as kaspter</td><td><a href="#t2021-03-24T10:38:24" class="time">10:38</a></td></tr>
<tr id="t2021-03-24T10:38:31"><th class="nick" style="background: #4d4d93">mario-goulart</th><td class="text" style="color: #4d4d93">mcfrisk: I wonder if setting PARALLEL_MAKE to &quot;-l &lt;acceptable load&gt;&quot; would help at that.</td><td class="time"><a href="#t2021-03-24T10:38:31" class="time">10:38</a></td></tr>
<tr id="t2021-03-24T10:38:35"><th class="nick" style="background: #407a40">mcfrisk</th><td class="text" style="color: #407a40">timemaster: using DISTRO_VERSION is good, we use it. but note that SDK version information in yocto is quite broken and buildhistory data for SDK can be annoying to handle if meta/classes/buildhistory.bbclass doesn't have &quot;BUILDHISTORY_DIR_SDK = &quot;${BUILDHISTORY_DIR}/sdk/${DISTRO}-${TCLIBC}-${SDK_ARCH}-${TUNE_PKGARCH}/${IMAGE_BASENAME}&quot;&quot;</td><td class="time"><a href="#t2021-03-24T10:38:35" class="time">10:38</a></td></tr>
<tr id="t2021-03-24T10:38:50"><th class="nick" style="background: #8c4a4a">creich</th><td class="text" style="color: #8c4a4a">we used the menuconfig and saved the def_config that should be used</td><td class="time"><a href="#t2021-03-24T10:38:50" class="time">10:38</a></td></tr>
<tr id="t2021-03-24T10:39:39"><th class="nick" style="background: #8c4a4a">creich</th><td class="text" style="color: #8c4a4a">atm we try to verify that the build used the correct config using some other options like the 'date' command from the misc setup</td><td class="time"><a href="#t2021-03-24T10:39:39" class="time">10:39</a></td></tr>
<tr id="t2021-03-24T10:40:03"><th class="nick" style="background: #8c4a4a">creich</th><td class="text" style="color: #8c4a4a">but as for the hab_status, should there anything else be needed? or is it supposed to be that one option only?</td><td class="time"><a href="#t2021-03-24T10:40:03" class="time">10:40</a></td></tr>
<tr id="t2021-03-24T10:40:55"><th class="nick" style="background: #407a40">mcfrisk</th><td class="text" style="color: #407a40">mario-goulart: that could help, sure. then would also need to do the same for ninja etc</td><td class="time"><a href="#t2021-03-24T10:40:55" class="time">10:40</a></td></tr>
<tr id="t2021-03-24T10:41:41"><th class="nick" style="background: #488888">timemaster</th><td class="text" style="color: #488888">mcfrisk: but how to change it dynamically? anonymous python functions are not being parsed in distro configuration context for some reason which I couldn't track down</td><td class="time"><a href="#t2021-03-24T10:41:41" class="time">10:41</a></td></tr>
<tr id="t2021-03-24T10:42:55"><th class="nick" style="background: #407a40">mcfrisk</th><td class="text" style="color: #407a40">timemaster: we change it for every build which re-generates conf/local.conf</td><td class="time"><a href="#t2021-03-24T10:42:55" class="time">10:42</a></td></tr>
<tr id="t2021-03-24T10:43:02"><th class="nick" style="background: #407a40">mcfrisk</th><td class="text" style="color: #407a40">e.g. for all clean builds</td><td class="time"><a href="#t2021-03-24T10:43:02" class="time">10:43</a></td></tr>
<tr id="t2021-03-24T10:43:03"><th class="nick" style="background: #4d4d93">mario-goulart</th><td class="text" style="color: #4d4d93">mcfrisk: oh, good point.</td><td class="time"><a href="#t2021-03-24T10:43:03" class="time">10:43</a></td></tr>
<tr id="t2021-03-24T10:43:44"><th class="nick" style="background: #488888">timemaster</th><td class="text" style="color: #488888">mcfrisk: yep, it seems to me like the easiest way too</td><td class="time"><a href="#t2021-03-24T10:43:44" class="time">10:43</a></td></tr>
<tr id="t2021-03-24T10:46:25"><th class="nick" style="background: #97974f">Sponge5</th><td class="text" style="color: #97974f">Hi all, are all of the testing frameworks (testimage, selftest, ptest) meant to run on target? I'm looking for a way to test the existence of files in the filesystem on host, what should I use?</td><td class="time"><a href="#t2021-03-24T10:46:25" class="time">10:46</a></td></tr>
<tr id="t2021-03-24T10:46:57"><th class="nick" style="background: #407a40">mcfrisk</th><td class="text" style="color: #407a40">timemaster: oh sorry, it looks like we do use anonymous python, e.g. DISTRO_VERSION := &quot;${@get_distro_version(d)}&quot; in distro config. That checks git tree status and provides a pure tag for clean and a unique has and &quot;dirty&quot; for all non-clean builds.</td><td class="time"><a href="#t2021-03-24T10:46:57" class="time">10:46</a></td></tr>
<tr id="t2021-03-24T10:47:16"><th class="nick" style="background: #407a40">mcfrisk</th><td class="text" style="color: #407a40">/has/hash/</td><td class="time"><a href="#t2021-03-24T10:47:16" class="time">10:47</a></td></tr>
<tr id="t2021-03-24T10:49:37"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">mcfrisk: Ok, so if I understand you correctly, I should simply remove two threads from the build chain options? :)</td><td class="time"><a href="#t2021-03-24T10:49:37" class="time">10:49</a></td></tr>
<tr id="t2021-03-24T10:51:14"><th class="nick" style="background: #488888">timemaster</th><td class="text" style="color: #488888">mcfrisk: oh really, this works for you? that's great then, and this is in your local.conf or &lt;distro&gt;.conf?</td><td class="time"><a href="#t2021-03-24T10:51:14" class="time">10:51</a></td></tr>
<tr id="t2021-03-24T10:52:47"><th class="nick" style="background: #407a40">mcfrisk</th><td class="text" style="color: #407a40">timemaster: distro config. but if I'd do it now, I'd put this into the generated local.conf. we basically have a 'configure' script for bitbake builds.</td><td class="time"><a href="#t2021-03-24T10:52:47" class="time">10:52</a></td></tr>
<tr id="t2021-03-24T10:53:27"><th class="nick" style="background: #407a40">mcfrisk</th><td class="text" style="color: #407a40">wertigon: or don't blindly add threads per core, but limit this to e.g. 2 gigs of RAM per thread.</td><td class="time"><a href="#t2021-03-24T10:53:27" class="time">10:53</a></td></tr>
<tr id="t2021-03-24T10:53:57"><th class="nick" style="background: #488888">timemaster</th><td class="text" style="color: #488888">mcfrisk: yeah, once you have a proper build server it makes sense.. since there is not much automation currently on our side, I would like yocto itself to take care of such things</td><td class="time"><a href="#t2021-03-24T10:53:57" class="time">10:53</a></td></tr>
<tr id="t2021-03-24T10:54:37"><th class="nick" style="background: #407a40">mcfrisk</th><td class="text" style="color: #407a40">but the RAM limit depends on what you need to build, for C projects almost everything is fine. for C++ with templates, build time RAM usage can explode. Try building chromium, webkit etc to find out.</td><td class="time"><a href="#t2021-03-24T10:54:37" class="time">10:54</a></td></tr>
<tr id="t2021-03-24T10:55:40"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">creich: that should be it, check that arch/arm/mach-imx/hab.o exists after compilation, that should help you</td><td class="time"><a href="#t2021-03-24T10:55:40" class="time">10:55</a></td></tr>
<tr id="t2021-03-24T10:55:44"><th class="nick" style="background: #488888">timemaster</th><td class="text" style="color: #488888">mcfrisk: would it be possible to share your get_distro_version function?</td><td class="time"><a href="#t2021-03-24T10:55:44" class="time">10:55</a></td></tr>
<tr id="t2021-03-24T10:58:43"><th class="nick" style="background: #407a40">mcfrisk</th><td class="text" style="color: #407a40">timemaster: not directly. we use git submodules for all meta layers so a base repo &quot;git describe --abbrev=8 --dirty --always&quot; will be fine, except for dirty builds we also add &quot;git submodule status | awk '{print $2, $1}' | sort | sha1sum | cut -c1-6&quot;</td><td class="time"><a href="#t2021-03-24T10:58:43" class="time">10:58</a></td></tr>
<tr id="t2021-03-24T10:59:14"><th class="nick" style="background: #8c4a4a">creich</th><td class="text" style="color: #8c4a4a">qschulz: thx, we'll check that</td><td class="time"><a href="#t2021-03-24T10:59:14" class="time">10:59</a></td></tr>
<tr id="t2021-03-24T11:10:09"><th class="nick" style="background: #488888">timemaster</th><td class="text" style="color: #488888">mcfrisk: thanks for pointers, that will save some time :) I was asking mainly to check where you have a definition of that function.. I am expecting something like def get_distro_version(d): somewhere in distro conf, which doesn't work for me.. bitbake immediately throws parsing error</td><td class="time"><a href="#t2021-03-24T11:10:09" class="time">11:10</a></td></tr>
<tr id="t2021-03-24T11:12:31"><th class="nick" style="background: #488888">timemaster</th><td class="text" style="color: #488888">cause inherit &lt;bbclass&gt; doesn't for me in distro conf either, which is otherwise a good place for such stuff</td><td class="time"><a href="#t2021-03-24T11:12:31" class="time">11:12</a></td></tr>
<tr id="t2021-03-24T11:13:48"><th class="nick" style="background: #407a40">mcfrisk</th><td class="text" style="color: #407a40">timemaster: in distro.conf &quot;require classes/distroversion.bbclass&quot;, then that class only has get_distro_version() python function which returns the string. nb, we also use that with another custom bbclass to fill in same info to /etc/os-release</td><td class="time"><a href="#t2021-03-24T11:13:48" class="time">11:13</a></td></tr>
<tr id="t2021-03-24T11:17:31"><th class="nick" style="background: #488888">timemaster</th><td class="text" style="color: #488888">mcfrisk: cool, so this is how to fool bitbake so it accepts python in distro conf, thank you very much for that!</td><td class="time"><a href="#t2021-03-24T11:17:31" class="time">11:17</a></td></tr>
<tr id="t2021-03-24T11:20:27"><th class="nick" style="background: #407a40">mcfrisk</th><td class="text" style="color: #407a40">timemaster: not sure if this is cool, or just overly complex and part of the 'fun' of bitbaking /facepalm</td><td class="time"><a href="#t2021-03-24T11:20:27" class="time">11:20</a></td></tr>
<tr id="t2021-03-24T11:21:33"><th class="nick" style="background: #407a40">mcfrisk</th><td class="text" style="color: #407a40">everything would be a lot simple to just fill in DISTRO_VERSION to local.conf...</td><td class="time"><a href="#t2021-03-24T11:21:33" class="time">11:21</a></td></tr>
<tr id="t2021-03-24T11:22:30"><th class="nick" style="background: #488888">timemaster</th><td class="text" style="color: #488888">mcfrisk: well, yes... after trying ten different easy ways which works on other places in yocto, I end up with this..</td><td class="time"><a href="#t2021-03-24T11:22:30" class="time">11:22</a></td></tr>
<tr id="t2021-03-24T11:25:27"><th class="nick" style="background: #488888">timemaster</th><td class="text" style="color: #488888">the problem with local.conf is that it is a temporary configuration storage, if you have some infrastructure around which fills it for you, then you are ok, but if you just want to clone the repo, run source and happily watch all the configuration growing automatically using native templating infrastructure, local.conf is just not enough</td><td class="time"><a href="#t2021-03-24T11:25:27" class="time">11:25</a></td></tr>
<tr id="t2021-03-24T11:25:32"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">timemaster: you can use INHERIT in conf files to include a class which can add functions</td><td class="time"><a href="#t2021-03-24T11:25:32" class="time">11:25</a></td></tr>
<tr id="t2021-03-24T11:26:15"><th class="nick" style="background: #488888">timemaster</th><td class="text" style="color: #488888">RP: that might work, good point.. tried only inherit</td><td class="time"><a href="#t2021-03-24T11:26:15" class="time">11:26</a></td></tr>
<tr id="t2021-03-24T11:30:33"><th class="nick" style="background: #407a40">mcfrisk</th><td class="text" style="color: #407a40">with latest dunfell, I also hit sstate warning incremented to error of missing manifest files. I guess I have some custom stuff which generated empty manifest files..</td><td class="time"><a href="#t2021-03-24T11:30:33" class="time">11:30</a></td></tr>
<tr id="t2021-03-24T11:38:14"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">mcfrisk: I think we'll have to back that one out, it will stay in master though</td><td class="time"><a href="#t2021-03-24T11:38:14" class="time">11:38</a></td></tr>
<tr id="t2021-03-24T11:39:43"><th class="nick" style="background: #407a40">mcfrisk</th><td class="text" style="color: #407a40">RP: I've seen this a lot in the past, the warning, and I'm sure it's a bug in our setup, but I haven't figured out what and where it comes from. Looks like &quot;inherit allarch&quot; and another custom bbclass that we use results in missing do_prepare_recipe_sysroot etc manifest files...</td><td class="time"><a href="#t2021-03-24T11:39:43" class="time">11:39</a></td></tr>
<tr id="t2021-03-24T11:42:23"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">mcfrisk: that seems odd as prepare_recipe_sysroot is not a setscene task so would never have a manifest</td><td class="time"><a href="#t2021-03-24T11:42:23" class="time">11:42</a></td></tr>
<tr id="t2021-03-24T11:43:35"><th class="nick" style="background: #539e9e">bps</th><td class="text" style="color: #539e9e">hi, currently I am used to using bitbake and devtool in my standard yocto workspace, and use an SDK for application development. I am looking into the eSDK but I don't understand how devtool modify should work in the eSDK environment? where will it find the recipe files? are they also included in the eSDK?</td><td class="time"><a href="#t2021-03-24T11:43:35" class="time">11:43</a></td></tr>
<tr id="t2021-03-24T11:45:44"><th class="nick" style="background: #407a40">mcfrisk</th><td class="text" style="color: #407a40">RP: but there is a manifest file missing, and it looks like our bbclass uses MACHINE_ARCH when it should be using PACKAGE_ARCH..</td><td class="time"><a href="#t2021-03-24T11:45:44" class="time">11:45</a></td></tr>
<tr id="t2021-03-24T11:48:20"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">mcfrisk: Ok, I'll make sure to add a recommendation to buy more RAM for build machines then :)</td><td class="time"><a href="#t2021-03-24T11:48:20" class="time">11:48</a></td></tr>
<tr id="t2021-03-24T11:48:49"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">Unfortunately we do build qtwebengine</td><td class="time"><a href="#t2021-03-24T11:48:49" class="time">11:48</a></td></tr>
<tr id="t2021-03-24T11:49:16"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">I have no idea why nodejs though</td><td class="time"><a href="#t2021-03-24T11:49:16" class="time">11:49</a></td></tr>
<tr id="t2021-03-24T11:57:45"><th class="nick" style="background: #407a40">mcfrisk</th><td class="text" style="color: #407a40">what is the official way for a sstate cached task to re-do_deploy and overwrite output files? Or is manual cleanup of tmp/deploy the only solution? &quot;The recipe blabla is trying to install files into a shared area when those files already exist.&quot;</td><td class="time"><a href="#t2021-03-24T11:57:45" class="time">11:57</a></td></tr>
<tr id="t2021-03-24T11:59:48"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">mcfrisk: -c deploy -f but that will taint your sstate-cache and you'll need to clean it later</td><td class="time"><a href="#t2021-03-24T11:59:48" class="time">11:59</a></td></tr>
<tr id="t2021-03-24T12:00:22"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">I think Yocto detects when files from deploydir are removed and reinstall them but I am definitely not sure this is true</td><td class="time"><a href="#t2021-03-24T12:00:22" class="time">12:00</a></td></tr>
<tr id="t2021-03-24T12:00:37"><th class="nick" style="background: #407a40">mcfrisk</th><td class="text" style="color: #407a40">qschulz: hmm, or should recipes provide a &quot;do_clean&quot; task which cleans up the deployed files?</td><td class="time"><a href="#t2021-03-24T12:00:37" class="time">12:00</a></td></tr>
<tr id="t2021-03-24T12:04:29"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">mcfrisk: mmmm good point, clean might work too?</td><td class="time"><a href="#t2021-03-24T12:04:29" class="time">12:04</a></td></tr>
<tr id="t2021-03-24T12:13:08"><th class="nick" style="background: #407a40">mcfrisk</th><td class="text" style="color: #407a40">qschulz: nah, clean doesn't work. just cleaning the deployed file is not enough. would need to clean the manifest file too.</td><td class="time"><a href="#t2021-03-24T12:13:08" class="time">12:13</a></td></tr>
<tr id="t2021-03-24T12:40:36"><th class="nick" style="background: #a25555">yates</th><td class="text" style="color: #a25555">if this is in a custom layer &quot;require conf/machine/include/qemu.inc&quot; does it get from the poky/meta layer or from the custom layer?</td><td class="time"><a href="#t2021-03-24T12:40:36" class="time">12:40</a></td></tr>
<tr id="t2021-03-24T12:41:57"><th class="nick" style="background: #a25555">yates</th><td class="text" style="color: #a25555">i.e., from poky/meta/conf/... or from poky/meta-custom/conf/...?</td><td class="time"><a href="#t2021-03-24T12:41:57" class="time">12:41</a></td></tr>
<tr id="t2021-03-24T12:44:37"><th class="nick" style="background: #a25555">yates</th><td class="text" style="color: #a25555">or does it try one then the other?</td><td class="time"><a href="#t2021-03-24T12:44:37" class="time">12:44</a></td></tr>
<tr id="t2021-03-24T12:44:49"><th class="nick" style="background: #a25555">yates</th><td class="text" style="color: #a25555">How Does It Work(TM)?</td><td class="time"><a href="#t2021-03-24T12:44:49" class="time">12:44</a></td></tr>
<tr id="t2021-03-24T13:05:33"><th class="nick" style="background: #57a657">nohit</th><td class="text" style="color: #57a657">is there a way for modifying a distro without editing the files manufacturer provides directly or creating own distro ?</td><td class="time"><a href="#t2021-03-24T13:05:33" class="time">13:05</a></td></tr>
<tr id="t2021-03-24T13:05:42"><th class="nick" style="background: #57a657">nohit</th><td class="text" style="color: #57a657">similar to bbappend</td><td class="time"><a href="#t2021-03-24T13:05:42" class="time">13:05</a></td></tr>
<tr id="t2021-03-24T13:06:11"><th class="nick" style="background: #5959a9">derRichard</th><td class="text" style="color: #5959a9">you can override many things in your local.conf</td><td class="time"><a href="#t2021-03-24T13:06:11" class="time">13:06</a></td></tr>
<tr id="t2021-03-24T13:07:43"><th class="nick" style="background: #57a657">nohit</th><td class="text" style="color: #57a657">okay</td><td class="time"><a href="#t2021-03-24T13:07:43" class="time">13:07</a></td></tr>
<tr id="t2021-03-24T13:08:24"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">nohit: just create your own distro that requires your manufacturer distro conf file</td><td class="time"><a href="#t2021-03-24T13:08:24" class="time">13:08</a></td></tr>
<tr id="t2021-03-24T13:08:25"><th class="nick" style="background: #57a657">nohit</th><td class="text" style="color: #57a657">i would like to remove splash screen and make it permanent</td><td class="time"><a href="#t2021-03-24T13:08:25" class="time">13:08</a></td></tr>
<tr id="t2021-03-24T13:08:40"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">nohit: not sure this is done in distro but more in image recipe?</td><td class="time"><a href="#t2021-03-24T13:08:40" class="time">13:08</a></td></tr>
<tr id="t2021-03-24T13:09:53"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">nohit: might also be a hard dependency (DEPENDS/RDEPENDS) in one of the packages/recipes included in your image recipe</td><td class="time"><a href="#t2021-03-24T13:09:53" class="time">13:09</a></td></tr>
<tr id="t2021-03-24T13:10:18"><th class="nick" style="background: #57a657">nohit</th><td class="text" style="color: #57a657">oh yes its in image receipe</td><td class="time"><a href="#t2021-03-24T13:10:18" class="time">13:10</a></td></tr>
<tr id="t2021-03-24T13:11:16"><th class="nick" style="background: #adad5b">smurray</th><td class="text" style="color: #adad5b">yates: see <a href="https://docs.yoctoproject.org/bitbake/bitbake-user-manual/bitbake-user-manual-metadata.html#require-directive" rel="nofollow">https://docs.yoctoproject.org/bitbake/bitbake-user-manual/bitbake-user-manual-metadata.html#require-directive</a></td><td class="time"><a href="#t2021-03-24T13:11:16" class="time">13:11</a></td></tr>
<tr id="t2021-03-24T13:18:50-2"><td class="nickchange" colspan="2">*** camus is now known as kaspter</td><td><a href="#t2021-03-24T13:18:50-2" class="time">13:18</a></td></tr>
<tr id="t2021-03-24T13:22:17"><th class="nick" style="background: #97974f">Sponge5</th><td class="text" style="color: #97974f">I'm looking around for oe-selftest usage and I can't seem to find a good example of a sysroot verification. I simply want to check if the files appear in sysroot after a successful build</td><td class="time"><a href="#t2021-03-24T13:22:17" class="time">13:22</a></td></tr>
<tr id="t2021-03-24T13:30:47"><th class="nick" style="background: #a25555">yates</th><td class="text" style="color: #a25555">smurray: thanks - i looked in the bbum but could not find that.</td><td class="time"><a href="#t2021-03-24T13:30:47" class="time">13:30</a></td></tr>
<tr id="t2021-03-24T13:31:29"><th class="nick" style="background: #a25555">yates</th><td class="text" style="color: #a25555">low-priority question: how are the docs (e.g., <a href="https://docs.yoctoproject.org/bitbake" rel="nofollow">https://docs.yoctoproject.org/bitbake</a>) generated?</td><td class="time"><a href="#t2021-03-24T13:31:29" class="time">13:31</a></td></tr>
<tr id="t2021-03-24T13:34:36"><th class="nick" style="background: #b15db1">rburton</th><td class="text" style="color: #b15db1">yates: <a href="http://git.yoctoproject.org/cgit/cgit.cgi/yocto-docs/" rel="nofollow">http://git.yoctoproject.org/cgit/cgit.cgi/yocto-docs/</a></td><td class="time"><a href="#t2021-03-24T13:34:36" class="time">13:34</a></td></tr>
<tr id="t2021-03-24T14:09:16"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">yates: rburton: <a href="http://git.openembedded.org/bitbake/tree/doc" rel="nofollow">http://git.openembedded.org/bitbake/tree/doc</a> for <a href="https://docs.yoctoproject.org/bitbake" rel="nofollow">https://docs.yoctoproject.org/bitbake</a> I think. <a href="https://docs.yoctoproject.org/" rel="nofollow">https://docs.yoctoproject.org/</a> is handled in the git repo pointed by rburton</td><td class="time"><a href="#t2021-03-24T14:09:16" class="time">14:09</a></td></tr>
<tr id="t2021-03-24T14:13:18"><th class="nick" style="background: #5959a9">derRichard</th><td class="text" style="color: #5959a9">when i have a custom kernel, with a custom uapi, shouldn't yocto use these kernel headers as glibc kernel-headers?</td><td class="time"><a href="#t2021-03-24T14:13:18" class="time">14:13</a></td></tr>
<tr id="t2021-03-24T14:13:36"><th class="nick" style="background: #5959a9">derRichard</th><td class="text" style="color: #5959a9">or another way asked, where does the glibc recipe take the kernel uapi headers from?</td><td class="time"><a href="#t2021-03-24T14:13:36" class="time">14:13</a></td></tr>
<tr id="t2021-03-24T14:18:02"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">linux-kernel-headers recipe</td><td class="time"><a href="#t2021-03-24T14:18:02" class="time">14:18</a></td></tr>
<tr id="t2021-03-24T14:18:16"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">derRichard: kernels are machine specific recipes</td><td class="time"><a href="#t2021-03-24T14:18:16" class="time">14:18</a></td></tr>
<tr id="t2021-03-24T14:18:29"><th class="nick" style="background: #5959a9">derRichard</th><td class="text" style="color: #5959a9">ahhhh, linux-kernel-headers</td><td class="time"><a href="#t2021-03-24T14:18:29" class="time">14:18</a></td></tr>
<tr id="t2021-03-24T14:18:30"><th class="nick" style="background: #5959a9">derRichard</th><td class="text" style="color: #5959a9">thx!</td><td class="time"><a href="#t2021-03-24T14:18:30" class="time">14:18</a></td></tr>
<tr id="t2021-03-24T14:18:40"><th class="nick" style="background: #5959a9">derRichard</th><td class="text" style="color: #5959a9">this is why i miss stuff</td><td class="time"><a href="#t2021-03-24T14:18:40" class="time">14:18</a></td></tr>
<tr id="t2021-03-24T14:19:01"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">so making glibc dependent on kernel headers is basically making any package non-reusable&nbsp;&nbsp;by other machines</td><td class="time"><a href="#t2021-03-24T14:19:01" class="time">14:19</a></td></tr>
<tr id="t2021-03-24T14:19:12"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">which is extremely inefficient</td><td class="time"><a href="#t2021-03-24T14:19:12" class="time">14:19</a></td></tr>
<tr id="t2021-03-24T14:19:59"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">if you want to add an entry to the uapi, you need to create a recipe that install a header file into the sysroot which will be used by the kernel, kernel modules and userspace applications that requires it</td><td class="time"><a href="#t2021-03-24T14:19:59" class="time">14:19</a></td></tr>
<tr id="t2021-03-24T14:21:07"><th class="nick" style="background: #5959a9">derRichard</th><td class="text" style="color: #5959a9">the problem is less complicated. my kernel is 5.4 but linux-kernel-headers seems to use 5.2</td><td class="time"><a href="#t2021-03-24T14:21:07" class="time">14:21</a></td></tr>
<tr id="t2021-03-24T14:21:13"><th class="nick" style="background: #5959a9">derRichard</th><td class="text" style="color: #5959a9">so, i miss new stuff</td><td class="time"><a href="#t2021-03-24T14:21:13" class="time">14:21</a></td></tr>
<tr id="t2021-03-24T14:25:28"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">derRichard: makes sense to upgrade linux-kernel-headers recipe AND USE IT FOR ALL MACHINES</td><td class="time"><a href="#t2021-03-24T14:25:28" class="time">14:25</a></td></tr>
<tr id="t2021-03-24T14:26:16"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">derRichard: since 5.4 is an LTS, we probably have/had a recipe for that in oe-core/poky</td><td class="time"><a href="#t2021-03-24T14:26:16" class="time">14:26</a></td></tr>
<tr id="t2021-03-24T14:27:00"><th class="nick" style="background: #5959a9">derRichard</th><td class="text" style="color: #5959a9">thx, this is what i was about to do :)</td><td class="time"><a href="#t2021-03-24T14:27:00" class="time">14:27</a></td></tr>
<tr id="t2021-03-24T14:27:51"><th class="nick" style="background: #5fb4b4">fray</th><td class="text" style="color: #5fb4b4">the Linux-kernel-headers are ONLY used by userspace.&nbsp;&nbsp;The versions and content do NOT have to match the running ekrenl..</td><td class="time"><a href="#t2021-03-24T14:27:51" class="time">14:27</a></td></tr>
<tr id="t2021-03-24T14:28:01"><th class="nick" style="background: #5fb4b4">fray</th><td class="text" style="color: #5fb4b4">I would NOT upgrade it, as you can break glibc/musl, etc..</td><td class="time"><a href="#t2021-03-24T14:28:01" class="time">14:28</a></td></tr>
<tr id="t2021-03-24T14:28:29"><th class="nick" style="background: #5fb4b4">fray</th><td class="text" style="color: #5fb4b4">as long as the linux-kernel-headers are the same or older then the running kerenl, it will work fine</td><td class="time"><a href="#t2021-03-24T14:28:29" class="time">14:28</a></td></tr>
<tr id="t2021-03-24T14:29:30"><th class="nick" style="background: #5fb4b4">fray</th><td class="text" style="color: #5fb4b4">people need to stop thinking there is something magic in the linux-kernel-headers.. there isn't, it's just defining the APIs used by the system libc.&nbsp;&nbsp;The Linux kernel folks have promised that they will remain backwards compatible in newer versions of the kernel -- so there is no reason to upgrade it (as a user) even if you are rolling foward your kernel version.</td><td class="time"><a href="#t2021-03-24T14:29:30" class="time">14:29</a></td></tr>
<tr id="t2021-03-24T14:29:58"><th class="nick" style="background: #5fb4b4">fray</th><td class="text" style="color: #5fb4b4">Additionally, programs that are trying to talk to module interfaces should NOT be using it as a foundation for ioctl and similar.&nbsp;&nbsp;As ioctls are not part of the defined glibc mechanisms</td><td class="time"><a href="#t2021-03-24T14:29:58" class="time">14:29</a></td></tr>
<tr id="t2021-03-24T14:31:42"><th class="nick" style="background: #5fb4b4">fray</th><td class="text" style="color: #5fb4b4">(best way to handle this, think of the system as userspace and kernel space.&nbsp;&nbsp;linux-kernel-headers, libc, etc are all userspace.&nbsp;&nbsp;Linux _kernel_ and modules are all kernel space..&nbsp;&nbsp;When building, one should space should not refer to another.</td><td class="time"><a href="#t2021-03-24T14:31:42" class="time">14:31</a></td></tr>
<tr id="t2021-03-24T14:33:46"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">fray: well now the question is... what derRichard Is missing in 5.2 kernel headers</td><td class="time"><a href="#t2021-03-24T14:33:46" class="time">14:33</a></td></tr>
<tr id="t2021-03-24T14:34:06"><th class="nick" style="background: #5959a9">derRichard</th><td class="text" style="color: #5959a9">since socketcan folks broke the uabi, i need to use 5.4 heards on both sides</td><td class="time"><a href="#t2021-03-24T14:34:06" class="time">14:34</a></td></tr>
<tr id="t2021-03-24T14:34:15"><th class="nick" style="background: #5959a9">derRichard</th><td class="text" style="color: #5959a9"><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=f5223e9eee651e005c0f6d6d078909087601b7e9" rel="nofollow">https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=f5223e9eee651e005c0f6d6d078909087601b7e9</a></td><td class="time"><a href="#t2021-03-24T14:34:15" class="time">14:34</a></td></tr>
<tr id="t2021-03-24T14:34:36"><th class="nick" style="background: #5959a9">derRichard</th><td class="text" style="color: #5959a9">struct socketaddr_can now has differenct sizes :(</td><td class="time"><a href="#t2021-03-24T14:34:36" class="time">14:34</a></td></tr>
<tr id="t2021-03-24T14:34:44"><th class="nick" style="background: #5959a9">derRichard</th><td class="text" style="color: #5959a9">(this needs to be fixed anyway)</td><td class="time"><a href="#t2021-03-24T14:34:44" class="time">14:34</a></td></tr>
<tr id="t2021-03-24T14:34:49"><th class="nick" style="background: #5959a9">derRichard</th><td class="text" style="color: #5959a9">but for now i need to work around that</td><td class="time"><a href="#t2021-03-24T14:34:49" class="time">14:34</a></td></tr>
<tr id="t2021-03-24T14:35:36"><th class="nick" style="background: #5fb4b4">fray</th><td class="text" style="color: #5fb4b4">Any userspace driver that needs specific knowledge of a kernel interface (magic numbers, including ioctl) should carry it's own knowledge.&nbsp;&nbsp;Often this is done with a copy of a specific chunk of the driver's (kernel) header in the userspace driver..</td><td class="time"><a href="#t2021-03-24T14:35:36" class="time">14:35</a></td></tr>
<tr id="t2021-03-24T14:35:50"><th class="nick" style="background: #5fb4b4">fray</th><td class="text" style="color: #5fb4b4">For well defined interfaces, glibc handles the interactions/translations for you</td><td class="time"><a href="#t2021-03-24T14:35:50" class="time">14:35</a></td></tr>
<tr id="t2021-03-24T14:37:20"><th class="nick" style="background: #5959a9">derRichard</th><td class="text" style="color: #5959a9">not if due to a kernel bug the uabi was broken</td><td class="time"><a href="#t2021-03-24T14:37:20" class="time">14:37</a></td></tr>
<tr id="t2021-03-24T14:37:24"><th class="nick" style="background: #5959a9">derRichard</th><td class="text" style="color: #5959a9">...which is here the case</td><td class="time"><a href="#t2021-03-24T14:37:24" class="time">14:37</a></td></tr>
<tr id="t2021-03-24T14:37:29"><th class="nick" style="background: #5fb4b4">fray</th><td class="text" style="color: #5fb4b4">in this case, I would verify that glibc has no references to can.h (I'm pretty sure it doesn't, as it has no specific knowledge of can inteface, unlike sockets/pipes/tcp/ip..</td><td class="time"><a href="#t2021-03-24T14:37:29" class="time">14:37</a></td></tr>
<tr id="t2021-03-24T14:38:09"><th class="nick" style="background: #5fb4b4">fray</th><td class="text" style="color: #5fb4b4">Assuming glibc does NOT have direct knowledge of the can.h interfaces, then you can carry a temporary copy of it -- or patch linux-kernel-headers with the one file.&nbsp;&nbsp;Either will work fine..</td><td class="time"><a href="#t2021-03-24T14:38:09" class="time">14:38</a></td></tr>
<tr id="t2021-03-24T14:38:10"><td class="action" colspan="2">* derRichard checked</td><td><a href="#t2021-03-24T14:38:10" class="time">14:38</a></td></tr>
<tr id="t2021-03-24T14:38:31"><th class="nick" style="background: #5fb4b4">fray</th><td class="text" style="color: #5fb4b4">This is a bit of an unusual situation as it should be a &quot;more&quot; stable interface..</td><td class="time"><a href="#t2021-03-24T14:38:31" class="time">14:38</a></td></tr>
<tr id="t2021-03-24T14:39:01"><th class="nick" style="background: #5fb4b4">fray</th><td class="text" style="color: #5fb4b4">where I usually see this is ioctls and other 'magic numbers' that userspace programs are trying to get access.&nbsp;&nbsp;In those cases, the right answer is always to include a copy of the magic numbers within the userspce component..</td><td class="time"><a href="#t2021-03-24T14:39:01" class="time">14:39</a></td></tr>
<tr id="t2021-03-24T14:39:09"><th class="nick" style="background: #b86161">JPEW</th><td class="text" style="color: #b86161">Ya, that one is a little annoying because it's a change in the socket address type</td><td class="time"><a href="#t2021-03-24T14:39:09" class="time">14:39</a></td></tr>
<tr id="t2021-03-24T14:39:36"><th class="nick" style="background: #5959a9">derRichard</th><td class="text" style="color: #5959a9">i found that an hour ago, will talk later to socket can folks. IMHO this is a bad bug</td><td class="time"><a href="#t2021-03-24T14:39:36" class="time">14:39</a></td></tr>
<tr id="t2021-03-24T14:39:53"><th class="nick" style="background: #5959a9">derRichard</th><td class="text" style="color: #5959a9">but for now i need to get my application stack in shape again</td><td class="time"><a href="#t2021-03-24T14:39:53" class="time">14:39</a></td></tr>
<tr id="t2021-03-24T14:39:56"><th class="nick" style="background: #5fb4b4">fray</th><td class="text" style="color: #5fb4b4">since they placed it at the end of the structure, theoretically it's compatible.. but ya.. iffy..</td><td class="time"><a href="#t2021-03-24T14:39:56" class="time">14:39</a></td></tr>
<tr id="t2021-03-24T14:40:13"><th class="nick" style="background: #5fb4b4">fray</th><td class="text" style="color: #5fb4b4">I'd almost consider defining a new structure specifically to resolve this issue.. i.e. can_new..&nbsp;&nbsp;can_2.. etc etc etc</td><td class="time"><a href="#t2021-03-24T14:40:13" class="time">14:40</a></td></tr>
<tr id="t2021-03-24T14:40:20"><th class="nick" style="background: #5fb4b4">fray</th><td class="text" style="color: #5fb4b4">breaking an existing interface is not a good idea</td><td class="time"><a href="#t2021-03-24T14:40:20" class="time">14:40</a></td></tr>
<tr id="t2021-03-24T14:40:27"><th class="nick" style="background: #b86161">JPEW</th><td class="text" style="color: #b86161">derRichard: Is the problem that the program is receiving the address into a `struct sockaddr_can` struct?</td><td class="time"><a href="#t2021-03-24T14:40:27" class="time">14:40</a></td></tr>
<tr id="t2021-03-24T14:40:29"><th class="nick" style="background: #5fb4b4">fray</th><td class="text" style="color: #5fb4b4">(even for a less used interface like CAN)</td><td class="time"><a href="#t2021-03-24T14:40:29" class="time">14:40</a></td></tr>
<tr id="t2021-03-24T14:40:56"><th class="nick" style="background: #5959a9">derRichard</th><td class="text" style="color: #5959a9">JPEW: yes. i use recvfrom() on AF_CAN</td><td class="time"><a href="#t2021-03-24T14:40:56" class="time">14:40</a></td></tr>
<tr id="t2021-03-24T14:41:30"><th class="nick" style="background: #b86161">JPEW</th><td class="text" style="color: #b86161">Ya, the recieve buffer should be something else... &quot;struct sockaddr&quot; maybe? That ensures it's big enough and you typecast it to the specific type (I think)</td><td class="time"><a href="#t2021-03-24T14:41:30" class="time">14:41</a></td></tr>
<tr id="t2021-03-24T14:41:56"><th class="nick" style="background: #5fb4b4">fray</th><td class="text" style="color: #5fb4b4">(for a VERY long time, CAN required a local to the app copy of the can headers..&nbsp;&nbsp;just as an FYI..)</td><td class="time"><a href="#t2021-03-24T14:41:56" class="time">14:41</a></td></tr>
<tr id="t2021-03-24T14:42:57"><th class="nick" style="background: #5959a9">derRichard</th><td class="text" style="color: #5959a9">JPEW: let me check that the application really does (it was not written by me)</td><td class="time"><a href="#t2021-03-24T14:42:57" class="time">14:42</a></td></tr>
<tr id="t2021-03-24T14:43:04"><th class="nick" style="background: #5959a9">derRichard</th><td class="text" style="color: #5959a9">*what the</td><td class="time"><a href="#t2021-03-24T14:43:04" class="time">14:43</a></td></tr>
<tr id="t2021-03-24T14:47:57"><th class="nick" style="background: #b86161">JPEW</th><td class="text" style="color: #b86161">derRichard: Ah, how unfortunate: it looks like the struct sockaddr only reserves 14 bytes for sa_data, but the sockaddr_can has 17 data bytes, so even that wouldn't fix it :(</td><td class="time"><a href="#t2021-03-24T14:47:57" class="time">14:47</a></td></tr>
<tr id="t2021-03-24T14:48:46"><th class="nick" style="background: #b86161">JPEW</th><td class="text" style="color: #b86161">derRichard: Oh, right, use &quot;struct sockaddr_storage&quot;. It's big enough :)</td><td class="time"><a href="#t2021-03-24T14:48:46" class="time">14:48</a></td></tr>
<tr id="t2021-03-24T14:51:51"><td class="action" colspan="2">* armpit rust is nuts</td><td><a href="#t2021-03-24T14:51:51" class="time">14:51</a></td></tr>
<tr id="t2021-03-24T14:52:59"><th class="nick" style="background: #5959a9">derRichard</th><td class="text" style="color: #5959a9">qschulz: JPEW: should i add a recipes-kernel/linux-libc-headers/ recipe to my layer?</td><td class="time"><a href="#t2021-03-24T14:52:59" class="time">14:52</a></td></tr>
<tr id="t2021-03-24T14:53:18"><th class="nick" style="background: #5959a9">derRichard</th><td class="text" style="color: #5959a9">i'm not sure that the best way is</td><td class="time"><a href="#t2021-03-24T14:53:18" class="time">14:53</a></td></tr>
<tr id="t2021-03-24T14:53:33"><th class="nick" style="background: #5959a9">derRichard</th><td class="text" style="color: #5959a9">i don't really want to copy linux-libc-headers.inc into my layer</td><td class="time"><a href="#t2021-03-24T14:53:33" class="time">14:53</a></td></tr>
<tr id="t2021-03-24T14:54:40"><th class="nick" style="background: #b86161">JPEW</th><td class="text" style="color: #b86161">derRichard: No, fray is correct. If your application needs specific kernel API, it should have it's own copy of the header... a lot of libraries that wrap kernel functionality do this (e.g. libdrm)</td><td class="time"><a href="#t2021-03-24T14:54:40" class="time">14:54</a></td></tr>
<tr id="t2021-03-24T14:55:44"><th class="nick" style="background: #5959a9">derRichard</th><td class="text" style="color: #5959a9">JPEW: and what about can-utils? they use can too with recvfrom()</td><td class="time"><a href="#t2021-03-24T14:55:44" class="time">14:55</a></td></tr>
<tr id="t2021-03-24T14:55:46"><th class="nick" style="background: #5959a9">derRichard</th><td class="text" style="color: #5959a9">it will break too</td><td class="time"><a href="#t2021-03-24T14:55:46" class="time">14:55</a></td></tr>
<tr id="t2021-03-24T14:56:35"><th class="nick" style="background: #b86161">JPEW</th><td class="text" style="color: #b86161">Ya, that's a bug in can-utils</td><td class="time"><a href="#t2021-03-24T14:56:35" class="time">14:56</a></td></tr>
<tr id="t2021-03-24T14:56:49"><th class="nick" style="background: #b86161">JPEW</th><td class="text" style="color: #b86161">They should be using struct sockaddr_storage</td><td class="time"><a href="#t2021-03-24T14:56:49" class="time">14:56</a></td></tr>
<tr id="t2021-03-24T14:58:00"><th class="nick" style="background: #5959a9">derRichard</th><td class="text" style="color: #5959a9">just checked, they have their own copy of can.h. so, they are safe</td><td class="time"><a href="#t2021-03-24T14:58:00" class="time">14:58</a></td></tr>
<tr id="t2021-03-24T14:58:20"><th class="nick" style="background: #b86161">JPEW</th><td class="text" style="color: #b86161">derRichard: They still should be using struct sockaddr_storage</td><td class="time"><a href="#t2021-03-24T14:58:20" class="time">14:58</a></td></tr>
<tr id="t2021-03-24T14:58:32"><th class="nick" style="background: #b86161">JPEW</th><td class="text" style="color: #b86161">Otherwise, they have to be kept in lock-step with the kernel</td><td class="time"><a href="#t2021-03-24T14:58:32" class="time">14:58</a></td></tr>
<tr id="t2021-03-24T14:59:24"><th class="nick" style="background: #b86161">JPEW</th><td class="text" style="color: #b86161">Well, maybe not since they pass their own size I guess</td><td class="time"><a href="#t2021-03-24T14:59:24" class="time">14:59</a></td></tr>
<tr id="t2021-03-24T14:59:58"><th class="nick" style="background: #5959a9">derRichard</th><td class="text" style="color: #5959a9">and why is poky even upgrading thir recipes-kernel/linux-libc-headers/?</td><td class="time"><a href="#t2021-03-24T14:59:58" class="time">14:59</a></td></tr>
<tr id="t2021-03-24T15:00:21"><th class="nick" style="background: #5959a9">derRichard</th><td class="text" style="color: #5959a9">you say every application has to ship their own headers, which makes only kind of sense</td><td class="time"><a href="#t2021-03-24T15:00:21" class="time">15:00</a></td></tr>
<tr id="t2021-03-24T15:01:27"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">derRichard: linux-libc-headers is the copy of the headers for libc</td><td class="time"><a href="#t2021-03-24T15:01:27" class="time">15:01</a></td></tr>
<tr id="t2021-03-24T15:02:14"><th class="nick" style="background: #5959a9">derRichard</th><td class="text" style="color: #5959a9">RP: yes, these headers will then be available in sdks, right?</td><td class="time"><a href="#t2021-03-24T15:02:14" class="time">15:02</a></td></tr>
<tr id="t2021-03-24T15:02:28"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">derRichard: since the sdk contains libc, yes</td><td class="time"><a href="#t2021-03-24T15:02:28" class="time">15:02</a></td></tr>
<tr id="t2021-03-24T15:02:42"><th class="nick" style="background: #5959a9">derRichard</th><td class="text" style="color: #5959a9">i'm using kernel 5.4 and want the headers from 5.4 in my sdk, and not 5.2. :)</td><td class="time"><a href="#t2021-03-24T15:02:42" class="time">15:02</a></td></tr>
<tr id="t2021-03-24T15:02:56"><th class="nick" style="background: #5959a9">derRichard</th><td class="text" style="color: #5959a9">IIUC i need to move&nbsp;&nbsp;linux-libc-headers to 5.4 then</td><td class="time"><a href="#t2021-03-24T15:02:56" class="time">15:02</a></td></tr>
<tr id="t2021-03-24T15:03:51"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">derRichard: correct. But just use a plain upstream kernel for linux-libc-headers, not some machine hacked up one</td><td class="time"><a href="#t2021-03-24T15:03:51" class="time">15:03</a></td></tr>
<tr id="t2021-03-24T15:04:01"><th class="nick" style="background: #5959a9">derRichard</th><td class="text" style="color: #5959a9">of course, yes</td><td class="time"><a href="#t2021-03-24T15:04:01" class="time">15:04</a></td></tr>
<tr id="t2021-03-24T15:04:07"><th class="nick" style="background: #5959a9">derRichard</th><td class="text" style="color: #5959a9">in my case a plain kernel will do it</td><td class="time"><a href="#t2021-03-24T15:04:07" class="time">15:04</a></td></tr>
<tr id="t2021-03-24T15:04:26"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">derRichard: if a plain kernel wouldn't do it, there would be an issue somewhere</td><td class="time"><a href="#t2021-03-24T15:04:26" class="time">15:04</a></td></tr>
<tr id="t2021-03-24T15:05:02"><th class="nick" style="background: #5959a9">derRichard</th><td class="text" style="color: #5959a9">agreed</td><td class="time"><a href="#t2021-03-24T15:05:02" class="time">15:05</a></td></tr>
<tr id="t2021-03-24T15:05:30"><th class="nick" style="background: #5959a9">derRichard</th><td class="text" style="color: #5959a9">so i'll have my own linux-libc-headers in my layer with 5.4 upstream such that it matches my upstream 5.4 kerel</td><td class="time"><a href="#t2021-03-24T15:05:30" class="time">15:05</a></td></tr>
<tr id="t2021-03-24T15:05:34"><th class="nick" style="background: #5959a9">derRichard</th><td class="text" style="color: #5959a9">*kernel</td><td class="time"><a href="#t2021-03-24T15:05:34" class="time">15:05</a></td></tr>
<tr id="t2021-03-24T15:11:34"><th class="nick" style="background: #62bb62">RobertBerger</th><td class="text" style="color: #62bb62">@derRichard: <a href="https://bugzilla.yoctoproject.org/show_bug.cgi?id=13955" rel="nofollow">https://bugzilla.yoctoproject.org/show_bug.cgi?id=13955</a></td><td class="time"><a href="#t2021-03-24T15:11:34" class="time">15:11</a></td></tr>
<tr id="t2021-03-24T15:14:17"><th class="nick" style="background: #6464bf">vdl</th><td class="text" style="color: #6464bf">What are the best practices to include custom systemd udev rules for your platform?</td><td class="time"><a href="#t2021-03-24T15:14:17" class="time">15:14</a></td></tr>
<tr id="t2021-03-24T15:17:22"><th class="nick" style="background: #c3c366">Spooster</th><td class="text" style="color: #c3c366">not sure about best practices, but I'd expect just jamming *.rules in your FILES_${PN} and shuffling them into the proper places in your recipe is more than sufficient</td><td class="time"><a href="#t2021-03-24T15:17:22" class="time">15:17</a></td></tr>
<tr id="t2021-03-24T15:18:12"><th class="nick" style="background: #c3c366">Spooster</th><td class="text" style="color: #c3c366">and I'd expect .bbappend-ing the various recipes that splat in other rules would be decent path forward when editing existing rule-sets</td><td class="time"><a href="#t2021-03-24T15:18:12" class="time">15:18</a></td></tr>
<tr id="t2021-03-24T15:18:46"><td class="part" colspan="2">*** timemaster1 &lt;timemaster1!~timemaste@cst2-170-164.cust.vodafone.cz&gt; has left #yocto</td><td><a href="#t2021-03-24T15:18:46" class="time">15:18</a></td></tr>
<tr id="t2021-03-24T15:30:15"><th class="nick" style="background: #c3c366">Spooster</th><td class="text" style="color: #c3c366">I'm getting myself into a funky state with kas/bitbake. It looks like one of the patches I applied in a `bbappend` already has been applied to the source the last time this built. I have since edited another part of the recipe, and now the bbappend is failing to apply the patch a second time</td><td class="time"><a href="#t2021-03-24T15:30:15" class="time">15:30</a></td></tr>
<tr id="t2021-03-24T15:30:56"><th class="nick" style="background: #c3c366">Spooster</th><td class="text" style="color: #c3c366">I'd like it to either: Not apply the patch twice in a row because it already did that.... or clean everything so it downloads source, and rebuilds everything and applies the patch to a clean state</td><td class="time"><a href="#t2021-03-24T15:30:56" class="time">15:30</a></td></tr>
<tr id="t2021-03-24T15:31:18"><th class="nick" style="background: #c3c366">Spooster</th><td class="text" style="color: #c3c366">I don't know if the former is possible... and `bitbake -c cleanall &lt;package&gt;` mysteriously doesn't fix my problem</td><td class="time"><a href="#t2021-03-24T15:31:18" class="time">15:31</a></td></tr>
<tr id="t2021-03-24T15:31:48"><th class="nick" style="background: #c3c366">Spooster</th><td class="text" style="color: #c3c366">do I need to run some other command other than cleanall to &quot;go back to a time before patches were applied?&quot;</td><td class="time"><a href="#t2021-03-24T15:31:48" class="time">15:31</a></td></tr>
<tr id="t2021-03-24T15:36:53"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">Spooster: no, -c cleanall does that. Is it possible you have your patch twice in SRC_URI?</td><td class="time"><a href="#t2021-03-24T15:36:53" class="time">15:36</a></td></tr>
<tr id="t2021-03-24T15:37:14"><th class="nick" style="background: #c3c366">Spooster</th><td class="text" style="color: #c3c366">It must be something silly like that</td><td class="time"><a href="#t2021-03-24T15:37:14" class="time">15:37</a></td></tr>
<tr id="t2021-03-24T15:38:25"><th class="nick" style="background: #c3c366">Spooster</th><td class="text" style="color: #c3c366">unfortunately, in the bbapend I'm aware of, the patch is only listed once</td><td class="time"><a href="#t2021-03-24T15:38:25" class="time">15:38</a></td></tr>
<tr id="t2021-03-24T15:38:31"><th class="nick" style="background: #c3c366">Spooster</th><td class="text" style="color: #c3c366">but I'd suspect something somewhere is bring it in</td><td class="time"><a href="#t2021-03-24T15:38:31" class="time">15:38</a></td></tr>
<tr id="t2021-03-24T15:38:55"><th class="nick" style="background: #97974f">Sponge5</th><td class="text" style="color: #97974f">vdl: I'm just working on that and what I'm trying to do is to have udev-&lt;basedistro&gt;.bb recipe which plops out multiple PACKAGES, where each package has just one udev rule. Then either specify the package in &lt;machine&gt;.conf or &lt;layer&gt;.conf</td><td class="time"><a href="#t2021-03-24T15:38:55" class="time">15:38</a></td></tr>
<tr id="t2021-03-24T15:39:00-2"><td class="nickchange" colspan="2">*** camus is now known as kaspter</td><td><a href="#t2021-03-24T15:39:00-2" class="time">15:39</a></td></tr>
<tr id="t2021-03-24T15:40:57"><th class="nick" style="background: #c3c366">Spooster</th><td class="text" style="color: #c3c366">qschulz: .bbappend for the curious. My only guess at the moment, is that I might have to read more about what `FILESEXTRAPATHS_prepend := /${THISDIR}/files` is doing... because it's probably doing exactly that</td><td class="time"><a href="#t2021-03-24T15:40:57" class="time">15:40</a></td></tr>
<tr id="t2021-03-24T15:41:03"><th class="nick" style="background: #c3c366">Spooster</th><td class="text" style="color: #c3c366"><a href="https://pastebin.com/g2ySjeFF" rel="nofollow">https://pastebin.com/g2ySjeFF</a></td><td class="time"><a href="#t2021-03-24T15:41:03" class="time">15:41</a></td></tr>
<tr id="t2021-03-24T15:43:48"><th class="nick" style="background: #c668c6">lukma</th><td class="text" style="color: #c668c6">Dear community,</td><td class="time"><a href="#t2021-03-24T15:43:48" class="time">15:43</a></td></tr>
<tr id="t2021-03-24T15:44:28"><th class="nick" style="background: #c668c6">lukma</th><td class="text" style="color: #c668c6">Is there a way to replace program (like tar) from work/hosttols directory? And replace it with -native one build from Yocto ?</td><td class="time"><a href="#t2021-03-24T15:44:28" class="time">15:44</a></td></tr>
<tr id="t2021-03-24T15:44:51"><th class="nick" style="background: #c668c6">lukma</th><td class="text" style="color: #c668c6">The problem is that I do use the old machine&nbsp;&nbsp;to build recent yocto</td><td class="time"><a href="#t2021-03-24T15:44:51" class="time">15:44</a></td></tr>
<tr id="t2021-03-24T15:45:13"><th class="nick" style="background: #c668c6">lukma</th><td class="text" style="color: #c668c6">and tar is not supporting features needed by contemporary yocto/OE</td><td class="time"><a href="#t2021-03-24T15:45:13" class="time">15:45</a></td></tr>
<tr id="t2021-03-24T15:45:14"><th class="nick" style="background: #97974f">Sponge5</th><td class="text" style="color: #97974f">Spooster: did you check the files/ directory for the recipe you're appending to?</td><td class="time"><a href="#t2021-03-24T15:45:14" class="time">15:45</a></td></tr>
<tr id="t2021-03-24T15:47:09"><th class="nick" style="background: #c3c366">Spooster</th><td class="text" style="color: #c3c366">I only have one patch in the files I'm appending...</td><td class="time"><a href="#t2021-03-24T15:47:09" class="time">15:47</a></td></tr>
<tr id="t2021-03-24T15:47:11"><th class="nick" style="background: #b15db1">rburton</th><td class="text" style="color: #b15db1">lukma: run install-buildtools</td><td class="time"><a href="#t2021-03-24T15:47:11" class="time">15:47</a></td></tr>
<tr id="t2021-03-24T15:47:21"><th class="nick" style="background: #c3c366">Spooster</th><td class="text" style="color: #c3c366">and the recipe's original source doesn't have any patches to speak of</td><td class="time"><a href="#t2021-03-24T15:47:21" class="time">15:47</a></td></tr>
<tr id="t2021-03-24T15:48:58"><th class="nick" style="background: #6464bf">vdl</th><td class="text" style="color: #6464bf">Sponge5: got it</td><td class="time"><a href="#t2021-03-24T15:48:58" class="time">15:48</a></td></tr>
<tr id="t2021-03-24T15:50:00"><th class="nick" style="background: #6464bf">vdl</th><td class="text" style="color: #6464bf">btw is there some kind of naming convention for custom tty? like ttyCUSTOMER[0-9] or customer-tty-[0-9], etc.?</td><td class="time"><a href="#t2021-03-24T15:50:00" class="time">15:50</a></td></tr>
<tr id="t2021-03-24T15:53:00"><th class="nick" style="background: #c668c6">lukma</th><td class="text" style="color: #c668c6">rburton: I will check this option :-), thanks</td><td class="time"><a href="#t2021-03-24T15:53:00" class="time">15:53</a></td></tr>
<tr id="t2021-03-24T15:53:30"><th class="nick" style="background: #c3c366">Spooster</th><td class="text" style="color: #c3c366">checking `bitbake-layers show-appends`, I see that only my one .bbappend is being applied</td><td class="time"><a href="#t2021-03-24T15:53:30" class="time">15:53</a></td></tr>
<tr id="t2021-03-24T15:53:57"><th class="nick" style="background: #c3c366">Spooster</th><td class="text" style="color: #c3c366">I just moved the recipe to it's own folder to make sure other nearby files and recipes weren't causing trouble</td><td class="time"><a href="#t2021-03-24T15:53:57" class="time">15:53</a></td></tr>
<tr id="t2021-03-24T15:55:00"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">Spooster: when you do -c cleanall, do you still have a workdir for your recipe?</td><td class="time"><a href="#t2021-03-24T15:55:00" class="time">15:55</a></td></tr>
<tr id="t2021-03-24T15:59:42"><th class="nick" style="background: #c3c366">Spooster</th><td class="text" style="color: #c3c366">qschulz: I think yes... it looks like `build/tmp/work/raspberrypi4_64-poky-linux/weston-init` persists after a `bitbake -c cleanall weston-init`</td><td class="time"><a href="#t2021-03-24T15:59:42" class="time">15:59</a></td></tr>
<tr id="t2021-03-24T16:01:04"><th class="nick" style="background: #c3c366">Spooster</th><td class="text" style="color: #c3c366">I'm not sure I expected to fine `weston-init` under `raspberrypi4` like that...</td><td class="time"><a href="#t2021-03-24T16:01:04" class="time">16:01</a></td></tr>
<tr id="t2021-03-24T16:01:21"><th class="nick" style="background: #c3c366">Spooster</th><td class="text" style="color: #c3c366">the recipes comes from poke/meta/recipes-graphics/wayland</td><td class="time"><a href="#t2021-03-24T16:01:21" class="time">16:01</a></td></tr>
<tr id="t2021-03-24T16:03:32"><th class="nick" style="background: #c3c366">Spooster</th><td class="text" style="color: #c3c366">(I think I'm at like... a negative typing accuracy at this point... *find, *recipe, *poky/)</td><td class="time"><a href="#t2021-03-24T16:03:32" class="time">16:03</a></td></tr>
<tr id="t2021-03-24T16:04:07"><td class="nickchange" colspan="2">*** JaBen1 is now known as JaBen</td><td><a href="#t2021-03-24T16:04:07" class="time">16:04</a></td></tr>
<tr id="t2021-03-24T16:04:12"><th class="nick" style="background: #c668c6">lukma</th><td class="text" style="color: #c668c6">rburton: Is the install-builtools script doing the same as installing <a href="https://downloads.yoctoproject.org/releases/yocto/yocto-3.1.5/buildtools/x86_64-buildtools-nativesdk-standalone-3.1.5.sh" rel="nofollow">https://downloads.yoctoproject.org/releases/yocto/yocto-3.1.5/buildtools/x86_64-buildtools-nativesdk-standalone-3.1.5.sh</a> ?</td><td class="time"><a href="#t2021-03-24T16:04:12" class="time">16:04</a></td></tr>
<tr id="t2021-03-24T16:04:17"><th class="nick" style="background: #b15db1">rburton</th><td class="text" style="color: #b15db1">yes</td><td class="time"><a href="#t2021-03-24T16:04:17" class="time">16:04</a></td></tr>
<tr id="t2021-03-24T16:04:44"><th class="nick" style="background: #c668c6">lukma</th><td class="text" style="color: #c668c6">rburton: I do manually downlod those tools and install them</td><td class="time"><a href="#t2021-03-24T16:04:44" class="time">16:04</a></td></tr>
<tr id="t2021-03-24T16:05:13"><th class="nick" style="background: #c668c6">lukma</th><td class="text" style="color: #c668c6">despite of that the OE/Yocto uses the tar from ./hosttols/ directory which is a sym link to system's old tar</td><td class="time"><a href="#t2021-03-24T16:05:13" class="time">16:05</a></td></tr>
<tr id="t2021-03-24T16:05:33"><th class="nick" style="background: #b15db1">rburton</th><td class="text" style="color: #b15db1">maybe only the extended one includes tar?</td><td class="time"><a href="#t2021-03-24T16:05:33" class="time">16:05</a></td></tr>
<tr id="t2021-03-24T16:06:05"><th class="nick" style="background: #b15db1">rburton</th><td class="text" style="color: #b15db1">nope the 3.2 non-extended one definitely includes tar</td><td class="time"><a href="#t2021-03-24T16:06:05" class="time">16:06</a></td></tr>
<tr id="t2021-03-24T16:06:33"><th class="nick" style="background: #b15db1">rburton</th><td class="text" style="color: #b15db1">you need to source the setup script before doing oe-init-build-env, and if hosttools already exists it won't get updated</td><td class="time"><a href="#t2021-03-24T16:06:33" class="time">16:06</a></td></tr>
<tr id="t2021-03-24T16:06:52"><th class="nick" style="background: #c3c366">Spooster</th><td class="text" style="color: #c3c366">update... while the folder still exists, the contents of the folder are indeed being wiped out by the `bitbake -c cleanall`</td><td class="time"><a href="#t2021-03-24T16:06:52" class="time">16:06</a></td></tr>
<tr id="t2021-03-24T16:08:29"><th class="nick" style="background: #c668c6">lukma</th><td class="text" style="color: #c668c6">rburton: It may be that I had hosttols setup earlier</td><td class="time"><a href="#t2021-03-24T16:08:29" class="time">16:08</a></td></tr>
<tr id="t2021-03-24T16:08:37"><th class="nick" style="background: #c668c6">lukma</th><td class="text" style="color: #c668c6">so those won't get updated</td><td class="time"><a href="#t2021-03-24T16:08:37" class="time">16:08</a></td></tr>
<tr id="t2021-03-24T16:09:59"><th class="nick" style="background: #c3c366">Spooster</th><td class="text" style="color: #c3c366">running `bitbake -c fetch` and bitbake -c unpack` shows that the file and patch are already coming in... and the `weston.ini` is somehow &quot;pre-patched&quot;</td><td class="time"><a href="#t2021-03-24T16:09:59" class="time">16:09</a></td></tr>
<tr id="t2021-03-24T16:10:49"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">Spooster: how did you create your patch for weston.ini?</td><td class="time"><a href="#t2021-03-24T16:10:49" class="time">16:10</a></td></tr>
<tr id="t2021-03-24T16:11:16"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">it seems to me there's a mismatch between your development environment for the patch and the sources in Yocto</td><td class="time"><a href="#t2021-03-24T16:11:16" class="time">16:11</a></td></tr>
<tr id="t2021-03-24T16:11:54"><th class="nick" style="background: #c668c6">lukma</th><td class="text" style="color: #c668c6">rburton: Why hosttols links are not updated? Is this a design decision?</td><td class="time"><a href="#t2021-03-24T16:11:54" class="time">16:11</a></td></tr>
<tr id="t2021-03-24T16:12:12"><th class="nick" style="background: #c3c366">Spooster</th><td class="text" style="color: #c3c366">I copied the file on the running system, made my changes, ran a diff, and formatted it accordingly</td><td class="time"><a href="#t2021-03-24T16:12:12" class="time">16:12</a></td></tr>
<tr id="t2021-03-24T16:12:23"><th class="nick" style="background: #6acaca">JaBen</th><td class="text" style="color: #6acaca">Hi, I am trying to generate an archive of source files used in the rootfs to scan with a separate tool regarding license compliance. I tried using the archiver class but this currently includes build dependencies, not just the runtime dependencies. As far as I can tell, there currently is no mechanism for filtering this, right?</td><td class="time"><a href="#t2021-03-24T16:12:23" class="time">16:12</a></td></tr>
<tr id="t2021-03-24T16:13:02"><th class="nick" style="background: #c3c366">Spooster</th><td class="text" style="color: #c3c366">I actually want to verify I didn't much around in the src from /poky/meta... that might have been something silly I did</td><td class="time"><a href="#t2021-03-24T16:13:02" class="time">16:13</a></td></tr>
<tr id="t2021-03-24T16:14:22"><th class="nick" style="background: #c3c366">Spooster</th><td class="text" style="color: #c3c366">yep... I think I mucked around in my source files at one point</td><td class="time"><a href="#t2021-03-24T16:14:22" class="time">16:14</a></td></tr>
<tr id="t2021-03-24T16:28:49"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">Spooster: hehe</td><td class="time"><a href="#t2021-03-24T16:28:49" class="time">16:28</a></td></tr>
<tr id="t2021-03-24T16:39:48"><th class="nick" style="background: #c3c366">Spooster</th><td class="text" style="color: #c3c366">hehe exactly</td><td class="time"><a href="#t2021-03-24T16:39:48" class="time">16:39</a></td></tr>
<tr id="t2021-03-24T16:39:57"><th class="nick" style="background: #c3c366">Spooster</th><td class="text" style="color: #c3c366">tyvm</td><td class="time"><a href="#t2021-03-24T16:39:57" class="time">16:39</a></td></tr>
<tr id="t2021-03-24T16:42:20"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">glad you found out by yourself, that would have been a tricky one to debug.</td><td class="time"><a href="#t2021-03-24T16:42:20" class="time">16:42</a></td></tr>
<tr id="t2021-03-24T16:50:40"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">rburton: wondering if seeing <a href="https://autobuilder.yoctoproject.org/typhoon/#/builders/65/builds/3256" rel="nofollow">https://autobuilder.yoctoproject.org/typhoon/#/builders/65/builds/3256</a> is the meson change? :/</td><td class="time"><a href="#t2021-03-24T16:50:40" class="time">16:50</a></td></tr>
<tr id="t2021-03-24T16:50:47"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">oobitots51: ^^^</td><td class="time"><a href="#t2021-03-24T16:50:47" class="time">16:50</a></td></tr>
<tr id="t2021-03-24T16:50:52"><th class="nick" style="background: #b15db1">rburton</th><td class="text" style="color: #b15db1">RP: i suspect it is :(</td><td class="time"><a href="#t2021-03-24T16:50:52" class="time">16:50</a></td></tr>
<tr id="t2021-03-24T16:50:57"><th class="nick" style="background: #b15db1">rburton</th><td class="text" style="color: #b15db1">shall try to replicate</td><td class="time"><a href="#t2021-03-24T16:50:57" class="time">16:50</a></td></tr>
<tr id="t2021-03-24T16:54:24"><th class="nick" style="background: #b15db1">rburton</th><td class="text" style="color: #b15db1">RP: i expect that's because i tested on arm64 so it can run native</td><td class="time"><a href="#t2021-03-24T16:54:24" class="time">16:54</a></td></tr>
<tr id="t2021-03-24T16:54:28"><th class="nick" style="background: #b15db1">rburton</th><td class="text" style="color: #b15db1">i'll do a rebuild with qemux86</td><td class="time"><a href="#t2021-03-24T16:54:28" class="time">16:54</a></td></tr>
<tr id="t2021-03-24T16:54:51"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">rburton: right, the failures all look cross related</td><td class="time"><a href="#t2021-03-24T16:54:51" class="time">16:54</a></td></tr>
<tr id="t2021-03-24T16:55:15"><th class="nick" style="background: #b15db1">rburton</th><td class="text" style="color: #b15db1">i suspect i just need to pass another option</td><td class="time"><a href="#t2021-03-24T16:55:15" class="time">16:55</a></td></tr>
<tr id="t2021-03-24T16:55:21"><th class="nick" style="background: #b15db1">rburton</th><td class="text" style="color: #b15db1">sorry about that</td><td class="time"><a href="#t2021-03-24T16:55:21" class="time">16:55</a></td></tr>
<tr id="t2021-03-24T16:55:35"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">rburton: np, happens :)</td><td class="time"><a href="#t2021-03-24T16:55:35" class="time">16:55</a></td></tr>
<tr id="t2021-03-24T16:56:05"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">rburton: I'll abort, drop that bit and retry which will confirm it is that change</td><td class="time"><a href="#t2021-03-24T16:56:05" class="time">16:56</a></td></tr>
<tr id="t2021-03-24T17:05:20"><th class="nick" style="background: #ce6c6c">rr123</th><td class="text" style="color: #ce6c6c">does each tag(e.g. yocto-3.2.2) has its upstream branch so I can track and merge any changes for each stable releases, if any</td><td class="time"><a href="#t2021-03-24T17:05:20" class="time">17:05</a></td></tr>
<tr id="t2021-03-24T17:05:51"><th class="nick" style="background: #ce6c6c">rr123</th><td class="text" style="color: #ce6c6c">it appears to be a fixed tagged tarball to me</td><td class="time"><a href="#t2021-03-24T17:05:51" class="time">17:05</a></td></tr>
<tr id="t2021-03-24T17:06:36"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">rr123: 3.2 is the gatesgarth branch</td><td class="time"><a href="#t2021-03-24T17:06:36" class="time">17:06</a></td></tr>
<tr id="t2021-03-24T17:07:15"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">codenames in repos are easier to match than having every repo use the same version scheme</td><td class="time"><a href="#t2021-03-24T17:07:15" class="time">17:07</a></td></tr>
<tr id="t2021-03-24T17:07:24"><th class="nick" style="background: #b15db1">rburton</th><td class="text" style="color: #b15db1">$ git branch --contains yocto-3.2.2 -r</td><td class="time"><a href="#t2021-03-24T17:07:24" class="time">17:07</a></td></tr>
<tr id="t2021-03-24T17:07:24-2"><th class="nick" style="background: #b15db1">rburton</th><td class="text" style="color: #b15db1">&nbsp;&nbsp;origin/gatesgarth</td><td class="time"><a href="#t2021-03-24T17:07:24-2" class="time">17:07</a></td></tr>
<tr id="t2021-03-24T17:08:30-2"><th class="nick" style="background: #ce6c6c">rr123</th><td class="text" style="color: #ce6c6c">agree, the quick-build doc uses 'git checkout tags/yocto-3.2.2 -b my-yocto-3.2.2' which is what most newcomers will follow, but it can not be pulled-merged in the process, I will assume gatesgarth has the up-to-date 3.2 code then</td><td class="time"><a href="#t2021-03-24T17:08:30-2" class="time">17:08</a></td></tr>
<tr id="t2021-03-24T17:08:56"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">rr123: we should perhaps change change.</td><td class="time"><a href="#t2021-03-24T17:08:56" class="time">17:08</a></td></tr>
<tr id="t2021-03-24T17:09:04"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">michaelo: ^^^ - might be worth a look</td><td class="time"><a href="#t2021-03-24T17:09:04" class="time">17:09</a></td></tr>
<tr id="t2021-03-24T17:09:49"><td class="nickchange" colspan="2">*** camus is now known as kaspter</td><td><a href="#t2021-03-24T17:09:49" class="time">17:09</a></td></tr>
<tr id="t2021-03-24T17:12:05"><th class="nick" style="background: #ce6c6c">rr123</th><td class="text" style="color: #ce6c6c">personally i actually prefer 3.2 to gatesgarth, honestly after a while i forgot the name but I appreciate the first letter keeps some order to stay sane, now the question, is yocto-3.2 the same as gatesgarth(i.e. the tip of all 3.2.x releases), or is it just the first 3.2 checkpoint, sort of 3.2.0?</td><td class="time"><a href="#t2021-03-24T17:12:05" class="time">17:12</a></td></tr>
<tr id="t2021-03-24T17:12:36"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">rr123: 3.2.0 I suspect</td><td class="time"><a href="#t2021-03-24T17:12:36" class="time">17:12</a></td></tr>
<tr id="t2021-03-24T17:13:23"><th class="nick" style="background: #ce6c6c">rr123</th><td class="text" style="color: #ce6c6c">a little ambiguous to the paranoid, anyway I got it, thanks</td><td class="time"><a href="#t2021-03-24T17:13:23" class="time">17:13</a></td></tr>
<tr id="t2021-03-24T17:13:34"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">rr123: it is effectively impossible to make &quot;3.2&quot; work for all the repos that would use it unfortunately</td><td class="time"><a href="#t2021-03-24T17:13:34" class="time">17:13</a></td></tr>
<tr id="t2021-03-24T17:21:24"><th class="nick" style="background: #4b904b">qschulz</th><td class="text" style="color: #4b904b">JaBen: I guess you could use buildhistory which lists all packages installed in an image and archive to get the source of said packages?</td><td class="time"><a href="#t2021-03-24T17:21:24" class="time">17:21</a></td></tr>
<tr id="t2021-03-24T17:32:18"><th class="nick" style="background: #6acaca">JaBen</th><td class="text" style="color: #6acaca">@qschulz: hm... I had a similar idea involving the rootfs manifest... but I wasn't sure if and how I would be able to integrate that in the yocto build itself.&nbsp;&nbsp;from the top of my head I wouldn't be able to tell if parsing individual package names to the archiver class is possible. Would you have a rough idea where to start?</td><td class="time"><a href="#t2021-03-24T17:32:18" class="time">17:32</a></td></tr>
<tr id="t2021-03-24T17:40:19"><th class="nick" style="background: #6ed16e">JaMa</th><td class="text" style="color: #6ed16e">rr123: bookmark <a href="https://wiki.yoctoproject.org/wiki/Releases" rel="nofollow">https://wiki.yoctoproject.org/wiki/Releases</a> to preserve sanity</td><td class="time"><a href="#t2021-03-24T17:40:19" class="time">17:40</a></td></tr>
<tr id="t2021-03-24T17:42:22"><th class="nick" style="background: #6acaca">JaBen</th><td class="text" style="color: #6acaca">@qschulz: imo the &quot;clean&quot; way would be being able to parse a flag to the archiver class itself, maybe extend the COPYLEFT_RECIPE_TYPES with rdepends and depends though I'm not sure how hard it would be to access the package meta-info &quot;depends or rdepends?&quot;. I think I'll might look into it, if you guys agree on this approach</td><td class="time"><a href="#t2021-03-24T17:42:22" class="time">17:42</a></td></tr>
<tr id="t2021-03-24T18:00:40"><th class="nick" style="background: #7070d5">michaelo</th><td class="text" style="color: #7070d5">rr123, RP: do you mean we should add &quot;git branch --set-upstream-to=origin/gatesgarth my-yocto-3.2.2&quot; to the documentation, so that people can later run &quot;git pull&quot; on their branch?</td><td class="time"><a href="#t2021-03-24T18:00:40" class="time">18:00</a></td></tr>
<tr id="t2021-03-24T18:01:28"><th class="nick" style="background: #ce6c6c">rr123</th><td class="text" style="color: #ce6c6c">michaelo: yes, or I just do: git checkout -t origin/gatesgarth -b my-3.2.x</td><td class="time"><a href="#t2021-03-24T18:01:28" class="time">18:01</a></td></tr>
<tr id="t2021-03-24T18:03:12"><td class="nickchange" colspan="2">*** mckoan is now known as mckoan|away</td><td><a href="#t2021-03-24T18:03:12" class="time">18:03</a></td></tr>
<tr id="t2021-03-24T18:03:21"><th class="nick" style="background: #7070d5">michaelo</th><td class="text" style="color: #7070d5">rr123: yes, indeed much better. I was indeed thinking about my-3.2.x for the local branch name. Good catch, thanks!</td><td class="time"><a href="#t2021-03-24T18:03:21" class="time">18:03</a></td></tr>
<tr id="t2021-03-24T18:05:47"><th class="nick" style="background: #7070d5">michaelo</th><td class="text" style="color: #7070d5">Then I'll probably replace the &quot;git tag&quot; command by &quot;git branch -a&quot; to find out which remote branch to pick, together with a reference to the correspondance between release names and version numbers.</td><td class="time"><a href="#t2021-03-24T18:05:47" class="time">18:05</a></td></tr>
<tr id="t2021-03-24T18:06:12"><th class="nick" style="background: #7070d5">michaelo</th><td class="text" style="color: #7070d5">I'll propose something to the docs@ mailing list for review. Thanks again</td><td class="time"><a href="#t2021-03-24T18:06:12" class="time">18:06</a></td></tr>
<tr id="t2021-03-24T18:06:46"><th class="nick" style="background: #ce6c6c">rr123</th><td class="text" style="color: #ce6c6c">cool, thanks!</td><td class="time"><a href="#t2021-03-24T18:06:46" class="time">18:06</a></td></tr>
<tr id="t2021-03-24T19:06:16"><th class="nick" style="background: #ce6c6c">rr123</th><td class="text" style="color: #ce6c6c">last time i worked with yocto is 2017, any major changes since then? after I tested with x86 build and now I want to cleanall for the whole build, is there a command or I just brutally `rm -rf build/`?</td><td class="time"><a href="#t2021-03-24T19:06:16" class="time">19:06</a></td></tr>
<tr id="t2021-03-24T19:07:21"><th class="nick" style="background: #d9d972">aleblanc</th><td class="text" style="color: #d9d972">you could always bitbake you_image -c cleanall</td><td class="time"><a href="#t2021-03-24T19:07:21" class="time">19:07</a></td></tr>
<tr id="t2021-03-24T19:07:56"><th class="nick" style="background: #ce6c6c">rr123</th><td class="text" style="color: #ce6c6c">plan to do a raspberry pi 4 build to warm up cross-build steps, and last but not least, i'm a debian guy so i don't really use rpm, is deb/ipk as golden as rpm as far as yocto's test procedure goes(are they both tested as much somehow)?</td><td class="time"><a href="#t2021-03-24T19:07:56" class="time">19:07</a></td></tr>
<tr id="t2021-03-24T19:08:19"><th class="nick" style="background: #b15db1">rburton</th><td class="text" style="color: #b15db1">cleanall will spend ages carefully wiping your sstate, so that's not a good idea</td><td class="time"><a href="#t2021-03-24T19:08:19" class="time">19:08</a></td></tr>
<tr id="t2021-03-24T19:08:39"><th class="nick" style="background: #b15db1">rburton</th><td class="text" style="color: #b15db1">rr123: opkg and rpm are equally good, dpkg less tested</td><td class="time"><a href="#t2021-03-24T19:08:39" class="time">19:08</a></td></tr>
<tr id="t2021-03-24T19:08:48"><th class="nick" style="background: #b15db1">rburton</th><td class="text" style="color: #b15db1">if you want to blast the build, just rm -rf tmp</td><td class="time"><a href="#t2021-03-24T19:08:48" class="time">19:08</a></td></tr>
<tr id="t2021-03-24T19:09:03"><th class="nick" style="background: #b15db1">rburton</th><td class="text" style="color: #b15db1">it can rebuild entirely from sstate-cache, so leave that be unless you'll never need it again</td><td class="time"><a href="#t2021-03-24T19:09:03" class="time">19:09</a></td></tr>
<tr id="t2021-03-24T19:10:05-2"><th class="nick" style="background: #ce6c6c">rr123</th><td class="text" style="color: #ce6c6c">itbake -c cleanall core-image-minimal&nbsp;&nbsp;-- does not really do much, it probablly only delete that final image</td><td class="time"><a href="#t2021-03-24T19:10:05-2" class="time">19:10</a></td></tr>
<tr id="t2021-03-24T19:10:39"><th class="nick" style="background: #ce6c6c">rr123</th><td class="text" style="color: #ce6c6c">yeah i don't need this for x86 so I intend to remove all sstate and tmp</td><td class="time"><a href="#t2021-03-24T19:10:39" class="time">19:10</a></td></tr>
<tr id="t2021-03-24T19:14:40"><td class="action" colspan="2">* rr123 did `rm -rf build` after saved the downloads directory there</td><td><a href="#t2021-03-24T19:14:40" class="time">19:14</a></td></tr>
<tr id="t2021-03-24T20:21:46"><th class="nick" style="background: #dc74dc">eFfeM</th><td class="text" style="color: #dc74dc">Hi, anyone an idea on the following: I'm trying to backport python 3.7.6 to yocto gatesgarth as I have a program that can't use 3.8 or 3.9..</td><td class="time"><a href="#t2021-03-24T20:21:46" class="time">20:21</a></td></tr>
<tr id="t2021-03-24T20:21:47"><th class="nick" style="background: #dc74dc">eFfeM</th><td class="text" style="color: #dc74dc">I copied over the recipe and all files, but when building the rootfs I get&nbsp;&nbsp;a compile error in meson-0.55.1</td><td class="time"><a href="#t2021-03-24T20:21:47" class="time">20:21</a></td></tr>
<tr id="t2021-03-24T20:21:58"><th class="nick" style="background: #dc74dc">eFfeM</th><td class="text" style="color: #dc74dc">&nbsp;&nbsp;&nbsp;&nbsp;from setuptools import setup</td><td class="time"><a href="#t2021-03-24T20:21:58" class="time">20:21</a></td></tr>
<tr id="t2021-03-24T20:21:58-2"><th class="nick" style="background: #dc74dc">eFfeM</th><td class="text" style="color: #dc74dc">ModuleNotFoundError: No module named 'setuptools</td><td class="time"><a href="#t2021-03-24T20:21:58-2" class="time">20:21</a></td></tr>
<tr id="t2021-03-24T20:23:33"><td class="part" colspan="2">*** beneth &lt;beneth!~beneth@irc.beneth.fr&gt; has left #yocto</td><td><a href="#t2021-03-24T20:23:33" class="time">20:23</a></td></tr>
<tr id="t2021-03-24T20:23:50"><th class="nick" style="background: #dc74dc">eFfeM</th><td class="text" style="color: #dc74dc">however the meson recipe has an&nbsp;&nbsp;&nbsp;&nbsp; inherit setuptools3 line</td><td class="time"><a href="#t2021-03-24T20:23:50" class="time">20:23</a></td></tr>
<tr id="t2021-03-24T20:24:51"><th class="nick" style="background: #dc74dc">eFfeM</th><td class="text" style="color: #dc74dc">any idea what can be wrong here? If I reset all of recipes-devtools to the last hash that has 3.7.6 everything builds but that gives me other old packages</td><td class="time"><a href="#t2021-03-24T20:24:51" class="time">20:24</a></td></tr>
<tr id="t2021-03-24T20:25:51"><th class="nick" style="background: #6464bf">vdl</th><td class="text" style="color: #6464bf">why package-management is an image feature and not a distro feature?</td><td class="time"><a href="#t2021-03-24T20:25:51" class="time">20:25</a></td></tr>
<tr id="t2021-03-24T21:33:31"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">vmeson: my concerns about valgrind seem founded ;-)</td><td class="time"><a href="#t2021-03-24T21:33:31" class="time">21:33</a></td></tr>
<tr id="t2021-03-24T21:43:13"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">Saur|home: I'm trying a slightly more invasive util-linux cleanup patch in master-next</td><td class="time"><a href="#t2021-03-24T21:43:13" class="time">21:43</a></td></tr>
<tr id="t2021-03-24T22:06:31"><td class="part" colspan="2">*** beneth &lt;beneth!~beneth@irc.beneth.fr&gt; has left #yocto</td><td><a href="#t2021-03-24T22:06:31" class="time">22:06</a></td></tr>
<tr id="t2021-03-24T22:48:26"><th class="nick" style="background: #ce6c6c">rr123</th><td class="text" style="color: #ce6c6c">is glibc the only officially supported c lib in yocto? any plan for official musl support</td><td class="time"><a href="#t2021-03-24T22:48:26" class="time">22:48</a></td></tr>
<tr id="t2021-03-24T22:49:02"><th class="nick" style="background: #ce6c6c">rr123</th><td class="text" style="color: #ce6c6c">where deep embedded system might find it useful(no gtk, no GUI, etc)</td><td class="time"><a href="#t2021-03-24T22:49:02" class="time">22:49</a></td></tr>
<tr id="t2021-03-24T22:49:05"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">rr123: musl is available</td><td class="time"><a href="#t2021-03-24T22:49:05" class="time">22:49</a></td></tr>
<tr id="t2021-03-24T22:49:37"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">rr123: poky-tiny uses it as one example</td><td class="time"><a href="#t2021-03-24T22:49:37" class="time">22:49</a></td></tr>
<tr id="t2021-03-24T22:56:26"><th class="nick" style="background: #ce6c6c">rr123</th><td class="text" style="color: #ce6c6c">it isn't 'extensively used' so I guess it provides a base for others to leverage, other than that you're on your own. will look into for more, so far the newest check in is 2020.8 for 5.8 kernel upgrade</td><td class="time"><a href="#t2021-03-24T22:56:26" class="time">22:56</a></td></tr>
<tr id="t2021-03-24T22:57:46"><th class="nick" style="background: #a25555">yates</th><td class="text" style="color: #a25555">i'm trying to do some RTS, but i'm getting this error when setting up the build environment: Please set a MACHINE in your local.conf or environment</td><td class="time"><a href="#t2021-03-24T22:57:46" class="time">22:57</a></td></tr>
<tr id="t2021-03-24T22:58:13"><th class="nick" style="background: #a25555">yates</th><td class="text" style="color: #a25555">the whole message is here: <a href="http://paste.ubuntu.com/p/375bZhGRZd/" rel="nofollow">http://paste.ubuntu.com/p/375bZhGRZd/</a></td><td class="time"><a href="#t2021-03-24T22:58:13" class="time">22:58</a></td></tr>
<tr id="t2021-03-24T22:58:19"><th class="nick" style="background: #a25555">yates</th><td class="text" style="color: #a25555">RTS == Really Tricky Shit</td><td class="time"><a href="#t2021-03-24T22:58:19" class="time">22:58</a></td></tr>
<tr id="t2021-03-24T22:58:50"><th class="nick" style="background: #a25555">yates</th><td class="text" style="color: #a25555">but there IS a conf/local.conf and it DOES have a MACHINE setting</td><td class="time"><a href="#t2021-03-24T22:58:50" class="time">22:58</a></td></tr>
<tr id="t2021-03-24T23:01:37"><th class="nick" style="background: #a25555">yates</th><td class="text" style="color: #a25555">and there is a layer added to bblayers.conf which has a conf/machine/xyz.conf file for the MACHINE setting xyz</td><td class="time"><a href="#t2021-03-24T23:01:37" class="time">23:01</a></td></tr>
<tr id="t2021-03-24T23:02:35"><th class="nick" style="background: #a25555">yates</th><td class="text" style="color: #a25555">here's my RTS: <a href="http://paste.ubuntu.com/p/wzxC2Cnj65/" rel="nofollow">http://paste.ubuntu.com/p/wzxC2Cnj65/</a></td><td class="time"><a href="#t2021-03-24T23:02:35" class="time">23:02</a></td></tr>
<tr id="t2021-03-24T23:03:14"><th class="nick" style="background: #a25555">yates</th><td class="text" style="color: #a25555">well, no. try here: <a href="http://paste.ubuntu.com/p/HTkBtw6jNj/" rel="nofollow">http://paste.ubuntu.com/p/HTkBtw6jNj/</a></td><td class="time"><a href="#t2021-03-24T23:03:14" class="time">23:03</a></td></tr>
<tr id="t2021-03-24T23:04:14"><th class="nick" style="background: #a25555">yates</th><td class="text" style="color: #a25555">are there any other environment variables setup by oe-init-build-env besides BBPATH, BB_ENV_EXTRAWHITE, and BUILDDIR?</td><td class="time"><a href="#t2021-03-24T23:04:14" class="time">23:04</a></td></tr>
<tr id="t2021-03-24T23:06:00"><th class="nick" style="background: #a25555">yates</th><td class="text" style="color: #a25555">also note that i did not emit all the comments into the local.conf file - shirley that doesn't matter?</td><td class="time"><a href="#t2021-03-24T23:06:00" class="time">23:06</a></td></tr>
<tr id="t2021-03-24T23:07:48"><th class="nick" style="background: #a25555">yates</th><td class="text" style="color: #a25555">RP: isn't there newlib too?</td><td class="time"><a href="#t2021-03-24T23:07:48" class="time">23:07</a></td></tr>
<tr id="t2021-03-24T23:12:29"><th class="nick" style="background: #ce6c6c">rr123</th><td class="text" style="color: #ce6c6c">for env is it 'bitbake -e'</td><td class="time"><a href="#t2021-03-24T23:12:29" class="time">23:12</a></td></tr>
<tr id="t2021-03-24T23:15:47"><th class="nick" style="background: #a25555">yates</th><td class="text" style="color: #a25555">rr123: are you talking to me?</td><td class="time"><a href="#t2021-03-24T23:15:47" class="time">23:15</a></td></tr>
<tr id="t2021-03-24T23:28:38"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">rr123: we do test world builds for musl so it does have some support</td><td class="time"><a href="#t2021-03-24T23:28:38" class="time">23:28</a></td></tr>
<tr id="t2021-03-24T23:29:31"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">yates: yes, there is a newlib option</td><td class="time"><a href="#t2021-03-24T23:29:31" class="time">23:29</a></td></tr>
<tr id="t2021-03-24T23:29:59"><th class="nick" style="background: #9b519b">RP</th><td class="text" style="color: #9b519b">yates: that error means MACHINE wasn't set when bitbake checked it so somehow it isn't being set</td><td class="time"><a href="#t2021-03-24T23:29:59" class="time">23:29</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2021-03-23.log.html">&#171; Tuesday, 2021-03-23</a> <a href="index.html">Index</a> <a href="%23yocto.2021-03-25.log.html">Thursday, 2021-03-25 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.17.2 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="https://mg.pov.lt/irclog2html/">https://mg.pov.lt/irclog2html/</a>!</p>
</div>
</body>
</html>
