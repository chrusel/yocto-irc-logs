<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Wednesday, 2021-07-14</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.17.2 by Marius Gedminas" />
  <meta name="version" content="2.17.2 - 2019-04-23" />
</head>
<body>
<h1>Wednesday, 2021-07-14</h1>
<div class="navigation"> <a href="%23yocto.2021-07-13.log.html">&#171; Tuesday, 2021-07-13</a> <a href="index.html">Index</a> <a href="%23yocto.2021-07-15.log.html">Thursday, 2021-07-15 &#187;</a> </div>
<table class="irclog">
<tr id="t2021-07-14T00:42:27-2"><td class="nickchange" colspan="2">*** camus1 is now known as camus</td><td><a href="#t2021-07-14T00:42:27-2" class="time">00:42</a></td></tr>
<tr id="t2021-07-14T01:24:35"><td class="nickchange" colspan="2">*** camus1 is now known as camus</td><td><a href="#t2021-07-14T01:24:35" class="time">01:24</a></td></tr>
<tr id="t2021-07-14T02:15:15"><th class="nick" style="background: #407a40">whuang0389</th><td class="text" style="color: #407a40">why? source poky/oe-init-build-env</td><td class="time"><a href="#t2021-07-14T02:15:15" class="time">02:15</a></td></tr>
<tr id="t2021-07-14T02:15:16"><th class="nick" style="background: #407a40">whuang0389</th><td class="text" style="color: #407a40">Error: The bitbake directory (/home/whuang/repos/tmp2/yocto/layers/bitbake) does not exist!&nbsp;&nbsp;Please ensure a copy of bitbake exists at this location or specify an alternative path on the command line</td><td class="time"><a href="#t2021-07-14T02:15:16" class="time">02:15</a></td></tr>
<tr id="t2021-07-14T02:16:04"><th class="nick" style="background: #407a40">whuang0389</th><td class="text" style="color: #407a40">meh nvm i refreshed my shell</td><td class="time"><a href="#t2021-07-14T02:16:04" class="time">02:16</a></td></tr>
<tr id="t2021-07-14T02:43:41-2"><td class="nickchange" colspan="2">*** camus1 is now known as camus</td><td><a href="#t2021-07-14T02:43:41-2" class="time">02:43</a></td></tr>
<tr id="t2021-07-14T04:55:49"><td class="nickchange" colspan="2">*** camus1 is now known as camus</td><td><a href="#t2021-07-14T04:55:49" class="time">04:55</a></td></tr>
<tr id="t2021-07-14T06:46:00"><th class="nick" style="background: #42427e">mihai</th><td class="text" style="color: #42427e">good morning!</td><td class="time"><a href="#t2021-07-14T06:46:00" class="time">06:46</a></td></tr>
<tr id="t2021-07-14T07:11:24"><td class="nickchange" colspan="2">*** zyga_ is now known as zyga</td><td><a href="#t2021-07-14T07:11:24" class="time">07:11</a></td></tr>
<tr id="t2021-07-14T08:01:28"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">yo dudX</td><td class="time"><a href="#t2021-07-14T08:01:28" class="time">08:01</a></td></tr>
<tr id="t2021-07-14T08:07:43"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">howdy</td><td class="time"><a href="#t2021-07-14T08:07:43" class="time">08:07</a></td></tr>
<tr id="t2021-07-14T08:19:54"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">morning!</td><td class="time"><a href="#t2021-07-14T08:19:54" class="time">08:19</a></td></tr>
<tr id="t2021-07-14T08:20:49"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">RP: indeed.</td><td class="time"><a href="#t2021-07-14T08:20:49" class="time">08:20</a></td></tr>
<tr id="t2021-07-14T08:25:54"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">LetoThe2nd: I see that you're working hard on your dad jokes :)</td><td class="time"><a href="#t2021-07-14T08:25:54" class="time">08:25</a></td></tr>
<tr id="t2021-07-14T08:26:16"><td class="nickchange" colspan="2">*** zyga_ is now known as zyga</td><td><a href="#t2021-07-14T08:26:16" class="time">08:26</a></td></tr>
<tr id="t2021-07-14T08:27:18"><th class="nick" style="background: #8c4a4a">florian</th><td class="text" style="color: #8c4a4a">good morning</td><td class="time"><a href="#t2021-07-14T08:27:18" class="time">08:27</a></td></tr>
<tr id="t2021-07-14T08:29:05"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">qschulz: i am absolutely entitled to do so.</td><td class="time"><a href="#t2021-07-14T08:29:05" class="time">08:29</a></td></tr>
<tr id="t2021-07-14T08:34:49"><th class="nick" style="background: #4b904b">Schlumpf</th><td class="text" style="color: #4b904b">Hi all, is there any chance to append or override a do_compile_prepend() command of a .bb file in a .bbappend file?</td><td class="time"><a href="#t2021-07-14T08:34:49" class="time">08:34</a></td></tr>
<tr id="t2021-07-14T08:35:12"><th class="nick" style="background: #4b904b">Schlumpf</th><td class="text" style="color: #4b904b">*overwrite</td><td class="time"><a href="#t2021-07-14T08:35:12" class="time">08:35</a></td></tr>
<tr id="t2021-07-14T08:35:50"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">Schlumpf: I don't think so</td><td class="time"><a href="#t2021-07-14T08:35:50" class="time">08:35</a></td></tr>
<tr id="t2021-07-14T08:37:30"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">so your only way out (at least, whichcomes to mind right now) would be to make do_compile[noexec] = &quot;1&quot; and then put the content of your do_compile into a task that is put after (or before?) do_compile</td><td class="time"><a href="#t2021-07-14T08:37:30" class="time">08:37</a></td></tr>
<tr id="t2021-07-14T08:38:17"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">&quot;yo dawg, we heard you like overrides, so put overwrites in your override.... erm, nevermind.&quot; &lt;/xzibit&gt;</td><td class="time"><a href="#t2021-07-14T08:38:17" class="time">08:38</a></td></tr>
<tr id="t2021-07-14T08:38:51"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">you can reuse do_compile from classes (if there are any), directly within that new task if you want (e.g. cmake_do_compile)</td><td class="time"><a href="#t2021-07-14T08:38:51" class="time">08:38</a></td></tr>
<tr id="t2021-07-14T08:39:51"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">Schlumpf: you can make your _prepend override-specific if it's possible for you to modify the recipe/bbappend in which it is set</td><td class="time"><a href="#t2021-07-14T08:39:51" class="time">08:39</a></td></tr>
<tr id="t2021-07-14T08:40:06"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">for variables, you could have used _remove though not nice</td><td class="time"><a href="#t2021-07-14T08:40:06" class="time">08:40</a></td></tr>
<tr id="t2021-07-14T08:40:17"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">I don</td><td class="time"><a href="#t2021-07-14T08:40:17" class="time">08:40</a></td></tr>
<tr id="t2021-07-14T08:40:25"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">'t think it exsist for tasks</td><td class="time"><a href="#t2021-07-14T08:40:25" class="time">08:40</a></td></tr>
<tr id="t2021-07-14T08:52:21"><th class="nick" style="background: #4b904b">Schlumpf</th><td class="text" style="color: #4b904b">Many thanks, prepending the underlying class of the compile command did the job.</td><td class="time"><a href="#t2021-07-14T08:52:21" class="time">08:52</a></td></tr>
<tr id="t2021-07-14T09:25:59-2"><td class="nickchange" colspan="2">*** camus1 is now known as camus</td><td><a href="#t2021-07-14T09:25:59-2" class="time">09:25</a></td></tr>
<tr id="t2021-07-14T09:48:06"><th class="nick" style="background: #4d4d93">splatch</th><td class="text" style="color: #4d4d93">LetoThe2nd: are you dad now?</td><td class="time"><a href="#t2021-07-14T09:48:06" class="time">09:48</a></td></tr>
<tr id="t2021-07-14T09:48:45"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">splatch: &quot;now&quot;.. since more than 7 years already.</td><td class="time"><a href="#t2021-07-14T09:48:45" class="time">09:48</a></td></tr>
<tr id="t2021-07-14T09:50:13"><th class="nick" style="background: #4d4d93">splatch</th><td class="text" style="color: #4d4d93">LetoThe2nd: guess I am too late to send gratulations ;-)</td><td class="time"><a href="#t2021-07-14T09:50:13" class="time">09:50</a></td></tr>
<tr id="t2021-07-14T09:51:21"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">splatch: heh, somewhat, yeah.</td><td class="time"><a href="#t2021-07-14T09:51:21" class="time">09:51</a></td></tr>
<tr id="t2021-07-14T09:53:50"><th class="nick" style="background: #4d4d93">splatch</th><td class="text" style="color: #4d4d93">anyhow, I will throw a question which is somewhat close and far from yocto itself. OTA. I noticed there are multiple ways of doing it, there is rauc, mender, swupdate and others which handle it. Anyone has any remarks related to above or other things which would like to share? I am currently working with swupdate, but I am not entirely happy with it.</td><td class="time"><a href="#t2021-07-14T09:53:50" class="time">09:53</a></td></tr>
<tr id="t2021-07-14T09:55:05"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">an old colleage was very happy with swupdate for their setup</td><td class="time"><a href="#t2021-07-14T09:55:05" class="time">09:55</a></td></tr>
<tr id="t2021-07-14T09:55:42"><th class="nick" style="background: #4d4d93">splatch</th><td class="text" style="color: #4d4d93">rburton: can you refer if it was microcontroller, embedded/gateway device, ipc or something else?</td><td class="time"><a href="#t2021-07-14T09:55:42" class="time">09:55</a></td></tr>
<tr id="t2021-07-14T09:55:54"><th class="nick" style="background: #97974f">rburton</th><td class="text" style="color: #97974f">handheld device</td><td class="time"><a href="#t2021-07-14T09:55:54" class="time">09:55</a></td></tr>
<tr id="t2021-07-14T09:55:54-2"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">splatch: I think it would make sense to expose the reasons why you're not happy with swupdate</td><td class="time"><a href="#t2021-07-14T09:55:54-2" class="time">09:55</a></td></tr>
<tr id="t2021-07-14T10:00:12"><th class="nick" style="background: #4d4d93">splatch</th><td class="text" style="color: #4d4d93">qschulz: yeah, I think these are mainly on my end, yet I find it hard to fix. I see swupdate documentation quite sparse and sometimes written with assumption that reader knows the tool. In my case it is rather opposite. Comparing documentation itself, swupdate seems to be quite low in comparison to others. There were also some technical challanges such as USB update not working out of the box with warrior.</td><td class="time"><a href="#t2021-07-14T10:00:12" class="time">10:00</a></td></tr>
<tr id="t2021-07-14T10:00:18"><th class="nick" style="background: #4d4d93">splatch</th><td class="text" style="color: #4d4d93">It did improve lately, yet I had to sacrifice fair amount of time to trace it down. Now I am stuck with a failing update which seems to be related to update image contents. As far I can find description how to verify signatures of signed files I can't find any pointers how to inspect image itself (beside format description), which I would assume kind of semi standard task.</td><td class="time"><a href="#t2021-07-14T10:00:18" class="time">10:00</a></td></tr>
<tr id="t2021-07-14T10:01:12"><th class="nick" style="background: #4d4d93">splatch</th><td class="text" style="color: #4d4d93">I can't talk really about lover level stuff (ie bootloader update) cause I am stuck with things way above of the advanced features.</td><td class="time"><a href="#t2021-07-14T10:01:12" class="time">10:01</a></td></tr>
<tr id="t2021-07-14T10:03:49"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">splatch: well its a matter of perspective. swupdate is a classic &quot;scratch your own itch&quot; open source project, whereas mender is a commercial product.</td><td class="time"><a href="#t2021-07-14T10:03:49" class="time">10:03</a></td></tr>
<tr id="t2021-07-14T10:04:21-2"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">i think rauc is somewhere in between</td><td class="time"><a href="#t2021-07-14T10:04:21-2" class="time">10:04</a></td></tr>
<tr id="t2021-07-14T10:04:53"><th class="nick" style="background: #9b519b">ejoerns[m]</th><td class="text" style="color: #9b519b">splatch: despite these update frameworks solve many&nbsp;&nbsp;pain-points already, I would bet you run into issues during integration with all of them. Thus I would not take this instantly as a hint to switch the framework. Having all components working tightly together in a reliable way is probably almost all times at least a little bit of pain ;)</td><td class="time"><a href="#t2021-07-14T10:04:53" class="time">10:04</a></td></tr>
<tr id="t2021-07-14T10:04:55"><th class="nick" style="background: #4d4d93">splatch</th><td class="text" style="color: #4d4d93">yes, I see this difference very well, I am well aware of such thing cause I do work with adoption of another oss project &gt; product deployment on top of gardware</td><td class="time"><a href="#t2021-07-14T10:04:55" class="time">10:04</a></td></tr>
<tr id="t2021-07-14T10:05:44"><th class="nick" style="background: #4d4d93">splatch</th><td class="text" style="color: #4d4d93">it looks like never ending story, especially when rolling updates are involved ;)</td><td class="time"><a href="#t2021-07-14T10:05:44" class="time">10:05</a></td></tr>
<tr id="t2021-07-14T10:06:14"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">splatch: just FYI, meta-swupdate is regularly updated, even for old releases of Yocto IIRC</td><td class="time"><a href="#t2021-07-14T10:06:14" class="time">10:06</a></td></tr>
<tr id="t2021-07-14T10:06:26"><th class="nick" style="background: #9b519b">ejoerns[m]</th><td class="text" style="color: #9b519b">LetoThe2nd: no RAUC is fully open source, too ;)</td><td class="time"><a href="#t2021-07-14T10:06:26" class="time">10:06</a></td></tr>
<tr id="t2021-07-14T10:06:27"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">I had a look at thud support a few months ago and it was supporting the latest version of swupdate</td><td class="time"><a href="#t2021-07-14T10:06:27" class="time">10:06</a></td></tr>
<tr id="t2021-07-14T10:06:52"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">so if there are bugs in swupdate, it's pretty easy to stay up-to-date (at least on the side of Yocto :) )</td><td class="time"><a href="#t2021-07-14T10:06:52" class="time">10:06</a></td></tr>
<tr id="t2021-07-14T10:08:14"><th class="nick" style="background: #9b519b">ejoerns[m]</th><td class="text" style="color: #9b519b">qschulz: not sure if you should stick to thud when being able to update and caring for a minimus of security... ;) its EOL for some time now</td><td class="time"><a href="#t2021-07-14T10:08:14" class="time">10:08</a></td></tr>
<tr id="t2021-07-14T10:08:26"><th class="nick" style="background: #4d4d93">splatch</th><td class="text" style="color: #4d4d93">that's quite good message since I do yocto stuff once a year (July-August)</td><td class="time"><a href="#t2021-07-14T10:08:26" class="time">10:08</a></td></tr>
<tr id="t2021-07-14T10:08:32"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">ejoerns[m]: i wasn't referring to the license model, but the different mission backgrounds.</td><td class="time"><a href="#t2021-07-14T10:08:32" class="time">10:08</a></td></tr>
<tr id="t2021-07-14T10:09:42"><th class="nick" style="background: #4d4d93">splatch</th><td class="text" style="color: #4d4d93">I believe main battle goes not over the tool but service which can be sold on subscription basis. This is clearly what mander does, not sure about rauc, but there is one more tool I noticed which does pretty much the same</td><td class="time"><a href="#t2021-07-14T10:09:42" class="time">10:09</a></td></tr>
<tr id="t2021-07-14T10:10:18"><th class="nick" style="background: #4d4d93">splatch</th><td class="text" style="color: #4d4d93">right, it is a blynkkk</td><td class="time"><a href="#t2021-07-14T10:10:18" class="time">10:10</a></td></tr>
<tr id="t2021-07-14T10:11:41"><th class="nick" style="background: #9b519b">ejoerns[m]</th><td class="text" style="color: #9b519b">LetoThe2nd: I would expect both to have the same mission background ;) but would be interesting to hear how you perceive this difference :)</td><td class="time"><a href="#t2021-07-14T10:11:41" class="time">10:11</a></td></tr>
<tr id="t2021-07-14T10:12:33"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">ejoerns[m]: &quot;both&quot; when there are already three things mentioned? ;-)</td><td class="time"><a href="#t2021-07-14T10:12:33" class="time">10:12</a></td></tr>
<tr id="t2021-07-14T10:13:43"><th class="nick" style="background: #9b519b">ejoerns[m]</th><td class="text" style="color: #9b519b">splatch: yes, mender has both an open source and a supscription part. And it focuses on deployment / hosting services which swupdate and RAUC does not. The full capability of mender you will probably only get with the paid service. but you could also use their server infrastructure and use a custom update client (at least theoretically)</td><td class="time"><a href="#t2021-07-14T10:13:43" class="time">10:13</a></td></tr>
<tr id="t2021-07-14T10:14:44"><th class="nick" style="background: #9b519b">ejoerns[m]</th><td class="text" style="color: #9b519b">LetoThe2nd: To my understanding the pool of 'fully open source' was already shrunken to swupdate + RAUC ;)</td><td class="time"><a href="#t2021-07-14T10:14:44" class="time">10:14</a></td></tr>
<tr id="t2021-07-14T10:15:08"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">ejoerns[m]: not my problem anymore :) (re: EOL)</td><td class="time"><a href="#t2021-07-14T10:15:08" class="time">10:15</a></td></tr>
<tr id="t2021-07-14T10:15:20"><th class="nick" style="background: #4d4d93">splatch</th><td class="text" style="color: #4d4d93">ejoerns[m]: at scale I am currently are I am far from looking for paid options (I pay with own pain if necessary), if I would have 1000s of devices then yes, their model would simplify my life. Since I expect 10 units deployed this/next year I will rather stay with USB or manunal update.</td><td class="time"><a href="#t2021-07-14T10:15:20" class="time">10:15</a></td></tr>
<tr id="t2021-07-14T10:16:24"><th class="nick" style="background: #4d4d93">splatch</th><td class="text" style="color: #4d4d93">what I actually liked in mender way was clear separation of update steps and &quot;hooks&quot; which you in theory could get into with scripts and so on. For swupdate I do see pre/post hooks alone and nothing more.</td><td class="time"><a href="#t2021-07-14T10:16:24" class="time">10:16</a></td></tr>
<tr id="t2021-07-14T10:18:17"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">splatch: you can write your own handlers in swupdate, so feel free to implement what you want for your scripts ;)</td><td class="time"><a href="#t2021-07-14T10:18:17" class="time">10:18</a></td></tr>
<tr id="t2021-07-14T10:18:43"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">ejoerns[m]: hehe yes, but i'm not gonna do the OSS zealot thing there. so i am purely looking at the background/mission statements, which sound to me a lot like: 1)swupdate: scratch-your-own-itch by stefano. others are invited to use it, but its not the main goal. 2) rauc: make-a-product-to-solve-own-problem by ptx. it being a product means that it being used by others is at least encouraged. 3) mender: create a product and sell</td><td class="time"><a href="#t2021-07-14T10:18:43" class="time">10:18</a></td></tr>
<tr id="t2021-07-14T10:18:43-2"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">it. the OSS part seems to be merely a door opener/sales argument.</td><td class="time"><a href="#t2021-07-14T10:18:43-2" class="time">10:18</a></td></tr>
<tr id="t2021-07-14T10:19:36"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">ejoerns[m]: please note that this is specifically my own personal perception of things, which might or might not be correct.</td><td class="time"><a href="#t2021-07-14T10:19:36" class="time">10:19</a></td></tr>
<tr id="t2021-07-14T10:19:59"><th class="nick" style="background: #4d4d93">splatch</th><td class="text" style="color: #4d4d93">there are cases where oss is in theory needed to sell since recipient can think of switching vendor, it barely happens but public/military sector could favor such a way</td><td class="time"><a href="#t2021-07-14T10:19:59" class="time">10:19</a></td></tr>
<tr id="t2021-07-14T10:21:02"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">&quot;it all depends.&quot; (TM)</td><td class="time"><a href="#t2021-07-14T10:21:02" class="time">10:21</a></td></tr>
<tr id="t2021-07-14T10:21:43"><th class="nick" style="background: #4d4d93">splatch</th><td class="text" style="color: #4d4d93">qschulz: first, I need to get two or three steps 1) understand the tool 2) understand its apis 3) understand (read as learn) C or Lua. Then I will be set!</td><td class="time"><a href="#t2021-07-14T10:21:43" class="time">10:21</a></td></tr>
<tr id="t2021-07-14T10:27:59"><th class="nick" style="background: #9b519b">ejoerns[m]</th><td class="text" style="color: #9b519b">LetoThe2nd: thanks for this insight :) I don't want do comment or rate this as I am not really an independent observer but it's interesting to hear ;)</td><td class="time"><a href="#t2021-07-14T10:27:59" class="time">10:27</a></td></tr>
<tr id="t2021-07-14T10:28:43"><th class="nick" style="background: #4d4d93">splatch</th><td class="text" style="color: #4d4d93">now, as I did engage some of you I will throw my trouble :)</td><td class="time"><a href="#t2021-07-14T10:28:43" class="time">10:28</a></td></tr>
<tr id="t2021-07-14T10:28:44"><th class="nick" style="background: #4d4d93">splatch</th><td class="text" style="color: #4d4d93"><a href="https://gist.github.com/splatch/434a8bd842d61033e017f6a1e0cc45a3" rel="nofollow">https://gist.github.com/splatch/434a8bd842d61033e017f6a1e0cc45a3</a></td><td class="time"><a href="#t2021-07-14T10:28:44" class="time">10:28</a></td></tr>
<tr id="t2021-07-14T10:29:40"><th class="nick" style="background: #4d4d93">splatch</th><td class="text" style="color: #4d4d93">uname returns different result than modules packaged with update image, update image is feed from .ext4.gz or direct.p2.gz (another invention through custom patch to wic), both result in same trouble. Missalignment of kernel version and modules.</td><td class="time"><a href="#t2021-07-14T10:29:40" class="time">10:29</a></td></tr>
<tr id="t2021-07-14T10:30:21"><th class="nick" style="background: #4d4d93">splatch</th><td class="text" style="color: #4d4d93">my build/layer is configured wih PREFERRED_VERSION_linux-intel=&quot;5.10%&quot; and PREFERRED_PROVIDER_virtual/kernel = &quot;linux-intel&quot;</td><td class="time"><a href="#t2021-07-14T10:30:21" class="time">10:30</a></td></tr>
<tr id="t2021-07-14T10:30:30"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">ejoerns[m]: :)</td><td class="time"><a href="#t2021-07-14T10:30:30" class="time">10:30</a></td></tr>
<tr id="t2021-07-14T10:31:07"><th class="nick" style="background: #4d4d93">splatch</th><td class="text" style="color: #4d4d93">I can't find really any references to 4.19.80, this is really an previous system release running on the device.</td><td class="time"><a href="#t2021-07-14T10:31:07" class="time">10:31</a></td></tr>
<tr id="t2021-07-14T10:31:16"><th class="nick" style="background: #4d4d93">splatch</th><td class="text" style="color: #4d4d93">do I have some boot trouble or something?</td><td class="time"><a href="#t2021-07-14T10:31:16" class="time">10:31</a></td></tr>
<tr id="t2021-07-14T10:32:06"><th class="nick" style="background: #4d4d93">splatch</th><td class="text" style="color: #4d4d93">first line of my dmesg says [&nbsp;&nbsp;&nbsp;&nbsp;0.000000] Linux version 4.19.80-intel-pk-standard (oe-user@oe-host) (gcc version 8.3.0 (GCC)) #1 SMP PREEMPT Mon Jul 13 12:50:56 UTC 2020</td><td class="time"><a href="#t2021-07-14T10:32:06" class="time">10:32</a></td></tr>
<tr id="t2021-07-14T10:32:16"><th class="nick" style="background: #4d4d93">splatch</th><td class="text" style="color: #4d4d93">so it is wrongly booted</td><td class="time"><a href="#t2021-07-14T10:32:16" class="time">10:32</a></td></tr>
<tr id="t2021-07-14T10:32:25"><th class="nick" style="background: #9b519b">ejoerns[m]</th><td class="text" style="color: #9b519b">splatch: you could inspect the image you build and then packed into the update to see if that contains the expected artifacts. This will probably tell you if its a build-system issue or if something during the update went wrong</td><td class="time"><a href="#t2021-07-14T10:32:25" class="time">10:32</a></td></tr>
<tr id="t2021-07-14T10:33:54"><th class="nick" style="background: #4d4d93">splatch</th><td class="text" style="color: #4d4d93">the more I look into it the more I am convinced it is my mistake, cause swupdate does the flashing and does switch partitions just fine, what goes odd is a boot argument.</td><td class="time"><a href="#t2021-07-14T10:33:54" class="time">10:33</a></td></tr>
<tr id="t2021-07-14T10:35:21"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">splatch: so you are having a &quot;boot argument&quot; muahahahaha</td><td class="time"><a href="#t2021-07-14T10:35:21" class="time">10:35</a></td></tr>
<tr id="t2021-07-14T10:35:40"><td class="action" colspan="2">* LetoThe2nd feels mightly proud to get the dad joke thing done so well!</td><td><a href="#t2021-07-14T10:35:40" class="time">10:35</a></td></tr>
<tr id="t2021-07-14T10:42:29"><th class="nick" style="background: #4d4d93">splatch</th><td class="text" style="color: #4d4d93">das klasik! <a href="https://www.youtube.com/watch?v=RYQUsp-jxDQ" rel="nofollow">https://www.youtube.com/watch?v=RYQUsp-jxDQ</a></td><td class="time"><a href="#t2021-07-14T10:42:29" class="time">10:42</a></td></tr>
<tr id="t2021-07-14T10:46:33"><td class="nickchange" colspan="2">*** camus1 is now known as camus</td><td><a href="#t2021-07-14T10:46:33" class="time">10:46</a></td></tr>
<tr id="t2021-07-14T10:48:43"><th class="nick" style="background: #4d4d93">splatch</th><td class="text" style="color: #4d4d93">LetoThe2nd: so, there is a thing with a boot, my first image did not have fsck enabled by default and now I'd like to fix it. I've tried to enable it via kernel argument coming from wic bootloader options. While it will fix issue with new installations where I flash image I would need to do a bootloader update with older installations. I found a way to compile in fsck into kernel commandline options, yet I</td><td class="time"><a href="#t2021-07-14T10:48:43" class="time">10:48</a></td></tr>
<tr id="t2021-07-14T10:48:49"><th class="nick" style="background: #4d4d93">splatch</th><td class="text" style="color: #4d4d93">am not certain what happens later with it.</td><td class="time"><a href="#t2021-07-14T10:48:49" class="time">10:48</a></td></tr>
<tr id="t2021-07-14T10:53:35"><th class="nick" style="background: #539e9e">dvorkindmitry</th><td class="text" style="color: #539e9e">may I set PACKAGE_FEED_ARCHS in the machine config, not in distro (I have MC: configuration)?</td><td class="time"><a href="#t2021-07-14T10:53:35" class="time">10:53</a></td></tr>
<tr id="t2021-07-14T11:08:25"><th class="nick" style="background: #4d4d93">splatch</th><td class="text" style="color: #4d4d93">.. looks like I will have to update bootloader anyway..</td><td class="time"><a href="#t2021-07-14T11:08:25" class="time">11:08</a></td></tr>
<tr id="t2021-07-14T11:18:55-2"><td class="nickchange" colspan="2">*** camus1 is now known as camus</td><td><a href="#t2021-07-14T11:18:55-2" class="time">11:18</a></td></tr>
<tr id="t2021-07-14T12:54:08"><th class="nick" style="background: #a25555">v2d</th><td class="text" style="color: #a25555">hi all -- does a multiconfig configuration file takes precedence over a machine configuration file, or the opposite?</td><td class="time"><a href="#t2021-07-14T12:54:08" class="time">12:54</a></td></tr>
<tr id="t2021-07-14T12:56:22"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">v2d: best to think of a mc as &quot;an additional local.conf customization&quot;</td><td class="time"><a href="#t2021-07-14T12:56:22" class="time">12:56</a></td></tr>
<tr id="t2021-07-14T12:56:51"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">v2d: hence, it technically can overwrite anything that the machine config sets, but its a rather bad practise i'd say.</td><td class="time"><a href="#t2021-07-14T12:56:51" class="time">12:56</a></td></tr>
<tr id="t2021-07-14T12:58:52"><th class="nick" style="background: #a25555">v2d</th><td class="text" style="color: #a25555">LetoThe2nd it seems like a good idea to isolate customer configuration such as defining a different TMPDIR and tweaking the default image (for different keys or password for example)</td><td class="time"><a href="#t2021-07-14T12:58:52" class="time">12:58</a></td></tr>
<tr id="t2021-07-14T12:59:57"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">v2d: &quot;it depends&quot; (TM) (as usual)</td><td class="time"><a href="#t2021-07-14T12:59:57" class="time">12:59</a></td></tr>
<tr id="t2021-07-14T13:01:21"><th class="nick" style="background: #a25555">v2d</th><td class="text" style="color: #a25555">so you can build mc:customer:hw-default-image or something.We'll see how it goes</td><td class="time"><a href="#t2021-07-14T13:01:21" class="time">13:01</a></td></tr>
<tr id="t2021-07-14T13:02:37"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">v2d: This is exactly what we do. In fact, we even wrote a tool to manage it for you: <a href="https://github.com/garmin/whisk" rel="nofollow">https://github.com/garmin/whisk</a></td><td class="time"><a href="#t2021-07-14T13:02:37" class="time">13:02</a></td></tr>
<tr id="t2021-07-14T13:04:48"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">JPEW: you're everywhere :D</td><td class="time"><a href="#t2021-07-14T13:04:48" class="time">13:04</a></td></tr>
<tr id="t2021-07-14T13:07:39"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">JPEW: i hereby declare that &quot;whiskex&quot; means &quot;building in pyrex using whisk&quot;.</td><td class="time"><a href="#t2021-07-14T13:07:39" class="time">13:07</a></td></tr>
<tr id="t2021-07-14T13:07:50"><td class="action" colspan="2">* LetoThe2nd is off whiskexing.</td><td><a href="#t2021-07-14T13:07:50" class="time">13:07</a></td></tr>
<tr id="t2021-07-14T13:08:30"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">LetoThe2nd: Well, whisk *does* have &quot;native&quot; Pyrex support, for obvious reasons :)</td><td class="time"><a href="#t2021-07-14T13:08:30" class="time">13:08</a></td></tr>
<tr id="t2021-07-14T13:08:52"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657"><a href="https://github.com/garmin/whisk#building-in-a-container" rel="nofollow">https://github.com/garmin/whisk#building-in-a-container</a></td><td class="time"><a href="#t2021-07-14T13:08:52" class="time">13:08</a></td></tr>
<tr id="t2021-07-14T13:09:06"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">who cares about real support when we can have fun with crazy names instead?</td><td class="time"><a href="#t2021-07-14T13:09:06" class="time">13:09</a></td></tr>
<tr id="t2021-07-14T13:10:04"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">LetoThe2nd: Next time I need to name something, I'm going to ask you.... I find it one of the hardest parts :)</td><td class="time"><a href="#t2021-07-14T13:10:04" class="time">13:10</a></td></tr>
<tr id="t2021-07-14T13:11:06"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">JPEW: yes please!</td><td class="time"><a href="#t2021-07-14T13:11:06" class="time">13:11</a></td></tr>
<tr id="t2021-07-14T13:11:15"><td class="action" colspan="2">* paulg wonders what happened to LetoThe1st</td><td><a href="#t2021-07-14T13:11:15" class="time">13:11</a></td></tr>
<tr id="t2021-07-14T13:11:19"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">As it happens, our company even has a mild fascination with umlauts ;)</td><td class="time"><a href="#t2021-07-14T13:11:19" class="time">13:11</a></td></tr>
<tr id="t2021-07-14T13:12:45"><th class="nick" style="background: #a25555">v2d</th><td class="text" style="color: #a25555">I'm currently using kas, but I'll keep an eye on whisk</td><td class="time"><a href="#t2021-07-14T13:12:45" class="time">13:12</a></td></tr>
<tr id="t2021-07-14T13:13:33"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">paulg: according to my persona folklore, he was my gradfather and died while carrying out a suicidal assault on baron wladimir harkonnen, shortly after sending my grandmother and father off into the desert to seek refuge with the fremen.</td><td class="time"><a href="#t2021-07-14T13:13:33" class="time">13:13</a></td></tr>
<tr id="t2021-07-14T13:14:29"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">Maybe I should start on those books.... I ran out of my usual reading fodder</td><td class="time"><a href="#t2021-07-14T13:14:29" class="time">13:14</a></td></tr>
<tr id="t2021-07-14T13:16:30"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">JPEW: unless you are into a somewhat weird scifi-politics conglomerate which decays into weird musings on violence, drugs and various &quot;adult&quot; mindwashing techniques, don't do.</td><td class="time"><a href="#t2021-07-14T13:16:30" class="time">13:16</a></td></tr>
<tr id="t2021-07-14T13:18:05"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">LetoThe2nd: Ah... maybe I'll just watch the movie instead then :)</td><td class="time"><a href="#t2021-07-14T13:18:05" class="time">13:18</a></td></tr>
<tr id="t2021-07-14T13:19:32"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">JPEW: well my nickname has a kind of personal history, but in a nutshell, the character is a 3500year old sandworm, god emperor of the known universe and quite the asshole. felt appropriate.</td><td class="time"><a href="#t2021-07-14T13:19:32" class="time">13:19</a></td></tr>
<tr id="t2021-07-14T13:20:09"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">LetoThe2nd: You've aged well</td><td class="time"><a href="#t2021-07-14T13:20:09" class="time">13:20</a></td></tr>
<tr id="t2021-07-14T13:20:23"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">thanks.</td><td class="time"><a href="#t2021-07-14T13:20:23" class="time">13:20</a></td></tr>
<tr id="t2021-07-14T13:23:09"><th class="nick" style="background: #5959a9">paulg</th><td class="text" style="color: #5959a9">Stay away from Fred Ward and Kevin Bacon.</td><td class="time"><a href="#t2021-07-14T13:23:09" class="time">13:23</a></td></tr>
<tr id="t2021-07-14T13:24:02"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">paulg: ?</td><td class="time"><a href="#t2021-07-14T13:24:02" class="time">13:24</a></td></tr>
<tr id="t2021-07-14T13:25:59"><th class="nick" style="background: #5959a9">paulg</th><td class="text" style="color: #5959a9"><a href="https://www.imdb.com/title/tt0100814/?ref_=nm_flmg_act_63" rel="nofollow">https://www.imdb.com/title/tt0100814/?ref_=nm_flmg_act_63</a></td><td class="time"><a href="#t2021-07-14T13:25:59" class="time">13:25</a></td></tr>
<tr id="t2021-07-14T13:26:39"><th class="nick" style="background: #5959a9">paulg</th><td class="text" style="color: #5959a9">Spoof sci fi of the 1990s where they go on a killing spree of giant sandworms.</td><td class="time"><a href="#t2021-07-14T13:26:39" class="time">13:26</a></td></tr>
<tr id="t2021-07-14T13:27:20"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">sounds perfectly sensible to me.</td><td class="time"><a href="#t2021-07-14T13:27:20" class="time">13:27</a></td></tr>
<tr id="t2021-07-14T13:28:53"><th class="nick" style="background: #adad5b">RobertBerger</th><td class="text" style="color: #adad5b">@LetoThe2nd: Oida. A much more interesting question is why LetoThe2nd is not called LetoThe3rd. The answer is here: <a href="http://www.faqs.org/faqs/sf/dune-faq/part1/" rel="nofollow">http://www.faqs.org/faqs/sf/dune-faq/part1/</a></td><td class="time"><a href="#t2021-07-14T13:28:53" class="time">13:28</a></td></tr>
<tr id="t2021-07-14T13:30:35"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">RobertBerger: little to add.</td><td class="time"><a href="#t2021-07-14T13:30:35" class="time">13:30</a></td></tr>
<tr id="t2021-07-14T13:42:30"><th class="nick" style="background: #539e9e">dvorkindmitry</th><td class="text" style="color: #539e9e">may I set PACKAGE_FEED_ARCHS in the machine config, not in distro (I have MC: configuration)?</td><td class="time"><a href="#t2021-07-14T13:42:30" class="time">13:42</a></td></tr>
<tr id="t2021-07-14T13:43:27"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">RP: I just send the oe-core patch to add the command line compression tools, which should allow the bitbake patch to add the compression classes to be added also</td><td class="time"><a href="#t2021-07-14T13:43:27" class="time">13:43</a></td></tr>
<tr id="t2021-07-14T13:44:02"><th class="nick" style="background: #b15db1">override</th><td class="text" style="color: #b15db1">has anyone here setup docker on osx and be able to mount the usb port for a dev boards?</td><td class="time"><a href="#t2021-07-14T13:44:02" class="time">13:44</a></td></tr>
<tr id="t2021-07-14T13:44:08"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">JPEW: cool, thanks. I should queue some tests</td><td class="time"><a href="#t2021-07-14T13:44:08" class="time">13:44</a></td></tr>
<tr id="t2021-07-14T13:44:41"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">JPEW: although I guess we'll need a new buildtools first and upgrades to the workers (and docs updates)</td><td class="time"><a href="#t2021-07-14T13:44:41" class="time">13:44</a></td></tr>
<tr id="t2021-07-14T13:44:53"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">RP: Ya, probably</td><td class="time"><a href="#t2021-07-14T13:44:53" class="time">13:44</a></td></tr>
<tr id="t2021-07-14T14:08:14"><th class="nick" style="background: #5fb4b4">manuel1985</th><td class="text" style="color: #5fb4b4">This is totally offtopic, but I had registered manuel1985 on NickServ on Freenode. Now NickServ tells me that username is no longer registered. I was using it at least once a week. Did other peoples nicknames get unregistered as wel?</td><td class="time"><a href="#t2021-07-14T14:08:14" class="time">14:08</a></td></tr>
<tr id="t2021-07-14T14:09:04"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">manuel1985: freenode is dead. thats it.</td><td class="time"><a href="#t2021-07-14T14:09:04" class="time">14:09</a></td></tr>
<tr id="t2021-07-14T14:10:13"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">RP: Ok, I verified that pzstd output is the same regardless of the number of threads used, so that's good. I think I misunderstood the way it does parallel compression</td><td class="time"><a href="#t2021-07-14T14:10:13" class="time">14:10</a></td></tr>
<tr id="t2021-07-14T14:10:52"><th class="nick" style="background: #b86161">zeddii</th><td class="text" style="color: #b86161">manuel1985: yah. they did that to everyone (as near as I could tell). I didn't even bother re-registering mine</td><td class="time"><a href="#t2021-07-14T14:10:52" class="time">14:10</a></td></tr>
<tr id="t2021-07-14T14:12:14"><th class="nick" style="background: #5fb4b4">manuel1985</th><td class="text" style="color: #5fb4b4">zeddii? wtf? Seriously? I was under their impression their new owner would like to keep the freenodes market value = user count high (for whatever he intends to do with Freenode), and that runs totally contrary to that. Must have lost his mind.</td><td class="time"><a href="#t2021-07-14T14:12:14" class="time">14:12</a></td></tr>
<tr id="t2021-07-14T14:13:33"><th class="nick" style="background: #5fb4b4">manuel1985</th><td class="text" style="color: #5fb4b4">Didn't re-register either. In the meantime, all channels I attend have higher user count on libera.chat than on Freenode. Not going to sabotage that by staing on Freenode.</td><td class="time"><a href="#t2021-07-14T14:13:33" class="time">14:13</a></td></tr>
<tr id="t2021-07-14T14:16:14"><th class="nick" style="background: #62bb62">kanavin</th><td class="text" style="color: #62bb62">manuel1985, you would do well to read this <a href="https://lwn.net/Articles/857140/" rel="nofollow">https://lwn.net/Articles/857140/</a></td><td class="time"><a href="#t2021-07-14T14:16:14" class="time">14:16</a></td></tr>
<tr id="t2021-07-14T14:16:17"><th class="nick" style="background: #62bb62">kanavin</th><td class="text" style="color: #62bb62">zeddii, ^^^</td><td class="time"><a href="#t2021-07-14T14:16:17" class="time">14:16</a></td></tr>
<tr id="t2021-07-14T14:16:37"><td class="action" colspan="2">* zeddii is aware</td><td><a href="#t2021-07-14T14:16:37" class="time">14:16</a></td></tr>
<tr id="t2021-07-14T14:17:29"><th class="nick" style="background: #6464bf">yates_home</th><td class="text" style="color: #6464bf">is there a way to clean all the state info for a specific recipe?</td><td class="time"><a href="#t2021-07-14T14:17:29" class="time">14:17</a></td></tr>
<tr id="t2021-07-14T14:17:55"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">yates_home: `bitbake -c cleanall &lt;RECIPE&gt;`</td><td class="time"><a href="#t2021-07-14T14:17:55" class="time">14:17</a></td></tr>
<tr id="t2021-07-14T14:18:15"><th class="nick" style="background: #6464bf">yates_home</th><td class="text" style="color: #6464bf">JPEW: cool, thanks!</td><td class="time"><a href="#t2021-07-14T14:18:15" class="time">14:18</a></td></tr>
<tr id="t2021-07-14T14:20:11"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">-c cleansstate if you don't want to remove the sources from the DLDIR</td><td class="time"><a href="#t2021-07-14T14:20:11" class="time">14:20</a></td></tr>
<tr id="t2021-07-14T14:20:49"><th class="nick" style="background: #6464bf">yates_home</th><td class="text" style="color: #6464bf">aha.</td><td class="time"><a href="#t2021-07-14T14:20:49" class="time">14:20</a></td></tr>
<tr id="t2021-07-14T14:21:24"><th class="nick" style="background: #6464bf">yates_home</th><td class="text" style="color: #6464bf">too late, but i guess this recipe's source wasn't that big. then again, i'm lucky to have a 1 Gbps pipe up/dn</td><td class="time"><a href="#t2021-07-14T14:21:24" class="time">14:21</a></td></tr>
<tr id="t2021-07-14T14:22:14"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">show-off :)</td><td class="time"><a href="#t2021-07-14T14:22:14" class="time">14:22</a></td></tr>
<tr id="t2021-07-14T14:22:20"><th class="nick" style="background: #6464bf">yates_home</th><td class="text" style="color: #6464bf">:) yah!</td><td class="time"><a href="#t2021-07-14T14:22:20" class="time">14:22</a></td></tr>
<tr id="t2021-07-14T14:23:51"><th class="nick" style="background: #6464bf">yates_home</th><td class="text" style="color: #6464bf">we had the good fortune to be a special test neighborhood for Ting out of Canada (i live in the US)</td><td class="time"><a href="#t2021-07-14T14:23:51" class="time">14:23</a></td></tr>
<tr id="t2021-07-14T14:24:29"><th class="nick" style="background: #6464bf">yates_home</th><td class="text" style="color: #6464bf">otherwise i'd still be on Centurylink's 8 Mbps dn/ 0.8 Mbps up...</td><td class="time"><a href="#t2021-07-14T14:24:29" class="time">14:24</a></td></tr>
<tr id="t2021-07-14T14:27:56"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">JPEW: great, that matches what I thought/hoped! :)</td><td class="time"><a href="#t2021-07-14T14:27:56" class="time">14:27</a></td></tr>
<tr id="t2021-07-14T14:28:54"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">JPEW: re: SSH_AUTH_SOCK on pyrex... I think it's an issue with a check on the host key of the git server</td><td class="time"><a href="#t2021-07-14T14:28:54" class="time">14:28</a></td></tr>
<tr id="t2021-07-14T14:29:22"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">qschulz: Ah, that makes sense</td><td class="time"><a href="#t2021-07-14T14:29:22" class="time">14:29</a></td></tr>
<tr id="t2021-07-14T14:29:58"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">qschulz: We bind mount ~/.ssh into the container locally to fix that</td><td class="time"><a href="#t2021-07-14T14:29:58" class="time">14:29</a></td></tr>
<tr id="t2021-07-14T14:30:17"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">JPEW: yeah... trying to avoid that specifically</td><td class="time"><a href="#t2021-07-14T14:30:17" class="time">14:30</a></td></tr>
<tr id="t2021-07-14T14:30:42"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">though... I could mount the ssh_known_hosts :)</td><td class="time"><a href="#t2021-07-14T14:30:42" class="time">14:30</a></td></tr>
<tr id="t2021-07-14T14:30:57"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">qschulz: Ya, people get nervous about bind mounting .ssh into a random container</td><td class="time"><a href="#t2021-07-14T14:30:57" class="time">14:30</a></td></tr>
<tr id="t2021-07-14T14:31:19"><th class="nick" style="background: #62bb62">kanavin</th><td class="text" style="color: #62bb62">RP, JPEW I was slightly worried that changing rpm to use zstd would also cause non-reproducibility</td><td class="time"><a href="#t2021-07-14T14:31:19" class="time">14:31</a></td></tr>
<tr id="t2021-07-14T14:31:26"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">qschulz: FAQ covers this actually: <a href="https://github.com/garmin/pyrex#faq" rel="nofollow">https://github.com/garmin/pyrex#faq</a></td><td class="time"><a href="#t2021-07-14T14:31:26" class="time">14:31</a></td></tr>
<tr id="t2021-07-14T14:31:30"><th class="nick" style="background: #62bb62">kanavin</th><td class="text" style="color: #62bb62">I have a WIP patch for that</td><td class="time"><a href="#t2021-07-14T14:31:30" class="time">14:31</a></td></tr>
<tr id="t2021-07-14T14:31:38"><th class="nick" style="background: #62bb62">kanavin</th><td class="text" style="color: #62bb62">(waiting for rpm 4.17 release)</td><td class="time"><a href="#t2021-07-14T14:31:38" class="time">14:31</a></td></tr>
<tr id="t2021-07-14T14:31:49"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">kanavin: Nice. Does it use parallel compression?</td><td class="time"><a href="#t2021-07-14T14:31:49" class="time">14:31</a></td></tr>
<tr id="t2021-07-14T14:32:13"><th class="nick" style="background: #62bb62">kanavin</th><td class="text" style="color: #62bb62">JPEW: yes</td><td class="time"><a href="#t2021-07-14T14:32:13" class="time">14:32</a></td></tr>
<tr id="t2021-07-14T14:32:27"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">JPEW: are you RTFM'ing me ðŸ˜±</td><td class="time"><a href="#t2021-07-14T14:32:27" class="time">14:32</a></td></tr>
<tr id="t2021-07-14T14:32:42"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">(you would be right :) )</td><td class="time"><a href="#t2021-07-14T14:32:42" class="time">14:32</a></td></tr>
<tr id="t2021-07-14T14:32:57"><th class="nick" style="background: #62bb62">kanavin</th><td class="text" style="color: #62bb62">JPEW: it does not use parallel decompression, but even then it's very quick - I'm actually unsure how much pzstd would help here</td><td class="time"><a href="#t2021-07-14T14:32:57" class="time">14:32</a></td></tr>
<tr id="t2021-07-14T14:33:01"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">kanavin, RP: Although I think there might be repro issues if different distros have different default compression levels... I wasn't sure if I should be explicitly forcing a compression level instead of letting is use the default</td><td class="time"><a href="#t2021-07-14T14:33:01" class="time">14:33</a></td></tr>
<tr id="t2021-07-14T14:33:33"><th class="nick" style="background: #62bb62">kanavin</th><td class="text" style="color: #62bb62">JPEW: rpm can set both compression level and number of threads to use explicitly</td><td class="time"><a href="#t2021-07-14T14:33:33" class="time">14:33</a></td></tr>
<tr id="t2021-07-14T14:34:43"><th class="nick" style="background: #62bb62">kanavin</th><td class="text" style="color: #62bb62">for zstd</td><td class="time"><a href="#t2021-07-14T14:34:43" class="time">14:34</a></td></tr>
<tr id="t2021-07-14T14:35:35"><th class="nick" style="background: #62bb62">kanavin</th><td class="text" style="color: #62bb62">JPEW, RP setting the compression level explicitly is important, as there is a tradeoff between compression speed vs artefact size to be made</td><td class="time"><a href="#t2021-07-14T14:35:35" class="time">14:35</a></td></tr>
<tr id="t2021-07-14T14:36:06"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">kanavin: Ok, I'll rework my patch to do that.... I was leaning that way anyhow</td><td class="time"><a href="#t2021-07-14T14:36:06" class="time">14:36</a></td></tr>
<tr id="t2021-07-14T14:36:22"><th class="nick" style="background: #62bb62">kanavin</th><td class="text" style="color: #62bb62">JPEW, but on the other hand, the lower levels are *very* quck</td><td class="time"><a href="#t2021-07-14T14:36:22" class="time">14:36</a></td></tr>
<tr id="t2021-07-14T14:36:33"><th class="nick" style="background: #62bb62">kanavin</th><td class="text" style="color: #62bb62">an order of magnitude faster than e.g. xz</td><td class="time"><a href="#t2021-07-14T14:36:33" class="time">14:36</a></td></tr>
<tr id="t2021-07-14T14:36:44"><th class="nick" style="background: #62bb62">kanavin</th><td class="text" style="color: #62bb62">try on a large data set, several gigs or so!</td><td class="time"><a href="#t2021-07-14T14:36:44" class="time">14:36</a></td></tr>
<tr id="t2021-07-14T14:37:26"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">kanavin: Ya. I'm warming up to zstd as one of the best general purpose compressors. It has quite a wide range of speed/size tradeoff</td><td class="time"><a href="#t2021-07-14T14:37:26" class="time">14:37</a></td></tr>
<tr id="t2021-07-14T14:37:47"><th class="nick" style="background: #62bb62">kanavin</th><td class="text" style="color: #62bb62">JPEW, I think we should use zstd throughout yocto</td><td class="time"><a href="#t2021-07-14T14:37:47" class="time">14:37</a></td></tr>
<tr id="t2021-07-14T14:38:00"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">kanavin: Almost as fast as lz4 on the one hand, but can get really small if you take the time</td><td class="time"><a href="#t2021-07-14T14:38:00" class="time">14:38</a></td></tr>
<tr id="t2021-07-14T14:38:11"><th class="nick" style="background: #62bb62">kanavin</th><td class="text" style="color: #62bb62">sstate, packages, and the SDKs</td><td class="time"><a href="#t2021-07-14T14:38:11" class="time">14:38</a></td></tr>
<tr id="t2021-07-14T14:38:37"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">Someone was working on zstd for sstate</td><td class="time"><a href="#t2021-07-14T14:38:37" class="time">14:38</a></td></tr>
<tr id="t2021-07-14T14:40:08"><th class="nick" style="background: #62bb62">kanavin</th><td class="text" style="color: #62bb62">with disk storage and network speeds growing much quicker than CPU speeds, I think it's better to opt towards large file sizes and faster builds/installs</td><td class="time"><a href="#t2021-07-14T14:40:08" class="time">14:40</a></td></tr>
<tr id="t2021-07-14T14:40:34"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">kanavin: Ya, that's what my goto has been lz4 in the past</td><td class="time"><a href="#t2021-07-14T14:40:34" class="time">14:40</a></td></tr>
<tr id="t2021-07-14T14:40:39"><th class="nick" style="background: #62bb62">kanavin</th><td class="text" style="color: #62bb62">installing an SDK in 10 seconds instead of 2 minutes is awesome (yes, I verified)</td><td class="time"><a href="#t2021-07-14T14:40:39" class="time">14:40</a></td></tr>
<tr id="t2021-07-14T14:41:15"><th class="nick" style="background: #62bb62">kanavin</th><td class="text" style="color: #62bb62">making do_populate_sdk complete in half the time is great too (verified that one as well)</td><td class="time"><a href="#t2021-07-14T14:41:15" class="time">14:41</a></td></tr>
<tr id="t2021-07-14T15:00:46"><th class="nick" style="background: #6464bf">yates_home</th><td class="text" style="color: #6464bf">ok i finally got my QA problems fixed</td><td class="time"><a href="#t2021-07-14T15:00:46" class="time">15:00</a></td></tr>
<tr id="t2021-07-14T15:01:17"><th class="nick" style="background: #6464bf">yates_home</th><td class="text" style="color: #6464bf">it was NOT just matter of setting FILES_${PN}</td><td class="time"><a href="#t2021-07-14T15:01:17" class="time">15:01</a></td></tr>
<tr id="t2021-07-14T15:01:53"><th class="nick" style="background: #6464bf">yates_home</th><td class="text" style="color: #6464bf">thanks rburton et al. for your help</td><td class="time"><a href="#t2021-07-14T15:01:53" class="time">15:01</a></td></tr>
<tr id="t2021-07-14T15:08:37"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">yates_home: well, what was it then :)</td><td class="time"><a href="#t2021-07-14T15:08:37" class="time">15:08</a></td></tr>
<tr id="t2021-07-14T15:20:36"><td class="action" colspan="2">* RP has been playing making a &quot;defval&quot; override namespace which the += =+ and = operators operate within, a weakval namespace for ??= and seeing if that could be used as a migration pathway to improve the syntax consistency </td><td><a href="#t2021-07-14T15:20:36" class="time">15:20</a></td></tr>
<tr id="t2021-07-14T15:23:01"><th class="nick" style="background: #c3c366">fray</th><td class="text" style="color: #c3c366">witht he names spaces it would eval weak then def (or def and if defined not weak) right?</td><td class="time"><a href="#t2021-07-14T15:23:01" class="time">15:23</a></td></tr>
<tr id="t2021-07-14T15:23:38"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">fray: def would override weak, yes</td><td class="time"><a href="#t2021-07-14T15:23:38" class="time">15:23</a></td></tr>
<tr id="t2021-07-14T15:23:55"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">the names are just for the experiment. Sadly this thing is far from simple and doesn't even pass parsing</td><td class="time"><a href="#t2021-07-14T15:23:55" class="time">15:23</a></td></tr>
<tr id="t2021-07-14T15:25:10"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">RP: So, `FOO += &quot;bar&quot;` is syntactic sugar for `FOO_defval_append = &quot; bar&quot;` ?</td><td class="time"><a href="#t2021-07-14T15:25:10" class="time">15:25</a></td></tr>
<tr id="t2021-07-14T15:34:51"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">JPEW: yes, exactly</td><td class="time"><a href="#t2021-07-14T15:34:51" class="time">15:34</a></td></tr>
<tr id="t2021-07-14T15:35:28"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">the trouble is I think the code needs to handle XXX_append = and XX_append_YYY = as not defval :)</td><td class="time"><a href="#t2021-07-14T15:35:28" class="time">15:35</a></td></tr>
<tr id="t2021-07-14T15:36:09"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">There is some idea in my mind trying to escape here but the code isn't working and I think I'm losing track of the original objective :/</td><td class="time"><a href="#t2021-07-14T15:36:09" class="time">15:36</a></td></tr>
<tr id="t2021-07-14T15:37:06"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">Taking this to a second level of crazy, there could be a defval-recipe, defval-bbclass, defval-conf or similar so the context of the expressions becomes controlled by overrides too</td><td class="time"><a href="#t2021-07-14T15:37:06" class="time">15:37</a></td></tr>
<tr id="t2021-07-14T15:37:07"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">I think I'm oversimplifying this, but does that make defval and weakval weaker overrides?</td><td class="time"><a href="#t2021-07-14T15:37:07" class="time">15:37</a></td></tr>
<tr id="t2021-07-14T15:37:24"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">JPEW: effectivelu</td><td class="time"><a href="#t2021-07-14T15:37:24" class="time">15:37</a></td></tr>
<tr id="t2021-07-14T15:38:11"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">So there's essentially no such thing a &quot;bare&quot; variable (one with no overrides)</td><td class="time"><a href="#t2021-07-14T15:38:11" class="time">15:38</a></td></tr>
<tr id="t2021-07-14T15:38:42"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">JPEW: in that model, correct</td><td class="time"><a href="#t2021-07-14T15:38:42" class="time">15:38</a></td></tr>
<tr id="t2021-07-14T15:39:25"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">RP: I don't understand the comment about XXX_append and XXX_append_YYY</td><td class="time"><a href="#t2021-07-14T15:39:25" class="time">15:39</a></td></tr>
<tr id="t2021-07-14T15:39:25-2"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">It struck me that we were always fighting for the right ordering with ?= = and ??= and yet we have an extensible ordering model with overrides</td><td class="time"><a href="#t2021-07-14T15:39:25-2" class="time">15:39</a></td></tr>
<tr id="t2021-07-14T15:40:20"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">RP: Ya, I was (naively?) thinking you could add &quot;defval&quot; and &quot;weakval&quot; to overrides and make the parse translate += et. al. to other syntax as a simple test</td><td class="time"><a href="#t2021-07-14T15:40:20" class="time">15:40</a></td></tr>
<tr id="t2021-07-14T15:40:27"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">add to OVERRIDES that is</td><td class="time"><a href="#t2021-07-14T15:40:27" class="time">15:40</a></td></tr>
<tr id="t2021-07-14T15:40:46"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">JPEW: that is exactly what my test code does! :)</td><td class="time"><a href="#t2021-07-14T15:40:46" class="time">15:40</a></td></tr>
<tr id="t2021-07-14T15:41:11"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">JPEW: XXX_append becomes XXX_append_defval in my code</td><td class="time"><a href="#t2021-07-14T15:41:11" class="time">15:41</a></td></tr>
<tr id="t2021-07-14T15:41:47"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">When you do &quot;XXX_append += &quot; or on purpose?</td><td class="time"><a href="#t2021-07-14T15:41:47" class="time">15:41</a></td></tr>
<tr id="t2021-07-14T15:41:47-2"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">then worry about what happens to OVERRIDES_append as I didn't inject the default OVERRIDES as OVERRIDES_defval</td><td class="time"><a href="#t2021-07-14T15:41:47-2" class="time">15:41</a></td></tr>
<tr id="t2021-07-14T15:42:28"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">JPEW: I made it happen on any = operator which is now clearly a bad choice</td><td class="time"><a href="#t2021-07-14T15:42:28" class="time">15:42</a></td></tr>
<tr id="t2021-07-14T15:42:39"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">(ignoring flags)</td><td class="time"><a href="#t2021-07-14T15:42:39" class="time">15:42</a></td></tr>
<tr id="t2021-07-14T15:43:27"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">Ah, ya. I would have not expected it to apply to any operator.... but I can see how teasing out when it should apply to defval and when it should not would be difficult</td><td class="time"><a href="#t2021-07-14T15:43:27" class="time">15:43</a></td></tr>
<tr id="t2021-07-14T15:43:49"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">JPEW: I think I have a better idea now!</td><td class="time"><a href="#t2021-07-14T15:43:49" class="time">15:43</a></td></tr>
<tr id="t2021-07-14T15:44:50"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">Presumably, you want `FOO = &quot;bar&quot;` =&gt; `FOO_defval = &quot;bar&quot;`, but `FOO_append = &quot;bar&quot;` should not become `FOO_append_defval = &quot;bar&quot;`?</td><td class="time"><a href="#t2021-07-14T15:44:50" class="time">15:44</a></td></tr>
<tr id="t2021-07-14T15:45:19"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">JPEW: right</td><td class="time"><a href="#t2021-07-14T15:45:19" class="time">15:45</a></td></tr>
<tr id="t2021-07-14T15:45:58"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">I think the other problem is where I'm intercepting this, i.e. in the ast rather than in setVar where some knowledge of what is going on is lost</td><td class="time"><a href="#t2021-07-14T15:45:58" class="time">15:45</a></td></tr>
<tr id="t2021-07-14T15:47:34"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">RP: Ya, I kinda like it there better though, if += is it really supposed to be just a syntatic sugar</td><td class="time"><a href="#t2021-07-14T15:47:34" class="time">15:47</a></td></tr>
<tr id="t2021-07-14T15:47:40"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">Also, FOO_override = bar shouldn't become FOO_override_defval and that is probably the deal breaker as we don't know all overrides in advance</td><td class="time"><a href="#t2021-07-14T15:47:40" class="time">15:47</a></td></tr>
<tr id="t2021-07-14T15:48:18"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">RP: Right... I suppose you'd have to use the &quot;this might be an override?&quot; logic of lower case vs upper case?</td><td class="time"><a href="#t2021-07-14T15:48:18" class="time">15:48</a></td></tr>
<tr id="t2021-07-14T15:48:49"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">JPEW: for processing at this level it becomes totally impractical</td><td class="time"><a href="#t2021-07-14T15:48:49" class="time">15:48</a></td></tr>
<tr id="t2021-07-14T15:49:33"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">for what reason?</td><td class="time"><a href="#t2021-07-14T15:49:33" class="time">15:49</a></td></tr>
<tr id="t2021-07-14T15:50:14"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">JPEW: we normally defer this to getVar time but with these code changes you'd have to inject all possible combinations in and then determine later</td><td class="time"><a href="#t2021-07-14T15:50:14" class="time">15:50</a></td></tr>
<tr id="t2021-07-14T15:52:54"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">RP: becomes some overrides are overrides and some are operators?</td><td class="time"><a href="#t2021-07-14T15:52:54" class="time">15:52</a></td></tr>
<tr id="t2021-07-14T15:53:15"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">And the parsing code can't really tell which is which?</td><td class="time"><a href="#t2021-07-14T15:53:15" class="time">15:53</a></td></tr>
<tr id="t2021-07-14T15:55:03"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">JPEW: effectively, yes</td><td class="time"><a href="#t2021-07-14T15:55:03" class="time">15:55</a></td></tr>
<tr id="t2021-07-14T15:56:11"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">I wish we could require a change to the metadata to mark overides</td><td class="time"><a href="#t2021-07-14T15:56:11" class="time">15:56</a></td></tr>
<tr id="t2021-07-14T15:58:08"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">RP: Or use something other than &quot;_&quot; to separate overrides</td><td class="time"><a href="#t2021-07-14T15:58:08" class="time">15:58</a></td></tr>
<tr id="t2021-07-14T15:58:16"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">Something dedicated</td><td class="time"><a href="#t2021-07-14T15:58:16" class="time">15:58</a></td></tr>
<tr id="t2021-07-14T16:00:23"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">JPEW: right, that is what I mean by mark</td><td class="time"><a href="#t2021-07-14T16:00:23" class="time">16:00</a></td></tr>
<tr id="t2021-07-14T16:00:37"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">RP: Ah, ok.</td><td class="time"><a href="#t2021-07-14T16:00:37" class="time">16:00</a></td></tr>
<tr id="t2021-07-14T16:00:50"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">well, one possible result of the idea</td><td class="time"><a href="#t2021-07-14T16:00:50" class="time">16:00</a></td></tr>
<tr id="t2021-07-14T16:01:46"><th class="nick" style="background: #c3c366">fray</th><td class="text" style="color: #c3c366">at one of the YP meetings we'd talked about &quot;:&quot; or &quot;::&quot; but that got shot down.. &quot;we don't want to look like....&quot;</td><td class="time"><a href="#t2021-07-14T16:01:46" class="time">16:01</a></td></tr>
<tr id="t2021-07-14T16:02:44"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">do_install{native} = &quot;xxx&quot; ?</td><td class="time"><a href="#t2021-07-14T16:02:44" class="time">16:02</a></td></tr>
<tr id="t2021-07-14T16:03:35"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">gets fun with do_install_native_append_poky_pn-lttng = &quot;&quot; though</td><td class="time"><a href="#t2021-07-14T16:03:35" class="time">16:03</a></td></tr>
<tr id="t2021-07-14T16:03:35-2"><th class="nick" style="background: #c3c366">fray</th><td class="text" style="color: #c3c366">my nit-picking worry about {} it looks a lot like [] ...</td><td class="time"><a href="#t2021-07-14T16:03:35-2" class="time">16:03</a></td></tr>
<tr id="t2021-07-14T16:04:08"><th class="nick" style="background: #c3c366">fray</th><td class="text" style="color: #c3c366">but ya, the multiple overrides with operators mixed in is a big issue</td><td class="time"><a href="#t2021-07-14T16:04:08" class="time">16:04</a></td></tr>
<tr id="t2021-07-14T16:04:30"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">do_install{native} += {poky} {pn-lttng} = &quot;&quot;</td><td class="time"><a href="#t2021-07-14T16:04:30" class="time">16:04</a></td></tr>
<tr id="t2021-07-14T16:04:38"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">not good :)</td><td class="time"><a href="#t2021-07-14T16:04:38" class="time">16:04</a></td></tr>
<tr id="t2021-07-14T16:04:44"><th class="nick" style="background: #c3c366">fray</th><td class="text" style="color: #c3c366">that looks like a parsing nightmare</td><td class="time"><a href="#t2021-07-14T16:04:44" class="time">16:04</a></td></tr>
<tr id="t2021-07-14T16:05:26"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">fray: probably easier than what we have today!</td><td class="time"><a href="#t2021-07-14T16:05:26" class="time">16:05</a></td></tr>
<tr id="t2021-07-14T16:06:14"><th class="nick" style="background: #c3c366">fray</th><td class="text" style="color: #c3c366">I was referring to machine and human parsing</td><td class="time"><a href="#t2021-07-14T16:06:14" class="time">16:06</a></td></tr>
<tr id="t2021-07-14T17:09:07"><th class="nick" style="background: #6464bf">yates_home</th><td class="text" style="color: #6464bf">qschulz: sorry, just saw your query. give me a few and i'll post it</td><td class="time"><a href="#t2021-07-14T17:09:07" class="time">17:09</a></td></tr>
<tr id="t2021-07-14T17:14:42"><th class="nick" style="background: #6464bf">yates_home</th><td class="text" style="color: #6464bf">qschulz: <a href="http://www.digitalsignallabs.com/downloads/mainline-kernel-toolchain-build.pdf" rel="nofollow">http://www.digitalsignallabs.com/downloads/mainline-kernel-toolchain-build.pdf</a></td><td class="time"><a href="#t2021-07-14T17:14:42" class="time">17:14</a></td></tr>
<tr id="t2021-07-14T17:22:00"><th class="nick" style="background: #6464bf">yates_home</th><td class="text" style="color: #6464bf">is the process by which the output from one recipe is separated into multiple packages called &quot;package splitting&quot;</td><td class="time"><a href="#t2021-07-14T17:22:00" class="time">17:22</a></td></tr>
<tr id="t2021-07-14T17:22:28"><th class="nick" style="background: #6464bf">yates_home</th><td class="text" style="color: #6464bf">?</td><td class="time"><a href="#t2021-07-14T17:22:28" class="time">17:22</a></td></tr>
<tr id="t2021-07-14T17:23:42"><th class="nick" style="background: #6464bf">yates_home</th><td class="text" style="color: #6464bf">i do not know why it is not stated in the docs or the bitbake qa check error output that you might need to use something other than FILES_${PN} if the recipe is &quot;packaged-split&quot;.</td><td class="time"><a href="#t2021-07-14T17:23:42" class="time">17:23</a></td></tr>
<tr id="t2021-07-14T17:27:59"><th class="nick" style="background: #6464bf">yates_home</th><td class="text" style="color: #6464bf">or have i mis-identified the issue(s)?</td><td class="time"><a href="#t2021-07-14T17:27:59" class="time">17:27</a></td></tr>
<tr id="t2021-07-14T17:28:07"><th class="nick" style="background: #6464bf">yates_home</th><td class="text" style="color: #6464bf">what i have now &quot;works&quot; at least</td><td class="time"><a href="#t2021-07-14T17:28:07" class="time">17:28</a></td></tr>
<tr id="t2021-07-14T17:34:49"><th class="nick" style="background: #6464bf">yates_home</th><td class="text" style="color: #6464bf">rburton: i was able to get that machine_dict info from the binutils</td><td class="time"><a href="#t2021-07-14T17:34:49" class="time">17:34</a></td></tr>
<tr id="t2021-07-14T17:35:15"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">RP: I was thinking something like: FOO.native.append</td><td class="time"><a href="#t2021-07-14T17:35:15" class="time">17:35</a></td></tr>
<tr id="t2021-07-14T17:36:16"><th class="nick" style="background: #c668c6">kergoth</th><td class="text" style="color: #c668c6">RP: Can we avoid even the possibility of the difference between _override_append and _append_override in your work on this?&nbsp;&nbsp;That's a long standing annoyance that we should be able to get rid of by changing to this method of lazy evaluation, in theory</td><td class="time"><a href="#t2021-07-14T17:36:16" class="time">17:36</a></td></tr>
<tr id="t2021-07-14T17:36:40"><td class="action" colspan="2">* kergoth back from 3 week road trip vacation, 4 days of driving 8 hours to get there, and then again to get home :)</td><td><a href="#t2021-07-14T17:36:40" class="time">17:36</a></td></tr>
<tr id="t2021-07-14T17:36:50"><th class="nick" style="background: #c668c6">kergoth</th><td class="text" style="color: #c668c6">I'm sore now</td><td class="time"><a href="#t2021-07-14T17:36:50" class="time">17:36</a></td></tr>
<tr id="t2021-07-14T17:45:25"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">kergoth: that kind of trip sounds painful!</td><td class="time"><a href="#t2021-07-14T17:45:25" class="time">17:45</a></td></tr>
<tr id="t2021-07-14T17:45:43"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">JPEW: hmm, possible</td><td class="time"><a href="#t2021-07-14T17:45:43" class="time">17:45</a></td></tr>
<tr id="t2021-07-14T17:46:35"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">kergoth: those two cases mean two different things and we have code which can use either. We could certainly block one of them at the parser level if we wanted</td><td class="time"><a href="#t2021-07-14T17:46:35" class="time">17:46</a></td></tr>
<tr id="t2021-07-14T17:54:00"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">I think a table describing the behavior would be helpful.... I can't keep the straight: <a href="https://www.openembedded.org/wiki/Proposed_New_Bitbake_Syntax" rel="nofollow">https://www.openembedded.org/wiki/Proposed_New_Bitbake_Syntax</a></td><td class="time"><a href="#t2021-07-14T17:54:00" class="time">17:54</a></td></tr>
<tr id="t2021-07-14T17:54:10"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">*keep is straight</td><td class="time"><a href="#t2021-07-14T17:54:10" class="time">17:54</a></td></tr>
<tr id="t2021-07-14T17:55:19"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">JPEW: I don't think we're in a position to write something like that yet :/</td><td class="time"><a href="#t2021-07-14T17:55:19" class="time">17:55</a></td></tr>
<tr id="t2021-07-14T17:55:53"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">(since what I have doesn't really work)</td><td class="time"><a href="#t2021-07-14T17:55:53" class="time">17:55</a></td></tr>
<tr id="t2021-07-14T17:56:32"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">Ya, I wasn't trying to be official... just trying to understand the conversation (if the Wiki isn't a good spot, somewhere else would be fine)</td><td class="time"><a href="#t2021-07-14T17:56:32" class="time">17:56</a></td></tr>
<tr id="t2021-07-14T17:57:21"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">My hope was to be able to move to a more consistent model where things are all deferred rather than the current mix of deferred an immediate</td><td class="time"><a href="#t2021-07-14T17:57:21" class="time">17:57</a></td></tr>
<tr id="t2021-07-14T17:59:07"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">JPEW: I tweaked that table for how it needs to operate</td><td class="time"><a href="#t2021-07-14T17:59:07" class="time">17:59</a></td></tr>
<tr id="t2021-07-14T18:00:06"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">RP: Ah, I see why that is really complicated</td><td class="time"><a href="#t2021-07-14T18:00:06" class="time">18:00</a></td></tr>
<tr id="t2021-07-14T18:00:28"><th class="nick" style="background: #c668c6">kergoth</th><td class="text" style="color: #c668c6">I think &quot;Append &quot;bar&quot; to value of FOO_o if o is in OVERRIDES</td><td class="time"><a href="#t2021-07-14T18:00:28" class="time">18:00</a></td></tr>
<tr id="t2021-07-14T18:00:28-2"><th class="nick" style="background: #c668c6">kergoth</th><td class="text" style="color: #c668c6">&quot; should be FOO, not FOO_o, yes?</td><td class="time"><a href="#t2021-07-14T18:00:28-2" class="time">18:00</a></td></tr>
<tr id="t2021-07-14T18:01:20"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">kergoth: yes, correct</td><td class="time"><a href="#t2021-07-14T18:01:20" class="time">18:01</a></td></tr>
<tr id="t2021-07-14T18:01:32-2"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">kergoth: I think so. I'll fix it</td><td class="time"><a href="#t2021-07-14T18:01:32-2" class="time">18:01</a></td></tr>
<tr id="t2021-07-14T18:02:52"><th class="nick" style="background: #c668c6">kergoth</th><td class="text" style="color: #c668c6">I'd love to see an override syntax so FOO{o} is just another set of defval, just a conditional one, and FOO{o} += is no different than FOO_append_o.. but that'd likely be a later extra unless the new syntax is required otherwise. FOO_o_append vs FOO_append_o is a common source of confusion. but could only fix that with a new syntax since it'd change the semantics :)</td><td class="time"><a href="#t2021-07-14T18:02:52" class="time">18:02</a></td></tr>
<tr id="t2021-07-14T18:03:11"><th class="nick" style="background: #c668c6">kergoth</th><td class="text" style="color: #c668c6">probably not worth doing now unless we already break to a new opt-in syntax</td><td class="time"><a href="#t2021-07-14T18:03:11" class="time">18:03</a></td></tr>
<tr id="t2021-07-14T18:04:01"><th class="nick" style="background: #c668c6">kergoth</th><td class="text" style="color: #c668c6">I wish things weren't always so complicated :)</td><td class="time"><a href="#t2021-07-14T18:04:01" class="time">18:04</a></td></tr>
<tr id="t2021-07-14T18:04:12"><th class="nick" style="background: #c668c6">kergoth</th><td class="text" style="color: #c668c6">hard to make any changes without unforeseen consequences</td><td class="time"><a href="#t2021-07-14T18:04:12" class="time">18:04</a></td></tr>
<tr id="t2021-07-14T18:04:17"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">kergoth: it might be worth hacking the parser to warn on FOO_o_append and see how many cases there are, see if we could just remove them all</td><td class="time"><a href="#t2021-07-14T18:04:17" class="time">18:04</a></td></tr>
<tr id="t2021-07-14T18:05:27"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">RP, kergoth: Is the idea that `FOO_o += &quot;bar&quot;` is preferred over `FOO_o_append = &quot;bar&quot;`?</td><td class="time"><a href="#t2021-07-14T18:05:27" class="time">18:05</a></td></tr>
<tr id="t2021-07-14T18:05:30"><th class="nick" style="background: #c668c6">kergoth</th><td class="text" style="color: #c668c6">could be a good idea regardless</td><td class="time"><a href="#t2021-07-14T18:05:30" class="time">18:05</a></td></tr>
<tr id="t2021-07-14T18:06:02"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">JPEW: the idea is that appending to an overridden variable is likely user error on the most part</td><td class="time"><a href="#t2021-07-14T18:06:02" class="time">18:06</a></td></tr>
<tr id="t2021-07-14T18:06:04"><th class="nick" style="background: #c668c6">kergoth</th><td class="text" style="color: #c668c6">if every operation is deferred, _append/_prepend would be redundant except that they'd have to happen last for compatibility, yeah?</td><td class="time"><a href="#t2021-07-14T18:06:04" class="time">18:06</a></td></tr>
<tr id="t2021-07-14T18:06:13"><th class="nick" style="background: #c668c6">kergoth</th><td class="text" style="color: #c668c6">I feel like it's harder to wrap your head around &quot;FOO_o = 'bar'&quot; collapses later since we had to deal with ordering than to make it an operation against FOO right away, but we can't do that without knowing the overrides up front</td><td class="time"><a href="#t2021-07-14T18:06:13" class="time">18:06</a></td></tr>
<tr id="t2021-07-14T18:06:19"><th class="nick" style="background: #c668c6">kergoth</th><td class="text" style="color: #c668c6">s/collapses/collapsing/</td><td class="time"><a href="#t2021-07-14T18:06:19" class="time">18:06</a></td></tr>
<tr id="t2021-07-14T18:07:22"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">kergoth: the idea would be to make some of the operations effectively redundant and hence simpler, yes</td><td class="time"><a href="#t2021-07-14T18:07:22" class="time">18:07</a></td></tr>
<tr id="t2021-07-14T18:11:50"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">I'm struggling to spot &lt;override&gt;_append usage in OE-Core but one I did spot: meta/recipes-support/gmp/gmp_6.2.1.bb:EXTRA_OECONF_mipsarchr6_append</td><td class="time"><a href="#t2021-07-14T18:11:50" class="time">18:11</a></td></tr>
<tr id="t2021-07-14T18:12:44"><td class="action" colspan="2">* RP suspects that line is just plain wrong</td><td><a href="#t2021-07-14T18:12:44" class="time">18:12</a></td></tr>
<tr id="t2021-07-14T18:16:13"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">Maybe in that case, but I'm a little skeptical that FOO_o_append is always a bug</td><td class="time"><a href="#t2021-07-14T18:16:13" class="time">18:16</a></td></tr>
<tr id="t2021-07-14T18:16:40"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">JPEW: It isn't always but can you find real world use?</td><td class="time"><a href="#t2021-07-14T18:16:40" class="time">18:16</a></td></tr>
<tr id="t2021-07-14T18:16:59"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">Probably not with append, but probably with +=</td><td class="time"><a href="#t2021-07-14T18:16:59" class="time">18:16</a></td></tr>
<tr id="t2021-07-14T18:17:14"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">*Challenge Accepted!*</td><td class="time"><a href="#t2021-07-14T18:17:14" class="time">18:17</a></td></tr>
<tr id="t2021-07-14T18:17:22"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">+= is a totally different thing</td><td class="time"><a href="#t2021-07-14T18:17:22" class="time">18:17</a></td></tr>
<tr id="t2021-07-14T18:17:30"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">this is one of the problems :/</td><td class="time"><a href="#t2021-07-14T18:17:30" class="time">18:17</a></td></tr>
<tr id="t2021-07-14T18:18:12"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">different because it is immediate?</td><td class="time"><a href="#t2021-07-14T18:18:12" class="time">18:18</a></td></tr>
<tr id="t2021-07-14T18:18:58"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">it only applies to the base non overridden value and it can be &quot;unset&quot;</td><td class="time"><a href="#t2021-07-14T18:18:58" class="time">18:18</a></td></tr>
<tr id="t2021-07-14T18:19:16"><th class="nick" style="background: #c668c6">kergoth</th><td class="text" style="color: #c668c6">I think just because there's a real world use doesn't necessarily justify the existence of it, there are often other approaches that'd do</td><td class="time"><a href="#t2021-07-14T18:19:16" class="time">18:19</a></td></tr>
<tr id="t2021-07-14T18:19:36"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">kergoth: I'm just trying to see if there is actually any!</td><td class="time"><a href="#t2021-07-14T18:19:36" class="time">18:19</a></td></tr>
<tr id="t2021-07-14T18:19:38"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">OK, what's the difference between `FOO_o_append = &quot; bar&quot;` and `FOO_o += &quot;bar&quot;`</td><td class="time"><a href="#t2021-07-14T18:19:38" class="time">18:19</a></td></tr>
<tr id="t2021-07-14T18:19:44"><th class="nick" style="background: #c668c6">kergoth</th><td class="text" style="color: #c668c6">that's a good first step, yes :)</td><td class="time"><a href="#t2021-07-14T18:19:44" class="time">18:19</a></td></tr>
<tr id="t2021-07-14T18:20:06"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">JPEW: in the new world or currently?</td><td class="time"><a href="#t2021-07-14T18:20:06" class="time">18:20</a></td></tr>
<tr id="t2021-07-14T18:20:22"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">Both</td><td class="time"><a href="#t2021-07-14T18:20:22" class="time">18:20</a></td></tr>
<tr id="t2021-07-14T18:20:23"><td class="action" colspan="2">* JPEW I should probably try it instead of asking</td><td><a href="#t2021-07-14T18:20:23" class="time">18:20</a></td></tr>
<tr id="t2021-07-14T18:20:51"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">JPEW: the issue is that FOO_o_append persists indefinitely whilst the latter is unset by FOO_o = &quot;y&quot;</td><td class="time"><a href="#t2021-07-14T18:20:51" class="time">18:20</a></td></tr>
<tr id="t2021-07-14T18:21:42"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">RP: Ah, right. And in the new world?</td><td class="time"><a href="#t2021-07-14T18:21:42" class="time">18:21</a></td></tr>
<tr id="t2021-07-14T18:21:57"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">JPEW: implementation of defvar dependent</td><td class="time"><a href="#t2021-07-14T18:21:57" class="time">18:21</a></td></tr>
<tr id="t2021-07-14T18:22:14"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">The question is whether we're trying to get the existing metadata to parse correctly or not</td><td class="time"><a href="#t2021-07-14T18:22:14" class="time">18:22</a></td></tr>
<tr id="t2021-07-14T18:23:09"><td class="action" colspan="2">* JPEW updates the stable with my understanding</td><td><a href="#t2021-07-14T18:23:09" class="time">18:23</a></td></tr>
<tr id="t2021-07-14T18:23:37"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">Ugh I cannot type today. I updated the *table*</td><td class="time"><a href="#t2021-07-14T18:23:37" class="time">18:23</a></td></tr>
<tr id="t2021-07-14T18:23:41"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">I was hoping we could move to a deferred model and then update syntax to adapt and simplify but I'm starting to think we probably have to break the metadata :(</td><td class="time"><a href="#t2021-07-14T18:23:41" class="time">18:23</a></td></tr>
<tr id="t2021-07-14T18:23:57"><td class="action" colspan="2">* RP wondered where the ponies came from :)</td><td><a href="#t2021-07-14T18:23:57" class="time">18:23</a></td></tr>
<tr id="t2021-07-14T18:24:54"><th class="nick" style="background: #5959a9">paulg</th><td class="text" style="color: #5959a9">I was holding out for unicorns.</td><td class="time"><a href="#t2021-07-14T18:24:54" class="time">18:24</a></td></tr>
<tr id="t2021-07-14T18:25:05"><th class="nick" style="background: #c668c6">kergoth</th><td class="text" style="color: #c668c6">Hmm, it is tempting to just drop support for _append/_prepend with the switchover and sidestep the issues, but then again, if we're going to break format compatibility, it'd be worth thinking about any other long standing issues with the format while we're at it</td><td class="time"><a href="#t2021-07-14T18:25:05" class="time">18:25</a></td></tr>
<tr id="t2021-07-14T18:26:21"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">JPEW: tweaked it</td><td class="time"><a href="#t2021-07-14T18:26:21" class="time">18:26</a></td></tr>
<tr id="t2021-07-14T18:26:52"><th class="nick" style="background: #c668c6">kergoth</th><td class="text" style="color: #c668c6">I feel like the user's intention behind FOO_o +=, FOO_o_append, and FOO_append_o are all really the same, just the mechanism and implementation details vary in ways that tend to confuse, even if those of us who understand those details are able to leverage them in various ways.</td><td class="time"><a href="#t2021-07-14T18:26:52" class="time">18:26</a></td></tr>
<tr id="t2021-07-14T18:26:58"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">kergoth: agreed. I suspect we need to look case by case at changes though</td><td class="time"><a href="#t2021-07-14T18:26:58" class="time">18:26</a></td></tr>
<tr id="t2021-07-14T18:27:14"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">kergoth: It depends I think. If it is purely syntax changes, we might be able to implement a new parse, but keep the datastore etc.</td><td class="time"><a href="#t2021-07-14T18:27:14" class="time">18:27</a></td></tr>
<tr id="t2021-07-14T18:27:14-2"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">kergoth: right, exactly :/</td><td class="time"><a href="#t2021-07-14T18:27:14-2" class="time">18:27</a></td></tr>
<tr id="t2021-07-14T18:27:35"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">RP: FOO_o_defvar makes my head hurt :)</td><td class="time"><a href="#t2021-07-14T18:27:35" class="time">18:27</a></td></tr>
<tr id="t2021-07-14T18:28:13"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">JPEW: you should see what this sample code did to the metadata</td><td class="time"><a href="#t2021-07-14T18:28:13" class="time">18:28</a></td></tr>
<tr id="t2021-07-14T18:29:05"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">I think this is going to go beyond syntax changes, I'm not sure we can avoid that :(</td><td class="time"><a href="#t2021-07-14T18:29:05" class="time">18:29</a></td></tr>
<tr id="t2021-07-14T18:29:42"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">kergoth: but basically you're right, we need to simplify the X ways of doing this into something simpler</td><td class="time"><a href="#t2021-07-14T18:29:42" class="time">18:29</a></td></tr>
<tr id="t2021-07-14T18:31:04"><th class="nick" style="background: #c668c6">kergoth</th><td class="text" style="color: #c668c6">Hey, I wonder if this would be better or worse thant he proposed {} approach: `FOO = &quot;bar&quot; if o` or `FOO = &quot;bar&quot; if o in OVERRIDES`. it'd align with the ability to define an override if block</td><td class="time"><a href="#t2021-07-14T18:31:04" class="time">18:31</a></td></tr>
<tr id="t2021-07-14T18:31:56"><th class="nick" style="background: #c668c6">kergoth</th><td class="text" style="color: #c668c6">s/approach/syntax/</td><td class="time"><a href="#t2021-07-14T18:31:56" class="time">18:31</a></td></tr>
<tr id="t2021-07-14T18:32:28"><th class="nick" style="background: #c668c6">kergoth</th><td class="text" style="color: #c668c6">proposed is a strong word for what's essentially brainstorming, but just a random other idea :)</td><td class="time"><a href="#t2021-07-14T18:32:28" class="time">18:32</a></td></tr>
<tr id="t2021-07-14T18:32:46"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">kergoth: if idea of multiple overrides variables makes my head hurt</td><td class="time"><a href="#t2021-07-14T18:32:46" class="time">18:32</a></td></tr>
<tr id="t2021-07-14T18:32:55"><th class="nick" style="background: #c668c6">kergoth</th><td class="text" style="color: #c668c6">it is common for new users to go 'why isn't this just an if statement?' after all :)</td><td class="time"><a href="#t2021-07-14T18:32:55" class="time">18:32</a></td></tr>
<tr id="t2021-07-14T18:33:11"><th class="nick" style="background: #c668c6">kergoth</th><td class="text" style="color: #c668c6">yeah, i'd say probably avoid that complecation. just 'if a' or 'if a and b'</td><td class="time"><a href="#t2021-07-14T18:33:11" class="time">18:33</a></td></tr>
<tr id="t2021-07-14T18:33:15"><td class="action" colspan="2">* kergoth shrugs</td><td><a href="#t2021-07-14T18:33:15" class="time">18:33</a></td></tr>
<tr id="t2021-07-14T18:33:58"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">its definitely food for thought</td><td class="time"><a href="#t2021-07-14T18:33:58" class="time">18:33</a></td></tr>
<tr id="t2021-07-14T18:35:13"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">JPEW: can you change proposed to brainstorming on that wiki page title just so that people don't get confused without the context here?</td><td class="time"><a href="#t2021-07-14T18:35:13" class="time">18:35</a></td></tr>
<tr id="t2021-07-14T18:35:32"><th class="nick" style="background: #c668c6">kergoth</th><td class="text" style="color: #c668c6">That's a good idea, make it clear it's not an official proposal</td><td class="time"><a href="#t2021-07-14T18:35:32" class="time">18:35</a></td></tr>
<tr id="t2021-07-14T18:35:35"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">RP: sure!</td><td class="time"><a href="#t2021-07-14T18:35:35" class="time">18:35</a></td></tr>
<tr id="t2021-07-14T18:36:30"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657"><a href="https://www.openembedded.org/wiki/New_Bitbake_Syntax_Brainstorm" rel="nofollow">https://www.openembedded.org/wiki/New_Bitbake_Syntax_Brainstorm</a></td><td class="time"><a href="#t2021-07-14T18:36:30" class="time">18:36</a></td></tr>
<tr id="t2021-07-14T18:37:33"><th class="nick" style="background: #5959a9">paulg</th><td class="text" style="color: #5959a9">RP, zeddii - seen any reports about qemu stalling on kernel reboot?&nbsp;&nbsp;I just reproduced it on vanilla yocto, using slightly older v5.10.43 ; can still get to qemu console, so qemu isn't completely borked. ;&nbsp;&nbsp;using the Ubuntu qemu binary and identical cmdline+images and the issue goes away.</td><td class="time"><a href="#t2021-07-14T18:37:33" class="time">18:37</a></td></tr>
<tr id="t2021-07-14T18:38:45"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">paulg: we've seen stall issues, some of them at poweroff</td><td class="time"><a href="#t2021-07-14T18:38:45" class="time">18:38</a></td></tr>
<tr id="t2021-07-14T18:39:52"><th class="nick" style="background: #c668c6">kergoth</th><td class="text" style="color: #c668c6">RP: are you going to keep the behavior where FOO = &quot;bar&quot; would blow away existing pending +=/=+, or change those semantics such that `FOO = &quot;bar&quot;` updates the defvar and doesn't clear pending operations of any kind, but add your previously proposed command to do that explicitly, so that intention is explicit and clear? I rather like the latter</td><td class="time"><a href="#t2021-07-14T18:39:52" class="time">18:39</a></td></tr>
<tr id="t2021-07-14T18:40:03"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">paulg: I think I closed the bugs blaming the rcu stall</td><td class="time"><a href="#t2021-07-14T18:40:03" class="time">18:40</a></td></tr>
<tr id="t2021-07-14T18:40:11"><th class="nick" style="background: #c668c6">kergoth</th><td class="text" style="color: #c668c6">if the latter, could we avoid the need for ??= at all?</td><td class="time"><a href="#t2021-07-14T18:40:11" class="time">18:40</a></td></tr>
<tr id="t2021-07-14T18:40:13"><th class="nick" style="background: #5959a9">paulg</th><td class="text" style="color: #5959a9">nothing like that&nbsp;&nbsp;AFAIK ; perfectly normal shutdown ; last msgs seen is...</td><td class="time"><a href="#t2021-07-14T18:40:13" class="time">18:40</a></td></tr>
<tr id="t2021-07-14T18:40:16"><th class="nick" style="background: #5959a9">paulg</th><td class="text" style="color: #5959a9">[&nbsp;&nbsp; 35.643863] systemd-shutdown[1]: Rebooting.</td><td class="time"><a href="#t2021-07-14T18:40:16" class="time">18:40</a></td></tr>
<tr id="t2021-07-14T18:40:16-2"><th class="nick" style="background: #5959a9">paulg</th><td class="text" style="color: #5959a9">[&nbsp;&nbsp; 35.656070] reboot: Restarting system</td><td class="time"><a href="#t2021-07-14T18:40:16-2" class="time">18:40</a></td></tr>
<tr id="t2021-07-14T18:40:16-3"><th class="nick" style="background: #5959a9">paulg</th><td class="text" style="color: #5959a9">[&nbsp;&nbsp; 35.656780] reboot: machine restart</td><td class="time"><a href="#t2021-07-14T18:40:16-3" class="time">18:40</a></td></tr>
<tr id="t2021-07-14T18:40:20"><td class="action" colspan="2">* kergoth ponders</td><td><a href="#t2021-07-14T18:40:20" class="time">18:40</a></td></tr>
<tr id="t2021-07-14T18:40:31"><th class="nick" style="background: #5959a9">paulg</th><td class="text" style="color: #5959a9">and then it just sits there sulking and pining for the fijords.</td><td class="time"><a href="#t2021-07-14T18:40:31" class="time">18:40</a></td></tr>
<tr id="t2021-07-14T18:40:43"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">kergoth: I'm really tempted by the latter too, I like the idea a lot. I just worry about how we migrate</td><td class="time"><a href="#t2021-07-14T18:40:43" class="time">18:40</a></td></tr>
<tr id="t2021-07-14T18:41:21"><th class="nick" style="background: #c668c6">kergoth</th><td class="text" style="color: #c668c6">Hmm, can we check the current metadata to figure out where we rely on that behavior?</td><td class="time"><a href="#t2021-07-14T18:41:21" class="time">18:41</a></td></tr>
<tr id="t2021-07-14T18:41:31"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">paulg: does sound like some of the shutdown issues we've seen but it was never reproducible</td><td class="time"><a href="#t2021-07-14T18:41:31" class="time">18:41</a></td></tr>
<tr id="t2021-07-14T18:41:38"><th class="nick" style="background: #c668c6">kergoth</th><td class="text" style="color: #c668c6">probably could in theory..</td><td class="time"><a href="#t2021-07-14T18:41:38" class="time">18:41</a></td></tr>
<tr id="t2021-07-14T18:41:51"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">kergoth: probably in theory but I suspect we rely on that a lot</td><td class="time"><a href="#t2021-07-14T18:41:51" class="time">18:41</a></td></tr>
<tr id="t2021-07-14T18:42:09"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">kergoth: I found even the quilt-native recipe does fun stuff with overrides</td><td class="time"><a href="#t2021-07-14T18:42:09" class="time">18:42</a></td></tr>
<tr id="t2021-07-14T18:42:14"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">well, append and ordering</td><td class="time"><a href="#t2021-07-14T18:42:14" class="time">18:42</a></td></tr>
<tr id="t2021-07-14T18:42:46"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">kergoth: it wants to keep the do_configure_prepend and do_configure_append but change do_configure only for class-native :)</td><td class="time"><a href="#t2021-07-14T18:42:46" class="time">18:42</a></td></tr>
<tr id="t2021-07-14T18:43:06"><th class="nick" style="background: #5959a9">paulg</th><td class="text" style="color: #5959a9">&quot;shutdown -h now&quot; works fine, and &quot;runqemu nographic&quot; falls out the bottom as expected.</td><td class="time"><a href="#t2021-07-14T18:43:06" class="time">18:43</a></td></tr>
<tr id="t2021-07-14T18:43:08"><th class="nick" style="background: #c668c6">kergoth</th><td class="text" style="color: #c668c6">oof</td><td class="time"><a href="#t2021-07-14T18:43:08" class="time">18:43</a></td></tr>
<tr id="t2021-07-14T18:44:18"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">kergoth: its amazing how much encode the behaviours into the metadata :(</td><td class="time"><a href="#t2021-07-14T18:44:18" class="time">18:44</a></td></tr>
<tr id="t2021-07-14T18:44:44"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">paulg: hmm, don't know I'm afraid</td><td class="time"><a href="#t2021-07-14T18:44:44" class="time">18:44</a></td></tr>
<tr id="t2021-07-14T18:44:45"><th class="nick" style="background: #c668c6">kergoth</th><td class="text" style="color: #c668c6">It really is. I wish we could more directly state what the recipe wants without having to always delve into the *how* of what bitbake is doing</td><td class="time"><a href="#t2021-07-14T18:44:45" class="time">18:44</a></td></tr>
<tr id="t2021-07-14T18:45:53"><th class="nick" style="background: #5959a9">paulg</th><td class="text" style="color: #5959a9">RP, thanks -- I'll continue looking at it ; see if I can figure it out.</td><td class="time"><a href="#t2021-07-14T18:45:53" class="time">18:45</a></td></tr>
<tr id="t2021-07-14T18:46:17"><th class="nick" style="background: #c668c6">kergoth</th><td class="text" style="color: #c668c6">That's part of why I've wondered about a python-based plugin mechanism. interact with actual python apis to change behavior when needed, outside the limitations of the format, so the actual metadata can focus on the what, not the how</td><td class="time"><a href="#t2021-07-14T18:46:17" class="time">18:46</a></td></tr>
<tr id="t2021-07-14T18:46:57"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">kergoth: It might useful to show what you would want to the syntax to actually look like</td><td class="time"><a href="#t2021-07-14T18:46:57" class="time">18:46</a></td></tr>
<tr id="t2021-07-14T18:47:21"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">kergoth: Having worked in a build system where you can &quot;do whatever you want&quot; with python (waf) I do not recommend it</td><td class="time"><a href="#t2021-07-14T18:47:21" class="time">18:47</a></td></tr>
<tr id="t2021-07-14T18:48:23"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">(maybe that's not what you had in mind, though)</td><td class="time"><a href="#t2021-07-14T18:48:23" class="time">18:48</a></td></tr>
<tr id="t2021-07-14T18:49:55"><th class="nick" style="background: #c668c6">kergoth</th><td class="text" style="color: #c668c6">Eh, that's part of the issue, I don't think anyone knows exactly what we'd like to see, just what we don't like about what we do now :)</td><td class="time"><a href="#t2021-07-14T18:49:55" class="time">18:49</a></td></tr>
<tr id="t2021-07-14T18:50:11"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">What could work might be a new immediate directive which says &quot;parse this file from here using this parser version&quot;</td><td class="time"><a href="#t2021-07-14T18:50:11" class="time">18:50</a></td></tr>
<tr id="t2021-07-14T18:50:52"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">which would then allow us, file by file to move to a new format, assuming we can put things into the datastore in a way which is backwards compatible</td><td class="time"><a href="#t2021-07-14T18:50:52" class="time">18:50</a></td></tr>
<tr id="t2021-07-14T18:51:01"><th class="nick" style="background: #c668c6">kergoth</th><td class="text" style="color: #c668c6">Yeah, I thought about that too. Then we can avoid the need for a different extension or hard break, but it'd complecate the parsing *and* metadata processing</td><td class="time"><a href="#t2021-07-14T18:51:01" class="time">18:51</a></td></tr>
<tr id="t2021-07-14T18:51:13"><th class="nick" style="background: #c668c6">kergoth</th><td class="text" style="color: #c668c6">probably better than the alternatives, though</td><td class="time"><a href="#t2021-07-14T18:51:13" class="time">18:51</a></td></tr>
<tr id="t2021-07-14T18:51:15"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">it would also allow us to change the meaning of operators</td><td class="time"><a href="#t2021-07-14T18:51:15" class="time">18:51</a></td></tr>
<tr id="t2021-07-14T18:51:15-2"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">RP: Would a new extension be easier (&quot;.bb2&quot;)?</td><td class="time"><a href="#t2021-07-14T18:51:15-2" class="time">18:51</a></td></tr>
<tr id="t2021-07-14T18:51:32"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">JPEW: what is worrying me is things like inheriting classes and inc files</td><td class="time"><a href="#t2021-07-14T18:51:32" class="time">18:51</a></td></tr>
<tr id="t2021-07-14T18:51:55"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">this way you say explicitly which parser to use for a file and the way the parser works, it could probably be quite happy with that</td><td class="time"><a href="#t2021-07-14T18:51:55" class="time">18:51</a></td></tr>
<tr id="t2021-07-14T18:52:05"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">Ah, right</td><td class="time"><a href="#t2021-07-14T18:52:05" class="time">18:52</a></td></tr>
<tr id="t2021-07-14T18:52:28"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">e.g. if you want to use an OE-Core bbclass in v2 with metadata in a layer using v1</td><td class="time"><a href="#t2021-07-14T18:52:28" class="time">18:52</a></td></tr>
<tr id="t2021-07-14T18:52:43"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">In the regard, I think it pretty much has to be a purely syntatical change... you can't change the datastore too much and still have it work correctly</td><td class="time"><a href="#t2021-07-14T18:52:43" class="time">18:52</a></td></tr>
<tr id="t2021-07-14T18:52:44"><th class="nick" style="background: #c668c6">kergoth</th><td class="text" style="color: #c668c6">How will operations be applied when they're mixed and matched? What happens if a recipe inherits a class that uses the old syntax, or vice versa?</td><td class="time"><a href="#t2021-07-14T18:52:44" class="time">18:52</a></td></tr>
<tr id="t2021-07-14T18:53:10"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">kergoth: directive in the class would switch to the new version</td><td class="time"><a href="#t2021-07-14T18:53:10" class="time">18:53</a></td></tr>
<tr id="t2021-07-14T18:53:29"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">so basically the parser would change state for each file to v1 until told otherwise</td><td class="time"><a href="#t2021-07-14T18:53:29" class="time">18:53</a></td></tr>
<tr id="t2021-07-14T18:53:46"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">JPEW: I think you could do more than syntactical change with this</td><td class="time"><a href="#t2021-07-14T18:53:46" class="time">18:53</a></td></tr>
<tr id="t2021-07-14T18:54:02"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">e.g. in v2, += and _append could be the same</td><td class="time"><a href="#t2021-07-14T18:54:02" class="time">18:54</a></td></tr>
<tr id="t2021-07-14T18:54:38"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">RP: Right, but that's changing how the AST behaves, not how the datastore is used?</td><td class="time"><a href="#t2021-07-14T18:54:38" class="time">18:54</a></td></tr>
<tr id="t2021-07-14T18:54:46"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">so the way it maps to the datastore would be dependent on the mode the parser was in</td><td class="time"><a href="#t2021-07-14T18:54:46" class="time">18:54</a></td></tr>
<tr id="t2021-07-14T18:54:56"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">JPEW: the behaviour of the datastore isn't really the problem</td><td class="time"><a href="#t2021-07-14T18:54:56" class="time">18:54</a></td></tr>
<tr id="t2021-07-14T18:55:16"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">the problem is wanting to simplfy the syntax</td><td class="time"><a href="#t2021-07-14T18:55:16" class="time">18:55</a></td></tr>
<tr id="t2021-07-14T18:55:39"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">Right, ya. That's what I was meaning by &quot;syntatical changes&quot;... you use the same datastore and populate it differently. Perhaps the wrong word</td><td class="time"><a href="#t2021-07-14T18:55:39" class="time">18:55</a></td></tr>
<tr id="t2021-07-14T18:56:17"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">It does depend on where you look at it from :)</td><td class="time"><a href="#t2021-07-14T18:56:17" class="time">18:56</a></td></tr>
<tr id="t2021-07-14T18:58:39"><th class="nick" style="background: #c668c6">kergoth</th><td class="text" style="color: #c668c6">RP: defaulting each file to v1 until explicitly opting in does sound like it'd work well. i imagine in the long term we'd switch the default to avoid needing extra boilerplate in every file indefinitely though :)</td><td class="time"><a href="#t2021-07-14T18:58:39" class="time">18:58</a></td></tr>
<tr id="t2021-07-14T18:59:18"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">kergoth: or use the file extension too maybe?</td><td class="time"><a href="#t2021-07-14T18:59:18" class="time">18:59</a></td></tr>
<tr id="t2021-07-14T18:59:20"><th class="nick" style="background: #c668c6">kergoth</th><td class="text" style="color: #c668c6">could be worth considering the .conf vs .inc/.bb/.bbclass divide too, either now or later. the difference seems silly in retrospect. also '.conf' doesn't imply bitbake directly, as an extension</td><td class="time"><a href="#t2021-07-14T18:59:20" class="time">18:59</a></td></tr>
<tr id="t2021-07-14T18:59:48"><th class="nick" style="background: #488888">RP</th><td class="text" style="color: #488888">kergoth: I do think we could make better use of that distinction at times...</td><td class="time"><a href="#t2021-07-14T18:59:48" class="time">18:59</a></td></tr>
<tr id="t2021-07-14T19:05:16"><td class="nickchange" colspan="2">*** camus1 is now known as camus</td><td><a href="#t2021-07-14T19:05:16" class="time">19:05</a></td></tr>
<tr id="t2021-07-14T19:56:14"><th class="nick" style="background: #818144">LetoThe2nd</th><td class="text" style="color: #818144">is there any trick/shortcut to run -c testimage on a slirp connection?</td><td class="time"><a href="#t2021-07-14T19:56:14" class="time">19:56</a></td></tr>
<tr id="t2021-07-14T20:08:06"><td class="nickchange" colspan="2">*** camus1 is now known as camus</td><td><a href="#t2021-07-14T20:08:06" class="time">20:08</a></td></tr>
<tr id="t2021-07-14T20:33:09"><td class="nickchange" colspan="2">*** florian_kc is now known as florian</td><td><a href="#t2021-07-14T20:33:09" class="time">20:33</a></td></tr>
<tr id="t2021-07-14T21:13:28-2"><td class="nickchange" colspan="2">*** camus1 is now known as camus</td><td><a href="#t2021-07-14T21:13:28-2" class="time">21:13</a></td></tr>
<tr id="t2021-07-14T21:32:11"><td class="nickchange" colspan="2">*** camus1 is now known as camus</td><td><a href="#t2021-07-14T21:32:11" class="time">21:32</a></td></tr>
<tr id="t2021-07-14T21:38:48"><th class="nick" style="background: #4d4d93">splatch</th><td class="text" style="color: #4d4d93">qschulz: out of curiosity, do you know a recipe with swupdate + grub and switchable bzimage as this is root cause of my issue. The bootloader uses bzimage which is shipped with initial install (4.19). I found an example of tanowrt which does it by using two additional parititions and switching of bzimage partition together with rootfs. I traced also homeassistant which rely on rauc+buildroot and does</td><td class="time"><a href="#t2021-07-14T21:38:48" class="time">21:38</a></td></tr>
<tr id="t2021-07-14T21:38:54"><th class="nick" style="background: #4d4d93">splatch</th><td class="text" style="color: #4d4d93">dynamic remounting. Finding something in between would be very helpful.</td><td class="time"><a href="#t2021-07-14T21:38:54" class="time">21:38</a></td></tr>
<tr id="t2021-07-14T23:24:56"><td class="nickchange" colspan="2">*** camus1 is now known as camus</td><td><a href="#t2021-07-14T23:24:56" class="time">23:24</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2021-07-13.log.html">&#171; Tuesday, 2021-07-13</a> <a href="index.html">Index</a> <a href="%23yocto.2021-07-15.log.html">Thursday, 2021-07-15 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.17.2 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="https://mg.pov.lt/irclog2html/">https://mg.pov.lt/irclog2html/</a>!</p>
</div>
</body>
</html>
