<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Sunday, 2021-02-07</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.17.2 by Marius Gedminas" />
  <meta name="version" content="2.17.2 - 2019-04-23" />
</head>
<body>
<h1>Sunday, 2021-02-07</h1>
<div class="navigation"> <a href="%23yocto.2021-02-06.log.html">&#171; Saturday, 2021-02-06</a> <a href="index.html">Index</a> <a href="%23yocto.2021-02-08.log.html">Monday, 2021-02-08 &#187;</a> </div>
<table class="irclog">
<tr id="t2021-02-07T01:44:04-2"><td class="nickchange" colspan="2">*** dleppich1 is now known as dleppich</td><td><a href="#t2021-02-07T01:44:04-2" class="time">01:44</a></td></tr>
<tr id="t2021-02-07T07:49:03"><th class="nick" style="background: #407a40">jacboain</th><td class="text" style="color: #407a40">The link <a href="http://www.airspayce.com/mikem/bcm2835/bcm2835-${PV}.tar.gz" rel="nofollow">http://www.airspayce.com/mikem/bcm2835/bcm2835-${PV}.tar.gz</a> is invalid</td><td class="time"><a href="#t2021-02-07T07:49:03" class="time">07:49</a></td></tr>
<tr id="t2021-02-07T07:49:19"><th class="nick" style="background: #407a40">jacboain</th><td class="text" style="color: #407a40">why is it still there then?</td><td class="time"><a href="#t2021-02-07T07:49:19" class="time">07:49</a></td></tr>
<tr id="t2021-02-07T16:00:40"><th class="nick" style="background: #42427e">loblik</th><td class="text" style="color: #42427e">can I somehow make a recipe to rebuild (not use cache) if output of different recipe changes? I'm trying to getrid of this nostamp (line 25) <a href="https://git.yoctoproject.org/cgit/cgit.cgi/meta-security/tree/recipes-core/images/dm-verity-image-initramfs.bb#n25" rel="nofollow">https://git.yoctoproject.org/cgit/cgit.cgi/meta-security/tree/recipes-core/images/dm-verity-image-initramfs.bb#n25</a></td><td class="time"><a href="#t2021-02-07T16:00:40" class="time">16:00</a></td></tr>
<tr id="t2021-02-07T16:03:04"><th class="nick" style="background: #42427e">loblik</th><td class="text" style="color: #42427e">I guess this nostamp makes initramfs always rebuild whatever package I'm trying to build. probably through libc -&gt; kernel -&gt; initramfs dependency chain?</td><td class="time"><a href="#t2021-02-07T16:03:04" class="time">16:03</a></td></tr>
<tr id="t2021-02-07T16:37:05"><th class="nick" style="background: #818144">boucman</th><td class="text" style="color: #818144">loblik, if a recipe change, the signature of the rootfs change so you need to rebuild the initramfs anyway, right ?</td><td class="time"><a href="#t2021-02-07T16:37:05" class="time">16:37</a></td></tr>
<tr id="t2021-02-07T16:46:55"><th class="nick" style="background: #42427e">loblik</th><td class="text" style="color: #42427e">if I want to build whole image then yes. but most of the time I want to rebuild just one package and then it also rebuilds initramfs and kernel. that only happens if this nostamp is present.</td><td class="time"><a href="#t2021-02-07T16:46:55" class="time">16:46</a></td></tr>
<tr id="t2021-02-07T16:54:01"><th class="nick" style="background: #42427e">loblik</th><td class="text" style="color: #42427e">I was also thinking about removing the nostamp and writing some hook which would indicate if initramfs from cache can be reused or not. by checking if rootfs has changed.</td><td class="time"><a href="#t2021-02-07T16:54:01" class="time">16:54</a></td></tr>
<tr id="t2021-02-07T16:54:09"><th class="nick" style="background: #42427e">loblik</th><td class="text" style="color: #42427e">but I'm not sure if this is possible</td><td class="time"><a href="#t2021-02-07T16:54:09" class="time">16:54</a></td></tr>
<tr id="t2021-02-07T17:31:38"><th class="nick" style="background: #818144">boucman</th><td class="text" style="color: #818144">ok, I don't know the answer to your original question, but if I were you, i'd use &quot;git blame&quot; to try to figure out why that nostamp is here...</td><td class="time"><a href="#t2021-02-07T17:31:38" class="time">17:31</a></td></tr>
<tr id="t2021-02-07T17:37:50"><th class="nick" style="background: #42427e">loblik</th><td class="text" style="color: #42427e">It's there to make sure the initramfs always contains latest root hash (even in cases when bitbake does not consider rootfs image as changed). It's nicely described here <a href="https://www.yoctoproject.org/pipermail/yocto/2019-August/046464.html" rel="nofollow">https://www.yoctoproject.org/pipermail/yocto/2019-August/046464.html</a></td><td class="time"><a href="#t2021-02-07T17:37:50" class="time">17:37</a></td></tr>
<tr id="t2021-02-07T17:39:30"><th class="nick" style="background: #42427e">loblik</th><td class="text" style="color: #42427e">I'm just looking for a better solution then to always rebuild intramfs.</td><td class="time"><a href="#t2021-02-07T17:39:30" class="time">17:39</a></td></tr>
<tr id="t2021-02-07T18:17:47"><th class="nick" style="background: #854685">OriPessach</th><td class="text" style="color: #854685">Hi - I'm running into a confusing issue trying to build an image based on core-image-sato the the gatesgarth branch.</td><td class="time"><a href="#t2021-02-07T18:17:47" class="time">18:17</a></td></tr>
<tr id="t2021-02-07T18:18:18"><th class="nick" style="background: #854685">OriPessach</th><td class="text" style="color: #854685">Some of the packages fail a QA test since they seem to be dependent on glibc 2.33:</td><td class="time"><a href="#t2021-02-07T18:18:18" class="time">18:18</a></td></tr>
<tr id="t2021-02-07T18:18:20"><th class="nick" style="background: #854685">OriPessach</th><td class="text" style="color: #854685">ERROR: zip-3.0-r2 do_package_qa: QA Issue: /usr/bin/zipsplit contained in package zip requires libc.so.6(GLIBC_2.33)(64bit), but no providers found in RDEPENDS_zip? [file-rdeps]</td><td class="time"><a href="#t2021-02-07T18:18:20" class="time">18:18</a></td></tr>
<tr id="t2021-02-07T18:18:20-2"><th class="nick" style="background: #854685">OriPessach</th><td class="text" style="color: #854685">ERROR: zip-3.0-r2 do_package_qa: QA run found fatal errors. Please consider fixing them.</td><td class="time"><a href="#t2021-02-07T18:18:20-2" class="time">18:18</a></td></tr>
<tr id="t2021-02-07T18:18:21"><th class="nick" style="background: #854685">OriPessach</th><td class="text" style="color: #854685">ERROR: Logfile of failure stored in: /home/ori/projects/poky/build/tmp/work/core2-64-poky-linux/zip/3.0-r2/temp/log.do_package_qa.25098</td><td class="time"><a href="#t2021-02-07T18:18:21" class="time">18:18</a></td></tr>
<tr id="t2021-02-07T18:18:21-2"><th class="nick" style="background: #854685">OriPessach</th><td class="text" style="color: #854685">ERROR: Task (/home/ori/projects/poky/meta/recipes-extended/zip/zip_3.0.bb:do_package_qa) failed with exit code '1'</td><td class="time"><a href="#t2021-02-07T18:18:21-2" class="time">18:18</a></td></tr>
<tr id="t2021-02-07T18:20:50"><th class="nick" style="background: #854685">OriPessach</th><td class="text" style="color: #854685">I can't find glibc 2.33 anywhere in sysroot and the compile log for these packages doesn't seem to be accessing it from elsewhere.</td><td class="time"><a href="#t2021-02-07T18:20:50" class="time">18:20</a></td></tr>
<tr id="t2021-02-07T18:42:55"><td class="action" colspan="2">* RzR played with yocto this fosdem weekend :  <a href="https://twitter.com/RzrFreeFr/status/1358478781258878978#:pinball-ohos-fosdem2021" rel="nofollow">https://twitter.com/RzrFreeFr/status/1358478781258878978#:pinball-ohos-fosdem2021</a> RT &lt;3 !</td><td><a href="#t2021-02-07T18:42:55" class="time">18:42</a></td></tr>
<tr id="t2021-02-07T19:06:28"><th class="nick" style="background: #854685">OriPessach</th><td class="text" style="color: #854685">Also, how can I find which packages directly depend on a package that's reported in a &quot;Nothing PROVIDES 'package-name'&quot; error?</td><td class="time"><a href="#t2021-02-07T19:06:28" class="time">19:06</a></td></tr>
<tr id="t2021-02-07T19:51:49"><th class="nick" style="background: #488888">dvorkindmitry</th><td class="text" style="color: #488888">for native recipe how can I add bash scripts into sysroot-native? at do_populate_sysroot stage? it checks for binaries only, not for .sh</td><td class="time"><a href="#t2021-02-07T19:51:49" class="time">19:51</a></td></tr>
<tr id="t2021-02-07T20:14:23"><th class="nick" style="background: #488888">dvorkindmitry</th><td class="text" style="color: #488888">I have native recipe that needs to install bash scripts into recipe-sysroot-native/, but only binaries are installed. How can I include bash scripts?</td><td class="time"><a href="#t2021-02-07T20:14:23" class="time">20:14</a></td></tr>
<tr id="t2021-02-07T21:13:49"><th class="nick" style="background: #8c4a4a">kergoth</th><td class="text" style="color: #8c4a4a">dvorkindmitry: you should not be defining do_populate_sysroot at all. write a do_install that installs them to ${D}${bindir} and that's all you need to do</td><td class="time"><a href="#t2021-02-07T21:13:49" class="time">21:13</a></td></tr>
<tr id="t2021-02-07T21:25:45"><th class="nick" style="background: #488888">dvorkindmitry</th><td class="text" style="color: #488888">kergoth, it doesn't work. I defined do_install and the binary is not installed into recipe-sysroot-native/ of the recipe B</td><td class="time"><a href="#t2021-02-07T21:25:45" class="time">21:25</a></td></tr>
<tr id="t2021-02-07T21:35:54"><th class="nick" style="background: #42427e">loblik</th><td class="text" style="color: #42427e">Ok, I think I now understand more the issue. Is there a way to actively (in a hook or something) stop a setscene task and fallback to rebuilding?</td><td class="time"><a href="#t2021-02-07T21:35:54" class="time">21:35</a></td></tr>
<tr id="t2021-02-07T21:52:45-2"><td class="nickchange" colspan="2">*** aidanh_ is now known as aidanh</td><td><a href="#t2021-02-07T21:52:45-2" class="time">21:52</a></td></tr>
<tr id="t2021-02-07T23:01:25"><th class="nick" style="background: #4b904b">dorinda</th><td class="text" style="color: #4b904b">dvorkindmitry: well i think it's probably what you defined in your do_install that's causing the bash script not to be created</td><td class="time"><a href="#t2021-02-07T23:01:25" class="time">23:01</a></td></tr>
<tr id="t2021-02-07T23:03:00"><th class="nick" style="background: #488888">dvorkindmitry</th><td class="text" style="color: #488888">dorinda, it is worse. I can't even get the binary from A-native recipe in recipe-sysroot-native/ of the recipe B...</td><td class="time"><a href="#t2021-02-07T23:03:00" class="time">23:03</a></td></tr>
<tr id="t2021-02-07T23:04:21"><th class="nick" style="background: #488888">dvorkindmitry</th><td class="text" style="color: #488888"><a href="https://pastebin.com/A5dShZh8" rel="nofollow">https://pastebin.com/A5dShZh8</a></td><td class="time"><a href="#t2021-02-07T23:04:21" class="time">23:04</a></td></tr>
<tr id="t2021-02-07T23:22:45"><th class="nick" style="background: #4b904b">dorinda</th><td class="text" style="color: #4b904b">maybe you should try:&nbsp;&nbsp;echo &quot;DV destdir0:${D}&quot; &gt; ${D}/usr/bin/profile.d/myscript.sh</td><td class="time"><a href="#t2021-02-07T23:22:45" class="time">23:22</a></td></tr>
<tr id="t2021-02-07T23:23:55"><th class="nick" style="background: #4b904b">dorinda</th><td class="text" style="color: #4b904b">mkdir for profile.d first</td><td class="time"><a href="#t2021-02-07T23:23:55" class="time">23:23</a></td></tr>
<tr id="t2021-02-07T23:54:37"><th class="nick" style="background: #488888">dvorkindmitry</th><td class="text" style="color: #488888">dorinda, it doesn't work</td><td class="time"><a href="#t2021-02-07T23:54:37" class="time">23:54</a></td></tr>
<tr id="t2021-02-07T23:54:54"><th class="nick" style="background: #488888">dvorkindmitry</th><td class="text" style="color: #488888">no myscript in recipe-sysroot-native/ of the recipe B</td><td class="time"><a href="#t2021-02-07T23:54:54" class="time">23:54</a></td></tr>
<tr id="t2021-02-07T23:59:42"><th class="nick" style="background: #4b904b">dorinda</th><td class="text" style="color: #4b904b">hmm, i don't know maybe someone else can help you out.</td><td class="time"><a href="#t2021-02-07T23:59:42" class="time">23:59</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2021-02-06.log.html">&#171; Saturday, 2021-02-06</a> <a href="index.html">Index</a> <a href="%23yocto.2021-02-08.log.html">Monday, 2021-02-08 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.17.2 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="https://mg.pov.lt/irclog2html/">https://mg.pov.lt/irclog2html/</a>!</p>
</div>
</body>
</html>
