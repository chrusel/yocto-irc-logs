<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Tuesday, 2021-09-07</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.17.2 by Marius Gedminas" />
  <meta name="version" content="2.17.2 - 2019-04-23" />
</head>
<body>
<h1>Tuesday, 2021-09-07</h1>
<div class="navigation"> <a href="%23yocto.2021-09-06.log.html">&#171; Monday, 2021-09-06</a> <a href="index.html">Index</a> <a href="%23yocto.2021-09-08.log.html">Wednesday, 2021-09-08 &#187;</a> </div>
<table class="irclog">
<tr id="t2021-09-07T06:15:57"><th class="nick" style="background: #407a40">user_</th><td class="text" style="color: #407a40"><a href="https://pastebin.com/xKsHDJJB" rel="nofollow">https://pastebin.com/xKsHDJJB</a> can anyone help me resolving this error,iam trying to build a multimedia image with multilib support</td><td class="time"><a href="#t2021-09-07T06:15:57" class="time">06:15</a></td></tr>
<tr id="t2021-09-07T06:36:31"><td class="nickchange" colspan="2">*** mckoan|away is now known as mckoan</td><td><a href="#t2021-09-07T06:36:31" class="time">06:36</a></td></tr>
<tr id="t2021-09-07T06:36:55"><th class="nick" style="background: #42427e">mckoan</th><td class="text" style="color: #42427e">good morning</td><td class="time"><a href="#t2021-09-07T06:36:55" class="time">06:36</a></td></tr>
<tr id="t2021-09-07T06:56:01"><td class="nickchange" colspan="2">*** user_ is now known as user_123</td><td><a href="#t2021-09-07T06:56:01" class="time">06:56</a></td></tr>
<tr id="t2021-09-07T06:56:03"><th class="nick" style="background: #407a40">user_123</th><td class="text" style="color: #407a40">Hi</td><td class="time"><a href="#t2021-09-07T06:56:03" class="time">06:56</a></td></tr>
<tr id="t2021-09-07T06:56:41"><th class="nick" style="background: #407a40">user_123</th><td class="text" style="color: #407a40">I need to enable multilib support in My yoctobuild</td><td class="time"><a href="#t2021-09-07T06:56:41" class="time">06:56</a></td></tr>
<tr id="t2021-09-07T06:57:44"><th class="nick" style="background: #407a40">user_123</th><td class="text" style="color: #407a40">I am getting errors when local.conf is modified as suggested by NXP</td><td class="time"><a href="#t2021-09-07T06:57:44" class="time">06:57</a></td></tr>
<tr id="t2021-09-07T06:58:05"><th class="nick" style="background: #407a40">user_123</th><td class="text" style="color: #407a40"> <a href="https://pastebin.com/xKsHDJJB" rel="nofollow">https://pastebin.com/xKsHDJJB</a> i added the error log</td><td class="time"><a href="#t2021-09-07T06:58:05" class="time">06:58</a></td></tr>
<tr id="t2021-09-07T06:58:58-2"><th class="nick" style="background: #42427e">mckoan</th><td class="text" style="color: #42427e">user_123: no clue. Maybe describe what you are doing</td><td class="time"><a href="#t2021-09-07T06:58:58-2" class="time">06:58</a></td></tr>
<tr id="t2021-09-07T06:59:26"><th class="nick" style="background: #407a40">user_123</th><td class="text" style="color: #407a40">I am running bitbake imx-image-multimedia</td><td class="time"><a href="#t2021-09-07T06:59:26" class="time">06:59</a></td></tr>
<tr id="t2021-09-07T06:59:50"><th class="nick" style="background: #407a40">user_123</th><td class="text" style="color: #407a40">I am getting errors</td><td class="time"><a href="#t2021-09-07T06:59:50" class="time">06:59</a></td></tr>
<tr id="t2021-09-07T07:00:15"><th class="nick" style="background: #407a40">user_123</th><td class="text" style="color: #407a40">Please see&nbsp;&nbsp;<a href="https://pastebin.com/xKsHDJJB" rel="nofollow">https://pastebin.com/xKsHDJJB</a></td><td class="time"><a href="#t2021-09-07T07:00:15" class="time">07:00</a></td></tr>
<tr id="t2021-09-07T07:00:22"><th class="nick" style="background: #407a40">user_123</th><td class="text" style="color: #407a40">For error log</td><td class="time"><a href="#t2021-09-07T07:00:22" class="time">07:00</a></td></tr>
<tr id="t2021-09-07T07:07:50"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">user_123: it is really hard to know what the problem is there. If this has the freescale layer involved you probably need to ask NXP as that layer changes a lot. Have you tried to do this with just plain poky?</td><td class="time"><a href="#t2021-09-07T07:07:50" class="time">07:07</a></td></tr>
<tr id="t2021-09-07T07:21:13"><th class="nick" style="background: #407a40">user_123</th><td class="text" style="color: #407a40">RP: no, i have not tried with plain poky</td><td class="time"><a href="#t2021-09-07T07:21:13" class="time">07:21</a></td></tr>
<tr id="t2021-09-07T07:35:05"><th class="nick" style="background: #854685">Guest39</th><td class="text" style="color: #854685">Hi, I have a problem with the Freescale ethernet driver, likely dpaa_eth.c. Sometimes I see rotten packets which are not dropped but handled much too late, and such packets have a hardware timestamp in the future then. Is any developer here who wants to see the wireshark recording? I use dunfell for imx8 with a Linux kernel of one year ago.</td><td class="time"><a href="#t2021-09-07T07:35:05" class="time">07:35</a></td></tr>
<tr id="t2021-09-07T07:42:46"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">Guest39: if it's a HW timestamp, i'm pretty sure it's not an issue with Yocto? so might want to contact your vendor (NXP or the OEM using NXP SoCs and/or the one selling the Ethernet PHY)</td><td class="time"><a href="#t2021-09-07T07:42:46" class="time">07:42</a></td></tr>
<tr id="t2021-09-07T07:48:38"><th class="nick" style="background: #854685">Guest39</th><td class="text" style="color: #854685">I measure with tcpdump -i eth0 --time-stamp-precision=nano --time-stamp-type=adapter_unsynced&nbsp;&nbsp;... and I think this switches HW timestamps on.</td><td class="time"><a href="#t2021-09-07T07:48:38" class="time">07:48</a></td></tr>
<tr id="t2021-09-07T07:49:32"><th class="nick" style="background: #854685">Guest39</th><td class="text" style="color: #854685">Anyway this is how I understand the tcpdump options</td><td class="time"><a href="#t2021-09-07T07:49:32" class="time">07:49</a></td></tr>
<tr id="t2021-09-07T08:20:14"><th class="nick" style="background: #42427e">mckoan</th><td class="text" style="color: #42427e">Guest39: 99% HW issue</td><td class="time"><a href="#t2021-09-07T08:20:14" class="time">08:20</a></td></tr>
<tr id="t2021-09-07T08:24:48"><th class="nick" style="background: #854685">Guest39</th><td class="text" style="color: #854685">Is it the PHY which sets HW timestamps on an imx8?</td><td class="time"><a href="#t2021-09-07T08:24:48" class="time">08:24</a></td></tr>
<tr id="t2021-09-07T08:25:30"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">Guest39: I doubt there's an Ethernet PHY embedded in the i.MX8 so it depends on the board you're using</td><td class="time"><a href="#t2021-09-07T08:25:30" class="time">08:25</a></td></tr>
<tr id="t2021-09-07T08:25:54"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">your PHY needs to support it, and the driver driving your PHY needs to support it too</td><td class="time"><a href="#t2021-09-07T08:25:54" class="time">08:25</a></td></tr>
<tr id="t2021-09-07T08:35:33"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">RP: I have reproduced <a href="https://bugzilla.yoctoproject.org/show_bug.cgi?id=14342#c20" rel="nofollow">https://bugzilla.yoctoproject.org/show_bug.cgi?id=14342#c20</a> with master (Setscene tasks in both covered and notcovered errors at the end of build)</td><td class="time"><a href="#t2021-09-07T08:35:33" class="time">08:35</a></td></tr>
<tr id="t2021-09-07T08:35:49"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">RP: can you suggest where I could start with figuring out what goes wrong there?</td><td class="time"><a href="#t2021-09-07T08:35:49" class="time">08:35</a></td></tr>
<tr id="t2021-09-07T08:41:30"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin: you can look at the patches I previously added to runqueue around this area. Oddly enough I was planning to take a look at that again today</td><td class="time"><a href="#t2021-09-07T08:41:30" class="time">08:41</a></td></tr>
<tr id="t2021-09-07T08:42:24"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin: there isn't a simple/easy way to even explain where to start on that one :/</td><td class="time"><a href="#t2021-09-07T08:42:24" class="time">08:42</a></td></tr>
<tr id="t2021-09-07T08:42:24-2"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">RP: right, if you do that'd be appreciated - a customer is asking me to prioritize this, but I have no idea where to start without a bit of help from you</td><td class="time"><a href="#t2021-09-07T08:42:24-2" class="time">08:42</a></td></tr>
<tr id="t2021-09-07T08:42:43"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">RP: but it does reproduce fairly easily, so hopefully that helps you</td><td class="time"><a href="#t2021-09-07T08:42:43" class="time">08:42</a></td></tr>
<tr id="t2021-09-07T08:43:07"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin: there is a logic glitch somewhere. A task should never be both covered and notcovered, it should be one or the other</td><td class="time"><a href="#t2021-09-07T08:43:07" class="time">08:43</a></td></tr>
<tr id="t2021-09-07T08:43:26"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin: the question is therefore which codepath ends up with an item on both</td><td class="time"><a href="#t2021-09-07T08:43:26" class="time">08:43</a></td></tr>
<tr id="t2021-09-07T08:43:30"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin: which reproducer did you use?</td><td class="time"><a href="#t2021-09-07T08:43:30" class="time">08:43</a></td></tr>
<tr id="t2021-09-07T08:43:51"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">RP: <a href="https://bugzilla.yoctoproject.org/show_bug.cgi?id=14342#c20" rel="nofollow">https://bugzilla.yoctoproject.org/show_bug.cgi?id=14342#c20</a></td><td class="time"><a href="#t2021-09-07T08:43:51" class="time">08:43</a></td></tr>
<tr id="t2021-09-07T08:44:05"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">one in that last comment</td><td class="time"><a href="#t2021-09-07T08:44:05" class="time">08:44</a></td></tr>
<tr id="t2021-09-07T08:44:07"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">ok, the new one. I've not tried that</td><td class="time"><a href="#t2021-09-07T08:44:07" class="time">08:44</a></td></tr>
<tr id="t2021-09-07T08:48:44"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin: I think something in the last patches I merged &quot;regressed&quot; this. Would be interesting to know if this test case worked before that set of patches</td><td class="time"><a href="#t2021-09-07T08:48:44" class="time">08:48</a></td></tr>
<tr id="t2021-09-07T08:49:08"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">RP: I can try if you point me to suspected good commit</td><td class="time"><a href="#t2021-09-07T08:49:08" class="time">08:49</a></td></tr>
<tr id="t2021-09-07T08:49:30"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin: I say &quot;regressed&quot; as there is a lot I like about that last patchset, so it is a question of trying to fix whatever cornercase broke rather than revert it</td><td class="time"><a href="#t2021-09-07T08:49:30" class="time">08:49</a></td></tr>
<tr id="t2021-09-07T08:50:19"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin: <a href="http://git.yoctoproject.org/cgit.cgi/poky/commit/?id=a15eea5077506111e4167a2361da0306d23543f3" rel="nofollow">http://git.yoctoproject.org/cgit.cgi/poky/commit/?id=a15eea5077506111e4167a2361da0306d23543f3</a></td><td class="time"><a href="#t2021-09-07T08:50:19" class="time">08:50</a></td></tr>
<tr id="t2021-09-07T08:53:18"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin: basically revert that, I was thinking it was a set but I think it was just the one</td><td class="time"><a href="#t2021-09-07T08:53:18" class="time">08:53</a></td></tr>
<tr id="t2021-09-07T09:00:40"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">RP: will run before&amp;after test on that now</td><td class="time"><a href="#t2021-09-07T09:00:40" class="time">09:00</a></td></tr>
<tr id="t2021-09-07T09:34:05"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">RP: yes, that is the offending commit</td><td class="time"><a href="#t2021-09-07T09:34:05" class="time">09:34</a></td></tr>
<tr id="t2021-09-07T09:44:40"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin: I can confirm it does reproduce here too</td><td class="time"><a href="#t2021-09-07T09:44:40" class="time">09:44</a></td></tr>
<tr id="t2021-09-07T09:47:50"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">RP: and gone with the revert</td><td class="time"><a href="#t2021-09-07T09:47:50" class="time">09:47</a></td></tr>
<tr id="t2021-09-07T09:50:18"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin: right :/</td><td class="time"><a href="#t2021-09-07T09:50:18" class="time">09:50</a></td></tr>
<tr id="t2021-09-07T09:51:54"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin: although it does always print about deadlock first so I think the bug may be that the deadlock code adds to both covered and not covered</td><td class="time"><a href="#t2021-09-07T09:51:54" class="time">09:51</a></td></tr>
<tr id="t2021-09-07T09:52:45"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin: so two issues: a) why does it deadlock and should it? b) does the deadlock code do something incorrectly</td><td class="time"><a href="#t2021-09-07T09:52:45" class="time">09:52</a></td></tr>
<tr id="t2021-09-07T09:52:49"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">RP: even before it prints about deferring (and does not with the revert), so I'm not sure if that is an issue too</td><td class="time"><a href="#t2021-09-07T09:52:49" class="time">09:52</a></td></tr>
<tr id="t2021-09-07T09:53:37"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin: The deferring would be expected for builds with multiple similar tasks</td><td class="time"><a href="#t2021-09-07T09:53:37" class="time">09:53</a></td></tr>
<tr id="t2021-09-07T09:55:41"><th class="nick" style="background: #4b904b">wCPO</th><td class="text" style="color: #4b904b">Is there any convention for where to put recipe? recipes-foo/foo ?</td><td class="time"><a href="#t2021-09-07T09:55:41" class="time">09:55</a></td></tr>
<tr id="t2021-09-07T09:56:14"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">wCPO, recipes-domain/foo</td><td class="time"><a href="#t2021-09-07T09:56:14" class="time">09:56</a></td></tr>
<tr id="t2021-09-07T09:56:19"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">wCPO: your layer, so you get to define the recipes-* namespaces</td><td class="time"><a href="#t2021-09-07T09:56:19" class="time">09:56</a></td></tr>
<tr id="t2021-09-07T09:59:04"><th class="nick" style="background: #4b904b">wCPO</th><td class="text" style="color: #4b904b">kanavin, rburton: naming is always hard :) I will try to stick with recipes-domain/foo</td><td class="time"><a href="#t2021-09-07T09:59:04" class="time">09:59</a></td></tr>
<tr id="t2021-09-07T09:59:28"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">your layer will basically enforce that unless you change layer.conf</td><td class="time"><a href="#t2021-09-07T09:59:28" class="time">09:59</a></td></tr>
<tr id="t2021-09-07T10:00:00"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin: I think if setscene is present, tasks in the deferred list aren't being made available. The logs are odd</td><td class="time"><a href="#t2021-09-07T10:00:00" class="time">10:00</a></td></tr>
<tr id="t2021-09-07T10:39:10"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin: I think <a href="http://git.yoctoproject.org/cgit.cgi/poky-contrib/commit/?h=rpurdie/t222&amp;id=1cd2b6defa1e77d84cb268571edc1cacf9b57cd1" rel="nofollow">http://git.yoctoproject.org/cgit.cgi/poky-contrib/commit/?h=rpurdie/t222&amp;id=1cd2b6defa1e77d84cb268571edc1cacf9b57cd1</a> is a decent workaround</td><td class="time"><a href="#t2021-09-07T10:39:10" class="time">10:39</a></td></tr>
<tr id="t2021-09-07T10:39:22"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin: I'm still not quite show whether there is a better fix for this</td><td class="time"><a href="#t2021-09-07T10:39:22" class="time">10:39</a></td></tr>
<tr id="t2021-09-07T10:40:33"><th class="nick" style="background: #4b904b">wCPO</th><td class="text" style="color: #4b904b">Is there any reason for some recipe using not following the &quot;Packages should install their configuration files in /usr/lib/tmpfiles.d.&quot; convention for tmpfiles.d? (connman, cups, bind)</td><td class="time"><a href="#t2021-09-07T10:40:33" class="time">10:40</a></td></tr>
<tr id="t2021-09-07T10:41:04"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">wCPO: where is that a quote from?</td><td class="time"><a href="#t2021-09-07T10:41:04" class="time">10:41</a></td></tr>
<tr id="t2021-09-07T10:41:44"><th class="nick" style="background: #4b904b">wCPO</th><td class="text" style="color: #4b904b">RP: the manpage: <a href="https://www.freedesktop.org/software/systemd/man/tmpfiles.d.html" rel="nofollow">https://www.freedesktop.org/software/systemd/man/tmpfiles.d.html</a> . It is the same for systemd service file</td><td class="time"><a href="#t2021-09-07T10:41:44" class="time">10:41</a></td></tr>
<tr id="t2021-09-07T10:42:27"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">wCPO: I suspect the guidance from systemd has changed over time and the recipes aren't keeping up</td><td class="time"><a href="#t2021-09-07T10:42:27" class="time">10:42</a></td></tr>
<tr id="t2021-09-07T10:43:44"><th class="nick" style="background: #4b904b">wCPO</th><td class="text" style="color: #4b904b">RP: I see. I'm coming from Arch Linux where packages must never install anything into /etc/tmpfiles.d or /etc/systemd/system, so just wanted to know if the recipe was out-of-date or I missed something :)</td><td class="time"><a href="#t2021-09-07T10:43:44" class="time">10:43</a></td></tr>
<tr id="t2021-09-07T10:50:00"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">wCPO: if the bug is in the recipe itself, send a patch, otherwise send a bug report/patch upstream</td><td class="time"><a href="#t2021-09-07T10:50:00" class="time">10:50</a></td></tr>
<tr id="t2021-09-07T10:54:09"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">RP: sleep on it?</td><td class="time"><a href="#t2021-09-07T10:54:09" class="time">10:54</a></td></tr>
<tr id="t2021-09-07T10:54:55"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin: I'm staring at the code a bit. There is something just slightly out of reach with regard to fixing this</td><td class="time"><a href="#t2021-09-07T10:54:55" class="time">10:54</a></td></tr>
<tr id="t2021-09-07T10:56:14"><th class="nick" style="background: #97974f">frosteyes1</th><td class="text" style="color: #97974f">Hi folks. I just have an interresting issue while trying to upgrade poky / dunfell on a platform I am working with. The issue is a permission issue.</td><td class="time"><a href="#t2021-09-07T10:56:14" class="time">10:56</a></td></tr>
<tr id="t2021-09-07T10:57:14"><th class="nick" style="background: #97974f">frosteyes1</th><td class="text" style="color: #97974f">The issue is this - Exception: bb.process.ExecutionError: Execution of '/builds/x/x/x/x/build/tmp/work/x/x/1.0-r0/temp/run.reproducible_final_image_task.34850' failed with exit code 123:</td><td class="time"><a href="#t2021-09-07T10:57:14" class="time">10:57</a></td></tr>
<tr id="t2021-09-07T10:57:27"><th class="nick" style="background: #97974f">frosteyes1</th><td class="text" style="color: #97974f">With a bunch of Exception: bb.process.ExecutionError: Execution of '/builds/x/x/x/x/build/tmp/work/x/x/1.0-r0/temp/run.reproducible_final_image_task.34850' failed with exit code 123:</td><td class="time"><a href="#t2021-09-07T10:57:27" class="time">10:57</a></td></tr>
<tr id="t2021-09-07T10:57:34"><th class="nick" style="background: #97974f">frosteyes1</th><td class="text" style="color: #97974f">For the different license files.</td><td class="time"><a href="#t2021-09-07T10:57:34" class="time">10:57</a></td></tr>
<tr id="t2021-09-07T10:58:08"><th class="nick" style="background: #97974f">frosteyes1</th><td class="text" style="color: #97974f">Notice it is not an issue when building local - but it is an issue when building on our build server.</td><td class="time"><a href="#t2021-09-07T10:58:08" class="time">10:58</a></td></tr>
<tr id="t2021-09-07T10:59:25"><th class="nick" style="background: #97974f">frosteyes1</th><td class="text" style="color: #97974f">As it was working with the older dunfell release, I have looked into what have changed and found this one liner..</td><td class="time"><a href="#t2021-09-07T10:59:25" class="time">10:59</a></td></tr>
<tr id="t2021-09-07T11:00:45"><th class="nick" style="background: #9b519b">mihai</th><td class="text" style="color: #9b519b">frosteyes1: check the equivalent log file log.reproducible_final...</td><td class="time"><a href="#t2021-09-07T11:00:45" class="time">11:00</a></td></tr>
<tr id="t2021-09-07T11:01:41"><th class="nick" style="background: #9b519b">mihai</th><td class="text" style="color: #9b519b">exit code 123 smells like pseudo abort</td><td class="time"><a href="#t2021-09-07T11:01:41" class="time">11:01</a></td></tr>
<tr id="t2021-09-07T11:01:50"><th class="nick" style="background: #97974f">frosteyes1</th><td class="text" style="color: #97974f"><a href="https://www.mail-archive.com/openembedded-core@lists.openembedded.org/msg148651.html" rel="nofollow">https://www.mail-archive.com/openembedded-core@lists.openembedded.org/msg148651.html</a></td><td class="time"><a href="#t2021-09-07T11:01:50" class="time">11:01</a></td></tr>
<tr id="t2021-09-07T11:02:15"><th class="nick" style="background: #97974f">frosteyes1</th><td class="text" style="color: #97974f">mihai: thanks.</td><td class="time"><a href="#t2021-09-07T11:02:15" class="time">11:02</a></td></tr>
<tr id="t2021-09-07T11:02:59"><th class="nick" style="background: #97974f">frosteyes1</th><td class="text" style="color: #97974f">The commit I linked to was a change from using a single process with find to touch the files, to now using a pipe with xargs and touch.</td><td class="time"><a href="#t2021-09-07T11:02:59" class="time">11:02</a></td></tr>
<tr id="t2021-09-07T11:04:23"><th class="nick" style="background: #97974f">frosteyes1</th><td class="text" style="color: #97974f">So was wandering if this change also changed how interitance of permission for the touch process with regards to fakeroot / pseudo..</td><td class="time"><a href="#t2021-09-07T11:04:23" class="time">11:04</a></td></tr>
<tr id="t2021-09-07T11:04:32"><td class="nickchange" colspan="2">*** frosteyes1 is now known as frosteyes</td><td><a href="#t2021-09-07T11:04:32" class="time">11:04</a></td></tr>
<tr id="t2021-09-07T11:09:15"><th class="nick" style="background: #9b519b">mihai</th><td class="text" style="color: #9b519b">or arguments list too long</td><td class="time"><a href="#t2021-09-07T11:09:15" class="time">11:09</a></td></tr>
<tr id="t2021-09-07T11:09:36"><th class="nick" style="background: #97974f">frosteyes</th><td class="text" style="color: #97974f">Good point..</td><td class="time"><a href="#t2021-09-07T11:09:36" class="time">11:09</a></td></tr>
<tr id="t2021-09-07T11:16:07"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin: two patches sent to the bitbake list which I think should resolve this</td><td class="time"><a href="#t2021-09-07T11:16:07" class="time">11:16</a></td></tr>
<tr id="t2021-09-07T12:23:36"><td class="part" colspan="2">*** TrevorWoerner[m] &lt;TrevorWoerner[m]!~trevorwoe@2001:470:69fc:105::4e57&gt; has left #yocto</td><td><a href="#t2021-09-07T12:23:36" class="time">12:23</a></td></tr>
<tr id="t2021-09-07T12:25:04"><th class="nick" style="background: #539e9e">andy99</th><td class="text" style="color: #539e9e">Hello everyone. can I ask you a question about the kernel-fitimage?</td><td class="time"><a href="#t2021-09-07T12:25:04" class="time">12:25</a></td></tr>
<tr id="t2021-09-07T12:28:06"><th class="nick" style="background: #9b519b">mihai</th><td class="text" style="color: #9b519b">andy99: don't ask to ask, just ask :)</td><td class="time"><a href="#t2021-09-07T12:28:06" class="time">12:28</a></td></tr>
<tr id="t2021-09-07T12:30:13"><th class="nick" style="background: #539e9e">andy99</th><td class="text" style="color: #539e9e">:) ok, so ... what's the current status of usage kernel-fitimage including initrams? Why is not part of rootfs? Or even better, how to get the image into rootfs?</td><td class="time"><a href="#t2021-09-07T12:30:13" class="time">12:30</a></td></tr>
<tr id="t2021-09-07T12:35:17"><th class="nick" style="background: #854685">Guest39</th><td class="text" style="color: #854685">andy99: Is kernel-fitimage one of the available initramfs image types?</td><td class="time"><a href="#t2021-09-07T12:35:17" class="time">12:35</a></td></tr>
<tr id="t2021-09-07T12:36:38"><th class="nick" style="background: #539e9e">andy99</th><td class="text" style="color: #539e9e">I think so, because it's being produced into deploydir but not into rootfs</td><td class="time"><a href="#t2021-09-07T12:36:38" class="time">12:36</a></td></tr>
<tr id="t2021-09-07T12:37:25"><th class="nick" style="background: #854685">Guest39</th><td class="text" style="color: #854685">andy99: The initramfs is an image which will be bundled to the kernel image</td><td class="time"><a href="#t2021-09-07T12:37:25" class="time">12:37</a></td></tr>
<tr id="t2021-09-07T12:37:55"><th class="nick" style="background: #539e9e">andy99</th><td class="text" style="color: #539e9e">yes, and the kernel is deployed into deploydir instead of rootfs</td><td class="time"><a href="#t2021-09-07T12:37:55" class="time">12:37</a></td></tr>
<tr id="t2021-09-07T12:40:08"><th class="nick" style="background: #854685">Guest39</th><td class="text" style="color: #854685">andy99: The kernel is a file in the boot partition. When the kernel starts as a process it loads the initramfs from its appendix on the kernel image. After the initramfs is loaded a script in the initramfs will load the rootfs. Usually the rootfs is located in another partition.</td><td class="time"><a href="#t2021-09-07T12:40:08" class="time">12:40</a></td></tr>
<tr id="t2021-09-07T12:41:28"><th class="nick" style="background: #539e9e">andy99</th><td class="text" style="color: #539e9e">I think, that I know, how the initramfs works :). The main problem is, that this type of image is created after packing, so it's not inside any package. So it can't be installed.</td><td class="time"><a href="#t2021-09-07T12:41:28" class="time">12:41</a></td></tr>
<tr id="t2021-09-07T12:42:38"><th class="nick" style="background: #854685">Guest39</th><td class="text" style="color: #854685">andy99: So I suppose your problem is the initramfs is not bundled to the kernel image, right?</td><td class="time"><a href="#t2021-09-07T12:42:38" class="time">12:42</a></td></tr>
<tr id="t2021-09-07T12:46:59"><th class="nick" style="background: #854685">Guest39</th><td class="text" style="color: #854685">andy99: I don't know if that helps for you since I use core-image-tiny-imageramfs but maybe you can adapt my .conf file:</td><td class="time"><a href="#t2021-09-07T12:46:59" class="time">12:46</a></td></tr>
<tr id="t2021-09-07T12:47:37"><th class="nick" style="background: #854685">Guest39</th><td class="text" style="color: #854685">INITRAMFS_IMAGE = &quot;core-image-tiny-initramfs&quot;</td><td class="time"><a href="#t2021-09-07T12:47:37" class="time">12:47</a></td></tr>
<tr id="t2021-09-07T12:47:37-2"><th class="nick" style="background: #854685">Guest39</th><td class="text" style="color: #854685">INITRAMFS_IMAGE_BUNDLE = &quot;1&quot;</td><td class="time"><a href="#t2021-09-07T12:47:37-2" class="time">12:47</a></td></tr>
<tr id="t2021-09-07T12:47:38"><th class="nick" style="background: #854685">Guest39</th><td class="text" style="color: #854685">INITRAMFS_KERNEL_IMAGE=&quot;${KERNEL_IMAGETYPE}-initramfs-${MACHINE}.bin&quot;</td><td class="time"><a href="#t2021-09-07T12:47:38" class="time">12:47</a></td></tr>
<tr id="t2021-09-07T12:47:38-2"><th class="nick" style="background: #539e9e">andy99</th><td class="text" style="color: #539e9e">no, initramfs is created, but not inside the pckage</td><td class="time"><a href="#t2021-09-07T12:47:38-2" class="time">12:47</a></td></tr>
<tr id="t2021-09-07T12:47:38-3"><th class="nick" style="background: #854685">Guest39</th><td class="text" style="color: #854685">VIRTUAL-RUNTIME_dev_manager = &quot;busybox-mdev&quot;</td><td class="time"><a href="#t2021-09-07T12:47:38-3" class="time">12:47</a></td></tr>
<tr id="t2021-09-07T12:47:39"><th class="nick" style="background: #854685">Guest39</th><td class="text" style="color: #854685">IMAGE_BOOT_FILES_append = &quot; ${INITRAMFS_KERNEL_IMAGE};${KERNEL_IMAGETYPE}&quot;</td><td class="time"><a href="#t2021-09-07T12:47:39" class="time">12:47</a></td></tr>
<tr id="t2021-09-07T12:48:07"><th class="nick" style="background: #539e9e">andy99</th><td class="text" style="color: #539e9e">because it's created afterwards the packaging process</td><td class="time"><a href="#t2021-09-07T12:48:07" class="time">12:48</a></td></tr>
<tr id="t2021-09-07T12:50:14"><th class="nick" style="background: #854685">Guest39</th><td class="text" style="color: #854685">andy99: it's created in the second step but will be bundled to the kernel afterwards</td><td class="time"><a href="#t2021-09-07T12:50:14" class="time">12:50</a></td></tr>
<tr id="t2021-09-07T12:50:44"><th class="nick" style="background: #854685">Guest39</th><td class="text" style="color: #854685">andy99: ... if you configure the bundling properly as shown above</td><td class="time"><a href="#t2021-09-07T12:50:44" class="time">12:50</a></td></tr>
<tr id="t2021-09-07T12:51:41"><th class="nick" style="background: #539e9e">andy99</th><td class="text" style="color: #539e9e">Yes, I have the similar setup</td><td class="time"><a href="#t2021-09-07T12:51:41" class="time">12:51</a></td></tr>
<tr id="t2021-09-07T12:52:02"><th class="nick" style="background: #a25555">smurray</th><td class="text" style="color: #a25555">andy99: one way would be to add it to IMAGE_BOOT_FILES if using the bootimg-partition partition type</td><td class="time"><a href="#t2021-09-07T12:52:02" class="time">12:52</a></td></tr>
<tr id="t2021-09-07T12:52:23"><th class="nick" style="background: #539e9e">andy99</th><td class="text" style="color: #539e9e">no, I don't have a boot partition</td><td class="time"><a href="#t2021-09-07T12:52:23" class="time">12:52</a></td></tr>
<tr id="t2021-09-07T12:52:36"><th class="nick" style="background: #539e9e">andy99</th><td class="text" style="color: #539e9e">everything is inside rootfs/boot folder</td><td class="time"><a href="#t2021-09-07T12:52:36" class="time">12:52</a></td></tr>
<tr id="t2021-09-07T12:53:55"><th class="nick" style="background: #a25555">smurray</th><td class="text" style="color: #a25555">afaik you'll need to do up a custom image recipe that depends upon the initramfs and copies it in</td><td class="time"><a href="#t2021-09-07T12:53:55" class="time">12:53</a></td></tr>
<tr id="t2021-09-07T12:55:49"><th class="nick" style="background: #a25555">smurray</th><td class="text" style="color: #a25555">if you're using wic and /boot has the usual stuff in it, living with a second partition and using bootimg-partition might be simpler</td><td class="time"><a href="#t2021-09-07T12:55:49" class="time">12:55</a></td></tr>
<tr id="t2021-09-07T12:59:31"><th class="nick" style="background: #539e9e">andy99</th><td class="text" style="color: #539e9e">but is it a problem to have it inside rootfs?</td><td class="time"><a href="#t2021-09-07T12:59:31" class="time">12:59</a></td></tr>
<tr id="t2021-09-07T13:02:34"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">andy99: so you want your kernel with an initramfs inside the actual initramfs?</td><td class="time"><a href="#t2021-09-07T13:02:34" class="time">13:02</a></td></tr>
<tr id="t2021-09-07T13:03:09"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">There is an egg/chicken issue there</td><td class="time"><a href="#t2021-09-07T13:03:09" class="time">13:03</a></td></tr>
<tr id="t2021-09-07T13:04:23"><th class="nick" style="background: #539e9e">andy99</th><td class="text" style="color: #539e9e">no, maybe I didn't write it correctly. Currently I was using the generic kernel. Now I would like to switch into signing one. The bootloader (u-boot) should unpack the initramfs from kernel and verify the signature. Afterwards the device will be booted.</td><td class="time"><a href="#t2021-09-07T13:04:23" class="time">13:04</a></td></tr>
<tr id="t2021-09-07T13:05:09"><th class="nick" style="background: #539e9e">andy99</th><td class="text" style="color: #539e9e">so I need to have bundled initramfs inside the kernel. But the artifacts is not being created inside any package, just in the deploy folder.</td><td class="time"><a href="#t2021-09-07T13:05:09" class="time">13:05</a></td></tr>
<tr id="t2021-09-07T13:05:35"><th class="nick" style="background: #539e9e">andy99</th><td class="text" style="color: #539e9e">I would like to &quot;take&quot; the artifacts from deploy folder and install it into rootfs</td><td class="time"><a href="#t2021-09-07T13:05:35" class="time">13:05</a></td></tr>
<tr id="t2021-09-07T13:10:18"><th class="nick" style="background: #854685">Guest39</th><td class="text" style="color: #854685">andy99: It makes more sense to put the key files which you need for verifying into the boot partition but not in a folder of the root partition</td><td class="time"><a href="#t2021-09-07T13:10:18" class="time">13:10</a></td></tr>
<tr id="t2021-09-07T13:10:50"><th class="nick" style="background: #539e9e">andy99</th><td class="text" style="color: #539e9e">currently I have only one partition</td><td class="time"><a href="#t2021-09-07T13:10:50" class="time">13:10</a></td></tr>
<tr id="t2021-09-07T13:11:14"><th class="nick" style="background: #539e9e">andy99</th><td class="text" style="color: #539e9e">Does it mean, to have a separated /boot partition is better idea?</td><td class="time"><a href="#t2021-09-07T13:11:14" class="time">13:11</a></td></tr>
<tr id="t2021-09-07T13:11:54"><th class="nick" style="background: #854685">Guest39</th><td class="text" style="color: #854685">andy99: Separating is a better idea in my opinion, and it works :)</td><td class="time"><a href="#t2021-09-07T13:11:54" class="time">13:11</a></td></tr>
<tr id="t2021-09-07T13:13:08"><th class="nick" style="background: #854685">Guest39</th><td class="text" style="color: #854685">andy99: The bootloader must not mount the whole disk just for running the kernel</td><td class="time"><a href="#t2021-09-07T13:13:08" class="time">13:13</a></td></tr>
<tr id="t2021-09-07T13:13:52"><th class="nick" style="background: #539e9e">andy99</th><td class="text" style="color: #539e9e">What I heard, the reason why is &quot;disabled&quot; on the master is, that there was some kind of circular dependency, but I don't have a more info.</td><td class="time"><a href="#t2021-09-07T13:13:52" class="time">13:13</a></td></tr>
<tr id="t2021-09-07T13:19:52"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">your rootfs is not your initramfs is it?</td><td class="time"><a href="#t2021-09-07T13:19:52" class="time">13:19</a></td></tr>
<tr id="t2021-09-07T13:20:15"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">your initramfs is here just to do a dm_verity of the actual rootfs and then switch_root to it?</td><td class="time"><a href="#t2021-09-07T13:20:15" class="time">13:20</a></td></tr>
<tr id="t2021-09-07T13:20:51"><th class="nick" style="background: #57a657">Guest60</th><td class="text" style="color: #57a657">qschulz: yes, this is the design</td><td class="time"><a href="#t2021-09-07T13:20:51" class="time">13:20</a></td></tr>
<tr id="t2021-09-07T13:21:22"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">Guest60: that was not clear, because the initramfs can be the rootfs (and actually is, just a temporary one in your case)</td><td class="time"><a href="#t2021-09-07T13:21:22" class="time">13:21</a></td></tr>
<tr id="t2021-09-07T13:21:53"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">yeah there was (and maybe still is) a circular dependency</td><td class="time"><a href="#t2021-09-07T13:21:53" class="time">13:21</a></td></tr>
<tr id="t2021-09-07T13:22:03"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">you need a handcrafted kernel-fitimage class</td><td class="time"><a href="#t2021-09-07T13:22:03" class="time">13:22</a></td></tr>
<tr id="t2021-09-07T13:22:17"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">or check what Bartosz from Baylibre tried to upstream a few months ago</td><td class="time"><a href="#t2021-09-07T13:22:17" class="time">13:22</a></td></tr>
<tr id="t2021-09-07T13:22:24"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">I don't remember if it was ever merged but I think not</td><td class="time"><a href="#t2021-09-07T13:22:24" class="time">13:22</a></td></tr>
<tr id="t2021-09-07T13:24:40"><th class="nick" style="background: #854685">Guest39</th><td class="text" style="color: #854685">andy99: I understood your folder with the key files for verifying is in the rootfs. But do you mean that folder is in the initramfs?</td><td class="time"><a href="#t2021-09-07T13:24:40" class="time">13:24</a></td></tr>
<tr id="t2021-09-07T13:24:44"><th class="nick" style="background: #539e9e">andy99</th><td class="text" style="color: #539e9e">do you have the link somewhere?</td><td class="time"><a href="#t2021-09-07T13:24:44" class="time">13:24</a></td></tr>
<tr id="t2021-09-07T13:25:13"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888"><a href="https://bootlin.com/pub/conferences/2018/elc/josserand-schulz-secure-boot/josserand-schulz-secure-boot.pdf" rel="nofollow">https://bootlin.com/pub/conferences/2018/elc/josserand-schulz-secure-boot/josserand-schulz-secure-boot.pdf</a> slide 42</td><td class="time"><a href="#t2021-09-07T13:25:13" class="time">13:25</a></td></tr>
<tr id="t2021-09-07T13:25:24"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">is the issue we ran into</td><td class="time"><a href="#t2021-09-07T13:25:24" class="time">13:25</a></td></tr>
<tr id="t2021-09-07T13:26:25"><th class="nick" style="background: #57a657">Guest60</th><td class="text" style="color: #57a657">Guest39:&nbsp;&nbsp;the key files are in the initramfs, the signatures are passed in the kernel cmdline from u-boot environment</td><td class="time"><a href="#t2021-09-07T13:26:25" class="time">13:26</a></td></tr>
<tr id="t2021-09-07T13:27:18"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">and that you'll run into</td><td class="time"><a href="#t2021-09-07T13:27:18" class="time">13:27</a></td></tr>
<tr id="t2021-09-07T13:28:20"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">seems like it was merged in meta-security</td><td class="time"><a href="#t2021-09-07T13:28:20" class="time">13:28</a></td></tr>
<tr id="t2021-09-07T13:28:21"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888"><a href="https://git.yoctoproject.org/cgit/cgit.cgi/meta-security/tree/classes/dm-verity-img.bbclass" rel="nofollow">https://git.yoctoproject.org/cgit/cgit.cgi/meta-security/tree/classes/dm-verity-img.bbclass</a></td><td class="time"><a href="#t2021-09-07T13:28:21" class="time">13:28</a></td></tr>
<tr id="t2021-09-07T13:28:27"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">you probably need other stuff too</td><td class="time"><a href="#t2021-09-07T13:28:27" class="time">13:28</a></td></tr>
<tr id="t2021-09-07T13:29:04"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888"><a href="https://git.yoctoproject.org/cgit/cgit.cgi/meta-security/commit/?id=b329e1650daa860c7dfdbd771ddff611452c382b" rel="nofollow">https://git.yoctoproject.org/cgit/cgit.cgi/meta-security/commit/?id=b329e1650daa860c7dfdbd771ddff611452c382b</a></td><td class="time"><a href="#t2021-09-07T13:29:04" class="time">13:29</a></td></tr>
<tr id="t2021-09-07T13:29:11"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888"><a href="https://git.yoctoproject.org/cgit/cgit.cgi/meta-security/commit/?id=d6369c9aafc433b08f9bb000142b274738be3fb3" rel="nofollow">https://git.yoctoproject.org/cgit/cgit.cgi/meta-security/commit/?id=d6369c9aafc433b08f9bb000142b274738be3fb3</a></td><td class="time"><a href="#t2021-09-07T13:29:11" class="time">13:29</a></td></tr>
<tr id="t2021-09-07T13:29:23"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">this is not using the u-boot script/fitimage mechanism though\</td><td class="time"><a href="#t2021-09-07T13:29:23" class="time">13:29</a></td></tr>
<tr id="t2021-09-07T13:31:18"><th class="nick" style="background: #57a657">Guest60</th><td class="text" style="color: #57a657">Just to be clear - we don't use dm-verity - problem is that our embedded device can't crash on integrity error during the runtime, so we check on boot.</td><td class="time"><a href="#t2021-09-07T13:31:18" class="time">13:31</a></td></tr>
<tr id="t2021-09-07T13:31:42"><th class="nick" style="background: #57a657">Guest60</th><td class="text" style="color: #57a657">But maybe we can get some bits and pieces for our implementation.</td><td class="time"><a href="#t2021-09-07T13:31:42" class="time">13:31</a></td></tr>
<tr id="t2021-09-07T13:33:52"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888"><a href="https://lists.openembedded.org/g/openembedded-core/message/136614?p=,,,20,0,0,0::created,0,bartosz,20,2,0,72497789" rel="nofollow">https://lists.openembedded.org/g/openembedded-core/message/136614?p=,,,20,0,0,0::created,0,bartosz,20,2,0,72497789</a></td><td class="time"><a href="#t2021-09-07T13:33:52" class="time">13:33</a></td></tr>
<tr id="t2021-09-07T13:34:13"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888"><a href="https://lists.openembedded.org/g/openembedded-core/topic/74158924" rel="nofollow">https://lists.openembedded.org/g/openembedded-core/topic/74158924</a> last version</td><td class="time"><a href="#t2021-09-07T13:34:13" class="time">13:34</a></td></tr>
<tr id="t2021-09-07T13:36:29"><th class="nick" style="background: #57a657">Guest60</th><td class="text" style="color: #57a657">qschulz: Thank you. I'll take a look and contact you in the case of other questions.</td><td class="time"><a href="#t2021-09-07T13:36:29" class="time">13:36</a></td></tr>
<tr id="t2021-09-07T13:37:23"><th class="nick" style="background: #539e9e">andy99</th><td class="text" style="color: #539e9e">qschulz: that's the right link ;). But it's from 2020, so no further movement?</td><td class="time"><a href="#t2021-09-07T13:37:23" class="time">13:37</a></td></tr>
<tr id="t2021-09-07T13:38:17"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">andy99: not that I know</td><td class="time"><a href="#t2021-09-07T13:38:17" class="time">13:38</a></td></tr>
<tr id="t2021-09-07T13:38:49"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">Guest60: not personally please :) continue the discussion here, on the mailing list or contact the people who worked on this, they *might* be ok with you contacting thm direclty</td><td class="time"><a href="#t2021-09-07T13:38:49" class="time">13:38</a></td></tr>
<tr id="t2021-09-07T13:42:32"><th class="nick" style="background: #57a657">Guest60</th><td class="text" style="color: #57a657">qschulz: Ok, i completely understand. I'll proccess the links you provided, and then try the mailing list. Thanks for the info provided so far.</td><td class="time"><a href="#t2021-09-07T13:42:32" class="time">13:42</a></td></tr>
<tr id="t2021-09-07T13:43:22"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">Guest60: my pleasure. Wondering what you have decided to go for instead of dm-verity though :)</td><td class="time"><a href="#t2021-09-07T13:43:22" class="time">13:43</a></td></tr>
<tr id="t2021-09-07T13:47:18"><th class="nick" style="background: #57a657">Guest60</th><td class="text" style="color: #57a657">Just to check the whole partition signature using dd &amp; openssl. The issue is, that the device does some things very rarely, and when we check the blocks on access, the kernel panic or other indication can occur in a very critical time.</td><td class="time"><a href="#t2021-09-07T13:47:18" class="time">13:47</a></td></tr>
<tr id="t2021-09-07T13:55:31"><th class="nick" style="background: #854685">Guest39</th><td class="text" style="color: #854685">that's why it's better to load the kernel before that partition becomes actively mounted</td><td class="time"><a href="#t2021-09-07T13:55:31" class="time">13:55</a></td></tr>
<tr id="t2021-09-07T14:01:53"><th class="nick" style="background: #57a657">Guest60</th><td class="text" style="color: #57a657">Guest39: Crash during the startup is not critical at all, but the crash during runtime can be an issue.</td><td class="time"><a href="#t2021-09-07T14:01:53" class="time">14:01</a></td></tr>
<tr id="t2021-09-07T14:07:25"><th class="nick" style="background: #854685">Guest39</th><td class="text" style="color: #854685">ok, I see</td><td class="time"><a href="#t2021-09-07T14:07:25" class="time">14:07</a></td></tr>
<tr id="t2021-09-07T14:24:30"><th class="nick" style="background: #a25555">smurray</th><td class="text" style="color: #a25555">qschulz: the circular dependency issue with dm-verity comes from e.g. needing kernel modules in the rootfs, but the rootfs hash is needed for the initramfs that gets built in the kernel recipe</td><td class="time"><a href="#t2021-09-07T14:24:30" class="time">14:24</a></td></tr>
<tr id="t2021-09-07T14:25:25"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">smurray: we had the circular depenedency because of u-boot script storing the root hash needed by dm_verity stored in the kernel fitimage</td><td class="time"><a href="#t2021-09-07T14:25:25" class="time">14:25</a></td></tr>
<tr id="t2021-09-07T14:25:42"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">except the kernel fitimage is created after the rootfs</td><td class="time"><a href="#t2021-09-07T14:25:42" class="time">14:25</a></td></tr>
<tr id="t2021-09-07T14:25:45"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">(in yocto)</td><td class="time"><a href="#t2021-09-07T14:25:45" class="time">14:25</a></td></tr>
<tr id="t2021-09-07T14:25:45-2"><th class="nick" style="background: #a25555">smurray</th><td class="text" style="color: #a25555">qschulz: yes, it's easy to get there with the fitimage</td><td class="time"><a href="#t2021-09-07T14:25:45-2" class="time">14:25</a></td></tr>
<tr id="t2021-09-07T14:26:18"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">or is it before, eh don't remember, long time ago</td><td class="time"><a href="#t2021-09-07T14:26:18" class="time">14:26</a></td></tr>
<tr id="t2021-09-07T14:26:24"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">it was in the slides I linked :p</td><td class="time"><a href="#t2021-09-07T14:26:24" class="time">14:26</a></td></tr>
<tr id="t2021-09-07T14:26:29"><th class="nick" style="background: #a25555">smurray</th><td class="text" style="color: #a25555">qschulz: aiui there are some standalone initramfs recipes floating around, but nothing upstreamed</td><td class="time"><a href="#t2021-09-07T14:26:29" class="time">14:26</a></td></tr>
<tr id="t2021-09-07T14:26:41"><td class="action" colspan="2">* qschulz hides</td><td><a href="#t2021-09-07T14:26:41" class="time">14:26</a></td></tr>
<tr id="t2021-09-07T14:27:02"><th class="nick" style="background: #a25555">smurray</th><td class="text" style="color: #a25555">heh, I've thought about working one up, but have not, so I can't point any fingers</td><td class="time"><a href="#t2021-09-07T14:27:02" class="time">14:27</a></td></tr>
<tr id="t2021-09-07T14:27:03"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">I left the company so can't upstream this anymore as I don't recall any of it</td><td class="time"><a href="#t2021-09-07T14:27:03" class="time">14:27</a></td></tr>
<tr id="t2021-09-07T14:27:31"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">and it would have been probably&nbsp;&nbsp;a bit too hacky</td><td class="time"><a href="#t2021-09-07T14:27:31" class="time">14:27</a></td></tr>
<tr id="t2021-09-07T14:27:45"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">maybe we should ping bartosz/rp again on that topic</td><td class="time"><a href="#t2021-09-07T14:27:45" class="time">14:27</a></td></tr>
<tr id="t2021-09-07T14:28:05"><th class="nick" style="background: #a25555">smurray</th><td class="text" style="color: #a25555">it's going to become a more common issue as dm-verity shows up on more reqts lists, so sooner or later something will be needed upstream</td><td class="time"><a href="#t2021-09-07T14:28:05" class="time">14:28</a></td></tr>
<tr id="t2021-09-07T14:29:33"><td class="action" colspan="2">* qschulz nods</td><td><a href="#t2021-09-07T14:29:33" class="time">14:29</a></td></tr>
<tr id="t2021-09-07T14:35:07"><th class="nick" style="background: #539e9e">andy99</th><td class="text" style="color: #539e9e">yes, the artifacts are created afterwards</td><td class="time"><a href="#t2021-09-07T14:35:07" class="time">14:35</a></td></tr>
<tr id="t2021-09-07T14:49:18"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">RP: thanks, I am not setting up the previous reported build which presumably regressed due to these fixes, to confirm (or not)</td><td class="time"><a href="#t2021-09-07T14:49:18" class="time">14:49</a></td></tr>
<tr id="t2021-09-07T15:07:19"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">RP: and sadly... yes. Wrote a comment in <a href="https://bugzilla.yoctoproject.org/show_bug.cgi?id=14342" rel="nofollow">https://bugzilla.yoctoproject.org/show_bug.cgi?id=14342</a></td><td class="time"><a href="#t2021-09-07T15:07:19" class="time">15:07</a></td></tr>
<tr id="t2021-09-07T15:07:51"><th class="nick" style="background: #5959a9">thekappe</th><td class="text" style="color: #5959a9">hello guys.. I need a hint</td><td class="time"><a href="#t2021-09-07T15:07:51" class="time">15:07</a></td></tr>
<tr id="t2021-09-07T15:08:24"><th class="nick" style="background: #5959a9">thekappe</th><td class="text" style="color: #5959a9">I have a kernel recipe append file that install some .bin in ${D}/lib/firmware</td><td class="time"><a href="#t2021-09-07T15:08:24" class="time">15:08</a></td></tr>
<tr id="t2021-09-07T15:09:26"><th class="nick" style="background: #5959a9">thekappe</th><td class="text" style="color: #5959a9">by the way, when the image is built, in build/tmp/work/machine/image/image/ver/rootfs/lib/firmware I have just one .bin file instead of the two of them</td><td class="time"><a href="#t2021-09-07T15:09:26" class="time">15:09</a></td></tr>
<tr id="t2021-09-07T15:10:13"><th class="nick" style="background: #5959a9">thekappe</th><td class="text" style="color: #5959a9">the strange thing is that in in build/tmp/work/machine/kernel/ver/image/lib/firmware I have both of them</td><td class="time"><a href="#t2021-09-07T15:10:13" class="time">15:10</a></td></tr>
<tr id="t2021-09-07T15:10:42"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">thekappe: I guess they are split in different packages and you only install one of them?</td><td class="time"><a href="#t2021-09-07T15:10:42" class="time">15:10</a></td></tr>
<tr id="t2021-09-07T15:11:06"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">oe-pkgdata-util find-path '*yourbin.bin'</td><td class="time"><a href="#t2021-09-07T15:11:06" class="time">15:11</a></td></tr>
<tr id="t2021-09-07T15:12:03"><th class="nick" style="background: #5959a9">thekappe</th><td class="text" style="color: #5959a9">mmm</td><td class="time"><a href="#t2021-09-07T15:12:03" class="time">15:12</a></td></tr>
<tr id="t2021-09-07T15:12:17"><th class="nick" style="background: #5959a9">thekappe</th><td class="text" style="color: #5959a9">you are always right qschulz</td><td class="time"><a href="#t2021-09-07T15:12:17" class="time">15:12</a></td></tr>
<tr id="t2021-09-07T15:16:41"><th class="nick" style="background: #adad5b">yannd</th><td class="text" style="color: #adad5b">in yocto 1.6 we had a basepath= parameter for file: SRC_URI's, and this old manual version keeps coming up in searches, while the parameter does not exist any more and was never mentionned in &quot;Upgrading to ...&quot; sections.</td><td class="time"><a href="#t2021-09-07T15:16:41" class="time">15:16</a></td></tr>
<tr id="t2021-09-07T15:18:02"><th class="nick" style="background: #adad5b">yannd</th><td class="text" style="color: #adad5b">did anything replaced it ?</td><td class="time"><a href="#t2021-09-07T15:18:02" class="time">15:18</a></td></tr>
<tr id="t2021-09-07T15:32:58"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">RP: *not ---&gt; now</td><td class="time"><a href="#t2021-09-07T15:32:58" class="time">15:32</a></td></tr>
<tr id="t2021-09-07T15:33:09"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">(I am *now* setting up...)</td><td class="time"><a href="#t2021-09-07T15:33:09" class="time">15:33</a></td></tr>
<tr id="t2021-09-07T15:36:52"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">yannd: what was the purpose of such a parameter?</td><td class="time"><a href="#t2021-09-07T15:36:52" class="time">15:36</a></td></tr>
<tr id="t2021-09-07T15:48:00"><th class="nick" style="background: #adad5b">yannd</th><td class="text" style="color: #adad5b">qschulz: I'd have used it to shorten paths under ${S}.&nbsp;&nbsp;Currently using an absolute file:// URI just copies the full absolute path (under ${WORKDIR} by default)</td><td class="time"><a href="#t2021-09-07T15:48:00" class="time">15:48</a></td></tr>
<tr id="t2021-09-07T15:49:18"><th class="nick" style="background: #adad5b">yannd</th><td class="text" style="color: #adad5b">yes, I know absolute file:// is not a good idea, but in some corporate environments that can be the only available way to get to some files</td><td class="time"><a href="#t2021-09-07T15:49:18" class="time">15:49</a></td></tr>
<tr id="t2021-09-07T15:51:21"><th class="nick" style="background: #adad5b">yannd</th><td class="text" style="color: #adad5b">here is how it has to be handled AFAIK: <a href="https://stackoverflow.com/a/69091155/6285023" rel="nofollow">https://stackoverflow.com/a/69091155/6285023</a></td><td class="time"><a href="#t2021-09-07T15:51:21" class="time">15:51</a></td></tr>
<tr id="t2021-09-07T15:52:32"><td class="nickchange" colspan="2">*** mckoan is now known as mckoan|away</td><td><a href="#t2021-09-07T15:52:32" class="time">15:52</a></td></tr>
<tr id="t2021-09-07T15:53:36"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">yeah I would have said subdir too</td><td class="time"><a href="#t2021-09-07T15:53:36" class="time">15:53</a></td></tr>
<tr id="t2021-09-07T15:56:04"><th class="nick" style="background: #adad5b">yannd</th><td class="text" style="color: #adad5b">my first try after googling for unpack parameters (yes I'm kinda lazy with the docs) was to use both subdir and basepath... until I realized basepath is just doing nothing and I was looking at an outdated doc.&nbsp;&nbsp;Then I googled to know what replaced that parameter and only found that unanswered question ...</td><td class="time"><a href="#t2021-09-07T15:56:04" class="time">15:56</a></td></tr>
<tr id="t2021-09-07T15:58:36"><th class="nick" style="background: #adad5b">yannd</th><td class="text" style="color: #adad5b">in fact I'm pretty sure now I already got hit by that old doc item in the past, so my SA answer is as much a reminder to a future self as to anyone else...</td><td class="time"><a href="#t2021-09-07T15:58:36" class="time">15:58</a></td></tr>
<tr id="t2021-09-07T15:59:47"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">yannd: removed in 2016</td><td class="time"><a href="#t2021-09-07T15:59:47" class="time">15:59</a></td></tr>
<tr id="t2021-09-07T15:59:57"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">&nbsp;&nbsp;&nbsp;&nbsp;(Bitbake rev: e659a3b0c2771679057ee3e13cd42e6c62383ff2)</td><td class="time"><a href="#t2021-09-07T15:59:57" class="time">15:59</a></td></tr>
<tr id="t2021-09-07T16:00:25"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">removed from the docs only recently</td><td class="time"><a href="#t2021-09-07T16:00:25" class="time">16:00</a></td></tr>
<tr id="t2021-09-07T16:25:52"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin: Shame it regresses the other test case :(</td><td class="time"><a href="#t2021-09-07T16:25:52" class="time">16:25</a></td></tr>
<tr id="t2021-09-07T16:26:02"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin: that is quite frustrating</td><td class="time"><a href="#t2021-09-07T16:26:02" class="time">16:26</a></td></tr>
<tr id="t2021-09-07T16:45:40"><th class="nick" style="background: #a25555">smurray</th><td class="text" style="color: #a25555">oh boy, OpenSSL 3.0 has officially released</td><td class="time"><a href="#t2021-09-07T16:45:40" class="time">16:45</a></td></tr>
<tr id="t2021-09-07T16:48:18"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin: hmm, I do understand what breaks in that other test case</td><td class="time"><a href="#t2021-09-07T16:48:18" class="time">16:48</a></td></tr>
<tr id="t2021-09-07T16:48:44"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">smurray thanks for the heads up..</td><td class="time"><a href="#t2021-09-07T16:48:44" class="time">16:48</a></td></tr>
<tr id="t2021-09-07T16:51:24"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">smurray: should we try and get that into 3.4? :)</td><td class="time"><a href="#t2021-09-07T16:51:24" class="time">16:51</a></td></tr>
<tr id="t2021-09-07T16:52:13"><th class="nick" style="background: #a25555">smurray</th><td class="text" style="color: #a25555">RP: heh, definitely not</td><td class="time"><a href="#t2021-09-07T16:52:13" class="time">16:52</a></td></tr>
<tr id="t2021-09-07T16:52:55"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">smurray: I don't think I could take it (and more seriously, the user projects need to adapt first)</td><td class="time"><a href="#t2021-09-07T16:52:55" class="time">16:52</a></td></tr>
<tr id="t2021-09-07T16:54:09"><th class="nick" style="background: #a25555">smurray</th><td class="text" style="color: #a25555">RP: yeah, I'll be curious to see how quick Fedora jumps on it</td><td class="time"><a href="#t2021-09-07T16:54:09" class="time">16:54</a></td></tr>
<tr id="t2021-09-07T16:56:43"><th class="nick" style="background: #a25555">smurray</th><td class="text" style="color: #a25555">RP: I suspect the bigger pain comes whenever they do a release that drops the piles of APIs they've marked as deprecated in 3.0</td><td class="time"><a href="#t2021-09-07T16:56:43" class="time">16:56</a></td></tr>
<tr id="t2021-09-07T16:59:35"><th class="nick" style="background: #4b904b">wCPO</th><td class="text" style="color: #4b904b">RP: Is it the fix or the broken commit you linked here? <a href="https://lore.kernel.org/qemu-devel/709a88a0f24ed8fd5399a2be88fb9d57ceb0a25a.camel@linuxfoundation.org/" rel="nofollow">https://lore.kernel.org/qemu-devel/709a88a0f24ed8fd5399a2be88fb9d57ceb0a25a.camel@linuxfoundation.org/</a></td><td class="time"><a href="#t2021-09-07T16:59:35" class="time">16:59</a></td></tr>
<tr id="t2021-09-07T17:00:54"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">wCPO: Not sure I understand your question?</td><td class="time"><a href="#t2021-09-07T17:00:54" class="time">17:00</a></td></tr>
<tr id="t2021-09-07T17:01:31"><th class="nick" style="background: #4b904b">wCPO</th><td class="text" style="color: #4b904b">RP: it is your mail right? You linked the same commit twice</td><td class="time"><a href="#t2021-09-07T17:01:31" class="time">17:01</a></td></tr>
<tr id="t2021-09-07T17:01:51"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">wCPO: ah,yes, I did mess that up</td><td class="time"><a href="#t2021-09-07T17:01:51" class="time">17:01</a></td></tr>
<tr id="t2021-09-07T17:05:51"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">wCPO: that commit broke things iirc and the fix was <a href="https://git.kernel.org/pub/scm/linux/kernel/git/paulmck/linux-rcu.git/commit/?h=rcu/next&amp;id=dc87740c8a6806bd2162bfb441770e4e53be5601" rel="nofollow">https://git.kernel.org/pub/scm/linux/kernel/git/paulmck/linux-rcu.git/commit/?h=rcu/next&amp;id=dc87740c8a6806bd2162bfb441770e4e53be5601</a></td><td class="time"><a href="#t2021-09-07T17:05:51" class="time">17:05</a></td></tr>
<tr id="t2021-09-07T17:09:20"><th class="nick" style="background: #4b904b">wCPO</th><td class="text" style="color: #4b904b">RP: thanks, we started seeing some &quot;rcu_preempt detected stalls&quot; recently in Arch Linux CI. Not sure it is related tho</td><td class="time"><a href="#t2021-09-07T17:09:20" class="time">17:09</a></td></tr>
<tr id="t2021-09-07T17:10:01"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">wCPO: can have many causes, if it locks the system up entirely this one could be a cause though</td><td class="time"><a href="#t2021-09-07T17:10:01" class="time">17:10</a></td></tr>
<tr id="t2021-09-07T17:20:44"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin: ok, I think my fix was the right idea, wrong function: <a href="http://git.yoctoproject.org/cgit.cgi/poky-contrib/commit/?h=rpurdie/t222&amp;id=e6ec662c597cdad358f08a9ec9a5effea28978d1" rel="nofollow">http://git.yoctoproject.org/cgit.cgi/poky-contrib/commit/?h=rpurdie/t222&amp;id=e6ec662c597cdad358f08a9ec9a5effea28978d1</a></td><td class="time"><a href="#t2021-09-07T17:20:44" class="time">17:20</a></td></tr>
<tr id="t2021-09-07T17:24:09"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin: master-next updated</td><td class="time"><a href="#t2021-09-07T17:24:09" class="time">17:24</a></td></tr>
<tr id="t2021-09-07T17:32:19"><th class="nick" style="background: #5fb4b4">robbawebba</th><td class="text" style="color: #5fb4b4">Hello, I have a question about premirrors, specifically using the &quot;own-mirrors&quot; bbclass. I noticed that the DL_DIR contains the source code archives as well as a .done file for each archive. Should the .done files be served from a mirror along with the actual source code archives, or will the .done file be created by the client after downloading from the mirror?</td><td class="time"><a href="#t2021-09-07T17:32:19" class="time">17:32</a></td></tr>
<tr id="t2021-09-07T17:32:40"><th class="nick" style="background: #b86161">kergoth</th><td class="text" style="color: #b86161">robbawebba: the latter</td><td class="time"><a href="#t2021-09-07T17:32:40" class="time">17:32</a></td></tr>
<tr id="t2021-09-07T17:46:36"><th class="nick" style="background: #b15db1">fray</th><td class="text" style="color: #b15db1">.done files won't cause failures from the mirror server, but they also don't do anything.&nbsp;&nbsp;I usually remove them from the server</td><td class="time"><a href="#t2021-09-07T17:46:36" class="time">17:46</a></td></tr>
<tr id="t2021-09-07T17:49:56"><th class="nick" style="background: #62bb62">whuang0389</th><td class="text" style="color: #62bb62">I need to provide my own hostapd.conf file</td><td class="time"><a href="#t2021-09-07T17:49:56" class="time">17:49</a></td></tr>
<tr id="t2021-09-07T17:50:01"><th class="nick" style="background: #62bb62">whuang0389</th><td class="text" style="color: #62bb62">whats the preferred way of doing it?</td><td class="time"><a href="#t2021-09-07T17:50:01" class="time">17:50</a></td></tr>
<tr id="t2021-09-07T17:57:51"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">RP: thanks, I'll try that once I get out of cycling kit and shower ;)</td><td class="time"><a href="#t2021-09-07T17:57:51" class="time">17:57</a></td></tr>
<tr id="t2021-09-07T18:03:49"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin: I think the test case in c13 will throw &quot;errors&quot; but I'm not sure these new ones are the fault of runqueue</td><td class="time"><a href="#t2021-09-07T18:03:49" class="time">18:03</a></td></tr>
<tr id="t2021-09-07T18:04:24"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">RP: I'll try. And gah, that Damian guy on bitbake-devel :-/</td><td class="time"><a href="#t2021-09-07T18:04:24" class="time">18:04</a></td></tr>
<tr id="t2021-09-07T18:05:07"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">RP: meanwhile, I have some results from lttng-tools 10x ptests</td><td class="time"><a href="#t2021-09-07T18:05:07" class="time">18:05</a></td></tr>
<tr id="t2021-09-07T18:10:21"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin: I think I understand what is going on with the new errors. Trying to decide if I want to fix the sstate hashes or runqueue further</td><td class="time"><a href="#t2021-09-07T18:10:21" class="time">18:10</a></td></tr>
<tr id="t2021-09-07T18:11:20"><th class="nick" style="background: #5fb4b4">robbawebba</th><td class="text" style="color: #5fb4b4">Thanks kergoth and fray :)</td><td class="time"><a href="#t2021-09-07T18:11:20" class="time">18:11</a></td></tr>
<tr id="t2021-09-07T18:16:46"><th class="nick" style="background: #5fb4b4">robbawebba</th><td class="text" style="color: #5fb4b4">whuang0389: The preferred way of doing it should be creating your own bbappend file for the hostapd package. In this bbappend file, you'll want to append the path to your custom file to the FILES variable, and you'll probably need a custom do_install_append function to overwrite the default config.</td><td class="time"><a href="#t2021-09-07T18:16:46" class="time">18:16</a></td></tr>
<tr id="t2021-09-07T18:18:44"><th class="nick" style="background: #5fb4b4">robbawebba</th><td class="text" style="color: #5fb4b4">whoops, I said FILES, but I meant SRC_URI</td><td class="time"><a href="#t2021-09-07T18:18:44" class="time">18:18</a></td></tr>
<tr id="t2021-09-07T18:19:10"><th class="nick" style="background: #8c4a4a">kanavin</th><td class="text" style="color: #8c4a4a">RP: let me know when you have something you'd like me to test</td><td class="time"><a href="#t2021-09-07T18:19:10" class="time">18:19</a></td></tr>
<tr id="t2021-09-07T18:35:22"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">kanavin: master-next has a tweaked patch which is ready for wider testing again. I'll continue to run local tests too</td><td class="time"><a href="#t2021-09-07T18:35:22" class="time">18:35</a></td></tr>
<tr id="t2021-09-07T18:38:03"><th class="nick" style="background: #6464bf">abelloni</th><td class="text" style="color: #6464bf">RP: I just sent the previous one to the AB, should I restart ?</td><td class="time"><a href="#t2021-09-07T18:38:03" class="time">18:38</a></td></tr>
<tr id="t2021-09-07T18:38:39"><th class="nick" style="background: #6464bf">abelloni</th><td class="text" style="color: #6464bf">well, 42 minutes ago</td><td class="time"><a href="#t2021-09-07T18:38:39" class="time">18:38</a></td></tr>
<tr id="t2021-09-07T18:52:33"><th class="nick" style="background: #62bb62">whuang0389</th><td class="text" style="color: #62bb62">robbawebba thanks, it worked! I guess Yocto wasn't happy when I overwrote the hostapd.conf file with the one in application recipe</td><td class="time"><a href="#t2021-09-07T18:52:33" class="time">18:52</a></td></tr>
<tr id="t2021-09-07T19:05:54"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">abelloni: please</td><td class="time"><a href="#t2021-09-07T19:05:54" class="time">19:05</a></td></tr>
<tr id="t2021-09-07T19:06:11"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">abelloni: it would be worth testing these two properly as my local testing shows they're better</td><td class="time"><a href="#t2021-09-07T19:06:11" class="time">19:06</a></td></tr>
<tr id="t2021-09-07T19:32:40"><th class="nick" style="background: #c3c366">vd</th><td class="text" style="color: #c3c366">Is it OK to use the deploy class to copy a final image to a specific (CI/CD) directory (not DEPLOYDIR/DEPLOY_DIR_IMAGE)?</td><td class="time"><a href="#t2021-09-07T19:32:40" class="time">19:32</a></td></tr>
<tr id="t2021-09-07T19:50:05"><th class="nick" style="background: #c668c6">JPEW</th><td class="text" style="color: #c668c6">vd: You might have touble with task reruns if you try to do that</td><td class="time"><a href="#t2021-09-07T19:50:05" class="time">19:50</a></td></tr>
<tr id="t2021-09-07T19:50:14"><th class="nick" style="background: #c668c6">JPEW</th><td class="text" style="color: #c668c6">I wouldn't recommend it at least</td><td class="time"><a href="#t2021-09-07T19:50:14" class="time">19:50</a></td></tr>
<tr id="t2021-09-07T19:55:36"><th class="nick" style="background: #c3c366">vd</th><td class="text" style="color: #c3c366">JPEW so I shouldn't inherit the deploy class?</td><td class="time"><a href="#t2021-09-07T19:55:36" class="time">19:55</a></td></tr>
<tr id="t2021-09-07T20:19:49"><th class="nick" style="background: #c668c6">JPEW</th><td class="text" style="color: #c668c6">vd: You cause use it, but it might cause some issues if you don't deploy to DEPLOYDIR</td><td class="time"><a href="#t2021-09-07T20:19:49" class="time">20:19</a></td></tr>
<tr id="t2021-09-07T20:20:04"><th class="nick" style="background: #c668c6">JPEW</th><td class="text" style="color: #c668c6">vd: What is it you want to accomplish?</td><td class="time"><a href="#t2021-09-07T20:20:04" class="time">20:20</a></td></tr>
<tr id="t2021-09-07T20:23:20"><th class="nick" style="background: #c3c366">vd</th><td class="text" style="color: #c3c366">JPEW a bit like you alias deploy whisk class, I need the CI/CD to copy the interesting output files (not all of them) to a different local directory</td><td class="time"><a href="#t2021-09-07T20:23:20" class="time">20:23</a></td></tr>
<tr id="t2021-09-07T20:42:32"><th class="nick" style="background: #c668c6">JPEW</th><td class="text" style="color: #c668c6">vd: Copy files out of deploydir?</td><td class="time"><a href="#t2021-09-07T20:42:32" class="time">20:42</a></td></tr>
<tr id="t2021-09-07T20:42:43"><th class="nick" style="background: #c668c6">JPEW</th><td class="text" style="color: #c668c6">or DEPLOY_DIR_IMAGE more specifically?</td><td class="time"><a href="#t2021-09-07T20:42:43" class="time">20:42</a></td></tr>
<tr id="t2021-09-07T20:43:57"><th class="nick" style="background: #c668c6">JPEW</th><td class="text" style="color: #c668c6">My first thought would be &quot;Do you really need to run that as a bitbake task for some reason?&quot; It seems like your CI/CD could have a post-build script that copies the output from deploy dir to where ever you want it</td><td class="time"><a href="#t2021-09-07T20:43:57" class="time">20:43</a></td></tr>
<tr id="t2021-09-07T20:44:13"><th class="nick" style="background: #c668c6">JPEW</th><td class="text" style="color: #c668c6">(But I might be misunderstanding what you are trying to do)</td><td class="time"><a href="#t2021-09-07T20:44:13" class="time">20:44</a></td></tr>
<tr id="t2021-09-07T20:44:41"><th class="nick" style="background: #c3c366">vd</th><td class="text" style="color: #c3c366">out of DEPLOY_DIR_IMAGE. I could simply upload DEPLOY_DIR_IMAGE but there is so much image files we don't need in there, it's confusing. I only need to copy a few final image files to a locally mounted server directory.</td><td class="time"><a href="#t2021-09-07T20:44:41" class="time">20:44</a></td></tr>
<tr id="t2021-09-07T20:45:34"><th class="nick" style="background: #c3c366">vd</th><td class="text" style="color: #c3c366">good question. The thing is that only bitbake knows about specific path for a multiconfig (e.g. DEPLOY_DIR_IMAGE, BB_CURRENT_MC, etc.)</td><td class="time"><a href="#t2021-09-07T20:45:34" class="time">20:45</a></td></tr>
<tr id="t2021-09-07T20:47:29"><th class="nick" style="background: #c668c6">JPEW</th><td class="text" style="color: #c668c6">vd: Ah, ya, that's a common problem; the best solution (that I've found) is to fix it by having a convention for how your files and directories are named; the is effectively what whisk does, although it has the convenience of setting some variables for you to make it a little easier.</td><td class="time"><a href="#t2021-09-07T20:47:29" class="time">20:47</a></td></tr>
<tr id="t2021-09-07T20:48:11"><th class="nick" style="background: #c668c6">JPEW</th><td class="text" style="color: #c668c6">vd: But, there is another way; you can actually ask bitbake the value of those variables. Sort of like you do manually with `bitbake -e`</td><td class="time"><a href="#t2021-09-07T20:48:11" class="time">20:48</a></td></tr>
<tr id="t2021-09-07T20:48:32"><th class="nick" style="background: #c668c6">JPEW</th><td class="text" style="color: #c668c6">vd: I think there is a command or library that can be used to query that programatically?</td><td class="time"><a href="#t2021-09-07T20:48:32" class="time">20:48</a></td></tr>
<tr id="t2021-09-07T20:59:52"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">JPEW: bitbake-getvar ?</td><td class="time"><a href="#t2021-09-07T20:59:52" class="time">20:59</a></td></tr>
<tr id="t2021-09-07T21:00:01"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">or tinfoil</td><td class="time"><a href="#t2021-09-07T21:00:01" class="time">21:00</a></td></tr>
<tr id="t2021-09-07T21:11:49"><th class="nick" style="background: #c3c366">vd</th><td class="text" style="color: #c3c366">hum, I donno. I have a dummy recipe to group all interesting images, and I build this dummy recipe for all my multiconfig (these are build profiles). I think the simplest is still to have a simple additional task in this dummy recipe to copy its images to a custom directory.</td><td class="time"><a href="#t2021-09-07T21:11:49" class="time">21:11</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2021-09-06.log.html">&#171; Monday, 2021-09-06</a> <a href="index.html">Index</a> <a href="%23yocto.2021-09-08.log.html">Wednesday, 2021-09-08 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.17.2 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="https://mg.pov.lt/irclog2html/">https://mg.pov.lt/irclog2html/</a>!</p>
</div>
</body>
</html>
