<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Tuesday, 2021-11-16</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.17.2 by Marius Gedminas" />
  <meta name="version" content="2.17.2 - 2019-04-23" />
</head>
<body>
<h1>Tuesday, 2021-11-16</h1>
<div class="navigation"> <a href="%23yocto.2021-11-15.log.html">&#171; Monday, 2021-11-15</a> <a href="index.html">Index</a> <a href="%23yocto.2021-11-17.log.html">Wednesday, 2021-11-17 &#187;</a> </div>
<table class="irclog">
<tr id="t2021-11-16T07:33:34"><th class="nick" style="background: #407a40">ad__</th><td class="text" style="color: #407a40">hi, how to make conditional, machine based a do_compile[depends]&nbsp;&nbsp; line ?</td><td class="time"><a href="#t2021-11-16T07:33:34" class="time">07:33</a></td></tr>
<tr id="t2021-11-16T07:34:06"><th class="nick" style="background: #407a40">ad__</th><td class="text" style="color: #407a40">(i have several dependencies in that list)</td><td class="time"><a href="#t2021-11-16T07:34:06" class="time">07:34</a></td></tr>
<tr id="t2021-11-16T07:35:56"><td class="nickchange" colspan="2">*** mckoan|away is now known as mckoan</td><td><a href="#t2021-11-16T07:35:56" class="time">07:35</a></td></tr>
<tr id="t2021-11-16T07:59:31"><th class="nick" style="background: #42427e">JosefHolzmayrThe</th><td class="text" style="color: #42427e">yo dudX</td><td class="time"><a href="#t2021-11-16T07:59:31" class="time">07:59</a></td></tr>
<tr id="t2021-11-16T08:17:33"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">ad__: do_compile[depends] = &quot;${X}&quot; X = &quot;1&quot; X:machine = &quot;2&quot;</td><td class="time"><a href="#t2021-11-16T08:17:33" class="time">08:17</a></td></tr>
<tr id="t2021-11-16T08:20:36"><th class="nick" style="background: #407a40">ad__</th><td class="text" style="color: #407a40">RP thanks</td><td class="time"><a href="#t2021-11-16T08:20:36" class="time">08:20</a></td></tr>
<tr id="t2021-11-16T08:24:05"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">jaskij[m]: I can see what you mean about the collapsed dependencies. If you have &quot;cd -&gt; f&quot; then you do lose info as you can't tell if c depends on f directly or not. That probably isn't an issue though, it just depends what you're trying to show</td><td class="time"><a href="#t2021-11-16T08:24:05" class="time">08:24</a></td></tr>
<tr id="t2021-11-16T08:25:44"><th class="nick" style="background: #407a40">ad__</th><td class="text" style="color: #407a40">RP,&nbsp;&nbsp;X_machine = &quot;2&quot; correct ?</td><td class="time"><a href="#t2021-11-16T08:25:44" class="time">08:25</a></td></tr>
<tr id="t2021-11-16T08:34:04"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">ad__: depends which project version as the override syntax changed for honister</td><td class="time"><a href="#t2021-11-16T08:34:04" class="time">08:34</a></td></tr>
<tr id="t2021-11-16T08:34:12"><th class="nick" style="background: #854685">zpfvo</th><td class="text" style="color: #854685">Is there a way to create two different images using wic and wks files? I have two different versions of a raspberry pi (one 16GB and one 8GB) and I want to create an image for both of them in one go. At the moment i set the WKS_FILE in the &lt;MACHINE&gt;.conf. But i really dont want to create a new machine just because of this.</td><td class="time"><a href="#t2021-11-16T08:34:12" class="time">08:34</a></td></tr>
<tr id="t2021-11-16T08:47:02"><th class="nick" style="background: #42427e">JosefHolzmayrThe</th><td class="text" style="color: #42427e">zpfvo: depending on your pipeline, you could inject WKS_FILE through either environment or local.conf</td><td class="time"><a href="#t2021-11-16T08:47:02" class="time">08:47</a></td></tr>
<tr id="t2021-11-16T08:48:35"><th class="nick" style="background: #854685">zpfvo</th><td class="text" style="color: #854685">JosefHolzmayrThe: ah yes! Injecting throught environment would work</td><td class="time"><a href="#t2021-11-16T08:48:35" class="time">08:48</a></td></tr>
<tr id="t2021-11-16T08:49:26"><th class="nick" style="background: #42427e">JosefHolzmayrThe</th><td class="text" style="color: #42427e">zpfvo: please note that I recommend this only if it works for a CI/CD pipeline. if it is something that you ship as a bsp to customers or similar, PLEASE make machine configurations!</td><td class="time"><a href="#t2021-11-16T08:49:26" class="time">08:49</a></td></tr>
<tr id="t2021-11-16T08:50:21"><th class="nick" style="background: #854685">zpfvo</th><td class="text" style="color: #854685">JosefHolzmayrThe: yes its in our CI/CD. Won't be shipped :)</td><td class="time"><a href="#t2021-11-16T08:50:21" class="time">08:50</a></td></tr>
<tr id="t2021-11-16T09:48:11"><td class="nickchange" colspan="2">*** camus1 is now known as camus</td><td><a href="#t2021-11-16T09:48:11" class="time">09:48</a></td></tr>
<tr id="t2021-11-16T10:33:09"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">otherwise, just use the same image and expand the fs at first boot</td><td class="time"><a href="#t2021-11-16T10:33:09" class="time">10:33</a></td></tr>
<tr id="t2021-11-16T11:20:56"><th class="nick" style="background: #8c4a4a">jorschulko</th><td class="text" style="color: #8c4a4a">Hi, I am trying to modify qemu confs as described here: <a href="https://docs.yoctoproject.org/3.1.11/singleindex.html#runqemu-ported-to-python" rel="nofollow">https://docs.yoctoproject.org/3.1.11/singleindex.html#runqemu-ported-to-python</a>. As far as I understand, the *.qemuboot.conf, which gets autogenerated when building the qemu image, can be populated using a &quot;bsp.conf&quot; file. However, adding a bsp.conf file to $layer/conf/bsp.conf did not work and this is the only mention of this ominous bsp.conf file.</td><td class="time"><a href="#t2021-11-16T11:20:56" class="time">11:20</a></td></tr>
<tr id="t2021-11-16T11:21:02"><th class="nick" style="background: #8c4a4a">jorschulko</th><td class="text" style="color: #8c4a4a">Can anyone tell me how this is supposed to work?</td><td class="time"><a href="#t2021-11-16T11:21:02" class="time">11:21</a></td></tr>
<tr id="t2021-11-16T11:21:35"><th class="nick" style="background: #8c4a4a">jorschulko</th><td class="text" style="color: #8c4a4a">Thanks :)</td><td class="time"><a href="#t2021-11-16T11:21:35" class="time">11:21</a></td></tr>
<tr id="t2021-11-16T11:26:36"><td class="nickchange" colspan="2">*** gsalazar_ is now known as gsalazar</td><td><a href="#t2021-11-16T11:26:36" class="time">11:26</a></td></tr>
<tr id="t2021-11-16T11:43:45"><th class="nick" style="background: #4b904b">sb27</th><td class="text" style="color: #4b904b">My cmake project builds in about 30 seconds. The equivalent bitbake command: bitbake &lt;image&gt; -c do_compile, compiles in 30 minutes. Is there an easy/documented way to directly use the cross-compiler with cmake, without using bitbake? Or will I have to modify my project's cmake based on the cmake bbclass? Is this sufficient and is this process</td><td class="time"><a href="#t2021-11-16T11:43:45" class="time">11:43</a></td></tr>
<tr id="t2021-11-16T11:43:45-2"><th class="nick" style="background: #4b904b">sb27</th><td class="text" style="color: #4b904b">documented on the internet anywhere?</td><td class="time"><a href="#t2021-11-16T11:43:45-2" class="time">11:43</a></td></tr>
<tr id="t2021-11-16T11:46:28"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">bitbake &lt;cmake-recipe&gt; -c devshell I think? this will put you in the workdir of the recipe and have everything setup in the environment to build your cmake project from that terminal</td><td class="time"><a href="#t2021-11-16T11:46:28" class="time">11:46</a></td></tr>
<tr id="t2021-11-16T11:47:30"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">sb27: you can also bake JUST your cmake project by running `bitbake &lt;cmake-recipe&gt;`</td><td class="time"><a href="#t2021-11-16T11:47:30" class="time">11:47</a></td></tr>
<tr id="t2021-11-16T11:48:22"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">otherwise just set CC/CXX env variable to the path to the toolchain in the yocto build dir, but I'm not sure to understand what your question is exactly</td><td class="time"><a href="#t2021-11-16T11:48:22" class="time">11:48</a></td></tr>
<tr id="t2021-11-16T11:49:09"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">sb27: sounds like you should debug why that happens instead of working around.&nbsp;&nbsp;look at the configure log to see if there's any glaring differences?&nbsp;&nbsp;cmake.bbclass has a toolchain file which might be making a setting that causes a different build.</td><td class="time"><a href="#t2021-11-16T11:49:09" class="time">11:49</a></td></tr>
<tr id="t2021-11-16T11:49:21"><th class="nick" style="background: #8c4a4a">jorschulko</th><td class="text" style="color: #8c4a4a">ok, I was able to reconfigure qemu via the localconf. :)</td><td class="time"><a href="#t2021-11-16T11:49:21" class="time">11:49</a></td></tr>
<tr id="t2021-11-16T11:50:27"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">rburton: they mention bitbake &lt;image&gt; and not bitbake &lt;cmake-project&gt; so I'm not sure it's the same thing that takes 30min to build in Bitbake?</td><td class="time"><a href="#t2021-11-16T11:50:27" class="time">11:50</a></td></tr>
<tr id="t2021-11-16T11:51:19"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">&lt;RP&gt; &quot;jaskij: I can see what you...&quot; &lt;- Not if the label for cd says &quot;c -&gt; d&quot; and I ensure that collapsing only ever happens if d is c's only dependency. Or am I missing something?</td><td class="time"><a href="#t2021-11-16T11:51:19" class="time">11:51</a></td></tr>
<tr id="t2021-11-16T11:53:02"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">jaskij[m]: what would happen for do_configure -&gt; do_compile -&gt; do_install ?</td><td class="time"><a href="#t2021-11-16T11:53:02" class="time">11:53</a></td></tr>
<tr id="t2021-11-16T11:53:15"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">I think those are direct and single dependencies?</td><td class="time"><a href="#t2021-11-16T11:53:15" class="time">11:53</a></td></tr>
<tr id="t2021-11-16T11:56:02"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">Unless there's ptest, usually yes</td><td class="time"><a href="#t2021-11-16T11:56:02" class="time">11:56</a></td></tr>
<tr id="t2021-11-16T11:56:10"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">And would end up as a single node</td><td class="time"><a href="#t2021-11-16T11:56:10" class="time">11:56</a></td></tr>
<tr id="t2021-11-16T11:56:29"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">It kinda conflicts with your idea, but would dramatically cut down the number of nodes</td><td class="time"><a href="#t2021-11-16T11:56:29" class="time">11:56</a></td></tr>
<tr id="t2021-11-16T11:58:41"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">Unless I do that DEPENDS guess before collapsing</td><td class="time"><a href="#t2021-11-16T11:58:41" class="time">11:58</a></td></tr>
<tr id="t2021-11-16T12:00:25"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">It should also dramatically cut down on render times</td><td class="time"><a href="#t2021-11-16T12:00:25" class="time">12:00</a></td></tr>
<tr id="t2021-11-16T12:00:38"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">I think the DEPENDS guess wasn't really a good idea as per rburton's reaction to the suggestion :)</td><td class="time"><a href="#t2021-11-16T12:00:38" class="time">12:00</a></td></tr>
<tr id="t2021-11-16T12:01:33"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">jaskij[m]: I guess if you have a good label for this new node, it could be ok? But not convinced it's not going to introduce confusion</td><td class="time"><a href="#t2021-11-16T12:01:33" class="time">12:01</a></td></tr>
<tr id="t2021-11-16T12:01:39"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">Come to think of it, I should probably make it default not to collapse across recipe lines</td><td class="time"><a href="#t2021-11-16T12:01:39" class="time">12:01</a></td></tr>
<tr id="t2021-11-16T12:02:17"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">jaskij[m]: IMO, default should be something beginner-valuable</td><td class="time"><a href="#t2021-11-16T12:02:17" class="time">12:02</a></td></tr>
<tr id="t2021-11-16T12:03:24"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">What I mean is that, say, `-c` only collapses within recipe and `-cc` enables doing it across recipes</td><td class="time"><a href="#t2021-11-16T12:03:24" class="time">12:03</a></td></tr>
<tr id="t2021-11-16T12:05:44"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">jaskij[m]: what's the usecase for -c ?</td><td class="time"><a href="#t2021-11-16T12:05:44" class="time">12:05</a></td></tr>
<tr id="t2021-11-16T12:06:19"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">qschulz: True. I think for now I'll add the options and then we can figure a beginner friendly set of flags which will be included in the README or added as a --beginner flag or ship as an included config file.</td><td class="time"><a href="#t2021-11-16T12:06:19" class="time">12:06</a></td></tr>
<tr id="t2021-11-16T12:06:55"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">jaskij[m]: no optional flags should be the beginner friendly configuration</td><td class="time"><a href="#t2021-11-16T12:06:55" class="time">12:06</a></td></tr>
<tr id="t2021-11-16T12:07:34"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">then you can have a --fast that is an alias to all things that makes things faster to the cost of potential confusion?</td><td class="time"><a href="#t2021-11-16T12:07:34" class="time">12:07</a></td></tr>
<tr id="t2021-11-16T12:08:01"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">qschulz: The graphs can, and often will, end up large. This will dramatically cut down the graph size, hopefully without losing much, if any, information</td><td class="time"><a href="#t2021-11-16T12:08:01" class="time">12:08</a></td></tr>
<tr id="t2021-11-16T12:09:49"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">I'm hoping it will reduce the note count on the order of 50%</td><td class="time"><a href="#t2021-11-16T12:09:49" class="time">12:09</a></td></tr>
<tr id="t2021-11-16T12:12:51"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">&lt;qschulz&gt; &quot;jaskij: no optional flags should...&quot; &lt;- That would probably mean adding negative flags. Also, most of the stuff is too dependent on what you're looking for. IMO the only stuff that could be on by default is short labels, removing -native and -cross dependencies and *maybe* clusters</td><td class="time"><a href="#t2021-11-16T12:12:51" class="time">12:12</a></td></tr>
<tr id="t2021-11-16T12:13:38"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">Sidenote: I forgot -c is already used for clusters, collapsing needs a different flag. Maybe -m for --merge?</td><td class="time"><a href="#t2021-11-16T12:13:38" class="time">12:13</a></td></tr>
<tr id="t2021-11-16T12:15:23"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">jaskij[m]: --hide or --collapse with choices/coma-separated list?</td><td class="time"><a href="#t2021-11-16T12:15:23" class="time">12:15</a></td></tr>
<tr id="t2021-11-16T12:15:47"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">I don't know honestly, I don't like one letter aliases :p</td><td class="time"><a href="#t2021-11-16T12:15:47" class="time">12:15</a></td></tr>
<tr id="t2021-11-16T12:17:57"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">it's IMO more important to have a meaningful full length option name, even if the one letter alias is not the first letter of the full length option name, but that's personal taste</td><td class="time"><a href="#t2021-11-16T12:17:57" class="time">12:17</a></td></tr>
<tr id="t2021-11-16T12:19:39"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">qschulz: What would be the use of a list here?</td><td class="time"><a href="#t2021-11-16T12:19:39" class="time">12:19</a></td></tr>
<tr id="t2021-11-16T12:22:27"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">qschulz: Kind of true, especially if you keep around scripts or something. I'm thinking of adding the option of loading the command line from a file (iirc argparse supports this?) and maybe shipping some predefined configs with the script.</td><td class="time"><a href="#t2021-11-16T12:22:27" class="time">12:22</a></td></tr>
<tr id="t2021-11-16T12:27:24"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">jaskij[m]: if you plan to have more than one collapsible thing than one recipe/all recipes</td><td class="time"><a href="#t2021-11-16T12:27:24" class="time">12:27</a></td></tr>
<tr id="t2021-11-16T12:27:39"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">e.g., collapse multiple recipes but not all and list them</td><td class="time"><a href="#t2021-11-16T12:27:39" class="time">12:27</a></td></tr>
<tr id="t2021-11-16T12:29:06"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">Not for now, I think. There would be two options: collapse within recipes and collapse across recipes</td><td class="time"><a href="#t2021-11-16T12:29:06" class="time">12:29</a></td></tr>
<tr id="t2021-11-16T12:29:39"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">I don't really see the need to add filtering here</td><td class="time"><a href="#t2021-11-16T12:29:39" class="time">12:29</a></td></tr>
<tr id="t2021-11-16T12:32:53"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">OTOH, there could be an option to only collapse the common chains (eg do_install -&gt; do compile -&gt; do_configure)</td><td class="time"><a href="#t2021-11-16T12:32:53" class="time">12:32</a></td></tr>
<tr id="t2021-11-16T12:41:33"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">Hmm.... Come to think of it qschulz RP rburto In&nbsp;&nbsp;want to default to removing -native and -cross recipes, would it make sense to also remove \*ptest\* tasks by default? As said earlier, the default no flags config would be meant to be beginner friendly and IMO the primary use case would be analyzing why something is included in the image. Would add a single flag to show all tasks.</td><td class="time"><a href="#t2021-11-16T12:41:33" class="time">12:41</a></td></tr>
<tr id="t2021-11-16T12:56:35"><th class="nick" style="background: #9b519b">Saur</th><td class="text" style="color: #9b519b"> jaskij[m]: If you want to clean up task-depends.dot for rendering then you should post-process it using the tools from graphviz. E.g., use gvpr to filter the nodes that you want, and use tred to reduce the graph (removing redundant edges). gvpr is extremely powerful when it comes to making huge graphs like the one from OE renderable.</td><td class="time"><a href="#t2021-11-16T12:56:35" class="time">12:56</a></td></tr>
<tr id="t2021-11-16T12:59:01"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">Saur: didn't know it existed. Either way, I've already started on my own script, which uses pygraphviz to parse and plan to include some Yocto specific stuff. <a href="https://gitlab.com/jaskij/oe-dependency-tool" rel="nofollow">https://gitlab.com/jaskij/oe-dependency-tool</a></td><td class="time"><a href="#t2021-11-16T12:59:01" class="time">12:59</a></td></tr>
<tr id="t2021-11-16T12:59:41"><th class="nick" style="background: #9b519b">Saur</th><td class="text" style="color: #9b519b">jaskij[m]: Here is an example of a filter for removing all native tasks, and add some coloring: <a href="https://pastebin.com/j4SE2piH" rel="nofollow">https://pastebin.com/j4SE2piH</a></td><td class="time"><a href="#t2021-11-16T12:59:41" class="time">12:59</a></td></tr>
<tr id="t2021-11-16T13:03:31"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">Neat. Does it allow for filtering by node? Say, I give it a node name and it only shows nodes up or down from the selected node?</td><td class="time"><a href="#t2021-11-16T13:03:31" class="time">13:03</a></td></tr>
<tr id="t2021-11-16T13:42:00"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">Seems I *could* rewrite my Python script in gpvr, but it's growing biggish (even if we exclude the stuff which gpvr handles by itself) *and* I'd prefer to use a more well-known language. Not to mention&nbsp;&nbsp;there are some requirements on the structure of the `.dot` file that I'm not sure gpvr *can* handle (mainly for the mode which outputs human readable and diffable files).</td><td class="time"><a href="#t2021-11-16T13:42:00" class="time">13:42</a></td></tr>
<tr id="t2021-11-16T14:23:03"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">qschulz: I'm back to my conundrum of SoM with vs without WiFi. I think I have figured it out - FIT images support overlays, so I'll just drop the WiFi overlay into the FIT image and then just enable the overlay via a dedicated file in rootfs.</td><td class="time"><a href="#t2021-11-16T14:23:03" class="time">14:23</a></td></tr>
<tr id="t2021-11-16T14:23:41"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">jaskij[m]: how do you detect which board is booting your fitimage?</td><td class="time"><a href="#t2021-11-16T14:23:41" class="time">14:23</a></td></tr>
<tr id="t2021-11-16T14:28:56"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">qschulz:&nbsp;&nbsp;I don't. There's no sane way to do it, so I gave up. This would have come down to flashing the correct image anyway, but at least this way I cut down the number of machines in my BSP.</td><td class="time"><a href="#t2021-11-16T14:28:56" class="time">14:28</a></td></tr>
<tr id="t2021-11-16T14:30:01"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">I can't probe the pins, since they're also present on the edge connector and routed to an extension header on the baseboard (unused at the moment, but still)</td><td class="time"><a href="#t2021-11-16T14:30:01" class="time">14:30</a></td></tr>
<tr id="t2021-11-16T14:31:17"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">jaskij[m]: ok, so what do you mean by &quot;enable the overlay via a dedicated file in rootfs.&quot;?</td><td class="time"><a href="#t2021-11-16T14:31:17" class="time">14:31</a></td></tr>
<tr id="t2021-11-16T14:32:08"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">Essentially, a renamed `env.txt`</td><td class="time"><a href="#t2021-11-16T14:32:08" class="time">14:32</a></td></tr>
<tr id="t2021-11-16T14:32:47"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">jaskij[m]: you can just run a fw_setenv dtbo 'name-of-dtbo.dtbo' and read this dtbo variable from U-Boot</td><td class="time"><a href="#t2021-11-16T14:32:47" class="time">14:32</a></td></tr>
<tr id="t2021-11-16T14:32:55"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">I could just dump this in env.txt, but I think separating it might make it easier to work with, I'll have to think it through</td><td class="time"><a href="#t2021-11-16T14:32:55" class="time">14:32</a></td></tr>
<tr id="t2021-11-16T14:33:14"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">And fw_setenv will work with env.txt, won't it?</td><td class="time"><a href="#t2021-11-16T14:33:14" class="time">14:33</a></td></tr>
<tr id="t2021-11-16T14:33:26"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">jaskij[m]: no idea, i've never used env.txt until now</td><td class="time"><a href="#t2021-11-16T14:33:26" class="time">14:33</a></td></tr>
<tr id="t2021-11-16T14:34:12"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">Mhm. I don't have a dedicated environment section in the flash, `saveenv` dumps to `/boot/env.txt`</td><td class="time"><a href="#t2021-11-16T14:34:12" class="time">14:34</a></td></tr>
<tr id="t2021-11-16T14:35:31"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">I probably could have a fixed location on the eMMC for this, but for internal reasons I'm winding down the development on this board and have to move on.</td><td class="time"><a href="#t2021-11-16T14:35:31" class="time">14:35</a></td></tr>
<tr id="t2021-11-16T14:36:08"><th class="nick" style="background: #4b904b">sb27</th><td class="text" style="color: #4b904b">@qschThank you for the responses. How would I extract the SDK tools</td><td class="time"><a href="#t2021-11-16T14:36:08" class="time">14:36</a></td></tr>
<tr id="t2021-11-16T14:36:26"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">sb27: `bitbake your-image -c populate_sdk`</td><td class="time"><a href="#t2021-11-16T14:36:26" class="time">14:36</a></td></tr>
<tr id="t2021-11-16T14:37:08"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">sb27: if you use bitbake &lt;cmake-project-recipe&gt; -c devshell, there's nothing to be done for you, the env variables are set up correctly so if you don't override them in your cmakelists.txt, you should be good to go</td><td class="time"><a href="#t2021-11-16T14:37:08" class="time">14:37</a></td></tr>
<tr id="t2021-11-16T14:37:53"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">you just need to run your usual command as if it were a normal local build, just within the devhsell &quot;environment&quot;</td><td class="time"><a href="#t2021-11-16T14:37:53" class="time">14:37</a></td></tr>
<tr id="t2021-11-16T14:39:37"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">if you want a full SDK so that other devs can build without using bitbake, follow what jaskij[m] just said</td><td class="time"><a href="#t2021-11-16T14:39:37" class="time">14:39</a></td></tr>
<tr id="t2021-11-16T14:40:32"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">qschulz: I think there's a need to give CMake the toolchain file for dependency lookup. So running bare `cmake` in dev shell might not work. Unless CMake allows setting all of it's variables (CMAKE_TOOLCHAIN_FILE in this case) via environment?</td><td class="time"><a href="#t2021-11-16T14:40:32" class="time">14:40</a></td></tr>
<tr id="t2021-11-16T14:41:24"><th class="nick" style="background: #4b904b">sb27</th><td class="text" style="color: #4b904b">qschulz jaskij[m] Thanks for the responses. Sorry, I hit enter too quickly. Basically, I think my real question is, is it possible to extract the SDK tools outside the bitbake environment to use it on a different host (bitbake)? I can use populate_sdk to generate the sh file, copy this to a different host, and then load the dev environment on that</td><td class="time"><a href="#t2021-11-16T14:41:24" class="time">14:41</a></td></tr>
<tr id="t2021-11-16T14:41:25"><th class="nick" style="background: #4b904b">sb27</th><td class="text" style="color: #4b904b">host. Then the problem becomes actually using these tools (arm-poky-linux-gnueabi-*) with cmake on the other host, correct?</td><td class="time"><a href="#t2021-11-16T14:41:25" class="time">14:41</a></td></tr>
<tr id="t2021-11-16T14:41:46"><th class="nick" style="background: #4b904b">sb27</th><td class="text" style="color: #4b904b">on a different host (WITHOUT bitbake)*</td><td class="time"><a href="#t2021-11-16T14:41:46" class="time">14:41</a></td></tr>
<tr id="t2021-11-16T14:42:04"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">sb27: if you source the sh, the environment should be set correctly with PATH and all</td><td class="time"><a href="#t2021-11-16T14:42:04" class="time">14:42</a></td></tr>
<tr id="t2021-11-16T14:42:39"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">sb27: The .sh file is a makeself installer. Once you install it, the toolchain directory will include a toolchain file you can pass to CMake via `-DCMAKE_TOOLCHAIN_FILE`</td><td class="time"><a href="#t2021-11-16T14:42:39" class="time">14:42</a></td></tr>
<tr id="t2021-11-16T14:42:40"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">but I assume if you knew already all this, you have an issue, so why not share the issue :)</td><td class="time"><a href="#t2021-11-16T14:42:40" class="time">14:42</a></td></tr>
<tr id="t2021-11-16T14:43:27"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">qschulz: sourcing the file in an IDE is not really viable. But iirc the toolchain files work without that, or they do with a slight modification.</td><td class="time"><a href="#t2021-11-16T14:43:27" class="time">14:43</a></td></tr>
<tr id="t2021-11-16T14:43:41"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">jaskij[m]: I would have assumed that to be already set correctly by the shell script sourced</td><td class="time"><a href="#t2021-11-16T14:43:41" class="time">14:43</a></td></tr>
<tr id="t2021-11-16T14:43:53"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">since I'd have assumed that the cmake from the toolchain would be used</td><td class="time"><a href="#t2021-11-16T14:43:53" class="time">14:43</a></td></tr>
<tr id="t2021-11-16T14:43:58"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">s/toolchain/SDK/</td><td class="time"><a href="#t2021-11-16T14:43:58" class="time">14:43</a></td></tr>
<tr id="t2021-11-16T14:44:15"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">jaskij[m]: vim is my IDE so no problem on that side :D</td><td class="time"><a href="#t2021-11-16T14:44:15" class="time">14:44</a></td></tr>
<tr id="t2021-11-16T14:54:56"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">qschulz: I don't think you can set all the necessary variables via environment. Apart from compilers and linker paths and arguments, CMake also needs sysroot door as it does some dependency lookup using pkgconfig and it's own modules.</td><td class="time"><a href="#t2021-11-16T14:54:56" class="time">14:54</a></td></tr>
<tr id="t2021-11-16T14:56:57"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">There's an `${SDK_DIR}/sysroots/${SDKMACHINE}/usr/share/OEToolchainConfig.cmake` but the one I'm reading makes little sense, like something was missing.</td><td class="time"><a href="#t2021-11-16T14:56:57" class="time">14:56</a></td></tr>
<tr id="t2021-11-16T14:57:09"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">or not</td><td class="time"><a href="#t2021-11-16T14:57:09" class="time">14:57</a></td></tr>
<tr id="t2021-11-16T14:57:16"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">misread it</td><td class="time"><a href="#t2021-11-16T14:57:16" class="time">14:57</a></td></tr>
<tr id="t2021-11-16T14:57:22"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">jaskij[m]: I can't argue or discuss this further as I really only know some parts of Yocto SDK, and only in theory. So I trust you :)</td><td class="time"><a href="#t2021-11-16T14:57:22" class="time">14:57</a></td></tr>
<tr id="t2021-11-16T14:57:28"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">*set all the necessary CMake variables</td><td class="time"><a href="#t2021-11-16T14:57:28" class="time">14:57</a></td></tr>
<tr id="t2021-11-16T15:00:09"><th class="nick" style="background: #407a40">ad__</th><td class="text" style="color: #407a40">what coud be the reason of a recipe git directory empty on do_compile ?</td><td class="time"><a href="#t2021-11-16T15:00:09" class="time">15:00</a></td></tr>
<tr id="t2021-11-16T15:01:26"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">sb27: once you install the SDK, there will be an `${SDK_DIR}/sysroots/${SDKMACHINE}/usr/share/OEToolchainConfig.cmake` - copy it, replace the $ENV variables with values from `${SDK_DIR}/environment-setup-${TARGET}`, remove the last section with GLOB if you're so inclined, and feed the new toolchain file to CMake with `-DCMAKE_TOOLCHAIN_FILE=${YOUR_SDK_FILE}`</td><td class="time"><a href="#t2021-11-16T15:01:26" class="time">15:01</a></td></tr>
<tr id="t2021-11-16T15:01:40"><th class="nick" style="background: #407a40">ad__</th><td class="text" style="color: #407a40">do_compile claims sources are missing, not clear why they are not downloaded</td><td class="time"><a href="#t2021-11-16T15:01:40" class="time">15:01</a></td></tr>
<tr id="t2021-11-16T15:02:25"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">ad__: missing S = &quot;${WORKDIR}/git&quot; in your recipe I assume</td><td class="time"><a href="#t2021-11-16T15:02:25" class="time">15:02</a></td></tr>
<tr id="t2021-11-16T15:02:48"><th class="nick" style="background: #539e9e">zeddii</th><td class="text" style="color: #539e9e">that would be my guess as well,.</td><td class="time"><a href="#t2021-11-16T15:02:48" class="time">15:02</a></td></tr>
<tr id="t2021-11-16T15:04:41"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">qschulz: I'll probably need a reminder, but I can add a CMake section here to the manual would help (so far there's only autotools and make ones) <a href="https://docs.yoctoproject.org/3.3.3/sdk-manual/working-projects.html" rel="nofollow">https://docs.yoctoproject.org/3.3.3/sdk-manual/working-projects.html</a></td><td class="time"><a href="#t2021-11-16T15:04:41" class="time">15:04</a></td></tr>
<tr id="t2021-11-16T15:08:30"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">RP: would you be opposed to SDK including additional CMake toolchain files with baked-in variable values (as opposed to sourcing environment-setup-${TARGET} and using $ENV inside)? This would greatly simplify setup for using big IDEs which are usually not launched from CLI.</td><td class="time"><a href="#t2021-11-16T15:08:30" class="time">15:08</a></td></tr>
<tr id="t2021-11-16T15:12:47"><th class="nick" style="background: #407a40">ad__</th><td class="text" style="color: #407a40">S = &quot;${WORKDIR}/git&quot;&nbsp;&nbsp;is inside a &quot;require recipe_git.inc&quot; so seems ok</td><td class="time"><a href="#t2021-11-16T15:12:47" class="time">15:12</a></td></tr>
<tr id="t2021-11-16T15:17:19"><th class="nick" style="background: #407a40">ad__</th><td class="text" style="color: #407a40">ok solved, sry, was accessig a git/subdir that was not existing</td><td class="time"><a href="#t2021-11-16T15:17:19" class="time">15:17</a></td></tr>
<tr id="t2021-11-16T15:17:27"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">&lt;jaskij[m]&gt; &quot;RP: would you be opposed to...&quot; &lt;- I agree that it's most likely not necessary, but&nbsp;&nbsp;would greatly simplify IDE setup.</td><td class="time"><a href="#t2021-11-16T15:17:27" class="time">15:17</a></td></tr>
<tr id="t2021-11-16T15:25:43"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">jaskij[m]: I'm not opposed to it, just not everyone uses cmake...</td><td class="time"><a href="#t2021-11-16T15:25:43" class="time">15:25</a></td></tr>
<tr id="t2021-11-16T15:26:36"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">also means people will probably expect from us to maintain this but if not many people from the (contributing) community uses it, it's difficult to guarantee it's working ok?</td><td class="time"><a href="#t2021-11-16T15:26:36" class="time">15:26</a></td></tr>
<tr id="t2021-11-16T15:28:33"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">The only thing that needs to be done is take the existing OEtoolchain.cmake and replace calls to ENV with hard coded values.</td><td class="time"><a href="#t2021-11-16T15:28:33" class="time">15:28</a></td></tr>
<tr id="t2021-11-16T15:30:01"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">Which, come to think of it, would probably be relative to the toolchain file, or need to be generated in the install script.</td><td class="time"><a href="#t2021-11-16T15:30:01" class="time">15:30</a></td></tr>
<tr id="t2021-11-16T15:32:17"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">At least I think so. I'll probably spend most of my Sunday digging either in CMake support in SDK or with that dependency graph script</td><td class="time"><a href="#t2021-11-16T15:32:17" class="time">15:32</a></td></tr>
<tr id="t2021-11-16T15:39:30"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">&lt;RP&gt; &quot;jaskij: I'm not opposed to it...&quot; &lt;- I can be quite oblivious (especially on chats) and the second part of your message flew right over my head.</td><td class="time"><a href="#t2021-11-16T15:39:30" class="time">15:39</a></td></tr>
<tr id="t2021-11-16T15:40:50"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">I'm not proposing sacrificing anything, just adding a few more files to the SDK. Nor am I criticizing anything.</td><td class="time"><a href="#t2021-11-16T15:40:50" class="time">15:40</a></td></tr>
<tr id="t2021-11-16T15:50:03"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">jaskij[m]: The tricky thing is more hardcoded paths in the SDK - we deliberately tried to minimise the number of places the installer has to change the installed location iirc</td><td class="time"><a href="#t2021-11-16T15:50:03" class="time">15:50</a></td></tr>
<tr id="t2021-11-16T15:54:36"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">RP&nbsp;&nbsp;I believe I could solve this by making the hard coded paths relative to the toolchain file (CMake makes all the paths absolute early on regardless). So the only hardcoded things would be the toolchain prefix and target name. This should be fine unless the SDK directory structure changes.</td><td class="time"><a href="#t2021-11-16T15:54:36" class="time">15:54</a></td></tr>
<tr id="t2021-11-16T15:59:52"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">jaskij[m]: that could work</td><td class="time"><a href="#t2021-11-16T15:59:52" class="time">15:59</a></td></tr>
<tr id="t2021-11-16T16:15:35"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">Ah, one more thing to hardcode: CFLAGS, CXXFLAGS and maybe LDFLAGS</td><td class="time"><a href="#t2021-11-16T16:15:35" class="time">16:15</a></td></tr>
<tr id="t2021-11-16T16:28:51"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">RP: I dug out a toolchain file I've created for my older project and added annotations on what would need to be filled, everything can be done at SDK generation <a href="https://gitlab.com/-/snippets/2207506" rel="nofollow">https://gitlab.com/-/snippets/2207506</a></td><td class="time"><a href="#t2021-11-16T16:28:51" class="time">16:28</a></td></tr>
<tr id="t2021-11-16T16:34:18"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">OEToolchainConfig.cmake comes from `cmake-native`, I'd either have to patch it or add an SDK-only recipe, or something?</td><td class="time"><a href="#t2021-11-16T16:34:18" class="time">16:34</a></td></tr>
<tr id="t2021-11-16T16:34:46"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">Is there an SDK overload?</td><td class="time"><a href="#t2021-11-16T16:34:46" class="time">16:34</a></td></tr>
<tr id="t2021-11-16T16:37:10"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">class-nativesdk OVERRIDES IIUC your question</td><td class="time"><a href="#t2021-11-16T16:37:10" class="time">16:37</a></td></tr>
<tr id="t2021-11-16T16:40:18"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">Okay, I'll work on both the extra toolchain files and a CMake section for the SDK manual.</td><td class="time"><a href="#t2021-11-16T16:40:18" class="time">16:40</a></td></tr>
<tr id="t2021-11-16T16:43:25"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">Code generation in recipe itself isn't anything awkward, is it?</td><td class="time"><a href="#t2021-11-16T16:43:25" class="time">16:43</a></td></tr>
<tr id="t2021-11-16T17:02:29"><th class="nick" style="background: #a25555">smurray</th><td class="text" style="color: #a25555">RP: to extend what Tim just said, I think there's currently a bit of a gap for the image in image workflow with multiconfig, atm everyone is stuck hacking up how to figure out where the child multiconfig images are to pull them in</td><td class="time"><a href="#t2021-11-16T17:02:29" class="time">17:02</a></td></tr>
<tr id="t2021-11-16T17:02:44"><th class="nick" style="background: #a25555">smurray</th><td class="text" style="color: #a25555">RP: I've no good idea on how that could be addressed right off, though</td><td class="time"><a href="#t2021-11-16T17:02:44" class="time">17:02</a></td></tr>
<tr id="t2021-11-16T17:07:17"><th class="nick" style="background: #a25555">smurray</th><td class="text" style="color: #a25555">RP: I usually end up with ideally wanting to be able to know the value of some of the image variables from a different config, which seems intractable</td><td class="time"><a href="#t2021-11-16T17:07:17" class="time">17:07</a></td></tr>
<tr id="t2021-11-16T17:32:51"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">smurray: We could add an API to do that, we'd just have to ensure it couldn't be abused as it would be a slow operation</td><td class="time"><a href="#t2021-11-16T17:32:51" class="time">17:32</a></td></tr>
<tr id="t2021-11-16T17:33:22"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">smurray: I think the understanding was always that the multiconfig itself would configure this so it could work</td><td class="time"><a href="#t2021-11-16T17:33:22" class="time">17:33</a></td></tr>
<tr id="t2021-11-16T17:37:21"><th class="nick" style="background: #a25555">smurray</th><td class="text" style="color: #a25555">RP: the issue I've see there is then you're having to hard-code things after some trial and error, it's not really something someone new to OE is going to understand</td><td class="time"><a href="#t2021-11-16T17:37:21" class="time">17:37</a></td></tr>
<tr id="t2021-11-16T17:44:30"><th class="nick" style="background: #a25555">smurray</th><td class="text" style="color: #a25555">RP: as an example of a wrinkle I've hit, I had to code up special-casing for a BSP that changes IMAGE_LINK_NAME to be able to figure out what the image filename to copy over would be</td><td class="time"><a href="#t2021-11-16T17:44:30" class="time">17:44</a></td></tr>
<tr id="t2021-11-16T17:45:01"><th class="nick" style="background: #818144">RP</th><td class="text" style="color: #818144">smurray: that is a valid point and yes, having some API to do it would be nicer</td><td class="time"><a href="#t2021-11-16T17:45:01" class="time">17:45</a></td></tr>
<tr id="t2021-11-16T17:50:33"><td class="nickchange" colspan="2">*** mckoan is now known as mckoan|away</td><td><a href="#t2021-11-16T17:50:33" class="time">17:50</a></td></tr>
<tr id="t2021-11-16T18:29:49"><th class="nick" style="background: #97974f">jaskij[m]</th><td class="text" style="color: #97974f">after moving to Hardknott vim over serial finally doesn't break my terminal</td><td class="time"><a href="#t2021-11-16T18:29:49" class="time">18:29</a></td></tr>
<tr id="t2021-11-16T18:34:04"><th class="nick" style="background: #57a657">gainde</th><td class="text" style="color: #57a657">Hello . I have a compilation error while trying to run bitbake on docker image .</td><td class="time"><a href="#t2021-11-16T18:34:04" class="time">18:34</a></td></tr>
<tr id="t2021-11-16T18:34:04-2"><th class="nick" style="background: #57a657">gainde</th><td class="text" style="color: #57a657">Â gitlab-runner 14.0.1</td><td class="time"><a href="#t2021-11-16T18:34:04-2" class="time">18:34</a></td></tr>
<tr id="t2021-11-16T18:34:05"><th class="nick" style="background: #57a657">gainde</th><td class="text" style="color: #57a657">using Ubuntu 14.04</td><td class="time"><a href="#t2021-11-16T18:34:05" class="time">18:34</a></td></tr>
<tr id="t2021-11-16T18:34:05-2"><th class="nick" style="background: #57a657">gainde</th><td class="text" style="color: #57a657">poky version 1.8.1</td><td class="time"><a href="#t2021-11-16T18:34:05-2" class="time">18:34</a></td></tr>
<tr id="t2021-11-16T18:34:06"><th class="nick" style="background: #57a657">gainde</th><td class="text" style="color: #57a657">Python 2.7.6</td><td class="time"><a href="#t2021-11-16T18:34:06" class="time">18:34</a></td></tr>
<tr id="t2021-11-16T18:35:58"><th class="nick" style="background: #57a657">gainde</th><td class="text" style="color: #57a657"><a href="https://pastebin.com/UDpZ2e6w" rel="nofollow">https://pastebin.com/UDpZ2e6w</a></td><td class="time"><a href="#t2021-11-16T18:35:58" class="time">18:35</a></td></tr>
<tr id="t2021-11-16T18:38:44"><th class="nick" style="background: #57a657">gainde</th><td class="text" style="color: #57a657">also here the dockerfile : <a href="https://pastebin.com/23fSgxrG" rel="nofollow">https://pastebin.com/23fSgxrG</a></td><td class="time"><a href="#t2021-11-16T18:38:44" class="time">18:38</a></td></tr>
<tr id="t2021-11-16T18:39:15"><th class="nick" style="background: #57a657">gainde</th><td class="text" style="color: #57a657">can some one please help me find a solution ?</td><td class="time"><a href="#t2021-11-16T18:39:15" class="time">18:39</a></td></tr>
<tr id="t2021-11-16T19:34:37"><th class="nick" style="background: #5959a9">moto-timo</th><td class="text" style="color: #5959a9">working on the kernel lab, checkout out honister-3.4 tag of poky... glibc is failing do_configure</td><td class="time"><a href="#t2021-11-16T19:34:37" class="time">19:34</a></td></tr>
<tr id="t2021-11-16T19:34:54"><th class="nick" style="background: #5959a9">moto-timo</th><td class="text" style="color: #5959a9"><a href="https://www.irccloud.com/pastebin/LaKlwzIJ/" rel="nofollow">https://www.irccloud.com/pastebin/LaKlwzIJ/</a></td><td class="time"><a href="#t2021-11-16T19:34:54" class="time">19:34</a></td></tr>
<tr id="t2021-11-16T19:35:51"><th class="nick" style="background: #5959a9">moto-timo</th><td class="text" style="color: #5959a9">any ideas? host is Debian 11</td><td class="time"><a href="#t2021-11-16T19:35:51" class="time">19:35</a></td></tr>
<tr id="t2021-11-16T20:26:44"><th class="nick" style="background: #adad5b">khem</th><td class="text" style="color: #adad5b">moto-timo:&nbsp;&nbsp;does it work for x86_64 ?</td><td class="time"><a href="#t2021-11-16T20:26:44" class="time">20:26</a></td></tr>
<tr id="t2021-11-16T20:28:53"><th class="nick" style="background: #adad5b">khem</th><td class="text" style="color: #adad5b">maybe post config.log from glibc builddir somewhere</td><td class="time"><a href="#t2021-11-16T20:28:53" class="time">20:28</a></td></tr>
<tr id="t2021-11-16T20:52:00"><th class="nick" style="background: #b15db1">ant__</th><td class="text" style="color: #b15db1">khem, hi there</td><td class="time"><a href="#t2021-11-16T20:52:00" class="time">20:52</a></td></tr>
<tr id="t2021-11-16T20:52:38"><th class="nick" style="background: #b15db1">ant__</th><td class="text" style="color: #b15db1">how is it with time_t 64b vs glibc? did they add finally a knob for 32b kernels?</td><td class="time"><a href="#t2021-11-16T20:52:38" class="time">20:52</a></td></tr>
<tr id="t2021-11-16T20:56:22"><th class="nick" style="background: #b15db1">ant__</th><td class="text" style="color: #b15db1">is this last elaboration?&nbsp;&nbsp;<a href="https://www.gnu.org/software/libc/manual/html_node/64_002dbit-time-symbol-handling.html" rel="nofollow">https://www.gnu.org/software/libc/manual/html_node/64_002dbit-time-symbol-handling.html</a></td><td class="time"><a href="#t2021-11-16T20:56:22" class="time">20:56</a></td></tr>
<tr id="t2021-11-16T20:56:46"><th class="nick" style="background: #b15db1">ant__</th><td class="text" style="color: #b15db1">because I've read contrasting stuff...</td><td class="time"><a href="#t2021-11-16T20:56:46" class="time">20:56</a></td></tr>
<tr id="t2021-11-16T21:04:22"><th class="nick" style="background: #5959a9">moto-timo</th><td class="text" style="color: #5959a9">khem: testing tune-i686 now (instead of -i586) and then depending on outcome I'll try x86_64</td><td class="time"><a href="#t2021-11-16T21:04:22" class="time">21:04</a></td></tr>
<tr id="t2021-11-16T21:04:44"><th class="nick" style="background: #5959a9">moto-timo</th><td class="text" style="color: #5959a9">ah.. I forgot about that time knob</td><td class="time"><a href="#t2021-11-16T21:04:44" class="time">21:04</a></td></tr>
<tr id="t2021-11-16T21:05:14"><th class="nick" style="background: #5959a9">moto-timo</th><td class="text" style="color: #5959a9">I might have to punt and do the kernel lab x86_64 instead...</td><td class="time"><a href="#t2021-11-16T21:05:14" class="time">21:05</a></td></tr>
<tr id="t2021-11-16T21:15:55"><th class="nick" style="background: #5959a9">moto-timo</th><td class="text" style="color: #5959a9">FWIW, tune-i686 glibc is in do_compile</td><td class="time"><a href="#t2021-11-16T21:15:55" class="time">21:15</a></td></tr>
<tr id="t2021-11-16T21:37:40"><th class="nick" style="background: #5959a9">moto-timo</th><td class="text" style="color: #5959a9">khem: <a href="https://github.com/aristocratos/btop/issues/106#issuecomment-948722970" rel="nofollow">https://github.com/aristocratos/btop/issues/106#issuecomment-948722970</a></td><td class="time"><a href="#t2021-11-16T21:37:40" class="time">21:37</a></td></tr>
<tr id="t2021-11-16T22:27:28"><th class="nick" style="background: #adad5b">khem</th><td class="text" style="color: #adad5b">moto_timo: ah 586 we should just stop doing it</td><td class="time"><a href="#t2021-11-16T22:27:28" class="time">22:27</a></td></tr>
<tr id="t2021-11-16T22:28:31"><th class="nick" style="background: #adad5b">khem</th><td class="text" style="color: #adad5b">Perhaps change EXTRA_OECONF:append:x86 = &quot; --enable-cet&quot; to be specific to i686+</td><td class="time"><a href="#t2021-11-16T22:28:31" class="time">22:28</a></td></tr>
<tr id="t2021-11-16T22:28:33"><th class="nick" style="background: #adad5b">khem</th><td class="text" style="color: #adad5b">in glibc recipe</td><td class="time"><a href="#t2021-11-16T22:28:33" class="time">22:28</a></td></tr>
<tr id="t2021-11-16T22:30:09"><th class="nick" style="background: #adad5b">khem</th><td class="text" style="color: #adad5b">ant__:&nbsp;&nbsp;I think glibc will work seemlessly, you dont have to worry about size of time_t,</td><td class="time"><a href="#t2021-11-16T22:30:09" class="time">22:30</a></td></tr>
<tr id="t2021-11-16T22:30:41"><th class="nick" style="background: #adad5b">khem</th><td class="text" style="color: #adad5b">musl is where it has moved to support 64bit time_t across 32bit arches</td><td class="time"><a href="#t2021-11-16T22:30:41" class="time">22:30</a></td></tr>
<tr id="t2021-11-16T22:49:11"><th class="nick" style="background: #b15db1">ant__</th><td class="text" style="color: #b15db1">I still have issues compiling enigma2 with musl for mipsel 3.13 kernel</td><td class="time"><a href="#t2021-11-16T22:49:11" class="time">22:49</a></td></tr>
<tr id="t2021-11-16T22:49:28"><th class="nick" style="background: #adad5b">khem</th><td class="text" style="color: #adad5b">ant__:&nbsp;&nbsp;what kind of errors</td><td class="time"><a href="#t2021-11-16T22:49:28" class="time">22:49</a></td></tr>
<tr id="t2021-11-16T22:50:50"><th class="nick" style="background: #b15db1">ant__</th><td class="text" style="color: #b15db1"><a href="https://pastebin.com/e3P5g62g" rel="nofollow">https://pastebin.com/e3P5g62g</a></td><td class="time"><a href="#t2021-11-16T22:50:50" class="time">22:50</a></td></tr>
<tr id="t2021-11-16T22:52:52"><th class="nick" style="background: #b15db1">ant__</th><td class="text" style="color: #b15db1">I imagine the fix would be to consider all 64b but they do strange castings, see one here&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://github.com/OpenPLi/enigma2/blob/develop/lib/dvb/dvbtime.cpp" rel="nofollow">https://github.com/OpenPLi/enigma2/blob/develop/lib/dvb/dvbtime.cpp</a></td><td class="time"><a href="#t2021-11-16T22:52:52" class="time">22:52</a></td></tr>
<tr id="t2021-11-16T22:54:38"><th class="nick" style="background: #b15db1">ant__</th><td class="text" style="color: #b15db1">note this is older glibc (zeus)</td><td class="time"><a href="#t2021-11-16T22:54:38" class="time">22:54</a></td></tr>
<tr id="t2021-11-16T22:56:03"><th class="nick" style="background: #5959a9">moto-timo</th><td class="text" style="color: #5959a9">khem: agreed, I'll prepare a patch</td><td class="time"><a href="#t2021-11-16T22:56:03" class="time">22:56</a></td></tr>
<tr id="t2021-11-16T22:58:47"><th class="nick" style="background: #adad5b">khem</th><td class="text" style="color: #adad5b">downside is that glibc becomes tune specific</td><td class="time"><a href="#t2021-11-16T22:58:47" class="time">22:58</a></td></tr>
<tr id="t2021-11-16T22:59:08"><th class="nick" style="background: #adad5b">khem</th><td class="text" style="color: #adad5b">ant__:&nbsp;&nbsp;you can perhaps check for __TIMESIZE == 64 &amp;&amp; __WORDSIZE == 32</td><td class="time"><a href="#t2021-11-16T22:59:08" class="time">22:59</a></td></tr>
<tr id="t2021-11-16T22:59:17"><th class="nick" style="background: #adad5b">khem</th><td class="text" style="color: #adad5b">on glibc it will work</td><td class="time"><a href="#t2021-11-16T22:59:17" class="time">22:59</a></td></tr>
<tr id="t2021-11-16T22:59:32"><th class="nick" style="background: #b15db1">ant__</th><td class="text" style="color: #b15db1">right, but with &gt;2.32 isn't?</td><td class="time"><a href="#t2021-11-16T22:59:32" class="time">22:59</a></td></tr>
<tr id="t2021-11-16T23:00:42"><th class="nick" style="background: #b15db1">ant__</th><td class="text" style="color: #b15db1">khem, I'll test soon migrating to hardknott</td><td class="time"><a href="#t2021-11-16T23:00:42" class="time">23:00</a></td></tr>
<tr id="t2021-11-16T23:00:47"><th class="nick" style="background: #5959a9">moto-timo</th><td class="text" style="color: #5959a9">khem: I will patch it with a bbappend for now in the lab metadata</td><td class="time"><a href="#t2021-11-16T23:00:47" class="time">23:00</a></td></tr>
<tr id="t2021-11-16T23:01:06"><th class="nick" style="background: #adad5b">khem</th><td class="text" style="color: #adad5b">yeah</td><td class="time"><a href="#t2021-11-16T23:01:06" class="time">23:01</a></td></tr>
<tr id="t2021-11-16T23:01:48"><th class="nick" style="background: #adad5b">khem</th><td class="text" style="color: #adad5b">ant__:&nbsp;&nbsp;perhaps do this use %lld and typecast (long long)st.st_mtime</td><td class="time"><a href="#t2021-11-16T23:01:48" class="time">23:01</a></td></tr>
<tr id="t2021-11-16T23:01:59"><th class="nick" style="background: #adad5b">khem</th><td class="text" style="color: #adad5b">that should work all across</td><td class="time"><a href="#t2021-11-16T23:01:59" class="time">23:01</a></td></tr>
<tr id="t2021-11-16T23:04:15"><th class="nick" style="background: #b15db1">ant__</th><td class="text" style="color: #b15db1">wouldn't the problem remain when they do</td><td class="time"><a href="#t2021-11-16T23:04:15" class="time">23:04</a></td></tr>
<tr id="t2021-11-16T23:04:19"><th class="nick" style="background: #b15db1">ant__</th><td class="text" style="color: #b15db1">void setRTC(time_t time)</td><td class="time"><a href="#t2021-11-16T23:04:19" class="time">23:04</a></td></tr>
<tr id="t2021-11-16T23:04:41-2"><th class="nick" style="background: #b15db1">ant__</th><td class="text" style="color: #b15db1">&nbsp;&nbsp; if (fprintf(f, &quot;%u&quot;, (unsigned int)time))</td><td class="time"><a href="#t2021-11-16T23:04:41-2" class="time">23:04</a></td></tr>
<tr id="t2021-11-16T23:04:47"><th class="nick" style="background: #b15db1">ant__</th><td class="text" style="color: #b15db1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ^^</td><td class="time"><a href="#t2021-11-16T23:04:47" class="time">23:04</a></td></tr>
<tr id="t2021-11-16T23:05:28"><th class="nick" style="background: #adad5b">khem</th><td class="text" style="color: #adad5b">ideally use lld and long long everywhere</td><td class="time"><a href="#t2021-11-16T23:05:28" class="time">23:05</a></td></tr>
<tr id="t2021-11-16T23:05:57"><th class="nick" style="background: #b15db1">ant__</th><td class="text" style="color: #b15db1">yes, but they rely sometime on tp.tv_sec</td><td class="time"><a href="#t2021-11-16T23:05:57" class="time">23:05</a></td></tr>
<tr id="t2021-11-16T23:06:32"><th class="nick" style="background: #b15db1">ant__</th><td class="text" style="color: #b15db1">being lu and not llu</td><td class="time"><a href="#t2021-11-16T23:06:32" class="time">23:06</a></td></tr>
<tr id="t2021-11-16T23:07:14"><th class="nick" style="background: #b15db1">ant__</th><td class="text" style="color: #b15db1">I think the code must be rewritten in the meanwhile as you say lld/long long</td><td class="time"><a href="#t2021-11-16T23:07:14" class="time">23:07</a></td></tr>
<tr id="t2021-11-16T23:07:52"><th class="nick" style="background: #b15db1">ant__</th><td class="text" style="color: #b15db1">I could dare #ifdef __GLIBC__</td><td class="time"><a href="#t2021-11-16T23:07:52" class="time">23:07</a></td></tr>
<tr id="t2021-11-16T23:08:37"><td class="nickchange" colspan="2">*** marcel_ is now known as hammerhd</td><td><a href="#t2021-11-16T23:08:37" class="time">23:08</a></td></tr>
<tr id="t2021-11-16T23:09:26"><td class="nickchange" colspan="2">*** hammerhd is now known as hamer</td><td><a href="#t2021-11-16T23:09:26" class="time">23:09</a></td></tr>
<tr id="t2021-11-16T23:17:07"><th class="nick" style="background: #5959a9">moto-timo</th><td class="text" style="color: #5959a9">khem: I filed a bug for now <a href="https://bugzilla.yoctoproject.org/show_bug.cgi?id=14632" rel="nofollow">https://bugzilla.yoctoproject.org/show_bug.cgi?id=14632</a></td><td class="time"><a href="#t2021-11-16T23:17:07" class="time">23:17</a></td></tr>
<tr id="t2021-11-16T23:30:26"><th class="nick" style="background: #adad5b">khem</th><td class="text" style="color: #adad5b">yeah thanks</td><td class="time"><a href="#t2021-11-16T23:30:26" class="time">23:30</a></td></tr>
<tr id="t2021-11-16T23:30:39"><th class="nick" style="background: #adad5b">khem</th><td class="text" style="color: #adad5b">I am inclined to disable it for 32bit x86 completely</td><td class="time"><a href="#t2021-11-16T23:30:39" class="time">23:30</a></td></tr>
<tr id="t2021-11-16T23:30:57"><th class="nick" style="background: #adad5b">khem</th><td class="text" style="color: #adad5b">unless we want to stop support i586</td><td class="time"><a href="#t2021-11-16T23:30:57" class="time">23:30</a></td></tr>
<tr id="t2021-11-16T23:31:13"><th class="nick" style="background: #adad5b">khem</th><td class="text" style="color: #adad5b">perhaps in next LTS onwards its something to ponder</td><td class="time"><a href="#t2021-11-16T23:31:13" class="time">23:31</a></td></tr>
<tr id="t2021-11-16T23:33:36"><th class="nick" style="background: #adad5b">khem</th><td class="text" style="color: #adad5b">even debian dropped it in 2016 <a href="https://lists.debian.org/debian-devel-announce/2016/05/msg00001.html" rel="nofollow">https://lists.debian.org/debian-devel-announce/2016/05/msg00001.html</a></td><td class="time"><a href="#t2021-11-16T23:33:36" class="time">23:33</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2021-11-15.log.html">&#171; Monday, 2021-11-15</a> <a href="index.html">Index</a> <a href="%23yocto.2021-11-17.log.html">Wednesday, 2021-11-17 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.17.2 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="https://mg.pov.lt/irclog2html/">https://mg.pov.lt/irclog2html/</a>!</p>
</div>
</body>
</html>
