<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Tuesday, 2021-01-19</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.17.2 by Marius Gedminas" />
  <meta name="version" content="2.17.2 - 2019-04-23" />
</head>
<body>
<h1>Tuesday, 2021-01-19</h1>
<div class="navigation"> <a href="%23yocto.2021-01-18.log.html">&#171; Monday, 2021-01-18</a> <a href="index.html">Index</a> <a href="%23yocto.2021-01-20.log.html">Wednesday, 2021-01-20 &#187;</a> </div>
<table class="irclog">
<tr id="t2021-01-19T06:41:54"><th class="nick" style="background: #407a40">stuom1</th><td class="text" style="color: #407a40">wayland recipe has GPLv3 deps in RDEPENDS_ptest, and I have blacklisted that license. I'm not interested in wayland ptest package so what is the correct way to disable it? I have ptest in DISTRO_FEATURES but I only want ptest in my selected packages that I include separately, so I don'</td><td class="time"><a href="#t2021-01-19T06:41:54" class="time">06:41</a></td></tr>
<tr id="t2021-01-19T06:42:13"><th class="nick" style="background: #407a40">stuom1</th><td class="text" style="color: #407a40">* don't have ptest-pkgs in EXTRA_IMAGE_FEATURES</td><td class="time"><a href="#t2021-01-19T06:42:13" class="time">06:42</a></td></tr>
<tr id="t2021-01-19T06:47:00"><th class="nick" style="background: #407a40">stuom1</th><td class="text" style="color: #407a40">so AFAIK I'm not asking bitbake to build wayland-ptest, but it still checks the rdepends-ptest and gives error about incompatible license</td><td class="time"><a href="#t2021-01-19T06:47:00" class="time">06:47</a></td></tr>
<tr id="t2021-01-19T07:47:01"><td class="nickchange" colspan="2">*** camus is now known as kaspter</td><td><a href="#t2021-01-19T07:47:01" class="time">07:47</a></td></tr>
<tr id="t2021-01-19T07:49:40"><th class="nick" style="background: #42427e">LetoThe2nd</th><td class="text" style="color: #42427e">yo dudX</td><td class="time"><a href="#t2021-01-19T07:49:40" class="time">07:49</a></td></tr>
<tr id="t2021-01-19T07:56:04"><th class="nick" style="background: #818144">mihai</th><td class="text" style="color: #818144">'morning</td><td class="time"><a href="#t2021-01-19T07:56:04" class="time">07:56</a></td></tr>
<tr id="t2021-01-19T08:19:56"><th class="nick" style="background: #854685">NiniC0c0</th><td class="text" style="color: #854685">Hi all, one of my custom machine is inherited from an other, KBUILD_DEFCONFIG in machine conf. I want to override it but if I place defconfig inside SCR_URI I get following issue :  [NOTE]: defconfig was supplied both via KBUILD_DEFCONFIG and SRC_URI. Dropping SRC_URI defconfig. So how can i override properly KBUILD_DEFCONFIG  ?</td><td class="time"><a href="#t2021-01-19T08:19:56" class="time">08:19</a></td></tr>
<tr id="t2021-01-19T08:52:34"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">v0n: kernel drivers are either built as modules or built-in, there is no such thing as builtin kernel modules. If you want drivers to be built in, you need to modify your kernel defconfig</td><td class="time"><a href="#t2021-01-19T08:52:34" class="time">08:52</a></td></tr>
<tr id="t2021-01-19T08:52:48"><td class="nickchange" colspan="2">*** mckoan|away is now known as mckoan</td><td><a href="#t2021-01-19T08:52:48" class="time">08:52</a></td></tr>
<tr id="t2021-01-19T08:52:53"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">you can't have out-of-tree drivers builtin AFAIK (but I've very limited experience with oot driver)</td><td class="time"><a href="#t2021-01-19T08:52:53" class="time">08:52</a></td></tr>
<tr id="t2021-01-19T08:53:14"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">v0n: also wrt your two rootfs thingy... what about just bundling the initramfs inside the kernel directly?</td><td class="time"><a href="#t2021-01-19T08:53:14" class="time">08:53</a></td></tr>
<tr id="t2021-01-19T08:53:28"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">no need to care about wic having to handle two rootfs in two partitions</td><td class="time"><a href="#t2021-01-19T08:53:28" class="time">08:53</a></td></tr>
<tr id="t2021-01-19T10:03:56"><th class="nick" style="background: #854685">NiniC0c0</th><td class="text" style="color: #854685">Strange issu after migrating to Gatesgarth: FileNotFoundError: [Errno 2] No such file or directory: '/path2builddir/tmp/deploy/licenses/sc15-hw-image/recipeinfo' in fact reciping</td><td class="time"><a href="#t2021-01-19T10:03:56" class="time">10:03</a></td></tr>
<tr id="t2021-01-19T10:04:13"><th class="nick" style="background: #854685">NiniC0c0</th><td class="text" style="color: #854685">is located inside /path2builddir/tmp/deploy/licenses/sc15-hw-image/-TIMESTAMP</td><td class="time"><a href="#t2021-01-19T10:04:13" class="time">10:04</a></td></tr>
<tr id="t2021-01-19T10:25:34"><th class="nick" style="background: #42427e">LetoThe2nd</th><td class="text" style="color: #42427e">to add a command to devtool, what is needed so it also gets added to the esdk? if i drop the .py in scripts/lib/devtool/whatever.py and have a register_commands method, it works nicely in a local environment. but the script isn't being picked up and packed upon esdk generation.</td><td class="time"><a href="#t2021-01-19T10:25:34" class="time">10:25</a></td></tr>
<tr id="t2021-01-19T11:08:09"><th class="nick" style="background: #42427e">LetoThe2nd</th><td class="text" style="color: #42427e">and another one: how to remove a specific directory from the esdk? is there some form of POSTPROCESS hook for it too?</td><td class="time"><a href="#t2021-01-19T11:08:09" class="time">11:08</a></td></tr>
<tr id="t2021-01-19T11:22:20"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">rburton, abelloni: master built green:&nbsp;&nbsp;<a href="https://autobuilder.yoctoproject.org/typhoon/#/builders/113/builds/631" rel="nofollow">https://autobuilder.yoctoproject.org/typhoon/#/builders/113/builds/631</a> :/</td><td class="time"><a href="#t2021-01-19T11:22:20" class="time">11:22</a></td></tr>
<tr id="t2021-01-19T11:23:04"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">rburton: guessing intermittent race :(</td><td class="time"><a href="#t2021-01-19T11:23:04" class="time">11:23</a></td></tr>
<tr id="t2021-01-19T11:42:05"><th class="nick" style="background: #4b904b">rburton</th><td class="text" style="color: #4b904b">yes, edk2 is the bane of my life</td><td class="time"><a href="#t2021-01-19T11:42:05" class="time">11:42</a></td></tr>
<tr id="t2021-01-19T11:48:29"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">abelloni: that pipe thing is a makefile race, its running &quot; /bin/sh ../../bash-5.1/builtins/psize.sh &gt; pipesize.h&quot; twice and the two commands race</td><td class="time"><a href="#t2021-01-19T11:48:29" class="time">11:48</a></td></tr>
<tr id="t2021-01-19T11:48:56"><th class="nick" style="background: #4d4d93">abelloni</th><td class="text" style="color: #4d4d93">ah!</td><td class="time"><a href="#t2021-01-19T11:48:56" class="time">11:48</a></td></tr>
<tr id="t2021-01-19T11:49:21"><td class="action" colspan="2">* RP isn't sure he wants to debug make races in bash's makefiles :/</td><td><a href="#t2021-01-19T11:49:21" class="time">11:49</a></td></tr>
<tr id="t2021-01-19T11:49:46"><th class="nick" style="background: #4d4d93">abelloni</th><td class="text" style="color: #4d4d93">maybe we can have a look to see if this was introduced with v5.1</td><td class="time"><a href="#t2021-01-19T11:49:46" class="time">11:49</a></td></tr>
<tr id="t2021-01-19T11:57:11"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">abelloni: its in 5.0 but only one makefile reference to it so no race. Two references in 5.1</td><td class="time"><a href="#t2021-01-19T11:57:11" class="time">11:57</a></td></tr>
<tr id="t2021-01-19T11:57:13"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">abelloni: looks like a makefile bug to me</td><td class="time"><a href="#t2021-01-19T11:57:13" class="time">11:57</a></td></tr>
<tr id="t2021-01-19T12:03:17"><td class="nickchange" colspan="2">*** sesom is now known as nucatus</td><td><a href="#t2021-01-19T12:03:17" class="time">12:03</a></td></tr>
<tr id="t2021-01-19T12:34:01"><th class="nick" style="background: #97974f">chrysh</th><td class="text" style="color: #97974f">Hi! I have a question about the build/ directory. Does it have to be put under source control?</td><td class="time"><a href="#t2021-01-19T12:34:01" class="time">12:34</a></td></tr>
<tr id="t2021-01-19T12:35:13"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">chrysh: it shouldn't</td><td class="time"><a href="#t2021-01-19T12:35:13" class="time">12:35</a></td></tr>
<tr id="t2021-01-19T12:35:28"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">would you version your binaries or rather your sources?</td><td class="time"><a href="#t2021-01-19T12:35:28" class="time">12:35</a></td></tr>
<tr id="t2021-01-19T12:37:22"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">chrysh: but there's probably a more precise question that brought you here I feel like :)</td><td class="time"><a href="#t2021-01-19T12:37:22" class="time">12:37</a></td></tr>
<tr id="t2021-01-19T12:37:49"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">chrysh: what would you like to improve/work-around by having the build directory under source control?</td><td class="time"><a href="#t2021-01-19T12:37:49" class="time">12:37</a></td></tr>
<tr id="t2021-01-19T12:44:00"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">qschulz: I have seen management insist on that before :/</td><td class="time"><a href="#t2021-01-19T12:44:00" class="time">12:44</a></td></tr>
<tr id="t2021-01-19T12:44:48"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">RP: what for? because of the build/conf dir?</td><td class="time"><a href="#t2021-01-19T12:44:48" class="time">12:44</a></td></tr>
<tr id="t2021-01-19T12:45:04"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">qschulz: because they want to be sure it can be reproduced/fixed later</td><td class="time"><a href="#t2021-01-19T12:45:04" class="time">12:45</a></td></tr>
<tr id="t2021-01-19T12:45:11"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">otherwise, if they don't change the directory of sstate-cache and downloads directory, that's one of the stupidest idea ever</td><td class="time"><a href="#t2021-01-19T12:45:11" class="time">12:45</a></td></tr>
<tr id="t2021-01-19T12:45:24"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">the path* directories*</td><td class="time"><a href="#t2021-01-19T12:45:24" class="time">12:45</a></td></tr>
<tr id="t2021-01-19T12:45:29"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">qschulz: I didn't say I agreed with it, I just have seen it before</td><td class="time"><a href="#t2021-01-19T12:45:29" class="time">12:45</a></td></tr>
<tr id="t2021-01-19T12:45:41"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">qschulz: entire TMPDIR checked into clearcase</td><td class="time"><a href="#t2021-01-19T12:45:41" class="time">12:45</a></td></tr>
<tr id="t2021-01-19T12:45:53"><td class="action" colspan="2">* qschulz screams</td><td><a href="#t2021-01-19T12:45:53" class="time">12:45</a></td></tr>
<tr id="t2021-01-19T12:46:17"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">qschulz: I apologise for the nightmares</td><td class="time"><a href="#t2021-01-19T12:46:17" class="time">12:46</a></td></tr>
<tr id="t2021-01-19T12:46:42"><th class="nick" style="background: #97974f">chrysh</th><td class="text" style="color: #97974f">Hi quentin! :) I just don;t understand why the instructions to add a layer tell you to edit conf/bblayers.con</td><td class="time"><a href="#t2021-01-19T12:46:42" class="time">12:46</a></td></tr>
<tr id="t2021-01-19T12:46:45"><th class="nick" style="background: #97974f">chrysh</th><td class="text" style="color: #97974f">f</td><td class="time"><a href="#t2021-01-19T12:46:45" class="time">12:46</a></td></tr>
<tr id="t2021-01-19T12:46:59"><th class="nick" style="background: #97974f">chrysh</th><td class="text" style="color: #97974f">which would make your change volatile</td><td class="time"><a href="#t2021-01-19T12:46:59" class="time">12:46</a></td></tr>
<tr id="t2021-01-19T12:47:14"><th class="nick" style="background: #97974f">chrysh</th><td class="text" style="color: #97974f">where do you specify then if you want to add a layer permanently?</td><td class="time"><a href="#t2021-01-19T12:47:14" class="time">12:47</a></td></tr>
<tr id="t2021-01-19T12:47:58"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">chrysh: didn't recognize your nick until now, sorry :D but hi o/</td><td class="time"><a href="#t2021-01-19T12:47:58" class="time">12:47</a></td></tr>
<tr id="t2021-01-19T12:48:52"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">chrysh: that is up to you. kas allows you to do this I think. Otherwise, you can just install the file yourself with a script. Or this script could call bitbake-layers add-layer for example</td><td class="time"><a href="#t2021-01-19T12:48:52" class="time">12:48</a></td></tr>
<tr id="t2021-01-19T12:49:12"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">but yes, the build directory isn't meant to be shared, it's a build directory afterall</td><td class="time"><a href="#t2021-01-19T12:49:12" class="time">12:49</a></td></tr>
<tr id="t2021-01-19T12:50:55"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">(FWIW, we install local.conf and bblayers.conf from our versioned git repo)</td><td class="time"><a href="#t2021-01-19T12:50:55" class="time">12:50</a></td></tr>
<tr id="t2021-01-19T12:51:06"><th class="nick" style="background: #97974f">chrysh</th><td class="text" style="color: #97974f">into build?</td><td class="time"><a href="#t2021-01-19T12:51:06" class="time">12:51</a></td></tr>
<tr id="t2021-01-19T12:52:21"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">yeah, well... we have our own script we source that is using oe-init-buildenv, we do some crazy stuff in there and then we cp the local.conf and bblayers.conf into the build/ directory</td><td class="time"><a href="#t2021-01-19T12:52:21" class="time">12:52</a></td></tr>
<tr id="t2021-01-19T12:56:40"><th class="nick" style="background: #97974f">chrysh</th><td class="text" style="color: #97974f">and that's the recommended way to do things with yocto?</td><td class="time"><a href="#t2021-01-19T12:56:40" class="time">12:56</a></td></tr>
<tr id="t2021-01-19T12:58:02"><th class="nick" style="background: #97974f">chrysh</th><td class="text" style="color: #97974f">or is there a comprehensible documentation how you as a manufacturer get a bsp from your vendor and what you have to do then?</td><td class="time"><a href="#t2021-01-19T12:58:02" class="time">12:58</a></td></tr>
<tr id="t2021-01-19T12:58:46"><th class="nick" style="background: #42427e">LetoThe2nd</th><td class="text" style="color: #42427e">RP: you happen to know if there's a form of POSTPROCESS command, or filtering mechanism for layers being copied into the esdk?</td><td class="time"><a href="#t2021-01-19T12:58:46" class="time">12:58</a></td></tr>
<tr id="t2021-01-19T12:58:51"><th class="nick" style="background: #97974f">chrysh</th><td class="text" style="color: #97974f">I would assume your own meta layer in order to keep your changes grouped somehow. but the descriptions I found where all more in detail, and there was no high level view on how to get started</td><td class="time"><a href="#t2021-01-19T12:58:51" class="time">12:58</a></td></tr>
<tr id="t2021-01-19T12:59:26"><th class="nick" style="background: #42427e">LetoThe2nd</th><td class="text" style="color: #42427e">chrysh: look at the live coding video on kas. :)</td><td class="time"><a href="#t2021-01-19T12:59:26" class="time">12:59</a></td></tr>
<tr id="t2021-01-19T13:02:24-2"><th class="nick" style="background: #854685">NiniC0c0</th><td class="text" style="color: #854685">I have some trouble to create a recipe for 'package pynq 2.6)&nbsp;&nbsp;inherited from pip/setuptools3,RDEPENDS_${PN} += &quot;${PYTHON_PN}-numpy&quot; is set but i got ModuleNotFoundError: No module named 'numpy' any clue to debug that ? thx!</td><td class="time"><a href="#t2021-01-19T13:02:24-2" class="time">13:02</a></td></tr>
<tr id="t2021-01-19T13:02:32"><th class="nick" style="background: #854685">NiniC0c0</th><td class="text" style="color: #854685">sorry for double post</td><td class="time"><a href="#t2021-01-19T13:02:32" class="time">13:02</a></td></tr>
<tr id="t2021-01-19T13:03:28"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">LetoThe2nd: I'm not sure there is any postprocess like that. It would be a bit dangerous as the sstate hashes would be very likely to change so it wouldn't be encouraged</td><td class="time"><a href="#t2021-01-19T13:03:28" class="time">13:03</a></td></tr>
<tr id="t2021-01-19T13:05:39"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">chrysh: I wouldn't say our way of doing it is the recommended way, I'm not sure there is an officially recommended way honestly. But kas should allow you to set this all up with a config file you can then version control</td><td class="time"><a href="#t2021-01-19T13:05:39" class="time">13:05</a></td></tr>
<tr id="t2021-01-19T13:07:05"><th class="nick" style="background: #42427e">LetoThe2nd</th><td class="text" style="color: #42427e">RP: hmm. I'm seeing the week picking up a lot of undesired stuff when a layer includes a directory with helpers and such that is meant only for system development</td><td class="time"><a href="#t2021-01-19T13:07:05" class="time">13:07</a></td></tr>
<tr id="t2021-01-19T13:09:29"><th class="nick" style="background: #42427e">LetoThe2nd</th><td class="text" style="color: #42427e">s/week/week/</td><td class="time"><a href="#t2021-01-19T13:09:29" class="time">13:09</a></td></tr>
<tr id="t2021-01-19T13:09:38"><th class="nick" style="background: #42427e">LetoThe2nd</th><td class="text" style="color: #42427e">meh. *esdk</td><td class="time"><a href="#t2021-01-19T13:09:38" class="time">13:09</a></td></tr>
<tr id="t2021-01-19T13:19:48"><th class="nick" style="background: #9b519b">notnick</th><td class="text" style="color: #9b519b">only possible to change existing recipes using .bbappend or are there other methods (such as directly changing the recipe itself which is probably not the correct way I assume)?</td><td class="time"><a href="#t2021-01-19T13:19:48" class="time">13:19</a></td></tr>
<tr id="t2021-01-19T13:30:58"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">LetoThe2nd: ah, SDK_LAYERS_EXCLUDE ?</td><td class="time"><a href="#t2021-01-19T13:30:58" class="time">13:30</a></td></tr>
<tr id="t2021-01-19T13:32:00"><th class="nick" style="background: #42427e">LetoThe2nd</th><td class="text" style="color: #42427e">RP: but that excludes a complete layer, right?</td><td class="time"><a href="#t2021-01-19T13:32:00" class="time">13:32</a></td></tr>
<tr id="t2021-01-19T13:32:08"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">LetoThe2nd: correct</td><td class="time"><a href="#t2021-01-19T13:32:08" class="time">13:32</a></td></tr>
<tr id="t2021-01-19T13:32:23"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">LetoThe2nd: code is in meta/lib/oe/copy_buildsystem.py</td><td class="time"><a href="#t2021-01-19T13:32:23" class="time">13:32</a></td></tr>
<tr id="t2021-01-19T13:32:23-2"><th class="nick" style="background: #9b519b">notnick</th><td class="text" style="color: #9b519b">@RP then why include it all?</td><td class="time"><a href="#t2021-01-19T13:32:23-2" class="time">13:32</a></td></tr>
<tr id="t2021-01-19T13:32:52"><td class="action" colspan="2">* LetoThe2nd will probably just hard patch populate_sdk_ext.bbclass</td><td><a href="#t2021-01-19T13:32:52" class="time">13:32</a></td></tr>
<tr id="t2021-01-19T13:33:27"><th class="nick" style="background: #42427e">LetoThe2nd</th><td class="text" style="color: #42427e">Respectively copy_buildsystem</td><td class="time"><a href="#t2021-01-19T13:33:27" class="time">13:33</a></td></tr>
<tr id="t2021-01-19T13:49:37"><th class="nick" style="background: #9b519b">notnick</th><td class="text" style="color: #9b519b">ok got it</td><td class="time"><a href="#t2021-01-19T13:49:37" class="time">13:49</a></td></tr>
<tr id="t2021-01-19T14:10:54"><td class="part" colspan="2">*** jwessel &lt;jwessel!~jwessel@128.224.252.2&gt; has left #yocto</td><td><a href="#t2021-01-19T14:10:54" class="time">14:10</a></td></tr>
<tr id="t2021-01-19T14:32:33"><th class="nick" style="background: #539e9e">v0n</th><td class="text" style="color: #539e9e">qschulz: hi -- I meant builtin *drivers*</td><td class="time"><a href="#t2021-01-19T14:32:33" class="time">14:32</a></td></tr>
<tr id="t2021-01-19T14:33:46"><th class="nick" style="background: #539e9e">v0n</th><td class="text" style="color: #539e9e">coming from Buildroot, I prefer a separated initramfs image, it makes it easier for development and tftpboot to copy only the kernel or the rootfs image on my server depending on what I'm working</td><td class="time"><a href="#t2021-01-19T14:33:46" class="time">14:33</a></td></tr>
<tr id="t2021-01-19T14:35:35"><th class="nick" style="background: #539e9e">v0n</th><td class="text" style="color: #539e9e">but since it seems more complicated to enable builtin drivers in the kernel and having to deal with 2 rootfs images rather than building an initramfs inside the kernel and having another rootfs and wic image, I might go the yocto way...</td><td class="time"><a href="#t2021-01-19T14:35:35" class="time">14:35</a></td></tr>
<tr id="t2021-01-19T14:40:36"><th class="nick" style="background: #a25555">dleppich</th><td class="text" style="color: #a25555">Hi, I'm struggling with how native recipes work. I have a python script &quot;foo.py&quot; which I want to install as a host build tool in a recipe &quot;foo-native.py&quot;. This recipe inherits &quot;native&quot; and installs to ${D}${bindir}. Now I want to use this script in another recipes do_compile task. I searched the web for minimal examples but nothing worked for me.</td><td class="time"><a href="#t2021-01-19T14:40:36" class="time">14:40</a></td></tr>
<tr id="t2021-01-19T14:41:01"><th class="nick" style="background: #a25555">dleppich</th><td class="text" style="color: #a25555">Can someone tell me how this works or where I can find an easy example of this mechanism in action?</td><td class="time"><a href="#t2021-01-19T14:41:01" class="time">14:41</a></td></tr>
<tr id="t2021-01-19T14:43:18"><td class="nickchange" colspan="2">*** nucatus is now known as sesom</td><td><a href="#t2021-01-19T14:43:18" class="time">14:43</a></td></tr>
<tr id="t2021-01-19T14:45:28"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">v0n: &quot;more complicated to enable builtin drivers&quot;?</td><td class="time"><a href="#t2021-01-19T14:45:28" class="time">14:45</a></td></tr>
<tr id="t2021-01-19T14:46:04"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">dleppich: first, the recipe should be called foo-native.bb</td><td class="time"><a href="#t2021-01-19T14:46:04" class="time">14:46</a></td></tr>
<tr id="t2021-01-19T14:46:32"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">dleppich: then just add foo-native to your script recipe's DEPENDS?</td><td class="time"><a href="#t2021-01-19T14:46:32" class="time">14:46</a></td></tr>
<tr id="t2021-01-19T14:47:02"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">then just call foo directly since it'll be in the PATH variable for this task</td><td class="time"><a href="#t2021-01-19T14:47:02" class="time">14:47</a></td></tr>
<tr id="t2021-01-19T14:47:33"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">v0n: how to build drivers in the kernel aren't specific to Yocto but the linux kernel so not sure to follow?</td><td class="time"><a href="#t2021-01-19T14:47:33" class="time">14:47</a></td></tr>
<tr id="t2021-01-19T14:48:06"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">dleppich: If you do that, you also have to add &quot;inherit native&quot; in the recipe: <a href="https://docs.yoctoproject.org/ref-manual/classes.html#native-bbclass" rel="nofollow">https://docs.yoctoproject.org/ref-manual/classes.html#native-bbclass</a></td><td class="time"><a href="#t2021-01-19T14:48:06" class="time">14:48</a></td></tr>
<tr id="t2021-01-19T14:48:20"><th class="nick" style="background: #539e9e">v0n</th><td class="text" style="color: #539e9e">qschulz: I mean the kernel recipes (linux-ti-staging for example) seems to have drivers set as modules by default so using built-in drivers require a custom defconfig. No big deal but it looks like &quot;the yocto way&quot; is to go with modules</td><td class="time"><a href="#t2021-01-19T14:48:20" class="time">14:48</a></td></tr>
<tr id="t2021-01-19T14:50:24"><th class="nick" style="background: #539e9e">v0n</th><td class="text" style="color: #539e9e">qschulz: I speaking in terms of changes required to achieve what you want. modules + builtin initramfs seems straight forward in yocto compared to builtin drivers + separated initramfs image (I might be wrong, hence this discussion).</td><td class="time"><a href="#t2021-01-19T14:50:24" class="time">14:50</a></td></tr>
<tr id="t2021-01-19T14:52:09"><th class="nick" style="background: #5959a9">jeremyjohnsonthe</th><td class="text" style="color: #5959a9">qschulz sp creatomg a recipe kungfu-native.bb and then adding to DEPENDS will automatically include that recipe?</td><td class="time"><a href="#t2021-01-19T14:52:09" class="time">14:52</a></td></tr>
<tr id="t2021-01-19T14:52:19"><th class="nick" style="background: #5959a9">jeremyjohnsonthe</th><td class="text" style="color: #5959a9">so creating</td><td class="time"><a href="#t2021-01-19T14:52:19" class="time">14:52</a></td></tr>
<tr id="t2021-01-19T14:53:06"><th class="nick" style="background: #5959a9">jeremyjohnsonthe</th><td class="text" style="color: #5959a9">v0n how do you enable a kernel module in yocto?</td><td class="time"><a href="#t2021-01-19T14:53:06" class="time">14:53</a></td></tr>
<tr id="t2021-01-19T14:54:03"><th class="nick" style="background: #a25555">dleppich</th><td class="text" style="color: #a25555">qschulz: I tried it. This is my directory structure (<a href="http://ix.io/2Mzv" rel="nofollow">http://ix.io/2Mzv</a>), foo.py (<a href="http://ix.io/2Mzw" rel="nofollow">http://ix.io/2Mzw</a>), foo-native.bb (<a href="http://ix.io/2Mzy" rel="nofollow">http://ix.io/2Mzy</a>), test-foo.bb (<a href="http://ix.io/2MzB" rel="nofollow">http://ix.io/2MzB</a>). When trying to bitbake test-foo I get the error: &quot;foo.py: command not found&quot;</td><td class="time"><a href="#t2021-01-19T14:54:03" class="time">14:54</a></td></tr>
<tr id="t2021-01-19T14:54:13"><th class="nick" style="background: #539e9e">v0n</th><td class="text" style="color: #539e9e">jeremyjohnsonthe: CONFIG_&lt;driver&gt;=m in the kernel config</td><td class="time"><a href="#t2021-01-19T14:54:13" class="time">14:54</a></td></tr>
<tr id="t2021-01-19T14:54:50"><th class="nick" style="background: #5959a9">jeremyjohnsonthe</th><td class="text" style="color: #5959a9">v0n thanks!</td><td class="time"><a href="#t2021-01-19T14:54:50" class="time">14:54</a></td></tr>
<tr id="t2021-01-19T14:58:05"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">dleppich: you are missing a DEPENDS = &quot;python&quot; in your foo-native (well if you're using a recent Yocto release, RDEPENDS_${PN} = &quot;python&quot; is better)</td><td class="time"><a href="#t2021-01-19T14:58:05" class="time">14:58</a></td></tr>
<tr id="t2021-01-19T14:58:18"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">also wondering if the path to python isn't /usr/bin/python?</td><td class="time"><a href="#t2021-01-19T14:58:18" class="time">14:58</a></td></tr>
<tr id="t2021-01-19T14:58:56"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">otherwise check in your test-foo WORKDIR/recipe-sysroot-native if foo.py is there</td><td class="time"><a href="#t2021-01-19T14:58:56" class="time">14:58</a></td></tr>
<tr id="t2021-01-19T15:00:49"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">v0n: it's not the &quot;yocto way&quot; it's just how ti wanted to do it by default. Yocto is a buildsystem, just modify its metadata to build whatever you want</td><td class="time"><a href="#t2021-01-19T15:00:49" class="time">15:00</a></td></tr>
<tr id="t2021-01-19T15:01:29"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">also... if you go for non0bunlded initramfs but depends on module... you better keep the kernel and initramfs partition in sync otherwise you'll be screwed at some point</td><td class="time"><a href="#t2021-01-19T15:01:29" class="time">15:01</a></td></tr>
<tr id="t2021-01-19T15:01:52"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">non-bundled*</td><td class="time"><a href="#t2021-01-19T15:01:52" class="time">15:01</a></td></tr>
<tr id="t2021-01-19T15:02:12"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">depend on modules in your initramfs image*</td><td class="time"><a href="#t2021-01-19T15:02:12" class="time">15:02</a></td></tr>
<tr id="t2021-01-19T15:07:28-2"><th class="nick" style="background: #a25555">dleppich</th><td class="text" style="color: #a25555">qschulz: Damn, my example wasn't minimalistic enough. I tried the RDEPENDS but it did not work out. I changed the &quot;foo.py&quot; to &quot;foo&quot; containing an &quot;echo&quot; statement. Still no change. I checked the sysroot dir, it contains two executables &quot;guards&quot; and &quot;quilt&quot; but no &quot;foo&quot;.</td><td class="time"><a href="#t2021-01-19T15:07:28-2" class="time">15:07</a></td></tr>
<tr id="t2021-01-19T15:07:52"><th class="nick" style="background: #a25555">dleppich</th><td class="text" style="color: #a25555">I checked this directory: build/tmp/work/x86_64-linux/foo-native/1.0-r0/recipe-sysroot-native/usr/bin</td><td class="time"><a href="#t2021-01-19T15:07:52" class="time">15:07</a></td></tr>
<tr id="t2021-01-19T15:12:09"><th class="nick" style="background: #a25555">dleppich</th><td class="text" style="color: #a25555">Okay, brainlag. I checked the wrong folder. The &quot;recipe-sysroot-native&quot; for test-foo contains some more files, but no &quot;foo&quot;</td><td class="time"><a href="#t2021-01-19T15:12:09" class="time">15:12</a></td></tr>
<tr id="t2021-01-19T15:27:40"><th class="nick" style="background: #539e9e">v0n</th><td class="text" style="color: #539e9e">qschulz: true, that is why I wanted to have a kernel image with builtin drivers, and a separated initramfs image. I just wanted to make sure I didn't shoot myself in the foot by trying to do this with yocto.</td><td class="time"><a href="#t2021-01-19T15:27:40" class="time">15:27</a></td></tr>
<tr id="t2021-01-19T15:33:02"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">v0n: you just need a custom defconfig, which is anyway probably something you want to do sooner or later in order to add drivers or slim down the kernel size (and compilatinon time)</td><td class="time"><a href="#t2021-01-19T15:33:02" class="time">15:33</a></td></tr>
<tr id="t2021-01-19T15:33:42"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">dleppich: that's definitely not good. Is `foo` a name used by any other recipe (be it native or not)?</td><td class="time"><a href="#t2021-01-19T15:33:42" class="time">15:33</a></td></tr>
<tr id="t2021-01-19T15:34:05"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">dleppich: check in build/tmp/work/x86_64-linux/foo-native/1.0-r0/image/usr/bin if foo.py is there</td><td class="time"><a href="#t2021-01-19T15:34:05" class="time">15:34</a></td></tr>
<tr id="t2021-01-19T15:34:38"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">dleppich: RDEPENDS for native recipes only work for a couple of releases, it was not supported before</td><td class="time"><a href="#t2021-01-19T15:34:38" class="time">15:34</a></td></tr>
<tr id="t2021-01-19T15:39:30"><th class="nick" style="background: #539e9e">v0n</th><td class="text" style="color: #539e9e">Unrelated question, what is the recommended name for image recipes? ${DISTRO}-image-${NAME}?</td><td class="time"><a href="#t2021-01-19T15:39:30" class="time">15:39</a></td></tr>
<tr id="t2021-01-19T15:40:14"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">v0n: does not matter. try to have `image` in the name so it's super obvious</td><td class="time"><a href="#t2021-01-19T15:40:14" class="time">15:40</a></td></tr>
<tr id="t2021-01-19T15:40:24"><th class="nick" style="background: #539e9e">v0n</th><td class="text" style="color: #539e9e">qschulz: you're right. I'll add my own defconfig and maybe a vanilla kernel depending on what's inside linux-ti-staging. Thanks.</td><td class="time"><a href="#t2021-01-19T15:40:24" class="time">15:40</a></td></tr>
<tr id="t2021-01-19T15:40:27"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">you can also put them in recipes-images if you want</td><td class="time"><a href="#t2021-01-19T15:40:27" class="time">15:40</a></td></tr>
<tr id="t2021-01-19T15:40:48"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">v0n: for which board are you using Yocto?</td><td class="time"><a href="#t2021-01-19T15:40:48" class="time">15:40</a></td></tr>
<tr id="t2021-01-19T15:40:59"><th class="nick" style="background: #539e9e">v0n</th><td class="text" style="color: #539e9e">qschulz: yeah this part is also not very strict, most of the time I see recipes-core/images</td><td class="time"><a href="#t2021-01-19T15:40:59" class="time">15:40</a></td></tr>
<tr id="t2021-01-19T15:41:12"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">v0n: yeah or this</td><td class="time"><a href="#t2021-01-19T15:41:12" class="time">15:41</a></td></tr>
<tr id="t2021-01-19T15:41:15"><th class="nick" style="background: #539e9e">v0n</th><td class="text" style="color: #539e9e">qschulz: a beaglebone black with a custom daughter board</td><td class="time"><a href="#t2021-01-19T15:41:15" class="time">15:41</a></td></tr>
<tr id="t2021-01-19T15:41:34"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">v0n: are you using blobs or closed source stuff from ti?</td><td class="time"><a href="#t2021-01-19T15:41:34" class="time">15:41</a></td></tr>
<tr id="t2021-01-19T15:41:45"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">(e.g. prob vpu, gpu?)</td><td class="time"><a href="#t2021-01-19T15:41:45" class="time">15:41</a></td></tr>
<tr id="t2021-01-19T15:42:18"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">if not, just ditch their layer and go for full upstream. The BBB is well supported in both linux and u-boot</td><td class="time"><a href="#t2021-01-19T15:42:18" class="time">15:42</a></td></tr>
<tr id="t2021-01-19T15:42:20"><th class="nick" style="background: #539e9e">v0n</th><td class="text" style="color: #539e9e">not for the moment, but I might</td><td class="time"><a href="#t2021-01-19T15:42:20" class="time">15:42</a></td></tr>
<tr id="t2021-01-19T15:42:47"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">otherwise, you might want to check if those usually painful drivers are supported upstream decently or not</td><td class="time"><a href="#t2021-01-19T15:42:47" class="time">15:42</a></td></tr>
<tr id="t2021-01-19T15:43:11"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">but custom daughter board means custom dts to and probably new drivers</td><td class="time"><a href="#t2021-01-19T15:43:11" class="time">15:43</a></td></tr>
<tr id="t2021-01-19T15:43:54"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">then if not too far from ti's kernel, you can add dts and defconfig manually, otherwise just clone their repo and use your own git repo for fetching the sources</td><td class="time"><a href="#t2021-01-19T15:43:54" class="time">15:43</a></td></tr>
<tr id="t2021-01-19T15:44:08"><th class="nick" style="background: #539e9e">v0n</th><td class="text" style="color: #539e9e">qschulz: hum it makes me think about this, if I do need prob vpu and ti stuffs, do I need u-boot-ti-staging as well on only linux-ti-staging? (I already switched to u-boot for the extlinux support before thinking about this)</td><td class="time"><a href="#t2021-01-19T15:44:08" class="time">15:44</a></td></tr>
<tr id="t2021-01-19T15:45:33"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">v0n: nah, if ti did their job correctly, linux kernel and bootloaders aren't setting things up for the other</td><td class="time"><a href="#t2021-01-19T15:45:33" class="time">15:45</a></td></tr>
<tr id="t2021-01-19T15:46:07"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">(it's a principle of Linux kernel development upstream, do not trust any state of the HW before the Linux kernel is booted, so you need to initialize everything to known default values)</td><td class="time"><a href="#t2021-01-19T15:46:07" class="time">15:46</a></td></tr>
<tr id="t2021-01-19T15:47:28"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">as always for vendor BSPs, they might have patches they haven't sent upstream yet. Quality is variable and sometimes they break stuff while fixing other stuff</td><td class="time"><a href="#t2021-01-19T15:47:28" class="time">15:47</a></td></tr>
<tr id="t2021-01-19T15:47:30"><th class="nick" style="background: #539e9e">v0n</th><td class="text" style="color: #539e9e">qschulz: I know the linux philosophy but some nasty products rely on the bootloader passing modified dtb or blobs sometimes ;-)</td><td class="time"><a href="#t2021-01-19T15:47:30" class="time">15:47</a></td></tr>
<tr id="t2021-01-19T15:54:52"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">v0n: u-boot (even upstream) patches the dtb before sending it to the kernel so yeah</td><td class="time"><a href="#t2021-01-19T15:54:52" class="time">15:54</a></td></tr>
<tr id="t2021-01-19T15:55:04"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">v0n: very well aware of RPi and the GPU used a bootloader thingy too :)</td><td class="time"><a href="#t2021-01-19T15:55:04" class="time">15:55</a></td></tr>
<tr id="t2021-01-19T15:55:42"><th class="nick" style="background: #488888">qschulz</th><td class="text" style="color: #488888">v0n: and it's not the product relying on the bootloader passing stuff, it's the vendor BSP doing that, up to you to reimplement it better if you want</td><td class="time"><a href="#t2021-01-19T15:55:42" class="time">15:55</a></td></tr>
<tr id="t2021-01-19T15:59:59"><th class="nick" style="background: #539e9e">v0n</th><td class="text" style="color: #539e9e">qschulz: yeah I prefer using vanilla bootloaders and kernel if I can, but I don't want to spend time on it if that isn't necessary.</td><td class="time"><a href="#t2021-01-19T15:59:59" class="time">15:59</a></td></tr>
<tr id="t2021-01-19T16:00:06"><td class="action" colspan="2">* v0n checks linux-ti-staging</td><td><a href="#t2021-01-19T16:00:06" class="time">16:00</a></td></tr>
<tr id="t2021-01-19T16:00:39"><td class="nickchange" colspan="2">*** Jk is now known as Guest14991</td><td><a href="#t2021-01-19T16:00:39" class="time">16:00</a></td></tr>
<tr id="t2021-01-19T16:03:33"><th class="nick" style="background: #adad5b">Guest14991</th><td class="text" style="color: #adad5b">Hello guys, is the team technical meeting open for anyone interested in Yocto or for a certain group? I am asking because I found that the zoom meeting has a password</td><td class="time"><a href="#t2021-01-19T16:03:33" class="time">16:03</a></td></tr>
<tr id="t2021-01-19T16:04:07"><th class="nick" style="background: #b15db1">paulbarker</th><td class="text" style="color: #b15db1">Guest14991: <a href="https://zoom.us/j/990892712?pwd=cHU1MjhoM2x6ck81bkcrYjRrcmJsUT09" rel="nofollow">https://zoom.us/j/990892712?pwd=cHU1MjhoM2x6ck81bkcrYjRrcmJsUT09</a></td><td class="time"><a href="#t2021-01-19T16:04:07" class="time">16:04</a></td></tr>
<tr id="t2021-01-19T16:04:17"><th class="nick" style="background: #b15db1">paulbarker</th><td class="text" style="color: #b15db1">The link should include the password as it's a public meeting</td><td class="time"><a href="#t2021-01-19T16:04:17" class="time">16:04</a></td></tr>
<tr id="t2021-01-19T16:04:41"><th class="nick" style="background: #adad5b">Guest14991</th><td class="text" style="color: #adad5b">thanks!</td><td class="time"><a href="#t2021-01-19T16:04:41" class="time">16:04</a></td></tr>
<tr id="t2021-01-19T16:07:19"><th class="nick" style="background: #5fb4b4">tlwoerner</th><td class="text" style="color: #5fb4b4">great to see Bootlin stepping up! :-D</td><td class="time"><a href="#t2021-01-19T16:07:19" class="time">16:07</a></td></tr>
<tr id="t2021-01-19T16:07:26"><th class="nick" style="background: #5fb4b4">tlwoerner</th><td class="text" style="color: #5fb4b4">abelloni: ^^ awesome</td><td class="time"><a href="#t2021-01-19T16:07:26" class="time">16:07</a></td></tr>
<tr id="t2021-01-19T16:24:41"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657"><a href="https://reproducible-builds.org/citests/" rel="nofollow">https://reproducible-builds.org/citests/</a></td><td class="time"><a href="#t2021-01-19T16:24:41" class="time">16:24</a></td></tr>
<tr id="t2021-01-19T16:26:37"><th class="nick" style="background: #4b904b">rburton</th><td class="text" style="color: #4b904b">Guest14991: only passworded to stop zoombombing,&nbsp;&nbsp;anyone can join</td><td class="time"><a href="#t2021-01-19T16:26:37" class="time">16:26</a></td></tr>
<tr id="t2021-01-19T17:06:59"><td class="nickchange" colspan="2">*** mckoan is now known as mckoan|away</td><td><a href="#t2021-01-19T17:06:59" class="time">17:06</a></td></tr>
<tr id="t2021-01-19T18:22:33"><th class="nick" style="background: #b86161">clementp[m]</th><td class="text" style="color: #b86161">Hi, i'm trying to add re2 package from github.com/google/re2.git</td><td class="time"><a href="#t2021-01-19T18:22:33" class="time">18:22</a></td></tr>
<tr id="t2021-01-19T18:22:36"><th class="nick" style="background: #b86161">clementp[m]</th><td class="text" style="color: #b86161">But i got the following ERROR: re2-2020.11.01-r0 do_package_qa: QA Issue: -dev package contains non-symlink .so: re2-dev path '/work/aarch64-poky-linux/re2/2020.11.01-r0/packages-split/re2-dev/usr/lib/libre2.so' [dev-elf]</td><td class="time"><a href="#t2021-01-19T18:22:36" class="time">18:22</a></td></tr>
<tr id="t2021-01-19T18:22:52"><th class="nick" style="background: #b86161">clementp[m]</th><td class="text" style="color: #b86161">is is because the recipe is called re2 and the so libre2.so ?</td><td class="time"><a href="#t2021-01-19T18:22:52" class="time">18:22</a></td></tr>
<tr id="t2021-01-19T18:50:25"><th class="nick" style="background: #b86161">clementp[m]</th><td class="text" style="color: #b86161">here is my libre2_2020.11.01.bb <a href="https://pastebin.com/1isJ6bxR" rel="nofollow">https://pastebin.com/1isJ6bxR</a></td><td class="time"><a href="#t2021-01-19T18:50:25" class="time">18:50</a></td></tr>
<tr id="t2021-01-19T19:04:06"><th class="nick" style="background: #62bb62">eduardas</th><td class="text" style="color: #62bb62">hello. where is the essential point where bitbake tells the compiler where the target system headers are (like stdint.h) ?</td><td class="time"><a href="#t2021-01-19T19:04:06" class="time">19:04</a></td></tr>
<tr id="t2021-01-19T19:04:42"><th class="nick" style="background: #62bb62">eduardas</th><td class="text" style="color: #62bb62">I am having a problem where a custom 3rd party makefile fails to find these</td><td class="time"><a href="#t2021-01-19T19:04:42" class="time">19:04</a></td></tr>
<tr id="t2021-01-19T20:40:41"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">RP: The data is all in the test results. I have an example HTML page that displays them; just a matter of making it look pretty and publishing it</td><td class="time"><a href="#t2021-01-19T20:40:41" class="time">20:40</a></td></tr>
<tr id="t2021-01-19T20:40:57"><th class="nick" style="background: #57a657">JPEW</th><td class="text" style="color: #57a657">Is there a URL that always points to the &quot;latest&quot; reproducible results?</td><td class="time"><a href="#t2021-01-19T20:40:57" class="time">20:40</a></td></tr>
<tr id="t2021-01-19T20:45:32"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">JPEW: in theory the yocto-testresults repo is where they go. I'm having trouble accessing that though :(</td><td class="time"><a href="#t2021-01-19T20:45:32" class="time">20:45</a></td></tr>
<tr id="t2021-01-19T20:48:21"><td class="nickchange" colspan="2">*** Jk is now known as Guest94271</td><td><a href="#t2021-01-19T20:48:21" class="time">20:48</a></td></tr>
<tr id="t2021-01-19T20:49:23"><th class="nick" style="background: #4d4d93">abelloni</th><td class="text" style="color: #4d4d93">is this the issue in PDX ?</td><td class="time"><a href="#t2021-01-19T20:49:23" class="time">20:49</a></td></tr>
<tr id="t2021-01-19T20:49:55"><th class="nick" style="background: #4d4d93">abelloni</th><td class="text" style="color: #4d4d93">I'm not sure how much infra YP shares with kernel.org</td><td class="time"><a href="#t2021-01-19T20:49:55" class="time">20:49</a></td></tr>
<tr id="t2021-01-19T22:40:37"><th class="nick" style="background: #6464bf">noob-a</th><td class="text" style="color: #6464bf">Happy new year.  Trying to understand PACKAGECONFIG[...]. The docs are excellent - thank you.</td><td class="time"><a href="#t2021-01-19T22:40:37" class="time">22:40</a></td></tr>
<tr id="t2021-01-19T22:41:07"><th class="nick" style="background: #6464bf">noob-a</th><td class="text" style="color: #6464bf">Then I came across this (in a QT5 recipe):</td><td class="time"><a href="#t2021-01-19T22:41:07" class="time">22:41</a></td></tr>
<tr id="t2021-01-19T22:41:29"><th class="nick" style="background: #6464bf">noob-a</th><td class="text" style="color: #6464bf">`PACKAGECONFIG[xcb] = &quot;-xcb -xcb-xlib -system-xcb,-no-xcb,libxcb xcb-util-wm xcb-util-image xcb-util-keysyms xcb-util-renderutil&quot;`</td><td class="time"><a href="#t2021-01-19T22:41:29" class="time">22:41</a></td></tr>
<tr id="t2021-01-19T22:41:57"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">abelloni: its more that our testresults repo is huge :/</td><td class="time"><a href="#t2021-01-19T22:41:57" class="time">22:41</a></td></tr>
<tr id="t2021-01-19T22:42:31"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">JPEW: can you use <a href="http://git.yoctoproject.org/cgit/cgit.cgi/yocto-testresults/plain/oeselftest/testresults.json" rel="nofollow">http://git.yoctoproject.org/cgit/cgit.cgi/yocto-testresults/plain/oeselftest/testresults.json</a> ?</td><td class="time"><a href="#t2021-01-19T22:42:31" class="time">22:42</a></td></tr>
<tr id="t2021-01-19T22:42:55"><th class="nick" style="background: #6464bf">noob-a</th><td class="text" style="color: #6464bf">Not at all sure how to interpret that given the documentation description of PACKAGECONFIG.</td><td class="time"><a href="#t2021-01-19T22:42:55" class="time">22:42</a></td></tr>
<tr id="t2021-01-19T22:43:06"><td class="nickchange" colspan="2">*** JK is now known as Guest58443</td><td><a href="#t2021-01-19T22:43:06" class="time">22:43</a></td></tr>
<tr id="t2021-01-19T22:43:39"><td class="nickchange" colspan="2">*** Guest58443 is now known as JKA</td><td><a href="#t2021-01-19T22:43:39" class="time">22:43</a></td></tr>
<tr id="t2021-01-19T22:43:55"><td class="nickchange" colspan="2">*** JKA is now known as JohnK</td><td><a href="#t2021-01-19T22:43:55" class="time">22:43</a></td></tr>
<tr id="t2021-01-19T22:45:56"><th class="nick" style="background: #6464bf">noob-a</th><td class="text" style="color: #6464bf">First the use of space and comma delimiters is a puzzle.  The doc suggest, but don't state delimiter is a comma.  What does the space delimiter indicate?</td><td class="time"><a href="#t2021-01-19T22:45:56" class="time">22:45</a></td></tr>
<tr id="t2021-01-19T22:46:37"><th class="nick" style="background: #c3c366">fray</th><td class="text" style="color: #c3c366">spaces are used to delimiante lists of items..</td><td class="time"><a href="#t2021-01-19T22:46:37" class="time">22:46</a></td></tr>
<tr id="t2021-01-19T22:46:48"><th class="nick" style="background: #c3c366">fray</th><td class="text" style="color: #c3c366">commas are used to delimate parts of a list..</td><td class="time"><a href="#t2021-01-19T22:46:48" class="time">22:46</a></td></tr>
<tr id="t2021-01-19T22:47:02"><th class="nick" style="background: #c3c366">fray</th><td class="text" style="color: #c3c366">i.e. PACKAGECONFIG = &quot;foo bar foobar&quot; has three elements.. foo, bar and foobar</td><td class="time"><a href="#t2021-01-19T22:47:02" class="time">22:47</a></td></tr>
<tr id="t2021-01-19T22:47:48"><th class="nick" style="background: #c3c366">fray</th><td class="text" style="color: #c3c366">PACKAGECONFIG[foo] = &quot;param1,param2,param3,param4&quot; is a PACKAGECONFIG vairable that explains what 'foo' means, and it's specific parameters are 'comma' deliminated, because some parameters might have spaces in them (list of things)</td><td class="time"><a href="#t2021-01-19T22:47:48" class="time">22:47</a></td></tr>
<tr id="t2021-01-19T22:49:42"><th class="nick" style="background: #6464bf">noob-a</th><td class="text" style="color: #6464bf">Thanks Frey. Okay, so `-xcb -xcb-xlib -system-xcb` is passed through to QT5 (in this case), and is not meaningful to yocto/bitbake?</td><td class="time"><a href="#t2021-01-19T22:49:42" class="time">22:49</a></td></tr>
<tr id="t2021-01-19T22:50:33"><th class="nick" style="background: #c3c366">fray</th><td class="text" style="color: #c3c366">context matters in this case.. it's probably a lsit of arguments to something in that case</td><td class="time"><a href="#t2021-01-19T22:50:33" class="time">22:50</a></td></tr>
<tr id="t2021-01-19T22:51:33"><th class="nick" style="background: #6464bf">noob-a</th><td class="text" style="color: #6464bf">Agreed, but its *not* a list of arguments to bitbake?</td><td class="time"><a href="#t2021-01-19T22:51:33" class="time">22:51</a></td></tr>
<tr id="t2021-01-19T22:51:51"><th class="nick" style="background: #c3c366">fray</th><td class="text" style="color: #c3c366">no, I wouldn't assume so.</td><td class="time"><a href="#t2021-01-19T22:51:51" class="time">22:51</a></td></tr>
<tr id="t2021-01-19T22:52:20"><th class="nick" style="background: #6464bf">noob-a</th><td class="text" style="color: #6464bf">aaargh ;)</td><td class="time"><a href="#t2021-01-19T22:52:20" class="time">22:52</a></td></tr>
<tr id="t2021-01-19T22:52:22"><th class="nick" style="background: #c3c366">fray</th><td class="text" style="color: #c3c366">bitbake is similar to make, cmake, etc.&nbsp;&nbsp;WHere it simply handles global and 'local' namespace for variables, dependencies for tasks and executes tasks</td><td class="time"><a href="#t2021-01-19T22:52:22" class="time">22:52</a></td></tr>
<tr id="t2021-01-19T22:52:55"><th class="nick" style="background: #c3c366">fray</th><td class="text" style="color: #c3c366">variables specific in local.conf (and others) are globally defined.&nbsp;&nbsp;variables from a recipe (.bb / .bbappend) and local to that recipe..</td><td class="time"><a href="#t2021-01-19T22:52:55" class="time">22:52</a></td></tr>
<tr id="t2021-01-19T22:58:31"><th class="nick" style="background: #539e9e">v0n</th><td class="text" style="color: #539e9e">is meta-initramfs-image from the meta/openembedded/meta-initramfs a good start or is there better choice?</td><td class="time"><a href="#t2021-01-19T22:58:31" class="time">22:58</a></td></tr>
<tr id="t2021-01-19T23:00:06"><th class="nick" style="background: #6464bf">noob-a</th><td class="text" style="color: #6464bf">Okay, so in that example is it still true that bitbake will only add to `DEPENDS` the list of items `libxcb xcb-util-wm xcb-util-image xcb-util-keysyms xcb-util-renderutil`, and in this case these are recipe names?</td><td class="time"><a href="#t2021-01-19T23:00:06" class="time">23:00</a></td></tr>
<tr id="t2021-01-19T23:08:23"><td class="part" colspan="2">*** beneth &lt;beneth!~beneth@irc.beneth.fr&gt; has left #yocto</td><td><a href="#t2021-01-19T23:08:23" class="time">23:08</a></td></tr>
<tr id="t2021-01-19T23:08:37"><th class="nick" style="background: #6464bf">noob-a</th><td class="text" style="color: #6464bf">Final puzzle is (also from QT5 recipe): `PACKAGECONFIG[freetype] = &quot;-system-freetype,-qt-freetype,freetype&quot;`</td><td class="time"><a href="#t2021-01-19T23:08:37" class="time">23:08</a></td></tr>
<tr id="t2021-01-19T23:10:32"><th class="nick" style="background: #6464bf">noob-a</th><td class="text" style="color: #6464bf">This, and the previous example, together suggests the use of `--with` and `--without` are conventions and the meaning is positional?  I'm pretty sure that is correct, but its a big oversight in the docs so want to be sure.</td><td class="time"><a href="#t2021-01-19T23:10:32" class="time">23:10</a></td></tr>
<tr id="t2021-01-19T23:14:00"><th class="nick" style="background: #6464bf">noob-a</th><td class="text" style="color: #6464bf">Also it seems that there is a short form for `--with-foo, --without-foo`: `-foo,-no-foo`. But if meaning is positional then something like this would be legal:</td><td class="time"><a href="#t2021-01-19T23:14:00" class="time">23:14</a></td></tr>
<tr id="t2021-01-19T23:15:16-2"><th class="nick" style="background: #6464bf">noob-a</th><td class="text" style="color: #6464bf">`PACKAGECONFIG[foo] = &quot;,,freetype,,,conflictfoo&quot;`</td><td class="time"><a href="#t2021-01-19T23:15:16-2" class="time">23:15</a></td></tr>
<tr id="t2021-01-19T23:21:55"><th class="nick" style="background: #6464bf">noob-a</th><td class="text" style="color: #6464bf">Just to be clear the last example would be used when trying to add a dependency for the `--without`/`-no` case.</td><td class="time"><a href="#t2021-01-19T23:21:55" class="time">23:21</a></td></tr>
<tr id="t2021-01-19T23:22:28"><th class="nick" style="background: #6464bf">noob-a</th><td class="text" style="color: #6464bf">So more precisely:</td><td class="time"><a href="#t2021-01-19T23:22:28" class="time">23:22</a></td></tr>
<tr id="t2021-01-19T23:23:37"><th class="nick" style="background: #6464bf">noob-a</th><td class="text" style="color: #6464bf">`PACKAGECONFIG[nofoo] = &quot;,,nonefoo-pkg,,,conflict-with-nonefoo-pkg&quot;`</td><td class="time"><a href="#t2021-01-19T23:23:37" class="time">23:23</a></td></tr>
<tr id="t2021-01-19T23:25:14"><th class="nick" style="background: #6464bf">noob-a</th><td class="text" style="color: #6464bf">`PACKAGECONFIG[foo] = &quot;-foo,-no-foo,foo-dep-pkg,,,conflict-with-foo-pkg&quot;`</td><td class="time"><a href="#t2021-01-19T23:25:14" class="time">23:25</a></td></tr>
<tr id="t2021-01-19T23:26:38"><td class="action" colspan="2">* jonesv[m] sent a long message:  &lt; <a href="https://matrix.org/_matrix/media/r0/download/matrix.org/afSMMGzWGTxhLmsoFzqRkUcQ/message.txt" rel="nofollow">https://matrix.org/_matrix/media/r0/download/matrix.org/afSMMGzWGTxhLmsoFzqRkUcQ/message.txt</a> &gt;</td><td><a href="#t2021-01-19T23:26:38" class="time">23:26</a></td></tr>
<tr id="t2021-01-19T23:27:34"><td class="action" colspan="2">* jonesv[m] sent a long message:  &lt; <a href="https://matrix.org/_matrix/media/r0/download/matrix.org/mirrxLhgMLmCiNnVIFHTeUzT/message.txt" rel="nofollow">https://matrix.org/_matrix/media/r0/download/matrix.org/mirrxLhgMLmCiNnVIFHTeUzT/message.txt</a> &gt;</td><td><a href="#t2021-01-19T23:27:34" class="time">23:27</a></td></tr>
<tr id="t2021-01-19T23:27:59"><th class="nick" style="background: #c668c6">jonesv[m]</th><td class="text" style="color: #c668c6">My device is running an apq8009, which I believe is an armv7 processor (hence my guess above)</td><td class="time"><a href="#t2021-01-19T23:27:59" class="time">23:27</a></td></tr>
<tr id="t2021-01-19T23:28:34"><th class="nick" style="background: #c668c6">jonesv[m]</th><td class="text" style="color: #c668c6">Any suggestion on what could be wrong? Even just keywords would help, I've been reading docs and DuckDuckGoing for a while, and I'm stuck</td><td class="time"><a href="#t2021-01-19T23:28:34" class="time">23:28</a></td></tr>
<tr id="t2021-01-19T23:30:10"><th class="nick" style="background: #6acaca">moto-timo</th><td class="text" style="color: #6acaca"><a href="https://docs.yoctoproject.org/ref-manual/variables.html#term-PACKAGECONFIG" rel="nofollow">https://docs.yoctoproject.org/ref-manual/variables.html#term-PACKAGECONFIG</a></td><td class="time"><a href="#t2021-01-19T23:30:10" class="time">23:30</a></td></tr>
<tr id="t2021-01-19T23:32:58"><th class="nick" style="background: #8c4a4a">RP</th><td class="text" style="color: #8c4a4a">kanavin_home: I've tweaked your bash upgrade not to need the bbclass change, hope that is ok</td><td class="time"><a href="#t2021-01-19T23:32:58" class="time">23:32</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2021-01-18.log.html">&#171; Monday, 2021-01-18</a> <a href="index.html">Index</a> <a href="%23yocto.2021-01-20.log.html">Wednesday, 2021-01-20 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.17.2 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="https://mg.pov.lt/irclog2html/">https://mg.pov.lt/irclog2html/</a>!</p>
</div>
</body>
</html>
