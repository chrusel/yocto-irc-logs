<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Friday, 2020-10-02</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.17.2 by Marius Gedminas" />
  <meta name="version" content="2.17.2 - 2019-04-23" />
</head>
<body>
<h1>Friday, 2020-10-02</h1>
<div class="navigation"> <a href="%23yocto.2020-10-01.log.html">&#171; Thursday, 2020-10-01</a> <a href="index.html">Index</a> <a href="%23yocto.2020-10-03.log.html">Saturday, 2020-10-03 &#187;</a> </div>
<table class="irclog">
<tr id="t2020-10-02T06:48:22"><td class="nickchange" colspan="2">*** mckoan|away is now known as mckoan</td><td><a href="#t2020-10-02T06:48:22" class="time">06:48</a></td></tr>
<tr id="t2020-10-02T07:22:13"><th class="nick" style="background: #407a40">guest021</th><td class="text" style="color: #407a40">Hi, I've created a patch with git for the linux kernel. The patch changes defconfig, bitbake succeeds but it looks like the kernel is not picking up the changes, how can I debug this?</td><td class="time"><a href="#t2020-10-02T07:22:13" class="time">07:22</a></td></tr>
<tr id="t2020-10-02T07:26:53"><th class="nick" style="background: #407a40">guest021</th><td class="text" style="color: #407a40">KBUILD_DEFCONFIG ?= &quot;socfpga_defconfig&quot;KCONFIG_MODE ?= &quot;--alldefconfig&quot; is used by the kernel recipe, maybe this overwrites the defconfig?</td><td class="time"><a href="#t2020-10-02T07:26:53" class="time">07:26</a></td></tr>
<tr id="t2020-10-02T07:31:15"><td class="nickchange" colspan="2">*** locutusofborg_ is now known as locutusofborg</td><td><a href="#t2020-10-02T07:31:15" class="time">07:31</a></td></tr>
<tr id="t2020-10-02T07:56:17"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">Quick question, if I want to do post-processing commands on regular image I can simply use ${sysroot}</td><td class="time"><a href="#t2020-10-02T07:56:17" class="time">07:56</a></td></tr>
<tr id="t2020-10-02T07:56:52"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">What is the corresponding SDK host? SDK_HOST_ROOT?</td><td class="time"><a href="#t2020-10-02T07:56:52" class="time">07:56</a></td></tr>
<tr id="t2020-10-02T07:59:45"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">It can't be that difficult :P</td><td class="time"><a href="#t2020-10-02T07:59:45" class="time">07:59</a></td></tr>
<tr id="t2020-10-02T08:04:43"><th class="nick" style="background: #818144">ptsneves</th><td class="text" style="color: #818144">wertigon do not know by heart but have a look at poky/meta/classes/populate_sdk.bbclass and its siblings</td><td class="time"><a href="#t2020-10-02T08:04:43" class="time">08:04</a></td></tr>
<tr id="t2020-10-02T08:08:58"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">Hmm, STAGING_DIR_HOST? Gonna try it atleast</td><td class="time"><a href="#t2020-10-02T08:08:58" class="time">08:08</a></td></tr>
<tr id="t2020-10-02T08:53:54"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">Ok, so my problem; trying to make the SDK for dunfell branch</td><td class="time"><a href="#t2020-10-02T08:53:54" class="time">08:53</a></td></tr>
<tr id="t2020-10-02T08:54:13"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">SDK generates qemu for all architectures (except arm64, which is the one I use)</td><td class="time"><a href="#t2020-10-02T08:54:13" class="time">08:54</a></td></tr>
<tr id="t2020-10-02T08:54:47"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">This means I get around 1.5 GB of wasted qemu images</td><td class="time"><a href="#t2020-10-02T08:54:47" class="time">08:54</a></td></tr>
<tr id="t2020-10-02T08:55:19"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">Best solution would be to never generate these at all - only takes a lot of time to generate for all these architectures</td><td class="time"><a href="#t2020-10-02T08:55:19" class="time">08:55</a></td></tr>
<tr id="t2020-10-02T08:56:08"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">But what I'm implementing now is to simply remove these artifacts with a post-process command</td><td class="time"><a href="#t2020-10-02T08:56:08" class="time">08:56</a></td></tr>
<tr id="t2020-10-02T08:57:47"><th class="nick" style="background: #407a40">guest021</th><td class="text" style="color: #407a40">Probably a dumb question, but when are patches applied, after or before do_compile?</td><td class="time"><a href="#t2020-10-02T08:57:47" class="time">08:57</a></td></tr>
<tr id="t2020-10-02T08:58:10"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">aka; why the fuck am I generating qemu-system-ppc.exe and qemu-system-aarch.exe?</td><td class="time"><a href="#t2020-10-02T08:58:10" class="time">08:58</a></td></tr>
<tr id="t2020-10-02T08:58:34"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">guest021: Should be before</td><td class="time"><a href="#t2020-10-02T08:58:34" class="time">08:58</a></td></tr>
<tr id="t2020-10-02T08:59:44"><th class="nick" style="background: #407a40">guest021</th><td class="text" style="color: #407a40">wertigon: thank you</td><td class="time"><a href="#t2020-10-02T08:59:44" class="time">08:59</a></td></tr>
<tr id="t2020-10-02T09:01:03"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">guest021: right after unpack. You can check for yourself by using the -g argument to bitbake and then read the dot files, the task dependencies are explained, you'd have seen that indeed, do_compile depends on do_patch of the same recipe</td><td class="time"><a href="#t2020-10-02T09:01:03" class="time">09:01</a></td></tr>
<tr id="t2020-10-02T09:01:05"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">:)</td><td class="time"><a href="#t2020-10-02T09:01:05" class="time">09:01</a></td></tr>
<tr id="t2020-10-02T09:01:26"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">guest021: or bitbake my-recipe -g -u taskexp for a GUI</td><td class="time"><a href="#t2020-10-02T09:01:26" class="time">09:01</a></td></tr>
<tr id="t2020-10-02T09:13:28"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">wertigon: better solution would be to change nativesdk-qemu</td><td class="time"><a href="#t2020-10-02T09:13:28" class="time">09:13</a></td></tr>
<tr id="t2020-10-02T09:13:39"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">there's a variable for 'what machines to build'</td><td class="time"><a href="#t2020-10-02T09:13:39" class="time">09:13</a></td></tr>
<tr id="t2020-10-02T09:14:36"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">rburton: Sounds good, is that as a qemu recipe extension then? :)</td><td class="time"><a href="#t2020-10-02T09:14:36" class="time">09:14</a></td></tr>
<tr id="t2020-10-02T09:14:56"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">well you can do it in your layer.conf</td><td class="time"><a href="#t2020-10-02T09:14:56" class="time">09:14</a></td></tr>
<tr id="t2020-10-02T09:15:22"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">or propose a patch to make it just build the right target qemu</td><td class="time"><a href="#t2020-10-02T09:15:22" class="time">09:15</a></td></tr>
<tr id="t2020-10-02T09:16:07"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">Ah, just set QEMU_TARGETS</td><td class="time"><a href="#t2020-10-02T09:16:07" class="time">09:16</a></td></tr>
<tr id="t2020-10-02T09:16:21"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">And that I should be able to do from image file yes I see now</td><td class="time"><a href="#t2020-10-02T09:16:21" class="time">09:16</a></td></tr>
<tr id="t2020-10-02T09:16:23"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">Thanks</td><td class="time"><a href="#t2020-10-02T09:16:23" class="time">09:16</a></td></tr>
<tr id="t2020-10-02T09:17:05"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">no, not the image recipe</td><td class="time"><a href="#t2020-10-02T09:17:05" class="time">09:17</a></td></tr>
<tr id="t2020-10-02T09:17:36"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">i didn't mean layer.conf, but definitely not an image recipe</td><td class="time"><a href="#t2020-10-02T09:17:36" class="time">09:17</a></td></tr>
<tr id="t2020-10-02T09:17:53"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">ok... Oh, read local.conf</td><td class="time"><a href="#t2020-10-02T09:17:53" class="time">09:17</a></td></tr>
<tr id="t2020-10-02T09:17:55"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">mb</td><td class="time"><a href="#t2020-10-02T09:17:55" class="time">09:17</a></td></tr>
<tr id="t2020-10-02T09:20:12"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">Otherwise, yeah, a recipes-devtool/qemu/qemu_%.bbappend should take care of it</td><td class="time"><a href="#t2020-10-02T09:20:12" class="time">09:20</a></td></tr>
<tr id="t2020-10-02T09:57:26"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">That bbappend did the trick</td><td class="time"><a href="#t2020-10-02T09:57:26" class="time">09:57</a></td></tr>
<tr id="t2020-10-02T09:58:08"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">However... the SDK package is still 2GB large</td><td class="time"><a href="#t2020-10-02T09:58:08" class="time">09:58</a></td></tr>
<tr id="t2020-10-02T10:06:26"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">is it debug symbols? static builds?&nbsp;&nbsp;most likely worth comparing with a linux host SDK to see where the space goes</td><td class="time"><a href="#t2020-10-02T10:06:26" class="time">10:06</a></td></tr>
<tr id="t2020-10-02T11:47:32"><th class="nick" style="background: #8c4a4a">kanavin_home</th><td class="text" style="color: #8c4a4a">rpm 4.16: Deprecate the Berkeley DB backend (it is still the default however)</td><td class="time"><a href="#t2020-10-02T11:47:32" class="time">11:47</a></td></tr>
<tr id="t2020-10-02T11:47:42"><th class="nick" style="background: #8c4a4a">kanavin_home</th><td class="text" style="color: #8c4a4a">rburton: facepalm of the month? :)</td><td class="time"><a href="#t2020-10-02T11:47:42" class="time">11:47</a></td></tr>
<tr id="t2020-10-02T11:48:13"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">awww i saved the release notes to pocket to read</td><td class="time"><a href="#t2020-10-02T11:48:13" class="time">11:48</a></td></tr>
<tr id="t2020-10-02T11:48:26"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">the question is does f33 use bdb still, or sqlite</td><td class="time"><a href="#t2020-10-02T11:48:26" class="time">11:48</a></td></tr>
<tr id="t2020-10-02T11:49:00"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">they also switched to libgcrypt from openssl, i sent a few patches upstream to fix bugs in it before they switched</td><td class="time"><a href="#t2020-10-02T11:49:00" class="time">11:49</a></td></tr>
<tr id="t2020-10-02T11:53:14"><th class="nick" style="background: #8c4a4a">kanavin_home</th><td class="text" style="color: #8c4a4a">rburton: <a href="https://src.fedoraproject.org/rpms/rpm/blob/master/f/rpm.spec" rel="nofollow">https://src.fedoraproject.org/rpms/rpm/blob/master/f/rpm.spec</a></td><td class="time"><a href="#t2020-10-02T11:53:14" class="time">11:53</a></td></tr>
<tr id="t2020-10-02T11:53:27"><th class="nick" style="background: #8c4a4a">kanavin_home</th><td class="text" style="color: #8c4a4a">still bdb,not ndb or sqlite</td><td class="time"><a href="#t2020-10-02T11:53:27" class="time">11:53</a></td></tr>
<tr id="t2020-10-02T11:53:38"><th class="nick" style="background: #8c4a4a">kanavin_home</th><td class="text" style="color: #8c4a4a">I guess we have to follow</td><td class="time"><a href="#t2020-10-02T11:53:38" class="time">11:53</a></td></tr>
<tr id="t2020-10-02T11:53:41"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">maybe next release</td><td class="time"><a href="#t2020-10-02T11:53:41" class="time">11:53</a></td></tr>
<tr id="t2020-10-02T12:18:15"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">One long recompile later, the Linux SDK zipped size is also 2G</td><td class="time"><a href="#t2020-10-02T12:18:15" class="time">12:18</a></td></tr>
<tr id="t2020-10-02T12:18:27"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">That seems excessive to me</td><td class="time"><a href="#t2020-10-02T12:18:27" class="time">12:18</a></td></tr>
<tr id="t2020-10-02T12:24:19"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">Hmm, the thing that takes the most space is the board support</td><td class="time"><a href="#t2020-10-02T12:24:19" class="time">12:24</a></td></tr>
<tr id="t2020-10-02T12:25:58"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">So, debug symbols only take up 200M, not that bad</td><td class="time"><a href="#t2020-10-02T12:25:58" class="time">12:25</a></td></tr>
<tr id="t2020-10-02T12:33:22"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">What the...</td><td class="time"><a href="#t2020-10-02T12:33:22" class="time">12:33</a></td></tr>
<tr id="t2020-10-02T12:36:43"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">Grepping around in the board support SDK folder, it says the entire folder is 2.7G but using du -hs on every individual folder it adds up to 1G</td><td class="time"><a href="#t2020-10-02T12:36:43" class="time">12:36</a></td></tr>
<tr id="t2020-10-02T12:52:26"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">wertigon: huge number of tiny files?&nbsp;&nbsp;--apparently-size will tell you the real sizes, not disk usage.</td><td class="time"><a href="#t2020-10-02T12:52:26" class="time">12:52</a></td></tr>
<tr id="t2020-10-02T12:52:55"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">rburton: probably that yeah</td><td class="time"><a href="#t2020-10-02T12:52:55" class="time">12:52</a></td></tr>
<tr id="t2020-10-02T12:53:12"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">dare I do a tree | wc -l?</td><td class="time"><a href="#t2020-10-02T12:53:12" class="time">12:53</a></td></tr>
<tr id="t2020-10-02T12:54:06"><th class="nick" style="background: #407a40">guest021</th><td class="text" style="color: #407a40">Hey, I'm using an out-of-tree defconfig file (pulled directly from my linux) to set the options for the kernel in yocto, but the resulting kernel differs, why?</td><td class="time"><a href="#t2020-10-02T12:54:06" class="time">12:54</a></td></tr>
<tr id="t2020-10-02T12:54:46"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">guest021: Most probably you turned off a setting that automatically turned on/off other settings.</td><td class="time"><a href="#t2020-10-02T12:54:46" class="time">12:54</a></td></tr>
<tr id="t2020-10-02T12:54:58"><th class="nick" style="background: #407a40">guest021</th><td class="text" style="color: #407a40">I know that I'm doing something wrong, but I can't figure out what</td><td class="time"><a href="#t2020-10-02T12:54:58" class="time">12:54</a></td></tr>
<tr id="t2020-10-02T12:55:15"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">For instance, if you turn off ipv6 support you will also turn off a lot of options below that</td><td class="time"><a href="#t2020-10-02T12:55:15" class="time">12:55</a></td></tr>
<tr id="t2020-10-02T12:56:02"><th class="nick" style="background: #407a40">guest021</th><td class="text" style="color: #407a40">So, yocto might ignore parts of the defconfig file, if other settings are existent?</td><td class="time"><a href="#t2020-10-02T12:56:02" class="time">12:56</a></td></tr>
<tr id="t2020-10-02T12:56:04"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">guest021: check that it's using your defconfig first, is it in SRC_URI? is your defconfig taken and not another one (check in ${WORKDIR}/temp/log.do_fetch for the list of paths checked).</td><td class="time"><a href="#t2020-10-02T12:56:04" class="time">12:56</a></td></tr>
<tr id="t2020-10-02T12:56:30"><th class="nick" style="background: #407a40">guest021</th><td class="text" style="color: #407a40">It is in SCR_URI, if I remove the corresponding line I get an error message that no defconfig file could be found</td><td class="time"><a href="#t2020-10-02T12:56:30" class="time">12:56</a></td></tr>
<tr id="t2020-10-02T12:56:33"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">guest021: yocto not, the kernel yes. But if the defconfig are identical and the sources too, if you build manually or with yocto you shouldn't have much of a difference</td><td class="time"><a href="#t2020-10-02T12:56:33" class="time">12:56</a></td></tr>
<tr id="t2020-10-02T12:57:30"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">guest021: how did you create your defconfig?</td><td class="time"><a href="#t2020-10-02T12:57:30" class="time">12:57</a></td></tr>
<tr id="t2020-10-02T12:57:39"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">guest021: how is your defconfig named in Yocto?</td><td class="time"><a href="#t2020-10-02T12:57:39" class="time">12:57</a></td></tr>
<tr id="t2020-10-02T12:58:33"><th class="nick" style="background: #407a40">guest021</th><td class="text" style="color: #407a40">defconfig</td><td class="time"><a href="#t2020-10-02T12:58:33" class="time">12:58</a></td></tr>
<tr id="t2020-10-02T12:59:06"><th class="nick" style="background: #407a40">guest021</th><td class="text" style="color: #407a40">by hand</td><td class="time"><a href="#t2020-10-02T12:59:06" class="time">12:59</a></td></tr>
<tr id="t2020-10-02T12:59:08"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">guest021: For the record, you will have a really awful experience trying to manage the full kernel definition, better to just write fragment files.</td><td class="time"><a href="#t2020-10-02T12:59:08" class="time">12:59</a></td></tr>
<tr id="t2020-10-02T12:59:42"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">guest021: by hand =&gt; no. Use menuconfig, save with defconfig</td><td class="time"><a href="#t2020-10-02T12:59:42" class="time">12:59</a></td></tr>
<tr id="t2020-10-02T12:59:52"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">*save with savedefconfig</td><td class="time"><a href="#t2020-10-02T12:59:52" class="time">12:59</a></td></tr>
<tr id="t2020-10-02T13:00:52"><th class="nick" style="background: #407a40">guest021</th><td class="text" style="color: #407a40">I did that initially, but I had the same problem</td><td class="time"><a href="#t2020-10-02T13:00:52" class="time">13:00</a></td></tr>
<tr id="t2020-10-02T13:01:35"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">guest021: keep using menuconfig/savedefconfig :)</td><td class="time"><a href="#t2020-10-02T13:01:35" class="time">13:01</a></td></tr>
<tr id="t2020-10-02T13:01:45"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">guest021: at least we know it's not that ;)</td><td class="time"><a href="#t2020-10-02T13:01:45" class="time">13:01</a></td></tr>
<tr id="t2020-10-02T13:02:26"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">guest021: can you check with bitbake virtual/kernel -c menuconfig that your options are here?</td><td class="time"><a href="#t2020-10-02T13:02:26" class="time">13:02</a></td></tr>
<tr id="t2020-10-02T13:03:22"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">rburton: apparent size is even smaller in all aspects</td><td class="time"><a href="#t2020-10-02T13:03:22" class="time">13:03</a></td></tr>
<tr id="t2020-10-02T13:03:31"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">well, yes</td><td class="time"><a href="#t2020-10-02T13:03:31" class="time">13:03</a></td></tr>
<tr id="t2020-10-02T13:03:32"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">Than disk usage</td><td class="time"><a href="#t2020-10-02T13:03:32" class="time">13:03</a></td></tr>
<tr id="t2020-10-02T13:03:54"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">unless you have a file system that compresses, that's always going to be true, it just makes it easier to see where the space is actually going</td><td class="time"><a href="#t2020-10-02T13:03:54" class="time">13:03</a></td></tr>
<tr id="t2020-10-02T13:04:14"><th class="nick" style="background: #407a40">guest021</th><td class="text" style="color: #407a40">I get undefined references in In function `show_help':</td><td class="time"><a href="#t2020-10-02T13:04:14" class="time">13:04</a></td></tr>
<tr id="t2020-10-02T13:04:28"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">rburton: Yeah, true... Ooooooh</td><td class="time"><a href="#t2020-10-02T13:04:28" class="time">13:04</a></td></tr>
<tr id="t2020-10-02T13:04:29"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">there are tools to analyse where space goes.&nbsp;&nbsp;if you run gnome, baobob is one.</td><td class="time"><a href="#t2020-10-02T13:04:29" class="time">13:04</a></td></tr>
<tr id="t2020-10-02T13:04:40"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">I'm just looking at directories now</td><td class="time"><a href="#t2020-10-02T13:04:40" class="time">13:04</a></td></tr>
<tr id="t2020-10-02T13:06:14"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">... Wait are you frickin kidding me</td><td class="time"><a href="#t2020-10-02T13:06:14" class="time">13:06</a></td></tr>
<tr id="t2020-10-02T13:06:30"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">i think you found it</td><td class="time"><a href="#t2020-10-02T13:06:30" class="time">13:06</a></td></tr>
<tr id="t2020-10-02T13:06:33"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">guest021: uh?</td><td class="time"><a href="#t2020-10-02T13:06:33" class="time">13:06</a></td></tr>
<tr id="t2020-10-02T13:06:36"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">Yeah</td><td class="time"><a href="#t2020-10-02T13:06:36" class="time">13:06</a></td></tr>
<tr id="t2020-10-02T13:06:45"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">a built kernel tree?</td><td class="time"><a href="#t2020-10-02T13:06:45" class="time">13:06</a></td></tr>
<tr id="t2020-10-02T13:06:47"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">a swapfile!</td><td class="time"><a href="#t2020-10-02T13:06:47" class="time">13:06</a></td></tr>
<tr id="t2020-10-02T13:07:11"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">$ du -hs .git</td><td class="time"><a href="#t2020-10-02T13:07:11" class="time">13:07</a></td></tr>
<tr id="t2020-10-02T13:07:11-2"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">1,7G.git</td><td class="time"><a href="#t2020-10-02T13:07:11-2" class="time">13:07</a></td></tr>
<tr id="t2020-10-02T13:07:21"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">why is there a git tree inside the sdk</td><td class="time"><a href="#t2020-10-02T13:07:21" class="time">13:07</a></td></tr>
<tr id="t2020-10-02T13:07:31"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">My question exactly!</td><td class="time"><a href="#t2020-10-02T13:07:31" class="time">13:07</a></td></tr>
<tr id="t2020-10-02T13:07:36"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">a kernel tree, i bet</td><td class="time"><a href="#t2020-10-02T13:07:36" class="time">13:07</a></td></tr>
<tr id="t2020-10-02T13:07:57"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">Yup</td><td class="time"><a href="#t2020-10-02T13:07:57" class="time">13:07</a></td></tr>
<tr id="t2020-10-02T13:10:27"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">Now I just gotta know</td><td class="time"><a href="#t2020-10-02T13:10:27" class="time">13:10</a></td></tr>
<tr id="t2020-10-02T13:10:41"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">Do I file a bug report with TI or openembedded :D</td><td class="time"><a href="#t2020-10-02T13:10:41" class="time">13:10</a></td></tr>
<tr id="t2020-10-02T13:11:04"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">well does it replicate with no TI layers and machine=qemuarm</td><td class="time"><a href="#t2020-10-02T13:11:04" class="time">13:11</a></td></tr>
<tr id="t2020-10-02T13:11:08"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">if so then OE</td><td class="time"><a href="#t2020-10-02T13:11:08" class="time">13:11</a></td></tr>
<tr id="t2020-10-02T13:11:11"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">otherwise, TI</td><td class="time"><a href="#t2020-10-02T13:11:11" class="time">13:11</a></td></tr>
<tr id="t2020-10-02T13:12:52"><th class="nick" style="background: #407a40">guest021</th><td class="text" style="color: #407a40">sudo apt-get install libncurses5-dev fixed the error in menuconfig</td><td class="time"><a href="#t2020-10-02T13:12:52" class="time">13:12</a></td></tr>
<tr id="t2020-10-02T13:13:13"><th class="nick" style="background: #407a40">guest021</th><td class="text" style="color: #407a40">So what's the next step qschulz</td><td class="time"><a href="#t2020-10-02T13:13:13" class="time">13:13</a></td></tr>
<tr id="t2020-10-02T13:16:37"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">guest021: well, you enabled/disabled some KConfig options in your defconfig right? check that it's actually there (won't be, but at least, we're sure and you've got a way faster way to check if your defconfig is used instead of booting the kernel :)</td><td class="time"><a href="#t2020-10-02T13:16:37" class="time">13:16</a></td></tr>
<tr id="t2020-10-02T13:18:00"><th class="nick" style="background: #407a40">guest021</th><td class="text" style="color: #407a40">I'm currently looking for CONFIG_JFFS2_FS, but I haven't found the fitting submenu yet</td><td class="time"><a href="#t2020-10-02T13:18:00" class="time">13:18</a></td></tr>
<tr id="t2020-10-02T13:18:45"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">guest021: use '/' to search :)</td><td class="time"><a href="#t2020-10-02T13:18:45" class="time">13:18</a></td></tr>
<tr id="t2020-10-02T13:18:59"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">it'll tell you if it's enabled or not</td><td class="time"><a href="#t2020-10-02T13:18:59" class="time">13:18</a></td></tr>
<tr id="t2020-10-02T13:19:05"><th class="nick" style="background: #407a40">guest021</th><td class="text" style="color: #407a40">thank you qschulz</td><td class="time"><a href="#t2020-10-02T13:19:05" class="time">13:19</a></td></tr>
<tr id="t2020-10-02T13:19:39"><th class="nick" style="background: #407a40">guest021</th><td class="text" style="color: #407a40">It's disabled but it should be enabled</td><td class="time"><a href="#t2020-10-02T13:19:39" class="time">13:19</a></td></tr>
<tr id="t2020-10-02T13:19:56"><th class="nick" style="background: #4b904b">xtron</th><td class="text" style="color: #4b904b">is it ok to modify a recipe's variable from the image recipe? if so, what will be the right way to do?</td><td class="time"><a href="#t2020-10-02T13:19:56" class="time">13:19</a></td></tr>
<tr id="t2020-10-02T13:23:04"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">Ok so the &quot;board-support&quot; is simply the linux kernel tree that was used to compile the SDK target.</td><td class="time"><a href="#t2020-10-02T13:23:04" class="time">13:23</a></td></tr>
<tr id="t2020-10-02T13:23:24"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">Is there any reason whatsoever to have this source code here?</td><td class="time"><a href="#t2020-10-02T13:23:24" class="time">13:23</a></td></tr>
<tr id="t2020-10-02T13:24:34"><th class="nick" style="background: #407a40">guest021</th><td class="text" style="color: #407a40">Since what menuconfig shows me is consistent with the behavior of the kernel image (missing options), I would conclude that the defconfig file is not properly used</td><td class="time"><a href="#t2020-10-02T13:24:34" class="time">13:24</a></td></tr>
<tr id="t2020-10-02T13:25:43"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">I will bring it up with TI when possible, but it seems to me the only things we need are kernel headers and the bzImage</td><td class="time"><a href="#t2020-10-02T13:25:43" class="time">13:25</a></td></tr>
<tr id="t2020-10-02T13:27:33"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">xtron: conf data is global. recipe data is local.</td><td class="time"><a href="#t2020-10-02T13:27:33" class="time">13:27</a></td></tr>
<tr id="t2020-10-02T13:27:43"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">wertigon: the whole source tree is a bit mad yeah</td><td class="time"><a href="#t2020-10-02T13:27:43" class="time">13:27</a></td></tr>
<tr id="t2020-10-02T13:28:14"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">xtron: you actually cnanot modify a variable from a recipe in another recipe</td><td class="time"><a href="#t2020-10-02T13:28:14" class="time">13:28</a></td></tr>
<tr id="t2020-10-02T13:28:41"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">xtron: <a href="https://twitter.com/TheYoctoJester/status/1217166071519744000?s=20" rel="nofollow">https://twitter.com/TheYoctoJester/status/1217166071519744000?s=20</a></td><td class="time"><a href="#t2020-10-02T13:28:41" class="time">13:28</a></td></tr>
<tr id="t2020-10-02T13:29:10"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">guest021: yep, then you need to dig a bit deeper into the classes/tasks used by your kernel recipe</td><td class="time"><a href="#t2020-10-02T13:29:10" class="time">13:29</a></td></tr>
<tr id="t2020-10-02T13:29:52"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">I would try to debug kernel_do_kernel_configme task, do_configure as well and try to see what's happening (have a look at WORKDIR/temp/log.do_&lt;task&gt; for that</td><td class="time"><a href="#t2020-10-02T13:29:52" class="time">13:29</a></td></tr>
<tr id="t2020-10-02T13:31:57"><th class="nick" style="background: #4b904b">xtron</th><td class="text" style="color: #4b904b">qschulz, yes, I did this in the recipe -&gt; DEFAULT_ENFORCING_pn-image-recipe-name = &quot;permissive&quot;</td><td class="time"><a href="#t2020-10-02T13:31:57" class="time">13:31</a></td></tr>
<tr id="t2020-10-02T13:34:12"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">xtron: this does either nothing or it can just be DEFAULT_ENFORCING?</td><td class="time"><a href="#t2020-10-02T13:34:12" class="time">13:34</a></td></tr>
<tr id="t2020-10-02T13:34:47"><th class="nick" style="background: #4b904b">xtron</th><td class="text" style="color: #4b904b">qschulz, need to put it some *.conf, right?</td><td class="time"><a href="#t2020-10-02T13:34:47" class="time">13:34</a></td></tr>
<tr id="t2020-10-02T13:39:40"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">xtron: if it's for the image recipe and not package recipes, put it into the image recipe. If it's for package recipes and not image recipes, put it in each package recipe that needs it. If both image and package recipes, put in all of them.</td><td class="time"><a href="#t2020-10-02T13:39:40" class="time">13:39</a></td></tr>
<tr id="t2020-10-02T13:40:17"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">xtron: or/and use your machine conf files, or depending on what exactly you want to do, probably a new distro</td><td class="time"><a href="#t2020-10-02T13:40:17" class="time">13:40</a></td></tr>
<tr id="t2020-10-02T13:41:22"><th class="nick" style="background: #407a40">guest021</th><td class="text" style="color: #407a40">qschulz That was interesting: it uses olddefconfig as target, instead of defconfig which was the expected behavior from from my side</td><td class="time"><a href="#t2020-10-02T13:41:22" class="time">13:41</a></td></tr>
<tr id="t2020-10-02T13:42:59"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">guest021: olddefconfig is run after a defconfig is loaded IIRC, it's just to make sure there are defaults for newly itnroduced variables without asking for users' input</td><td class="time"><a href="#t2020-10-02T13:42:59" class="time">13:42</a></td></tr>
<tr id="t2020-10-02T13:43:08"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">guest021: so that's **probably** okay</td><td class="time"><a href="#t2020-10-02T13:43:08" class="time">13:43</a></td></tr>
<tr id="t2020-10-02T13:44:29"><th class="nick" style="background: #407a40">guest021</th><td class="text" style="color: #407a40">&nbsp;&nbsp;HOSTCC&nbsp;&nbsp;scripts/basic/fixdep&nbsp;&nbsp;GEN&nbsp;&nbsp;&nbsp;&nbsp; ./Makefile&nbsp;&nbsp;HOSTCC&nbsp;&nbsp;scripts/kconfig/conf.o&nbsp;&nbsp;HOSTCC&nbsp;&nbsp;scripts/kconfig/zconf.tab.o&nbsp;&nbsp;HOSTLD&nbsp;&nbsp;scripts/kconfig/confscripts/kconfig/conf&nbsp;&nbsp;--olddefconfig Kconfig.config:6168:warning: override: reassigning to symbol LOCALVERSION</td><td class="time"><a href="#t2020-10-02T13:44:29" class="time">13:44</a></td></tr>
<tr id="t2020-10-02T13:45:19"><th class="nick" style="background: #407a40">guest021</th><td class="text" style="color: #407a40">It looks to me a bit like Kconfig overwrites other settings, is this correct?</td><td class="time"><a href="#t2020-10-02T13:45:19" class="time">13:45</a></td></tr>
<tr id="t2020-10-02T13:47:26"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">other settings? KConfig is the only way to setup options in the kernel so I'm not sure to follow?</td><td class="time"><a href="#t2020-10-02T13:47:26" class="time">13:47</a></td></tr>
<tr id="t2020-10-02T13:50:09"><th class="nick" style="background: #407a40">guest021</th><td class="text" style="color: #407a40">Sorry, I meant to say that Kconfig fills .config with the default values independent of the defconfig file. Can the machine settings influence the .config?</td><td class="time"><a href="#t2020-10-02T13:50:09" class="time">13:50</a></td></tr>
<tr id="t2020-10-02T13:57:23"><td class="nickchange" colspan="2">*** grumble is now known as Spooktober</td><td><a href="#t2020-10-02T13:57:23" class="time">13:57</a></td></tr>
<tr id="t2020-10-02T14:01:14"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">guest021: defconfig is basically a .config with all the &quot;guess-able by Kconfig&quot; options (dependency chains (&quot;selects&quot;) and defaults)</td><td class="time"><a href="#t2020-10-02T14:01:14" class="time">14:01</a></td></tr>
<tr id="t2020-10-02T14:02:17"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">except when you use a defconfig created with a slightly different kernel (different version for example), in which case it's encouraged to use olddefconfig to try to find some defaults for those non guess-able Kconfig options</td><td class="time"><a href="#t2020-10-02T14:02:17" class="time">14:02</a></td></tr>
<tr id="t2020-10-02T14:02:24"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">(from recollection, I've rarely used it)</td><td class="time"><a href="#t2020-10-02T14:02:24" class="time">14:02</a></td></tr>
<tr id="t2020-10-02T14:02:59"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">guest021: machine settings could influence if your kernel recipe supports config fragments (.cfg or .scc IIRC)</td><td class="time"><a href="#t2020-10-02T14:02:59" class="time">14:02</a></td></tr>
<tr id="t2020-10-02T14:05:45"><th class="nick" style="background: #407a40">guest021</th><td class="text" style="color: #407a40">I've added KBUILD_DEFCONFIG ?= &quot;defconfig&quot; and removed the file://defconfig and the kernel remains unchanged</td><td class="time"><a href="#t2020-10-02T14:05:45" class="time">14:05</a></td></tr>
<tr id="t2020-10-02T14:06:23"><th class="nick" style="background: #407a40">guest021</th><td class="text" style="color: #407a40">This tells us that the out-of-tree defconfig file is ignored</td><td class="time"><a href="#t2020-10-02T14:06:23" class="time">14:06</a></td></tr>
<tr id="t2020-10-02T14:06:52"><th class="nick" style="background: #407a40">guest021</th><td class="text" style="color: #407a40">But why?</td><td class="time"><a href="#t2020-10-02T14:06:52" class="time">14:06</a></td></tr>
<tr id="t2020-10-02T14:15:11"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">rburton: Simply by removing the kernel tree I managed to go from 2.0G in SDK size to 324M</td><td class="time"><a href="#t2020-10-02T14:15:11" class="time">14:15</a></td></tr>
<tr id="t2020-10-02T14:15:18"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">That's 83.5% size reduction</td><td class="time"><a href="#t2020-10-02T14:15:18" class="time">14:15</a></td></tr>
<tr id="t2020-10-02T14:15:37"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">thats more like the size I expect a SDK to be</td><td class="time"><a href="#t2020-10-02T14:15:37" class="time">14:15</a></td></tr>
<tr id="t2020-10-02T14:15:43"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">Yeah, me too</td><td class="time"><a href="#t2020-10-02T14:15:43" class="time">14:15</a></td></tr>
<tr id="t2020-10-02T14:15:48"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">After compression ofc</td><td class="time"><a href="#t2020-10-02T14:15:48" class="time">14:15</a></td></tr>
<tr id="t2020-10-02T14:15:54"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">file a bug with TI :)</td><td class="time"><a href="#t2020-10-02T14:15:54" class="time">14:15</a></td></tr>
<tr id="t2020-10-02T14:16:30"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">Will do, I'll send it to the guy who has contact with TI and they need to solve it :)</td><td class="time"><a href="#t2020-10-02T14:16:30" class="time">14:16</a></td></tr>
<tr id="t2020-10-02T14:17:42"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">Could also be that we've done something wrong on our end</td><td class="time"><a href="#t2020-10-02T14:17:42" class="time">14:17</a></td></tr>
<tr id="t2020-10-02T14:17:53"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">Like removed a recipe that should be there</td><td class="time"><a href="#t2020-10-02T14:17:53" class="time">14:17</a></td></tr>
<tr id="t2020-10-02T14:41:03"><th class="nick" style="background: #407a40">guest021</th><td class="text" style="color: #407a40">I don't get this error message: A KBUILD_DEFCONFIG 'socfpga_defconfig' was specified, but not present in the source tree ; All I do is use the official meta-altera layer</td><td class="time"><a href="#t2020-10-02T14:41:03" class="time">14:41</a></td></tr>
<tr id="t2020-10-02T14:43:47"><th class="nick" style="background: #407a40">guest021</th><td class="text" style="color: #407a40">Is it possible that bitbake may end up in a corrupted state?</td><td class="time"><a href="#t2020-10-02T14:43:47" class="time">14:43</a></td></tr>
<tr id="t2020-10-02T14:45:15"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">guest021: you need socfpga_defconfig file in arch/&lt;MACHINE_ARCH&gt;/boot/dts in your kernel, is that the case?</td><td class="time"><a href="#t2020-10-02T14:45:15" class="time">14:45</a></td></tr>
<tr id="t2020-10-02T14:45:37"><th class="nick" style="background: #407a40">guest021</th><td class="text" style="color: #407a40">yes, it's the official layer by a silicon vendor</td><td class="time"><a href="#t2020-10-02T14:45:37" class="time">14:45</a></td></tr>
<tr id="t2020-10-02T14:46:48"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">guest021: well, yocto disagrees with you :D</td><td class="time"><a href="#t2020-10-02T14:46:48" class="time">14:46</a></td></tr>
<tr id="t2020-10-02T14:47:03"><th class="nick" style="background: #4d4d93">gsalazar</th><td class="text" style="color: #4d4d93">Hi, is there a canonical way to add an html page to an image with the license information?</td><td class="time"><a href="#t2020-10-02T14:47:03" class="time">14:47</a></td></tr>
<tr id="t2020-10-02T14:51:42"><th class="nick" style="background: #407a40">guest021</th><td class="text" style="color: #407a40">Okay, the repo changed... It's always the dumbest thing</td><td class="time"><a href="#t2020-10-02T14:51:42" class="time">14:51</a></td></tr>
<tr id="t2020-10-02T14:53:08"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">guest021:&nbsp;&nbsp;:)</td><td class="time"><a href="#t2020-10-02T14:53:08" class="time">14:53</a></td></tr>
<tr id="t2020-10-02T14:53:26"><th class="nick" style="background: #854685">qschulz</th><td class="text" style="color: #854685">guest021: still your defconfig should have been used</td><td class="time"><a href="#t2020-10-02T14:53:26" class="time">14:53</a></td></tr>
<tr id="t2020-10-02T14:54:01"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e"> Ok, time to go off the clock, have a nice weekend y'all!</td><td class="time"><a href="#t2020-10-02T14:54:01" class="time">14:54</a></td></tr>
<tr id="t2020-10-02T14:54:50"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">And thanks for the help :)</td><td class="time"><a href="#t2020-10-02T14:54:50" class="time">14:54</a></td></tr>
<tr id="t2020-10-02T14:54:56"><th class="nick" style="background: #42427e">wertigon</th><td class="text" style="color: #42427e">Take care</td><td class="time"><a href="#t2020-10-02T14:54:56" class="time">14:54</a></td></tr>
<tr id="t2020-10-02T15:08:55"><th class="nick" style="background: #97974f">kergoth</th><td class="text" style="color: #97974f">fray: am i correct in thinking archiver's do_ar_original needs to use process_submodules() to ensure we get those included?</td><td class="time"><a href="#t2020-10-02T15:08:55" class="time">15:08</a></td></tr>
<tr id="t2020-10-02T15:11:33"><th class="nick" style="background: #9b519b">dusry</th><td class="text" style="color: #9b519b">RP kergoth regarding the issues I chatted about the other day regarding _sysconfigdata</td><td class="time"><a href="#t2020-10-02T15:11:33" class="time">15:11</a></td></tr>
<tr id="t2020-10-02T15:12:09"><th class="nick" style="background: #9b519b">dusry</th><td class="text" style="color: #9b519b">I found that removing export _PYTHON_SYSCONFIGDATA_NAME=&quot;_sysconfigdata&quot; in python3native.bbclass seemd to resolve the issue</td><td class="time"><a href="#t2020-10-02T15:12:09" class="time">15:12</a></td></tr>
<tr id="t2020-10-02T15:12:22"><th class="nick" style="background: #9b519b">dusry</th><td class="text" style="color: #9b519b">I found that removing export _PYTHON_SYSCONFIGDATA_NAME=&quot;_sysconfigdata&quot; in python3native.bbclass seems to resolve the issue</td><td class="time"><a href="#t2020-10-02T15:12:22" class="time">15:12</a></td></tr>
<tr id="t2020-10-02T15:15:24"><th class="nick" style="background: #9b519b">dusry</th><td class="text" style="color: #9b519b">I can't remember if one of you all sent me this link: <a href="https://github.com/openembedded/openembedded-core/compare/master...kergoth:python-sysconfig" rel="nofollow">https://github.com/openembedded/openembedded-core/compare/master...kergoth:python-sysconfig</a></td><td class="time"><a href="#t2020-10-02T15:15:24" class="time">15:15</a></td></tr>
<tr id="t2020-10-02T15:15:29"><th class="nick" style="background: #539e9e">RP</th><td class="text" style="color: #539e9e">dusry: I suspect that will break something else :/</td><td class="time"><a href="#t2020-10-02T15:15:29" class="time">15:15</a></td></tr>
<tr id="t2020-10-02T15:15:58"><th class="nick" style="background: #9b519b">dusry</th><td class="text" style="color: #9b519b">It was enough for me to get devtool to put my recipe in workspace. I will try a clean build.</td><td class="time"><a href="#t2020-10-02T15:15:58" class="time">15:15</a></td></tr>
<tr id="t2020-10-02T15:18:36"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">heh</td><td class="time"><a href="#t2020-10-02T15:18:36" class="time">15:18</a></td></tr>
<tr id="t2020-10-02T15:18:37"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">Exception: ModuleNotFoundError: No module named '_sysconfigdata'</td><td class="time"><a href="#t2020-10-02T15:18:37" class="time">15:18</a></td></tr>
<tr id="t2020-10-02T15:18:49"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">dusry: well I'm glad i was reading irc today</td><td class="time"><a href="#t2020-10-02T15:18:49" class="time">15:18</a></td></tr>
<tr id="t2020-10-02T15:19:08"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">i hate that bit of python</td><td class="time"><a href="#t2020-10-02T15:19:08" class="time">15:19</a></td></tr>
<tr id="t2020-10-02T15:19:11"><th class="nick" style="background: #9b519b">dusry</th><td class="text" style="color: #9b519b">The elusive error strikes again.</td><td class="time"><a href="#t2020-10-02T15:19:11" class="time">15:19</a></td></tr>
<tr id="t2020-10-02T15:19:53"><th class="nick" style="background: #9b519b">dusry</th><td class="text" style="color: #9b519b">So just for my own edification, OE doesn't use the python included in the host system?</td><td class="time"><a href="#t2020-10-02T15:19:53" class="time">15:19</a></td></tr>
<tr id="t2020-10-02T15:20:29"><th class="nick" style="background: #9b519b">dusry</th><td class="text" style="color: #9b519b">I noticed it builds a lot of tools for the host that the host already has.</td><td class="time"><a href="#t2020-10-02T15:20:29" class="time">15:20</a></td></tr>
<tr id="t2020-10-02T15:21:47"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">well, both</td><td class="time"><a href="#t2020-10-02T15:21:47" class="time">15:21</a></td></tr>
<tr id="t2020-10-02T15:22:02"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">it uses the host python3 where it can, for example bitbake is python so obviously that runs in the host py3</td><td class="time"><a href="#t2020-10-02T15:22:02" class="time">15:22</a></td></tr>
<tr id="t2020-10-02T15:22:18"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">but some recipes need to use modules that we need to build, so you need a python3-native</td><td class="time"><a href="#t2020-10-02T15:22:18" class="time">15:22</a></td></tr>
<tr id="t2020-10-02T15:22:35"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">this looks a bit like its using the host py3 but variables are set up to use the py3-native</td><td class="time"><a href="#t2020-10-02T15:22:35" class="time">15:22</a></td></tr>
<tr id="t2020-10-02T15:25:25"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">i wonder if kanavin_home&nbsp;&nbsp;can remember the quirks around this bit of python</td><td class="time"><a href="#t2020-10-02T15:25:25" class="time">15:25</a></td></tr>
<tr id="t2020-10-02T15:25:28"><th class="nick" style="background: #9b519b">dusry</th><td class="text" style="color: #9b519b">Thanks for the info. I'm really hoping to learn as much as I can about this so I can start contributing.</td><td class="time"><a href="#t2020-10-02T15:25:28" class="time">15:25</a></td></tr>
<tr id="t2020-10-02T15:26:58"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">so the trigger is the recipe inheriting py3native</td><td class="time"><a href="#t2020-10-02T15:26:58" class="time">15:26</a></td></tr>
<tr id="t2020-10-02T15:27:53"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">kergoth's patch doesn't look obviously wrong at least</td><td class="time"><a href="#t2020-10-02T15:27:53" class="time">15:27</a></td></tr>
<tr id="t2020-10-02T15:28:47"><th class="nick" style="background: #97974f">kergoth</th><td class="text" style="color: #97974f">iirc it fixed the common case but there were particular recipes that broke as a result</td><td class="time"><a href="#t2020-10-02T15:28:47" class="time">15:28</a></td></tr>
<tr id="t2020-10-02T15:28:53"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">bah</td><td class="time"><a href="#t2020-10-02T15:28:53" class="time">15:28</a></td></tr>
<tr id="t2020-10-02T15:29:05"><th class="nick" style="background: #97974f">kergoth</th><td class="text" style="color: #97974f">iirc they unset the variable, so the wrapper passing it becomes problematic, or so?</td><td class="time"><a href="#t2020-10-02T15:29:05" class="time">15:29</a></td></tr>
<tr id="t2020-10-02T15:29:11"><th class="nick" style="background: #9b519b">dusry</th><td class="text" style="color: #9b519b">I'm trying a build for my evm board right now.</td><td class="time"><a href="#t2020-10-02T15:29:11" class="time">15:29</a></td></tr>
<tr id="t2020-10-02T15:29:18"><th class="nick" style="background: #9b519b">dusry</th><td class="text" style="color: #9b519b">Curious to see what happens.</td><td class="time"><a href="#t2020-10-02T15:29:18" class="time">15:29</a></td></tr>
<tr id="t2020-10-02T15:29:23"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">kergoth: ah yes glib unsets it</td><td class="time"><a href="#t2020-10-02T15:29:23" class="time">15:29</a></td></tr>
<tr id="t2020-10-02T15:29:25"><th class="nick" style="background: #97974f">kergoth</th><td class="text" style="color: #97974f">we'd have to use our own variable instead, most likely, so the wrapper can act conditionally?</td><td class="time"><a href="#t2020-10-02T15:29:25" class="time">15:29</a></td></tr>
<tr id="t2020-10-02T15:29:39"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">but why does glib unset it</td><td class="time"><a href="#t2020-10-02T15:29:39" class="time">15:29</a></td></tr>
<tr id="t2020-10-02T15:29:47"><th class="nick" style="background: #97974f">kergoth</th><td class="text" style="color: #97974f">tahts a good question</td><td class="time"><a href="#t2020-10-02T15:29:47" class="time">15:29</a></td></tr>
<tr id="t2020-10-02T15:29:50"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">for the same reason maybe</td><td class="time"><a href="#t2020-10-02T15:29:50" class="time">15:29</a></td></tr>
<tr id="t2020-10-02T15:30:04"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">dusry: is there a bug for this?</td><td class="time"><a href="#t2020-10-02T15:30:04" class="time">15:30</a></td></tr>
<tr id="t2020-10-02T15:30:31"><th class="nick" style="background: #539e9e">RP</th><td class="text" style="color: #539e9e">rburton: I did suggest adding a second name for this so we can control it properly</td><td class="time"><a href="#t2020-10-02T15:30:31" class="time">15:30</a></td></tr>
<tr id="t2020-10-02T15:30:47"><th class="nick" style="background: #9b519b">dusry</th><td class="text" style="color: #9b519b">I haven't checked. I assume so because there was another thread on the mailing list about it where RP and kergoth chimed in.</td><td class="time"><a href="#t2020-10-02T15:30:47" class="time">15:30</a></td></tr>
<tr id="t2020-10-02T15:31:01"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">i can't even remember what this variable does</td><td class="time"><a href="#t2020-10-02T15:31:01" class="time">15:31</a></td></tr>
<tr id="t2020-10-02T15:31:04"><th class="nick" style="background: #97974f">kergoth</th><td class="text" style="color: #97974f">it's kind of annoying that we need python-native at all, is it only to allow access to the patched cross sysconfig/site that aligns with the target python?</td><td class="time"><a href="#t2020-10-02T15:31:04" class="time">15:31</a></td></tr>
<tr id="t2020-10-02T15:31:20"><th class="nick" style="background: #97974f">kergoth</th><td class="text" style="color: #97974f">rburton: sstate reuse. avoids the sysconfig being bound tot he host system</td><td class="time"><a href="#t2020-10-02T15:31:20" class="time">15:31</a></td></tr>
<tr id="t2020-10-02T15:31:23"><th class="nick" style="background: #97974f">kergoth</th><td class="text" style="color: #97974f">iirc anyway</td><td class="time"><a href="#t2020-10-02T15:31:23" class="time">15:31</a></td></tr>
<tr id="t2020-10-02T15:31:30"><th class="nick" style="background: #97974f">kergoth</th><td class="text" style="color: #97974f">since its normally renamed by that</td><td class="time"><a href="#t2020-10-02T15:31:30" class="time">15:31</a></td></tr>
<tr id="t2020-10-02T15:31:33"><th class="nick" style="background: #97974f">kergoth</th><td class="text" style="color: #97974f">_sysconifg_blahblah</td><td class="time"><a href="#t2020-10-02T15:31:33" class="time">15:31</a></td></tr>
<tr id="t2020-10-02T15:32:02"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">kergoth: we need native py as some deps we need are C python modules</td><td class="time"><a href="#t2020-10-02T15:32:02" class="time">15:32</a></td></tr>
<tr id="t2020-10-02T15:32:31"><th class="nick" style="background: #488888">rburton</th><td class="text" style="color: #488888">I did have some patches to let pure native modules be added to the search path for the host python but the problem of C py modules remains</td><td class="time"><a href="#t2020-10-02T15:32:31" class="time">15:32</a></td></tr>
<tr id="t2020-10-02T15:33:39"><th class="nick" style="background: #539e9e">RP</th><td class="text" style="color: #539e9e">kergoth: we need config from a version that matches the target version exactly iirc</td><td class="time"><a href="#t2020-10-02T15:33:39" class="time">15:33</a></td></tr>
<tr id="t2020-10-02T16:00:15"><td class="nickchange" colspan="2">*** mckoan is now known as mckoan|away</td><td><a href="#t2020-10-02T16:00:15" class="time">16:00</a></td></tr>
<tr id="t2020-10-02T16:13:39"><th class="nick" style="background: #9b519b">dusry</th><td class="text" style="color: #9b519b">No issues with build after removing that bit about _sysconfigdata. Guess I got lucky. :)</td><td class="time"><a href="#t2020-10-02T16:13:39" class="time">16:13</a></td></tr>
<tr id="t2020-10-02T16:23:31"><td class="action" colspan="2">* armpit that is weird, a recipe can cause gnome not to start with devshell</td><td><a href="#t2020-10-02T16:23:31" class="time">16:23</a></td></tr>
<tr id="t2020-10-02T16:42:11"><th class="nick" style="background: #539e9e">RP</th><td class="text" style="color: #539e9e">If anyone wants nightmares, redir.c in bash, here_document_to_fd() is the thing tripping up the pseudo abort()</td><td class="time"><a href="#t2020-10-02T16:42:11" class="time">16:42</a></td></tr>
<tr id="t2020-10-02T17:38:18"><td class="action" colspan="2">* mcfrisk grabs a beer, second zeus to dunfell update just got integrated with minor regressions. cheers!</td><td><a href="#t2020-10-02T17:38:18" class="time">17:38</a></td></tr>
<tr id="t2020-10-02T18:42:17"><th class="nick" style="background: #a25555">zeddii</th><td class="text" style="color: #a25555">woo: ERROR: An uncaught exception occurred in runqueue&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | ETA:&nbsp;&nbsp;0:00:14</td><td class="time"><a href="#t2020-10-02T18:42:17" class="time">18:42</a></td></tr>
<tr id="t2020-10-02T19:02:18"><th class="nick" style="background: #57a657">armpit</th><td class="text" style="color: #57a657">mcfrisk, congrats</td><td class="time"><a href="#t2020-10-02T19:02:18" class="time">19:02</a></td></tr>
<tr id="t2020-10-02T20:18:37"><th class="nick" style="background: #5959a9">lxc</th><td class="text" style="color: #5959a9">how can I get the qemu command line parameters that results in invoking runqemu? I would like to start qemu without runqemu script.</td><td class="time"><a href="#t2020-10-02T20:18:37" class="time">20:18</a></td></tr>
<tr id="t2020-10-02T20:34:05"><th class="nick" style="background: #539e9e">RP</th><td class="text" style="color: #539e9e">mcfrisk: nice! :)</td><td class="time"><a href="#t2020-10-02T20:34:05" class="time">20:34</a></td></tr>
<tr id="t2020-10-02T23:27:48"><td class="part" colspan="2">*** beneth &lt;beneth!~beneth@irc.beneth.fr&gt; has left #yocto</td><td><a href="#t2020-10-02T23:27:48" class="time">23:27</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2020-10-01.log.html">&#171; Thursday, 2020-10-01</a> <a href="index.html">Index</a> <a href="%23yocto.2020-10-03.log.html">Saturday, 2020-10-03 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.17.2 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="https://mg.pov.lt/irclog2html/">https://mg.pov.lt/irclog2html/</a>!</p>
</div>
</body>
</html>
