<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Thursday, 2020-03-05</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.11.0 by Marius Gedminas" />
  <meta name="version" content="2.11.0 - 2012-07-30" />
</head>
<body>
<h1>Thursday, 2020-03-05</h1>
<div class="navigation"> <a href="%23yocto.2020-03-04.log.html">&#171; Wednesday, 2020-03-04</a> <a href="index.html">Index</a> <a href="%23yocto.2020-03-06.log.html">Friday, 2020-03-06 &#187;</a> </div>
<table class="irclog">
<tr id="t2020-03-05T00:22:38"><th class="nick" style="background: #407a40">yocti</th><td class="text" style="color: #407a40">New news from stackoverflow: Why is my app a different size on my yocto build server compared to what is installed on target? &lt;<a href="https://stackoverflow.com/questions/60536386/why-is-my-app-a-different-size-on-my-yocto-build-server-compared-to-what-is-inst&gt;" rel="nofollow">https://stackoverflow.com/questions/60536386/why-is-my-app-a-different-size-on-my-yocto-build-server-compared-to-what-is-inst&gt;</a></td><td class="time"><a href="#t2020-03-05T00:22:38" class="time">00:22</a></td></tr>
<tr id="t2020-03-05T00:49:40"><th class="nick" style="background: #42427e">xyzzy42</th><td class="text" style="color: #42427e">is there a way to get poky's systemd-conf recipe to NOT install one of its snippets, without entirely replacing the do_install target?</td><td class="time"><a href="#t2020-03-05T00:49:40" class="time">00:49</a></td></tr>
<tr id="t2020-03-05T00:50:28"><th class="nick" style="background: #818144">khem</th><td class="text" style="color: #818144">write a bbappend and delete it from staging</td><td class="time"><a href="#t2020-03-05T00:50:28" class="time">00:50</a></td></tr>
<tr id="t2020-03-05T00:54:51"><th class="nick" style="background: #42427e">xyzzy42</th><td class="text" style="color: #42427e">khem, thanks, that's worked.&nbsp;&nbsp;I was trying to find a way to not install it, but removing it after the fact is easier.</td><td class="time"><a href="#t2020-03-05T00:54:51" class="time">00:54</a></td></tr>
<tr id="t2020-03-05T00:55:26"><th class="nick" style="background: #42427e">xyzzy42</th><td class="text" style="color: #42427e">The file I'm removing is the journald config that directions journald to log to syslogd.&nbsp;&nbsp;I don't see the point of having two syslogds on the system.</td><td class="time"><a href="#t2020-03-05T00:55:26" class="time">00:55</a></td></tr>
<tr id="t2020-03-05T01:02:25"><th class="nick" style="background: #854685">mischief</th><td class="text" style="color: #854685">xyzzy42: why not just make an override</td><td class="time"><a href="#t2020-03-05T01:02:25" class="time">01:02</a></td></tr>
<tr id="t2020-03-05T01:02:31"><th class="nick" style="background: #854685">mischief</th><td class="text" style="color: #854685">journald has a drop-in dir for its conf</td><td class="time"><a href="#t2020-03-05T01:02:31" class="time">01:02</a></td></tr>
<tr id="t2020-03-05T01:03:11"><th class="nick" style="background: #854685">mischief</th><td class="text" style="color: #854685"><a href="https://www.freedesktop.org/software/systemd/man/journald.conf.html" rel="nofollow">https://www.freedesktop.org/software/systemd/man/journald.conf.html</a></td><td class="time"><a href="#t2020-03-05T01:03:11" class="time">01:03</a></td></tr>
<tr id="t2020-03-05T01:06:48"><th class="nick" style="background: #42427e">xyzzy42</th><td class="text" style="color: #42427e">mischief, that was my plan if not installing the original override was too hard.&nbsp;&nbsp;But I hate decoy config files.&nbsp;&nbsp;There'd be a 00-systemd.conf that says we're logging to syslogd, but ha, not realy!&nbsp;&nbsp;Our config is in another castle.</td><td class="time"><a href="#t2020-03-05T01:06:48" class="time">01:06</a></td></tr>
<tr id="t2020-03-05T02:02:20"><th class="nick" style="background: #854685">mischief</th><td class="text" style="color: #854685">the default config has all options commented.. pretty obvious if you have an explicit dropin somewhere.</td><td class="time"><a href="#t2020-03-05T02:02:20" class="time">02:02</a></td></tr>
<tr id="t2020-03-05T02:54:09"><th class="nick" style="background: #42427e">xyzzy42</th><td class="text" style="color: #42427e">mischief, poky puts an explicit dropin to turn on forwarding to syslog in the dropin dir.&nbsp;&nbsp;It's not the default config with all the options commented out.&nbsp;&nbsp;So if I add another dropin, now there are two different dropin files with uncommented options that conflict.&nbsp;&nbsp;If you just see one, you might think you know how something is configured and would be wrong.</td><td class="time"><a href="#t2020-03-05T02:54:09" class="time">02:54</a></td></tr>
<tr id="t2020-03-05T04:57:48"><th class="nick" style="background: #488888">kergoth</th><td class="text" style="color: #488888">Hmm, should probably submit vim-bitbake to vim-polyglot</td><td class="time"><a href="#t2020-03-05T04:57:48" class="time">04:57</a></td></tr>
<tr id="t2020-03-05T04:58:07"><th class="nick" style="background: #488888">kergoth</th><td class="text" style="color: #488888">and still need to re-align it and the bits in the bitbake repo.. probably move to an official vim-bitbake instead</td><td class="time"><a href="#t2020-03-05T04:58:07" class="time">04:58</a></td></tr>
<tr id="t2020-03-05T05:06:03"><th class="nick" style="background: #854685">mischief</th><td class="text" style="color: #854685">xyzzy42: what recipe does that?</td><td class="time"><a href="#t2020-03-05T05:06:03" class="time">05:06</a></td></tr>
<tr id="t2020-03-05T05:11:15"><th class="nick" style="background: #854685">mischief</th><td class="text" style="color: #854685">ah, i see.</td><td class="time"><a href="#t2020-03-05T05:11:15" class="time">05:11</a></td></tr>
<tr id="t2020-03-05T07:23:49"><th class="nick" style="background: #407a40">yocti</th><td class="text" style="color: #407a40">New news from stackoverflow: What OS distribution inside poky? &lt;<a href="https://stackoverflow.com/questions/60540061/what-os-distribution-inside-poky&gt;" rel="nofollow">https://stackoverflow.com/questions/60540061/what-os-distribution-inside-poky&gt;</a> || Not able to find dependency for fop command in Yocto &lt;<a href="https://stackoverflow.com/questions/60539839/not-able-to-find-dependency-for-fop-command-in-yocto&gt;" rel="nofollow">https://stackoverflow.com/questions/60539839/not-able-to-find-dependency-for-fop-command-in-yocto&gt;</a> || How to install yocto on a real machine? &lt;<a href="https://stackoverflow.com/questions/60539752/how-to-install-yocto-on-a-real-machine&gt;" rel="nofollow">https://stackoverflow.com/questions/60539752/how-to-install-yocto-on-a-real-machine&gt;</a></td><td class="time"><a href="#t2020-03-05T07:23:49" class="time">07:23</a></td></tr>
<tr id="t2020-03-05T07:48:56"><td class="nickchange" colspan="2">*** mckoan|away is now known as mckoan</td><td><a href="#t2020-03-05T07:48:56" class="time">07:48</a></td></tr>
<tr id="t2020-03-05T07:49:01"><th class="nick" style="background: #8c4a4a">mckoan</th><td class="text" style="color: #8c4a4a">good morning</td><td class="time"><a href="#t2020-03-05T07:49:01" class="time">07:49</a></td></tr>
<tr id="t2020-03-05T07:50:46"><th class="nick" style="background: #4b904b">erbo</th><td class="text" style="color: #4b904b">mckoan: actually true this morning, sun is shining outside and kids are finally healthy and back at kindergarden</td><td class="time"><a href="#t2020-03-05T07:50:46" class="time">07:50</a></td></tr>
<tr id="t2020-03-05T07:59:16"><th class="nick" style="background: #4d4d93">kriive</th><td class="text" style="color: #4d4d93">Which is the standard way to have a Qt toolchain AND ext_sdk? Do I need to generate them separately or can I inherit populate_sdk_qt5?</td><td class="time"><a href="#t2020-03-05T07:59:16" class="time">07:59</a></td></tr>
<tr id="t2020-03-05T08:09:45"><th class="nick" style="background: #8c4a4a">mckoan</th><td class="text" style="color: #8c4a4a">erbo: I can't say the same due to SARS-CoV2, but let's keep on</td><td class="time"><a href="#t2020-03-05T08:09:45" class="time">08:09</a></td></tr>
<tr id="t2020-03-05T08:13:32"><th class="nick" style="background: #4b904b">erbo</th><td class="text" style="color: #4b904b">mckoan: :(&nbsp;&nbsp;We have some cases where I live in Sweden (Gothenburg), but it seems to still be sort of contained and not publicly spread. Most cases are people who got it while travelling.</td><td class="time"><a href="#t2020-03-05T08:13:32" class="time">08:13</a></td></tr>
<tr id="t2020-03-05T08:15:18"><th class="nick" style="background: #4d4d93">kriive</th><td class="text" style="color: #4d4d93">here in italy everything is locked down schools and unis closed till mid march, a nightmare</td><td class="time"><a href="#t2020-03-05T08:15:18" class="time">08:15</a></td></tr>
<tr id="t2020-03-05T08:20:04"><th class="nick" style="background: #4b904b">erbo</th><td class="text" style="color: #4b904b">Yeah I can imagine that sucks. Let's hope things get better real soon.</td><td class="time"><a href="#t2020-03-05T08:20:04" class="time">08:20</a></td></tr>
<tr id="t2020-03-05T08:24:03"><th class="nick" style="background: #407a40">yocti</th><td class="text" style="color: #407a40">New news from stackoverflow: Any pre-built yocto hardware image to test? &lt;<a href="https://stackoverflow.com/questions/60540909/any-pre-built-yocto-hardware-image-to-test&gt;" rel="nofollow">https://stackoverflow.com/questions/60540909/any-pre-built-yocto-hardware-image-to-test&gt;</a> || Jetson Nano: Gstreamer inside docker container &lt;<a href="https://stackoverflow.com/questions/60540684/jetson-nano-gstreamer-inside-docker-container&gt;" rel="nofollow">https://stackoverflow.com/questions/60540684/jetson-nano-gstreamer-inside-docker-container&gt;</a></td><td class="time"><a href="#t2020-03-05T08:24:03" class="time">08:24</a></td></tr>
<tr id="t2020-03-05T08:54:09"><th class="nick" style="background: #407a40">yocti</th><td class="text" style="color: #407a40">New news from stackoverflow: How to add ldd utility to bitbake image &lt;<a href="https://stackoverflow.com/questions/54895637/how-to-add-ldd-utility-to-bitbake-image&gt;" rel="nofollow">https://stackoverflow.com/questions/54895637/how-to-add-ldd-utility-to-bitbake-image&gt;</a></td><td class="time"><a href="#t2020-03-05T08:54:09" class="time">08:54</a></td></tr>
<tr id="t2020-03-05T09:28:28"><td class="nickchange" colspan="2">*** Deepa is now known as Guest97881</td><td><a href="#t2020-03-05T09:28:28" class="time">09:28</a></td></tr>
<tr id="t2020-03-05T09:35:40"><th class="nick" style="background: #97974f">Guest97881</th><td class="text" style="color: #97974f">Hello, Can we get inputs to install Yocto Eclipse Plugin? Followed steps given in <a href="https://community.nxp.com/docs/DOC-172840." rel="nofollow">https://community.nxp.com/docs/DOC-172840.</a> It doesn't work(check comments of user:ghalib khan). Not getting response from NXP too.</td><td class="time"><a href="#t2020-03-05T09:35:40" class="time">09:35</a></td></tr>
<tr id="t2020-03-05T09:37:32"><th class="nick" style="background: #9b519b">qschulz</th><td class="text" style="color: #9b519b">Guest97881: I think it was dropped a few releases ago: <a href="https://github.com/crops/eclipse-yocto?" rel="nofollow">https://github.com/crops/eclipse-yocto?</a></td><td class="time"><a href="#t2020-03-05T09:37:32" class="time">09:37</a></td></tr>
<tr id="t2020-03-05T09:47:45"><th class="nick" style="background: #539e9e">paulbarker</th><td class="text" style="color: #539e9e">Guest97881: The eclipse plugin is unsupported</td><td class="time"><a href="#t2020-03-05T09:47:45" class="time">09:47</a></td></tr>
<tr id="t2020-03-05T09:56:21"><th class="nick" style="background: #a25555">sno</th><td class="text" style="color: #a25555">is there a reasonable example how to install some vendor software in e.g. /opt/$vendor instead of /usr using Yocto?</td><td class="time"><a href="#t2020-03-05T09:56:21" class="time">09:56</a></td></tr>
<tr id="t2020-03-05T10:01:19"><th class="nick" style="background: #9b519b">qschulz</th><td class="text" style="color: #9b519b">sno: <a href="http://lists.openembedded.org/pipermail/openembedded-core/2020-February/293122.html" rel="nofollow">http://lists.openembedded.org/pipermail/openembedded-core/2020-February/293122.html</a> worth reading</td><td class="time"><a href="#t2020-03-05T10:01:19" class="time">10:01</a></td></tr>
<tr id="t2020-03-05T10:03:44"><th class="nick" style="background: #9b519b">qschulz</th><td class="text" style="color: #9b519b">IIUC, if only one recipe needs this /opt dir, you can just add a do_install_append in a bbappend for your vendor recipe and move the things from /usr to /opt from there (surely needs an updated FILES_${PN} and aybe even a SYSROOT_DIRS if your vendor thing is used in a DEPENDS of another recipe. This all is my guess and would maybe be needed because /opt isn't in base-files? All of this to be triple checked</td><td class="time"><a href="#t2020-03-05T10:03:44" class="time">10:03</a></td></tr>
<tr id="t2020-03-05T10:03:50"><th class="nick" style="background: #9b519b">qschulz</th><td class="text" style="color: #9b519b">:)</td><td class="time"><a href="#t2020-03-05T10:03:50" class="time">10:03</a></td></tr>
<tr id="t2020-03-05T10:05:11"><th class="nick" style="background: #a25555">sno</th><td class="text" style="color: #a25555">qschulz: that's only about later stage of deployment - I have serious trouble using pkg-config and prefix=/opt/foo</td><td class="time"><a href="#t2020-03-05T10:05:11" class="time">10:05</a></td></tr>
<tr id="t2020-03-05T10:05:53"><th class="nick" style="background: #a25555">sno</th><td class="text" style="color: #a25555">PKG_CONFIG_SYSTEM_INCLUDE_PATH is set kind-of unexpected in bitbake.conf</td><td class="time"><a href="#t2020-03-05T10:05:53" class="time">10:05</a></td></tr>
<tr id="t2020-03-05T10:48:34"><td class="nickchange" colspan="2">*** Deepa is now known as Guest35655</td><td><a href="#t2020-03-05T10:48:34" class="time">10:48</a></td></tr>
<tr id="t2020-03-05T10:50:09"><th class="nick" style="background: #57a657">rburton</th><td class="text" style="color: #57a657">sno: why are you trying to install something you're building into /opt?</td><td class="time"><a href="#t2020-03-05T10:50:09" class="time">10:50</a></td></tr>
<tr id="t2020-03-05T10:51:07"><th class="nick" style="background: #a25555">sno</th><td class="text" style="color: #a25555">rburton: it's kind-of 3rd party software which is likely better separated from /usr</td><td class="time"><a href="#t2020-03-05T10:51:07" class="time">10:51</a></td></tr>
<tr id="t2020-03-05T10:51:09"><th class="nick" style="background: #57a657">rburton</th><td class="text" style="color: #57a657">the entire point of /opt is that someone who isn't the operating system can install software easily in eg /opt/foo.&nbsp;&nbsp;if you're building software in bitbake then you've got packages and so on</td><td class="time"><a href="#t2020-03-05T10:51:09" class="time">10:51</a></td></tr>
<tr id="t2020-03-05T10:51:35"><th class="nick" style="background: #a25555">sno</th><td class="text" style="color: #a25555">rburton: a lot of NIH legacy code ...</td><td class="time"><a href="#t2020-03-05T10:51:35" class="time">10:51</a></td></tr>
<tr id="t2020-03-05T10:52:36"><th class="nick" style="background: #5959a9">LetoThe2nd</th><td class="text" style="color: #5959a9">rburton: forwarded the pointers to memory resident bitbake and kergoths bb to the vscode plugin guy, lets see what happens!</td><td class="time"><a href="#t2020-03-05T10:52:36" class="time">10:52</a></td></tr>
<tr id="t2020-03-05T10:53:06"><th class="nick" style="background: #a25555">sno</th><td class="text" style="color: #a25555">rburton: I'm currently at the beginning of the voyage building this software - but I found some legacy versions of OSS libs, which are required in their old versions (at least for now)</td><td class="time"><a href="#t2020-03-05T10:53:06" class="time">10:53</a></td></tr>
<tr id="t2020-03-05T10:53:59"><th class="nick" style="background: #a25555">sno</th><td class="text" style="color: #a25555">rburton: another reason for using /opt is ability to split off parts into dedicated filesystems at a later stage</td><td class="time"><a href="#t2020-03-05T10:53:59" class="time">10:53</a></td></tr>
<tr id="t2020-03-05T11:04:25"><th class="nick" style="background: #57a657">rburton</th><td class="text" style="color: #57a657">the easiest way is to just hand-code your configure call or whatever to not use $bindir etc</td><td class="time"><a href="#t2020-03-05T11:04:25" class="time">11:04</a></td></tr>
<tr id="t2020-03-05T11:04:54"><th class="nick" style="background: #57a657">rburton</th><td class="text" style="color: #57a657">you don't want to change the system paths, ie changing prefix will change where it looks up other libraries</td><td class="time"><a href="#t2020-03-05T11:04:54" class="time">11:04</a></td></tr>
<tr id="t2020-03-05T11:05:08"><th class="nick" style="background: #57a657">rburton</th><td class="text" style="color: #57a657">so just pass --prefix=/opt/foo to configure or whatever, and you're done</td><td class="time"><a href="#t2020-03-05T11:05:08" class="time">11:05</a></td></tr>
<tr id="t2020-03-05T11:05:55"><th class="nick" style="background: #a25555">sno</th><td class="text" style="color: #a25555">rburton: so you say, overriding --prefix=... over the --prefix setting, bitbake does on it's own?</td><td class="time"><a href="#t2020-03-05T11:05:55" class="time">11:05</a></td></tr>
<tr id="t2020-03-05T11:06:10"><th class="nick" style="background: #57a657">rburton</th><td class="text" style="color: #57a657">the class you are using does it</td><td class="time"><a href="#t2020-03-05T11:06:10" class="time">11:06</a></td></tr>
<tr id="t2020-03-05T11:06:16"><th class="nick" style="background: #57a657">rburton</th><td class="text" style="color: #57a657">so look there as to how to override it</td><td class="time"><a href="#t2020-03-05T11:06:16" class="time">11:06</a></td></tr>
<tr id="t2020-03-05T11:07:05"><th class="nick" style="background: #a25555">sno</th><td class="text" style="color: #a25555">rburton: I just wanted to understand where to jump in (for now) - because just modifying prefix variable in recipe fails</td><td class="time"><a href="#t2020-03-05T11:07:05" class="time">11:07</a></td></tr>
<tr id="t2020-03-05T11:07:59"><th class="nick" style="background: #57a657">rburton</th><td class="text" style="color: #57a657">just read the class that you're using to do the install to find where it sets prefix</td><td class="time"><a href="#t2020-03-05T11:07:59" class="time">11:07</a></td></tr>
<tr id="t2020-03-05T11:08:12"><th class="nick" style="background: #57a657">rburton</th><td class="text" style="color: #57a657">as you say --prefix i'm guessing autotools.bbclass</td><td class="time"><a href="#t2020-03-05T11:08:12" class="time">11:08</a></td></tr>
<tr id="t2020-03-05T11:08:34"><th class="nick" style="background: #57a657">rburton</th><td class="text" style="color: #57a657">arguably the class should split the variables up a bit so some pieces are easier to change</td><td class="time"><a href="#t2020-03-05T11:08:34" class="time">11:08</a></td></tr>
<tr id="t2020-03-05T11:11:18"><th class="nick" style="background: #a25555">sno</th><td class="text" style="color: #a25555">rburton: for short fix this seems to be reasonable</td><td class="time"><a href="#t2020-03-05T11:11:18" class="time">11:11</a></td></tr>
<tr id="t2020-03-05T11:12:21"><th class="nick" style="background: #a25555">sno</th><td class="text" style="color: #a25555">rburton: but this requires doing the package-split on my own (-debug, -src, -dev, ...)</td><td class="time"><a href="#t2020-03-05T11:12:21" class="time">11:12</a></td></tr>
<tr id="t2020-03-05T11:12:46"><th class="nick" style="background: #a25555">sno</th><td class="text" style="color: #a25555">for long-term a more generic approach would be nice (I'm happy to send patches)</td><td class="time"><a href="#t2020-03-05T11:12:46" class="time">11:12</a></td></tr>
<tr id="t2020-03-05T11:23:48"><th class="nick" style="background: #57a657">rburton</th><td class="text" style="color: #57a657">sno: i guess you could have install_prefix?=$(prefix) and use those uniformally</td><td class="time"><a href="#t2020-03-05T11:23:48" class="time">11:23</a></td></tr>
<tr id="t2020-03-05T11:24:34"><th class="nick" style="background: #adad5b">luckywho</th><td class="text" style="color: #adad5b">Hi, while building python3_3.5.6.bb, i'm getting error in os.path.join. <a href="https://git.yoctoproject.org/cgit/cgit.cgi/poky/tree/meta/recipes-devtools/python/python3_3.5.6.bb?h=thud#n265" rel="nofollow">https://git.yoctoproject.org/cgit/cgit.cgi/poky/tree/meta/recipes-devtools/python/python3_3.5.6.bb?h=thud#n265</a></td><td class="time"><a href="#t2020-03-05T11:24:34" class="time">11:24</a></td></tr>
<tr id="t2020-03-05T11:25:03"><th class="nick" style="background: #a25555">sno</th><td class="text" style="color: #a25555">rburton: I mean this could be supported from with-in yocto</td><td class="time"><a href="#t2020-03-05T11:25:03" class="time">11:25</a></td></tr>
<tr id="t2020-03-05T11:25:17"><th class="nick" style="background: #adad5b">luckywho</th><td class="text" style="color: #adad5b">filename = ${@os.path.dirname(d.getVar('FILE', True))}/python3/python3-manifest.json</td><td class="time"><a href="#t2020-03-05T11:25:17" class="time">11:25</a></td></tr>
<tr id="t2020-03-05T11:25:43"><th class="nick" style="background: #57a657">rburton</th><td class="text" style="color: #57a657">sno: right, i mean bitbake.conf could have install_prefix and friends, and use those everywhere relevant</td><td class="time"><a href="#t2020-03-05T11:25:43" class="time">11:25</a></td></tr>
<tr id="t2020-03-05T11:26:06"><th class="nick" style="background: #57a657">rburton</th><td class="text" style="color: #57a657">of course autotools assumes that if you pass --libdir then that is where libraries are</td><td class="time"><a href="#t2020-03-05T11:26:06" class="time">11:26</a></td></tr>
<tr id="t2020-03-05T11:26:11"><th class="nick" style="background: #57a657">rburton</th><td class="text" style="color: #57a657">*and* where to put them</td><td class="time"><a href="#t2020-03-05T11:26:11" class="time">11:26</a></td></tr>
<tr id="t2020-03-05T11:26:18"><th class="nick" style="background: #57a657">rburton</th><td class="text" style="color: #57a657">so you might not actually solve anything in the real world</td><td class="time"><a href="#t2020-03-05T11:26:18" class="time">11:26</a></td></tr>
<tr id="t2020-03-05T11:26:46"><th class="nick" style="background: #a25555">sno</th><td class="text" style="color: #a25555">rburton: I asked to get a vision (to finally develop a patch) - hacking wasn't the problem :D</td><td class="time"><a href="#t2020-03-05T11:26:46" class="time">11:26</a></td></tr>
<tr id="t2020-03-05T11:28:13"><th class="nick" style="background: #a25555">sno</th><td class="text" style="color: #a25555">I'll take a look how to add an install_prefix to bitbake.conf and friends (autotools.bbclass)</td><td class="time"><a href="#t2020-03-05T11:28:13" class="time">11:28</a></td></tr>
<tr id="t2020-03-05T11:57:40"><th class="nick" style="background: #b15db1">RP</th><td class="text" style="color: #b15db1">sno: isn't that $prefix and $base_prefix ?</td><td class="time"><a href="#t2020-03-05T11:57:40" class="time">11:57</a></td></tr>
<tr id="t2020-03-05T11:58:08"><th class="nick" style="background: #57a657">rburton</th><td class="text" style="color: #57a657">base_prefix is something else isn't it</td><td class="time"><a href="#t2020-03-05T11:58:08" class="time">11:58</a></td></tr>
<tr id="t2020-03-05T11:58:21"><th class="nick" style="background: #a25555">sno</th><td class="text" style="color: #a25555">RP: nearly half entire poky assumes prefix=/usr</td><td class="time"><a href="#t2020-03-05T11:58:21" class="time">11:58</a></td></tr>
<tr id="t2020-03-05T11:58:41"><th class="nick" style="background: #a25555">sno</th><td class="text" style="color: #a25555">changing prefix breaks a lot of classes in poky/meta/classes</td><td class="time"><a href="#t2020-03-05T11:58:41" class="time">11:58</a></td></tr>
<tr id="t2020-03-05T11:59:29"><th class="nick" style="background: #a25555">sno</th><td class="text" style="color: #a25555">changing prefix was my first shot - and it fails heavily :D</td><td class="time"><a href="#t2020-03-05T11:59:29" class="time">11:59</a></td></tr>
<tr id="t2020-03-05T11:59:48"><th class="nick" style="background: #57a657">rburton</th><td class="text" style="color: #57a657">sno: changing prefix at a distro level should just work</td><td class="time"><a href="#t2020-03-05T11:59:48" class="time">11:59</a></td></tr>
<tr id="t2020-03-05T11:59:59"><th class="nick" style="background: #57a657">rburton</th><td class="text" style="color: #57a657">but you can't just change it per-recipe</td><td class="time"><a href="#t2020-03-05T11:59:59" class="time">11:59</a></td></tr>
<tr id="t2020-03-05T12:00:11"><th class="nick" style="background: #a25555">sno</th><td class="text" style="color: #a25555">rburton: but I really want prefix for system libs being in /usr :)</td><td class="time"><a href="#t2020-03-05T12:00:11" class="time">12:00</a></td></tr>
<tr id="t2020-03-05T12:00:38"><th class="nick" style="background: #a25555">sno</th><td class="text" style="color: #a25555">rburton: that's why I agree on something like install_prefix= ...</td><td class="time"><a href="#t2020-03-05T12:00:38" class="time">12:00</a></td></tr>
<tr id="t2020-03-05T12:02:01"><th class="nick" style="background: #a25555">sno</th><td class="text" style="color: #a25555">rburton: as you're right - one cannot fix the world, but sometime one might need an old perl, an old python, a very dirty openssl, or a bundle of several of those and more :)</td><td class="time"><a href="#t2020-03-05T12:02:01" class="time">12:02</a></td></tr>
<tr id="t2020-03-05T12:02:57"><th class="nick" style="background: #b15db1">RP</th><td class="text" style="color: #b15db1">sno: I don't see how install_prefix will buy anything that prefix and base_prefix don';t</td><td class="time"><a href="#t2020-03-05T12:02:57" class="time">12:02</a></td></tr>
<tr id="t2020-03-05T12:04:56"><th class="nick" style="background: #57a657">rburton</th><td class="text" style="color: #57a657">base_prefix is the prefix for files that are typically in /, so sysconfidir default is base_prefix/etc</td><td class="time"><a href="#t2020-03-05T12:04:56" class="time">12:04</a></td></tr>
<tr id="t2020-03-05T12:05:12"><th class="nick" style="background: #57a657">rburton</th><td class="text" style="color: #57a657">so you can set base_prefix to $prefix is you want /usr/etc</td><td class="time"><a href="#t2020-03-05T12:05:12" class="time">12:05</a></td></tr>
<tr id="t2020-03-05T12:05:32"><th class="nick" style="background: #57a657">rburton</th><td class="text" style="color: #57a657">what sno wants is the ability to drop a specific recipe into /opt/foo</td><td class="time"><a href="#t2020-03-05T12:05:32" class="time">12:05</a></td></tr>
<tr id="t2020-03-05T12:05:40"><th class="nick" style="background: #57a657">rburton</th><td class="text" style="color: #57a657">and setting prefix=/opt/foo in the recipe doesn't work</td><td class="time"><a href="#t2020-03-05T12:05:40" class="time">12:05</a></td></tr>
<tr id="t2020-03-05T12:06:55"><th class="nick" style="background: #57a657">rburton</th><td class="text" style="color: #57a657">example 1: PKG_CONFIG_PATH uses $prefix</td><td class="time"><a href="#t2020-03-05T12:06:55" class="time">12:06</a></td></tr>
<tr id="t2020-03-05T12:28:16"><th class="nick" style="background: #b15db1">RP</th><td class="text" style="color: #b15db1">I don't think that will end well with the way autotools works, sadly</td><td class="time"><a href="#t2020-03-05T12:28:16" class="time">12:28</a></td></tr>
<tr id="t2020-03-05T12:30:57"><th class="nick" style="background: #57a657">rburton</th><td class="text" style="color: #57a657">yeah that was my hunch too</td><td class="time"><a href="#t2020-03-05T12:30:57" class="time">12:30</a></td></tr>
<tr id="t2020-03-05T12:31:09"><th class="nick" style="background: #57a657">rburton</th><td class="text" style="color: #57a657">it assumes that --libdir is both where to find libraries and where to install into</td><td class="time"><a href="#t2020-03-05T12:31:09" class="time">12:31</a></td></tr>
<tr id="t2020-03-05T12:49:17"><th class="nick" style="background: #a25555">sno</th><td class="text" style="color: #a25555">RP: I have serious reasonable success using dedicated --prefix for some packages - mostly when building for data center some solutions</td><td class="time"><a href="#t2020-03-05T12:49:17" class="time">12:49</a></td></tr>
<tr id="t2020-03-05T12:49:27"><th class="nick" style="background: #a25555">sno</th><td class="text" style="color: #a25555">RP: that typically ends very well :)</td><td class="time"><a href="#t2020-03-05T12:49:27" class="time">12:49</a></td></tr>
<tr id="t2020-03-05T12:50:04"><th class="nick" style="background: #a25555">sno</th><td class="text" style="color: #a25555">RP: rburton: I will give that a shot and then share the results - bad or good</td><td class="time"><a href="#t2020-03-05T12:50:04" class="time">12:50</a></td></tr>
<tr id="t2020-03-05T12:50:14"><th class="nick" style="background: #a25555">sno</th><td class="text" style="color: #a25555">not today but soonish</td><td class="time"><a href="#t2020-03-05T12:50:14" class="time">12:50</a></td></tr>
<tr id="t2020-03-05T13:15:40"><th class="nick" style="background: #5fb4b4">moustafa</th><td class="text" style="color: #5fb4b4">I'd like to know any info or brief how I can run some app on systemsd&nbsp;&nbsp;?</td><td class="time"><a href="#t2020-03-05T13:15:40" class="time">13:15</a></td></tr>
<tr id="t2020-03-05T13:16:15"><th class="nick" style="background: #57a657">rburton</th><td class="text" style="color: #57a657">moustafa: the systemd documentation is good for that</td><td class="time"><a href="#t2020-03-05T13:16:15" class="time">13:16</a></td></tr>
<tr id="t2020-03-05T13:16:49"><th class="nick" style="background: #5959a9">LetoThe2nd</th><td class="text" style="color: #5959a9">basically its just dropping in a service file, and we have lots of examples in the layers.</td><td class="time"><a href="#t2020-03-05T13:16:49" class="time">13:16</a></td></tr>
<tr id="t2020-03-05T13:23:22"><th class="nick" style="background: #9b519b">qschulz</th><td class="text" style="color: #9b519b">any way to specify the ssh port for a git repo in a Yocto recipe (&gt;= krogoth ideally but thud is fine) other than setting the port in .ssh/config?</td><td class="time"><a href="#t2020-03-05T13:23:22" class="time">13:23</a></td></tr>
<tr id="t2020-03-05T13:29:07"><th class="nick" style="background: #b86161">fullstop</th><td class="text" style="color: #b86161">smurray: I did get the updated kernel headers working yesterday.&nbsp;&nbsp;I put them in a separate directory with sysroot_stage_all_append.</td><td class="time"><a href="#t2020-03-05T13:29:07" class="time">13:29</a></td></tr>
<tr id="t2020-03-05T13:29:32"><th class="nick" style="background: #62bb62">smurray</th><td class="text" style="color: #62bb62">fullstop: cool</td><td class="time"><a href="#t2020-03-05T13:29:32" class="time">13:29</a></td></tr>
<tr id="t2020-03-05T13:38:00"><th class="nick" style="background: #6464bf">zeddii</th><td class="text" style="color: #6464bf">which reminds me, I found my patch for that as well. Iâ€™ll attach it to my bugzilla and propose it for the next dev cycle.</td><td class="time"><a href="#t2020-03-05T13:38:00" class="time">13:38</a></td></tr>
<tr id="t2020-03-05T13:39:54"><th class="nick" style="background: #b86161">fullstop</th><td class="text" style="color: #b86161">thanks, zeddii!</td><td class="time"><a href="#t2020-03-05T13:39:54" class="time">13:39</a></td></tr>
<tr id="t2020-03-05T13:55:07"><th class="nick" style="background: #407a40">yocti</th><td class="text" style="color: #407a40">New news from stackoverflow: Gstreamer with Opencv in Yocto Linux &lt;<a href="https://stackoverflow.com/questions/60546811/gstreamer-with-opencv-in-yocto-linux&gt;" rel="nofollow">https://stackoverflow.com/questions/60546811/gstreamer-with-opencv-in-yocto-linux&gt;</a> || How to specify older gcc version in yocto &lt;<a href="https://stackoverflow.com/questions/60546800/how-to-specify-older-gcc-version-in-yocto&gt;" rel="nofollow">https://stackoverflow.com/questions/60546800/how-to-specify-older-gcc-version-in-yocto&gt;</a></td><td class="time"><a href="#t2020-03-05T13:55:07" class="time">13:55</a></td></tr>
<tr id="t2020-03-05T14:35:12"><th class="nick" style="background: #4d4d93">kriive</th><td class="text" style="color: #4d4d93">If I have a package that throws Illegal instruction</td><td class="time"><a href="#t2020-03-05T14:35:12" class="time">14:35</a></td></tr>
<tr id="t2020-03-05T14:35:48"><th class="nick" style="background: #4d4d93">kriive</th><td class="text" style="color: #4d4d93">and the proposed fix is to set OPTTARGET=i686, should I apply it?</td><td class="time"><a href="#t2020-03-05T14:35:48" class="time">14:35</a></td></tr>
<tr id="t2020-03-05T14:36:10"><th class="nick" style="background: #57a657">rburton</th><td class="text" style="color: #57a657">kriive: you need to give us far more context if you want a decent answer</td><td class="time"><a href="#t2020-03-05T14:36:10" class="time">14:36</a></td></tr>
<tr id="t2020-03-05T14:36:14"><th class="nick" style="background: #4d4d93">kriive</th><td class="text" style="color: #4d4d93">Sorry</td><td class="time"><a href="#t2020-03-05T14:36:14" class="time">14:36</a></td></tr>
<tr id="t2020-03-05T14:36:33"><th class="nick" style="background: #4d4d93">kriive</th><td class="text" style="color: #4d4d93"><a href="https://github.com/P-H-C/phc-winner-argon2" rel="nofollow">https://github.com/P-H-C/phc-winner-argon2</a> on an Intel Atom throws illegal instruction</td><td class="time"><a href="#t2020-03-05T14:36:33" class="time">14:36</a></td></tr>
<tr id="t2020-03-05T14:36:55"><th class="nick" style="background: #4d4d93">kriive</th><td class="text" style="color: #4d4d93">Both library and binary</td><td class="time"><a href="#t2020-03-05T14:36:55" class="time">14:36</a></td></tr>
<tr id="t2020-03-05T14:37:25"><th class="nick" style="background: #57a657">rburton</th><td class="text" style="color: #57a657">so the makefile does -march=$(OPTTARGET)</td><td class="time"><a href="#t2020-03-05T14:37:25" class="time">14:37</a></td></tr>
<tr id="t2020-03-05T14:37:29"><th class="nick" style="background: #57a657">rburton</th><td class="text" style="color: #57a657">which defaults to 'native'</td><td class="time"><a href="#t2020-03-05T14:37:29" class="time">14:37</a></td></tr>
<tr id="t2020-03-05T14:37:39"><th class="nick" style="background: #4d4d93">kriive</th><td class="text" style="color: #4d4d93">Intel(R) Atom(TM) x5-Z8350</td><td class="time"><a href="#t2020-03-05T14:37:39" class="time">14:37</a></td></tr>
<tr id="t2020-03-05T14:38:05"><th class="nick" style="background: #57a657">rburton</th><td class="text" style="color: #57a657">which has interesting semantics in a cross compiler.&nbsp;&nbsp;khem, does march=native in a cross compiler do entirely the wrong thing?</td><td class="time"><a href="#t2020-03-05T14:38:05" class="time">14:38</a></td></tr>
<tr id="t2020-03-05T14:38:12"><th class="nick" style="background: #57a657">rburton</th><td class="text" style="color: #57a657">i'd have said it should abort</td><td class="time"><a href="#t2020-03-05T14:38:12" class="time">14:38</a></td></tr>
<tr id="t2020-03-05T14:39:40"><th class="nick" style="background: #57a657">rburton</th><td class="text" style="color: #57a657">if the value for that is passed directly to -march then read the gcc man page and find the best march for your target. ideally, the recipe will patch all that out and let the BSP pass -march -mtune as needed</td><td class="time"><a href="#t2020-03-05T14:39:40" class="time">14:39</a></td></tr>
<tr id="t2020-03-05T14:41:28"><th class="nick" style="background: #57a657">rburton</th><td class="text" style="color: #57a657">like if you use meta-intel corei7-64 machine the compiler flags will include -march=nehalem -mtune=generic -mfpmath=sse -msse4.2</td><td class="time"><a href="#t2020-03-05T14:41:28" class="time">14:41</a></td></tr>
<tr id="t2020-03-05T14:41:47"><th class="nick" style="background: #57a657">rburton</th><td class="text" style="color: #57a657">but that makefile probably ignores those because people who think writing a bare makefile is sensible don't think about everyone else</td><td class="time"><a href="#t2020-03-05T14:41:47" class="time">14:41</a></td></tr>
<tr id="t2020-03-05T14:44:28"><th class="nick" style="background: #4d4d93">kriive</th><td class="text" style="color: #4d4d93">A workaround would be to set OPTTEST to 1, am I right rburton?</td><td class="time"><a href="#t2020-03-05T14:44:28" class="time">14:44</a></td></tr>
<tr id="t2020-03-05T14:44:33"><th class="nick" style="background: #4d4d93">kriive</th><td class="text" style="color: #4d4d93">could*</td><td class="time"><a href="#t2020-03-05T14:44:33" class="time">14:44</a></td></tr>
<tr id="t2020-03-05T14:45:07"><th class="nick" style="background: #57a657">rburton</th><td class="text" style="color: #57a657">yeah, try that and then look at the actual compiler calls</td><td class="time"><a href="#t2020-03-05T14:45:07" class="time">14:45</a></td></tr>
<tr id="t2020-03-05T14:45:17"><th class="nick" style="background: #57a657">rburton</th><td class="text" style="color: #57a657">see if you get the BSP -mtune used</td><td class="time"><a href="#t2020-03-05T14:45:17" class="time">14:45</a></td></tr>
<tr id="t2020-03-05T14:47:28"><th class="nick" style="background: #4d4d93">kriive</th><td class="text" style="color: #4d4d93">OPTTEST is set with := unfortunately, I thought it was ?=</td><td class="time"><a href="#t2020-03-05T14:47:28" class="time">14:47</a></td></tr>
<tr id="t2020-03-05T14:47:49"><th class="nick" style="background: #4d4d93">kriive</th><td class="text" style="color: #4d4d93">Make doesn't give a damn, I guess I have to patch it</td><td class="time"><a href="#t2020-03-05T14:47:49" class="time">14:47</a></td></tr>
<tr id="t2020-03-05T14:48:52"><th class="nick" style="background: #57a657">rburton</th><td class="text" style="color: #57a657">you can override that</td><td class="time"><a href="#t2020-03-05T14:48:52" class="time">14:48</a></td></tr>
<tr id="t2020-03-05T14:49:18"><th class="nick" style="background: #57a657">rburton</th><td class="text" style="color: #57a657">EXTRA_OEMAKE will pass variables to make for you</td><td class="time"><a href="#t2020-03-05T14:49:18" class="time">14:49</a></td></tr>
<tr id="t2020-03-05T14:49:51"><th class="nick" style="background: #57a657">rburton</th><td class="text" style="color: #57a657">kriive: ^</td><td class="time"><a href="#t2020-03-05T14:49:51" class="time">14:49</a></td></tr>
<tr id="t2020-03-05T14:50:43"><th class="nick" style="background: #4d4d93">kriive</th><td class="text" style="color: #4d4d93">Ah ok, let's try</td><td class="time"><a href="#t2020-03-05T14:50:43" class="time">14:50</a></td></tr>
<tr id="t2020-03-05T14:50:55"><th class="nick" style="background: #c3c366">tzsal</th><td class="text" style="color: #c3c366">I've got an error related to the incorrect compiler flags. I want to see and override flags for the specific package. Is there any opportunity to do this?</td><td class="time"><a href="#t2020-03-05T14:50:55" class="time">14:50</a></td></tr>
<tr id="t2020-03-05T14:51:06"><th class="nick" style="background: #57a657">rburton</th><td class="text" style="color: #57a657">theres a difference between FOO=bar make and make FOO=bar</td><td class="time"><a href="#t2020-03-05T14:51:06" class="time">14:51</a></td></tr>
<tr id="t2020-03-05T14:51:24"><th class="nick" style="background: #57a657">rburton</th><td class="text" style="color: #57a657">the former is environment and make won't care, the latter is overriding the value in the makefile</td><td class="time"><a href="#t2020-03-05T14:51:24" class="time">14:51</a></td></tr>
<tr id="t2020-03-05T14:51:42"><th class="nick" style="background: #57a657">rburton</th><td class="text" style="color: #57a657">tzsal: bitbake -e [recipe] | less</td><td class="time"><a href="#t2020-03-05T14:51:42" class="time">14:51</a></td></tr>
<tr id="t2020-03-05T15:17:24"><th class="nick" style="background: #4d4d93">kriive</th><td class="text" style="color: #4d4d93">rburton, EXTRA_OEMAKE = "OPTTEST=1" seems to trigger the correct BSP flags, trying right now in the actual device</td><td class="time"><a href="#t2020-03-05T15:17:24" class="time">15:17</a></td></tr>
<tr id="t2020-03-05T15:25:27"><th class="nick" style="background: #407a40">yocti</th><td class="text" style="color: #407a40">New news from stackoverflow: Yocto: create recipe for SciKit-learn &lt;<a href="https://stackoverflow.com/questions/59065058/yocto-create-recipe-for-scikit-learn&gt;" rel="nofollow">https://stackoverflow.com/questions/59065058/yocto-create-recipe-for-scikit-learn&gt;</a></td><td class="time"><a href="#t2020-03-05T15:25:27" class="time">15:25</a></td></tr>
<tr id="t2020-03-05T15:40:14"><td class="nickchange" colspan="2">*** jacob_ is now known as Guest55121</td><td><a href="#t2020-03-05T15:40:14" class="time">15:40</a></td></tr>
<tr id="t2020-03-05T16:14:44"><th class="nick" style="background: #818144">khem</th><td class="text" style="color: #818144">rburton: march=native should not be used in cross compile context, it might pick wrong instruction set and latencies and infact generate worse code</td><td class="time"><a href="#t2020-03-05T16:14:44" class="time">16:14</a></td></tr>
<tr id="t2020-03-05T16:17:45"><th class="nick" style="background: #818144">khem</th><td class="text" style="color: #818144">I think any march settings from Makefile can be removed since we already set an appropriate one via TUNE_CCARGS</td><td class="time"><a href="#t2020-03-05T16:17:45" class="time">16:17</a></td></tr>
<tr id="t2020-03-05T16:55:08"><th class="nick" style="background: #c668c6">rburton_</th><td class="text" style="color: #c668c6">khem: what happens in gcc if march=native is used in a cross build though?</td><td class="time"><a href="#t2020-03-05T16:55:08" class="time">16:55</a></td></tr>
<tr id="t2020-03-05T16:55:29"><th class="nick" style="background: #c668c6">rburton_</th><td class="text" style="color: #c668c6">i guess if you're targetting the same machine it can use the host to determine, which is pretty evil</td><td class="time"><a href="#t2020-03-05T16:55:29" class="time">16:55</a></td></tr>
<tr id="t2020-03-05T16:55:37"><th class="nick" style="background: #c668c6">rburton_</th><td class="text" style="color: #c668c6">i'd say that should be a fatal error</td><td class="time"><a href="#t2020-03-05T16:55:37" class="time">16:55</a></td></tr>
<tr id="t2020-03-05T17:21:38"><td class="part" colspan="2">*** JBook_SE &lt;JBook_SE!a434f282@gateway/web/cgi-irc/kiwiirc.com/ip.164.52.242.130&gt; has left #yocto</td><td><a href="#t2020-03-05T17:21:38" class="time">17:21</a></td></tr>
<tr id="t2020-03-05T17:24:51"><th class="nick" style="background: #6acaca">skrc</th><td class="text" style="color: #6acaca">my defconfig configuration which is passed using linux-imx_%.bbappend is&nbsp;&nbsp;not reflected in .config file</td><td class="time"><a href="#t2020-03-05T17:24:51" class="time">17:24</a></td></tr>
<tr id="t2020-03-05T17:29:45"><th class="nick" style="background: #9b519b">qschulz</th><td class="text" style="color: #9b519b">skrc: 1) how did you create your defconfig? 2) check which paths are searched before the defconfig is found (bitbake -e linux-imx | grep -e "^FILESPATH"; or look into WORKDIR/temp/log.do_fetch (I think?)</td><td class="time"><a href="#t2020-03-05T17:29:45" class="time">17:29</a></td></tr>
<tr id="t2020-03-05T17:32:02"><th class="nick" style="background: #6acaca">skrc</th><td class="text" style="color: #6acaca">i copied v7_defconfig and added my custom config</td><td class="time"><a href="#t2020-03-05T17:32:02" class="time">17:32</a></td></tr>
<tr id="t2020-03-05T17:32:03"><th class="nick" style="background: #9b519b">qschulz</th><td class="text" style="color: #9b519b">You might be missing a subdir for your defconfig that is probably named more or less after your machine</td><td class="time"><a href="#t2020-03-05T17:32:03" class="time">17:32</a></td></tr>
<tr id="t2020-03-05T17:32:21"><th class="nick" style="background: #9b519b">qschulz</th><td class="text" style="color: #9b519b">define "added my custom config"? manually or by using menuconfig?</td><td class="time"><a href="#t2020-03-05T17:32:21" class="time">17:32</a></td></tr>
<tr id="t2020-03-05T17:32:57"><th class="nick" style="background: #6acaca">skrc</th><td class="text" style="color: #6acaca">i added manually and didn't create fragments</td><td class="time"><a href="#t2020-03-05T17:32:57" class="time">17:32</a></td></tr>
<tr id="t2020-03-05T17:33:26"><th class="nick" style="background: #9b519b">qschulz</th><td class="text" style="color: #9b519b">Use menuconfig. defconfigs/.config aren't meant to be edited manually</td><td class="time"><a href="#t2020-03-05T17:33:26" class="time">17:33</a></td></tr>
<tr id="t2020-03-05T17:33:40"><th class="nick" style="background: #9b519b">qschulz</th><td class="text" style="color: #9b519b">That's the first thing. Then check 2)</td><td class="time"><a href="#t2020-03-05T17:33:40" class="time">17:33</a></td></tr>
<tr id="t2020-03-05T17:34:18"><td class="nickchange" colspan="2">*** mckoan is now known as mckoan|away</td><td><a href="#t2020-03-05T17:34:18" class="time">17:34</a></td></tr>
<tr id="t2020-03-05T17:37:27"><th class="nick" style="background: #6acaca">skrc</th><td class="text" style="color: #6acaca">ok</td><td class="time"><a href="#t2020-03-05T17:37:27" class="time">17:37</a></td></tr>
<tr id="t2020-03-05T17:38:27"><th class="nick" style="background: #6acaca">skrc</th><td class="text" style="color: #6acaca">i tried generating fragments (fragment.cfg) and added it in my linux-imx_%.bbappend</td><td class="time"><a href="#t2020-03-05T17:38:27" class="time">17:38</a></td></tr>
<tr id="t2020-03-05T17:38:33"><th class="nick" style="background: #6acaca">skrc</th><td class="text" style="color: #6acaca">also added the following statement</td><td class="time"><a href="#t2020-03-05T17:38:33" class="time">17:38</a></td></tr>
<tr id="t2020-03-05T17:38:34"><th class="nick" style="background: #6acaca">skrc</th><td class="text" style="color: #6acaca">do_configure_append() {</td><td class="time"><a href="#t2020-03-05T17:38:34" class="time">17:38</a></td></tr>
<tr id="t2020-03-05T17:39:04"><th class="nick" style="background: #6acaca">skrc</th><td class="text" style="color: #6acaca">now the my custom changes are appearing in .config</td><td class="time"><a href="#t2020-03-05T17:39:04" class="time">17:39</a></td></tr>
<tr id="t2020-03-05T17:39:30"><th class="nick" style="background: #6acaca">skrc</th><td class="text" style="color: #6acaca">I am not sure whether this is the right way</td><td class="time"><a href="#t2020-03-05T17:39:30" class="time">17:39</a></td></tr>
<tr id="t2020-03-05T17:40:17"><th class="nick" style="background: #ce6c6c">tgamblin</th><td class="text" style="color: #ce6c6c">RP: JPEW: reproducibility works fine for me in poky. Looks like it's unique to the manual oe-core + bitbake setup</td><td class="time"><a href="#t2020-03-05T17:40:17" class="time">17:40</a></td></tr>
<tr id="t2020-03-05T17:40:28"><td class="action" colspan="2">* tgamblin updates the issue</td><td><a href="#t2020-03-05T17:40:28" class="time">17:40</a></td></tr>
<tr id="t2020-03-05T17:41:29"><th class="nick" style="background: #b15db1">RP</th><td class="text" style="color: #b15db1">tgamblin: good to narrow it down!</td><td class="time"><a href="#t2020-03-05T17:41:29" class="time">17:41</a></td></tr>
<tr id="t2020-03-05T17:42:19"><th class="nick" style="background: #9b519b">qschulz</th><td class="text" style="color: #9b519b">You didn't give us enough info. what is there in do_configure_append()? Are you using fragments now or full defconfig? What is "this" in "I am not sure whether this is the right way"?</td><td class="time"><a href="#t2020-03-05T17:42:19" class="time">17:42</a></td></tr>
<tr id="t2020-03-05T17:42:23"><th class="nick" style="background: #9b519b">qschulz</th><td class="text" style="color: #9b519b">skrc: ^</td><td class="time"><a href="#t2020-03-05T17:42:23" class="time">17:42</a></td></tr>
<tr id="t2020-03-05T17:44:09"><th class="nick" style="background: #6acaca">skrc</th><td class="text" style="color: #6acaca">since my defconfig is not getting copied to .config, i generated fragment.cfg using the below steps.</td><td class="time"><a href="#t2020-03-05T17:44:09" class="time">17:44</a></td></tr>
<tr id="t2020-03-05T17:44:15"><th class="nick" style="background: #6acaca">skrc</th><td class="text" style="color: #6acaca">bitbake -c menuconfig linux-imx</td><td class="time"><a href="#t2020-03-05T17:44:15" class="time">17:44</a></td></tr>
<tr id="t2020-03-05T17:46:45"><th class="nick" style="background: #6acaca">skrc</th><td class="text" style="color: #6acaca">now i added this in linux-imx_%.bbappend</td><td class="time"><a href="#t2020-03-05T17:46:45" class="time">17:46</a></td></tr>
<tr id="t2020-03-05T17:47:00"><th class="nick" style="background: #6acaca">skrc</th><td class="text" style="color: #6acaca">SRC_URI += "file://fragment.cfg"</td><td class="time"><a href="#t2020-03-05T17:47:00" class="time">17:47</a></td></tr>
<tr id="t2020-03-05T17:47:13"><th class="nick" style="background: #6acaca">skrc</th><td class="text" style="color: #6acaca">do_configure_append() {</td><td class="time"><a href="#t2020-03-05T17:47:13" class="time">17:47</a></td></tr>
<tr id="t2020-03-05T17:50:11"><th class="nick" style="background: #9b519b">qschulz</th><td class="text" style="color: #9b519b">skrc: menuconfig creates a .config. I think you need to use diffconfig afterwards to create a valid config fragment.</td><td class="time"><a href="#t2020-03-05T17:50:11" class="time">17:50</a></td></tr>
<tr id="t2020-03-05T17:51:50"><th class="nick" style="background: #6acaca">skrc</th><td class="text" style="color: #6acaca">ok</td><td class="time"><a href="#t2020-03-05T17:51:50" class="time">17:51</a></td></tr>
<tr id="t2020-03-05T17:54:26"><th class="nick" style="background: #9b519b">qschulz</th><td class="text" style="color: #9b519b">what do you have in do_configure_append()?</td><td class="time"><a href="#t2020-03-05T17:54:26" class="time">17:54</a></td></tr>
<tr id="t2020-03-05T18:14:12"><th class="nick" style="background: #62bb62">smurray</th><td class="text" style="color: #62bb62">for linux-imx, you should just be able to have a bbappend that does FILEEXTRAPATHS_prepend := "${THISDIR}/files" (or wherever) and drop your tweaked defconfig in it</td><td class="time"><a href="#t2020-03-05T18:14:12" class="time">18:14</a></td></tr>
<tr id="t2020-03-05T18:14:19"><th class="nick" style="background: #62bb62">smurray</th><td class="text" style="color: #62bb62">skrc: ^</td><td class="time"><a href="#t2020-03-05T18:14:19" class="time">18:14</a></td></tr>
<tr id="t2020-03-05T18:15:22"><th class="nick" style="background: #9b519b">qschulz</th><td class="text" style="color: #9b519b">smurray: depends if there is already a defconfig in a subdir named after one of the entries in OVERRIDES (hence the check of FILESPATH or log.do_fetch)</td><td class="time"><a href="#t2020-03-05T18:15:22" class="time">18:15</a></td></tr>
<tr id="t2020-03-05T18:15:32"><th class="nick" style="background: #9b519b">qschulz</th><td class="text" style="color: #9b519b">in which case, there is some priority going on</td><td class="time"><a href="#t2020-03-05T18:15:32" class="time">18:15</a></td></tr>
<tr id="t2020-03-05T18:15:40"><th class="nick" style="background: #62bb62">smurray</th><td class="text" style="color: #62bb62">qschulz: hence the prepend?</td><td class="time"><a href="#t2020-03-05T18:15:40" class="time">18:15</a></td></tr>
<tr id="t2020-03-05T18:16:15"><th class="nick" style="background: #9b519b">qschulz</th><td class="text" style="color: #9b519b">smurray: not enough IIRC</td><td class="time"><a href="#t2020-03-05T18:16:15" class="time">18:16</a></td></tr>
<tr id="t2020-03-05T18:16:20"><th class="nick" style="background: #62bb62">smurray</th><td class="text" style="color: #62bb62">qschulz: though, yeah, I've not encountered that exact case</td><td class="time"><a href="#t2020-03-05T18:16:20" class="time">18:16</a></td></tr>
<tr id="t2020-03-05T18:17:26"><th class="nick" style="background: #62bb62">smurray</th><td class="text" style="color: #62bb62">I think it depends on which branch in meta-freescale, they used to just have one, now I think they have a directory for the mx8 override</td><td class="time"><a href="#t2020-03-05T18:17:26" class="time">18:17</a></td></tr>
<tr id="t2020-03-05T18:18:00"><th class="nick" style="background: #62bb62">smurray</th><td class="text" style="color: #62bb62">the linux-imx recipe doesn't use linux-yocto, so no fragment support unless you add it yourself</td><td class="time"><a href="#t2020-03-05T18:18:00" class="time">18:18</a></td></tr>
<tr id="t2020-03-05T18:19:10"><th class="nick" style="background: #6ed16e">robbawebba</th><td class="text" style="color: #6ed16e">Hello - I have a question about adding a custom package to the host SDK sysroot. My recipe provides two packages that are both installed on the target. I would also like to install one of those packages in the Host SDK. How might I go about selecting only one package that also gets a nativesdk variant?</td><td class="time"><a href="#t2020-03-05T18:19:10" class="time">18:19</a></td></tr>
<tr id="t2020-03-05T18:19:54"><th class="nick" style="background: #6ed16e">robbawebba</th><td class="text" style="color: #6ed16e">I understand that I must add BBCLASSEXTEND = "native nativesdk" to my recipe, but I'm wondering if there's anything else I need to do to only restrict nativesdk support to one of two packages in the recipe</td><td class="time"><a href="#t2020-03-05T18:19:54" class="time">18:19</a></td></tr>
<tr id="t2020-03-05T18:21:10"><th class="nick" style="background: #62bb62">smurray</th><td class="text" style="color: #62bb62">skrc: if you do try that, I missed the required ':' before the ending quote.</td><td class="time"><a href="#t2020-03-05T18:21:10" class="time">18:21</a></td></tr>
<tr id="t2020-03-05T18:23:10"><th class="nick" style="background: #62bb62">smurray</th><td class="text" style="color: #62bb62">robbawebba: you'd probably need to do some tweaking of do_install and the FILES_${PN}-package definitions based on _class-target and _class-nativesdk, etc. overrides</td><td class="time"><a href="#t2020-03-05T18:23:10" class="time">18:23</a></td></tr>
<tr id="t2020-03-05T18:51:33"><th class="nick" style="background: #6ed16e">robbawebba</th><td class="text" style="color: #6ed16e">smurray: okay, thanks! Now that I'm fonfronted by installed vs shipped errors in bitbake I see what you mean. I'll start tweaking.</td><td class="time"><a href="#t2020-03-05T18:51:33" class="time">18:51</a></td></tr>
<tr id="t2020-03-05T18:53:12"><th class="nick" style="background: #62bb62">smurray</th><td class="text" style="color: #62bb62">robbawebba: might be as easy as a do_install_append_class-nativesdk to rm the files</td><td class="time"><a href="#t2020-03-05T18:53:12" class="time">18:53</a></td></tr>
<tr id="t2020-03-05T19:18:42"><th class="nick" style="background: #7070d5">sheelba</th><td class="text" style="color: #7070d5">I suspect this is an easy question but it's Thursday so I'll ask it anyway.&nbsp;&nbsp;Is there a way to list all available image types within the defined layers?&nbsp;&nbsp;Happy to keep using grep if that's the way, just wondering if there's something in bitbake for that.</td><td class="time"><a href="#t2020-03-05T19:18:42" class="time">19:18</a></td></tr>
<tr id="t2020-03-05T19:19:18"><th class="nick" style="background: #7070d5">sheelba</th><td class="text" style="color: #7070d5">s/types/recipes</td><td class="time"><a href="#t2020-03-05T19:19:18" class="time">19:19</a></td></tr>
<tr id="t2020-03-05T19:21:23"><th class="nick" style="background: #c668c6">rburton_</th><td class="text" style="color: #c668c6">bitbake -e and grepping for IMAGE_CMD_ will give you a hint</td><td class="time"><a href="#t2020-03-05T19:21:23" class="time">19:21</a></td></tr>
<tr id="t2020-03-05T19:21:41"><th class="nick" style="background: #c668c6">rburton_</th><td class="text" style="color: #c668c6">but some classes need to be inherited first, so that isn't complete</td><td class="time"><a href="#t2020-03-05T19:21:41" class="time">19:21</a></td></tr>
<tr id="t2020-03-05T19:28:33"><th class="nick" style="background: #7070d5">sheelba</th><td class="text" style="color: #7070d5">Thanks, interesting.&nbsp;&nbsp;On this poky / freescale project I get zero results grepping for IMAGE_CMD_ from bitbake -e but 'ls meta*/recipes*/images/*.bb' shows a few, and bitbake-layers show-recipes | grep 'image' shows even more.&nbsp;&nbsp;That's all pretty clumsy but answers my question, thank you.</td><td class="time"><a href="#t2020-03-05T19:28:33" class="time">19:28</a></td></tr>
<tr id="t2020-03-05T19:33:27"><th class="nick" style="background: #7070d5">sheelba</th><td class="text" style="color: #7070d5">...and I do recognize the power of having recipes be functionally agnostic.&nbsp;&nbsp;Giving up some convenience for flexibility there, I can live with that.</td><td class="time"><a href="#t2020-03-05T19:33:27" class="time">19:33</a></td></tr>
<tr id="t2020-03-05T19:41:22"><th class="nick" style="background: #c668c6">rburton_</th><td class="text" style="color: #c668c6">hmm you might want to bitbake -e [image]</td><td class="time"><a href="#t2020-03-05T19:41:22" class="time">19:41</a></td></tr>
<tr id="t2020-03-05T19:41:27"><th class="nick" style="background: #c668c6">rburton_</th><td class="text" style="color: #c668c6">that might be more useful</td><td class="time"><a href="#t2020-03-05T19:41:27" class="time">19:41</a></td></tr>
<tr id="t2020-03-05T19:46:46"><th class="nick" style="background: #7070d5">sheelba</th><td class="text" style="color: #7070d5">But if I'm looking for that initial set of image targets, how could I bitbake -e [image]?</td><td class="time"><a href="#t2020-03-05T19:46:46" class="time">19:46</a></td></tr>
<tr id="t2020-03-05T19:50:51"><th class="nick" style="background: #5959a9">LetoThe2nd</th><td class="text" style="color: #5959a9">sheelba: there are a couple of ways that might work if everybody sticks to the canonical way. one is "bitbake-layers show-recipes | grep image", as it is common practise to have image in the name</td><td class="time"><a href="#t2020-03-05T19:50:51" class="time">19:50</a></td></tr>
<tr id="t2020-03-05T19:52:47"><th class="nick" style="background: #5959a9">LetoThe2nd</th><td class="text" style="color: #5959a9">sheelba: you can also grep the layers for "inherit image" respectively "inherit core-image" and work your way from there.</td><td class="time"><a href="#t2020-03-05T19:52:47" class="time">19:52</a></td></tr>
<tr id="t2020-03-05T19:53:19"><th class="nick" style="background: #7070d5">sheelba</th><td class="text" style="color: #7070d5">OK, cool, thanks Leto-- that first method did show me the most of what I was looking for.&nbsp;&nbsp;I've transgressed a bit on my own image names but I'll remember that going forward.</td><td class="time"><a href="#t2020-03-05T19:53:19" class="time">19:53</a></td></tr>
<tr id="t2020-03-05T19:54:00"><th class="nick" style="background: #5959a9">LetoThe2nd</th><td class="text" style="color: #5959a9">sheelba: but there is no guarantee that you will catch everything, because at least *technically* it is possible to have a recipe that is called "jeopardize" and use evil magic to avoid the image class, yet provide an image blob.</td><td class="time"><a href="#t2020-03-05T19:54:00" class="time">19:54</a></td></tr>
<tr id="t2020-03-05T19:54:18"><th class="nick" style="background: #5959a9">LetoThe2nd</th><td class="text" style="color: #5959a9">(i do hope though that no such thing exists)</td><td class="time"><a href="#t2020-03-05T19:54:18" class="time">19:54</a></td></tr>
<tr id="t2020-03-05T19:54:21"><th class="nick" style="background: #7070d5">sheelba</th><td class="text" style="color: #7070d5">fun</td><td class="time"><a href="#t2020-03-05T19:54:21" class="time">19:54</a></td></tr>
<tr id="t2020-03-05T19:57:01"><th class="nick" style="background: #5959a9">LetoThe2nd</th><td class="text" style="color: #5959a9">with great freedom comes great fun.. or what is the saying?</td><td class="time"><a href="#t2020-03-05T19:57:01" class="time">19:57</a></td></tr>
<tr id="t2020-03-05T19:57:19"><th class="nick" style="background: #62bb62">smurray</th><td class="text" style="color: #62bb62">this is an attempt to list based on IMAGE_CMD: git grep ^IMAGE_CMD | sed 's/.*IMAGE_CMD_\([^ ([{}]*\).*/\1/'|uniq</td><td class="time"><a href="#t2020-03-05T19:57:19" class="time">19:57</a></td></tr>
<tr id="t2020-03-05T19:57:35"><th class="nick" style="background: #62bb62">smurray</th><td class="text" style="color: #62bb62">output is sane-ish in e.g. poky</td><td class="time"><a href="#t2020-03-05T19:57:35" class="time">19:57</a></td></tr>
<tr id="t2020-03-05T19:58:17"><th class="nick" style="background: #62bb62">smurray</th><td class="text" style="color: #62bb62">it doesn't weed out _append, though</td><td class="time"><a href="#t2020-03-05T19:58:17" class="time">19:58</a></td></tr>
<tr id="t2020-03-05T19:58:53"><th class="nick" style="background: #5959a9">LetoThe2nd</th><td class="text" style="color: #5959a9">smurray: that lists image types, not images recipes (the initial question was revised just a line later)</td><td class="time"><a href="#t2020-03-05T19:58:53" class="time">19:58</a></td></tr>
<tr id="t2020-03-05T19:59:29"><th class="nick" style="background: #62bb62">smurray</th><td class="text" style="color: #62bb62">LetoThe2nd: oh well</td><td class="time"><a href="#t2020-03-05T19:59:29" class="time">19:59</a></td></tr>
<tr id="t2020-03-05T20:00:14"><th class="nick" style="background: #5959a9">LetoThe2nd</th><td class="text" style="color: #5959a9">smurray: apart from that you are totally right!</td><td class="time"><a href="#t2020-03-05T20:00:14" class="time">20:00</a></td></tr>
<tr id="t2020-03-05T20:00:43"><th class="nick" style="background: #62bb62">smurray</th><td class="text" style="color: #62bb62">LetoThe2nd: ;)</td><td class="time"><a href="#t2020-03-05T20:00:43" class="time">20:00</a></td></tr>
<tr id="t2020-03-05T20:04:20"><th class="nick" style="background: #7070d5">sheelba</th><td class="text" style="color: #7070d5">I was probably right with my wording the first time-- after all, isn't an image type just a recipe?</td><td class="time"><a href="#t2020-03-05T20:04:20" class="time">20:04</a></td></tr>
<tr id="t2020-03-05T20:05:22"><th class="nick" style="background: #7070d5">sheelba</th><td class="text" style="color: #7070d5">I was looking for the set of initial image types, i.e. "fsl-image-multimedia-full"; "core-image-rt" and the like...&nbsp;&nbsp;How to drill down into an image's recipes-- that I get.</td><td class="time"><a href="#t2020-03-05T20:05:22" class="time">20:05</a></td></tr>
<tr id="t2020-03-05T20:05:51"><th class="nick" style="background: #62bb62">smurray</th><td class="text" style="color: #62bb62">sheelba: it's complicated ;)&nbsp;&nbsp;In the sense I suspect you mean, yes.&nbsp;&nbsp;But image "type" means something in OE, it's how to convert the rootfs into some output format</td><td class="time"><a href="#t2020-03-05T20:05:51" class="time">20:05</a></td></tr>
<tr id="t2020-03-05T20:06:10"><th class="nick" style="background: #62bb62">smurray</th><td class="text" style="color: #62bb62">sheelba: generally referring to what's listed in IMAGE_FSTYPES</td><td class="time"><a href="#t2020-03-05T20:06:10" class="time">20:06</a></td></tr>
<tr id="t2020-03-05T20:06:18"><th class="nick" style="background: #7070d5">sheelba</th><td class="text" style="color: #7070d5">Ah, gotcha.&nbsp;&nbsp;But at any rate it's answered; doing the bitbake-layers show-recipes | grep image does the trick.</td><td class="time"><a href="#t2020-03-05T20:06:18" class="time">20:06</a></td></tr>
<tr id="t2020-03-05T20:06:35"><th class="nick" style="background: #7070d5">sheelba</th><td class="text" style="color: #7070d5">Most of the trick, that is-- enough of what *I* need.&nbsp;&nbsp;:)</td><td class="time"><a href="#t2020-03-05T20:06:35" class="time">20:06</a></td></tr>
<tr id="t2020-03-05T20:07:51"><th class="nick" style="background: #7070d5">sheelba</th><td class="text" style="color: #7070d5">But yeah, image 'type' should be that set of sdimg, wic, tar.gz, that sort of thing if I understand correctly.</td><td class="time"><a href="#t2020-03-05T20:07:51" class="time">20:07</a></td></tr>
<tr id="t2020-03-05T20:08:12"><th class="nick" style="background: #5959a9">LetoThe2nd</th><td class="text" style="color: #5959a9">sheelba: exactly, thats what an image type is in OE</td><td class="time"><a href="#t2020-03-05T20:08:12" class="time">20:08</a></td></tr>
<tr id="t2020-03-05T23:41:17"><th class="nick" style="background: #d9d972">mrc3</th><td class="text" style="color: #d9d972">jonmason, where can i send patches to for meta-arm?</td><td class="time"><a href="#t2020-03-05T23:41:17" class="time">23:41</a></td></tr>
<tr id="t2020-03-05T23:49:46"><th class="nick" style="background: #62bb62">smurray</th><td class="text" style="color: #62bb62">mrc3: there's a mailing list for it hosted on lists.yoctoproject.org, probably there</td><td class="time"><a href="#t2020-03-05T23:49:46" class="time">23:49</a></td></tr>
<tr id="t2020-03-05T23:50:01"><th class="nick" style="background: #d9d972">mrc3</th><td class="text" style="color: #d9d972">thanks!</td><td class="time"><a href="#t2020-03-05T23:50:01" class="time">23:50</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2020-03-04.log.html">&#171; Wednesday, 2020-03-04</a> <a href="index.html">Index</a> <a href="%23yocto.2020-03-06.log.html">Friday, 2020-03-06 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.11.0 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="http://mg.pov.lt/irclog2html/">mg.pov.lt</a>!</p>
</div>
</body>
</html>
