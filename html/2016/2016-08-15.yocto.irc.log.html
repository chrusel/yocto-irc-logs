<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Monday, 2016-08-15</title>
  <link rel="stylesheet" href="irclog.css" />
  <meta name="generator" content="irclog2html.py 2.11.0 by Marius Gedminas" />
  <meta name="version" content="2.11.0 - 2012-07-30" />
</head>
<body>
<h1>Monday, 2016-08-15</h1>
<div class="navigation"> <a href="%23yocto.2016-08-14.log.html">&#171; Sunday, 2016-08-14</a> <a href="index.html">Index</a> <a href="%23yocto.2016-08-16.log.html">Tuesday, 2016-08-16 &#187;</a> </div>
<table class="irclog">
<tr id="t2016-08-15T05:12:46"><th class="nick" style="background: #407a40">khem</th><td class="text" style="color: #407a40">whats TERM set to</td><td class="time"><a href="#t2016-08-15T05:12:46" class="time">05:12</a></td></tr>
<tr id="t2016-08-15T05:13:02"><th class="nick" style="background: #407a40">khem</th><td class="text" style="color: #407a40">usually its a problem with virtual terminals</td><td class="time"><a href="#t2016-08-15T05:13:02" class="time">05:13</a></td></tr>
<tr id="t2016-08-15T05:13:10"><th class="nick" style="background: #407a40">khem</th><td class="text" style="color: #407a40">does it work with screen ?</td><td class="time"><a href="#t2016-08-15T05:13:10" class="time">05:13</a></td></tr>
<tr id="t2016-08-15T07:41:30"><th class="nick" style="background: #42427e">CTtpollard</th><td class="text" style="color: #42427e">is it possible to do_install_append_$machine ?</td><td class="time"><a href="#t2016-08-15T07:41:30" class="time">07:41</a></td></tr>
<tr id="t2016-08-15T08:06:47"><th class="nick" style="background: #42427e">CTtpollard</th><td class="text" style="color: #42427e">also, it's possible to use sed in do_install commands right?</td><td class="time"><a href="#t2016-08-15T08:06:47" class="time">08:06</a></td></tr>
<tr id="t2016-08-15T08:13:50"><th class="nick" style="background: #42427e">CTtpollard</th><td class="text" style="color: #42427e">seds claiming the file doe not exist at the given path in the sysroot, but it does</td><td class="time"><a href="#t2016-08-15T08:13:50" class="time">08:13</a></td></tr>
<tr id="t2016-08-15T09:04:19"><th class="nick" style="background: #818144">jubr</th><td class="text" style="color: #818144">iskander: `echo $TERM`, then maybe `export TERM=linux` or `export TERM=xterm`</td><td class="time"><a href="#t2016-08-15T09:04:19" class="time">09:04</a></td></tr>
<tr id="t2016-08-15T11:26:30"><td class="nickchange" colspan="2">*** jku is now known as Guest73867</td><td><a href="#t2016-08-15T11:26:30" class="time">11:26</a></td></tr>
<tr id="t2016-08-15T12:02:46"><th class="nick" style="background: #854685">visaev</th><td class="text" style="color: #854685">jubr, it is still not working</td><td class="time"><a href="#t2016-08-15T12:02:46" class="time">12:02</a></td></tr>
<tr id="t2016-08-15T12:02:52"><th class="nick" style="background: #854685">visaev</th><td class="text" style="color: #854685">tried both</td><td class="time"><a href="#t2016-08-15T12:02:52" class="time">12:02</a></td></tr>
<tr id="t2016-08-15T12:03:19"><th class="nick" style="background: #854685">visaev</th><td class="text" style="color: #854685">make: *** No rule to make target `menuconfig'.&nbsp;&nbsp;Stop.</td><td class="time"><a href="#t2016-08-15T12:03:19" class="time">12:03</a></td></tr>
<tr id="t2016-08-15T12:03:20"><th class="nick" style="background: #854685">visaev</th><td class="text" style="color: #854685">Command failed.</td><td class="time"><a href="#t2016-08-15T12:03:20" class="time">12:03</a></td></tr>
<tr id="t2016-08-15T12:03:21"><th class="nick" style="background: #854685">visaev</th><td class="text" style="color: #854685">Press any key to continue...</td><td class="time"><a href="#t2016-08-15T12:03:21" class="time">12:03</a></td></tr>
<tr id="t2016-08-15T13:38:52"><th class="nick" style="background: #488888">tobias_</th><td class="text" style="color: #488888">anyone have some experience with HP ProDesk 600 G2 mini ? i cant get it to boot. It runs the installer but after its done and reboots it prints "efi: requested map not found"</td><td class="time"><a href="#t2016-08-15T13:38:52" class="time">13:38</a></td></tr>
<tr id="t2016-08-15T14:36:03"><th class="nick" style="background: #8c4a4a">sveinse</th><td class="text" style="color: #8c4a4a">Are there any benefits from letting multiple yocto trees, versions and machines use the same sstate cache? E.g. building for ARM vs Intel. Or one build building for jethro while another is building krogoth.</td><td class="time"><a href="#t2016-08-15T14:36:03" class="time">14:36</a></td></tr>
<tr id="t2016-08-15T14:37:06"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">yes. particularly in the former case. many 'native' recipes are built, which target the build machine. those are teh same between MACHINEs</td><td class="time"><a href="#t2016-08-15T14:37:06" class="time">14:37</a></td></tr>
<tr id="t2016-08-15T14:39:02"><th class="nick" style="background: #42427e">CTtpollard</th><td class="text" style="color: #42427e">+1, althought may not be quite as usual across different releases, but certainly targets</td><td class="time"><a href="#t2016-08-15T14:39:02" class="time">14:39</a></td></tr>
<tr id="t2016-08-15T14:40:10"><th class="nick" style="background: #8c4a4a">sveinse</th><td class="text" style="color: #8c4a4a">How do you share sstate across multiple users? I mean, do you allow all users to contribute to the common sstate? Or do you only generate it from a controlled build, like a build server?</td><td class="time"><a href="#t2016-08-15T14:40:10" class="time">14:40</a></td></tr>
<tr id="t2016-08-15T14:40:25"><th class="nick" style="background: #8c4a4a">sveinse</th><td class="text" style="color: #8c4a4a">Do you allow it grow indefinitely?</td><td class="time"><a href="#t2016-08-15T14:40:25" class="time">14:40</a></td></tr>
<tr id="t2016-08-15T14:41:51"><th class="nick" style="background: #8c4a4a">sveinse</th><td class="text" style="color: #8c4a4a">NFS is the only scheme that can be used that provides a two-way update of the remote sstate cache?</td><td class="time"><a href="#t2016-08-15T14:41:51" class="time">14:41</a></td></tr>
<tr id="t2016-08-15T14:45:06"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">sveinse: that's really up to you</td><td class="time"><a href="#t2016-08-15T14:45:06" class="time">14:45</a></td></tr>
<tr id="t2016-08-15T14:45:27"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">we control our sstate size by removing files based on access time. i.e. nothing has used the file in over a week, gone</td><td class="time"><a href="#t2016-08-15T14:45:27" class="time">14:45</a></td></tr>
<tr id="t2016-08-15T14:49:29"><th class="nick" style="background: #8c4a4a">sveinse</th><td class="text" style="color: #8c4a4a">kergoth: Ah, that's a pretty smart way of managing it. (Yet this is the first time in years I've heard a use case for atime)</td><td class="time"><a href="#t2016-08-15T14:49:29" class="time">14:49</a></td></tr>
<tr id="t2016-08-15T14:51:10"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">:) yeah, i've used it both for yocto downloads and sstate, and it's about the only time i've used it too</td><td class="time"><a href="#t2016-08-15T14:51:10" class="time">14:51</a></td></tr>
<tr id="t2016-08-15T14:51:54"><th class="nick" style="background: #8c4a4a">sveinse</th><td class="text" style="color: #8c4a4a">how do you share to the users?</td><td class="time"><a href="#t2016-08-15T14:51:54" class="time">14:51</a></td></tr>
<tr id="t2016-08-15T14:52:07"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">that depends</td><td class="time"><a href="#t2016-08-15T14:52:07" class="time">14:52</a></td></tr>
<tr id="t2016-08-15T14:52:33"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">at my company, we update our sstate on an internal server from our automated builds with rsync and share that via http, and have a cron job on that server for the atime cleanup</td><td class="time"><a href="#t2016-08-15T14:52:33" class="time">14:52</a></td></tr>
<tr id="t2016-08-15T14:52:38"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">same with downloads</td><td class="time"><a href="#t2016-08-15T14:52:38" class="time">14:52</a></td></tr>
<tr id="t2016-08-15T14:52:41"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">note that sstate over NFS is good at exposing bad NFS servers</td><td class="time"><a href="#t2016-08-15T14:52:41" class="time">14:52</a></td></tr>
<tr id="t2016-08-15T14:52:48"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">hah, indeed</td><td class="time"><a href="#t2016-08-15T14:52:48" class="time">14:52</a></td></tr>
<tr id="t2016-08-15T14:55:28"><th class="nick" style="background: #8c4a4a">sveinse</th><td class="text" style="color: #8c4a4a">Many of our devs are remote, so VPN is being used, with NFS begin tricky at best. So I think we'll settle at http.</td><td class="time"><a href="#t2016-08-15T14:55:28" class="time">14:55</a></td></tr>
<tr id="t2016-08-15T14:56:08"><th class="nick" style="background: #8c4a4a">sveinse</th><td class="text" style="color: #8c4a4a">To my understanding that will build up a local sstate cache with what has been downloaded and what has been generated locally, right? So I could make a script that rsync back from the user's local sstate to the server sstate cache, and thus providing to the sstate pool?</td><td class="time"><a href="#t2016-08-15T14:56:08" class="time">14:56</a></td></tr>
<tr id="t2016-08-15T14:56:26"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">or do a nightly automated build to populate the cache</td><td class="time"><a href="#t2016-08-15T14:56:26" class="time">14:56</a></td></tr>
<tr id="t2016-08-15T14:58:49"><th class="nick" style="background: #8c4a4a">sveinse</th><td class="text" style="color: #8c4a4a">rburton: yeah, for those builds that are "mainline". However, like now, where I'm experimenting with new BSPs and Yocto version. At the start of this conversation it was said that there are advantages to share sstate caches across such changes. And there are multiple devs working on these experiments, so sharing is a great way of doing this</td><td class="time"><a href="#t2016-08-15T14:58:49" class="time">14:58</a></td></tr>
<tr id="t2016-08-15T14:59:15"><th class="nick" style="background: #8c4a4a">sveinse</th><td class="text" style="color: #8c4a4a">(But we might consider multiple sstate caches for the different development stages)</td><td class="time"><a href="#t2016-08-15T14:59:15" class="time">14:59</a></td></tr>
<tr id="t2016-08-15T15:04:45"><th class="nick" style="background: #8c4a4a">sveinse</th><td class="text" style="color: #8c4a4a">(this is going to be interesting: Storing sstate cache on a NTFS fs... Windows runs into corners when ':' are encountered)</td><td class="time"><a href="#t2016-08-15T15:04:45" class="time">15:04</a></td></tr>
<tr id="t2016-08-15T15:05:20"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">not sure we support sstate on ntfs</td><td class="time"><a href="#t2016-08-15T15:05:20" class="time">15:05</a></td></tr>
<tr id="t2016-08-15T15:05:32"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">can you even create a file with : in on ntfs?</td><td class="time"><a href="#t2016-08-15T15:05:32" class="time">15:05</a></td></tr>
<tr id="t2016-08-15T15:06:47"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">khem: <a href="http://errors.yoctoproject.org/Errors/Details/74601/" rel="nofollow">http://errors.yoctoproject.org/Errors/Details/74601/</a> &lt;â€” thoughts?</td><td class="time"><a href="#t2016-08-15T15:06:47" class="time">15:06</a></td></tr>
<tr id="t2016-08-15T15:07:30"><th class="nick" style="background: #8c4a4a">sveinse</th><td class="text" style="color: #8c4a4a">rburton: I'm out of disk space -- again -- and I'm syncing sstate-cache to a small USB3 drive I have with NTFS. It seems ubuntu's fusefs is happy with it. Let's see how it goes</td><td class="time"><a href="#t2016-08-15T15:07:30" class="time">15:07</a></td></tr>
<tr id="t2016-08-15T15:09:08"><th class="nick" style="background: #97974f">dl9pf</th><td class="text" style="color: #97974f">How do I workaround (INSANE_SKIP):&nbsp;&nbsp; QA Issue: libXYZ.la failed sanity test (workdir) in path [....]sysroot-destdir/usr/lib [la]</td><td class="time"><a href="#t2016-08-15T15:09:08" class="time">15:09</a></td></tr>
<tr id="t2016-08-15T15:10:28"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">dfrey: well one fix is to delete the .la files as they're pointless and cause problems like this.</td><td class="time"><a href="#t2016-08-15T15:10:28" class="time">15:10</a></td></tr>
<tr id="t2016-08-15T15:10:51"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">we just rsync from our automated builds to populate the cache for engineers to use, and don't share sstate for changes not in mainline, here. sstate can bloat up awfully fast with every little local change you're making.</td><td class="time"><a href="#t2016-08-15T15:10:51" class="time">15:10</a></td></tr>
<tr id="t2016-08-15T15:11:06"><th class="nick" style="background: #9b519b">nisha</th><td class="text" style="color: #9b519b">hello! is there any way I can have a recipe point to a local git repo rather than a remote one?</td><td class="time"><a href="#t2016-08-15T15:11:06" class="time">15:11</a></td></tr>
<tr id="t2016-08-15T15:11:34"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">nisha: either use externalsrc or a file: url. i.e. git:///some/local/path;protocol=file</td><td class="time"><a href="#t2016-08-15T15:11:34" class="time">15:11</a></td></tr>
<tr id="t2016-08-15T15:11:41"><th class="nick" style="background: #97974f">dl9pf</th><td class="text" style="color: #97974f">rburton: roger that, I'll add that to the recipe. Now how can I workaround it for the build with INSANE_SKIP ?</td><td class="time"><a href="#t2016-08-15T15:11:41" class="time">15:11</a></td></tr>
<tr id="t2016-08-15T15:11:45"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">that'll pass file:///some/local/path to the git-clone</td><td class="time"><a href="#t2016-08-15T15:11:45" class="time">15:11</a></td></tr>
<tr id="t2016-08-15T15:12:08"><th class="nick" style="background: #9b519b">nisha</th><td class="text" style="color: #9b519b">kergoth, thanks! I'll try that</td><td class="time"><a href="#t2016-08-15T15:12:08" class="time">15:12</a></td></tr>
<tr id="t2016-08-15T15:12:24"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">dl9pf: well if you delete the file it can't trigger the sanity check</td><td class="time"><a href="#t2016-08-15T15:12:24" class="time">15:12</a></td></tr>
<tr id="t2016-08-15T15:12:40"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">you want to fix it as otherwise you've a way of breaking future builds</td><td class="time"><a href="#t2016-08-15T15:12:40" class="time">15:12</a></td></tr>
<tr id="t2016-08-15T15:12:45"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">(which is why the check exists)</td><td class="time"><a href="#t2016-08-15T15:12:45" class="time">15:12</a></td></tr>
<tr id="t2016-08-15T15:13:35"><th class="nick" style="background: #97974f">dl9pf</th><td class="text" style="color: #97974f">rburton: yes the fix will be done (rm .la) - for the moment I need to build to proceed, so I can find the other failing stuff</td><td class="time"><a href="#t2016-08-15T15:13:35" class="time">15:13</a></td></tr>
<tr id="t2016-08-15T15:14:10"><th class="nick" style="background: #8c4a4a">sveinse</th><td class="text" style="color: #8c4a4a">rburton: Just unplugged my NTFS drive with sstate cache and plugged it into windows. It seems to be intact. That is I see the files, but I can't read them.</td><td class="time"><a href="#t2016-08-15T15:14:10" class="time">15:14</a></td></tr>
<tr id="t2016-08-15T15:14:52"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">dl9pf: INSANE_SKIP_(package) += "workdir" iirc.&nbsp;&nbsp;but if you're editing the recipe then just throw in a rm</td><td class="time"><a href="#t2016-08-15T15:14:52" class="time">15:14</a></td></tr>
<tr id="t2016-08-15T15:15:14"><th class="nick" style="background: #8c4a4a">sveinse</th><td class="text" style="color: #8c4a4a">I had a suspicion that that would happen. NTFS is a fairly agnostic file system in this respect. Its windows GUI which is croaking on "invalid" filenames</td><td class="time"><a href="#t2016-08-15T15:15:14" class="time">15:15</a></td></tr>
<tr id="t2016-08-15T15:15:28"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">sveinse: ah interesting</td><td class="time"><a href="#t2016-08-15T15:15:28" class="time">15:15</a></td></tr>
<tr id="t2016-08-15T15:15:42"><th class="nick" style="background: #8c4a4a">sveinse</th><td class="text" style="color: #8c4a4a">NTFS even have symlinks. Windows don't use it, themselves thou</td><td class="time"><a href="#t2016-08-15T15:15:42" class="time">15:15</a></td></tr>
<tr id="t2016-08-15T15:15:58"><th class="nick" style="background: #97974f">dl9pf</th><td class="text" style="color: #97974f">rburton: tnx. I'll have to poke the recipe maintainer.</td><td class="time"><a href="#t2016-08-15T15:15:58" class="time">15:15</a></td></tr>
<tr id="t2016-08-15T15:18:06"><th class="nick" style="background: #9b519b">nisha</th><td class="text" style="color: #9b519b">kergoth, I get an error: Failed to fetch URL git:///path/to/local/repo;protocol=file</td><td class="time"><a href="#t2016-08-15T15:18:06" class="time">15:18</a></td></tr>
<tr id="t2016-08-15T15:18:23"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">insufficient information. check the do_fetch log file</td><td class="time"><a href="#t2016-08-15T15:18:23" class="time">15:18</a></td></tr>
<tr id="t2016-08-15T15:21:50"><th class="nick" style="background: #9b519b">nisha</th><td class="text" style="color: #9b519b">hmm...not sure why it is doing this: DEBUG: For url git:///home/nisha/work/cascadia/dlt-daemon;protocol=file returning <a href="http://downloads.yoctoproject.org/mirror/sources/git2_home.nisha.work.cascadia.dlt-daemon.tar.gz" rel="nofollow">http://downloads.yoctoproject.org/mirror/sources/git2_home.nisha.work.cascadia.dlt-daemon.tar.gz</a></td><td class="time"><a href="#t2016-08-15T15:21:50" class="time">15:21</a></td></tr>
<tr id="t2016-08-15T15:22:32"><th class="nick" style="background: #9b519b">nisha</th><td class="text" style="color: #9b519b">so it's looking for a tarball?</td><td class="time"><a href="#t2016-08-15T15:22:32" class="time">15:22</a></td></tr>
<tr id="t2016-08-15T15:41:51"><th class="nick" style="background: #8c4a4a">sveinse</th><td class="text" style="color: #8c4a4a">I keep getting "fatal: Not a git repository (or any parent up to mount point /home)" multiple times while building an image. How can I track down which recipe generate this?</td><td class="time"><a href="#t2016-08-15T15:41:51" class="time">15:41</a></td></tr>
<tr id="t2016-08-15T15:51:51"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">sveinse: i've seen older pulseaudio releases do that but we patch that out of them now</td><td class="time"><a href="#t2016-08-15T15:51:51" class="time">15:51</a></td></tr>
<tr id="t2016-08-15T15:52:24"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">you could enable kernel auditing and get a trace of file access for /home/.git/</td><td class="time"><a href="#t2016-08-15T15:52:24" class="time">15:52</a></td></tr>
<tr id="t2016-08-15T15:57:21"><th class="nick" style="background: #539e9e">billr</th><td class="text" style="color: #539e9e">svense: I've seen that before when the git repo bb is trying to access is not on the same filesystem as the build directory. E.g., it's symlinked to someplace else or it's on a bin-mount fs.</td><td class="time"><a href="#t2016-08-15T15:57:21" class="time">15:57</a></td></tr>
<tr id="t2016-08-15T16:06:27"><th class="nick" style="background: #8c4a4a">sveinse</th><td class="text" style="color: #8c4a4a">rburton: Good idea -- My knowledge of kernel tracing is limited, but we can assume that is's the git executable accessing .git, can't we? And the parent process to git is bitbake isn't it?</td><td class="time"><a href="#t2016-08-15T16:06:27" class="time">16:06</a></td></tr>
<tr id="t2016-08-15T16:09:08"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">its quite possibly a configure.ac trying to determine if its in a git clone to mark the version, or something</td><td class="time"><a href="#t2016-08-15T16:09:08" class="time">16:09</a></td></tr>
<tr id="t2016-08-15T16:14:32"><th class="nick" style="background: #818144">jubr</th><td class="text" style="color: #818144">sveinse: BB_NUMBER_THREADS = '1' with a `bitbake $image-recipe | cat -` will give you nice sequential output - it skips the fancy rendering</td><td class="time"><a href="#t2016-08-15T16:14:32" class="time">16:14</a></td></tr>
<tr id="t2016-08-15T16:17:33"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">you could grep the cooker log to see if the message ended up in there, and if it did work out what tasks were active at the time</td><td class="time"><a href="#t2016-08-15T16:17:33" class="time">16:17</a></td></tr>
<tr id="t2016-08-15T16:21:30"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">cat - is redundant, fyi, cat reads from stdin and writes to stdout&nbsp;&nbsp;by default</td><td class="time"><a href="#t2016-08-15T16:21:30" class="time">16:21</a></td></tr>
<tr id="t2016-08-15T16:21:33"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">just | cat will do</td><td class="time"><a href="#t2016-08-15T16:21:33" class="time">16:21</a></td></tr>
<tr id="t2016-08-15T16:21:35"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">:)</td><td class="time"><a href="#t2016-08-15T16:21:35" class="time">16:21</a></td></tr>
<tr id="t2016-08-15T16:25:47"><td class="action" colspan="2">* jubr could pretend he borked his copy-paste of `| cat -n` -- but he won't :)</td><td><a href="#t2016-08-15T16:25:47" class="time">16:25</a></td></tr>
<tr id="t2016-08-15T16:26:12"><th class="nick" style="background: #818144">jubr</th><td class="text" style="color: #818144">tnx for the tip!</td><td class="time"><a href="#t2016-08-15T16:26:12" class="time">16:26</a></td></tr>
<tr id="t2016-08-15T16:30:46"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">:)</td><td class="time"><a href="#t2016-08-15T16:30:46" class="time">16:30</a></td></tr>
<tr id="t2016-08-15T16:31:58"><th class="nick" style="background: #a25555">AgentElrond</th><td class="text" style="color: #a25555">I'm having a Yocto problem on Debian.&nbsp;&nbsp;I'm fairly new to Yocto so I'm ignorant of many things, but I've been told that there are "virtual" names in some places for packages, of the form "virtual/whatever"</td><td class="time"><a href="#t2016-08-15T16:31:58" class="time">16:31</a></td></tr>
<tr id="t2016-08-15T16:32:32"><th class="nick" style="background: #a25555">AgentElrond</th><td class="text" style="color: #a25555">For some reason, the Yocto build I'm attempting, with Debian package generation, is generating a DEBIAN/control file that still includes the full "virtual/whatever" in the package name.</td><td class="time"><a href="#t2016-08-15T16:32:32" class="time">16:32</a></td></tr>
<tr id="t2016-08-15T16:32:45"><th class="nick" style="background: #a25555">AgentElrond</th><td class="text" style="color: #a25555">Because '/' is an invalid character for a package name, this fails the build immediately</td><td class="time"><a href="#t2016-08-15T16:32:45" class="time">16:32</a></td></tr>
<tr id="t2016-08-15T16:32:58"><th class="nick" style="background: #a25555">AgentElrond</th><td class="text" style="color: #a25555">Any ideas what I might be missing would be appreciated!</td><td class="time"><a href="#t2016-08-15T16:32:58" class="time">16:32</a></td></tr>
<tr id="t2016-08-15T16:33:10"><th class="nick" style="background: #a25555">AgentElrond</th><td class="text" style="color: #a25555">This is Yocto-2.0.1 for reference.</td><td class="time"><a href="#t2016-08-15T16:33:10" class="time">16:33</a></td></tr>
<tr id="t2016-08-15T16:42:59"><th class="nick" style="background: #818144">jubr</th><td class="text" style="color: #818144">AgentElrond: I recall you doing a `bitbake -c menuconfig virtual/kernel`, can you try if using the real recipe would help? Probably something like `linux-$machine`</td><td class="time"><a href="#t2016-08-15T16:42:59" class="time">16:42</a></td></tr>
<tr id="t2016-08-15T16:44:52"><th class="nick" style="background: #a25555">AgentElrond</th><td class="text" style="color: #a25555">jubr:&nbsp;&nbsp;I haven't used menuconfig or any "virtual/whatever" in the command-line.&nbsp;&nbsp;I have just used "bitbake overall-package-whatever"</td><td class="time"><a href="#t2016-08-15T16:44:52" class="time">16:44</a></td></tr>
<tr id="t2016-08-15T16:52:04"><th class="nick" style="background: #a25555">AgentElrond</th><td class="text" style="color: #a25555">This is similar to what I'm seeing:&nbsp;&nbsp;<a href="https://community.nxp.com/thread/394705" rel="nofollow">https://community.nxp.com/thread/394705</a></td><td class="time"><a href="#t2016-08-15T16:52:04" class="time">16:52</a></td></tr>
<tr id="t2016-08-15T16:56:37"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">AgentElrond: i think that was a bug in the recipes, virtual/ shouldn't be used in target packages.&nbsp;&nbsp;meta-oe had some fixes for that.</td><td class="time"><a href="#t2016-08-15T16:56:37" class="time">16:56</a></td></tr>
<tr id="t2016-08-15T16:56:52"><th class="nick" style="background: #a25555">AgentElrond</th><td class="text" style="color: #a25555">This is even closer to what I see.&nbsp;&nbsp;<a href="https://github.com/imyller/meta-nodejs/issues/3" rel="nofollow">https://github.com/imyller/meta-nodejs/issues/3</a></td><td class="time"><a href="#t2016-08-15T16:56:52" class="time">16:56</a></td></tr>
<tr id="t2016-08-15T16:57:22"><th class="nick" style="background: #a25555">AgentElrond</th><td class="text" style="color: #a25555">RPROVIDES specifically seems to be the line that causes issues with virtual/ for do_package_write_deb</td><td class="time"><a href="#t2016-08-15T16:57:22" class="time">16:57</a></td></tr>
<tr id="t2016-08-15T16:58:21"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">basically recipes shouldn't be using /&nbsp;&nbsp;in target names as dpkg doesn't like them</td><td class="time"><a href="#t2016-08-15T16:58:21" class="time">16:58</a></td></tr>
<tr id="t2016-08-15T16:58:28"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">unfortuntately nobody actually tests with dpkg</td><td class="time"><a href="#t2016-08-15T16:58:28" class="time">16:58</a></td></tr>
<tr id="t2016-08-15T16:58:42"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">because 99% of people use rpm or opkg, which don't object as much</td><td class="time"><a href="#t2016-08-15T16:58:42" class="time">16:58</a></td></tr>
<tr id="t2016-08-15T16:59:05"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">so my recommendation is "use opkg or rpm", followed by fix the recipes to not use virtual/ in target package names</td><td class="time"><a href="#t2016-08-15T16:59:05" class="time">16:59</a></td></tr>
<tr id="t2016-08-15T16:59:15"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">as build-time PROVIDES/DEPENDS its fine</td><td class="time"><a href="#t2016-08-15T16:59:15" class="time">16:59</a></td></tr>
<tr id="t2016-08-15T16:59:31"><th class="nick" style="background: #a25555">AgentElrond</th><td class="text" style="color: #a25555">Noted :)</td><td class="time"><a href="#t2016-08-15T16:59:31" class="time">16:59</a></td></tr>
<tr id="t2016-08-15T16:59:42"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">definitely stop using / in package names anyway</td><td class="time"><a href="#t2016-08-15T16:59:42" class="time">16:59</a></td></tr>
<tr id="t2016-08-15T16:59:48"><th class="nick" style="background: #a25555">AgentElrond</th><td class="text" style="color: #a25555">Would fixing the RPROVIDES line be a likely solution, or is it going to be more trouble than it's worth?</td><td class="time"><a href="#t2016-08-15T16:59:48" class="time">16:59</a></td></tr>
<tr id="t2016-08-15T17:00:00"><th class="nick" style="background: #4d4d93">rburton</th><td class="text" style="color: #4d4d93">its *the* fix</td><td class="time"><a href="#t2016-08-15T17:00:00" class="time">17:00</a></td></tr>
<tr id="t2016-08-15T17:00:11"><th class="nick" style="background: #a25555">AgentElrond</th><td class="text" style="color: #a25555">Thanks again, sorry about the spam</td><td class="time"><a href="#t2016-08-15T17:00:11" class="time">17:00</a></td></tr>
<tr id="t2016-08-15T17:01:55"><th class="nick" style="background: #57a657">stwcx</th><td class="text" style="color: #57a657">rburton: Does PROVIDES solves RDEPENDS needs?</td><td class="time"><a href="#t2016-08-15T17:01:55" class="time">17:01</a></td></tr>
<tr id="t2016-08-15T17:02:24"><th class="nick" style="background: #57a657">stwcx</th><td class="text" style="color: #57a657">Package A RDEPENDS on virtual/foo.&nbsp;&nbsp;Package B PROVIDES virtual/foo?</td><td class="time"><a href="#t2016-08-15T17:02:24" class="time">17:02</a></td></tr>
<tr id="t2016-08-15T17:02:40"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">no</td><td class="time"><a href="#t2016-08-15T17:02:40" class="time">17:02</a></td></tr>
<tr id="t2016-08-15T17:02:54"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">provides/depends are build time, rprovides/rdepends are run time. two en tirely different namespaces</td><td class="time"><a href="#t2016-08-15T17:02:54" class="time">17:02</a></td></tr>
<tr id="t2016-08-15T17:03:11"><th class="nick" style="background: #57a657">stwcx</th><td class="text" style="color: #57a657">So how do you solve the RDEPENDS without using a slash?</td><td class="time"><a href="#t2016-08-15T17:03:11" class="time">17:03</a></td></tr>
<tr id="t2016-08-15T17:04:03"><th class="nick" style="background: #8c4a4a">sveinse</th><td class="text" style="color: #8c4a4a">yocto has some notable differences from Debian package building</td><td class="time"><a href="#t2016-08-15T17:04:03" class="time">17:04</a></td></tr>
<tr id="t2016-08-15T17:05:02"><th class="nick" style="background: #a25555">AgentElrond</th><td class="text" style="color: #a25555">stwcx:&nbsp;&nbsp;Perhaps a package RDEPENDS on a name without a slash, e.g. YOUR_PREFIX_package?</td><td class="time"><a href="#t2016-08-15T17:05:02" class="time">17:05</a></td></tr>
<tr id="t2016-08-15T17:06:16"><th class="nick" style="background: #57a657">stwcx</th><td class="text" style="color: #57a657">AgentElrond: The point of virtual is to be able to abstract a concept though.&nbsp;&nbsp;A package can need virtual/foo and multiple packages can satisify virtual/foo in their own wa.</td><td class="time"><a href="#t2016-08-15T17:06:16" class="time">17:06</a></td></tr>
<tr id="t2016-08-15T17:06:17"><th class="nick" style="background: #57a657">stwcx</th><td class="text" style="color: #57a657">y</td><td class="time"><a href="#t2016-08-15T17:06:17" class="time">17:06</a></td></tr>
<tr id="t2016-08-15T17:07:01"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">either use VIRTUAL-RUNTIME, which is a way of selecting runtime packages using build time variables rather than selection at the package manager level, or use rprovides/rdepends without a /</td><td class="time"><a href="#t2016-08-15T17:07:01" class="time">17:07</a></td></tr>
<tr id="t2016-08-15T17:07:11"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">virtual/ is just a convention anyway, your virtaul package name can be anything</td><td class="time"><a href="#t2016-08-15T17:07:11" class="time">17:07</a></td></tr>
<tr id="t2016-08-15T17:07:14"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">call it 'blah' for all we care</td><td class="time"><a href="#t2016-08-15T17:07:14" class="time">17:07</a></td></tr>
<tr id="t2016-08-15T17:07:26"><th class="nick" style="background: #57a657">stwcx</th><td class="text" style="color: #57a657">virtual/ssl is an example on some systems because openssl and libressl both provide the same functionality.</td><td class="time"><a href="#t2016-08-15T17:07:26" class="time">17:07</a></td></tr>
<tr id="t2016-08-15T17:07:37"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">so call it virtual-ssl and move on</td><td class="time"><a href="#t2016-08-15T17:07:37" class="time">17:07</a></td></tr>
<tr id="t2016-08-15T17:07:38"><th class="nick" style="background: #57a657">stwcx</th><td class="text" style="color: #57a657">kergoth: With that in mind, is there any reason for them to not be virtual-foo ?</td><td class="time"><a href="#t2016-08-15T17:07:38" class="time">17:07</a></td></tr>
<tr id="t2016-08-15T17:07:42"><th class="nick" style="background: #57a657">stwcx</th><td class="text" style="color: #57a657">;)&nbsp;&nbsp;Ok.</td><td class="time"><a href="#t2016-08-15T17:07:42" class="time">17:07</a></td></tr>
<tr id="t2016-08-15T17:07:47"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">again, the name can be anything the package manager supports</td><td class="time"><a href="#t2016-08-15T17:07:47" class="time">17:07</a></td></tr>
<tr id="t2016-08-15T17:07:51"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">virtual/ is a convention, that's all</td><td class="time"><a href="#t2016-08-15T17:07:51" class="time">17:07</a></td></tr>
<tr id="t2016-08-15T17:08:00"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">and a convention only for build time at that</td><td class="time"><a href="#t2016-08-15T17:08:00" class="time">17:08</a></td></tr>
<tr id="t2016-08-15T17:08:12"><th class="nick" style="background: #57a657">stwcx</th><td class="text" style="color: #57a657">kergoth: I wasn't sure if Yocto has anything special for virtual/.&nbsp;&nbsp;I do see that in a few .py files when I do a grep.</td><td class="time"><a href="#t2016-08-15T17:08:12" class="time">17:08</a></td></tr>
<tr id="t2016-08-15T17:08:40"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">there are a couple bits primarily to strip off or add back the prefix, when our bbclasses mangle the name</td><td class="time"><a href="#t2016-08-15T17:08:40" class="time">17:08</a></td></tr>
<tr id="t2016-08-15T17:08:53"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">so e.g. it ends up virtual/nativesdk-foo, not nativesdk-virtual/foo</td><td class="time"><a href="#t2016-08-15T17:08:53" class="time">17:08</a></td></tr>
<tr id="t2016-08-15T17:08:55"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">minor stuff</td><td class="time"><a href="#t2016-08-15T17:08:55" class="time">17:08</a></td></tr>
<tr id="t2016-08-15T17:09:14"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">can't think of much else off the top of my head, but maybe there's other bits. hopefully not</td><td class="time"><a href="#t2016-08-15T17:09:14" class="time">17:09</a></td></tr>
<tr id="t2016-08-15T17:10:29"><th class="nick" style="background: #57a657">stwcx</th><td class="text" style="color: #57a657">kergoth: There is a little bit of stuff in lib/bb/providers.py and lib/bb/runqueue.py.&nbsp;&nbsp;runqueue.py looks the most interesting.</td><td class="time"><a href="#t2016-08-15T17:10:29" class="time">17:10</a></td></tr>
<tr id="t2016-08-15T17:10:44"><th class="nick" style="background: #57a657">stwcx</th><td class="text" style="color: #57a657">Looks like it creates a special log file of those virtual lookups.</td><td class="time"><a href="#t2016-08-15T17:10:44" class="time">17:10</a></td></tr>
<tr id="t2016-08-15T17:11:16"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">sounds questionable, it should be able to identify cases where multiple recipes provide the same thing and use that, but i could be missing something</td><td class="time"><a href="#t2016-08-15T17:11:16" class="time">17:11</a></td></tr>
<tr id="t2016-08-15T17:11:18"><td class="action" colspan="2">* kergoth shrugs</td><td><a href="#t2016-08-15T17:11:18" class="time">17:11</a></td></tr>
<tr id="t2016-08-15T17:30:29"><td class="part" colspan="2">*** aehs29 &lt;aehs29!~aehernan@134.134.139.76&gt; has left #yocto</td><td><a href="#t2016-08-15T17:30:29" class="time">17:30</a></td></tr>
<tr id="t2016-08-15T17:53:05"><th class="nick" style="background: #8c4a4a">sveinse</th><td class="text" style="color: #8c4a4a">How do I resolve a dependency loop? I got a large printout of two identified loops, but I have to admit I have problems seeing where the loop is</td><td class="time"><a href="#t2016-08-15T17:53:05" class="time">17:53</a></td></tr>
<tr id="t2016-08-15T17:53:28"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">good question, everybody has that problem :)</td><td class="time"><a href="#t2016-08-15T17:53:28" class="time">17:53</a></td></tr>
<tr id="t2016-08-15T17:53:44"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">the info is better than nothing, but it's still a lot of troubleshooting and manual digging into the recipes mentioned</td><td class="time"><a href="#t2016-08-15T17:53:44" class="time">17:53</a></td></tr>
<tr id="t2016-08-15T17:54:06"><th class="nick" style="background: #8c4a4a">sveinse</th><td class="text" style="color: #8c4a4a">That is, I do know where it comes from: I added a dependency on qtbase from avahi.</td><td class="time"><a href="#t2016-08-15T17:54:06" class="time">17:54</a></td></tr>
<tr id="t2016-08-15T17:54:43"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">okay, so remove that and then dig into the dependency graph to see why qtbase depends on avahi.</td><td class="time"><a href="#t2016-08-15T17:54:43" class="time">17:54</a></td></tr>
<tr id="t2016-08-15T17:55:23"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">bitbake -u depexp -g qtbase may be of use, or bb whatdepends avahi qtbsae if you have bb, or a number of other options</td><td class="time"><a href="#t2016-08-15T17:55:23" class="time">17:55</a></td></tr>
<tr id="t2016-08-15T17:55:28"><th class="nick" style="background: #8c4a4a">sveinse</th><td class="text" style="color: #8c4a4a">I added a PACKAGECONFIG --enable-qt5 to avahi.</td><td class="time"><a href="#t2016-08-15T17:55:28" class="time">17:55</a></td></tr>
<tr id="t2016-08-15T17:55:36"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">they'll at least show the dependency graph, if not the *why*</td><td class="time"><a href="#t2016-08-15T17:55:36" class="time">17:55</a></td></tr>
<tr id="t2016-08-15T17:55:57"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">right, so obviously if that introduces a cycle, then we know qt must need avahi as well as avahi needing qt. so again, dig into the former</td><td class="time"><a href="#t2016-08-15T17:55:57" class="time">17:55</a></td></tr>
<tr id="t2016-08-15T17:55:58"><th class="nick" style="background: #8c4a4a">sveinse</th><td class="text" style="color: #8c4a4a">kergoth: wasn't there a dot that could show the deps?</td><td class="time"><a href="#t2016-08-15T17:55:58" class="time">17:55</a></td></tr>
<tr id="t2016-08-15T17:56:06"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">that's what bitbake -g is</td><td class="time"><a href="#t2016-08-15T17:56:06" class="time">17:56</a></td></tr>
<tr id="t2016-08-15T17:56:12"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">-u depexp gives an x11 gui to that info</td><td class="time"><a href="#t2016-08-15T17:56:12" class="time">17:56</a></td></tr>
<tr id="t2016-08-15T17:56:20"><th class="nick" style="background: #8c4a4a">sveinse</th><td class="text" style="color: #8c4a4a">ah, right</td><td class="time"><a href="#t2016-08-15T17:56:20" class="time">17:56</a></td></tr>
<tr id="t2016-08-15T17:56:34"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">but bitbake -g and examining the .dot files or using graph-tool woudl be an option too</td><td class="time"><a href="#t2016-08-15T17:56:34" class="time">17:56</a></td></tr>
<tr id="t2016-08-15T17:59:27"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">from a quick check with whatdepends, it's pulseaudio. qtbase wants both pulseaudio and libnss-mdns, both of which result in pulseaudio being built, and pulseaudio wants avahi.</td><td class="time"><a href="#t2016-08-15T17:59:27" class="time">17:59</a></td></tr>
<tr id="t2016-08-15T18:01:28"><th class="nick" style="background: #8c4a4a">sveinse</th><td class="text" style="color: #8c4a4a">yes, I just found the same thing: qtbase wants pulseaudio, which wants avahi. So when I setup avahi to depend on qt5base....</td><td class="time"><a href="#t2016-08-15T18:01:28" class="time">18:01</a></td></tr>
<tr id="t2016-08-15T18:02:50"><th class="nick" style="background: #8c4a4a">sveinse</th><td class="text" style="color: #8c4a4a">There is no way round this I suppose other than building the package twice? Make a new recipe avahi-qt5 which only packages libavai-qt5?</td><td class="time"><a href="#t2016-08-15T18:02:50" class="time">18:02</a></td></tr>
<tr id="t2016-08-15T18:03:09"><th class="nick" style="background: #8c4a4a">sveinse</th><td class="text" style="color: #8c4a4a">hmm, then you run a real risk of packages being out of sync...</td><td class="time"><a href="#t2016-08-15T18:03:09" class="time">18:03</a></td></tr>
<tr id="t2016-08-15T18:03:53"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">unless you don't want pulseaudio and can disable that in qtbase, yeah, i think that's about the only way, unless you arrange for special tasks to subvert the cycle</td><td class="time"><a href="#t2016-08-15T18:03:53" class="time">18:03</a></td></tr>
<tr id="t2016-08-15T18:04:48"><th class="nick" style="background: #8c4a4a">sveinse</th><td class="text" style="color: #8c4a4a">No, we don't use pulseaudio. So that might be the approach. Thanks</td><td class="time"><a href="#t2016-08-15T18:04:48" class="time">18:04</a></td></tr>
<tr id="t2016-08-15T18:05:52"><td class="action" colspan="2">* sveinse thinks fiddling in qt5 recipes is always a lot of fun</td><td><a href="#t2016-08-15T18:05:52" class="time">18:05</a></td></tr>
<tr id="t2016-08-15T18:07:26"><th class="nick" style="background: #5959a9">dmiess__</th><td class="text" style="color: #5959a9">Hi, I'm trying to get sshd running on a small image I'm creating but I'm running into some trouble. It seems that the start script isn't running because there is no file /etc/init.d/functions</td><td class="time"><a href="#t2016-08-15T18:07:26" class="time">18:07</a></td></tr>
<tr id="t2016-08-15T18:07:49"><th class="nick" style="background: #5959a9">dmiess__</th><td class="text" style="color: #5959a9">I've added the server to my image with the following line: IMAGE_FEATURES += "debug-tweaks ssh-server-openssh"</td><td class="time"><a href="#t2016-08-15T18:07:49" class="time">18:07</a></td></tr>
<tr id="t2016-08-15T18:44:54"><th class="nick" style="background: #8c4a4a">sveinse</th><td class="text" style="color: #8c4a4a">Wow. DISTRO_FEATURES_BACKFILL_CONSIDERED has to be yoctos most nonintuitive variable, IMHO.</td><td class="time"><a href="#t2016-08-15T18:44:54" class="time">18:44</a></td></tr>
<tr id="t2016-08-15T18:45:47"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">the concept is actually pretty simple. backfilled features are appended regardless of what you set DISTRO_FEATURES to. considered backfilled features are those you've explicitly decided you want disabled anyway.</td><td class="time"><a href="#t2016-08-15T18:45:47" class="time">18:45</a></td></tr>
<tr id="t2016-08-15T18:45:51"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">but the variable naming is perhaps not ideal</td><td class="time"><a href="#t2016-08-15T18:45:51" class="time">18:45</a></td></tr>
<tr id="t2016-08-15T18:46:22"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">backfill is needed to let the core change the default distro features even when external distros set (rather than add/remove) DISTRO_FEATURES in their distro .conf</td><td class="time"><a href="#t2016-08-15T18:46:22" class="time">18:46</a></td></tr>
<tr id="t2016-08-15T18:47:28"><th class="nick" style="background: #8c4a4a">sveinse</th><td class="text" style="color: #8c4a4a">But I use this to /remove/ functionality (pulseaudio in my case). So please explain BACKFILL? My lingual interpretation of "backFILL" and consider, suggests adding something, doesn't it?</td><td class="time"><a href="#t2016-08-15T18:47:28" class="time">18:47</a></td></tr>
<tr id="t2016-08-15T18:48:10"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">i just told you</td><td class="time"><a href="#t2016-08-15T18:48:10" class="time">18:48</a></td></tr>
<tr id="t2016-08-15T18:48:19"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">DISTRO_FEATURES_BACKFILL are items added to DISTRO_FEATURES behind the scenes</td><td class="time"><a href="#t2016-08-15T18:48:19" class="time">18:48</a></td></tr>
<tr id="t2016-08-15T18:48:24"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">it *is* adding something</td><td class="time"><a href="#t2016-08-15T18:48:24" class="time">18:48</a></td></tr>
<tr id="t2016-08-15T18:48:58"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">the _CONSIDERED part says you considered those items and want them not backfilled. as i said, that variable naming is likely not ideal. DISTRO_FEATURES_BACKFILL is named appropriately, but DISTRO_FEATURES_BACKFILL_CONSIDERED Is less than intuitive</td><td class="time"><a href="#t2016-08-15T18:48:58" class="time">18:48</a></td></tr>
<tr id="t2016-08-15T18:51:14"><th class="nick" style="background: #8c4a4a">sveinse</th><td class="text" style="color: #8c4a4a">okay. I'm not going to make this my fight anyways, I was just curious. Perhaps DISTRO_FEATURES_BACKFILL_OMIT or some other negative/subtractive statement would have been better. EOD for my part :D</td><td class="time"><a href="#t2016-08-15T18:51:14" class="time">18:51</a></td></tr>
<tr id="t2016-08-15T18:51:46"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">i'm agreeing with you. i said 2-3 times, the _CONSIDERED variable is likely named badly :P</td><td class="time"><a href="#t2016-08-15T18:51:46" class="time">18:51</a></td></tr>
<tr id="t2016-08-15T18:52:19"><th class="nick" style="background: #8c4a4a">sveinse</th><td class="text" style="color: #8c4a4a">yes, I got that XD</td><td class="time"><a href="#t2016-08-15T18:52:19" class="time">18:52</a></td></tr>
<tr id="t2016-08-15T18:52:35"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">not the first time our variable naming wasn't ideal</td><td class="time"><a href="#t2016-08-15T18:52:35" class="time">18:52</a></td></tr>
<tr id="t2016-08-15T18:54:12"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">sadly we're stuck with it unless we provide compatibility along the way</td><td class="time"><a href="#t2016-08-15T18:54:12" class="time">18:54</a></td></tr>
<tr id="t2016-08-15T18:54:23"><th class="nick" style="background: #8c4a4a">sveinse</th><td class="text" style="color: #8c4a4a">I find the obsession about using 'tmp' really fun</td><td class="time"><a href="#t2016-08-15T18:54:23" class="time">18:54</a></td></tr>
<tr id="t2016-08-15T18:55:08"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">over the years plenty of folks had moved the output of the build out of tmpdir, but once sstate was added that become not really possible due to how sstate packaging works (paths are all relative to the same root)</td><td class="time"><a href="#t2016-08-15T18:55:08" class="time">18:55</a></td></tr>
<tr id="t2016-08-15T18:55:23"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">would be nice to add support for that again by adding an intermediate path for the sstate archival</td><td class="time"><a href="#t2016-08-15T18:55:23" class="time">18:55</a></td></tr>
<tr id="t2016-08-15T18:56:16"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">worth noting that you can trivially rename it to something else, if you want. it's not an obession, it's a default directory name. TMPDIR = "${TOPDIR}/foo" for example</td><td class="time"><a href="#t2016-08-15T18:56:16" class="time">18:56</a></td></tr>
<tr id="t2016-08-15T18:56:45"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">having everything we do relative to $PWD was a key design consideration when we started the project -- we needed to stay self contained to avoid mucking with the user's system</td><td class="time"><a href="#t2016-08-15T18:56:45" class="time">18:56</a></td></tr>
<tr id="t2016-08-15T18:57:18"><th class="nick" style="background: #8c4a4a">sveinse</th><td class="text" style="color: #8c4a4a">that's fair enough, it just seems... odd</td><td class="time"><a href="#t2016-08-15T18:57:18" class="time">18:57</a></td></tr>
<tr id="t2016-08-15T18:57:44"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">how so? the vast majority of what ends up there is temporary, it's just intermediate artifacts of the build process.</td><td class="time"><a href="#t2016-08-15T18:57:44" class="time">18:57</a></td></tr>
<tr id="t2016-08-15T18:58:57"><th class="nick" style="background: #8c4a4a">sveinse</th><td class="text" style="color: #8c4a4a">And you have more than one tmp. each recipe has its own tmp and a work. So you'll end up typing tmp a lot when doing development</td><td class="time"><a href="#t2016-08-15T18:58:57" class="time">18:58</a></td></tr>
<tr id="t2016-08-15T19:00:29"><th class="nick" style="background: #8c4a4a">sveinse</th><td class="text" style="color: #8c4a4a">well, tmp/deploy/images is an output, not a temporary directory. But perhaps the thinking is that you have a build management system that fetches the artefacts from tmp/, moves it elsewhere and deletes the tmp dir</td><td class="time"><a href="#t2016-08-15T19:00:29" class="time">19:00</a></td></tr>
<tr id="t2016-08-15T19:02:07"><th class="nick" style="background: #8c4a4a">sveinse</th><td class="text" style="color: #8c4a4a">I haven't got any problems with this, I just raised my eyebrows a few times when getting used to this. I guess all build systems has its own things and quirks</td><td class="time"><a href="#t2016-08-15T19:02:07" class="time">19:02</a></td></tr>
<tr id="t2016-08-15T19:35:25"><th class="nick" style="background: #8c4a4a">sveinse</th><td class="text" style="color: #8c4a4a">Is it possible to exclude recipes from builds? We have a meta layer which provides recipes for our application and images. Depending on which BSP we use, different image recipes must be used. Unfortunately unreferenced recipes still fail on require, so we cannot collect all of them into one layer when a globbed BBFILES path is used in layer.conf</td><td class="time"><a href="#t2016-08-15T19:35:25" class="time">19:35</a></td></tr>
<tr id="t2016-08-15T19:48:41"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">sveinse: you can break up your repo so some appends are only used if the corresponding layer is included in teh configuration.</td><td class="time"><a href="#t2016-08-15T19:48:41" class="time">19:48</a></td></tr>
<tr id="t2016-08-15T19:48:42"><td class="part" colspan="2">*** Girafferson &lt;Girafferson!~Giraffers@2601:281:8500:95b0:5249:f3c:d4e2:30a9&gt; has left #yocto</td><td><a href="#t2016-08-15T19:48:42" class="time">19:48</a></td></tr>
<tr id="t2016-08-15T19:49:37"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">sveinse: add <a href="https://github.com/MentorEmbedded/meta-mentor/blob/master/meta-mel/conf/layer.conf#L5-L10" rel="nofollow">https://github.com/MentorEmbedded/meta-mentor/blob/master/meta-mel/conf/layer.conf#L5-L10</a> or equivalent (other layers do this too), then move your appends into a subdir based on the layer name (as used in BBFILE_COLLECTIONS, not the path on disk. i.e. 'openembedded-layer' not 'meta-oe')</td><td class="time"><a href="#t2016-08-15T19:49:37" class="time">19:49</a></td></tr>
<tr id="t2016-08-15T20:25:52"><th class="nick" style="background: #a25555">AgentElrond</th><td class="text" style="color: #a25555">Hmm.&nbsp;&nbsp;I'm guessing if I rename part of the path above the yocto build, the build will be invalidated or fail?</td><td class="time"><a href="#t2016-08-15T20:25:52" class="time">20:25</a></td></tr>
<tr id="t2016-08-15T20:26:13"><th class="nick" style="background: #a25555">AgentElrond</th><td class="text" style="color: #a25555">e.g. once a build has already finished, if I rename the directory to yocto_bob instead of yocto_default?</td><td class="time"><a href="#t2016-08-15T20:26:13" class="time">20:26</a></td></tr>
<tr id="t2016-08-15T20:27:45"><th class="nick" style="background: #adad5b">Girafferson</th><td class="text" style="color: #adad5b">I'm assuming all you'd need to do is source ae-init-build-env again</td><td class="time"><a href="#t2016-08-15T20:27:45" class="time">20:27</a></td></tr>
<tr id="t2016-08-15T20:27:54"><th class="nick" style="background: #adad5b">Girafferson</th><td class="text" style="color: #adad5b">oe*</td><td class="time"><a href="#t2016-08-15T20:27:54" class="time">20:27</a></td></tr>
<tr id="t2016-08-15T20:28:14"><th class="nick" style="background: #a25555">AgentElrond</th><td class="text" style="color: #a25555">I was afraid absolute paths would get baked into dependencies / caches / scripts / whatever</td><td class="time"><a href="#t2016-08-15T20:28:14" class="time">20:28</a></td></tr>
<tr id="t2016-08-15T20:28:28"><th class="nick" style="background: #a25555">AgentElrond</th><td class="text" style="color: #a25555">Perhaps my fears were groundless</td><td class="time"><a href="#t2016-08-15T20:28:28" class="time">20:28</a></td></tr>
<tr id="t2016-08-15T20:30:08"><td class="nickchange" colspan="2">*** milindur is now known as milindur_</td><td><a href="#t2016-08-15T20:30:08" class="time">20:30</a></td></tr>
<tr id="t2016-08-15T20:30:21"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">AgentElrond: you'll need to wipe tmp</td><td class="time"><a href="#t2016-08-15T20:30:21" class="time">20:30</a></td></tr>
<tr id="t2016-08-15T20:30:47"><td class="nickchange" colspan="2">*** milindur_ is now known as milindur</td><td><a href="#t2016-08-15T20:30:47" class="time">20:30</a></td></tr>
<tr id="t2016-08-15T20:32:20"><th class="nick" style="background: #a25555">AgentElrond</th><td class="text" style="color: #a25555">kergoth:&nbsp;&nbsp;Thanks, that's what I was afraid of.&nbsp;&nbsp;The tmp directory is some 3+ hours of building and 11+ GB of data.</td><td class="time"><a href="#t2016-08-15T20:32:20" class="time">20:32</a></td></tr>
<tr id="t2016-08-15T20:32:37"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">?</td><td class="time"><a href="#t2016-08-15T20:32:37" class="time">20:32</a></td></tr>
<tr id="t2016-08-15T20:32:44"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">if your sstate is outside of tmp, rebuilding from sstate is trivial</td><td class="time"><a href="#t2016-08-15T20:32:44" class="time">20:32</a></td></tr>
<tr id="t2016-08-15T20:32:46"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">doesn't take long at all</td><td class="time"><a href="#t2016-08-15T20:32:46" class="time">20:32</a></td></tr>
<tr id="t2016-08-15T20:33:01"><th class="nick" style="background: #a25555">AgentElrond</th><td class="text" style="color: #a25555">Well, my system might be very slow to compile</td><td class="time"><a href="#t2016-08-15T20:33:01" class="time">20:33</a></td></tr>
<tr id="t2016-08-15T20:33:07"><th class="nick" style="background: #a25555">AgentElrond</th><td class="text" style="color: #a25555">But I'll bear that in mind</td><td class="time"><a href="#t2016-08-15T20:33:07" class="time">20:33</a></td></tr>
<tr id="t2016-08-15T20:33:46"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">sstate is prebuilt binaries, the whole point of sstate is to *not* compile.</td><td class="time"><a href="#t2016-08-15T20:33:46" class="time">20:33</a></td></tr>
<tr id="t2016-08-15T20:33:53"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">builds from sstate == extracting some tarballs</td><td class="time"><a href="#t2016-08-15T20:33:53" class="time">20:33</a></td></tr>
<tr id="t2016-08-15T20:34:33"><th class="nick" style="background: #a25555">AgentElrond</th><td class="text" style="color: #a25555">Thank you for yet again correcting my ignorance</td><td class="time"><a href="#t2016-08-15T20:34:33" class="time">20:34</a></td></tr>
<tr id="t2016-08-15T20:35:05"><th class="nick" style="background: #a25555">AgentElrond</th><td class="text" style="color: #a25555">I'm TRYING to educate myself on some things via google and hands-on experience, but I still spam the IRC channel more than is necessary</td><td class="time"><a href="#t2016-08-15T20:35:05" class="time">20:35</a></td></tr>
<tr id="t2016-08-15T20:35:18"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">np</td><td class="time"><a href="#t2016-08-15T20:35:18" class="time">20:35</a></td></tr>
<tr id="t2016-08-15T20:35:34"><th class="nick" style="background: #4b904b">kergoth</th><td class="text" style="color: #4b904b">there's a lot to pick up, quite a learning curve. worthwhile, but still a lot of complexity to pick up</td><td class="time"><a href="#t2016-08-15T20:35:34" class="time">20:35</a></td></tr>
<tr id="t2016-08-15T22:05:17"><td class="other" colspan="2">-YoctoAutoBuilder- build #875 of nightly-ppc-lsb is complete: Success [build successful]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-ppc-lsb/builds/875" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-ppc-lsb/builds/875</a></td><td><a href="#t2016-08-15T22:05:17" class="time">22:05</a></td></tr>
<tr id="t2016-08-15T22:39:58"><td class="part" colspan="2">*** istarilucky &lt;istarilucky!~rlucca@189.112.127.225&gt; has left #yocto</td><td><a href="#t2016-08-15T22:39:58" class="time">22:39</a></td></tr>
<tr id="t2016-08-15T23:05:09"><td class="other" colspan="2">-YoctoAutoBuilder- build #890 of nightly-x86-lsb is complete: Success [build successful]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-x86-lsb/builds/890" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-x86-lsb/builds/890</a></td><td><a href="#t2016-08-15T23:05:09" class="time">23:05</a></td></tr>
<tr id="t2016-08-15T23:37:02"><td class="other" colspan="2">-YoctoAutoBuilder- build #902 of nightly-x86 is complete: Failure [failed BuildImages Running Sanity Tests]  Build details are at <a href="http://autobuilder.yoctoproject.org/main/builders/nightly-x86/builds/902" rel="nofollow">http://autobuilder.yoctoproject.org/main/builders/nightly-x86/builds/902</a></td><td><a href="#t2016-08-15T23:37:02" class="time">23:37</a></td></tr>
</table>
<div class="navigation"> <a href="%23yocto.2016-08-14.log.html">&#171; Sunday, 2016-08-14</a> <a href="index.html">Index</a> <a href="%23yocto.2016-08-16.log.html">Tuesday, 2016-08-16 &#187;</a> </div>

<div class="generatedby">
<p>Generated by irclog2html.py 2.11.0 by <a href="mailto:marius@pov.lt">Marius Gedminas</a>
 - find it at <a href="http://mg.pov.lt/irclog2html/">mg.pov.lt</a>!</p>
</div>
</body>
</html>
